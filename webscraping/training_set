,javascript_content,python_content,java_content,c#_content,php_content,android_content,html_content,jquery_content,c++_content,css_content
0,"{'title': 'How can I remove a specific item from an array in JavaScript?', 'question': 'How do I remove a specific value from an array? Something like:array.remove(value);Constraints: I have to usecoreJavaScript. Frameworks are not allowed.javascriptarraysShareImprove this questionFolloweditedFeb 6, 2023 at 14:23Muhammad Asadullah3,77311 gold badge2323 silver badges3838 bronze badgesaskedApr 23, 2011 at 22:17WalkerWalker133k2929 gold badges6969 silver badges9696 bronze badges', 'answers': 'Find theindexof the array element you want to remove usingindexOf, and then remove that index withsplice.The splice() method changes the contents of an array by removing\nexisting elements and/or adding new elements.const array = [2, 5, 9];\n\nconsole.log(array);\n\nconst index = array.indexOf(5);\nif (index > -1) { // only splice array when item is found\n  array.splice(index, 1); // 2nd parameter means remove one item only\n}\n\n// array = [2, 9]\nconsole.log(array);The second parameter ofspliceis the number of elements to remove. Note thatsplicemodifies the array in place and returns a new array containing the elements that have been removed.For the reason of completeness, here are functions. The first function removes only a single occurrence (i.e. removing the first match of5from[2,5,9,1,5,8,5]), while the second function removes all occurrences:function removeItemOnce(arr, value) {\n  var index = arr.indexOf(value);\n  if (index > -1) {\n    arr.splice(index, 1);\n  }\n  return arr;\n}\n\nfunction removeItemAll(arr, value) {\n  var i = 0;\n  while (i < arr.length) {\n    if (arr[i] === value) {\n      arr.splice(i, 1);\n    } else {\n      ++i;\n    }\n  }\n  return arr;\n}\n// Usage\nconsole.log(removeItemOnce([2,5,9,1,5,8,5], 5))\nconsole.log(removeItemAll([2,5,9,1,5,8,5], 5))In TypeScript, these functions can stay type-safe with a type parameter:function removeItem<T>(arr: Array<T>, value: T): Array<T> { \n  const index = arr.indexOf(value);\n  if (index > -1) {\n    arr.splice(index, 1);\n  }\n  return arr;\n}ShareImprove this answerFolloweditedJun 29, 2022 at 2:12community wiki32 revs, 27 users 13%Justin Liu\n\nEdited on 2016 OctoberDo it simple, intuitive and explicit (Occam\'s razor)Do it immutable (original array stays unchanged)Do it with standard JavaScript functions, if your browser doesn\'t support them -use polyfillIn this code example I usearray.filter(...)function to remove unwanted items from an array. This function doesn\'t change the original array and creates a new one. If your browser doesn\'t support this function (e.g. Internet Explorer before version 9, or Firefox before version 1.5), considerpolyfilling withcore-js.Be mindful though, creating a new array every time takes a big performance hit. If the list is very large (think 10k+ items) then consider using other methods.Removing item (ECMA-262 Edition 5 code AKA old style JavaScript)var value = 3\n\nvar arr = [1, 2, 3, 4, 5, 3]\n\narr = arr.filter(function(item) {\n    return item !== value\n})\n\nconsole.log(arr)\n// [ 1, 2, 4, 5 ]Removing item (ECMAScript 6 code)let value = 3\n\nlet arr = [1, 2, 3, 4, 5, 3]\n\narr = arr.filter(item => item !== value)\n\nconsole.log(arr)\n// [ 1, 2, 4, 5 ]IMPORTANTECMAScript 6() => {}arrow function syntax is not supported in Internet Explorer at all, Chrome before version 45, Firefox before version 22, and Safari before version 10. To use ECMAScript 6 syntax in old browsers you can useBabelJS.Removing multiple items (ECMAScript\xa07 code)An additional advantage of this method is that you can remove multiple itemslet forDeletion = [2, 3, 5]\n\nlet arr = [1, 2, 3, 4, 5, 3]\n\narr = arr.filter(item => !forDeletion.includes(item))\n// !!! Read below about array.includes(...) support !!!\n\nconsole.log(arr)\n// [ 1, 4 ]IMPORTANTarray.includes(...)function is not supported in Internet Explorer at all, Chrome before version 47, Firefox before version 43, Safari before version 9, and Edge before version 14 but you canpolyfill withcore-js.Removing multiple items (in the future, maybe)If the""This-Binding Syntax""proposal is ever accepted, you\'ll be able to do this:// array-lib.js\n\nexport function remove(...forDeletion) {\n    return this.filter(item => !forDeletion.includes(item))\n}\n\n// main.js\n\nimport { remove } from \'./array-lib.js\'\n\nlet arr = [1, 2, 3, 4, 5, 3]\n\n// :: This-Binding Syntax Proposal\n// using ""remove"" function as ""virtual method""\n// without extending Array.prototype\narr = arr::remove(2, 3, 5)\n\nconsole.log(arr)\n// [ 1, 4 ]Try it yourself in BabelJS :)ReferenceArray.prototype.includesFunctional compositionShareImprove this answerFolloweditedNov 15, 2023 at 10:11Lakshitha Perera39522 silver badges1313 bronze badgesansweredDec 19, 2013 at 19:54ujeenatorujeenator28.1k22 gold badges2626 silver badges2828 bronze badges\n\nI don\'t know how you are expectingarray.remove(int)to behave. There are three possibilities I can think of that you might want.To remove an element of an array at an indexi:array.splice(i, 1);If you want to remove every element with valuenumberfrom the array:for (var i = array.length - 1; i >= 0; i--) {\n if (array[i] === number) {\n  array.splice(i, 1);\n }\n}If you just want to make the element at indexino longer exist, but you don\'t want the indexes of the other elements to change:delete array[i];ShareImprove this answerFolloweditedSep 24, 2020 at 14:33Lioness1008,40166 gold badges1919 silver badges4949 bronze badgesansweredApr 23, 2011 at 22:20Peter OlsonPeter Olson142k4949 gold badges207207 silver badges247247 bronze badges\n\nIt depends on whether you want to keep an empty spot or not.If youdowant an empty slot:array[index] = undefined;If youdon\'twant an empty slot://To keep the original:\n//oldArray = [...array];\n\n//This modifies the array.\narray.splice(index, 1);And if you need the value of that item, you can just store the returned array\'s element:var value = array.splice(index, 1)[0];If you want to remove at either end of the array, you can usearray.pop()for the last one orarray.shift()for the first one (both return the value of the item as well).If you don\'t know the index of the item, you can usearray.indexOf(item)to get it (in aif()to get one item or in awhile()to get all of them).array.indexOf(item)returns either the index or-1if not found.ShareImprove this answerFolloweditedJun 16, 2020 at 4:51Andrew6,42211 gold badge5757 silver badges7575 bronze badgesansweredApr 23, 2011 at 22:32xavierm02xavierm028,68711 gold badge2121 silver badges2424 bronze badges\n\nA friend was having issues inInternet\xa0Explorer\xa08and showed me what he did. I told him it was wrong, and he told me he got the answer here. The current top answer will not work in all browsers (Internet\xa0Explorer\xa08 for example), and it will only remove the first occurrence of the item.Remove ALL instances from an arrayfunction removeAllInstances(arr, item) {\n   for (var i = arr.length; i--;) {\n     if (arr[i] === item) arr.splice(i, 1);\n   }\n}It loops through the array backwards (since indices and length will change as items are removed) and removes the item if it\'s found. It works in all browsers.ShareImprove this answerFolloweditedApr 8, 2021 at 17:35answeredAug 10, 2013 at 19:21Ben LeshBen Lesh108k4747 gold badges248248 silver badges233233 bronze badges\n\nThere are two major approachessplice():anArray.splice(index, 1);let fruits = [\'Apple\', \'Banana\', \'Mango\', \'Orange\']\n let removed = fruits.splice(2, 1);\n // fruits is [\'Apple\', \'Banana\', \'Orange\']\n // removed is [\'Mango\']delete:delete anArray[index];let fruits = [\'Apple\', \'Banana\', \'Mango\', \'Orange\']\n let removed = delete fruits(2);\n // fruits is [\'Apple\', \'Banana\', undefined, \'Orange\']\n // removed is trueBe careful when you use thedeletefor an array. It is good for deleting attributes of objects, but not so good for arrays. It is better to usesplicefor arrays.Keep in mind that when you usedeletefor an array you could get wrong results foranArray.length. In other words,deletewould remove the element, but it wouldn\'t update the value of the length property.You can also expect to have holes in index numbers after using delete, e.g. you could end up with having indexes 1, 3, 4, 8, 9, and 11 and length as it was before using delete. In that case, all indexedforloops would crash, since indexes are no longer sequential.If you are forced to usedeletefor some reason, then you should usefor eachloops when you need to loop through arrays. As the matter of fact, always avoid using indexedforloops, if possible. That way the code would be more robust and less prone to problems with indexes.ShareImprove this answerFolloweditedAug 10, 2023 at 9:09answeredDec 21, 2012 at 11:32SašaSaša4,67611 gold badge2828 silver badges4343 bronze badges\n\nArray.prototype.removeByValue = function (val) {\n  for (var i = 0; i < this.length; i++) {\n    if (this[i] === val) {\n      this.splice(i, 1);\n      i--;\n    }\n  }\n  return this;\n}\n\nvar fruits = [\'apple\', \'banana\', \'carrot\', \'orange\'];\nfruits.removeByValue(\'banana\');\n\nconsole.log(fruits);\n// -> [\'apple\', \'carrot\', \'orange\']ShareImprove this answerFolloweditedJun 14, 2022 at 4:15flosommerfeld64422 gold badges1111 silver badges2323 bronze badgesansweredApr 23, 2011 at 22:20ZirakZirak39.6k1313 gold badges8484 silver badges9292 bronze badges\n\nThere isn\'t any need to useindexOforsplice. However, it performs better if you only want to remove one occurrence of an element.Find and move (move):function move(arr, val) {\n  var j = 0;\n  for (var i = 0, l = arr.length; i < l; i++) {\n    if (arr[i] !== val) {\n      arr[j++] = arr[i];\n    }\n  }\n  arr.length = j;\n}UseindexOfandsplice(indexof):function indexof(arr, val) {\n  var i;\n  while ((i = arr.indexOf(val)) != -1) {\n    arr.splice(i, 1);\n  }\n}Use onlysplice(splice):function splice(arr, val) {\n  for (var i = arr.length; i--;) {\n    if (arr[i] === val) {\n      arr.splice(i, 1);\n    }\n  }\n}Run-times on Node.js for an array with 1000 elements (averaged over 10,000 runs):indexofis approximately 10 times slower thanmove. Even if improved by removing the call toindexOfinsplice, it performs much worse thanmove.Remove all occurrences:\n    move 0.0048 ms\n    indexof 0.0463 ms\n    splice 0.0359 ms\n\nRemove first occurrence:\n    move_one 0.0041 ms\n    indexof_one 0.0021 msShareImprove this answerFolloweditedSep 4, 2022 at 20:07Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredSep 19, 2013 at 1:53slosdslosd3,41422 gold badges2222 silver badges1717 bronze badges\n\nfilteris an elegant way to accomplish itwithout mutatingthe original arrayconst num = 3;\nlet arr = [1, 2, 3, 4];\nconst arr2 = arr.filter(x => x !== num);\nconsole.log(arr); // [1, 2, 3, 4]\nconsole.log(arr2); // [1, 2, 4]You can usefilterand then assign the result to the original array if you want to achieve a mutation removal behaviour.const num = 3;\nlet arr = [1, 2, 3, 4];\narr = arr.filter(x => x !== num);\nconsole.log(arr); // [1, 2, 4]By the way,filterwill remove all of the occurrences matched in the condition (not just the first occurrence) like you can see in the following exampleconst num = 3;\nlet arr = [1, 2, 3, 3, 3, 4];\narr = arr.filter(x => x !== num);\nconsole.log(arr); // [1, 2, 4]In case, you just want to remove the first occurrence, you can use thesplicemethodconst num = 3;\nlet arr = [1, 2, 3, 3, 3, 4];\nconst idx = arr.indexOf(num);\narr.splice(idx, idx !== -1 ? 1 : 0);\nconsole.log(arr); // [1, 2, 3, 3, 4]ShareImprove this answerFolloweditedMay 5 at 17:28answeredFeb 19, 2021 at 15:17Ran TurnerRan Turner17.1k99 gold badges5555 silver badges5858 bronze badges\n\nThis provides a predicate instead of a value.NOTE:it will update the given array, and return the affected rows.Usagevar removed = helper.remove(arr, row => row.id === 5 );\n\nvar removed = helper.removeAll(arr, row => row.name.startsWith(\'BMW\'));Definitionvar helper = {\n // Remove and return the first occurrence\n\n remove: function(array, predicate) {\n  for (var i = 0; i < array.length; i++) {\n   if (predicate(array[i])) {\n    return array.splice(i, 1);\n   }\n  }\n },\n\n // Remove and return all occurrences\n\n removeAll: function(array, predicate) {\n  var removed = [];\n\n  for (var i = 0; i < array.length; ) {\n   if (predicate(array[i])) {\n    removed.push(array.splice(i, 1));\n    continue;\n   }\n   i++;\n  }\n  return removed;\n },\n};ShareImprove this answerFolloweditedAug 1, 2021 at 8:39answeredMay 2, 2014 at 12:00amdamd21.2k66 gold badges5252 silver badges7070 bronze badges\n\nYou can do it easily with thefiltermethod:function remove(arrOriginal, elementToRemove){\n    return arrOriginal.filter(function(el){return el !== elementToRemove});\n}\nconsole.log(remove([1, 2, 1, 0, 3, 1, 4], 1));This removes all elements from the array and also works faster than a combination ofsliceandindexOf.ShareImprove this answerFolloweditedJan 31, 2021 at 11:47Masoud Aghaei78677 silver badges2121 bronze badgesansweredFeb 10, 2014 at 22:06Salvador DaliSalvador Dali220k150150 gold badges716716 silver badges759759 bronze badges\n\nJohn Resigposted a good implementation:// Array Remove - By John Resig (MIT Licensed)\nArray.prototype.remove = function(from, to) {\n  var rest = this.slice((to || from) + 1 || this.length);\n  this.length = from < 0 ? this.length + from : from;\n  return this.push.apply(this, rest);\n};If you don’t want to extend a global object, you can do something like the following, instead:// Array Remove - By John Resig (MIT Licensed)\nArray.remove = function(array, from, to) {\n    var rest = array.slice((to || from) + 1 || array.length);\n    array.length = from < 0 ? array.length + from : from;\n    return array.push.apply(array, rest);\n};But the main reason I am posting this is to warn users against the alternative implementation suggested in the comments on that page (Dec 14, 2007):Array.prototype.remove = function(from, to) {\n  this.splice(from, (to=[0, from || 1, ++to - from][arguments.length]) < 0 ? this.length + to : to);\n  return this.length;\n};It seems to work well at first, but through a painful process I discovered it fails when trying to remove the second to last element in an array. For example, if you have a 10-element array and you try to remove the 9th element with this:myArray.remove(8);You end up with an 8-element array. I don\'t know why, but I confirmed John\'s original implementation doesn\'t have this problem.ShareImprove this answerFolloweditedSep 4, 2022 at 19:38Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredAug 30, 2013 at 19:07RogerRoger2,26811 gold badge2121 silver badges2727 bronze badges\n\nYou can use ES6. For example to delete the value \'3\' in this case:var array=[\'1\',\'2\',\'3\',\'4\',\'5\',\'6\']\nvar newArray = array.filter((value)=>value!=\'3\');\nconsole.log(newArray);Output :[""1"", ""2"", ""4"", ""5"", ""6""]ShareImprove this answerFolloweditedOct 1, 2019 at 22:13darmis3,18511 gold badge2121 silver badges2222 bronze badgesansweredOct 4, 2016 at 8:07rajat44rajat445,09166 gold badges3030 silver badges3737 bronze badges\n\nUnderscore.jscan be used to solve issues with multiple browsers. It uses in-build browser methods if present. If they are absent like in the case of older Internet\xa0Explorer versions it uses its own custom methods.A simple example to remove elements from array (from the website):_.without([1, 2, 1, 0, 3, 1, 4], 0, 1); // => [2, 3, 4]ShareImprove this answerFolloweditedMay 21, 2017 at 11:29Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMay 30, 2014 at 9:57vatsalvatsal3,92322 gold badges2020 silver badges1919 bronze badges\n\nHere are a few ways toremove an item from an array using JavaScript.All the method describeddo not mutate the original array, and instead create a new one.If you know the index of an itemSuppose you have an array, and you want to remove an item in positioni.One method is to useslice():const items = [\'a\', \'b\', \'c\', \'d\', \'e\', \'f\']\nconst i = 3\nconst filteredItems = items.slice(0, i).concat(items.slice(i+1, items.length))\n\nconsole.log(filteredItems)slice()creates a new array with the indexes it receives. We simply create a new array, from start to the index we want to remove, and concatenate another array from the first position following the one we removed to the end of the array.If you know the valueIn this case, one good option is to usefilter(), which offers a moredeclarativeapproach:const items = [\'a\', \'b\', \'c\', \'d\', \'e\', \'f\']\nconst valueToRemove = \'c\'\nconst filteredItems = items.filter(item => item !== valueToRemove)\n\nconsole.log(filteredItems)This uses the ES6 arrow functions. You can use the traditional functions to support older browsers:const items = [\'a\', \'b\', \'c\', \'d\', \'e\', \'f\']\nconst valueToRemove = \'c\'\nconst filteredItems = items.filter(function(item) {\n  return item !== valueToRemove\n})\n\nconsole.log(filteredItems)or you can use Babel and transpile the ES6 code back to ES5 to make it more digestible to old browsers, yet write modern JavaScript in your code.Removing multiple itemsWhat if instead of a single item, you want to remove many items?Let\'s find the simplest solution.By indexYou can just create a function and remove items in series:const items = [\'a\', \'b\', \'c\', \'d\', \'e\', \'f\']\n\nconst removeItem = (items, i) =>\n  items.slice(0, i-1).concat(items.slice(i, items.length))\n\nlet filteredItems = removeItem(items, 3)\nfilteredItems = removeItem(filteredItems, 5)\n//[""a"", ""b"", ""c"", ""d""]\n\nconsole.log(filteredItems)By valueYou can search for inclusion inside the callback function:const items = [\'a\', \'b\', \'c\', \'d\', \'e\', \'f\']\nconst valuesToRemove = [\'c\', \'d\']\nconst filteredItems = items.filter(item => !valuesToRemove.includes(item))\n//\xa0[""a"", ""b"", ""e"", ""f""]\n\nconsole.log(filteredItems)Avoid mutating the original arraysplice()(not to be confused withslice()) mutates the original array, and should be avoided.(originally posted on my sitehttps://flaviocopes.com/how-to-remove-item-from-array/)ShareImprove this answerFolloweditedJul 26, 2020 at 9:45Bhargav Rao51.6k2929 gold badges124124 silver badges141141 bronze badgesansweredMay 4, 2018 at 5:17Flavio CopesFlavio Copes4,31144 gold badges2929 silver badges3030 bronze badges\n\nIf you want a new array with the deleted positions removed, you can always delete the specific element and filter out the array. It might need an extension of thearray objectfor browsers that don\'t implement the filter method, but in the long term it\'s easier since all you do is this:var my_array = [1, 2, 3, 4, 5, 6];\ndelete my_array[4];\nconsole.log(my_array.filter(function(a){return typeof a !== \'undefined\';}));It should display[1, 2, 3, 4, 6].ShareImprove this answerFolloweditedSep 1, 2019 at 20:30Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredOct 18, 2012 at 10:13LoupaxLoupax4,89666 gold badges4242 silver badges6969 bronze badges\n\nCheck out this code. It works in everymajor browser.remove_item = function(arr, value) {\n var b = \'\';\n for (b in arr) {\n  if (arr[b] === value) {\n   arr.splice(b, 1);\n   break;\n  }\n }\n return arr;\n};\n\nvar array = [1,3,5,6,5,9,5,3,55]\nvar res = remove_item(array,5);\nconsole.log(res)ShareImprove this answerFolloweditedFeb 2, 2021 at 23:45Masoud Aghaei78677 silver badges2121 bronze badgesansweredApr 2, 2013 at 10:56Ekramul HoqueEkramul Hoque5,11544 gold badges3131 silver badges3131 bronze badges\n\nRemoving a particular element/string from an array can be done in a one-liner:theArray.splice(theArray.indexOf(""stringToRemoveFromArray""), 1);where:theArray: the array you want to remove something particular fromstringToRemoveFromArray: the string you want to be removed and 1 is the number of elements you want to remove.NOTE: If ""stringToRemoveFromArray"" is not located in the array, this will remove the last element of the array.It\'s always good practice to check if the element exists in your array first, before removing it.if (theArray.indexOf(""stringToRemoveFromArray"") >= 0){\n   theArray.splice(theArray.indexOf(""stringToRemoveFromArray""), 1);\n}Depending if you have newer or older version of Ecmascript running on your client\'s computers:var array=[\'1\',\'2\',\'3\',\'4\',\'5\',\'6\']\nvar newArray = array.filter((value)=>value!=\'3\');ORvar array = [\'1\',\'2\',\'3\',\'4\',\'5\',\'6\'];\nvar newArray = array.filter(function(item){ return item !== \'3\' });Where \'3\' is the value you want to be removed from the array.\nThe array would then become :[\'1\',\'2\',\'4\',\'5\',\'6\']ShareImprove this answerFolloweditedJan 29, 2021 at 21:55answeredJan 8, 2019 at 14:34Max Alexander HannaMax Alexander Hanna3,75711 gold badge2929 silver badges4040 bronze badges\n\nES10This post summarizes common approaches to element removal from an array as ofECMAScript 2019(ES10).1. General cases1.1. Removing Array element by value using.splice()|In-place: Yes ||Removes duplicates: Yes(loop), No(indexOf) ||By value / index: By index |If you know the value you want to remove from an array you can use the splice method. First, you must identify the index of the target item. You then use the index as the start element and remove just one element.// With a \'for\' loop\nconst arr = [1, 2, 3, 4, 5, 6, 7, 8, 9, 0];\nfor( let i = 0; i < arr.length; i++){\n  if ( arr[i] === 5) {\n    arr.splice(i, 1);\n  }\n} // => [1, 2, 3, 4, 6, 7, 8, 9, 0]\n\n// With the .indexOf() method\nconst arr = [1, 2, 3, 4, 5, 6, 7, 8, 9, 0];\nconst i = arr.indexOf(5);\narr.splice(i, 1); // => [1, 2, 3, 4, 6, 7, 8, 9, 0]1.2. Removing Array element using the.filter()method|In-place: No ||Removes duplicates: Yes ||By value / index: By value |The specific element can befiltered outfrom the array, by providing a filtering function. Such function is then called for every element in the array.const value = 3\nlet arr = [1, 2, 3, 4, 5, 3]\narr = arr.filter(item => item !== value)\nconsole.log(arr)\n// [ 1, 2, 4, 5 ]1.3. Removing Array element by extendingArray.prototype|In-place: Yes/No (Depends on implementation) ||Removes duplicates: Yes/No (Depends on implementation) ||By value / index: By index / By value (Depends on implementation) |The prototype of Array can be extended with additional methods. Such methods will be then available to use on created arrays.Note:Extending prototypes of objects from the standard library of JavaScript (like Array) is considered by some as an antipattern.// In-place, removes all, by value implementation\nArray.prototype.remove = function(item) {\n    for (let i = 0; i < this.length; i++) {\n        if (this[i] === item) {\n            this.splice(i, 1);\n        }\n    }\n}\nconst arr1 = [1,2,3,1];\narr1.remove(1) // arr1 equals [2,3]\n\n// Non-stationary, removes first, by value implementation\nArray.prototype.remove = function(item) {\n    const arr = this.slice();\n    for (let i = 0; i < this.length; i++) {\n        if (arr[i] === item) {\n            arr.splice(i, 1);\n            return arr;\n        }\n    }\n    return arr;\n}\nlet arr2 = [1,2,3,1];\narr2 = arr2.remove(1) // arr2 equals [2,3,1]1.4. Removing Array element using thedeleteoperator|In-place: Yes ||Removes duplicates: No ||By value / index: By index |Using the delete operator does not affect the length property. Nor does it affect the indexes of subsequent elements. The array becomes sparse, which is a fancy way of saying the deleted item is not removed but becomes undefined.const arr = [1, 2, 3, 4, 5, 6];\ndelete arr[4]; // Delete element with index 4\nconsole.log( arr ); // [1, 2, 3, 4, undefined, 6]The delete operator is designed to remove properties from JavaScript objects, which arrays are objects.1.5. Removing Array element usingObjectutilities (>= ES10)|In-place: No ||Removes duplicates: Yes ||By value / index: By value |ES10 introducedObject.fromEntries, which can be used to create the desired Array from any Array-like object and filter unwanted elements during the process.const object = [1,2,3,4];\nconst valueToRemove = 3;\nconst arr = Object.values(Object.fromEntries(\n  Object.entries(object)\n  .filter(([ key, val ]) => val !== valueToRemove)\n));\nconsole.log(arr); // [1,2,4]2. Special cases2.1 Removing element if it\'s at the end of the Array2.1.1. Changing Arraylength|In-place: Yes ||Removes duplicates: No ||By value / index: N/A |JavaScript Array elements can be removed from the end of an array by setting the length property to a value less than the current value. Any element whose index is greater than or equal to the new length will be removed.const arr = [1, 2, 3, 4, 5, 6];\narr.length = 5; // Set length to remove element\nconsole.log( arr ); // [1, 2, 3, 4, 5]2.1.2. Using.pop()method|In-place: Yes ||Removes duplicates: No ||By value / index: N/A |The pop method removes the last element of the array, returns that element, and updates the length property. The pop method modifies the array on which it is invoked, This means unlike using delete the last element is removed completely and the array length reduced.const arr = [1, 2, 3, 4, 5, 6];\narr.pop(); // returns 6\nconsole.log( arr ); // [1, 2, 3, 4, 5]2.2. Removing element if it\'s at the beginning of the Array|In-place: Yes ||Removes duplicates: No ||By value / index: N/A |The.shift()method works much like the pop method except it removes the first element of a JavaScript array instead of the last. When the element is removed the remaining elements are shifted down.const arr = [1, 2, 3, 4];\narr.shift(); // returns 1\nconsole.log( arr ); // [2, 3, 4]2.3. Removing element if it\'s the only element in the Array|In-place: Yes ||Removes duplicates: N/A ||By value / index: N/A |The fastest technique is to set an array variable to an empty array.let arr = [1];\narr = []; //empty arrayAlternatively technique from 2.1.1 can be used by setting length to 0.ShareImprove this answerFolloweditedJan 2, 2022 at 16:33Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredApr 2, 2020 at 10:15M. TwarogM. Twarog2,57533 gold badges2222 silver badges4141 bronze badges\n\nYou can use lodash_.pull(mutate array),_.pullAt(mutate array) or_.without(does\'t mutate array),var array1 = [\'a\', \'b\', \'c\', \'d\']\n_.pull(array1, \'c\')\nconsole.log(array1) // [\'a\', \'b\', \'d\']\n\nvar array2 = [\'e\', \'f\', \'g\', \'h\']\n_.pullAt(array2, 0)\nconsole.log(array2) // [\'f\', \'g\', \'h\']\n\nvar array3 = [\'i\', \'j\', \'k\', \'l\']\nvar newArray = _.without(array3, \'i\') // [\'j\', \'k\', \'l\']\nconsole.log(array3) // [\'i\', \'j\', \'k\', \'l\']ShareImprove this answerFolloweditedAug 25, 2015 at 21:19answeredAug 25, 2015 at 19:34Chun YangChun Yang2,5412424 silver badges1616 bronze badges\n\nES6 & without mutation:  (October 2016)const removeByIndex = (list, index) =>\r\n      [\r\n        ...list.slice(0, index),\r\n        ...list.slice(index + 1)\r\n      ];\r\n         \r\noutput = removeByIndex([33,22,11,44],1) //=> [33,11,44]\r\n      \r\nconsole.log(output)ShareImprove this answerFolloweditedFeb 10, 2020 at 7:37dipenparmar123,29911 gold badge3232 silver badges4343 bronze badgesansweredOct 7, 2016 at 19:42Abdennour TOUMIAbdennour TOUMI91.5k4141 gold badges260260 silver badges267267 bronze badges\n\nPerformanceToday (2019-12-09) I conduct performance tests on macOS v10.13.6 (High Sierra) for chosen solutions. I showdelete(A), but I do not use it in comparison with other methods, because it left empty space in the array.The conclusionsthe fastest solution isarray.splice(C) (except Safari for small arrays where it has the second time)for big arrays,array.slice+splice(H) is the fastest immutable solution for Firefox and Safari;Array.from(B) is fastest in Chromemutable solutions are usually 1.5x-6x faster than immutablefor small tables on Safari, surprisingly the mutable solution (C) is slower than the immutable solution (G)DetailsIn tests, I remove the middle element from the array in different ways. TheA, Csolutions are in-place. TheB, D, E, F, G, Hsolutions are immutable.Results for an array with 10 elementsIn Chrome thearray.splice(C) is the fastest in-place solution. Thearray.filter(D) is the fastest immutable solution. The slowest isarray.slice(F). You can perform the test on your machinehere.Results for an array with 1.000.000 elementsIn Chrome thearray.splice(C) is the fastest in-place solution (thedelete(C) is similar fast - but it left an empty slot in the array (so it does not perform a \'full remove\')). Thearray.slice-splice(H) is the fastest immutable solution. The slowest isarray.filter(D and E). You can perform the test on your machinehere.var a = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9];\nvar log = (letter,array) => console.log(letter, array.join `,`);\n\nfunction A(array) {\n  var index = array.indexOf(5);\n  delete array[index];\n  log(\'A\', array);\n}\n\nfunction B(array) {\n  var index = array.indexOf(5);\n  var arr = Array.from(array);\n  arr.splice(index, 1)\n  log(\'B\', arr);\n}\n\nfunction C(array) {\n  var index = array.indexOf(5);\n  array.splice(index, 1);\n  log(\'C\', array);\n}\n\nfunction D(array) {\n  var arr = array.filter(item => item !== 5)\n  log(\'D\', arr);\n}\n\nfunction E(array) {\n  var index = array.indexOf(5);\n  var arr = array.filter((item, i) => i !== index)\n  log(\'E\', arr);\n}\n\nfunction F(array) {\n  var index = array.indexOf(5);\n  var arr = array.slice(0, index).concat(array.slice(index + 1))\n  log(\'F\', arr);\n}\n\nfunction G(array) {\n  var index = array.indexOf(5);\n  var arr = [...array.slice(0, index), ...array.slice(index + 1)]\n  log(\'G\', arr);\n}\n\nfunction H(array) {\n  var index = array.indexOf(5);\n  var arr = array.slice(0);\n  arr.splice(index, 1);\n  log(\'H\', arr);\n}\n\nA([...a]);\nB([...a]);\nC([...a]);\nD([...a]);\nE([...a]);\nF([...a]);\nG([...a]);\nH([...a]);This snippet only presents code used in performance tests - it does not perform tests itself.Comparison for browsers: Chrome v78.0.0, Safari v13.0.4, and Firefox v71.0.0ShareImprove this answerFolloweditedJan 26, 2021 at 9:12Ammar7566 bronze badgesansweredDec 9, 2019 at 16:04Kamil KiełczewskiKamil Kiełczewski90.1k3232 gold badges383383 silver badges360360 bronze badges\n\nOK,for example you have the array below:var num = [1, 2, 3, 4, 5];And we want to delete number 4. You can simply use the below code:num.splice(num.indexOf(4), 1); // num will be [1, 2, 3, 5];If you are reusing this function, you write a reusable function which will be attached to thenativearray function like below:Array.prototype.remove = Array.prototype.remove || function(x) {\n  const i = this.indexOf(x);\n  if(i===-1)\n      return;\n  this.splice(i, 1); // num.remove(5) === [1, 2, 3];\n}But how about if you have the below array instead with a few [5]s in the array?var num = [5, 6, 5, 4, 5, 1, 5];We need a loop to check them all, but an easier and more efficient way is using built-in JavaScript functions, so we write a function which use a filter like below instead:const _removeValue = (arr, x) => arr.filter(n => n!==x);\n//_removeValue([1, 2, 3, 4, 5, 5, 6, 5], 5) // Return [1, 2, 3, 4, 6]Also there are third-party libraries which do help you to do this, like Lodash or Underscore. For more information, look at lodash _.pull, _.pullAt or _.without.ShareImprove this answerFolloweditedSep 1, 2019 at 22:33Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMay 10, 2017 at 9:39AlirezaAlireza103k2727 gold badges275275 silver badges173173 bronze badges\n\nI\'m pretty new to JavaScript and needed this functionality. I merely wrote this:function removeFromArray(array, item, index) {\n  while((index = array.indexOf(item)) > -1) {\n    array.splice(index, 1);\n  }\n}Then when I want to use it://Set-up some dummy data\nvar dummyObj = {name:""meow""};\nvar dummyArray = [dummyObj, ""item1"", ""item1"", ""item2""];\n\n//Remove the dummy data\nremoveFromArray(dummyArray, dummyObj);\nremoveFromArray(dummyArray, ""item2"");Output - As expected.\n[""item1"", ""item1""]You may have different needs than I, so you can easily modify it to suit them. I hope this helps someone.ShareImprove this answerFolloweditedDec 30, 2014 at 16:17yckart33.2k99 gold badges123123 silver badges130130 bronze badgesansweredJan 16, 2014 at 11:27sofiaxsofiax62955 silver badges33 bronze badges\n\nI want to answer based onECMAScript\xa06. Assume you have an array like below:let arr = [1,2,3,4];If you want to delete at a special index like2, write the below code:arr.splice(2, 1); //=> arr became [1,2,4]But if you want to delete a special item like3and you don\'t know its index, do like below:arr = arr.filter(e => e !== 3); //=> arr became [1,2,4]Hint: please use an arrow function for filter callback unless you will get an empty array.ShareImprove this answerFolloweditedApr 12, 2022 at 4:18tagurit52555 silver badges1515 bronze badgesansweredOct 30, 2018 at 17:37AmerllicAAmerllicA31.6k1717 gold badges141141 silver badges166166 bronze badges\n\nUpdate:This method is recommended only if you cannot use ECMAScript 2015 (formerly known as ES6). If you can use it, other answers here provide much neater implementations.This gist herewill solve your problem, and also deletes all occurrences of the argument instead of just 1 (or a specified value).Array.prototype.destroy = function(obj){\n    // Return null if no objects were found and removed\n    var destroyed = null;\n\n    for(var i = 0; i < this.length; i++){\n\n        // Use while-loop to find adjacent equal objects\n        while(this[i] === obj){\n\n            // Remove this[i] and store it within destroyed\n            destroyed = this.splice(i, 1)[0];\n        }\n    }\n\n    return destroyed;\n}Usage:var x = [1, 2, 3, 3, true, false, undefined, false];\n\nx.destroy(3);         // => 3\nx.destroy(false);     // => false\nx;                    // => [1, 2, true, undefined]\n\nx.destroy(true);      // => true\nx.destroy(undefined); // => undefined\nx;                    // => [1, 2]\n\nx.destroy(3);         // => null\nx;                    // => [1, 2]ShareImprove this answerFolloweditedSep 1, 2017 at 22:41answeredMar 13, 2013 at 9:28zykadeliczykadelic1,1611212 silver badges1919 bronze badges\n\nYou should never mutate your array as this is against the functional programming pattern. You can create a new array without referencing the one you want to change data of using the ECMAScript\xa06 methodfilter;var myArray = [1, 2, 3, 4, 5, 6];Suppose you want to remove5from the array, you can simply do it like this:myArray = myArray.filter(value => value !== 5);This will give you a new array without the value you wanted to remove. So the result will be:[1, 2, 3, 4, 6]; // 5 has been removed from this arrayFor further understanding you can read the MDN documentation onArray.filter.ShareImprove this answerFolloweditedJan 16, 2022 at 19:09CommunityBot111 silver badgeansweredDec 26, 2017 at 19:32Adeel ImranAdeel Imran13.7k88 gold badges6464 silver badges7777 bronze badges\n\nIf you have complex objects in the array you can use filters?\nIn situations where$.inArrayorarray.spliceis not as easy to use. Especially if the objects are perhaps shallow in the array.E.g. if you have an object with an id field and you want the object removed from an array:this.array = this.array.filter(function(element, i) {\n    return element.id !== idToRemove;\n});ShareImprove this answerFolloweditedJul 17, 2023 at 10:09Codemaster United36522 silver badges1818 bronze badgesansweredApr 9, 2015 at 10:00flurdyflurdy3,9222929 silver badges3131 bronze badges\n\nYou can do a backward loop to make sure not to screw up the indexes, if there are multiple instances of the element.var myElement = ""chocolate"";\nvar myArray = [\'chocolate\', \'poptart\', \'poptart\', \'poptart\', \'chocolate\', \'poptart\', \'poptart\', \'chocolate\'];\n\n/* Important code */\nfor (var i = myArray.length - 1; i >= 0; i--) {\n  if (myArray[i] == myElement) myArray.splice(i, 1);\n}\nconsole.log(myArray);ShareImprove this answerFolloweditedAug 22, 2022 at 12:10answeredAug 12, 2013 at 17:56Jeff NoelJeff Noel7,61844 gold badges4242 silver badges6666 bronze badges\n\nA more modern,ECMAScript 2015(formerly known as Harmony or ES 6) approach. Given:const items = [1, 2, 3, 4];\nconst index = 2;Then:items.filter((x, i) => i !== index);Yielding:[1, 2, 4]You can useBabeland apolyfill serviceto ensure this is well supported across browsers.ShareImprove this answerFolloweditedApr 12, 2022 at 11:38tagurit52555 silver badges1515 bronze badgesansweredApr 25, 2016 at 10:21bjfletcherbjfletcher11.4k55 gold badges5555 silver badges6868 bronze badges'}","{'title': 'What does the ""yield"" keyword do in Python?', 'question': ""Want to improve this post?Provide detailed answers to this question, including citations and an explanation of why your answer is correct. Answers without enough detail may be edited or deleted.What functionality does theyieldkeyword in Python provide?For example, I'm trying to understand this code1:def _get_child_candidates(self, distance, min_dist, max_dist):\n    if self._leftchild and distance - max_dist < self._median:\n        yield self._leftchild\n    if self._rightchild and distance + max_dist >= self._median:\n        yield self._rightchildAnd this is the caller:result, candidates = [], [self]\nwhile candidates:\n    node = candidates.pop()\n    distance = node._get_dist(obj)\n    if distance <= max_dist and distance >= min_dist:\n        result.extend(node._values)\n    candidates.extend(node._get_child_candidates(distance, min_dist, max_dist))\nreturn resultWhat happens when the method_get_child_candidatesis called?\nIs a list returned? A single element? Is it called again? When will subsequent calls stop?1. This piece of code was written by Jochen Schulz (jrschulz), who made a great Python library for metric spaces. This is the link to the complete source:Module mspace.pythoniteratorgeneratoryieldShareImprove this questionFolloweditedMar 24 at 4:11Mateen Ulhaq26.6k2020 gold badges115115 silver badges147147 bronze badgesaskedOct 23, 2008 at 22:21Alex. S.Alex. S.146k2121 gold badges5656 silver badges6262 bronze badges"", 'answers': 'To understand whatyielddoes, you must understand whatgeneratorsare. And before you can understand generators, you must understanditerables.IterablesWhen you create a list, you can read its items one by one. Reading its items one by one is called iteration:>>> mylist = [1, 2, 3]\n>>> for i in mylist:\n...    print(i)\n1\n2\n3mylistis aniterable. When you use a list comprehension, you create a list, and so an iterable:>>> mylist = [x*x for x in range(3)]\n>>> for i in mylist:\n...    print(i)\n0\n1\n4Everything you can use ""for... in..."" on is an iterable;lists,strings, files...These iterables are handy because you can read them as much as you wish, but you store all the values in memory and this is not always what you want when you have a lot of values.GeneratorsGenerators areiterators, a kind of iterableyou can only iterate over once. Generators do not store all the values in memory,they generate the values on the fly:>>> mygenerator = (x*x for x in range(3))\n>>> for i in mygenerator:\n...    print(i)\n0\n1\n4It is just the same except you used()instead of[]. BUT, youcannotperformfor i in mygeneratora second time since generators can only be used once: they calculate 0, then forget about it and calculate 1, and end after calculating 4, one by one.Yieldyieldis a keyword that is used likereturn, except the function will return a generator.>>> def create_generator():\n...    mylist = range(3)\n...    for i in mylist:\n...        yield i*i\n...\n>>> mygenerator = create_generator() # create a generator\n>>> print(mygenerator) # mygenerator is an object!\n<generator object create_generator at 0xb7555c34>\n>>> for i in mygenerator:\n...     print(i)\n0\n1\n4Here it\'s a useless example, but it\'s handy when you know your function will return a huge set of values that you will only need to read once.To masteryield, you must understand thatwhen you call the function, the code you have written in the function body does not run.The function only returns the generator object, this is a bit tricky.Then, your code will continue from where it left off each timeforuses the generator.Now the hard part:The first time theforcalls the generator object created from your function, it will run the code in your function from the beginning until it hitsyield, then it\'ll return the first value of the loop. Then, each subsequent call will run another iteration of the loop you have written in the function and return the next value. This will continue until the generator is considered empty, which happens when the function runs without hittingyield. That can be because the loop has come to an end, or because you no longer satisfy an""if/else"".Your code explainedGenerator:# Here you create the method of the node object that will return the generator\ndef _get_child_candidates(self, distance, min_dist, max_dist):\n\n    # Here is the code that will be called each time you use the generator object:\n\n    # If there is still a child of the node object on its left\n    # AND if the distance is ok, return the next child\n    if self._leftchild and distance - max_dist < self._median:\n        yield self._leftchild\n\n    # If there is still a child of the node object on its right\n    # AND if the distance is ok, return the next child\n    if self._rightchild and distance + max_dist >= self._median:\n        yield self._rightchild\n\n    # If the function arrives here, the generator will be considered empty\n    # There are no more than two values: the left and the right childrenCaller:# Create an empty list and a list with the current object reference\nresult, candidates = list(), [self]\n\n# Loop on candidates (they contain only one element at the beginning)\nwhile candidates:\n\n    # Get the last candidate and remove it from the list\n    node = candidates.pop()\n\n    # Get the distance between obj and the candidate\n    distance = node._get_dist(obj)\n\n    # If the distance is ok, then you can fill in the result\n    if distance <= max_dist and distance >= min_dist:\n        result.extend(node._values)\n\n    # Add the children of the candidate to the candidate\'s list\n    # so the loop will keep running until it has looked\n    # at all the children of the children of the children, etc. of the candidate\n    candidates.extend(node._get_child_candidates(distance, min_dist, max_dist))\n\nreturn resultThis code contains several smart parts:The loop iterates on a list, but the list expands while the loop is being iterated. It\'s a concise way to go through all these nested data even if it\'s a bit dangerous since you can end up with an infinite loop. In this case,candidates.extend(node._get_child_candidates(distance, min_dist, max_dist))exhausts all the values of the generator, butwhilekeeps creating new generator objects which will produce different values from the previous ones since it\'s not applied on the same node.Theextend()method is a list object method that expects an iterable and adds its values to the list.Usually, we pass a list to it:>>> a = [1, 2]\n>>> b = [3, 4]\n>>> a.extend(b)\n>>> print(a)\n[1, 2, 3, 4]But in your code, it gets a generator, which is good because:You don\'t need to read the values twice.You may have a lot of children and you don\'t want them all stored in memory.And it works because Python does not care if the argument of a method is a list or not. Python expects iterables so it will work with strings, lists, tuples, and generators! This is called duck typing and is one of the reasons why Python is so cool. But this is another story, for another question...You can stop here, or read a little bit to see an advanced use of a generator:Controlling a generator exhaustion>>> class Bank(): # Let\'s create a bank, building ATMs\n...    crisis = False\n...    def create_atm(self):\n...        while not self.crisis:\n...            yield ""$100""\n>>> hsbc = Bank() # When everything\'s ok the ATM gives you as much as you want\n>>> corner_street_atm = hsbc.create_atm()\n>>> print(corner_street_atm.next())\n$100\n>>> print(corner_street_atm.next())\n$100\n>>> print([corner_street_atm.next() for cash in range(5)])\n[\'$100\', \'$100\', \'$100\', \'$100\', \'$100\']\n>>> hsbc.crisis = True # Crisis is coming, no more money!\n>>> print(corner_street_atm.next())\n<type \'exceptions.StopIteration\'>\n>>> wall_street_atm = hsbc.create_atm() # It\'s even true for new ATMs\n>>> print(wall_street_atm.next())\n<type \'exceptions.StopIteration\'>\n>>> hsbc.crisis = False # The trouble is, even post-crisis the ATM remains empty\n>>> print(corner_street_atm.next())\n<type \'exceptions.StopIteration\'>\n>>> brand_new_atm = hsbc.create_atm() # Build a new one to get back in business\n>>> for cash in brand_new_atm:\n...    print cash\n$100\n$100\n$100\n$100\n$100\n$100\n$100\n$100\n$100\n...Note:For Python 3, useprint(corner_street_atm.__next__())orprint(next(corner_street_atm))It can be useful for various things like controlling access to a resource.Itertools, your best friendTheitertoolsmodule contains special functions to manipulate iterables. Ever wish to duplicate a generator?\nChain two generators? Group values in a nested list with a one-liner?Map / Zipwithout creating another list?Then justimport itertools.An example? Let\'s see the possible orders of arrival for a four-horse race:>>> horses = [1, 2, 3, 4]\n>>> races = itertools.permutations(horses)\n>>> print(races)\n<itertools.permutations object at 0xb754f1dc>\n>>> print(list(itertools.permutations(horses)))\n[(1, 2, 3, 4),\n (1, 2, 4, 3),\n (1, 3, 2, 4),\n (1, 3, 4, 2),\n (1, 4, 2, 3),\n (1, 4, 3, 2),\n (2, 1, 3, 4),\n (2, 1, 4, 3),\n (2, 3, 1, 4),\n (2, 3, 4, 1),\n (2, 4, 1, 3),\n (2, 4, 3, 1),\n (3, 1, 2, 4),\n (3, 1, 4, 2),\n (3, 2, 1, 4),\n (3, 2, 4, 1),\n (3, 4, 1, 2),\n (3, 4, 2, 1),\n (4, 1, 2, 3),\n (4, 1, 3, 2),\n (4, 2, 1, 3),\n (4, 2, 3, 1),\n (4, 3, 1, 2),\n (4, 3, 2, 1)]Understanding the inner mechanisms of iterationIteration is a process implying iterables (implementing the__iter__()method) and iterators (implementing the__next__()method).\nIterables are any objects you can get an iterator from. Iterators are objects that let you iterate on iterables.There is more about it in this article abouthowforloops work.ShareImprove this answerFolloweditedMar 24 at 4:17Mateen Ulhaq26.6k2020 gold badges115115 silver badges147147 bronze badgesansweredOct 23, 2008 at 22:48Bite codeBite code591k116116 gold badges308308 silver badges334334 bronze badges\n\nShortcut to understandingyieldWhen you see a function withyieldstatements, apply this easy trick to understand what will happen:Insert a lineresult = []at the start of the function.Replace eachyield exprwithresult.append(expr).Insert a linereturn resultat the bottom of the function.Yay - no moreyieldstatements! Read and figure out the code.Compare the function to the original definition.This trick may give you an idea of the logic behind the function, but what actually happens withyieldis significantly different than what happens in the list-based approach. In many cases, the yield approach will be a lot more memory efficient and faster too. In other cases, this trick will get you stuck in an infinite loop, even though the original function works just fine. Read on to learn more...Don\'t confuse your iterables, iterators, and generatorsFirst, theiterator protocol- when you writefor x in mylist:\n    ...loop body...Python performs the following two steps:Gets an iterator formylist:Calliter(mylist)-> this returns an object with anext()method (or__next__()in Python 3).[This is the step most people forget to tell you about]Uses the iterator to loop over items:Keep calling thenext()method on the iterator returned from step 1. The return value fromnext()is assigned toxand the loop body is executed. If an exceptionStopIterationis raised from withinnext(), it means there are no more values in the iterator and the loop is exited.The truth is Python performs the above two steps anytime it wants toloop overthe contents of an object - so it could be a for loop, but it could also be code likeotherlist.extend(mylist)(whereotherlistis a Python list).Heremylistis aniterablebecause it implements the iterator protocol. In a user-defined class, you can implement the__iter__()method to make instances of your class iterable. This method should return aniterator. An iterator is an object with anext()method. It is possible to implement both__iter__()andnext()on the same class, and have__iter__()returnself. This will work for simple cases, but not when you want two iterators looping over the same object at the same time.So that\'s the iterator protocol, many objects implement this protocol:Built-in lists, dictionaries, tuples, sets, and files.User-defined classes that implement__iter__().Generators.Note that aforloop doesn\'t know what kind of object it\'s dealing with - it just follows the iterator protocol, and is happy to get item after item as it callsnext(). Built-in lists return their items one by one, dictionaries return thekeysone by one, files return thelinesone by one, etc. And generators return... well that\'s whereyieldcomes in:def f123():\n    yield 1\n    yield 2\n    yield 3\n\nfor item in f123():\n    print itemInstead ofyieldstatements, if you had threereturnstatements inf123()only the first would get executed, and the function would exit. Butf123()is no ordinary function. Whenf123()is called, itdoes notreturn any of the values in the yield statements! It returns a generator object. Also, the function does not really exit - it goes into a suspended state. When theforloop tries to loop over the generator object, the function resumes from its suspended state at the very next line after theyieldit previously returned from, executes the next line of code, in this case, ayieldstatement, and returns that as the next item. This happens until the function exits, at which point the generator raisesStopIteration, and the loop exits.So the generator object is sort of like an adapter - at one end it exhibits the iterator protocol, by exposing__iter__()andnext()methods to keep theforloop happy. At the other end, however, it runs the function just enough to get the next value out of it and puts it back in suspended mode.Why use generators?Usually, you can write code that doesn\'t use generators but implements the same logic. One option is to use the temporary list \'trick\' I mentioned before. That will not work in all cases, for e.g. if you have infinite loops, or it may make inefficient use of memory when you have a really long list. The other approach is to implement a new iterable classSomethingIterthat keeps the state in instance members and performs the next logical step in itsnext()(or__next__()in Python 3) method. Depending on the logic, the code inside thenext()method may end up looking very complex and prone to bugs. Here generators provide a clean and easy solution.ShareImprove this answerFolloweditedAug 10, 2023 at 4:30Michael M.10.8k1111 gold badges2020 silver badges4040 bronze badgesansweredOct 25, 2008 at 21:22user28409user2840939.6k22 gold badges1818 silver badges55 bronze badges\n\nThink of it this way:An iterator is just a fancy sounding term for an object that has anext()method.  So a yield-ed function ends up being something like this:Original version:def some_function():\n    for i in xrange(4):\n        yield i\n\nfor i in some_function():\n    print iThis is basically what the Python interpreter does with the above code:class it:\n    def __init__(self):\n        # Start at -1 so that we get 0 when we add 1 below.\n        self.count = -1\n\n    # The __iter__ method will be called once by the \'for\' loop.\n    # The rest of the magic happens on the object returned by this method.\n    # In this case it is the object itself.\n    def __iter__(self):\n        return self\n\n    # The next method will be called repeatedly by the \'for\' loop\n    # until it raises StopIteration.\n    def next(self):\n        self.count += 1\n        if self.count < 4:\n            return self.count\n        else:\n            # A StopIteration exception is raised\n            # to signal that the iterator is done.\n            # This is caught implicitly by the \'for\' loop.\n            raise StopIteration\n\ndef some_func():\n    return it()\n\nfor i in some_func():\n    print iFor more insight as to what\'s happening behind the scenes, theforloop can be rewritten to this:iterator = some_func()\ntry:\n    while 1:\n        print iterator.next()\nexcept StopIteration:\n    passDoes that make more sense or just confuse you more?  :)I should note that thisisan oversimplification for illustrative purposes. :)ShareImprove this answerFolloweditedMay 7, 2019 at 13:28Georgy13.4k77 gold badges6666 silver badges7575 bronze badgesansweredOct 23, 2008 at 22:28Jason BakerJason Baker197k137137 gold badges381381 silver badges520520 bronze badges\n\nTheyieldkeyword is reduced to two simple facts:If the compiler detects theyieldkeywordanywhereinside a function, that function no longer returns via thereturnstatement.Instead, itimmediatelyreturns alazy ""pending list"" objectcalled a generatorA generator is iterable. What is aniterable? It\'s anything like alist,set,range, dictionary view, or any other object with abuilt-in protocol for visiting each element in a certain order.In a nutshell: Most commonly,a generator is a lazy, incrementally-pending list, andyieldstatements allow you to use function notation to program the list valuesthe generator should incrementally spit out.Furthermore, advanced usage lets you use generators as coroutines (see below).generator = myYieldingFunction(...)  # basically a list (but lazy)\nx = list(generator)  # evaluate every element into a list\n\n   generator\n       v\n[x[0], ..., ???]\n\n         generator\n             v\n[x[0], x[1], ..., ???]\n\n               generator\n                   v\n[x[0], x[1], x[2], ..., ???]\n\n                       StopIteration exception\n[x[0], x[1], x[2]]     doneBasically, whenever theyieldstatement is encountered, the function pauses and saves its state, then emits ""the next return value in the \'list\'"" according to the python iterator protocol (to some syntactic construct like a for-loop that repeatedly callsnext()and catches aStopIterationexception, etc.). You might have encountered generators withgenerator expressions; generator functions are more powerful because you can pass arguments back into the paused generator function, using them to implement coroutines. More on that later.Basic Example (\'list\')Let\'s define a functionmakeRangethat\'s just like Python\'srange. CallingmakeRange(n)RETURNS A GENERATOR:def makeRange(n):\n    # return 0,1,2,...,n-1\n    i = 0\n    while i < n:\n        yield i\n        i += 1\n\n>>> makeRange(5)\n<generator object makeRange at 0x19e4aa0>To force the generator to immediately return its pending values, you can pass it intolist()(just like you could any iterable):>>> list(makeRange(5))\n[0, 1, 2, 3, 4]Comparing the example to ""just returning a list""The above example can be thought of as merely creating a list that you append to and return:# return a list                  #  # return a generator\ndef makeRange(n):                #  def makeRange(n):\n    """"""return [0,1,2,...,n-1]"""""" #      """"""return 0,1,2,...,n-1""""""\n    TO_RETURN = []               # \n    i = 0                        #      i = 0\n    while i < n:                 #      while i < n:\n        TO_RETURN += [i]         #          yield i\n        i += 1                   #          i += 1\n    return TO_RETURN             # \n\n>>> makeRange(5)\n[0, 1, 2, 3, 4]There is one major difference, though; see the last section.How you might use generatorsAn iterable is the last part of a list comprehension, and all generators are iterable, so they\'re often used like so:#                  < ITERABLE >\n>>> [x+10 for x in makeRange(5)]\n[10, 11, 12, 13, 14]To get a better feel for generators, you can play around with theitertoolsmodule (be sure to usechain.from_iterablerather thanchainwhen warranted). For example, you might even use generators to implement infinitely-long lazy lists likeitertools.count(). You could implement your owndef enumerate(iterable): zip(count(), iterable), or alternatively do so with theyieldkeyword in a while-loop.Please note: generators can actually be used for many more things, such asimplementing coroutines, non-deterministic programming, and other elegant things. However, the ""lazy lists"" viewpoint I present here is the most common use you will find.Behind the scenesThis is how the ""Python iteration protocol"" works. That is, what is going on when you dolist(makeRange(5)). This is what I describe earlier as a ""lazy, incremental list"".>>> x=iter(range(5))\n>>> next(x)  # calls x.__next__(); x.next() is deprecated\n0\n>>> next(x)\n1\n>>> next(x)\n2\n>>> next(x)\n3\n>>> next(x)\n4\n>>> next(x)\nTraceback (most recent call last):\n  File ""<stdin>"", line 1, in <module>\nStopIterationThe built-in functionnext()just calls the objects.__next__()function, which is a part of the ""iteration protocol"" and is found on all iterators. You can manually use thenext()function (and other parts of the iteration protocol) to implement fancy things, usually at the expense of readability, so try to avoid doing that...CoroutinesCoroutineexample:def interactiveProcedure():\n    userResponse = yield makeQuestionWebpage()\n    print(\'user response:\', userResponse)\n    yield \'success\'\n\ncoroutine = interactiveProcedure()\nwebFormData = next(coroutine)  # same as .send(None)\nuserResponse = serveWebForm(webFormData)\n\n# ...at some point later on web form submit...\n\nsuccessStatus = coroutine.send(userResponse)A coroutine (generators that generally accept input via theyieldkeyword e.g.nextInput = yield nextOutput, as a form of two-way communication) is basically a computation that is allowed to pause itself and request input (e.g. to what it should do next). When the coroutine pauses itself (when the running coroutine eventually hits ayieldkeyword), the computation is paused and control is inverted (yielded) back to the \'calling\' function (the frame which requested thenextvalue of the computation). The paused generator/coroutine remains paused until another invoking function (possibly a different function/context) requests the next value to unpause it (usually passing input data to direct the paused logic interior to the coroutine\'s code).You can think of Python coroutines as lazy incrementally-pending lists, where the next element doesn\'t just depend on the previous computation but also on input that you may opt to inject during the generation process.MinutiaeNormally, most people would not care about the following distinctions and probably want to stop reading here.In Python-speak, aniterableis any object which ""understands the concept of a for-loop"" like a list[1,2,3], and aniteratoris a specific instance of the requested for-loop like[1,2,3].__iter__(). Ageneratoris exactly the same as any iterator, except for the way it was written (with function syntax).When you request an iterator from a list, it creates a new iterator. However, when you request an iterator from an iterator (which you would rarely do), it just gives you a copy of itself.Thus, in the unlikely event that you are failing to do something like this...> x = myRange(5)\n> list(x)\n[0, 1, 2, 3, 4]\n> list(x)\n[]... then remember that a generator is aniterator; that is, it is one-time-use. If you want to reuse it, you should callmyRange(...)again. If you need to use the result twice, convert the result to a list and store it in a variablex = list(myRange(5)). Those who absolutely need to clone a generator (for example, who are doing terrifyingly hackish metaprogramming) can useitertools.tee(still works in Python 3) if absolutely necessary, since thecopyable iterator Python PEP standards proposalhas been deferred.ShareImprove this answerFolloweditedAug 10, 2023 at 4:37Michael M.10.8k1111 gold badges2020 silver badges4040 bronze badgesansweredJun 19, 2011 at 6:33ninjageckoninjagecko90.4k2424 gold badges141141 silver badges148148 bronze badges\n\nWhat does theyieldkeyword do in Python?Answer Outline/SummaryA function withyield, when called,returns aGenerator.Generators are iterators because they implement theiterator protocol, so you can iterate over them.A generator can also besent information, making it conceptually acoroutine.In Python 3, you candelegatefrom one generator to another in both directions withyield from.(Appendix critiques a couple of answers, including the top one, and discusses the use ofreturnin a generator.)Generators:yieldis only legal inside of a function definition, andthe inclusion ofyieldin a function definition makes it return a generator.The idea for generators comes from other languages (see footnote 1) with varying implementations. In Python\'s Generators, the execution of the code isfrozenat the point of the yield. When the generator is called (methods are discussed below) execution resumes and then freezes at the next yield.yieldprovides an\neasy way ofimplementing the iterator protocol, defined by the following two methods:__iter__and__next__.  Both of those methods\nmake an object an iterator that you could type-check with theIteratorAbstract Base\nClass from thecollectionsmodule.def func():\n    yield \'I am\'\n    yield \'a generator!\'Let\'s do some introspection:>>> type(func)                 # A function with yield is still a function\n<type \'function\'>\n>>> gen = func()\n>>> type(gen)                  # but it returns a generator\n<type \'generator\'>\n>>> hasattr(gen, \'__iter__\')   # that\'s an iterable\nTrue\n>>> hasattr(gen, \'__next__\')   # and with .__next__\nTrue                           # implements the iterator protocol.The generator type is a sub-type of iterator:from types import GeneratorType\nfrom collections.abc import Iterator\n\n>>> issubclass(GeneratorType, Iterator)\nTrueAnd if necessary, we can type-check like this:>>> isinstance(gen, GeneratorType)\nTrue\n>>> isinstance(gen, Iterator)\nTrueA feature of anIteratoris that once exhausted, you can\'t reuse or reset it:>>> list(gen)\n[\'I am\', \'a generator!\']\n>>> list(gen)\n[]You\'ll have to make another if you want to use its functionality again (see footnote 2):>>> list(func())\n[\'I am\', \'a generator!\']One can yield data programmatically, for example:def func(an_iterable):\n    for item in an_iterable:\n        yield itemThe above simple generator is also equivalent to the below - as of Python 3.3 you can useyield from:def func(an_iterable):\n    yield from an_iterableHowever,yield fromalso allows for delegation to subgenerators,\nwhich will be explained in the following section on cooperative delegation with sub-coroutines.Coroutines:yieldforms an expression that allows data to be sent into the generator (see footnote 3)Here is an example, take note of thereceivedvariable, which will point to the data that is sent to the generator:def bank_account(deposited, interest_rate):\n    while True:\n        calculated_interest = interest_rate * deposited \n        received = yield calculated_interest\n        if received:\n            deposited += received\n\n\n>>> my_account = bank_account(1000, .05)First, we must queue up the generator with the built-in function,next. It will\ncall the appropriatenextor__next__method, depending on the version of\nPython you are using:>>> first_year_interest = next(my_account)\n>>> first_year_interest\n50.0And now we can send data into the generator. (SendingNoneis\nthe same as callingnext.) :>>> next_year_interest = my_account.send(first_year_interest + 1000)\n>>> next_year_interest\n102.5Cooperative Delegation to Sub-Coroutine withyield fromNow, recall thatyield fromis available in Python 3. This allows us to delegate coroutines to a subcoroutine:def money_manager(expected_rate):\n    # must receive deposited value from .send():\n    under_management = yield                   # yield None to start.\n    while True:\n        try:\n            additional_investment = yield expected_rate * under_management \n            if additional_investment:\n                under_management += additional_investment\n        except GeneratorExit:\n            \'\'\'TODO: write function to send unclaimed funds to state\'\'\'\n            raise\n        finally:\n            \'\'\'TODO: write function to mail tax info to client\'\'\'\n        \n\ndef investment_account(deposited, manager):\n    \'\'\'very simple model of an investment account that delegates to a manager\'\'\'\n    # must queue up manager:\n    next(manager)      # <- same as manager.send(None)\n    # This is where we send the initial deposit to the manager:\n    manager.send(deposited)\n    try:\n        yield from manager\n    except GeneratorExit:\n        return manager.close()  # delegate?And now we can delegate functionality to a sub-generator and it can be used\nby a generator just as above:my_manager = money_manager(.06)\nmy_account = investment_account(1000, my_manager)\nfirst_year_return = next(my_account) # -> 60.0Now simulate adding another 1,000 to the account plus the return on the account (60.0):next_year_return = my_account.send(first_year_return + 1000)\nnext_year_return # 123.6You can read more about the precise semantics ofyield frominPEP 380.Other Methods: close and throwTheclosemethod raisesGeneratorExitat the point the function\nexecution was frozen. This will also be called by__del__so you\ncan put any cleanup code where you handle theGeneratorExit:my_account.close()You can also throw an exception which can be handled in the generator\nor propagated back to the user:import sys\ntry:\n    raise ValueError\nexcept:\n    my_manager.throw(*sys.exc_info())Raises:Traceback (most recent call last):\n  File ""<stdin>"", line 4, in <module>\n  File ""<stdin>"", line 6, in money_manager\n  File ""<stdin>"", line 2, in <module>\nValueErrorConclusionI believe I have covered all aspects of the following question:What does theyieldkeyword do in Python?It turns out thatyielddoes a lot. I\'m sure I could add even more\nthorough examples to this. If you want more or have some constructive criticism, let me know by commenting\nbelow.Appendix:Critique of the Top/Accepted Answer**It is confused about what makes aniterable, just using a list as an example. See my references above, but in summary: aniterablehas an__iter__method returning aniterator. Aniteratoradditionally provides a.__next__method, which is implicitly called byforloops until it raisesStopIteration, and once it does raiseStopIteration, it will continue to do so.It then uses a generator expression to describe what a generator is. Since a generator expression is simply a convenient way to create aniterator, it only confuses the matter, and we still have not yet gotten to theyieldpart.InControlling a generator exhaustionhe calls the.nextmethod (which only works in Python 2), when instead he should use the built-in function,next. Callingnext(obj)would be an appropriate layer of indirection, because his code does not work in Python 3.Itertools? This was not relevant to whatyielddoes at all.No discussion of the methods thatyieldprovides along with the new functionalityyield fromin Python 3.The top/accepted answer is a very incomplete answer.Critique of answer suggestingyieldin a generator expression or comprehension.The grammar currently allows any expression in a list comprehension.expr_stmt: testlist_star_expr (annassign | augassign (yield_expr|testlist) |\n                     (\'=\' (yield_expr|testlist_star_expr))*)\n...\nyield_expr: \'yield\' [yield_arg]\nyield_arg: \'from\' test | testlistSince yield is an expression, it has been touted by some as interesting to use it in comprehensions or generator expression - in spite of citing no particularly good use-case.The CPython core developers arediscussing deprecating its allowance.\nHere\'s a relevant post from the mailing list:On 30 January 2017 at 19:05, Brett Cannon  wrote:On Sun, 29 Jan 2017 at 16:39 Craig Rodrigues  wrote:I\'m OK with either approach.  Leaving things the way they are in Python 3\nis no good, IMHO.My vote is it be a SyntaxError since you\'re not getting what you expect from\nthe syntax.I\'d agree that\'s a sensible place for us to end up, as any code\nrelying on the current behaviour is really too clever to be\nmaintainable.In terms of getting there, we\'ll likely want:SyntaxWarning or DeprecationWarning in 3.7Py3k warning in 2.7.xSyntaxError in 3.8Cheers, Nick.--  Nick Coghlan   |   ncoghlan at gmail.com   |   Brisbane, AustraliaFurther, there is anoutstanding issue (10544)which seems to be pointing in the direction of thisneverbeing a good idea (PyPy, a Python implementation written in Python, is already raising syntax warnings.)Bottom line, until the developers of CPython tell us otherwise:Don\'t putyieldin a generator expression or comprehension.Thereturnstatement in a generatorInPython 3:In a generator function, thereturnstatement indicates that the generator is done and will causeStopIterationto be raised. The returned value (if any) is used as an argument to constructStopIterationand becomes theStopIteration.valueattribute.Historical note, inPython 2:\n""In a generator function, thereturnstatement is not allowed to include anexpression_list. In that context, a barereturnindicates that the generator is done and will causeStopIterationto be raised.""\nAnexpression_listis basically any number of expressions separated by commas - essentially, in Python 2, you can stop the generator withreturn, but you can\'t return a value.FootnotesThe languages CLU, Sather, and Icon were referenced in the proposal\nto introduce the concept of generators to Python. The general idea is\nthat a function can maintain an internal state and yield intermediate\ndata points on demand by the user. This promised to besuperior in performance\nto other approaches, including Python threading, which isn\'t even available on some systems.This means, for example, thatrangeobjects aren\'tIterators, even though they are iterable, because they can be reused. Like lists, their__iter__methods return iterator objects.yieldwas originally introduced as a statement, meaning that it\ncould only appear at the beginning of a line in a code block.\nNowyieldcreates a yield expression.https://docs.python.org/2/reference/simple_stmts.html#grammar-token-yield_stmtThis change wasproposedto allow a user to send data into the generator just as\none might receive it. To send data, one must be able to assign it to something, and\nfor that, a statement just won\'t work.ShareImprove this answerFolloweditedMay 19, 2023 at 22:37user1,24211 gold badge1212 silver badges3131 bronze badgesansweredJun 25, 2015 at 6:11Aaron Hall♦Aaron Hall388k9191 gold badges409409 silver badges336336 bronze badges\n\nyieldis just likereturn- it returns whatever you tell it to (as a generator). The difference is that the next time you call the generator, execution starts from the last call to theyieldstatement. Unlike return,the stack frame is not cleaned up when a yield occurs, however control is transferred back to the caller, so its state will resume the next time the function is called.In the case of your code, the functionget_child_candidatesis acting like an iterator so that when you extend your list, it adds one element at a time to the new list.list.extendcalls an iterator until it\'s exhausted. In the case of the code sample you posted, it would be much clearer to just return a tuple and append that to the list.ShareImprove this answerFolloweditedJan 24, 2019 at 9:39Fang2,33644 gold badges2727 silver badges4949 bronze badgesansweredOct 23, 2008 at 22:24Douglas MayleDouglas Mayle21.5k99 gold badges4343 silver badges5757 bronze badges\n\nThere\'s one extra thing to mention: a function that yields doesn\'t actually have to terminate. I\'ve written code like this:def fib():\n    last, cur = 0, 1\n    while True: \n        yield cur\n        last, cur = cur, last + curThen I can use it in other code like this:for f in fib():\n    if some_condition: break\n    coolfuncs(f);It really helps simplify some problems, and makes some things easier to work with.ShareImprove this answerFolloweditedApr 21, 2013 at 15:42answeredOct 24, 2008 at 8:44ClaudiuClaudiu227k169169 gold badges499499 silver badges692692 bronze badges\n\nFor those who prefer a minimal working example, meditate on this interactive Python session:>>> def f():\n...   yield 1\n...   yield 2\n...   yield 3\n... \n>>> g = f()\n>>> for i in g:\n...   print(i)\n... \n1\n2\n3\n>>> for i in g:\n...   print(i)\n... \n>>> # Note that this time nothing was printedShareImprove this answerFolloweditedFeb 2, 2020 at 22:09Oren5,12955 gold badges4040 silver badges6666 bronze badgesansweredJan 18, 2013 at 17:25DanielDaniel3,38611 gold badge1414 silver badges33 bronze badges\n\nTL;DRInstead of this:def square_list(n):\n    the_list = []                         # Replace\n    for x in range(n):\n        y = x * x\n        the_list.append(y)                # these\n    return the_list                       # linesdo this:def square_yield(n):\n    for x in range(n):\n        y = x * x\n        yield y                           # with this one.Whenever you find yourself building a list from scratch,yieldeach piece instead.This was my first ""aha"" moment with yield.yieldis asugaryway to saybuild a series of stuffSame behavior:>>> for square in square_list(4):\n...     print(square)\n...\n0\n1\n4\n9\n>>> for square in square_yield(4):\n...     print(square)\n...\n0\n1\n4\n9Different behavior:Yield issingle-pass: you can only iterate through once. When a function has a yield in it we call it agenerator function. And aniteratoris what it returns. Those terms are revealing. We lose the convenience of a container, but gain the power of a series that\'s computed as needed, and arbitrarily long.Yield islazy, it puts off computation. A function with a yield in itdoesn\'t actually execute at all when you call it.It returns aniterator objectthat remembers where it left off. Each time you callnext()on the iterator (this happens in a for-loop) execution inches forward to the next yield.returnraises StopIteration and ends the series (this is the natural end of a for-loop).Yield isversatile. Data doesn\'t have to be stored all together, it can be made available one at a time. It can be infinite.>>> def squares_all_of_them():\n...     x = 0\n...     while True:\n...         yield x * x\n...         x += 1\n...\n>>> squares = squares_all_of_them()\n>>> for _ in range(4):\n...     print(next(squares))\n...\n0\n1\n4\n9If you needmultiple passesand the series isn\'t too long, just calllist()on it:>>> list(square_yield(4))\n[0, 1, 4, 9]Brilliant choice of the wordyieldbecauseboth meaningsapply:yield— produce or provide (as in agriculture)...provide the next data in the series.yield— give way or relinquish (as in political power)...relinquish CPU execution until the iterator advances.ShareImprove this answerFolloweditedJan 4, 2019 at 15:30answeredMar 25, 2016 at 13:21Bob SteinBob Stein16.9k1010 gold badges9090 silver badges105105 bronze badges\n\nIt\'s returning a generator. I\'m not particularly familiar with Python, but I believe it\'s the same kind of thing asC#\'s iterator blocksif you\'re familiar with those.The key idea is that the compiler/interpreter/whatever does some trickery so that as far as the caller is concerned, they can keep calling next() and it will keep returning values -as if the generator method was paused. Now obviously you can\'t really ""pause"" a method, so the compiler builds a state machine for you to remember where you currently are and what the local variables etc look like. This is much easier than writing an iterator yourself.ShareImprove this answerFolloweditedOct 31, 2018 at 8:42answeredOct 23, 2008 at 22:26Jon SkeetJon Skeet1.5m881881 gold badges9.2k9.2k silver badges9.3k9.3k bronze badges\n\nYield gives you a generator.def get_odd_numbers(i):\n    return range(1, i, 2)\ndef yield_odd_numbers(i):\n    for x in range(1, i, 2):\n       yield x\nfoo = get_odd_numbers(10)\nbar = yield_odd_numbers(10)\nfoo\n[1, 3, 5, 7, 9]\nbar\n<generator object yield_odd_numbers at 0x1029c6f50>\nbar.next()\n1\nbar.next()\n3\nbar.next()\n5As you can see, in the first casefooholds the entire list in memory at once. It\'s not a big deal for a list with 5 elements, but what if you want a list of 5 million? Not only is this a huge memory eater, it also costs a lot of time to build at the time that the function is called.In the second case,barjust gives you a generator. A generator is an iterable--which means you can use it in aforloop, etc, but each value can only be accessed once. All the values are also not stored in memory at the same time; the generator object ""remembers"" where it was in the looping the last time you called it--this way, if you\'re using an iterable to (say) count to 50 billion, you don\'t have to count to 50 billion all at once and store the 50 billion numbers to count through.Again, this is a pretty contrived example, you probably would use itertools if you really wanted to count to 50 billion. :)This is the most simple use case of generators. As you said, it can be used to write efficient permutations, using yield to push things up through the call stack instead of using some sort of stack variable. Generators can also be used for specialized tree traversal, and all manner of other things.ShareImprove this answerFolloweditedMar 13, 2019 at 6:04Andreas2,5031010 gold badges2323 silver badges2525 bronze badgesansweredJan 16, 2013 at 6:42RBansalRBansal2,50911 gold badge1313 silver badges33 bronze badges\n\nHere is an example in plain language. I will provide a correspondence between high-level human concepts to low-level Python concepts.I want to operate on a sequence of numbers, but I don\'t want to bother myself with the creation of that sequence, I want only to focus on the operation I want to do. So, I do the following:I call you and tell you that I want a sequence of numbers that are calculated in a specific way, and I let you know what the algorithm is.This step corresponds todefining the generator function, i.e. the function containing ayield.Sometime later, I tell you, ""OK, get ready to tell me the sequence of numbers"".This step corresponds to calling the generator function which returns a generator object.Note that you don\'t tell me any numbers yet; you just grab your paper and pencil.I ask you, ""Tell me the next number"", and you tell me the first number; after that, you wait for me to ask you for the next number. It\'s your job to remember where you were, what numbers you have already said, and what is the next number. I don\'t care about the details.This step corresponds to callingnext(generator)on the generator object.(In Python 2,.nextwas a method of the generator object; in Python 3, it is named.__next__, but the proper way to call it is using the builtinnext()function just likelen()and.__len__)… repeat the previous step, until…eventually, you might come to an end. You don\'t tell me a number; you just shout, ""Hold your horses! I\'m done! No more numbers!""This step corresponds to the generator object ending its job, and raising aStopIterationexception.The generator function does not need to raise the exception. It\'s raised automatically when the function ends or issues areturn.This is what a generator does (a function that contains ayield); it starts executing on the firstnext(), pauses whenever it does ayield, and when asked for thenext()value it continues from the point it was last. It fits perfectly by design with the iterator protocol of Python, which describes how to sequentially request values.The most famous user of the iterator protocol is theforcommand in Python. So, whenever you do a:for item in sequence:it doesn\'t matter ifsequenceis a list, a string, a dictionary or a generatorobjectlike described above; the result is the same: you read items off a sequence one by one.Note thatdefining a function that contains ayieldkeyword is not the only way to create a generator; it\'s just the easiest way to create one.For more accurate information, read aboutiterator types, theyield statement, andgeneratorsin the Python documentation.ShareImprove this answerFolloweditedMay 20, 2023 at 18:21user1,24211 gold badge1212 silver badges3131 bronze badgesansweredOct 24, 2008 at 0:36tzottzot95.2k3030 gold badges147147 silver badges208208 bronze badges\n\nThere is one type of answer that I don\'t feel has been given yet, among the many great answers that describe how to use generators. Here is the programming language theory answer:Theyieldstatement in Python returns a generator. A generator in Python is a function that returnscontinuations(and specifically a type of coroutine, but continuations represent the more general mechanism to understand what is going on).Continuations in programming languages theory are a much more fundamental kind of computation, but they are not often used, because they are extremely hard to reason about and also very difficult to implement. But the idea of what a continuation is, is straightforward: it is the state of a computation that has not yet finished. In this state, the current values of variables, the operations that have yet to be performed, and so on, are saved. Then at some point later in the program the continuation can be invoked, such that the program\'s variables are reset to that state and the operations that were saved are carried out.Continuations, in this more general form, can be implemented in two ways. In thecall/ccway, the program\'s stack is literally saved and then when the continuation is invoked, the stack is restored.In continuation passing style (CPS), continuations are just normal functions (only in languages where functions are first class) which the programmer explicitly manages and passes around to subroutines. In this style, program state is represented by closures (and the variables that happen to be encoded in them) rather than variables that reside somewhere on the stack. Functions that manage control flow accept continuation as arguments (in some variations of CPS, functions may accept multiple continuations) and manipulate control flow by invoking them by simply calling them and returning afterwards. A very simple example of continuation passing style is as follows:def save_file(filename):\n  def write_file_continuation():\n    write_stuff_to_file(filename)\n\n  check_if_file_exists_and_user_wants_to_overwrite(write_file_continuation)In this (very simplistic) example, the programmer saves the operation of actually writing the file into a continuation (which can potentially be a very complex operation with many details to write out), and then passes that continuation (i.e, as a first-class closure) to another operator which does some more processing, and then calls it if necessary. (I use this design pattern a lot in actual GUI programming, either because it saves me lines of code or, more importantly, to manage control flow after GUI events trigger.)The rest of this post will, without loss of generality, conceptualize continuations as CPS, because it is a hell of a lot easier to understand and read.Now let\'s talk about generators in Python. Generators are a specific subtype of continuation. Whereascontinuations are able in general to save the state of acomputation(i.e., the program\'s call stack),generators are only able to save the state of iteration over aniterator. Although, this definition is slightly misleading for certain use cases of generators. For instance:def f():\n  while True:\n    yield 4This is clearly a reasonable iterable whose behavior is well defined -- each time the generator iterates over it, it returns 4 (and does so forever). But it isn\'t probably the prototypical type of iterable that comes to mind when thinking of iterators (i.e.,for x in collection: do_something(x)). This example illustrates the power of generators: if anything is an iterator, a generator can save the state of its iteration.To reiterate: Continuations can save the state of a program\'s stack and generators can save the state of iteration. This means that continuations are more a lot powerful than generators, but also that generators are a lot, lot easier. They are easier for the language designer to implement, and they are easier for the programmer to use (if you have some time to burn, try to read and understandthis page about continuations and call/cc).But you could easily implement (and conceptualize) generators as a simple, specific case of continuation passing style:Wheneveryieldis called, it tells the function to return a continuation.  When the function is called again, it starts from wherever it left off. So, in pseudo-pseudocode (i.e., not pseudocode, but not code) the generator\'snextmethod is basically as follows:class Generator():\n  def __init__(self,iterable,generatorfun):\n    self.next_continuation = lambda:generatorfun(iterable)\n\n  def next(self):\n    value, next_continuation = self.next_continuation()\n    self.next_continuation = next_continuation\n    return valuewhere theyieldkeyword is actually syntactic sugar for the real generator function, basically something like:def generatorfun(iterable):\n  if len(iterable) == 0:\n    raise StopIteration\n  else:\n    return (iterable[0], lambda:generatorfun(iterable[1:]))Remember that this is just pseudocode and the actual implementation of generators in Python is more complex. But as an exercise to understand what is going on, try to use continuation passing style to implement generator objects without use of theyieldkeyword.ShareImprove this answerFolloweditedMay 20, 2018 at 10:25Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredApr 4, 2013 at 14:56aestrivexaestrivex5,24033 gold badges2929 silver badges4444 bronze badges\n\nWhile a lot of answers show why you\'d use ayieldto create a generator, there are more uses foryield.  It\'s quite easy to make a coroutine, which enables the passing of information between two blocks of code.  I won\'t repeat any of the fine examples that have already been given about usingyieldto create a generator.To help understand what ayielddoes in the following code, you can use your finger to trace the cycle through any code that has ayield.  Every time your finger hits theyield, you have to wait for anextor asendto be entered.  When anextis called, you trace through the code until you hit theyield… the code on the right of theyieldis evaluated and returned to the caller… then you wait.  Whennextis called again, you perform another loop through the code.  However, you\'ll note that in a coroutine,yieldcan also be used with asend… which will send a value from the callerintothe yielding function. If asendis given, thenyieldreceives the value sent, and spits it out the left hand side… then the trace through the code progresses until you hit theyieldagain (returning the value at the end, as ifnextwas called).For example:>>> def coroutine():\n...     i = -1\n...     while True:\n...         i += 1\n...         val = (yield i)\n...         print(""Received %s"" % val)\n...\n>>> sequence = coroutine()\n>>> sequence.next()\n0\n>>> sequence.next()\nReceived None\n1\n>>> sequence.send(\'hello\')\nReceived hello\n2\n>>> sequence.close()ShareImprove this answerFollowansweredFeb 4, 2014 at 2:27Mike McKernsMike McKerns34.9k88 gold badges123123 silver badges143143 bronze badges\n\nThere is anotheryielduse and meaning (since Python 3.3):yield from <expr>FromPEP 380 -- Syntax for Delegating to a Subgenerator:A syntax is proposed for a generator to delegate part of its operations to another generator. This allows a section of code containing \'yield\' to be factored out and placed in another generator. Additionally, the subgenerator is allowed to return with a value, and the value is made available to the delegating generator.The new syntax also opens up some opportunities for optimisation when one generator re-yields values produced by another.Moreoverthiswill introduce (since Python 3.5):async def new_coroutine(data):\n   ...\n   await blocking_action()to avoid coroutines being confused with a regular generator (todayyieldis used in both).ShareImprove this answerFolloweditedJun 20, 2020 at 9:12CommunityBot111 silver badgeansweredJul 24, 2014 at 21:15Sławomir LenartSławomir Lenart8,17944 gold badges4848 silver badges6262 bronze badges\n\nAll great answers, however a bit difficult for newbies.I assume you have learned thereturnstatement.As an analogy,returnandyieldare twins.returnmeans \'return and stop\' whereas \'yield` means \'return, but continue\'Try to get a num_list withreturn.def num_list(n):\n    for i in range(n):\n        return iRun it:In [5]: num_list(3)\nOut[5]: 0See, you get only a single number rather than a list of them.returnnever allows you prevail happily, just implements once and quit.There comesyieldReplacereturnwithyield:In [10]: def num_list(n):\n    ...:     for i in range(n):\n    ...:         yield i\n    ...:\n\nIn [11]: num_list(3)\nOut[11]: <generator object num_list at 0x10327c990>\n\nIn [12]: list(num_list(3))\nOut[12]: [0, 1, 2]Now, you win to get all the numbers.Comparing toreturnwhich runs once and stops,yieldruns times you planed.\nYou can interpretreturnasreturn one of them, andyieldasreturn all of them. This is callediterable.One more step we can rewriteyieldstatement withreturnIn [15]: def num_list(n):\n    ...:     result = []\n    ...:     for i in range(n):\n    ...:         result.append(i)\n    ...:     return result\n\nIn [16]: num_list(3)\nOut[16]: [0, 1, 2]It\'s the core aboutyield.The difference between a listreturnoutputs and the objectyieldoutput is:You will always get [0, 1, 2] from a list object but only could retrieve them from \'the objectyieldoutput\' once. So, it has a new namegeneratorobject as displayed inOut[11]: <generator object num_list at 0x10327c990>.In conclusion, as a metaphor to grok it:returnandyieldare twinslistandgeneratorare twinsShareImprove this answerFolloweditedMay 28, 2018 at 9:06answeredNov 14, 2017 at 12:02WizardWizard21.3k2121 gold badges9191 silver badges155155 bronze badges\n\nFrom a programming viewpoint, the iterators are implemented asthunks.To implement concepts such as iterators, generators, concurrent execution via messages, etc., one usesmessages sent to a closure object, which has a dispatcher, and thedispatcher answers to ""messages""(this concept comes from Simula and is the central part ofSmalltalk).""next""is a message sent to a closure, created by the ""iter"" call.There are lots of ways to implement this computation. I used mutation, but it is possible to do this kind of computation without mutation, by returning the current value and the next yielder (making itreferential transparent).  Racket uses a sequence of transformations of the initial program in some intermediary languages, one of such rewriting making the yield operator to be transformed in some language with simpler operators.Here is a demonstration of how yield could be rewritten, which uses the structure of R6RS, but the semantics is identical to Python\'s. It\'s the same model of computation, and only a change in syntax is required to rewrite it using yield of Python.Welcome to Racket v6.5.0.3.\n\n-> (define gen\n     (lambda (l)\n       (define yield\n         (lambda ()\n           (if (null? l)\n               \'END\n               (let ((v (car l)))\n                 (set! l (cdr l))\n                 v))))\n       (lambda(m)\n         (case m\n           (\'yield (yield))\n           (\'init  (lambda (data)\n                     (set! l data)\n                     \'OK))))))\n-> (define stream (gen \'(1 2 3)))\n-> (stream \'yield)\n1\n-> (stream \'yield)\n2\n-> (stream \'yield)\n3\n-> (stream \'yield)\n\'END\n-> ((stream \'init) \'(a b))\n\'OK\n-> (stream \'yield)\n\'a\n-> (stream \'yield)\n\'b\n-> (stream \'yield)\n\'END\n-> (stream \'yield)\n\'END\n->ShareImprove this answerFolloweditedJan 21 at 14:10answeredAug 21, 2013 at 19:01alinsoaralinsoar15.6k44 gold badges6060 silver badges7777 bronze badges\n\nHere are some Python examples of how to actually implement generators as if Python did not provide syntactic sugar for them:As a Python generator:from itertools import islice\n\ndef fib_gen():\n    a, b = 1, 1\n    while True:\n        yield a\n        a, b = b, a + b\n\nassert [1, 1, 2, 3, 5] == list(islice(fib_gen(), 5))Using lexical closures instead of generatorsdef ftake(fnext, last):\n    return [fnext() for _ in xrange(last)]\n\ndef fib_gen2():\n    #funky scope due to python2.x workaround\n    #for python 3.x use nonlocal\n    def _():\n        _.a, _.b = _.b, _.a + _.b\n        return _.a\n    _.a, _.b = 0, 1\n    return _\n\nassert [1,1,2,3,5] == ftake(fib_gen2(), 5)Using object closures instead of generators(becauseClosuresAndObjectsAreEquivalent)class fib_gen3:\n    def __init__(self):\n        self.a, self.b = 1, 1\n\n    def __call__(self):\n        r = self.a\n        self.a, self.b = self.b, self.a + self.b\n        return r\n\nassert [1,1,2,3,5] == ftake(fib_gen3(), 5)ShareImprove this answerFolloweditedOct 24, 2017 at 10:46answeredOct 3, 2012 at 20:38Dustin GetzDustin Getz21.6k1515 gold badges8484 silver badges132132 bronze badges\n\nI was going to post ""read page 19 of Beazley\'s \'Python: Essential Reference\' for a quick description of generators"", but so many others have posted good descriptions already.Also, note thatyieldcan be used in coroutines as the dual of their use in generator functions.  Although it isn\'t the same use as your code snippet,(yield)can be used as an expression in a function.  When a caller sends a value to the method using thesend()method, then the coroutine will execute until the next(yield)statement is encountered.Generators and coroutines are a cool way to set up data-flow type applications.  I thought it would be worthwhile knowing about the other use of theyieldstatement in functions.ShareImprove this answerFollowansweredJan 28, 2013 at 1:37johnzacharyjohnzachary2,49522 gold badges1919 silver badges99 bronze badges\n\nHere is a simple example:def isPrimeNumber(n):\n    print ""isPrimeNumber({}) call"".format(n)\n    if n==1:\n        return False\n    for x in range(2,n):\n        if n % x == 0:\n            return False\n    return True\n\ndef primes (n=1):\n    while(True):\n        print ""loop step ---------------- {}"".format(n)\n        if isPrimeNumber(n): yield n\n        n += 1\n\nfor n in primes():\n    if n> 10:break\n    print ""writing result {}"".format(n)Output:loop step ---------------- 1\nisPrimeNumber(1) call\nloop step ---------------- 2\nisPrimeNumber(2) call\nloop step ---------------- 3\nisPrimeNumber(3) call\nwriting result 3\nloop step ---------------- 4\nisPrimeNumber(4) call\nloop step ---------------- 5\nisPrimeNumber(5) call\nwriting result 5\nloop step ---------------- 6\nisPrimeNumber(6) call\nloop step ---------------- 7\nisPrimeNumber(7) call\nwriting result 7\nloop step ---------------- 8\nisPrimeNumber(8) call\nloop step ---------------- 9\nisPrimeNumber(9) call\nloop step ---------------- 10\nisPrimeNumber(10) call\nloop step ---------------- 11\nisPrimeNumber(11) callI am not a Python developer, but it looks to meyieldholds the position of program flow and the next loop start from ""yield"" position. It seems like it is waiting at that position, and just before that, returning a value outside, and next time continues to work.It seems to be an interesting and nice ability :DShareImprove this answerFolloweditedApr 4, 2023 at 5:58xralf3,8504545 gold badges136136 silver badges211211 bronze badgesansweredDec 20, 2013 at 13:07Engin OZTURKEngin OZTURK2,11522 gold badges2121 silver badges1313 bronze badges\n\nHere is a mental image of whatyielddoes.I like to think of a thread as having a stack (even when it\'s not implemented that way).When a normal function is called, it puts its local variables on the stack, does some computation, then clears the stack and returns. The values of its local variables are never seen again.With ayieldfunction, when its code begins to run (i.e. after the function is called, returning a generator object, whosenext()method is then invoked), it similarly puts its local variables onto the stack and computes for a while. But then, when it hits theyieldstatement, before clearing its part of the stack and returning, it takes a snapshot of its local variables and stores them in the generator object. It also writes down the place where it\'s currently up to in its code (i.e. the particularyieldstatement).So it\'s a kind of a frozen function that the generator is hanging onto.Whennext()is called subsequently, it retrieves the function\'s belongings onto the stack and re-animates it. The function continues to compute from where it left off, oblivious to the fact that it had just spent an eternity in cold storage.Compare the following examples:def normalFunction():\n    return\n    if False:\n        pass\n\ndef yielderFunction():\n    return\n    if False:\n        yield 12When we call the second function, it behaves very differently to the first. Theyieldstatement might be unreachable, but if it\'s present anywhere, it changes the nature of what we\'re dealing with.>>> yielderFunction()\n<generator object yielderFunction at 0x07742D28>CallingyielderFunction()doesn\'t run its code, but makes a generator out of the code. (Maybe it\'s a good idea to name such things with theyielderprefix for readability.)>>> gen = yielderFunction()\n>>> dir(gen)\n[\'__class__\',\n ...\n \'__iter__\',    #Returns gen itself, to make it work uniformly with containers\n ...            #when given to a for loop. (Containers return an iterator instead.)\n \'close\',\n \'gi_code\',\n \'gi_frame\',\n \'gi_running\',\n \'next\',        #The method that runs the function\'s body.\n \'send\',\n \'throw\']Thegi_codeandgi_framefields are where the frozen state is stored. Exploring them withdir(..), we can confirm that our mental model above is credible.ShareImprove this answerFolloweditedMar 1, 2017 at 13:36answeredJun 14, 2013 at 16:36Evgeni SergeevEvgeni Sergeev23.2k1818 gold badges110110 silver badges127127 bronze badges\n\nImagine that you have created a remarkable machine that is capable of generating thousands and thousands of lightbulbs per day. The machine generates these lightbulbs in boxes with a unique serial number. You don\'t have enough space to store all of these lightbulbs at the same time, so you would like to adjust it to generate lightbulbs on-demand.Python generators don\'t differ much from this concept. Imagine that you have a function calledbarcode_generatorthat generates unique serial numbers for the boxes. Obviously, you can have a huge number of such barcodes returned by the function, subject to the hardware (RAM) limitations. A wiser, and space efficient, option is to generate those serial numbers on-demand.Machine\'s code:def barcode_generator():\n    serial_number = 10000  # Initial barcode\n    while True:\n        yield serial_number\n        serial_number += 1\n\n\nbarcode = barcode_generator()\nwhile True:\n    number_of_lightbulbs_to_generate = int(input(""How many lightbulbs to generate? ""))\n    barcodes = [next(barcode) for _ in range(number_of_lightbulbs_to_generate)]\n    print(barcodes)\n\n    # function_to_create_the_next_batch_of_lightbulbs(barcodes)\n\n    produce_more = input(""Produce more? [Y/n]: "")\n    if produce_more == ""n"":\n        breakNote thenext(barcode)bit.As you can see, we have a self-contained “function” to generate the next unique serial number each time. This function returns agenerator! As you can see, we are not calling the function each time we need a new serial number, but instead we are usingnext()given the generator to obtain the next serial number.Lazy IteratorsTo be more precise, this generator is alazy iterator! An iterator is an object that helps us traverse a sequence of objects. It\'s calledlazybecause it does not load all the items of the sequence in memory until they are needed. The use ofnextin the previous example is theexplicitway to obtain the next item from the iterator. Theimplicitway is using for loops:for barcode in barcode_generator():\n    print(barcode)This will print barcodes infinitely, yet you will not run out of memory.In other words, a generatorlooks likea function butbehaves likean iterator.Real-world application?Finally, real-world applications? They are usually useful when you work with big sequences. Imagine reading ahugefile from disk with billions of records. Reading the entire file in memory, before you can work with its content, will probably be infeasible (i.e., you will run out of memory).ShareImprove this answerFolloweditedOct 21, 2021 at 18:54answeredMar 23, 2019 at 13:55RafaelRafael7,17255 gold badges4545 silver badges5454 bronze badges\n\nAn easy example to understand what it is:yielddef f123():\n    for _ in range(4):\n        yield 1\n        yield 2\n\n\nfor i in f123():\n    print (i)The output is:1 2 1 2 1 2 1 2ShareImprove this answerFolloweditedFeb 2, 2020 at 18:21ZF0073,68188 gold badges3030 silver badges5252 bronze badgesansweredJan 2, 2017 at 12:09Gavriel CohenGavriel Cohen4,5653535 silver badges4141 bronze badges\n\nLike every answer suggests,yieldis used for creating a sequence generator. It\'s used for generating some sequence dynamically. For example, while reading a file line by line on a network, you can use theyieldfunction as follows:def getNextLines():\n   while con.isOpen():\n       yield con.read()You can use it in your code as follows:for line in getNextLines():\n    doSomeThing(line)Execution Control Transfer gotchaThe execution control will be transferred from getNextLines() to theforloop when yield is executed. Thus, every time getNextLines() is invoked, execution begins from the point where it was paused last time.Thus in short, a function with the following codedef simpleYield():\n    yield ""first time""\n    yield ""second time""\n    yield ""third time""\n    yield ""Now some useful value {}"".format(12)\n\nfor i in simpleYield():\n    print iwill print""first time""\n""second time""\n""third time""\n""Now some useful value 12""ShareImprove this answerFolloweditedMay 20, 2018 at 10:42Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJul 29, 2015 at 6:11Mangu Singh RajpurohitMangu Singh Rajpurohit11.2k44 gold badges7070 silver badges100100 bronze badges\n\n(My below answer only speaks from the perspective of using Python generator, not theunderlying implementation of generator mechanism, which involves some tricks of stack and heap manipulation.)Whenyieldis used instead of areturnin a python function, that function is turned into something special calledgenerator function. That function will return an object ofgeneratortype.Theyieldkeyword is a flag to notify the python compiler to treat such function specially.Normal functions will terminate once some value is returned from it. But with the help of the compiler, the generator functioncan be thought ofas resumable. That is, the execution context will be restored and the execution will continue from last run. Until you explicitly call return, which will raise aStopIterationexception (which is also part of the iterator protocol), or reach the end of the function. I found a lot of references aboutgeneratorbut thisonefrom thefunctional programming perspectiveis the most digestable.(Now I want to talk about the rationale behindgenerator, and theiteratorbased on my own understanding. I hope this can help you grasp theessential motivationof iterator and generator. Such concept shows up in other languages as well such as C#.)As I understand, when we want to process a bunch of data, we usually first store the data somewhere and then process it one by one. But thisnaiveapproach is problematic. If the data volume is huge, it\'s expensive to store them as a whole beforehand.So instead of storing thedataitself directly, why not store some kind ofmetadataindirectly, i.e.the logic how the data is computed.There are 2 approaches to wrap such metadata.The OO approach, we wrap the metadataas a class. This is the so-callediteratorwho implements the iterator protocol (i.e. the__next__(), and__iter__()methods). This is also the commonly seeniterator design pattern.The functional approach, we wrap the metadataas a function. This is\nthe so-calledgenerator function. But under the hood, the returnedgenerator objectstillIS-Aiterator because it also implements the iterator protocol.Either way, an iterator is created, i.e. some object that can give you the data you want. The OO approach may be a bit complex. Anyway, which one to use is up to you.ShareImprove this answerFolloweditedNov 23, 2018 at 1:38answeredMar 25, 2016 at 5:40smwikipediasmwikipedia63.4k9595 gold badges320320 silver badges496496 bronze badges\n\nIn summary, theyieldstatement transforms your function into a factory that produces a special object called ageneratorwhich wraps around the body of your original function. When thegeneratoris iterated, it executes your function  until it reaches the nextyieldthen suspends execution and evaluates to the value passed toyield. It repeats this process on each iteration until the path of execution exits the function. For instance,def simple_generator():\n    yield \'one\'\n    yield \'two\'\n    yield \'three\'\n\nfor i in simple_generator():\n    print isimply outputsone\ntwo\nthreeThe power comes from using the generator with a loop that calculates a sequence, the generator executes the loop stopping each time to \'yield\' the next result of the calculation, in this way it calculates a list on the fly, the benefit being the memory saved for especially large calculationsSay you wanted to create a your ownrangefunction that produces an iterable range of numbers, you could do it like so,def myRangeNaive(i):\n    n = 0\n    range = []\n    while n < i:\n        range.append(n)\n        n = n + 1\n    return rangeand use it like this;for i in myRangeNaive(10):\n    print iBut this is inefficient becauseYou create an array that you only use once (this wastes memory)This code actually loops over that array twice! :(Luckily Guido and his team were generous enough to develop generators so we could just do this;def myRangeSmart(i):\n    n = 0\n    while n < i:\n       yield n\n       n = n + 1\n    return\n\nfor i in myRangeSmart(10):\n    print iNow upon each iteration a function on the generator callednext()executes the function until it either reaches a \'yield\' statement in which it stops and  \'yields\' the value or reaches the end of the function. In this case on the first call,next()executes up to the yield statement and yield \'n\', on the next call it will execute the  increment statement, jump back to the \'while\', evaluate it, and if true, it will stop and yield \'n\' again, it will continue that way until the while condition returns false and the generator jumps to the end of the function.ShareImprove this answerFolloweditedMay 20, 2018 at 11:04Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredOct 13, 2016 at 13:43redbanditredbandit2,1821717 silver badges1212 bronze badges\n\nYield is an objectAreturnin a function will return a single value.If you wanta function to return a huge set of values, useyield.More importantly,yieldis abarrier.like barrier in the CUDA language, it will not transfer control until it gets\n  completed.That is, it will run the code in your function from the beginning until it hitsyield. Then, it’ll return the first value of the loop.Then, every other call will run the loop you have written in the function one more time, returning the next value until there isn\'t any value to return.ShareImprove this answerFolloweditedMay 20, 2018 at 10:45Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredSep 1, 2015 at 12:42Kaleem UllahKaleem Ullah6,97933 gold badges4343 silver badges4747 bronze badges\n\nMany people usereturnrather thanyield, but in some casesyieldcan be more efficient and easier to work with.Here is an example whichyieldis definitely best for:return(in function)import random\n\ndef return_dates():\n    dates = [] # With \'return\' you need to create a list then return it\n    for i in range(5):\n        date = random.choice([""1st"", ""2nd"", ""3rd"", ""4th"", ""5th"", ""6th"", ""7th"", ""8th"", ""9th"", ""10th""])\n        dates.append(date)\n    return datesyield(in function)def yield_dates():\n    for i in range(5):\n        date = random.choice([""1st"", ""2nd"", ""3rd"", ""4th"", ""5th"", ""6th"", ""7th"", ""8th"", ""9th"", ""10th""])\n        yield date # \'yield\' makes a generator automatically which works\n                   # in a similar way. This is much more efficient.Calling functionsdates_list = return_dates()\nprint(dates_list)\nfor i in dates_list:\n    print(i)\n\ndates_generator = yield_dates()\nprint(dates_generator)\nfor i in dates_generator:\n    print(i)Both functions do the same thing, butyielduses three lines instead of five and has one less variable to worry about.This is the result from the code:As you can see both functions do the same thing. The only difference isreturn_dates()gives a list andyield_dates()gives a generator.A real life example would be something like reading a file line by line or if you just want to make a generator.ShareImprove this answerFolloweditedMay 20, 2018 at 11:02Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredSep 10, 2016 at 11:37Tom FullerTom Fuller5,34077 gold badges3333 silver badges4242 bronze badges\n\nTheyieldkeyword simply collects returning results. Think ofyieldlikereturn +=ShareImprove this answerFolloweditedApr 23, 2016 at 3:16ballade4op522,22155 gold badges2828 silver badges4343 bronze badgesansweredNov 18, 2015 at 19:37Bahtiyar ÖzdereBahtiyar Özdere1,8881919 silver badges2222 bronze badges\n\nyieldis like a return element for a function. The difference is, that theyieldelement turns a function into a generator. A generator behaves just like a function until something is \'yielded\'. The generator stops until it is next called, and continues from exactly the same point as it started. You can get a sequence of all the \'yielded\' values in one, by callinglist(generator()).ShareImprove this answerFollowansweredMay 20, 2015 at 6:19WillWill1,1741212 silver badges3434 bronze badges'}","{'title': 'Why is processing a sorted array faster than processing an unsorted array?', 'question': 'In this C++ code, sorting the data (beforethe timed region) makes the primary loop ~6x faster:#include <algorithm>\n#include <ctime>\n#include <iostream>\n\nint main()\n{\n    // Generate data\n    const unsigned arraySize = 32768;\n    int data[arraySize];\n\n    for (unsigned c = 0; c < arraySize; ++c)\n        data[c] = std::rand() % 256;\n\n    // !!! With this, the next loop runs faster.\n    std::sort(data, data + arraySize);\n\n    // Test\n    clock_t start = clock();\n    long long sum = 0;\n    for (unsigned i = 0; i < 100000; ++i)\n    {\n        for (unsigned c = 0; c < arraySize; ++c)\n        {   // Primary loop.\n            if (data[c] >= 128)\n                sum += data[c];\n        }\n    }\n\n    double elapsedTime = static_cast<double>(clock()-start) / CLOCKS_PER_SEC;\n\n    std::cout << elapsedTime << \'\\n\';\n    std::cout << ""sum = "" << sum << \'\\n\';\n}Withoutstd::sort(data, data + arraySize);, the code runs in 11.54 seconds.With the sorted data, the code runs in 1.93 seconds.(Sorting itself takes more time than this one pass over the array, so it\'s not actually worth doing if we needed to calculate this for an unknown array.)Initially, I thought this might be just a language or compiler anomaly, so I tried Java:import java.util.Arrays;\nimport java.util.Random;\n\npublic class Main\n{\n    public static void main(String[] args)\n    {\n        // Generate data\n        int arraySize = 32768;\n        int data[] = new int[arraySize];\n\n        Random rnd = new Random(0);\n        for (int c = 0; c < arraySize; ++c)\n            data[c] = rnd.nextInt() % 256;\n\n        // !!! With this, the next loop runs faster\n        Arrays.sort(data);\n\n        // Test\n        long start = System.nanoTime();\n        long sum = 0;\n        for (int i = 0; i < 100000; ++i)\n        {\n            for (int c = 0; c < arraySize; ++c)\n            {   // Primary loop.\n                if (data[c] >= 128)\n                    sum += data[c];\n            }\n        }\n\n        System.out.println((System.nanoTime() - start) / 1000000000.0);\n        System.out.println(""sum = "" + sum);\n    }\n}With a similar but less extreme result.My first thought was that sorting brings the data into thecache, but that\'s silly because the array was just generated.What is going on?Why is processing a sorted array faster than processing an unsorted array?The code is summing up some independent terms, so the order should not matter.Related / follow-up Q&Asabout the same effect with different/later compilers and options:Why is processing an unsorted array the same speed as processing a sorted array with modern x86-64 clang?gcc optimization flag -O3 makes code slower than -O2javac++performancecpu-architecturebranch-predictionShareImprove this questionFolloweditedNov 27, 2023 at 22:14Peter Cordes351k4949 gold badges674674 silver badges927927 bronze badgesaskedJun 27, 2012 at 13:51GManNickGGManNickG501k5353 gold badges502502 silver badges549549 bronze badges', 'answers': 'You are a victim ofbranch predictionfail.What is Branch Prediction?Consider a railroad junction:Imageby Mecanismo, via Wikimedia Commons. Used under theCC-By-SA 3.0license.Now for the sake of argument, suppose this is back in the 1800s - before long-distance or radio communication.You are a blind operator of a junction and you hear a train coming. You have no idea which way it is supposed to go. You stop the train to ask the driver which direction they want. And then you set the switch appropriately.Trains are heavy and have a lot of inertia, so they take forever to start up and slow down.Is there a better way? You guess which direction the train will go!If you guessed right, it continues on.If you guessed wrong, the driver will stop, back up, and yell at you to flip the switch. Then it can restart down the other path.If you guess right every time, the train will never have to stop.If you guess wrong too often, the train will spend a lot of time stopping, backing up, and restarting.Consider an if-statement:At the processor level, it is a branch instruction:You are a processor and you see a branch. You have no idea which way it will go. What do you do? You halt execution and wait until the previous instructions are complete. Then you continue down the correct path.Modern processors are complicated and have long pipelines. This means they take forever to ""warm up"" and ""slow down"".Is there a better way? You guess which direction the branch will go!If you guessed right, you continue executing.If you guessed wrong, you need to flush the pipeline and roll back to the branch. Then you can restart down the other path.If you guess right every time, the execution will never have to stop.If you guess wrong too often, you spend a lot of time stalling, rolling back, and restarting.This is branch prediction. I admit it\'s not the best analogy since the train could just signal the direction with a flag. But in computers, the processor doesn\'t know which direction a branch will go until the last moment.How would you strategically guess to minimize the number of times that the train must back up and go down the other path? You look at the past history! If the train goes left 99% of the time, then you guess left. If it alternates, then you alternate your guesses. If it goes one way every three times, you guess the same...In other words, you try to identify a pattern and follow it.This is more or less how branch predictors work.Most applications have well-behaved branches. Therefore, modern branch predictors will typically achieve >90% hit rates. But when faced with unpredictable branches with no recognizable patterns, branch predictors are virtually useless.Further reading:""Branch predictor"" article on Wikipedia.As hinted from above, the culprit is this if-statement:if (data[c] >= 128)\n    sum += data[c];Notice that the data is evenly distributed between 0 and 255. When the data is sorted, roughly the first half of the iterations will not enter the if-statement. After that, they will all enter the if-statement.This is very friendly to the branch predictor since the branch consecutively goes the same direction many times. Even a simple saturating counter will correctly predict the branch except for the few iterations after it switches direction.Quick visualization:T = branch taken\nN = branch not taken\n\ndata[] = 0, 1, 2, 3, 4, ... 126, 127, 128, 129, 130, ... 250, 251, 252, ...\nbranch = N  N  N  N  N  ...   N    N    T    T    T  ...   T    T    T  ...\n\n       = NNNNNNNNNNNN ... NNNNNNNTTTTTTTTT ... TTTTTTTTTT  (easy to predict)However, when the data is completely random, the branch predictor is rendered useless, because it can\'t predict random data. Thus there will probably be around 50% misprediction (no better than random guessing).data[] = 226, 185, 125, 158, 198, 144, 217, 79, 202, 118,  14, 150, 177, 182, ...\nbranch =   T,   T,   N,   T,   T,   T,   T,  N,   T,   N,   N,   T,   T,   T  ...\n\n       = TTNTTTTNTNNTTT ...   (completely random - impossible to predict)What can be done?If the compiler isn\'t able to optimize the branch into a conditional move, you can try some hacks if you are willing to sacrifice readability for performance.Replace:if (data[c] >= 128)\n    sum += data[c];with:int t = (data[c] - 128) >> 31;\nsum += ~t & data[c];This eliminates the branch and replaces it with some bitwise operations.(Note that this hack is not strictly equivalent to the original if-statement. But in this case, it\'s valid for all the input values ofdata[].)Benchmarks: Core i7 920 @ 3.5 GHzC++ - Visual Studio 2010 - x64 ReleaseScenarioTime (seconds)Branching - Random data11.777Branching - Sorted data2.352Branchless - Random data2.564Branchless - Sorted data2.587Java - NetBeans 7.1.1 JDK 7 - x64ScenarioTime (seconds)Branching - Random data10.93293813Branching - Sorted data5.643797077Branchless - Random data3.113581453Branchless - Sorted data3.186068823Observations:With the Branch:There is a huge difference between the sorted and unsorted data.With the Hack:There is no difference between sorted and unsorted data.In the C++ case, the hack is actually a tad slower than with the branch when the data is sorted.A general rule of thumb is to avoid data-dependent branching in critical loops (such as in this example).Update:GCC 4.6.1 with-O3or-ftree-vectorizeon x64 is able to generate a conditional move, so there is no difference between the sorted and unsorted data - both are fast.  This is called ""if-conversion"" (to branchless) and is necessary for vectorization but also sometimes good for scalar.(Or somewhat fast: for the already-sorted case,cmovcan be slower especially if GCC puts it on the critical path instead of justadd, especially on Intel before Broadwell wherecmovhas 2-cycle latency:gcc optimization flag -O3 makes code slower than -O2)VC++ 2010 is unable to generate conditional moves for this branch even under/Ox.Intel C++ Compiler(ICC) 11 does something miraculous. Itinterchanges the two loops, thereby hoisting the unpredictable branch to the outer loop. Not only is it immune to the mispredictions, it\'s also twice as fast as whatever VC++ and GCC can generate! In other words, ICC took advantage of the test-loop to defeat the benchmark...If you give the Intel compiler the branchless code, it just outright vectorizes it... and is just as fast as with the branch (with the loop interchange).Clang also vectorizes theif()version, as will GCC 5 and later with-O3, even though it takes quite a few instructions to sign-extend to the 64-bit sum on x86 without SSE4 or AVX2.  (-march=x86-64-v2orv3).  SeeWhy is processing an unsorted array the same speed as processing a sorted array with modern x86-64 clang?This goes to show that even mature modern compilers can vary wildly in their ability to optimize code...ShareImprove this answerFolloweditedMar 4 at 17:37Peter Cordes351k4949 gold badges674674 silver badges927927 bronze badgesansweredJun 27, 2012 at 13:56MysticialMysticial469k4646 gold badges337337 silver badges334334 bronze badges\n\nBranch prediction.With a sorted array, the conditiondata[c] >= 128is firstfalsefor a streak of values, then becomestruefor all later values. That\'s easy to predict. With an unsorted array, you pay for the branching cost.ShareImprove this answerFolloweditedJun 20, 2020 at 9:12CommunityBot111 silver badgeansweredJun 27, 2012 at 13:54Daniel FischerDaniel Fischer183k1717 gold badges312312 silver badges433433 bronze badges\n\nThe reason why performance improves drastically when the data is sorted is that the branch prediction penalty is removed, as explained beautifully inMysticial\'s answer.Now, if we look at the codeif (data[c] >= 128)\n    sum += data[c];we can find that the meaning of this particularif... else...branch is to add something when a condition is satisfied. This type of branch can be easily transformed into aconditional movestatement, which would be compiled into a conditional move instruction:cmovl, in anx86system. The branch and thus the potential branch prediction penalty is removed.InC, thusC++, the statement, which would compile directly (without any optimization) into the conditional move instruction inx86, is the ternary operator... ? ... : .... So we rewrite the above statement into an equivalent one:sum += data[c] >=128 ? data[c] : 0;While maintaining readability, we can check the speedup factor.On an IntelCore i7-2600K @ 3.4\xa0GHz and Visual Studio 2010 Release Mode, the benchmark is:x86ScenarioTime (seconds)Branching - Random data8.885Branching - Sorted data1.528Branchless - Random data3.716Branchless - Sorted data3.71x64ScenarioTime (seconds)Branching - Random data11.302Branching - Sorted data1.830Branchless - Random data2.736Branchless - Sorted data2.737The result is robust in multiple tests. We get a great speedup when the branch result is unpredictable, but we suffer a little bit when it is predictable. In fact, when using a conditional move, the performance is the same regardless of the data pattern.Now let\'s look more closely by investigating thex86assembly they generate. For simplicity, we use two functionsmax1andmax2.max1uses the conditional branchif... else ...:int max1(int a, int b) {\n    if (a > b)\n        return a;\n    else\n        return b;\n}max2uses the ternary operator... ? ... : ...:int max2(int a, int b) {\n    return a > b ? a : b;\n}On an x86-64 machine,GCC -Sgenerates the assembly below.:max1\n    movl    %edi, -4(%rbp)\n    movl    %esi, -8(%rbp)\n    movl    -4(%rbp), %eax\n    cmpl    -8(%rbp), %eax\n    jle     .L2\n    movl    -4(%rbp), %eax\n    movl    %eax, -12(%rbp)\n    jmp     .L4\n.L2:\n    movl    -8(%rbp), %eax\n    movl    %eax, -12(%rbp)\n.L4:\n    movl    -12(%rbp), %eax\n    leave\n    ret\n\n:max2\n    movl    %edi, -4(%rbp)\n    movl    %esi, -8(%rbp)\n    movl    -4(%rbp), %eax\n    cmpl    %eax, -8(%rbp)\n    cmovge  -8(%rbp), %eax\n    leave\n    retmax2uses much less code due to the usage of instructioncmovge. But the real gain is thatmax2does not involve branch jumps,jmp, which would have a significant performance penalty if the predicted result is not right.So why does a conditional move perform better?In a typicalx86processor, the execution of an instruction is divided into several stages. Roughly, we have different hardware to deal with different stages. So we do not have to wait for one instruction to finish to start a new one. This is calledpipelining.In a branch case, the following instruction is determined by the preceding one, so we cannot do pipelining. We have to either wait or predict.In a conditional move case, the execution of conditional move instruction is divided into several stages, but the earlier stages likeFetchandDecodedo not depend on the result of the previous instruction; only the latter stages need the result. Thus, we wait a fraction of one instruction\'s execution time. This is why the conditional move version is slower than the branch when the prediction is easy.The bookComputer Systems: A Programmer\'s Perspective, second editionexplains this in detail. You can check Section 3.6.6 forConditional Move Instructions, entire Chapter 4 forProcessor Architecture, and Section 5.11.2 for special treatment forBranch Prediction and Misprediction Penalties.Sometimes, some modern compilers can optimize our code to assembly with better performance, and sometimes some compilers can\'t (the code in question is using Visual Studio\'s native compiler). Knowing the performance difference between a branch and a conditional move when unpredictable can help us write code with better performance when the scenario gets so complex that the compiler can not optimize them automatically.ShareImprove this answerFolloweditedJul 3, 2022 at 15:12Mihir Ajmera12711 silver badge99 bronze badgesansweredJun 28, 2012 at 2:14WiSaGaNWiSaGaN47.7k1010 gold badges5757 silver badges8989 bronze badges\n\nIf you are curious about even more optimizations that can be done to this code, consider this:Starting with the original loop:for (unsigned i = 0; i < 100000; ++i)\n{\n    for (unsigned j = 0; j < arraySize; ++j)\n    {\n        if (data[j] >= 128)\n            sum += data[j];\n    }\n}With loop interchange, we can safely change this loop to:for (unsigned j = 0; j < arraySize; ++j)\n{\n    for (unsigned i = 0; i < 100000; ++i)\n    {\n        if (data[j] >= 128)\n            sum += data[j];\n    }\n}Then, you can see that theifconditional is constant throughout the execution of theiloop, so you can hoist theifout:for (unsigned j = 0; j < arraySize; ++j)\n {\n     if (data[j] >= 128)\n     {\n         for (unsigned i = 0; i < 100000; ++i)\n         {\n             sum += data[j];\n         }\n    }\n}Then, you see that the inner loop can be collapsed into one single expression, assuming the floating point model allows it (/fp:fastis thrown, for example)for (unsigned j = 0; j < arraySize; ++j)\n{\n    if (data[j] >= 128)\n    {\n        sum += data[j] * 100000;\n    }\n}That one is 100,000 times faster than before.ShareImprove this answerFolloweditedJan 2 at 18:32AvidCoder51322 gold badges66 silver badges2323 bronze badgesansweredJul 3, 2012 at 2:25vulcan ravenvulcan raven33.2k1111 gold badges5959 silver badges9999 bronze badges\n\nNo doubt some of us would be interested in ways of identifying code that is problematic for the CPU\'s branch-predictor. The Valgrind toolcachegrindhas a branch-predictor simulator, enabled by using the--branch-sim=yesflag. Running it over the examples in this question, with the number of outer loops reduced to 10000 and compiled withg++, gives these results:Sorted:==32551== Branches:        656,645,130  (  656,609,208 cond +    35,922 ind)\n==32551== Mispredicts:         169,556  (      169,095 cond +       461 ind)\n==32551== Mispred rate:            0.0% (          0.0%     +       1.2%   )Unsorted:==32555== Branches:        655,996,082  (  655,960,160 cond +  35,922 ind)\n==32555== Mispredicts:     164,073,152  (  164,072,692 cond +     460 ind)\n==32555== Mispred rate:           25.0% (         25.0%     +     1.2%   )Drilling down into the line-by-line output produced bycg_annotatewe see for the loop in question:Sorted:Bc    Bcm Bi Bim\n      10,001      4  0   0      for (unsigned i = 0; i < 10000; ++i)\n           .      .  .   .      {\n           .      .  .   .          // primary loop\n 327,690,000 10,016  0   0          for (unsigned c = 0; c < arraySize; ++c)\n           .      .  .   .          {\n 327,680,000 10,006  0   0              if (data[c] >= 128)\n           0      0  0   0                  sum += data[c];\n           .      .  .   .          }\n           .      .  .   .      }Unsorted:Bc         Bcm Bi Bim\n      10,001           4  0   0      for (unsigned i = 0; i < 10000; ++i)\n           .           .  .   .      {\n           .           .  .   .          // primary loop\n 327,690,000      10,038  0   0          for (unsigned c = 0; c < arraySize; ++c)\n           .           .  .   .          {\n 327,680,000 164,050,007  0   0              if (data[c] >= 128)\n           0           0  0   0                  sum += data[c];\n           .           .  .   .          }\n           .           .  .   .      }This lets you easily identify the problematic line - in the unsorted version theif (data[c] >= 128)line is causing 164,050,007 mispredicted conditional branches (Bcm) under cachegrind\'s branch-predictor model, whereas it\'s only causing 10,006 in the sorted version.Alternatively, on Linux you can use the performance counters subsystem to accomplish the same task, but with native performance using CPU counters.perf stat ./sumtest_sortedSorted:Performance counter stats for \'./sumtest_sorted\':\n\n  11808.095776 task-clock                #    0.998 CPUs utilized          \n         1,062 context-switches          #    0.090 K/sec                  \n            14 CPU-migrations            #    0.001 K/sec                  \n           337 page-faults               #    0.029 K/sec                  \n26,487,882,764 cycles                    #    2.243 GHz                    \n41,025,654,322 instructions              #    1.55  insns per cycle        \n 6,558,871,379 branches                  #  555.455 M/sec                  \n       567,204 branch-misses             #    0.01% of all branches        \n\n  11.827228330 seconds time elapsedUnsorted:Performance counter stats for \'./sumtest_unsorted\':\n\n  28877.954344 task-clock                #    0.998 CPUs utilized          \n         2,584 context-switches          #    0.089 K/sec                  \n            18 CPU-migrations            #    0.001 K/sec                  \n           335 page-faults               #    0.012 K/sec                  \n65,076,127,595 cycles                    #    2.253 GHz                    \n41,032,528,741 instructions              #    0.63  insns per cycle        \n 6,560,579,013 branches                  #  227.183 M/sec                  \n 1,646,394,749 branch-misses             #   25.10% of all branches        \n\n  28.935500947 seconds time elapsedIt can also do source code annotation with dissassembly.perf record -e branch-misses ./sumtest_unsorted\nperf annotate -d sumtest_unsortedPercent |      Source code & Disassembly of sumtest_unsorted\n------------------------------------------------\n...\n         :                      sum += data[c];\n    0.00 :        400a1a:       mov    -0x14(%rbp),%eax\n   39.97 :        400a1d:       mov    %eax,%eax\n    5.31 :        400a1f:       mov    -0x20040(%rbp,%rax,4),%eax\n    4.60 :        400a26:       cltq   \n    0.00 :        400a28:       add    %rax,-0x30(%rbp)\n...Seethe performance tutorialfor more details.ShareImprove this answerFolloweditedOct 18, 2012 at 19:20Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredOct 12, 2012 at 5:53cafcaf237k4040 gold badges329329 silver badges471471 bronze badges\n\nI just read up on this question and its answers, and I feel an answer is missing.A common way to eliminate branch prediction that I\'ve found to work particularly good in managed languages is a table lookup instead of using a branch (although I haven\'t tested it in this case).This approach works in general if:it\'s a small table and is likely to be cached in the processor, andyou are running things in a quite tight loop and/or the processor can preload the data.Background and whyFrom a processor perspective, your memory is slow. To compensate for the difference in speed, a couple of caches are built into your processor (L1/L2 cache). So imagine that you\'re doing your nice calculations and figure out that you need a piece of memory. The processor will get its \'load\' operation and loads the piece of memory into cache -- and then uses the cache to do the rest of the calculations. Because memory is relatively slow, this \'load\' will slow down your program.Like branch prediction, this was optimized in the Pentium processors: the processor predicts that it needs to load a piece of data and attempts to load that into the cache before the operation actually hits the cache. As we\'ve already seen, branch prediction sometimes goes horribly wrong -- in the worst case scenario you need to go back and actually wait for a memory load, which will take forever (in other words: failing branch prediction is bad, a memory load after a branch prediction fail is just horrible!).Fortunately for us, if the memory access pattern is predictable, the processor will load it in its fast cache and all is well.The first thing we need to know is what issmall? While smaller is generally better, a rule of thumb is to stick to lookup tables that are <= 4096 bytes in size. As an upper limit: if your lookup table is larger than 64K it\'s probably worth reconsidering.Constructing a tableSo we\'ve figured out that we can create a small table. Next thing to do is get a lookup function in place. Lookup functions are usually small functions that use a couple of basic integer operations (and, or, xor, shift, add, remove and perhaps multiply). You want to have your input translated by the lookup function to some kind of \'unique key\' in your table, which then simply gives you the answer of all the work you wanted it to do.In this case: >= 128 means we can keep the value, < 128 means we get rid of it. The easiest way to do that is by using an \'AND\': if we keep it, we AND it with 7FFFFFFF; if we want to get rid of it, we AND it with 0. Notice also that 128 is a power of 2 -- so we can go ahead and make a table of 32768/128 integers and fill it with one zero and a lot of 7FFFFFFFF\'s.Managed languagesYou might wonder why this works well in managed languages. After all, managed languages check the boundaries of the arrays with a branch to ensure you don\'t mess up...Well, not exactly... :-)There has been quite some work on eliminating this branch for managed languages. For example:for (int i = 0; i < array.Length; ++i)\n{\n   // Use array[i]\n}In this case, it\'s obvious to the compiler that the boundary condition will never be hit. At least the Microsoft JIT compiler (but I expect Java does similar things) will notice this and remove the check altogether. WOW, that means no branch. Similarly, it will deal with other obvious cases.If you run into trouble with lookups in managed languages -- the key is to add a& 0x[something]FFFto your lookup function to make the boundary check predictable -- and watch it going faster.The result of this case// Generate data\nint arraySize = 32768;\nint[] data = new int[arraySize];\n\nRandom random = new Random(0);\nfor (int c = 0; c < arraySize; ++c)\n{\n    data[c] = random.Next(256);\n}\n\n/*To keep the spirit of the code intact, I\'ll make a separate lookup table\n(I assume we cannot modify \'data\' or the number of loops)*/\n\nint[] lookup = new int[256];\n\nfor (int c = 0; c < 256; ++c)\n{\n    lookup[c] = (c >= 128) ? c : 0;\n}\n\n// Test\nDateTime startTime = System.DateTime.Now;\nlong sum = 0;\n\nfor (int i = 0; i < 100000; ++i)\n{\n    // Primary loop\n    for (int j = 0; j < arraySize; ++j)\n    {\n        /* Here you basically want to use simple operations - so no\n        random branches, but things like &, |, *, -, +, etc. are fine. */\n        sum += lookup[data[j]];\n    }\n}\n\nDateTime endTime = System.DateTime.Now;\nConsole.WriteLine(endTime - startTime);\nConsole.WriteLine(""sum = "" + sum);\nConsole.ReadLine();ShareImprove this answerFolloweditedJan 16, 2019 at 4:47Palec13.3k88 gold badges7474 silver badges141141 bronze badgesansweredApr 24, 2013 at 6:26atlasteatlaste30.9k33 gold badges5959 silver badges9090 bronze badges\n\nAs data is distributed between 0 and 255 when the array is sorted, around the first half of the iterations will not enter theif-statement (theifstatement is shared below).if (data[c] >= 128)\n    sum += data[c];The question is: What makes the above statement not execute in certain cases as in case of sorted data? Here comes the ""branch predictor"". A branch predictor is a digital circuit that tries to guess which way a branch (e.g. anif-then-elsestructure) will go before this is known for sure. The purpose of the branch predictor is to improve the flow in the instruction pipeline. Branch predictors play a critical role in achieving high effective performance!Let\'s do some bench marking to understand it betterThe performance of anif-statement depends on whether its condition has a predictable pattern. If the condition is always true or always false, the branch prediction logic in the processor will pick up the pattern. On the other hand, if the pattern is unpredictable, theif-statement will be much more expensive.Let’s measure the performance of this loop with different conditions:for (int i = 0; i < max; i++)\n    if (condition)\n        sum++;Here are the timings of the loop with different true-false patterns:Condition                Pattern             Time (ms)\n-------------------------------------------------------\n(i & 0×80000000) == 0    T repeated          322\n\n(i & 0xffffffff) == 0    F repeated          276\n\n(i & 1) == 0             TF alternating      760\n\n(i & 3) == 0             TFFFTFFF…           513\n\n(i & 2) == 0             TTFFTTFF…           1675\n\n(i & 4) == 0             TTTTFFFFTTTTFFFF…   1275\n\n(i & 8) == 0             8T 8F 8T 8F …       752\n\n(i & 16) == 0            16T 16F 16T 16F …   490A “bad” true-false pattern can make anif-statement up to six times slower than a “good” pattern! Of course, which pattern is good and which is bad depends on the exact instructions generated by the compiler and on the specific processor.So there is no doubt about the impact of branch prediction on performance!ShareImprove this answerFolloweditedFeb 27, 2019 at 10:58Neuron5,63555 gold badges4242 silver badges6161 bronze badgesansweredFeb 15, 2013 at 7:24SaqlainSaqlain17.8k44 gold badges2828 silver badges3333 bronze badges\n\nOne way to avoid branch prediction errors is to build a lookup table, and index it using the data.  Stefan de Bruijn discussed that in his answer.But in this case, we know values are in the range [0, 255] and we only care about values >= 128.  That means we can easily extract a single bit that will tell us whether we want a value or not: by shifting the data to the right 7 bits, we are left with a 0 bit or a 1 bit, and we only want to add the value when we have a 1 bit.  Let\'s call this bit the ""decision bit"".By using the 0/1 value of the decision bit as an index into an array, we can make code that will be equally fast whether the data is sorted or not sorted.  Our code will always add a value, but when the decision bit is 0, we will add the value somewhere we don\'t care about.  Here\'s the code:// Test\nclock_t start = clock();\nlong long a[] = {0, 0};\nlong long sum;\n\nfor (unsigned i = 0; i < 100000; ++i)\n{\n    // Primary loop\n    for (unsigned c = 0; c < arraySize; ++c)\n    {\n        int j = (data[c] >> 7);\n        a[j] += data[c];\n    }\n}\n\ndouble elapsedTime = static_cast<double>(clock() - start) / CLOCKS_PER_SEC;\nsum = a[1];This code wastes half of the adds but never has a branch prediction failure.  It\'s tremendously faster on random data than the version with an actual if statement.But in my testing, an explicit lookup table was slightly faster than this, probably because indexing into a lookup table was slightly faster than bit shifting.  This shows how my code sets up and uses the lookup table (unimaginatively calledlutfor ""LookUp Table"" in the code).  Here\'s the C++ code:// Declare and then fill in the lookup table\nint lut[256];\nfor (unsigned c = 0; c < 256; ++c)\n    lut[c] = (c >= 128) ? c : 0;\n\n// Use the lookup table after it is built\nfor (unsigned i = 0; i < 100000; ++i)\n{\n    // Primary loop\n    for (unsigned c = 0; c < arraySize; ++c)\n    {\n        sum += lut[data[c]];\n    }\n}In this case, the lookup table was only 256 bytes, so it fits nicely in a cache and all was fast.  This technique wouldn\'t work well if the data was 24-bit values and we only wanted half of them... the lookup table would be far too big to be practical.  On the other hand, we can combine the two techniques shown above: first shift the bits over, then index a lookup table.  For a 24-bit value that we only want the top half value, we could potentially shift the data right by 12 bits, and be left with a 12-bit value for a table index.  A 12-bit table index implies a table of 4096 values, which might be practical.The technique of indexing into an array, instead of using anifstatement, can be used for deciding which pointer to use.  I saw a library that implemented binary trees, and instead of having two named pointers (pLeftandpRightor whatever) had a length-2 array of pointers and used the ""decision bit"" technique to decide which one to follow.  For example, instead of:if (x < node->value)\n    node = node->pLeft;\nelse\n    node = node->pRight;this library would do something like:i = (x < node->value);\nnode = node->link[i];Here\'s a link to this code:Red Black Trees,Eternally ConfuzzledShareImprove this answerFolloweditedJan 27, 2021 at 10:03jakubde3111 gold badge22 silver badges44 bronze badgesansweredJul 22, 2013 at 8:29stevehasteveha76k2121 gold badges9292 silver badges118118 bronze badges\n\nIn the sorted case, you can do better than relying on successful branch prediction or any branchless comparison trick: completely remove the branch.Indeed, the array is partitioned in a contiguous zone withdata < 128and another withdata >= 128. So you should find the partition point with adichotomic search(usingLg(arraySize) = 15comparisons), then do a straight accumulation from that point.Something like (unchecked)int i= 0, j, k= arraySize;\nwhile (i < k)\n{\n  j= (i + k) >> 1;\n  if (data[j] >= 128)\n    k= j;\n  else\n    i= j;\n}\nsum= 0;\nfor (; i < arraySize; i++)\n  sum+= data[i];or, slightly more obfuscatedint i, k, j= (i + k) >> 1;\nfor (i= 0, k= arraySize; i < k; (data[j] >= 128 ? k : i)= j)\n  j= (i + k) >> 1;\nfor (sum= 0; i < arraySize; i++)\n  sum+= data[i];A yet faster approach, that gives anapproximatesolution for both sorted or unsorted is:sum= 3137536;(assuming a truly uniform distribution, 16384 samples with expected value 191.5):-)ShareImprove this answerFolloweditedMay 11, 2019 at 11:31Konard2,8263535 silver badges2424 bronze badgesansweredJul 24, 2013 at 7:57user1196549user1196549\n\nThe above behavior is happening because of Branch prediction.To understand branch prediction one must first understand anInstruction Pipeline.The the steps of running an instruction can be overlapped with the sequence of steps of running the previous and next instruction, so that different steps can be executed concurrently in parallel. This technique is known as instruction pipelining and is used to increase throughput in modern processors. To understand this better please see thisexample on Wikipedia.Generally, modern processors have quite long (and wide) pipelines, so many instruction can be in flight.  SeeModern Microprocessors\nA 90-Minute Guide!which starts by introducing basic in-order pipelining and goes from there.But for easelet\'s consider a simple in-order pipeline with these 4 steps only.(Like aclassic 5-stage RISC, but omitting a separate MEM stage.)IF -- Fetch the instruction from memoryID -- Decode the instructionEX -- Execute the instructionWB -- Write back to CPU register4-stage pipeline in general for 2 instructions.Moving back to the above question let\'s consider the following instructions:A) if (data[c] >= 128)\n                                /\\\n                               /  \\\n                              /    \\\n                        true /      \\ false\n                            /        \\\n                           /          \\\n                          /            \\\n                         /              \\\n              B) sum += data[c];          C) for loop or print().Without branch prediction, the following would occur:To execute instruction B or instruction C the processor will have to wait (stall) till the instruction A leaves the EX stage in the pipeline, as the decision to go to instruction B or instruction C depends on the result of instruction A.  (i.e. where to fetch from next.) So the pipeline will look like this:Without prediction: whenifcondition is true:Without prediction: Whenifcondition is false:As a result of waiting for the result of instruction A, the total CPU cycles spent in the above case (without branch prediction; for both true and false) is 7.So what is branch prediction?Branch predictor will try to guess which way a branch (an if-then-else structure) will go before this is known for sure. It will not wait for the instruction A to reach the EX stage of the pipeline, but it will guess the decision and go to that instruction (B or C in case of our example).In case of a correct guess, the pipeline looks something like this:If it is later detected that the guess was wrong then the partially executed instructions are discarded and the pipeline starts over with the correct branch, incurring a delay.\nThe time that is wasted in case of a branch misprediction is equal to the number of stages in the pipeline from the fetch stage to the execute stage. Modern microprocessors tend to have quite long pipelines so that the misprediction delay is between 10 and 20 clock cycles. The longer the pipeline the greater the need for a goodbranch predictor.In the OP\'s code, the first time when the conditional, the branch predictor does not have any information to base up prediction, so the first time it will randomly choose the next instruction. (Or fall back tostaticprediction, typically forward not-taken, backward taken).  Later in the for loop, it can base the prediction on the history.\nFor an array sorted in ascending order, there are three possibilities:All the elements are less than 128All the elements are greater than 128Some starting new elements are less than 128 and later it become greater than 128Let us assume that the predictor will always assume the true branch on the first run.So in the first case, it will always take the true branch since historically all its predictions are correct.\nIn the 2nd case, initially it will predict wrong, but after a few iterations, it will predict correctly.\nIn the 3rd case, it will initially predict correctly till the elements are less than 128. After which it will fail for some time and the correct itself when it sees branch prediction failure in history.In all these cases the failure will be too less in number and as a result, only a few times it will need to discard the partially executed instructions and start over with the correct branch, resulting in fewer CPU cycles.But in case of a random unsorted array, the prediction will need to discard the partially executed instructions and start over with the correct branch most of the time and result in more CPU cycles compared to the sorted array.Further reading:Modern Microprocessors\nA 90-Minute Guide!Dan Luu\'s article on branch prediction(which covers older branch predictors, not modern IT-TAGE or Perceptron)https://en.wikipedia.org/wiki/Branch_predictorBranch Prediction and the Performance of Interpreters -\nDon’t Trust Folklore- 2015 paper showing how well Intel\'s Haswell does at predicting the indirect branch of a Python interpreter\'s main loop (historically problematic due to a non-simple pattern), vs. earlier CPUs which didn\'t use IT-TAGE.  (They don\'t help with this fully random case, though.  Still 50% mispredict rate for the if inside the loop on a Skylake CPU when the source is compiled to branch asm.)Static branch prediction on newer Intel processors- what CPUs actually do when running a branch instruction that doesn\'t have a dynamic prediction available.  Historically, forward not-taken (like aniforbreak), backward taken (like a loop) has been used because it\'s better than nothing.  Laying out code so the fast path / common case minimizes taken branches is good for I-cache density as well as static prediction, so compilers already do that.  (That\'s thereal effectoflikely/unlikelyhints in C source, not actually hinting the hardware branch prediction in most CPU, except maybe via static prediction.)ShareImprove this answerFolloweditedApr 22, 2022 at 1:31Peter Cordes351k4949 gold badges674674 silver badges927927 bronze badgesansweredJul 3, 2015 at 15:35Harsh SharmaHarsh Sharma11.1k22 gold badges1818 silver badges2929 bronze badges\n\nAn official answer would be fromIntel - Avoiding the Cost of Branch MispredictionIntel - Branch and Loop Reorganization to Prevent MispredictsScientific papers - branch prediction computer architectureBooks: J.L. Hennessy, D.A. Patterson: Computer architecture: a quantitative approachArticles in scientific publications: T.Y. Yeh, Y.N. Patt made a lot of these on branch predictions.You can also see from this lovelydiagramwhy the branch predictor gets confused.Each element in the original code is a random valuedata[c] = std::rand() % 256;so the predictor will change sides as thestd::rand()blow.On the other hand, once it\'s sorted, the predictor will first move into a state of strongly not taken and when the values change to the high value the predictor will in three runs through change all the way from strongly not taken to strongly taken.ShareImprove this answerFolloweditedJan 31, 2017 at 11:39greatwolf20.6k1313 gold badges7272 silver badges105105 bronze badgesansweredOct 11, 2015 at 21:05SurtSurt15.9k33 gold badges2525 silver badges4040 bronze badges\n\nIn the same line (I think this was not highlighted by any answer) it\'s good to mention that sometimes (specially in software where the performance matters—like in the Linux kernel) you can find some if statements like the following:if (likely( everything_is_ok ))\n{\n    /* Do something */\n}or similarly:if (unlikely(very_improbable_condition))\n{\n    /* Do something */    \n}Bothlikely()andunlikely()are in fact macros that are defined by using something like the GCC\'s__builtin_expectto help the compiler insert prediction code to favour the condition taking into account the information provided by the user. GCC supports other builtins that could change the behavior of the running program or emit low level instructions like clearing the cache, etc. Seethis documentationthat goes through the available GCC\'s builtins.Normally this kind of optimizations are mainly found in hard-real time applications or embedded systems where execution time matters and it\'s critical. For example, if you are checking for some error condition that only happens 1/10000000 times, then why not inform the compiler about this? This way, by default, the branch prediction would assume that the condition is false.ShareImprove this answerFolloweditedOct 28, 2016 at 10:28Stacked7,16877 gold badges6262 silver badges7676 bronze badgesansweredSep 23, 2015 at 14:57rkachachrkachach17.1k77 gold badges4545 silver badges6868 bronze badges\n\nFrequently used Boolean operations in C++ produce many branches in the compiled program. If these branches are inside loops and are hard to predict they can slow down execution significantly. Boolean variables are stored as 8-bit integers with the value0forfalseand1fortrue.Boolean variables are overdetermined in the sense that all operators that have Boolean variables as input check if the inputs have any other value than0or1, but operators that have Booleans as output can produce no other value than0or1. This makes operations with Boolean variables as input less efficient than necessary.\nConsider example:bool a, b, c, d;\nc = a && b;\nd = a || b;This is typically implemented by the compiler in the following way:bool a, b, c, d;\nif (a != 0) {\n    if (b != 0) {\n        c = 1;\n    }\n    else {\n        goto CFALSE;\n    }\n}\nelse {\n    CFALSE:\n    c = 0;\n}\nif (a == 0) {\n    if (b == 0) {\n        d = 0;\n    }\n    else {\n        goto DTRUE;\n    }\n}\nelse {\n    DTRUE:\n    d = 1;\n}This code is far from optimal. The branches may take a long time in case of mispredictions. The Boolean operations can be made much more efficient if it is known with certainty that the operands have no other values than0and1. The reason why the compiler does not make such an assumption is that the variables might have other values if they are uninitialized or come from unknown sources. The above code can be optimized ifaandbhas been initialized to valid values or if they come from operators that produce Boolean output. The optimized code looks like this:char a = 0, b = 1, c, d;\nc = a & b;\nd = a | b;charis used instead ofboolin order to make it possible to use the bitwise operators (&and|) instead of the Boolean operators (&&and||). The bitwise operators are single instructions that take only one clock cycle. The OR operator (|) works even ifaandbhave other values than0or1. The AND operator (&) and the EXCLUSIVE OR operator (^) may give inconsistent results if the operands have other values than0and1.~can not be used for NOT. Instead, you can make a Boolean NOT on a variable which is known to be0or1by XOR\'ing it with1:bool a, b;\nb = !a;can be optimized to:char a = 0, b;\nb = a ^ 1;a && bcannot be replaced witha & bifbis an expression that should not be evaluated ifaisfalse(&&will not evaluateb,&will). Likewise,a || bcan not be replaced witha | bifbis an expression that should not be evaluated ifaistrue.Using bitwise operators is more advantageous if the operands are variables than if the operands are comparisons:bool a; double x, y, z;\na = x > y && z < 5.0;is optimal in most cases (unless you expect the&&expression to generate many branch mispredictions).ShareImprove this answerFolloweditedMay 30, 2019 at 16:34Sujal Patel2,50411 gold badge2020 silver badges4040 bronze badgesansweredOct 10, 2015 at 0:30MaciejMaciej9,53522 gold badges1717 silver badges1818 bronze badges\n\nThat\'s for sure!...Branch predictionmakes the logic run slower, because of the switching which happens in your code! It\'s like you are going a straight street or a street with a lot of turnings, for sure the straight one is going to be done quicker!...If the array is sorted, your condition is false at the first step:data[c] >= 128, then becomes a true value for the whole way to the end of the street. That\'s how you get to the end of the logic faster. On the other hand, using an unsorted array, you need a lot of turning and processing which make your code run slower for sure...Look at the image I created for you below. Which street is going to be finished faster?So programmatically,branch predictioncauses the process to be slower...Also at the end, it\'s good to know we have two kinds of branch predictions that each is going to affect your code differently:1. Static2. DynamicSee alsothis document from Intel, which says:Static branch prediction is used by the microprocessor the first time\na conditional branch is encountered, and dynamic branch prediction is\nused for succeeding executions of the conditional branch code.In order to effectively write your code to take advantage of these\nrules, when writingif-elseorswitchstatements, check the most\ncommon cases first and work progressively down to the least common.\nLoops do not necessarily require any special ordering of code for\nstatic branch prediction, as only the condition of the loop iterator\nis normally used.ShareImprove this answerFolloweditedMay 10, 2023 at 17:27miken3242.6k1616 gold badges119119 silver badges164164 bronze badgesansweredJun 18, 2017 at 11:40AlirezaAlireza103k2727 gold badges275275 silver badges173173 bronze badges\n\nThis question has already been answered excellently many times over. Still I\'d like to draw the group\'s attention to yet another interesting analysis.Recently this example (modified very slightly) was also used as a way to demonstrate how a piece of code can be profiled within the program itself on Windows. Along the way, the author also shows how to use the results to determine where the code is spending most of its time in both the sorted & unsorted case. Finally the piece also shows how to use a little known feature of the HAL (Hardware Abstraction Layer) to determine just how much branch misprediction is happening in the unsorted case.The link is here:A Demonstration of Self-ProfilingShareImprove this answerFolloweditedJan 10, 2021 at 15:50Deduplicator45.4k77 gold badges7171 silver badges123123 bronze badgesansweredJan 12, 2017 at 1:50ForeverLearningForeverLearning6,56244 gold badges2929 silver badges3737 bronze badges\n\nAs what has already been mentioned by others, what behind the mystery isBranch Predictor.I\'m not trying to add something but explaining the concept in another way. \nThere is a concise introduction on the wiki which contains text and diagram.\nI do like the explanation below which uses a diagram to elaborate the Branch Predictor intuitively.In computer architecture, a branch predictor is a\n  digital circuit that tries to guess which way a branch (e.g. an\n  if-then-else structure) will go before this is known for sure. The\n  purpose of the branch predictor is to improve the flow in the\n  instruction pipeline. Branch predictors play a critical role in\n  achieving high effective performance in many modern pipelined\n  microprocessor architectures such as x86.Two-way branching is usually implemented with a conditional jump\n  instruction. A conditional jump can either be ""not taken"" and continue\n  execution with the first branch of code which follows immediately\n  after the conditional jump, or it can be ""taken"" and jump to a\n  different place in program memory where the second branch of code is\n  stored. It is not known for certain whether a conditional jump will be\n  taken or not taken until the condition has been calculated and the\n  conditional jump has passed the execution stage in the instruction\n  pipeline (see fig. 1).Based on the described scenario, I have written an animation demo to show how instructions are executed in a pipeline in different situations.Without the Branch Predictor.Without branch prediction, the processor would have to wait until the\n  conditional jump instruction has passed the execute stage before the\n  next instruction can enter the fetch stage in the pipeline.The example contains three instructions and the first one is a conditional jump instruction. The latter two instructions can go into the pipeline until the conditional jump instruction is executed.It will take 9 clock cycles for 3 instructions to be completed.Use Branch Predictor and don\'t take a conditional jump. Let\'s assume that the predict isnottaking the conditional jump.It will take 7 clock cycles for 3 instructions to be completed.Use Branch Predictor and take a conditional jump. Let\'s assume that the predict isnottaking the conditional jump.It will take 9 clock cycles for 3 instructions to be completed.The time that is wasted in case of a branch misprediction is equal to\n  the number of stages in the pipeline from the fetch stage to the\n  execute stage. Modern microprocessors tend to have quite long\n  pipelines so that the misprediction delay is between 10 and 20 clock\n  cycles. As a result, making a pipeline longer increases the need for a\n  more advanced branch predictor.As you can see, it seems we don\'t have a reason not to use Branch Predictor.It\'s quite a simple demo that clarifies the very basic part of Branch Predictor. If those gifs are annoying, please feel free to remove them from the answer and visitors can also get the live demo source code fromBranchPredictorDemoShareImprove this answerFolloweditedFeb 10, 2020 at 2:05answeredNov 6, 2017 at 16:15EugeneEugene10.9k55 gold badges5454 silver badges6767 bronze badges\n\nBranch-prediction gain!It is important to understand that branch misprediction doesn\'t slow down programs. The cost of a missed prediction is just as if branch prediction didn\'t exist and you waited for the evaluation of the expression to decide what code to run (further explanation in the next paragraph).if (expression)\n{\n    // Run 1\n} else {\n    // Run 2\n}Whenever there\'s anif-else\\switchstatement, the expression has to be evaluated to determine which block should be executed. In the assembly code generated by the compiler, conditionalbranchinstructions are inserted.A branch instruction can cause a computer to begin executing a different instruction sequence and thus deviate from its default behavior of executing instructions in order (i.e. if the expression is false, the program skips the code of theifblock) depending on some condition, which is the expression evaluation in our case.That being said, the compiler tries to predict the outcome prior to it being actually evaluated. It will fetch instructions from theifblock, and if the expression turns out to be true, then wonderful! We gained the time it took to evaluate it and made progress in the code; if not then we are running the wrong code, the pipeline is flushed, and the correct block is run.Visualization:Let\'s say you need to pick route 1 or route 2. Waiting for your partner to check the map, you have stopped at ## and waited, or you could just pick route1 and if you were lucky (route 1 is the correct route), then great you didn\'t have to wait for your partner to check the map (you saved the time it would have taken him to check the map), otherwise you will just turn back.While flushing pipelines is super fast, nowadays taking this gamble is worth it. Predicting sorted data or a data that changes slowly is always easier and better than predicting fast changes.O      Route 1  /-------------------------------\n/|\\             /\n |  ---------##/\n/ \\            \\\n                \\\n        Route 2  \\--------------------------------ShareImprove this answerFolloweditedJun 20, 2020 at 9:12CommunityBot111 silver badgeansweredAug 4, 2017 at 10:07Tony TannousTony Tannous14.6k1111 gold badges5656 silver badges9090 bronze badges\n\nOn ARM, there is no branch needed, because every instruction has a 4-bit condition field, which tests (at zero cost) any of16 different different conditionsthat may arise in the Processor Status Register, and if the condition on an instruction is false, the instruction is skipped. This eliminates the need for short branches, and there would be no branch prediction hit for this algorithm.Therefore, the sorted version of this algorithm would run slower than the unsorted version on ARM, because of the extra overhead of sorting.The inner loop for this algorithm would look something like the following in ARM assembly language:MOV R0, #0   // R0 = sum = 0\nMOV R1, #0   // R1 = c = 0\nADR R2, data // R2 = addr of data array (put this instruction outside outer loop)\n.inner_loop  // Inner loop branch label\n    LDRB R3, [R2, R1]   // R3 = data[c]\n    CMP R3, #128        // compare R3 to 128\n    ADDGE R0, R0, R3    // if R3 >= 128, then sum += data[c] -- no branch needed!\n    ADD R1, R1, #1      // c++\n    CMP R1, #arraySize  // compare c to arraySize\n    BLT inner_loop      // Branch to inner_loop if c < arraySizeBut this is actually part of a bigger picture:CMPopcodes always update the status bits in the Processor Status Register (PSR), because that is their purpose, but most other instructions do not touch the PSR unless you add an optionalSsuffix to the instruction, specifying that the PSR should be updated based on the result of the instruction.Just like the 4-bit condition suffix, being able to execute instructions without affecting the PSR is a mechanism that reduces the need for branches on ARM, and also facilitates out of order dispatch at the hardware level, because after performing some operation X that updates the status bits, subsequently (or in parallel) you can do a bunch of other work that explicitly should not affect (or be affected by) the status bits, then you can test the state of the status bits set earlier by X.The condition testing field and the optional ""set status bit"" field can be combined, for example:ADD R1, R2, R3performsR1 = R2 + R3without updating any status bits.ADDGE R1, R2, R3performs the same operation only if a previous instruction that affected the status bits resulted in a Greater than or Equal condition.ADDS R1, R2, R3performs the addition and then updates theN,Z,CandVflags in the Processor Status Register based on whether the result was Negative, Zero, Carried (for unsigned addition), or oVerflowed (for signed addition).ADDSGE R1, R2, R3performs the addition only if theGEtest is true, and then subsequently updates the status bits based on the result of the addition.Most processor architectures do not have this ability to specify whether or not the status bits should be updated for a given operation, which can necessitate writing additional code to save and later restore status bits, or may require additional branches, or may limit the processor\'s out of order execution efficiency: one of the side effects of most CPU instruction set architectures forcibly updating status bits after most instructions is that it is much harder to tease apart which instructions can be run in parallel without interfering with each other. Updating status bits has side effects, therefore has a linearizing effect on code.ARM\'s ability to mix and match branch-free condition testing on any instruction with the option to either update or not update the status bits after any instruction is extremely powerful, for both assembly language programmers and compilers, and produces very efficient code.When you don\'t have to branch, you can avoid the time cost of flushing the pipeline for what would otherwise be short branches, and you can avoid the design complexity of many forms of speculative evalution. The performance impact of the initial naive imlementations of the mitigations for many recently discovered processor vulnerabilities (Spectre etc.) shows you just how much the performance of modern processors depends upon complex speculative evaluation logic. With a short pipeline and the dramatically reduced need for branching, ARM just doesn\'t need to rely on speculative evaluation as much as CISC processors. (Of course high-end ARM implementations do include speculative evaluation, but it\'s a smaller part of the performance story.)If you have ever wondered why ARM has been so phenomenally successful, the brilliant effectiveness and interplay of these two mechanisms (combined with another mechanism that lets you ""barrel shift"" left or right one of the two arguments of any arithmetic operator or offset memory access operator at zero additional cost) are a big part of the story, because they are some of the greatest sources of the ARM architecture\'s efficiency. The brilliance of the original designers of the ARM ISA back in 1983, Steve Furber and Roger (now Sophie) Wilson, cannot be overstated.ShareImprove this answerFolloweditedOct 20, 2020 at 22:33answeredDec 22, 2017 at 13:13Luke HutchisonLuke Hutchison8,93222 gold badges5151 silver badges4747 bronze badges\n\nBesides the fact that the branch prediction may slow you down, a sorted array has another advantage:You can have a stop condition instead of just checking the value, this way you only loop over the relevant data, and ignore the rest.The branch prediction will miss only once.// sort backwards (higher values first), may be in some other part of the code\n std::sort(data, data + arraySize, std::greater<int>());\n\n for (unsigned c = 0; c < arraySize; ++c) {\n       if (data[c] < 128) {\n              break;\n       }\n       sum += data[c];               \n }ShareImprove this answerFolloweditedMar 5, 2019 at 9:58answeredNov 23, 2017 at 14:28Yochai TimmerYochai Timmer48.7k2424 gold badges151151 silver badges186186 bronze badges\n\nSorted arrays are processed faster than an unsorted array, due to a phenomena called branch prediction.The branch predictor is a digital circuit (in computer architecture) trying to predict which way a branch will go, improving the flow in the instruction pipeline. The circuit/computer predicts the next step and executes it.Making a wrong prediction leads to going back to the previous step, and executing with another prediction. Assuming the prediction is correct, the code will continue to the next step. A wrong prediction results in repeating the same step, until a correct prediction occurs.The answer to your question is very simple.In an unsorted array, the computer makes multiple predictions, leading to an increased chance of errors.\nWhereas, in a sorted array, the computer makes fewer predictions, reducing the chance of errors.\nMaking more predictions requires more time.Sorted Array: Straight Road____________________________________________________________________________________\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\nTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTUnsorted Array: Curved Road______   ________\n|     |__|Branch prediction: Guessing/predicting which road is straight and following it without checking___________________________________________ Straight road\n |_________________________________________|Longer roadAlthough both the roads reach the same destination, the straight road is shorter, and the other is longer. If then you choose the other by mistake, there is no turning back, and so you will waste some extra time if you choose the longer road. This is similar to what happens in the computer, and I hope this helped you understand better.Also I want to cite@Simon_Weaverfrom the comments:It doesn’t make fewer predictions - it makes fewer incorrect predictions. It still has to predict for each time through the loop...ShareImprove this answerFolloweditedJan 10, 2021 at 15:59Deduplicator45.4k77 gold badges7171 silver badges123123 bronze badgesansweredDec 7, 2017 at 17:28omkaartgomkaartg2,73411 gold badge1010 silver badges2121 bronze badges\n\nI tried the same code with MATLAB 2011b with my MacBook Pro (Intel i7, 64 bit, 2.4 GHz) for the following MATLAB code:% Processing time with Sorted data vs unsorted data\n%==========================================================================\n% Generate data\narraySize = 32768\nsum = 0;\n% Generate random integer data from range 0 to 255\ndata = randi(256, arraySize, 1);\n\n\n%Sort the data\ndata1= sort(data); % data1= data  when no sorting done\n\n\n%Start a stopwatch timer to measure the execution time\ntic;\n\nfor i=1:100000\n\n    for j=1:arraySize\n\n        if data1(j)>=128\n            sum=sum + data1(j);\n        end\n    end\nend\n\ntoc;\n\nExeTimeWithSorting = toc - tic;The results for the above MATLAB code are as follows:a: Elapsed time (without sorting) = 3479.880861 seconds.\n  b: Elapsed time (with sorting ) = 2377.873098 seconds.The results of the C code as in @GManNickG I get:a: Elapsed time (without sorting) = 19.8761 sec.\n  b: Elapsed time (with sorting ) = 7.37778 sec.Based on this, it looks MATLAB is almost175 timesslower than the C implementation without sorting and350 timesslower with sorting. In other words, the effect (of branch prediction) is1.46xfor MATLAB implementation and2.7xfor the C implementation.ShareImprove this answerFolloweditedMar 16, 2018 at 12:45Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredDec 30, 2012 at 16:16ShanShan5,1921212 gold badges4545 silver badges5959 bronze badges\n\nThe assumption by other answers that one needs to sort the data is not correct.The following code does not sort the entire array, but only 200-element segments of it, and thereby runs the fastest.Sorting only k-element sections completes the pre-processing in linear time,O(n), rather than theO(n.log(n))time needed to sort the entire array.#include <algorithm>\n#include <ctime>\n#include <iostream>\n\nint main() {\n    int data[32768]; const int l = sizeof data / sizeof data[0];\n\n    for (unsigned c = 0; c < l; ++c)\n        data[c] = std::rand() % 256;\n\n    // sort 200-element segments, not the whole array\n    for (unsigned c = 0; c + 200 <= l; c += 200)\n        std::sort(&data[c], &data[c + 200]);\n\n    clock_t start = clock();\n    long long sum = 0;\n\n    for (unsigned i = 0; i < 100000; ++i) {\n        for (unsigned c = 0; c < sizeof data / sizeof(int); ++c) {\n            if (data[c] >= 128)\n                sum += data[c];\n        }\n    }\n\n    std::cout << static_cast<double>(clock() - start) / CLOCKS_PER_SEC << std::endl;\n    std::cout << ""sum = "" << sum << std::endl;\n}This also ""proves"" that it has nothing to do with any algorithmic issue such as sort order, and it is indeed branch prediction.ShareImprove this answerFolloweditedJul 2, 2019 at 4:08answeredDec 9, 2018 at 6:18user2297550user22975503,31833 gold badges2929 silver badges4242 bronze badges\n\nBjarne Stroustrup\'s Answerto this question:That sounds like an interview question. Is it true? How would you know? It is a bad idea to answer questions about efficiency without first doing some measurements, so it is important to know how to measure.So, I tried with a vector of a million integers and got:Already sorted    32995 milliseconds\nShuffled          125944 milliseconds\n\nAlready sorted    18610 milliseconds\nShuffled          133304 milliseconds\n\nAlready sorted    17942 milliseconds\nShuffled          107858 millisecondsI ran that a few times to be sure. Yes, the phenomenon is real. My key code was:void run(vector<int>& v, const string& label)\n{\n    auto t0 = system_clock::now();\n    sort(v.begin(), v.end());\n    auto t1 = system_clock::now();\n    cout << label\n         << duration_cast<microseconds>(t1 — t0).count()\n         << "" milliseconds\\n"";\n}\n\nvoid tst()\n{\n    vector<int> v(1\'000\'000);\n    iota(v.begin(), v.end(), 0);\n    run(v, ""already sorted "");\n    std::shuffle(v.begin(), v.end(), std::mt19937{ std::random_device{}() });\n    run(v, ""shuffled    "");\n}At least the phenomenon is real with this compiler, standard library, and optimizer settings. Different implementations can and do give different answers. In fact, someone did do a more systematic study (a quick web search will find it) and most implementations show that effect.One reason is branch prediction: the key operation in the sort algorithm is“if(v[i] < pivot]) …”or equivalent. For a sorted sequence that test is always true whereas, for a random sequence, the branch chosen varies randomly.Another reason is that when the vector is already sorted, we never need to move elements to their correct position. The effect of these little details is the factor of five or six that we saw.Quicksort (and sorting in general) is a complex study that has attracted some of the greatest minds of computer science. A good sort function is a result of both choosing a good algorithm and paying attention to hardware performance in its implementation.If you want to write efficient code, you need to know a bit about machine architecture.ShareImprove this answerFolloweditedJan 10, 2021 at 16:02community wiki2 revs, 2 users 75%Selcuk\n\nThis question is rooted inbranch prediction modelson CPUs. I\'d recommend reading this paper:Increasing the Instruction Fetch Rate via Multiple Branch Prediction and a Branch Address Cache(But real CPUs these days still don\'t make multiple taken branch-predictions per clock cycle, except for Haswell and latereffectively unrolling tiny loops in its loop buffer.  Modern CPUs can predict multiple branches not-taken to make use of their fetches in large contiguous blocks.)When you have sorted elements, branch prediction easily predicts correctly except right at the boundary, letting instructions flow through the CPU pipeline efficiently, without having to rewind and take the correct path on mispredictions.ShareImprove this answerFolloweditedMar 23, 2022 at 18:12Peter Cordes351k4949 gold badges674674 silver badges927927 bronze badgesansweredOct 23, 2019 at 21:35hatirlaticihatirlatici1,66522 gold badges1313 silver badges2626 bronze badges\n\nAn answer for quick and simple understanding (read the others for more details)This concept is calledbranch predictionBranch prediction is an optimization technique that predicts the path the code will take before it is known with certainty. This is important because during the code execution, the machine prefetches several code statements and stores them in the pipeline.The problem arises in conditional branching, where there are two possible paths or parts of the code that can be executed.When the prediction was true, the optimization technique worked out.When the prediction was false, to explain it in a simple way, the code statement stored in the pipeline gets proved wrong and the actual code has to be completely reloaded, which takes up a lot of time.As common sense suggests, predictions of something sorted are way more accurate than predictions of something unsorted.branch prediction visualisation:sortedunsortedShareImprove this answerFolloweditedMar 18, 2022 at 5:43Günter Zöchbauer648k230230 gold badges2k2k silver badges1.6k1.6k bronze badgesansweredNov 5, 2021 at 10:05Geek26Geek2648966 silver badges1111 bronze badges'}","{'title': 'What is the difference between String and string in C#?', 'question': 'What are the differences between these two, and which one should I use?string s = ""Hello world!"";\nString s = ""Hello world!"";c#.netstringtypesaliasShareImprove this questionFolloweditedApr 28, 2023 at 21:39community wiki27 revs, 23 users 9%Peter O.', 'answers': 'stringis an alias in C# forSystem.String.So technically, there is no difference.  It\'s likeintvs.System.Int32.As far as guidelines, it\'s generally recommended to usestringany time you\'re referring to an object.e.g.string place = ""world"";Likewise, I think it\'s generally recommended to useStringif you need to refer specifically to the class.e.g.string greet = String.Format(""Hello {0}!"", place);This is the style that Microsoft tends to use intheir examples.It appears that the guidance in this area may have changed, asStyleCopnow enforces the use of the C# specific aliases.ShareImprove this answerFolloweditedAug 8, 2022 at 12:53community wiki28 revs, 23 users 25%Derek Park\n\nJust for the sake of completeness, here\'s a brain dump of related information...As others have noted,stringis an alias forSystem.String. Assuming your code usingStringcompiles toSystem.String(i.e. you haven\'t got a using directive for some other namespace with a differentStringtype), they compile to the same code, so at execution time there is no difference whatsoever. This is just one of the aliases in C#. The complete list is:bool:    System.Boolean\nbyte:    System.Byte\nchar:    System.Char\ndecimal: System.Decimal\ndouble:  System.Double\nfloat:   System.Single\nint:     System.Int32\nlong:    System.Int64\nnint:    System.IntPtr\nobject:  System.Object\nsbyte:   System.SByte\nshort:   System.Int16\nstring:  System.String\nuint:    System.UInt32\nulong:   System.UInt64\nushort:  System.UInt16Apart fromstringandobject, the aliases are all to value types.decimalis a value type, but not a primitive type in the CLR. The only primitive type which doesn\'t have an alias isSystem.IntPtr.In the spec, the value type aliases are known as ""simple types"". Literals can be used for constant values of every simple type; no other value types have literal forms available. (Compare this with VB, which allowsDateTimeliterals, and has an alias for it too.)There is one circumstance in which youhaveto use the aliases: when explicitly specifying an enum\'s underlying type. For instance:public enum Foo : UInt32 {} // Invalid\npublic enum Bar : uint   {} // ValidThat\'s just a matter of the way the spec defines enum declarations - the part after the colon has to be theintegral-typeproduction, which is one token ofsbyte,byte,short,ushort,int,uint,long,ulong,char... as opposed to atypeproduction as used by variable declarations for example. It doesn\'t indicate any other difference.Finally, when it comes to which to use: personally I use the aliases everywhere for the implementation, but the CLR type for any APIs. It really doesn\'t matter too much which you use in terms of implementation - consistency among your team is nice, but no-one else is going to care. On the other hand, it\'s genuinely important that if you refer to a type in an API, you do so in a language-neutral way. A method calledReadInt32is unambiguous, whereas a method calledReadIntrequires interpretation. The caller could be using a language that defines anintalias forInt16, for example. The .NET framework designers have followed this pattern, good examples being in theBitConverter,BinaryReaderandConvertclasses.ShareImprove this answerFolloweditedApr 15 at 19:24community wiki16 revs, 11 users 53%Jon Skeet\n\nStringstands forSystem.Stringand it is a .NET Framework type.stringis an aliasin the C# language forSystem.String. Both of them are compiled toSystem.Stringin IL(Intermediate Language), so there is no difference. Choose what you like and use that. If you code in C#, I\'d preferstringas it\'s a C# type alias and well-known by C# programmers.I can say the same about(int,System.Int32)etc..ShareImprove this answerFolloweditedDec 3, 2011 at 19:53community wiki3 revs, 3 users 57%artur02\n\nThe best answer I have ever heard about using the provided type aliases in C# comes from Jeffrey Richter in his bookCLR Via C#. Here are his 3 reasons:I\'ve seen a number of developers confused, not knowing whether to usestringorStringin their code. Because in C# the string (a keyword) maps exactly to System.String (an FCL type), there is no difference and either can be used.In C#,longmaps toSystem.Int64, but in a different programming language,longcould map to anInt16orInt32. In fact, C++/CLI does in fact treat long as anInt32. Someone reading source code in one language could easily misinterpret the code\'s intention if he or she were used to programming in a different programming language. In fact, most languages won\'t even treatlongas a keyword and won\'t compile code that uses it.The FCL has many methods that have type names as part of their method names. For example, theBinaryReadertype offers methods such asReadBoolean,ReadInt32,ReadSingle, and so on, and theSystem.Converttype offers methods such asToBoolean,ToInt32,ToSingle, and so on. Although it\'s legal to write the following code, the line with float feels very unnatural to me, and it\'s not obvious that the line is correct:BinaryReader br = new BinaryReader(...);\nfloat val  = br.ReadSingle(); // OK, but feels unnatural\nSingle val = br.ReadSingle(); // OK and feels goodSo there you have it. I think these are all really good points. I however, don\'t find myself using Jeffrey\'s advice in my own code. Maybe I am too stuck in my C# world but I end up trying to make my code look like the framework code.ShareImprove this answerFolloweditedJul 4, 2018 at 11:05community wiki4 revs, 3 users 89%Luke Foust\n\nstringis a reserved word, butStringis just a class name. \nThis means thatstringcannot be used as a variable name by itself.If for some reason you wanted a variable calledstring, you\'d see only the first of these compiles:StringBuilder String = new StringBuilder();  // compiles\nStringBuilder string = new StringBuilder();  // doesn\'t compileIf you really want a variable name calledstringyou can use@as a prefix:StringBuilder @string = new StringBuilder();Another critical difference: Stack Overflow highlights them differently.ShareImprove this answerFolloweditedDec 27, 2017 at 17:33community wiki5 revs, 4 users 79%Simon_Weaver\n\nThere is one difference- you can\'t useStringwithoutusing System;beforehand.Updated:""String""with a capital""S""is a keyword that refers to the built-in string data type in the .NET Framework\'s Base Class Library. It is a reference type that represents a sequence of characters.On the other hand,""string""with a lowercase""s""is an alias for the""System.String""type, which means they are essentially the same thing. The use of ""string"" is just a shorthand way of referring to the""System.String""type, and it is used more commonly in C# code.Both""String""and""string""are interchangeable in C#, and you can use either one to declare a variable of type string.String myString = ""Hello World""; // using the String keyword\nstring myString = ""Hello World""; // using the string aliasHowever, it is recommended to use the""string""alias in C# code for consistency with the rest of the language\'s syntax and convention.Here you can read more aboutC# StringShareImprove this answerFolloweditedMar 23, 2023 at 12:07community wiki4 revs, 4 users 81%Alpesh Valvi\n\nIt\'s been covered above; however, you can\'t usestringin reflection; you must useString.ShareImprove this answerFolloweditedNov 19, 2011 at 9:36community wiki2 revs, 2 users 67%TraumaPony\n\nSystem.Stringis the .NET string class - in C#stringis an alias forSystem.String- so in use they are the same.As for guidelines I wouldn\'t get too bogged down and just use whichever you feel like - there are more important things in life and the code is going to be the same anyway.If you find yourselves building systems where it is necessary to specify the size of the integers you are using and so tend to useInt16,Int32,UInt16,UInt32etc. then it might look more natural to useString- and when moving around between different .net languages it might make things more understandable - otherwise I would use string and int.ShareImprove this answerFolloweditedFeb 6, 2018 at 12:39community wiki3 revs, 3 users 73%Ronnie\n\nI prefer the capitalized.NETtypes (rather than the aliases) for formatting reasons. The.NETtypes are colored the same as other object types (the value types are proper objects, after all).Conditional and control keywords (likeif,switch, andreturn) are lowercase and colored dark blue (by default). And I would rather not have the disagreement in use and format.Consider:String someString; \nstring anotherString;ShareImprove this answerFolloweditedSep 28, 2016 at 11:58community wiki4 revs, 4 users 50%StuartLC\n\nstringandStringare identical in all ways (except the uppercase ""S"").  There are no performance implications either way.Lowercasestringis preferred in most projects due to the syntax highlightingShareImprove this answerFolloweditedNov 19, 2011 at 9:37community wiki2 revs, 2 users 80%TheSoftwareJedi\n\nThis YouTubevideo demonstrates practically how they differ.But now for a long textual answer.When we talk about.NETthere are two different things one there is.NETframework and the other there are languages (C#,VB.NETetc) which use that framework.""System.String"" a.k.a ""String"" (capital ""S"") is a.NETframework data type while ""string"" is aC#data type.In short ""String"" is an alias (the same thing called with different names) of ""string"". So technically both the below code statements will give the same output.String s = ""I am String"";orstring s = ""I am String"";In the same way, there are aliases for other C# data types as shown below:object:System.Object, string:System.String, bool:System.Boolean, byte:System.Byte, sbyte:System.SByte, short:System.Int16and so on.Now the million-dollar question from programmer\'s point of view: So when to use ""String"" and ""string""?The first thing to avoid confusion use one of them consistently. But from best practices perspective when you do variable declaration it\'s good to use ""string"" (small ""s"") and when you are using it as a class name then ""String"" (capital ""S"") is preferred.In the below code the left-hand side is a variable declaration and it is declared using ""string"". On the right-hand side, we are calling a method so ""String"" is more sensible.string s = String.ToUpper() ;ShareImprove this answerFolloweditedOct 19, 2021 at 11:28community wiki5 revs, 5 users 74%Shivprasad Koirala\n\nC# is a language which is used together with the CLR.stringis a type in C#.System.Stringis a type in the CLR.When you use C# together with the CLRstringwill be mapped toSystem.String.Theoretically, you could implement a C#-compiler that generated Java bytecode. A sensible implementation of this compiler would probably mapstringtojava.lang.Stringin order to interoperate with the Java runtime library.ShareImprove this answerFolloweditedDec 25, 2015 at 12:55community wiki3 revs, 2 users 81%Rasmus Faber\n\nLower casestringis an alias forSystem.String.\nThey are the same inC#.There\'s a debate over whether you should use the System types (System.Int32,System.String, etc.) types or theC# aliases(int,string, etc). I personally believe you should use theC# aliases, but that\'s just my personal preference.ShareImprove this answerFolloweditedAug 14, 2017 at 4:33community wiki3 revs, 3 users 60%urini\n\nstringis just an alias forSystem.String. The compiler will treat them identically.The only practical difference is the syntax highlighting as you mention, and that you have to writeusing Systemif you useString.ShareImprove this answerFolloweditedDec 3, 2011 at 19:53community wiki4 revs, 3 users 63%Hallgrim\n\nBoth are same. But from coding guidelines perspective it\'s better to usestringinstead ofString. This is what generally developers use. e.g. instead of usingInt32we useintasintis alias toInt32FYI\n“The keyword string is simply an alias for the predefined classSystem.String.” - C# Language Specification 4.2.3http://msdn2.microsoft.com/En-US/library/aa691153.aspxShareImprove this answerFolloweditedAug 14, 2017 at 5:16community wiki2 revs, 2 users 80%Pradeep Kumar Mishra\n\nAs the others are saying, they\'re the same.  StyleCop rules, by default, will enforce you to usestringas a C# code style best practice, except when referencingSystem.Stringstatic functions, such asString.Format,String.Join,String.Concat, etc...ShareImprove this answerFolloweditedNov 19, 2011 at 9:35community wiki2 revs, 2 users 67%Lloyd Cotten\n\nNew answer after 6 years and 5 months (procrastination).Whilestringis a reserved C# keyword that always has a fixed meaning,Stringis just an ordinaryidentifierwhich could refer to anything. Depending on members of the current type, the current namespace and the appliedusingdirectives and their placement,Stringcould be a value or a type distinct fromglobal::System.String.I shall provide two examples whereusingdirectives will not help.First, whenStringis avalueof the current type (or a local variable):class MySequence<TElement>\n{\n  public IEnumerable<TElement> String { get; set; }\n\n  void Example()\n  {\n    var test = String.Format(""Hello {0}."", DateTime.Today.DayOfWeek);\n  }\n}The above will not compile becauseIEnumerable<>does not have a non-static member calledFormat, and no extension methods apply. In the above case, it may still be possible to useStringin other contexts where atypeis the only possibility syntactically. For exampleString local = ""Hi mum!"";could be OK (depending on namespace andusingdirectives).Worse: SayingString.Concat(someSequence)will likely (depending onusings) go to the Linq extension methodEnumerable.Concat. It will not go to the static methodstring.Concat.Secondly, whenStringis anothertype, nested inside the current type:class MyPiano\n{\n  protected class String\n  {\n  }\n\n  void Example()\n  {\n    var test1 = String.Format(""Hello {0}."", DateTime.Today.DayOfWeek);\n    String test2 = ""Goodbye"";\n  }\n}Neither statement in theExamplemethod compiles. HereStringis always a pianostring,MyPiano.String. No member (staticor not)Formatexists on it (or is inherited from its base class). And the value""Goodbye""cannot be converted into it.ShareImprove this answerFollowansweredJan 15, 2015 at 14:21community wikiJeppe Stig Nielsen\n\nUsing System types makes it easier to port between C# and VB.Net, if you are into that sort of thing.ShareImprove this answerFollowansweredSep 22, 2008 at 19:40community wikiIshmael\n\nAgainst what seems to be common practice among other programmers, I preferStringoverstring, just to highlight the fact thatStringis a reference type, as Jon Skeet mentioned.ShareImprove this answerFolloweditedNov 19, 2011 at 9:35community wiki2 revs, 2 users 67%RolandK\n\nstringis an alias (or shorthand) ofSystem.String. That means, by typingstringwe meantSystem.String. You can read more in think link:\'string\' is an alias/shorthand of System.String.ShareImprove this answerFolloweditedOct 8, 2016 at 18:50community wiki4 revs, 3 users 78%JeeShen Lee\n\nI\'d just like to add this to lfousts answer, from Ritchers book:The C# language specification states, “As a matter of style, use of the keyword is favored over\n  use of the complete system type name.” I disagree with the language specification; I prefer\n  to use the FCL type names and completely avoid the primitive type names. In fact, I wish that\n  compilers didn’t even offer the primitive type names and forced developers to use the FCL\n  type names instead. Here are my reasons:I’ve seen a number of developers confused, not knowing whether to usestringorStringin their code. Because in C#string(a keyword) maps exactly toSystem.String(an FCL type), there is no difference and either can be used. Similarly,\n  I’ve heard some developers say thatintrepresents a 32-bit integer when the application\n  is running on a 32-bit OS and that it represents a 64-bit integer when the application\n  is running on a 64-bit OS. This statement is absolutely false: in C#, anintalways maps\n  toSystem.Int32, and therefore it represents a 32-bit integer regardless of the OS the\n  code is running on. If programmers would useInt32in their code, then this potential\n  confusion is also eliminated.In C#,longmaps toSystem.Int64, but in a different programming language,longcould map to anInt16orInt32. In fact, C++/CLI does treatlongas anInt32.\n  Someone reading source code in one language could easily misinterpret the code’s\n  intention if he or she were used to programming in a different programming language.\n  In fact, most languages won’t even treatlongas a keyword and won’t compile code\n  that uses it.The FCL has many methods that have type names as part of their method names. For\n  example, theBinaryReadertype offers methods such asReadBoolean,ReadInt32,ReadSingle, and so on, and theSystem.Converttype offers methods such asToBoolean,ToInt32,ToSingle, and so on. Although it’s legal to write the following\n  code, the line withfloatfeels very unnatural to me, and it’s not obvious that the line is\n  correct:BinaryReader br = new BinaryReader(...);\nfloat val = br.ReadSingle(); // OK, but feels unnatural\nSingle val = br.ReadSingle(); // OK and feels goodMany programmers that use C# exclusively tend to forget that other programming\n  languages can be used against the CLR, and because of this, C#-isms creep into the\n  class library code. For example, Microsoft’s FCL is almost exclusively written in C# and\n  developers on the FCL team have now introduced methods into the library such asArray’sGetLongLength, which returns anInt64value that is alongin C# but not\n  in other languages (like C++/CLI). Another example isSystem.Linq.Enumerable’sLongCountmethod.I didn\'t get his opinion before I read the complete paragraph.ShareImprove this answerFolloweditedDec 5, 2018 at 9:34community wiki2 revs, 2 users 58%Otiel\n\nString (System.String) is a class in the base class library. string (lower case) is a reserved work in C# that is an alias for System.String. Int32 vs int is a similar situation as isBoolean vs. bool. These C# language specific keywords enable you to declare primitives in a style similar to C.ShareImprove this answerFolloweditedDec 24, 2013 at 4:50community wiki2 revs, 2 users 67%Joe Alfano\n\n@JaredPar(a developer on the C# compiler and prolific SO user!) wrote agreat blog poston this issue. I think it is worth sharing here. It is a nice perspective on our subject.stringvs.Stringis not a style debate[...]The keywordstringhas concrete meaning in C#. It is the typeSystem.Stringwhich exists in the core runtime assembly. The runtime intrinsically understands this type and provides the capabilities developers expect for strings in .NET. Its presence is so critical to C# that if that type doesn’t exist the compiler will exit before attempting to even parse a line of code. Hencestringhas a precise, unambiguous meaning in C# code.The identifierStringthough has no concrete meaning in C#. It is an identifier that goes through all the name lookup rules asWidget,Student, etc … It could bind to string or it could bind to a type in another assembly entirely whose purposes may be entirely different thanstring. Worse it could be defined in a way such that code likeString s = ""hello""; continued to compile.class TricksterString { \n  void Example() {\n    String s = ""Hello World""; // Okay but probably not what you expect.\n  }\n}\n\nclass String {\n  public static implicit operator String(string s) => null;\n}The actual meaning ofStringwill always depend on name resolution.\nThat means it depends on all the source files in the project and all\nthe types defined in all the referenced assemblies. In short it\nrequires quite a bit of context toknowwhat it means.True that in the vast majority of casesStringandstringwill bind to\nthe same type. But usingStringstill means developers are leaving\ntheir program up to interpretation in places where there is only one\ncorrect answer. WhenStringdoes bind to the wrong type it can leave\ndevelopers debugging for hours, filing bugs on the compiler team, and\ngenerally wasting time that could’ve been saved by usingstring.Another way to visualize the difference is with this sample:string s1 = 42; // Errors 100% of the time  \nString s2 = 42; // Might error, might not, depends on the codeMany will argue that while this is information technically accurate usingStringis still fine because it’s exceedingly rare that a codebase would define a type of this name. Or that whenStringis defined it’s a sign of a bad codebase.[...]You’ll see thatStringis defined for a number of completely valid purposes: reflection helpers, serialization libraries, lexers, protocols, etc … For any of these librariesStringvs.stringhas real consequences depending on where the code is used.So remember when you see theStringvs.stringdebate this is about semantics, not style. Choosing string gives crisp meaning to your codebase. ChoosingStringisn’t wrong but it’s leaving the door open for surprises in the future.Note: I copy/pasted most of the blog posts for archive reasons. I ignore some parts, so I recommend skipping and reading theblog postif you can.ShareImprove this answerFolloweditedJan 26, 2021 at 0:42community wiki4 revs, 3 users 92%aloisdg\n\nIt\'s a matter of convention, really.stringjust looks more like C/C++ style.  The general convention is to use whatever shortcuts your chosen language has provided (int/Int forInt32).  This goes for ""object"" anddecimalas well.Theoretically this could help to port code into some future 64-bit standard in which ""int"" might meanInt64, but that\'s not the point, and I would expect any upgrade wizard to change anyintreferences toInt32anyway just to be safe.ShareImprove this answerFolloweditedOct 3, 2018 at 4:24community wiki2 revs, 2 users 67%Mel\n\nStringis not a keyword and it can be used as Identifier whereasstringis a keyword and cannot be used as Identifier. And in function point of view both are same.ShareImprove this answerFolloweditedNov 19, 2011 at 9:35community wiki2 revs, 2 users 67%user576533\n\nComing late to the party: I use the CLR types 100% of the time (well, except ifforcedto use the C# type, but I don\'t remember when the last time that was).I originally started doing this years ago, as per the CLR books by Ritchie. It made sense to me that all CLR languages ultimately have to be able to support the set of CLR types, so using the CLR types yourself provided clearer, and possibly more ""reusable"" code.Now that I\'ve been doing it for years, it\'s a habit and I like the coloration that VS shows for the CLR types.The only real downer is that auto-complete uses the C# type, so I end up re-typing automatically generated types to specify the CLR type instead.Also, now, when I see ""int"" or ""string"", it just looks really wrong to me, like I\'m looking at 1970\'s C code.ShareImprove this answerFollowansweredAug 24, 2012 at 15:22community wikiMichael Ray Lovett\n\nThere is no difference.The C# keywordstringmaps to the .NET typeSystem.String- it is an alias that keeps to the naming conventions of the language.Similarly,intmaps toSystem.Int32.ShareImprove this answerFolloweditedJan 15, 2012 at 0:30community wiki2 revs, 2 users 89%Oded\n\nThere\'s a quote on this issue fromDaniel Solis\' book.All the predefined types  are mapped directly to\n  underlying .NET types. The C# type names (string) are simply aliases for the\n  .NET types (String or System.String), so using the .NET names works fine syntactically, although\n  this is discouraged. Within a C# program, you should use the C# names\n  rather than the .NET names.ShareImprove this answerFolloweditedDec 11, 2016 at 5:27community wiki3 revs, 3 users 67%user2771704\n\nstringis a keyword, and you can\'t use string as an identifier.Stringis not a keyword, and you can use it as an identifier:Examplestring String = ""I am a string"";The keywordstringis an alias forSystem.Stringaside from the keyword issue, the two are exactly\n equivalent.typeof(string) == typeof(String) == typeof(System.String)ShareImprove this answerFolloweditedMar 16, 2016 at 19:35community wiki2 revs, 2 users 73%CoreDeveloper\n\nYes, that\'s no difference between them, just like theboolandBoolean.ShareImprove this answerFolloweditedDec 25, 2015 at 12:55community wiki2 revs, 2 users 67%Coder'}","{'title': 'Reference Guide: What does this symbol mean in PHP? (PHP Syntax)', 'question': 'What is this?This is a collection of questions that come up now and then about syntax in PHP. This is also a Community Wiki, so everyone is invited to participate in maintaining this list.This question shouldn\'t be used as a dupe target for closing questions.Use  actual questions linked here as dupe targets instead.Why is this?It used to be hard to find questions about operators and other syntax tokens.¹The main idea is to have links to existing questions on Stack Overflow, so it\'s easier for us to reference them, and not to copy over content from the PHP Manual.Note: Since January 2013, Stack Overflowdoes support special characters. Just surround the search terms by quotes, e.g.[php] ""=="" vs ""===""What should I do here?If you have been pointed here by someone because you have asked such a question, please find the particular syntax below. The linked pages to thePHP manualalong with the linked questions will likely answer your question then. If so, you are encouraged to upvote the answer. This list is not meant as a substitute for the help others provide.The ListIf your particular token is not listed below, you might find it in theList of Parser Tokens.&Bitwise OperatorsorReferencesWhat does it mean to start a PHP function with an ampersand?Understanding PHP & (ampersand, bitwise and) operatorPHP ""&"" operatorDifference between & and && in PHPWhat does ""&"" mean here in PHP?What does ""&"" mean in this case?What does the ""&"" sign mean in PHP?What does this signature mean (&) in PHP?How does the ""&"" operator work in a PHP function?What does & in &2 mean in PHP?When should I use a bitwise operator?Is there ever a need to use ampersand in front of an object?(&$)=&ReferencesReference assignment operator in PHP, =&What do the ""=&"" and ""&="" operators in PHP mean?What do the \'&=\' and \'=&\' operators do?What does =& mean in PHP?&=Bitwise OperatorsWhat do the ""=&"" and ""&="" operators in PHP mean?What do the \'&=\' and \'=&\' operators do?&&Logical Operators\'AND\' vs \'&&\' as operatorDifference between & and && in PHPIs there any difference between ""and"" and ""&&"" operators in PHP?PHP - and / or keywords%Arithmetic OperatorsWhat does the percent sign mean in PHP?What is the PHP operator % and how do I use it in real-world examples?!!Logical OperatorsDouble not (!!) operator in PHP@Error Control OperatorsWhat is the use of the @ symbol in PHP?\'At\' symbol before variable name in PHP: @$_POSTPHP functions and @functionsShould I use @ in my PHP code?What does @ mean in PHP??:Ternary OperatorWhat are the PHP operators ""?"" and "":"" called and what do they do??: operator (the \'Elvis operator\') in PHPWhere can I read about conditionals done with ""?"" and "":"" (colon)?Using PHP 5.3 ?: operatorDouble question mark??Null Coalesce Operator(since PHP 7)C#\'s null coalescing operator (??) in PHPA question mark followed by a type declaration?string?int?array?bool?floatNullable type declaration(since PHP 7.1)How to use a nullable typeNullable return type declaration?->question mark followed by object operator is aNullSafe Operator(since PHP 8.0)Is there a ""nullsafe operator"" in PHP?:Alternative syntax for control structures,Ternary Operator,Return Type DeclarationWhat is "":"" in PHP?What does "":"" mean in PHP?Colon after method declaration?::Scope Resolution OperatorWhat do two colons mean in PHP?What\'s the meaning of the PHP token name T_PAAMAYIM_NEKUDOTAYIM?What\'s the difference between :: (double colon) and -> (arrow) in PHP?What exactly are late static bindings in PHP?static::staticFunctionName()Unexpected T_PAAMAYIM_NEKUDOTAYIM, expecting T_NS_Separator\\NamespacesBackslash in PHP -- what does it mean?What does a \\ (backslash) in front of function names mean?->Classes And ObjectsWhat is the ""->"" PHP operator called?Where do we use the object operator ""->"" in PHP?What\'s the difference between :: (double colon) and -> (arrow) in PHP?What does the PHP syntax $var1->$var2 mean?What does ""->"" mean/refer to in PHP?=>ArraysWhat does ""=>"" mean in PHP?Use of => in PHPWhat does $k => $v in foreach($ex as $k=>$v) mean?^Bitwise OperatorsHow does the bitwise operator XOR (\'^\') work?What does ^ mean in PHP?>>Bitwise OperatorsWhat does >> mean in PHP?<<Bitwise OperatorsStrange print behaviour in PHP?<<<Heredoc or NowdocWhat does <<<END mean in PHP?PHP expression <<<EOBIn PHP, what does ""<<<"" represent?Using <<<CON in PHPWhat\'s this kind of syntax in PHP?=Assignment OperatorsThe 3 different equals==Comparison OperatorsHow do the PHP equality (== double equals) and identity (=== triple equals) comparison operators differ?PHP != and == operatorsThe 3 different equalsType-juggling and (strict) greater/lesser-than comparisons in PHP===Comparison OperatorsWhat does ""==="" mean?How do the PHP equality (== double equals) and identity (=== triple equals) comparison operators differ?The 3 different equalsType-juggling and (strict) greater/lesser-than comparisons in PHP!==Comparison OperatorsWhat does !== comparison operator in PHP mean?Is there a difference between !== and != in PHP?!=Comparison OperatorsPHP != and == operatorsIs there a difference between !== and != in PHP?comparing, !== versus !=What is the difference between <> and !=<>Comparison OperatorsPHP operator <>https://stackoverflow.com/questions/589391What is the difference between <> and !=Type-juggling and (strict) greater/lesser-than comparisons in PHP<=>Comparison Operators(since PHP 7.0)Spaceship (three way comparison) operator|Bitwise OperatorsWhat is the difference between the | and || operators?What Does Using A Single Pipe \'|\' In A Function Argument Do?||Logical OperatorsWhat is the difference between the | and || operators?PHP - and / or keywordsWhat exactly does || mean?The behaviour of the or operator in PHP~Bitwise OperatorsWhat does this ~ operator mean here?+Arithmetic Operators,Array OperatorsMerging two arrays with the ""+"" (array union operator) How does it work?+=and-=Assignment OperatorsWhat is += used for?What does `$page -= 1` in my PHP document mean?++and--Incrementing/Decrementing OperatorsUnderstanding IncrementingAnswer below.=Assignment OperatorsWhat is the difference between .= and += in PHP?What is the .= (dot equals) operator in PHP?.String OperatorsDifference between period and comma when concatenating with echo versus return?What does a . (dot) do in PHP?,Function ArgumentsDifference between period and comma when concatenating with echo versus return?,Variable DeclarationsWhat do commas mean in a variable declaration?$$Variable VariablesWhat does $$ (dollar dollar or double dollar) mean in PHP?what is ""$$"" in PHP$function() and $$variable`Execution OperatorWhat are the backticks `` called?<?=Short Open TagsWhat does this symbol mean in PHP <?=What does \'<?=\' mean in PHP?What does <?= mean?[]Arrays(short syntax since PHP 5.4)PHP arrays... What is/are the meaning(s) of an empty bracket?What is the meaning of []Php array_push() vs myArray[]What does [] mean when reading from a PHP array?Shorthand for arrays: literal$var = []empty array<?Opening and Closing tagsAre PHP short tags acceptable to use?..Double-dot character rangeNative PHP functions that allow double-dot range syntax...Argument unpacking(since PHP 5.6)**Exponentiation(since PHP 5.6)#One-line shell-style commentCan I use hashes for comments in PHP?#[]Attributes(since PHP 8)phpargumentsoperatorssymbolssemanticsShareImprove this questionFolloweditedApr 15 at 8:30community wiki134 revs, 71 users 43%Gordon', 'answers': 'Incrementing / Decrementing Operators++increment operator--decrement operatorExample    Name              Effect\n---------------------------------------------------------------------\n++$a       Pre-increment     Increments $a by one, then returns $a.\n$a++       Post-increment    Returns $a, then increments $a by one.\n--$a       Pre-decrement     Decrements $a by one, then returns $a.\n$a--       Post-decrement    Returns $a, then decrements $a by one.These can go before or after the variable.If put before the variable, the increment/decrement operation is done to the variablefirstthen the result is returned. If put after the variable, the variable isfirstreturned, then the increment/decrement operation is done.For example:$apples = 10;\nfor ($i = 0; $i < 10; ++$i) {\n    echo \'I have \' . $apples-- . "" apples. I just ate one.\\n"";\n}Live exampleIn the case above++$iis used, since it is faster.$i++would have the same results.Pre-increment is a little bit faster because it really increments the variable and after that \'returns\' the result. Post-increment creates a special variable, copies there the value of the first variable and only after the first variable is used, replaces its value with second\'s.However, you must use$apples--, since first, you want to display the current number of apples, andthenyou want to subtract one from it.You can also increment letters in PHP:$i = ""a"";\nwhile ($i < ""c"") {\n    echo $i++;\n}Oncezis reachedaais next, and so on.Note that character variables can be incremented but not decremented and even so only plain ASCII characters (a-z and A-Z) are supported.Stack Overflow Posts:Understanding IncrementingShareImprove this answerFolloweditedNov 12, 2018 at 8:39community wiki16 revs, 9 users 80%Peter Ajtai\n\nBitwise OperatorWhat is a bit? A bit is a representation of 1 or 0. Basically OFF(0) and ON(1)What is a byte? A byte is made up of 8 bits and the highest value of a byte is 255, which would mean every bit is set. We will look at why a byte\'s maximum value is 255.-------------------------------------------\n|      1 Byte ( 8 bits )                  |\n-------------------------------------------\n|Place Value | 128| 64| 32| 16| 8| 4| 2| 1|     \n-------------------------------------------This representation of 1 Byte1 + 2 + 4 + 8 + 16 + 32 + 64 + 128 = 255 (1 Byte)A few examples for better understandingThe ""AND"" operator:&$a =  9;\n$b = 10;\necho $a & $b;This would output the number 8. Why? Well let\'s see using our table example.-------------------------------------------\n|      1 Byte ( 8 bits )                  |\n-------------------------------------------\n|Place Value | 128| 64| 32| 16| 8| 4| 2| 1|     \n-------------------------------------------\n|      $a    |   0|  0|  0|  0| 1| 0| 0| 1|    \n-------------------------------------------\n|      $b    |   0|  0|  0|  0| 1| 0| 1| 0|\n------------------------------------------- \n|      &     |   0|  0|  0|  0| 1| 0| 0| 0|\n-------------------------------------------So you can see from the table the only bit they share together is the 8 bit.Second example$a =  36;\n$b = 103;\necho $a & $b; // This would output the number 36.\n$a = 00100100\n$b = 01100111The two shared bits are 32 and 4, which when added together return 36.The ""Or"" operator:|$a =  9;\n$b = 10;\necho $a | $b;This would output the number 11. Why?-------------------------------------------\n|      1 Byte ( 8 bits )                  |\n-------------------------------------------\n|Place Value | 128| 64| 32| 16| 8| 4| 2| 1|     \n-------------------------------------------\n|      $a    |   0|  0|  0|  0| 1| 0| 0| 1|    \n-------------------------------------------\n|      $b    |   0|  0|  0|  0| 1| 0| 1| 0|\n------------------------------------------- \n|      |     |   0|  0|  0|  0| 1| 0| 1| 1|\n-------------------------------------------You will notice that we have 3 bits set, in the 8, 2, and 1 columns. Add those up: 8+2+1=11.ShareImprove this answerFolloweditedSep 19, 2016 at 12:15community wiki3 revs, 3 users 62%Ankur Saxena\n\n<=>Spaceship OperatorAdded in PHP 7Thespaceship operator<=>is the latest comparison operator added in PHP 7. It is anon-associativebinary operator with the same precedence as equality operators (==,!=,===,!==). This operator allows for simpler three-way comparison between left-hand and right-hand operands.The operator results in an integer expression of:0when both operands are equalLess than0when the left-hand operand is less than the right-hand operandGreater than0when the left-hand operand is greater than the right-hand operande.g.1 <=> 1; // 0\n1 <=> 2; // -1\n2 <=> 1; // 1A good practical application of using this operator would be in comparison type callbacks that are expected to return a zero, negative, or positive integer based on a three-way comparison between two values. The comparison function passed tousortis one such example.Before PHP 7 you would write...$arr = [4,2,1,3];\n\nusort($arr, function ($a, $b) {\n    if ($a < $b) {\n        return -1;\n    } elseif ($a > $b) {\n        return 1;\n    } else {\n        return 0;\n    }\n});Since PHP 7 you can write...$arr = [4,2,1,3];\n\nusort($arr, function ($a, $b) {\n    return $a <=> $b;\n    // return $b <=> $a; // for reversing order\n});ShareImprove this answerFolloweditedSep 9, 2021 at 15:16community wiki13 revs, 6 users 79%Sherif\n\n_Alias for gettext()The underscore character \'_\' as in_()is an alias to thegettext()function.ShareImprove this answerFolloweditedFeb 19, 2018 at 8:14community wiki4 revs, 4 users 75%Habeeb Perwad\n\nSyntaxNameDescriptionx == yEqualitytrueif x and y have the same key/value pairsx != yInequalitytrueif x is not equal to yx === yIdentitytrueif x and y have the same key/value pairsin the same order and of the same typesx !== yNon-identitytrueif x is not identical to yx <=> ySpaceship0 if x is equal to y, greater than 0 if x > y, less than 0 if x < y++xPre-incrementIncrements x by one, then returns xx++Post-incrementReturns x, then increments x by one--xPre-decrementDecrements x by one, then returns xx--Post-decrementReturns x, then decrements x by onex and yAndtrueif both x and y aretrue. If x=6, y=3 then(x < 10 and y > 1)returnstruex && yAndtrueif both x and y aretrue. If x=6, y=3 then(x < 10 && y > 1)returnstruex or yOrtrueif any of x or y aretrue. If x=6, y=3 then(x < 10 or y > 10)returnstruex || yOrtrueif any of x or y aretrue. If x=6, y=3 then(x < 3 || y > 1)returnstruea . bConcatenationConcatenate two strings: ""Hi"" . ""Ha""ShareImprove this answerFolloweditedJul 7, 2021 at 17:59community wiki10 revs, 10 users 20%Ankur Saxena\n\nMagic constants: Although these are not just symbols but important part of this token family. There are eight magical constants that change depending on where they are used.__LINE__: The current line number of the file.__FILE__: The full path and filename of the file. If used inside an include, the name of the included file is returned. Since PHP 4.0.2,__FILE__always contains an absolute path with symlinks resolved whereas in older versions it contained relative path under some circumstances.__DIR__: The directory of the file. If used inside an include, the directory of the included file is returned. This is equivalent todirname(__FILE__). This directory name does not have a trailing slash unless it is the root directory. (Added in PHP 5.3.0.)__FUNCTION__: The function name. (Added in PHP 4.3.0) As of PHP 5 this constant returns the function name as it was declared (case-sensitive). In PHP 4 its value is always lowercased.__CLASS__: The class name. (Added in PHP 4.3.0) As of PHP 5 this constant returns the class name as it was declared (case-sensitive). In PHP 4 its value is always lowercased. The class name includes the namespace it was declared in (e.g.Foo\\Bar). Note that as of PHP 5.4__CLASS__works also in traits. When used in a trait method,__CLASS__is the name of the class the trait is used in.__TRAIT__: The trait name. (Added in PHP 5.4.0) As of PHP 5.4 this constant returns the trait as it was declared (case-sensitive). The trait name includes the namespace it was declared in (e.g.Foo\\Bar).__METHOD__: The class method name. (Added in PHP 5.0.0) The method name is returned as it was declared (case-sensitive).__NAMESPACE__: The name of the current namespace (case-sensitive). This constant is defined in compile-time (Added in PHP 5.3.0).SourceShareImprove this answerFolloweditedFeb 21, 2014 at 0:42community wiki2 revs, 2 users 66%n.1\n\nType Operatorsinstanceofis used to determine whether a PHP variable is an instantiated object of a certain class.<?php\nclass mclass { }\nclass sclass { }\n$a = new mclass;\nvar_dump($a instanceof mclass);\nvar_dump($a instanceof sclass);The above example will output:bool(true)\nbool(false)Reason:Above Example$ais a object of themclassso use only amclassdata not instance of with thesclassExample with inheritance<?php \nclass pclass { } \nclass childclass extends pclass { } \n$a = new childclass; \nvar_dump($a instanceof childclass); \nvar_dump($a instanceof pclass);The above example will output:bool(true)\nbool(true)Example with Clone<?php \nclass cloneable { } \n$a = new cloneable;\n$b = clone $a; \nvar_dump($a instanceof cloneable); \nvar_dump($b instanceof cloneable);The above example will output:bool(true)\nbool(true)ShareImprove this answerFolloweditedMar 13, 2016 at 1:16community wiki3 revs, 3 users 51%Maulik patel\n\nAn overview ofoperators in PHP:Logical Operators:$a && $b :TRUE if both $a and $b are TRUE.$a || $b :TRUE if either $a or $b is TRUE.$a xor $b :TRUE if either $a or $b is TRUE, but not both.! $a :TRUE if $a is not TRUE.$a and $b :TRUE if both $a and $b are TRUE.$a or $b :TRUE if either $a or $b is TRUE.Comparison operators:$a == $b :TRUE if $a is equal to $b after type juggling.$a === $b   :TRUE if $a is equal to $b, and they are of the same type.$a != $b :TRUE if $a is not equal to $b after type juggling.$a <> $b :TRUE if $a is not equal to $b after type juggling.$a !== $b   :TRUE if $a is not equal to $b, or they are not of the same type.$a < $b: TRUE if $a is strictly less than $b.$a > $b: TRUE if $a is strictly greater than $b.$a <= $b: TRUE if $a is less than or equal to $b.$a >= $b: TRUE if $a is greater than or equal to $b.$a <=> $b: An integer less than, equal to, or greater than zero when $a is respectively less than, equal to, or greater than $b. Available as of PHP 7.$a ? $b : $c: if $a return $b else return $c (ternary operator)$a ?? $c: Same as $a ? $a : $c (null coalescing operator- requires PHP>=7)Arithmetic Operators:-$a: Opposite of $a.$a + $b: Sum of $a and $b.$a - $b: Difference of $a and $b.$a * $b: Product of $a and $b.$a / $b: Quotient of $a and $b.$a % $b: Remainder of $a divided by $b.$a ** $b: Result of raising $a to the $b\'th power (introduced in PHP 5.6)Incrementing/Decrementing Operators:++$a: Increments $a by one, then returns $a.$a++: Returns $a, then increments $a by one.--$a: Decrements $a by one, then returns $a.$a--: Returns $a, then decrements $a by one.Bitwise Operators:$a & $b: Bits that are set in both $a and $b are set.$a | $b: Bits that are set in either $a or $b are set.$a ^ $b: Bits that are set in $a or $b but not both are set.~ $a: Bits that are set in $a are not set, and vice versa.$a << $b: Shift the bits of $a $b steps to the left (each step means ""multiply by two"")$a >> $b: Shift the bits of $a $b steps to the right (each step means ""divide by two"")String Operators:$a . $b: Concatenation of $a and $b.Array Operators:$a + $b: Union of $a and $b.$a == $b: TRUE if $a and $b have the same key/value pairs.$a === $b: TRUE if $a and $b have the same key/value pairs in the same order and of the same types.$a != $b: TRUE if $a is not equal to $b.$a <> $b: TRUE if $a is not equal to $b.$a !== $b: TRUE if $a is not identical to $b.Assignment Operators:$a = $b: The value of $b is assigned to $a$a += $b: Same as $a = $a + $b$a -= $b: Same as $a = $a - $b$a *= $b: Same as $a = $a * $b$a /= $b: Same as $a = $a / $b$a %= $b: Same as $a = $a % $b$a **= $b: Same as $a = $a ** $b$a .= $b: Same as $a = $a . $b$a &= $b: Same as $a = $a & $b$a |= $b: Same as $a = $a | $b$a ^= $b: Same as $a = $a ^ $b$a <<= $b: Same as $a = $a << $b$a >>= $b: Same as $a = $a >> $b$a ??= $b: The value of $b is assigned to $a if $a is null or not defined (null coalescing assignment operator- requires PHP>=7.4)Noteandoperator andoroperator have lower precedence than assignment operator=.This means that$a = true and false;is equivalent to($a = true) and false.In most cases you will probably want to use&&and||, which behave in a way known from languages like C, Java or JavaScript.ShareImprove this answerFolloweditedFeb 22, 2023 at 22:05community wiki15 revs, 10 users 86%John Slegers\n\nSpaceship Operator<=>(Added in PHP 7)Examples for<=>Spaceship operator (PHP 7, Source: PHP Manual):Integers, Floats, Strings, Arrays & objects for Three-way comparison of variables.// Integers\necho 10 <=> 10; // 0\necho 10 <=> 20; // -1\necho 20 <=> 10; // 1\n\n// Floats\necho 1.5 <=> 1.5; // 0\necho 1.5 <=> 2.5; // -1\necho 2.5 <=> 1.5; // 1\n\n// Strings\necho ""a"" <=> ""a""; // 0\necho ""a"" <=> ""b""; // -1\necho ""b"" <=> ""a""; // 1\n// Comparison is case-sensitive\necho ""B"" <=> ""a""; // -1\n\necho ""a"" <=> ""aa""; // -1\necho ""zz"" <=> ""aa""; // 1\n\n// Arrays\necho [] <=> []; // 0\necho [1, 2, 3] <=> [1, 2, 3]; // 0\necho [1, 2, 3] <=> []; // 1\necho [1, 2, 3] <=> [1, 2, 1]; // 1\necho [1, 2, 3] <=> [1, 2, 4]; // -1\n\n// Objects\n$a = (object) [""a"" => ""b""]; \n$b = (object) [""a"" => ""b""]; \necho $a <=> $b; // 0\n\n$a = (object) [""a"" => ""b""]; \n$b = (object) [""a"" => ""c""]; \necho $a <=> $b; // -1\n\n$a = (object) [""a"" => ""c""]; \n$b = (object) [""a"" => ""b""]; \necho $a <=> $b; // 1\n\n// only values are compared\n$a = (object) [""a"" => ""b""]; \n$b = (object) [""b"" => ""b""]; \necho $a <=> $b; // 1ShareImprove this answerFolloweditedJun 20, 2020 at 9:12community wiki6 revs, 4 users 93%rajangupta\n\n{}Curly bracesBlocks - curly braces/no curly braces?Curly braces in string in PHPPHP curly braces in array notationAnd some words about last post$x[4] = \'d\'; // it works\n$x{4} = \'d\'; // it works\n\n$echo $x[4]; // it works\n$echo $x{4}; // it works\n\n$x[] = \'e\'; // it works\n$x{} = \'e\'; // does not work\n\n$x = [1, 2]; // it works\n$x = {1, 2}; // does not work\n\necho ""${x[4]}""; // it works\necho ""${x{4}}""; // does not work\n\necho ""{$x[4]}""; // it works\necho ""{$x{4}}""; // it worksShareImprove this answerFolloweditedMay 23, 2017 at 12:02community wiki2 revsmnv\n\nNull coalescing operator (??)This operator has been added in PHP 7.0 for the common case of needing to use a ternary operator in conjunction withisset(). It returns its first operand if it exists and is notNULL; otherwise it returns its second operand.<?php\n// Fetches the value of $_GET[\'user\'] and returns \'nobody\'\n// if it does not exist.\n$username = $_GET[\'user\'] ?? \'nobody\';\n// This is equivalent to:\n$username = isset($_GET[\'user\']) ? $_GET[\'user\'] : \'nobody\';\n\n// Coalescing can be chained: this will return the first\n// defined value out of $_GET[\'user\'], $_POST[\'user\'], and\n// \'nobody\'.\n$username = $_GET[\'user\'] ?? $_POST[\'user\'] ?? \'nobody\';\n?>ShareImprove this answerFolloweditedFeb 16, 2018 at 14:14community wiki3 revs, 3 users 94%VIPIN A ROY\n\nPHP Strings:PHP Strings can be specified in four ways not just two ways:1) Single Quote Strings:$string = \'This is my string\'; // print This is my string2) Double Quote Strings:$str = \'string\';\n\n$string = ""This is my $str""; // print This is my string3) Heredoc:$string = <<<EOD\nThis is my string\nEOD; // print This is my string4) Nowdoc (since PHP 5.3.0):$string = <<<\'END_OF_STRING\'\n    This is my string \nEND_OF_STRING; // print This is my stringShareImprove this answerFolloweditedFeb 2, 2016 at 13:13community wiki3 revs, 3 users 90%devpro\n\nQUESTION:What does=>mean?ANSWER:=>Is the symbol we humans decided to use to separate""Key"" => ""Value""pairs in Associative Arrays.ELABORATING:To understand this, we have to know what Associative Arrays are. The first thing that comes up when a conventional programmer thinks of an array (in PHP) would be something similar to:$myArray1 = array(2016, ""hello"", 33);//option 1\n\n$myArray2 = [2016, ""hello"", 33];//option 2\n\n$myArray3 = [];//option 3\n$myArray3[] = 2016; \n$myArray3[] = ""hello""; \n$myArray3[] = 33;Where as, if we wanted to call the array in some later part of the code, we could do:echo $myArray1[1];// output: hello\necho $myArray2[1];// output: hello\necho $myArray3[1];// output: helloSo far so good. However, as humans, we might find it hard to remember that index[0]of the array is the value of theyear2016, index[1]of the array is agreetings, and index[2]of the array is a simpleinteger value. The alternative we would then have is to use what is called anAssociative Array. An Associative array has a few differences from aSequential Array(which is what the previous cases were since they increment the index used in a predetermined sequence, by incrementing by 1 for each following value).Differences (between a sequential and associative array):Durring the declaration of an Associative Array, you don\'t only include thevalueof what you want to put in the array, but you also put the index value (called thekey) which you want to use when calling the array in later parts of the code. The following syntax is used during it\'s declaration:""key"" => ""value"".When using the Associative Array, thekeyvalue would then be placed inside the index of the array to retrieve the desiredvalue.For instance:$myArray1 = array( \n    ""Year"" => 2016, \n    ""Greetings"" => ""hello"", \n    ""Integer_value"" => 33);//option 1\n\n$myArray2 = [ \n    ""Year"" =>  2016, \n    ""Greetings"" => ""hello"", \n    ""Integer_value"" => 33];//option 2\n\n$myArray3 = [];//option 3\n$myArray3[""Year""] = 2016; \n$myArray3[""Greetings""] = ""hello""; \n$myArray3[""Integer_value""] = 33;And now, to receive the same output as before, thekeyvalue would be used in the arrays index:echo $myArray1[""Greetings""];// output: hello\necho $myArray2[""Greetings""];// output: hello\necho $myArray3[""Greetings""];// output: helloFINAL POINT:So from the above example, it is pretty easy to see that the=>symbol is used to express the relationship of an Associative Array between each of thekeyandvaluepairs in an arrayDURINGthe initiation of the values within the array.ShareImprove this answerFolloweditedDec 7, 2020 at 10:03community wiki4 revs, 2 users 63%Webeng\n\nQuestion:What does ""&"" mean here in PHP?PHP ""&"" operatorMakes life more easier once we get used to it..(check example below carefully)&usually checks bits that are set in both $a and $b are set.have you even noticed how these calls works?error_reporting(E_ERROR | E_WARNING | E_PARSE);\n    error_reporting(E_ERROR | E_WARNING | E_PARSE | E_NOTICE);\n    error_reporting(E_ALL & ~E_NOTICE);\n    error_reporting(E_ALL);So behind all above is game of bitwise operator and bits.One usefull case of these is easy configurations like give below, so a single integer field can store thousands of combos for you.Most people have already read the docs but didn\'t reliase the real world use case of these bitwise operators.Example That you \'ll love<?php\n\nclass Config {\n\n    // our constants must be 1,2,4,8,16,32,64 ....so on\n    const TYPE_CAT=1;\n    const TYPE_DOG=2;\n    const TYPE_LION=4;\n    const TYPE_RAT=8;\n    const TYPE_BIRD=16;\n    const TYPE_ALL=31;\n\n    private $config;\n\n    public function __construct($config){\n        $this->config=$config;\n\n        if($this->is(Config::TYPE_CAT)){\n            echo \'cat \';\n        }\n        if($this->is(Config::TYPE_DOG)){\n            echo \'dog \';\n        }\n        if($this->is(Config::TYPE_RAT)){\n            echo \'rat \';\n        }\n        if($this->is(Config::TYPE_LION)){\n            echo \'lion \';\n        }\n        if($this->is(Config::TYPE_BIRD)){\n            echo \'bird \';\n        }\n        echo ""\\n"";\n    }\n\n    private function is($value){\n        return $this->config & $value;\n    }\n}\n\nnew Config(Config::TYPE_ALL);\n// cat dog rat lion bird\nnew Config(Config::TYPE_BIRD);\n//bird\nnew Config(Config::TYPE_BIRD | Config::TYPE_DOG);\n//dog bird\nnew Config(Config::TYPE_ALL & ~Config::TYPE_DOG & ~Config::TYPE_CAT);\n//rat lion birdShareImprove this answerFolloweditedMar 20, 2017 at 5:37community wiki2 revsdev.mraj\n\n==is used for check equalitywithoutconsidering variabledata-type===is used for check equality forboththe variablevalueanddata-typeExample$a = 5if ($a == 5)- will evaluate to trueif ($a == \'5\')- will evaluate to true, because while comparing this both value PHP internally convert that string value into integer and then compare both valuesif ($a === 5)- will evaluate to trueif ($a === \'5\')- will evaluate to false, because value is 5, but this value 5 is not an integer.ShareImprove this answerFolloweditedJun 20, 2020 at 9:12community wiki3 revs, 3 users 74%Parth Nayak\n\nNull Coalesce operator ""??"" (Added in PHP 7)Not the catchiest name for an operator, but PHP 7 brings in the rather handy null coalesce so I thought I\'d share an example.In PHP 5, we already have a ternary operator, which tests a value, and then returns the second element if that returns true and the third if it doesn\'t:echo $count ? $count : 10; // outputs 10There is also a shorthand for that which allows you to skip the second element if it\'s the same as the first one: echo $count ?: 10; // also outputs 10In PHP 7 we additionally get the ?? operator which rather than indicating extreme confusion which is how I would usually use two question marks together instead allows us to chain together a string of values. Reading from left to right, the first value which exists and is not null is the value that will be returned.// $a is not set\n$b = 16;\n\necho $a ?? 2; // outputs 2\necho $a ?? $b ?? 7; // outputs 16This construct is useful for giving priority to one or more values coming perhaps from user input or existing configuration, and safely falling back on a given default if that configuration is missing. It\'s kind of a small feature but it\'s one that I know I\'ll be using as soon as my applications upgrade to PHP 7.ShareImprove this answerFollowansweredDec 6, 2017 at 16:05community wikiYogi Ghorecha\n\nNullable return type declarationPHP 7 adds support for return type declarations. Similarly to argument type declarations, return type declarations specify the type of value that will be returned from a function. The same types are available for return type declarations as are available for argument type declarations.Strict typing also has an effect on return type declarations. In the default weak mode, returned values will be coerced to the correct type if they are not already of that type. In strong mode, the returned value must be of the correct type, otherwise, a TypeError will be thrown.As of PHP 7.1.0, return values can be marked as nullable by prefixing the type name with a question mark (?). This signifies that the function returns either the specified type or NULL.<?php\nfunction get_item(): ?string {\n    if (isset($_GET[\'item\'])) {\n        return $_GET[\'item\'];\n    } else {\n        return null;\n    }\n}\n?>SourceShareImprove this answerFolloweditedMay 1, 2019 at 8:17community wiki2 revs, 2 users 95%John Conde\n\nThree DOTS as Splat Operator (...)(since PHP 5.6)PHP has an operator ""..."" (Three dots) which is referred as Splat Operator. It is used to pass arbitrary number of parameters in a function and this type of function is called Variadic Functions. Let’s take examples to use of ""..."" (Three dots).Example 1:<?php\nfunction calculateNumbers(...$params){\n    $total = 0;\n    foreach($params as $v){\n        $total = $total + $v;\n    }\n    return $total;\n}\n \necho calculateNumbers(10, 20, 30, 40, 50);\n \n//Output 150\n?>Each arguments of calculateNumbers() function pass through $params as an array when use ""… "".There are many different ways to use ""… ""  operator. Below some examples:Example 2:<?php\nfunction calculateNumbers($no1, $no2, $no3, $no4, $no5){\n    $total = $no1 + $no2 + $no3 + $no4 + $no5;\n    return $total;\n}\n \n$numbers = array(10, 20, 30, 40, 50);\necho calculateNumbers(...$numbers);\n \n//Output 150\n?>Example 3:<?php\nfunction calculateNumbers(...$params){\n    $total = 0;\n    foreach($params as $v){\n        $total = $total + $v;\n    }\n    return $total;\n}\n$no1 = 70;\n$numbers = array(10, 20, 30, 40, 50);\necho calculateNumbers($no1, ...$numbers);\n \n//Output 220\n?>Example 4:<?php\nfunction calculateNumbers(...$params){\n    $total = 0;\n    foreach($params as $v){\n        $total = $total + $v;\n    }\n    return $total;\n}\n \n$numbers1 = array(10, 20, 30, 40, 50);\n$numbers2 = array(100, 200, 300, 400, 500);\necho calculateNumbers(...$numbers1, ...$numbers2);\n \n//Output 1650\n \n?>It should be noted that Variadic Parameterscannot be targetedby named arguments.Example 5:<?php\nfunction sumIntegers(int ...$params): int {\n    $sum = 0;\n    foreach($params as $value){\n        $sum += $value;\n    }\n    return $sum;\n}\n\n\necho sumIntegers(params: [1, 2, 3, 4]);     \n// $params will be equal to [\'params\' => [1, 2, 3, 4]] in sumIntegers\n// throws TypeError sumIntegers(): Argument #1 must be of type int, array given \n\necho sumIntegers(arbitrary_name: 1, another_name: 2);\n// $params will be equal to [\'arbitrary_name\' => 1, \'another_name\' => 2] in sumIntegers\n// Outputs: 3 \n?>Using an unpacked associative array as the parameter for a function call has the same effect as calling the function using each key-value pair as a named argument.Example 6:<?php\nfunction fullName(string $first_name, ?string $middle_name = null, ?string $last_name = null): string {\n    return trim(""$first_name|$middle_name|$last_name"");\n}\n\n$params = [\'first_name\' => \'John\', \'last_name\' => \'Doe\'];\necho fullName(...$params);\n// same as fullName(first_name: \'John\', last_name: \'Doe\')\n\n// outputs \'John||Doe\'\n?>This can be used to pass named arguments to something like a nested function call or a class.Example 7:<?php\nfunction throw_exception(string $exception, ...$parameters) {\n    throw new $exception(...$parameters);\n}\n\nthrow_exception(exception: \'Exception\', code: 123);\n// executes throw new Exception(...[\'code\' => 123])\n// which is the same as throw new Exception(code: 123);\n?>ShareImprove this answerFolloweditedJul 3, 2022 at 1:36community wiki2 revs, 2 users 73%Yogi Ghorecha\n\n?-> NullSafe OperatorAdded in PHP 8.0It\'s theNullSafe Operator, it returnsnullin case you try to invoke functions or get values fromnull. Nullsafe operator can be chained and can be used both on the methods and properties.$objDrive = null;\n$drive = $objDrive?->func?->getDriver()?->value; //return null\n$drive = $objDrive->func->getDriver()->value; // Error: Trying to get property \'func\' of non-objectNullsafe operator doesn\'t work with array keys:$drive[\'admin\']?->getDriver()?->value //Warning: Trying to access array offset on value of type null\n\n$drive = [];\n$drive[\'admin\']?->getAddress()?->value //Warning: Undefined array key ""admin""ShareImprove this answerFolloweditedNov 27, 2020 at 22:25community wiki4 revs, 2 users 69%John Conde\n\nNullSafe Operator ""?->"" since php8In PHP8 it\'s been accepted this new operator,  you can find the documentationhere.?->it\'s theNullSafe Operator, it returnsnullin case you try to invoke functions or get values fromnull...Examples:<?php\n$obj = null;\n$obj = $obj?->attr; //return null\n$obj = ?->funct(); // return null\n$obj = $objDrive->attr; // Error: Trying to get property \'attr\' of non-object\n?>ShareImprove this answerFolloweditedSep 24, 2021 at 20:07community wiki4 revsAlberto Sinigaglia\n\n#[] attributes since PHP 8You can write#[attribute_name]since PHP 8.  This is anattributein PHP (also Rust and C#).  Other languages may use names like annotations (Java) or decorators (Python, Javascript) for a similar feature.  Prior to PHP 8,#[whatever]would have been a comment until the end of the line (because#starts a comment in PHP).  So if an attribute is the last thing on a line, it will be ignored in versions before PHP 8.  If not the last thing on a line, it would comment out whatever was after it prior to PHP 8 (since then the]terminates it).RFCSyntax RFC(the syntax was changed from the original RFC)DocumentationShareImprove this answerFollowansweredMar 28, 2022 at 2:28community wikimdfst13\n\nIn php 8Instead of writing the classic!== nullyou can use the?operator to write just 1 line of code, the code becomes pretty clear:Before:$firsName =  null;\nif ($session !== null) {\n    $user = $session->user;\n    if ($user !== null) {\n        $name = $user->getName();\n        if ($name !== null) {\n            $firstName = $name->firstName;\n        }\n    }\n}After:$firsName = $session?->user?->getName()?->firstName;Usematchinstead ofswitch. Thematchexpression uses strict comparison (===) instead. The comparison is strict regardless ofstrict_types.Before:switch (\'A\') {\n    case \'A\':\n        echo ""found A"";\n        break;\n    case \'B\':\n        echo ""found B"";\n        break;\n}\n// Result: ""found A""After:echo match (\'A\') {\n  \'A\' => ""found A"",\n  \'B\' => ""found B"",\n};\n// Result: ""found A""ShareImprove this answerFolloweditedJan 23, 2022 at 1:26community wiki2 revs, 2 users 80%Mehdi Salimi\n\nDouble-dot syntaxWhen used between two characters in qualifying native PHP string functions,..acts to express an inclusive range of characters.a-eis equivalent toabcde.echo trim(\'adobe\', \'a..e\');Prints:oNative PHP functions that allow double-dot range syntaxShareImprove this answerFollowansweredJul 5, 2022 at 7:09community wikimickmackusa\n\nAnswer recommended byPHPCollectiveFirst class callable syntax (PHP 8.1)The ellipsis (...) has gained another use introduced in PHP8.1 to create an anonymous function from a callableBefore PHP 8.1$callable = [$instance, \'someMethod\'];In PHP 8.1$callable = $instance->someMethod(...);Read more about ithereShareImprove this answerFollowansweredMar 8, 2023 at 21:07community wikiSeaworn\n\nWhat does \\ (backslash) symbol in PHPIt uses for to escape string type or to change specific case:Examples:Here\\r\\nand\\nusing for pass to new line (like enter button)echo ""Hello world \\n\\r I am Herakl"";Alternatively, you can use PHP_EOL. There are some exceptions. Firstly, it can use only in two quotes ("") condition. Also, it is escape selfecho "" Hello \\\\ I am robot"";In stackoverflow it doesn\'t see correctly.Backslashes also use innamespacesorusecondition names:namespace App\\Http\\Controllers;\n\nuse App\\Models;Additionally, you should visit about slasheshttps://www.php.net/manual/en/function.addslashes.phpShareImprove this answerFollowansweredOct 30, 2022 at 11:55community wikiTural Rzaxanov'}","{'title': 'What is the difference between px, dip, dp, and sp?', 'question': 'What is the difference between the units of measure\npx, dip, dp, and sp?androidandroid-layoutuser-interfacedimensionunits-of-measurementShareImprove this questionFolloweditedJul 11, 2022 at 5:53Mateen Ulhaq26.6k2020 gold badges115115 silver badges147147 bronze badgesaskedJan 8, 2010 at 3:23capecrawlercapecrawler67.9k77 gold badges3232 silver badges3434 bronze badges', 'answers': 'From theAndroid Developer Documentation:pxPixels- corresponds to actual pixels on the screen.inInches- based on the physical size of the screen.1Inch OR2.54centimetersmm>Millimeters- based on the physical size of the screen.pt>Points-1/72of an inch based on the physical size of the screen.dpordip>Density-independent Pixels - an abstract unit that is based on the physical density of the screen. These units are relative to a160dpi screen, so one dp is one pixel on a160dpi screen. The ratio of dp-to-pixel will change with the screen density, but not necessarily in direct proportion. Note: The compiler accepts both ""dip"" and ""dp"", though ""dp"" is more consistent with ""sp"".sp>Scaleable PixelsORscale-independent pixels- this is like the dp unit, but it is also scaled by the user\'s font size preference. It is recommended you\nuse this unit when specifying font sizes, so they will be adjusted\nfor both the screen density and the user\'s preference. Note, the Android documentation is inconsistent on whatspactually stands for, onedocsays ""scale-independent pixels"", theothersays ""scaleable pixels"".FromUnderstanding Density Independence In Android:Density BucketScreen DensityPhysical SizePixel Sizeldpi120 dpi0.5 x 0.5 in0.5 in * 120 dpi = 60x60 pxmdpi160 dpi0.5 x 0.5 in0.5 in * 160 dpi = 80x80 pxhdpi240 dpi0.5 x 0.5 in0.5 in * 240 dpi = 120x120 pxxhdpi320 dpi0.5 x 0.5 in0.5 in * 320 dpi = 160x160 pxxxhdpi480 dpi0.5 x 0.5 in0.5 in * 480 dpi = 240x240 pxxxxhdpi640 dpi0.5 x 0.5 in0.5 in * 640 dpi = 320x320 pxUnitDescriptionUnits Per Physical InchDensity Independent?Same Physical Size On Every Screen?pxPixelsVariesNoNoinInches1YesYesmmMillimeters25.4YesYesptPoints72YesYesdpDensity Independent Pixels~160YesYesspScale Independent Pixels~160YesNoMore info can be also be found in theGoogle Design Documentation.ShareImprove this answerFolloweditedApr 21 at 14:41community wiki35 revs, 31 users 19%unknown\n\nPretty much everything about this and how to achieve the best support for multiple screens of different sizes and densities is very well documented here:Supporting Multiple ScreensScreen sizeActual physical size, measured as the screen\'s diagonal.\nFor simplicity, Android groups all actual screen sizes into four\ngeneralized sizes: small, normal, large, and extra-large.Screen densityThe number of pixels within a physical area of the\nscreen; usually referred to as dpi (dots per inch). For example, a\n""low"" density screen has fewer pixels within a given physical area,\ncompared to a ""normal"" or ""high"" density screen. For simplicity,\nAndroid groups all actual screen densities into six generalized\ndensities: low, medium, high, extra-high, extra-extra-high, and\nextra-extra-extra-high.OrientationThe orientation of the screen from the user\'s point of\nview. This is either landscape or portrait, meaning that the screen\'s\naspect ratio is either wide or tall, respectively. Be aware that not\nonly do different devices operate in different orientations by\ndefault, but the orientation can change at runtime when the user\nrotates the device.ResolutionThe total number of physical pixels on\na screen. When adding support for multiple screens, applications do\nnot work directly with resolution; applications should be concerned\nonly with screen size and density, as specified by the generalized\nsize and density groups.Density-independent pixel (dp)A virtual\npixel unit that you should use when defining UI layout, to express\nlayout dimensions or position in a density-independent way.\nThe density-independent pixel is equivalent to one physical pixel on a 160\ndpi screen, which is the baseline density assumed by the system for a\n""medium"" density screen. At runtime, the system transparently handles\nany scaling of the dp units, as necessary, based on the actual density\nof the screen in use. The conversion of dp units to screen pixels is\nsimple:px = dp * (dpi / 160).\nFor example, on a 240 dpi screen, 1 dp\nequals 1.5 physical pixels. You should always use dp units when\ndefining your application\'s UI, to ensure proper display of your UI on\nscreens with different densities.If you are at all serious about developing an Android app for more than one type of device, you should have read the screens support development document at least once. In addition to that, it is always a good thing to know the actual number of active devices that have a particular screen configuration.Screen Sizes and DensitiesShareImprove this answerFolloweditedJul 31, 2021 at 16:08auspicious994,25111 gold badge4646 silver badges6565 bronze badgesansweredFeb 25, 2011 at 12:56BruiserBruiser11.9k55 gold badges3535 silver badges4545 bronze badges\n\nI will elaborate more on how exactly does dp convert to px:If running on an mdpi device, a150 x 150 pximage will take up150 x 150 dpof screen space.If running on an hdpi device, a150 x 150 pximage will take up100 x 100 dpof screen space.If running on an xhdpi device, a150 x 150 pximage will take up75 x 75 dpof screen space.The other way around: say, you want to add an image to your application and you need it to fill a100 x 100 dpcontrol. You\'ll need to create different size images for supported screen sizes:100 x 100 pximage for mdpi150 x 150 pximage for hdpi200 x 200 pximage for xhdpiShareImprove this answerFolloweditedOct 12, 2023 at 4:17ankushlokhande1,71399 silver badges2626 bronze badgesansweredAug 2, 2012 at 14:15devmiles.comdevmiles.com10k55 gold badges3333 silver badges4848 bronze badges\n\nMoreover you should have a clear understanding of the following concepts:Screen size:Actual physical size, measured as the screen\'s diagonal. For simplicity, Android groups all actual screen sizes into\nfour generalized sizes: small, normal, large, and extra-large.Screen density:The number of pixels within a physical area of the screen; usually referred to as dpi (dots per inch). For example, a\n""low"" density screen has fewer pixels within a given physical area,\ncompared to a ""normal"" or ""high"" density screen. For simplicity,\nAndroid groups all actual screen densities into four generalized\ndensities: low, medium, high, and extra high.Orientation:The orientation of the screen from the user\'s point of view. This is either landscape or portrait, meaning that the\nscreen\'s aspect ratio is either wide or tall, respectively. Be aware\nthat not only do different devices operate in different orientations\nby default, but the orientation can change at runtime when the user\nrotates the device.Resolution:The total number of physical pixels on a screen. When adding support for multiple screens, applications do not work directly\nwith resolution; applications should be concerned only with screen\nsize and density, as specified by the generalized size and density\ngroups.Density-independent pixel (dp):A virtual pixel unit that you should use when defining UI layout, to express layout dimensions or\nposition in a density-independent way. The density-independent pixel\nis equivalent to one physical pixel on a 160 dpi screen, which is the\nbaseline density assumed by the system for a ""medium"" density screen.\nAt runtime, the system transparently handles any scaling of the dp\nunits, as necessary, based on the actual density of the screen in use.\nThe conversion of dp units to screen pixels is simple: px = dp * (dpi\n/ 160). For example, on a 240 dpi screen, 1 dp equals 1.5 physical\npixels. You should always use dp units when defining your\napplication\'s UI, to ensure proper display of your UI on screens with\ndifferent densities.Reference:Android developers siteShareImprove this answerFolloweditedSep 9, 2021 at 17:03Rahul3,33122 gold badges3434 silver badges4444 bronze badgesansweredJul 26, 2013 at 21:19Sazzad Hissain KhanSazzad Hissain Khan39.5k3939 gold badges205205 silver badges288288 bronze badges\n\ndpisdip. Use it for everything (margin, padding, etc.).Usespfor {text-size} only.To get the same size on different screen densities, Android translates these units into pixels at runtime, so there is no tricky math for you to do.See the difference betweenpx,dpandspon different screen sizes.Source:Android Programming: The Big Nerd Ranch GuideShareImprove this answerFolloweditedAug 11, 2015 at 20:53answeredOct 17, 2014 at 12:47Mina GabrielMina Gabriel24.6k2626 gold badges9999 silver badges128128 bronze badges\n\nDefinitionspxor dot is apixelon the physical screen.dpiare pixels per inch on the physical screen and represent the density of the display.Android givesalias names to several densitiesldpi (low) ~120dpimdpi (medium) ~160dpihdpi (high) ~240dpimost devices in 2015 are herexhdpi (extra-high) ~320dpiApple iPhone 4/5/6, Nexus 4xxhdpi (extra-extra-high) ~480dpiNexus 5xxxhdpi (extra-extra-extra-high) ~640dpidipordparedensity-indenpendant pixels, i.e. they correspond to more or less pixels depending on the physical density.1dp = 1px on mdpisporsipis ascale-independant pixel. They are scaled when theLarge Textoption is turned on inSettings>Accessibility1sp = 1dp1sp = 1.2dp with accessibility Large TextWhat to use?Usespfor Text size.Usedpfor everything else.ShareImprove this answerFolloweditedMar 2, 2016 at 9:39answeredJan 10, 2016 at 19:13rdsrds26.8k2020 gold badges110110 silver badges135135 bronze badges\n\nI have calculated the formula below to make the conversionsdpitodpandspShareImprove this answerFolloweditedApr 6, 2017 at 10:24community wiki4 revs, 4 users 50%chaitanya\n\nSource 1Source 2Source 3: (data from source 3 is given below)These are dimension values defined in XML. A dimension is specified\nwith a number followed by a unit of measure. For example: 10px, 2in,\n5sp. The following units of measure are supported by Android:dpDensity-independent Pixels - An abstract unit that is based on the\nphysical density of the screen. These units are relative to a 160 dpi\n(dots per inch) screen, on which 1dp is roughly equal to 1px. When\nrunning on a higher density screen, the number of pixels used to draw\n1dp is scaled up by a factor appropriate for the screen\'s dpi.\nLikewise, when on a lower density screen, the number of pixels used\nfor 1dp is scaled down. The ratio of dp-to-pixel will change with the\nscreen density, but not necessarily in direct proportion. Using dp\nunits (instead of px units) is a simple solution to making the view\ndimensions in your layout resize properly for different screen\ndensities. In other words, it provides consistency for the real-world\nsizes of your UI elements across different devices.spScale-independent Pixels - This is like the dp unit, but it is also\nscaled by the user\'s font size preference. It is recommended that you use\nthis unit when specifying font sizes, so they will be adjusted for\nboth the screen density and the user\'s preference.ptPoints - 1/72 of an inch based on the physical size of the screen.pxPixels - Corresponds to actual pixels on the screen. This unit of\nmeasure is not recommended because the actual representation can vary\nacross devices; each device may have a different number of pixels per\ninch and may have more or fewer total pixels available on the screen.mmMillimeters - Based on the physical size of the screen.inInches - Based on the physical size of the screen.Note:A dimension is a simple resource that is referenced using the value provided in the name attribute (not the name of the XML file). As such, you can combine dimension resources with other simple resources in one XML file, under one  element.ShareImprove this answerFolloweditedSep 9, 2021 at 17:03Rahul3,33122 gold badges3434 silver badges4444 bronze badgesansweredDec 27, 2013 at 9:21sms247sms2474,47455 gold badges3636 silver badges4646 bronze badges\n\nBasically the only time where px applies is one px, and that\'s if you want exactly one pixel on the screen like in the case of a divider:On >160 dpi, you may get 2-3 pixels,On >120 dpi, it rounds to 0.ShareImprove this answerFolloweditedMar 31, 2018 at 10:05RKRK1,29455 gold badges1414 silver badges1818 bronze badgesansweredSep 20, 2012 at 21:34Joe PlanteJoe Plante6,35822 gold badges3131 silver badges2323 bronze badges\n\nWhere to use what & relationship between px & dp?Density-independent pixel (dp)A virtual pixel unit that you should use when defining UI layout, to express layout dimensions or position in a density-independent way. As described above, the density-independent pixel is equivalent to one physical pixel on a 160 dpi screen, which is the baseline density assumed by the system for a ""medium"" density screen. At runtime, the system transparently handles any scaling of the dp units, as necessary, based on the actual density of the screen in use. The conversion of dp units to screen pixels is\nsimple:px = dp * (dpi / 160).For example, on a 240 dpi screen, 1 dp equals 1.5 physical pixels. You should always use dp units when defining your application\'s UI, to ensure\nproper display of your UI on screens with different densities.Understanding pixel to dp and vice versa is very essential (especially for giving exact dp values to creative team)dp = px * 160 / dpi\n\nMDPI = 160 dpi || Therefore, on MDPI 1 px = 1 dp\nFor example, if you want to convert 20 pixel to dp, use the above formula,\ndp = 20 * 160 / 160 = 20.\nSo, 20 pixel = 20 dp.\n\nHDPI = 240 dpi - So, on HDPI 1.5 px = 1 dp\nXHDPI = 320 dpi - So, on XHDPI 2 px = 1 dp\nXXHDPI = 480 dpi - So, on XXHDPI 3 px = 1 dp\n\nFor example, let us consider Nexus 4.\nIf 24 pixels to be converted to dp and if it is a Nexus 4 screen, developers can\nconvert it to dp easily by the following calculation :\ndp = 24 * 160 / 320 = 12 dp\nScreen dimension:\n768 x 1280 pixel resolution (320 ppi or 320dpi)\nOptional (screen size):\n 4.7"" diagonalTry to get all pixel values in even numbers from the creative team. Otherwise precision lose will happen while multiplying with 0.5.pxIt is explained above. Try to avoid in layout files. But there are some cases, where px is required. for example, ListView divider line. px is better here for giving a one-pixel line as a divider for all across screen resolutions.spUse sp for font sizes. Then only the font inside the application will change while device fonts size changes (that is, Display -> Fonts on Device). If you want to keep a static sized font inside the app, you can give the font dimension in dp. In such a case, it will never change. Developers may get such a requirement for some specific screens, for that, developers can use dp instead of sp. In all other cases, sp is recommended.ShareImprove this answerFolloweditedJun 20, 2020 at 9:12CommunityBot111 silver badgeansweredJul 9, 2014 at 5:46ArunjyothisArunjyothis1,43611 gold badge1010 silver badges1111 bronze badges\n\nYou can see the difference betweenpxanddpfrom the below picture, and you can also find that thepxanddpcould not guarantee the same physical sizes on the different screens.ShareImprove this answerFollowansweredFeb 13, 2015 at 18:50ZephyrZephyr6,28322 gold badges3535 silver badges3333 bronze badges\n\nAnything related with the size of text and appearance must usesporpt. Whereas, anything related to the size of the controls, the layouts, etc. must be used withdp.You can use bothdpanddipat its places.ShareImprove this answerFolloweditedJul 1, 2015 at 14:30answeredAug 9, 2013 at 13:38Atish AgrawalAtish Agrawal2,86711 gold badge2525 silver badges3939 bronze badges\n\nI would only use dp.There is a lot of talk about using ""sp"" for font sizes, and while I appreciate the point, I don\'t think that it is the right thing to do from a design point of view. You can end up breaking your design if the user has some wonky font size selection, and the user will end up blamingthe app, and not their own life choices.Also, if you take an sp-font app on a 160\xa0dpi tablet, you will find thateverythingscales up... but your font, which is going to look tiny in comparison. It isn\'t a good look.While the idea of ""sp"" fonts has a good heart, it is a poor idea. Stick with dp for everything.ShareImprove this answerFolloweditedJun 6, 2015 at 14:42Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredNov 22, 2014 at 16:56bharalbharal15.9k3838 gold badges120120 silver badges198198 bronze badges\n\nsp = scale independent pixeldp = dip = density independent pixelsdpi = dots per inchWe should avoid to usesp.We should usedpto support multiple screens.Android supports different screen resolutionsldpi (low) ~120\xa0dpimdpi (medium) ~160\xa0dpihdpi (high) ~240\xa0dpixhdpi (extra-high) ~320\xa0dpixxhdpi (extra-extra-high) ~480\xa0dpixxxhdpi (extra-extra-extra-high) ~640\xa0dpiAn 120 dp ldpi device has 120 pixels in 1 inch size.The same for other densities...We as software engineers should use this conversion formula:pixel = dp * (density / 160)So 240 dpi device\'s 1 dp will have = 1 * (240/160) = 3/2 = 1.5 pixels.And 480 dpi device\'s 1 dp will have = 1 * (480/160) = 3 pixels.Using this 1.5 and 3 pixels knowledge, a software engineer can design layouts for different densities.To check screen parameters of any device:DisplayMetrics metrics = new DisplayMetrics();\ngetWindowManager().getDefaultDisplay().getMetrics(metrics);\n\nToast.makeText(\n    this,\n    ""4:"" + metrics.heightPixels + "","" + metrics.density + "",""\n    + metrics.densityDpi, Toast.LENGTH_LONG).show();ShareImprove this answerFolloweditedJun 20, 2020 at 9:12CommunityBot111 silver badgeansweredMar 11, 2015 at 6:33KushalKushal8,3721010 gold badges6464 silver badges8383 bronze badges\n\nDifference betweendpandspunits mentioned as ""user\'s font size preference"" by the answers copied from official documentation can be seen at run time by changingSettings->Accessibility->Large Textoption.Large Textoption forces text to become1.3times bigger.private static final float LARGE_FONT_SCALE = 1.3f;This might be well of course vendor dependent since it lies inpackages/apps/Settings.ShareImprove this answerFollowansweredOct 14, 2013 at 8:44auselenauselen28k88 gold badges7676 silver badges117117 bronze badges\n\ndpi -Dots per inchesMeasuring the pixel density of the screen.px - pixelFor mapping screen pixelspt - pointsAbout 1/72 of an inch, with respect to physical screen size.in - inch\n - with respect to physical screen size(1 inch = 2.54 cm).mm- milimeter\n - with respect to physical screen size.sp - scale-independent pixel.Based on user`s font size preference.Font should be in \'sp\'.dip -dip == dpDensity independent pixel.It varies based on Screen Density.In 160 dpi screen, 1 dp = 1 pixel.Use dp except the text font size.In standard, dp and sp are used. sp for font size and dp for everything else.Formula for conversion of units:px = dp * ( dpi / 160 );Density Bucket -> Screen Display => Physical Size        => Pixel Size                   \n\nldpi         -> 120 dpi          => 0.5 x 0.5 in         => 0.5 in * 120 dpi = 60x60 px   \n\nmdpi         -> 160 dpi          => 0.5 x 0.5 in         => 0.5 in * 160 dpi = 80x80 px   \n\nhdpi         -> 240 dpi          => 0.5 x 0.5 in         => 0.5 in * 240 dpi = 120x120 px  \n\nxhdpi        -> 320 dpi          => 0.5 x 0.5 in         => 0.5 in * 320 dpi = 160x160 px  \n\nxxhdpi       -> 480 dpi          => 0.5 x 0.5 in         => 0.5 in * 480 dpi = 240x240 px \n\nxxxhdpi      -> 640 dpi          => 0.5 x 0.5 in         => 0.5 in * 640 dpi = 320x320 pxShareImprove this answerFolloweditedNov 24, 2015 at 8:32answeredJan 16, 2015 at 7:44ArunendraArunendra2,1542626 silver badges2222 bronze badges\n\nPlease read the answer from the community wiki.\nBelow mentioned is some information to be considered in addition to the above answers. Most Android developers miss this while developing apps, so I am adding these points.sp = scale independent pixeldp = density independent pixelsdpi = density pixelsI have gone through the above answers...not finding them exactly correct.\nsp for text size, dp for layout bounds - standard.\nButsp for text size will break the layout if used carelesslyin most of the devices.sp take the text size of the device, whereas dp take that of device density standard( never change in a device)\nSay 100sp text can occupy 80% of the screen or 100% of the screen depending on the font size set in the deviceYou can use sp for layout bounds also, it will work :)No standard app use sp for whole textUse sp and dp for text size considering UX.Don\'t use sp for text in the toolbar( can use android dimens available for different screen sizes with dp)Don\'t use sp for text in small bounded buttons, very smaller text, etcSome people use huge FONT size in their phone for more readability, giving them small hardcoded sized text will be a UX issue. Put sp for text where necessary, but make sure it won\'t break the layout when the user changes his settings.Similarly, if you have a single app supporting all dimensions, adding xxxhdpi assets increases the app size a lot. But now xxxhdpi phones are common so we have to include xxxhdpi assets at least for icons in the sidebar, toolbar, and bottom bar. It\'s better to move to vector images to have a uniform and better quality images for all screen sizes.Also, note that people use custom fonts on their phones. So lack of a font can cause problems regarding spacing and all. Say text size 12sp for a custom font may take some pixels extra than the default font.Refer to google developer site for screen densities and base density details for android.https://developer.android.com/training/multiscreen/screendensitiesShareImprove this answerFolloweditedSep 9, 2021 at 17:01Rahul3,33122 gold badges3434 silver badges4444 bronze badgesansweredMay 26, 2016 at 5:32shijinshijin3,02811 gold badge2525 silver badges3131 bronze badges\n\nScreen SizeinAndroidis grouped into categoriessmall,medium,large,extra large,double-extraandtriple-extra. Screen density is the number of pixels within an area (like an inch) of the screen. Generally, it is measured in dots-per-inch (dpi). Screen density is grouped as low, medium, high, and extra high. Resolution is the total number of pixels on the screen.dp:Density Independent Pixel, varies based on screen density. In 160 dpi screen, 1 dp = 1 pixel. Except for font size, use dp always.dip:dip == dp. In earlier Android versions dip was used and later changed to dp.sp:Scale Independent Pixel, scaled based on user’s font size preference. Fonts should use sp.px:our usual standard pixel which maps to the screen pixel.in:inches, concerning the physical screen size.mm:millimeters, concerning the physical screen size.pt:1/72 of an inch, concerning the physical screen size.Formula for Conversion between Unitspx = dp * (dpi / 160)dp to px in deviceThe following example may help understand better. The scaling occurs based on bucket sizes of 120(ldpi), 160(mdpi), 240(hdpi), 320(xhdpi), 480(xxhdpi), and 640(xxxhdpi). The Google suggested ratio for designing is 3:4:6:8:12 for ldpi:mdpi:hdpi:xhdpi:xxhdpiA 150px X 150px image will occupy,150 dp X 150 dp screen space in mdpi100 dp X 100 dp screen space in hdpi75 dp X 75 dp screen space in xhdpiYou may use the following DPI calculator to fix your image sizes and other dimensions when you wish to have a uniform UI design on all Android devices.DPI Calculator in Java/*\nProgram output\nLDPI: 165.0 X 60.0\nMDPI: 220.0 X 80.0\nHDPI: 330.0 X 120.0\nXHDPI: 440.0 X 160.0\nXXHDPI: 660.0 X 240.0\nXXXHDPI: 880.0 X 320.0\n*/\n\n\npublic class DPICalculator {\n\nprivate final float LDPI = 120;\nprivate final float MDPI = 160;\nprivate final float HDPI = 240;\nprivate final float XHDPI = 320;\nprivate final float XXHDPI = 480;\nprivate final float XXXHDPI = 640;    \n\nprivate float forDeviceDensity;\nprivate float width;\nprivate float height;\n\npublic DPICalculator(float forDeviceDensity, float width, float height){\n    this.forDeviceDensity = forDeviceDensity;\n    this.width = width;\n    this.height = height;\n}\n\npublic static void main(String... args) {\n    DPICalculator dpiCalculator = new DPICalculator(240,330,120);\n    dpiCalculator.calculateDPI();\n}\n\n\nprivate float getPx(float dp, float value) {\n    float px = dp * (value / forDeviceDensity );        \n    return px;\n}\n\nprivate void calculateDPI() {\n\n    float ldpiW = getPx(LDPI,width);        \n    float ldpiH =  getPx(LDPI,height);\n    float mdpiW = getPx(MDPI,width);        \n    float mdpiH =  getPx(MDPI,height);        \n    float hdpiW = getPx(HDPI,width);        \n    float hdpiH =  getPx(HDPI,height);       \n    float xdpiW = getPx(XHDPI,width);        \n    float xdpiH =  getPx(XHDPI,height);\n    float xxdpiW = getPx(XXHDPI,width);        \n    float xxdpiH =  getPx(XXHDPI,height);\n    float xxxdpiW = getPx(XXXHDPI,width);        \n    float xxxdpiH =  getPx(XXXHDPI,height);\n    \n    System.out.println(""LDPI: "" + ldpiW + "" X "" + ldpiH);\n    System.out.println(""MDPI: "" + mdpiW + "" X "" + mdpiH);\n    System.out.println(""HDPI: "" + hdpiW + "" X "" + hdpiH);\n    System.out.println(""XHDPI: "" + xdpiW + "" X "" + xdpiH);\n    System.out.println(""XXHDPI: "" + xxdpiW + "" X "" + xxdpiH);\n    System.out.println(""XXXHDPI: "" + xxxdpiW + "" X "" + xxxdpiH);        \n   }\n}More Information refer to the following link.http://javapapers.com/android/difference-between-dp-dip-sp-px-in-mm-pt-in-android/ShareImprove this answerFolloweditedSep 9, 2021 at 17:06Rahul3,33122 gold badges3434 silver badges4444 bronze badgesansweredMar 4, 2016 at 5:36Ravi VaghelaRavi Vaghela3,43022 gold badges2424 silver badges5151 bronze badges\n\nHere\'s the formula used by Android:px = dp * (dpi / 160)Where dpi is one of the following screen densities. For a list of all possible densitiesgo hereIt defines the ""DENSITY_*"" constants.ldpi (low) ~120dpimdpi (medium) ~160dpihdpi (high) ~240dpixhdpi (extra-high) ~320dpixxhdpi (extra-extra-high) ~480dpixxxhdpi (extra-extra-extra-high) ~640dpiTaken fromhere.This will sort out a lot of the confusion when translating between px and dp, if you know your screen dpi.So, let\'s say you want an image of 60 dp for an hdpi screen then the physical pixel size of 60 dp is:px = 60 * (240 / 160)ShareImprove this answerFolloweditedMar 9, 2018 at 6:24Rohit Sharma2,08955 gold badges2222 silver badges3939 bronze badgesansweredApr 30, 2015 at 4:14Dan BorzaDan Borza3,53933 gold badges2323 silver badges1616 bronze badges\n\npx - one pixel, same as to what is used in CSS, JavaScript, etc.sp - scale-independent pixelsdip - density-independent pixelsNormally sp is used for font sizes, while dip is used (also called dp) for others.ShareImprove this answerFolloweditedJun 6, 2015 at 14:41Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredNov 13, 2014 at 16:53DPCDPC62455 silver badges1010 bronze badges\n\nI\'ve come across a good article about designing Android apps UI for different screen resolutions, and I\'d like to leave it here just for somebody searching in this area. Yes, I know that it\'s somehow described in Google docs (and mentioned in the posts above), I read that but it was not good for me (yeah, I may be too stupid)). It remained unclear to me how to design layouts capable to handle different screen sizes. I hate the DP concept and so on when I need to implement a ""flexible"" UI layout for different screens. (Hey iOS developers - yes, you\'re right it\'s a Storyboard concept).Android has not bad UI concept, but lacks iOS Storyboard features, unfortunately. Designing flexible UI in Android is not an easy thing (at the best).Here goes the article that helped me to understand what to do in Android to make layouts for different screen sizes:JMSTUDIO Blog:- Decide Android App Screen SizeHow to Design UI for Android Apps for Different Screen SizeTo design an app UI for different screen sizes, our initial design has to\nmeet a minimum required space for each screen size. Android defines a\nminimum size (in dp) for each generalized screen type. Here is an\nAndroid screen size guideline.When we get the screen size in dp, it is not enough for us to design\nthe Android app UI. For each screen size, we need to prepare graphics\nand bitmap images for each density. Here is an Android screen density\nguideline.For easy calculation, we can follow the 3:4:6:8 scaling ratio between\nthe four generalized densities. If we create a 36×36 pixel picture for\nldpi device, the rest densities pictures size will be 48×48 for mdpi,\n72×72 for hdpi, and 96×96 for xhdpi.How to Design Android Apps UI in PhotoshopMany designers have problems designing Android app UI in photoshop or another pixel\nbased graphic design tools because of the density-independent unit, dp.\nDesigners don’t know how to map dp to pixel. Google also doesn’t give\na clear Android UI design guide for them, though they give a basic\nformula for dp and pixel translation.As Android’s definition, 1pd equal to 1px under 160 dpi device (mdpi).\nSo we want to design an Android app for xlarge Android devices with\nmdpi density, we can define our UI size in pixel as 960 pixels in width\nand 720px in height; Follow the same mapping rule, we can get\nfollowing Android App screen size UI design guideline:ADDED: If you are interested in ""flexible"" UI too, have a look at this library:An Android SDK that provides a new size unit - sdp (scalable dp). This size unit scales with the screen size(this also mentioned in an answer here, aboutSDPlibrary)ADDED2Google has finally understood the usefulness of the iOS Storeboard UI concept, and here goesConstraintLayoutfor Android world:Build a Responsive UI with ConstraintLayoutShareImprove this answerFolloweditedSep 9, 2021 at 17:05Rahul3,33122 gold badges3434 silver badges4444 bronze badgesansweredMay 17, 2016 at 19:59MixazMixaz4,10811 gold badge3030 silver badges5656 bronze badges\n\n1)dp: (density independent pixels)The number of pixels represented in one unit of dp will increase as the screen resolution increases (when you have more dots/pixels per inch). Conversely on devices with lower resolution, the number of pixels represented in on unit of dp will decrease. Since this is a relative unit, it needs to have a baseline to be compared with. This baseline is a 160 dpi screen. This is the equation:px = dp * (dpi / 160).2)sp: (scale independent pixels)This unit scales according to the screen dpi (similar to dp) as well as the user’s font size preference.3)px: (pixels)Actual pixels or dots on the screen.For more details you can visitAndroid Developer Guide > DimensionAndroid Developer Guide > ScreensShareImprove this answerFolloweditedApr 2, 2018 at 13:58RKRK1,29455 gold badges1414 silver badges1818 bronze badgesansweredMay 10, 2015 at 12:59IntelliJ AmiyaIntelliJ Amiya75.6k1515 gold badges168168 silver badges200200 bronze badges\n\nScreen sizein Android is grouped into categoriesldpi,mdpi,hdpi,xhdpi,xxhdpiandxxxhdpi.Screen densityis the amount of pixels within an area (like inch) of the screen. Generally it is measured in dots-per-inch (dpi).PX(Pixels):our usual standard pixel which maps to the screen pixel.pxis meant for absolute pixels. This is used if you want to give in terms of absolute pixels for width or height. Not recommended.DP/DIP(Density pixels / Density independent pixels):dip == dp. In earlier Android versions dip was used and later changed todp. This is alternative ofpx.Generally we never usepxbecause it is absolute value. If you usepxto set width or height, and if that application is being downloaded into different screen sized devices, then that view will not stretch as per the screen original size.dpis highly recommended to use in place ofpx. Usedpif you want to mention width and height to grow & shrink dynamically  based on screen sizes.if we givedp/dip, android will automatically calculate the pixel size on the basis of 160 pixel sized screen.SP(Scale independent pixels):scaled based on user’s font size preference. Fonts should usesp.when mentioning the font sizes to fit for various screen sizes, usesp. This is similar todp.Usespespecially for font sizes to grow & shrink dynamically based on screen sizesAndroid Documentation says:when specifying dimensions, always use eitherdporspunits. Adpis\n  a density-independent pixel that corresponds to the physical size of a\n  pixel at 160dpi. Anspis the same base unit, but is scaled by the\n  user\'s preferred text size (it’s a scale-independent pixel), so you\n  should use this measurement unit when defining text sizeShareImprove this answerFollowansweredOct 7, 2015 at 8:47Rajesh JadavRajesh Jadav12.8k55 gold badges5555 silver badges7979 bronze badges\n\nPixel densityScreen pixel density and resolution vary depending on the platform. Device-independent pixels and scalable pixels are units that provide a flexible way to accommodate a design across platforms.Calculating pixel densityThe number of pixels that fit into an inch is referred to as pixel density. High-density screens have more pixels per inch than low-density ones...The number of pixels that fit into an inch is referred to as pixel density. High-density screens have more pixels per inch than low-density ones. As a result, UI elements of the same pixel dimensions appear larger on low-density screens, and smaller on high-density screens.To calculate screen density, you can use this equation:Screen density = Screen width (or height) in pixels / Screen width (or height) in inchesDensity independenceScreen pixel density and resolution vary depending on the platform. Device-independent pixels and scalable pixels are units that provide a flexible way to accommodate a design across platforms.Calculating pixel density\nThe number of pixels that fit into an inch is referred to aspixel density. High-density screens have more pixels per inch than low-density ones...Density independencerefers to the uniform display of UI elements on screens with different densities.Density-independent pixels, written asdp(pronounced “dips”), are flexible units that scale to have uniform dimensions on any screen. Material UIs use density-independent pixels to display elements consistently on screens with different densities.Low-density screen displayed with density independenceHigh-density screen displayed with density independenceRead full texthttps://material.io/design/layout/pixel-density.htmlShareImprove this answerFolloweditedSep 9, 2021 at 17:02Rahul3,33122 gold badges3434 silver badges4444 bronze badgesansweredAug 31, 2018 at 8:20lava-lavalava-lava1,0091010 silver badges2020 bronze badges\n\nThe screen of a mobile phone is made up of thousands of tiny dots known aspixels (px). A pixel is the smallest element which goes to make the picture. The more the number of pixels to make a picture or wording, the sharper it becomes and makes the smartphone screen more easily readable.Screen resolution is measured in terms of number of pixels on the screen. Screen resolution is a commonly-used specification when buying a device, but it\'s actually not that useful when designing for Android because thinking of screens in terms of pixels ignores the notion of physical size, which for a touch device is really really important.Density independent pixel (dp or dip)allow the designer to create assets that appear in a expected way, no matter the resolution or density of target device.A density independent pixel (dp or dip) is equal to one pixel at the baseline density or 160 dpi (dots per inch).1 px/1dp = 160 dpi/160 dpi2 px/1dp = 320 dpi(2x)/160 dpiwhere,dpi is dots per inchSo, at 320 dpi, 1 dp is equal to 2 px.Formulapx/dp = dpi/160dpiDots per inch (dpi) is a measure of the sharpness (that is, the density of illuminated points) on a display screen. The dots per inch for a given picture resolution will differ based on the overall screen size since the same number of pixels are being spread out over a different space.Working with density independent pixels help us to deal with a situation like where you have two devices with same pixel resolution, but differing amount of space. Suppose in a case, a tablet and phone has the same pixel resolution 1280 by 800 pixels (160 dpi) and 800 by 1280 pixels (320 dpi) respectively.Now because a tablet is at baseline density (160 dpi) its physical and density independent pixels sizes are the same, 1280 by 800. The phone on the other hand has a higher pixel density, so it has half as many density independent pixels as physical pixels. So a phone has 400 by 640 density independent pixels. So using a density-independent pixel makes it easier to mentally picture that tablet has much more space than the phone.Similarly, if you have two devices with similar screen size, but different pixel density, say one is 800 by 1280 pixels (320 dpi), and the other is 400 by 640 pixels (160 dpi), we don\'t need to define totally different layouts for these two devices as we can measure assets in terms of density independent pixel which is same for both devices.800 by 1280 pixels (320dpi)=400 by 640 density independent pixel (dp)400 by 640 pixels (160 dpi)=400 by 640 density independent pixel (dp)Scale independent pixels(sp)is the preferred unit for font size.\nFor accessibility purposes, Android allows users to customize their device\'s font size. Users that have trouble reading text can increase their device\'s font size. You can normally find this option in the display setting on your phone or tablet under font size. It\'s often also available through the accessibility settings.With scale independent pixels, 16 sp is exactly the same as 16 dp when the device\'s font size is normal or 100%. But when device\'s font size is large, for example 125%, 16 sp will translate to 20 dp or 1.25 times 16.If you use dp as the unit for font size, then that piece of text has a specific physical size no matter if the user has customize device\'s font size. Using sp units will make a better experience for people with impaired eyesight.Reference:Udacity, GoogleShareImprove this answerFolloweditedOct 18, 2017 at 5:31Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJan 29, 2017 at 10:00Android DeveloperAndroid Developer9,5271919 gold badges8787 silver badges143143 bronze badges\n\nsp: scale independent pixelYou should use it with texts because it is automatically scaled according to the font size that is being used by the user in his device.px: pixel or picture element is the single point on the screenShareImprove this answerFolloweditedMar 9, 2018 at 8:59Rohit Sharma2,08955 gold badges2222 silver badges3939 bronze badgesansweredJul 1, 2016 at 16:37A.SainiA.Saini21922 silver badges22 bronze badges\n\nPixels(px)– corresponds to actual pixels on the screen. This is used if you want to give in terms of absolute pixels for width or height.Density-independent Pixels (dp or dip)– an abstract unit that is based on the physical density of the screen. These units are relative to a 160 dpi screen, so one dp is one pixel on a 160 dpi screen. The ratio of dp-to-pixel will change with the screen density, but not necessarily in direct proportion. Note: The compiler accepts both “dip” and “dp”, though “dp” is more consistent with “sp”.Scale-independent Pixels(sp)– this is like the dp unit, but it is also scaled by the user’s font size preference. It is recommended you use this unit when specifying font sizes, so they will be adjusted for both the screen density and user’s preference.Always use dp and sp only. sp for font sizes and dp for everything else. It will make UI compatible for Android devices with different densities.\nYou can learn more about pixel and dp fromhttps://www.google.com/design/spec/layout/units-measurements.html#units-measurements-density-independent-pixels-dp-Source URL:-http://www.androidtutorialshub.com/what-is-the-difference-between-px-dp-dip-sp-on-android/ShareImprove this answerFolloweditedSep 9, 2021 at 17:04Rahul3,33122 gold badges3434 silver badges4444 bronze badgesansweredMay 10, 2017 at 7:37lalit vasanlalit vasan45033 silver badges66 bronze badges\n\nI want to provide an easy way to understanddp. In fact, I thinkdpis the easiest one to understand.dpis just a physical length unit. It\'s of the same dimension asmmorinch. It\'s just convenient for us to write50dp,60dprather than50/160 inchor60/160 inch, because onedpis just1/160 inchwhatever the screen size or resolution is.The only problem is that, the android dpi of some screens are not accurate. For example, a screen classified to 160dpi may have 170dpi indeed. So the computation result ofdpis fuzzy. It should be approximately the same as1/160 inch.ShareImprove this answerFolloweditedApr 2, 2016 at 3:35answeredApr 2, 2016 at 3:19ProtossShuttleProtossShuttle1,6732121 silver badges4141 bronze badges\n\nSDP- a scalable size unit - basically it is not a unit, but dimension resources for different screen size.Try thesdplibrary from Intuit. It\'s very handy to solve unit problems, and you canquickly support multiple screens.Usageandroid:paddingBottom=""@dimen/_15sdp""for positive andandroid:layout_marginTop=""@dimen/_minus10sdp""for negative sdp sdpIt has equivalent value in dp for each size invalues-sw<N>dpfolders (sw = smallestWidth).AttentionUse it carefully! In most cases you still need to design a different layout for tablets.Example<LinearLayout\n          android:layout_width=""wrap_content""\n          android:layout_height=""wrap_content""\n          android:layout_marginTop=""@dimen/_minus10sdp""\n          android:paddingBottom=""@dimen/_15sdp""\n          android:orientation=""horizontal"" >\n\n                <TextView\n                    android:layout_width=""wrap_content""\n                    android:layout_height=""wrap_content""\n                    android:includeFontPadding=""false""\n                    android:text=""♡""\n                    android:textColor=""#ED6C27""\n                    android:textSize=""@dimen/_70sdp""\n                    android:textStyle=""bold"" />\n\n                <TextView\n                    android:layout_width=""wrap_content""\n                    android:layout_height=""wrap_content""\n                    android:includeFontPadding=""false""\n                    android:text=""U""\n                    android:textColor=""@android:color/black""\n                    android:textSize=""@dimen/_70sdp"" />\n            </LinearLayout>You can use db for text size, but I prefersspfor text size.For more details, checkthe library GitHub page.ShareImprove this answerFolloweditedOct 18, 2017 at 5:26Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredDec 27, 2016 at 14:17QamarQamar5,08533 gold badges3232 silver badges5050 bronze badges\n\nThe ratio ofdp-to-pixelwill change with the screen density, but not necessarily in direct proportion.Note: The compiler accepts both ""dip"" and ""dp"", though ""dp"" is more consistent with ""sp"".Scale-independent Pixels- this is like thedpunit, but it is also scaled by the user\'s font size preference.ShareImprove this answerFollowansweredMar 3, 2017 at 18:59Narendra SorathiyaNarendra Sorathiya3,82022 gold badges3535 silver badges3838 bronze badges'}","{'title': 'Why does HTML think “chucknorris” is a color?', 'question': 'Why do certain random strings produce colors when entered as background colors in HTML?For example,bgcolor=""chucknorris""produces ared background:<body bgcolor=""chucknorris""> test </body>Conversely,bgcolor=""chucknorr""produces ayellow background:<body bgcolor=""chucknorr""> test </body>This holds true across various browsers and platforms. What’s going on here?htmlbrowserbackground-colorShareImprove this questionFolloweditedJun 6, 2022 at 7:37Mateen Ulhaq26.6k2020 gold badges115115 silver badges147147 bronze badgesaskedNov 29, 2011 at 22:54user456584user45658488.2k1616 gold badges7878 silver badges108108 bronze badges', 'answers': 'It’s a holdover from theNetscapedays:Missing digits are treated as 0[...]. An incorrect digit is simply interpreted as 0. For example the values #F0F0F0, F0F0F0, F0F0F, #FxFxFx and FxFxFx are all the same.It is from the blog postA little rant about Microsoft Internet Explorer\'s color parsingwhich covers it in great detail, including varying lengths of color values, etc.If we apply the rules in turn from the blog post, we get the following:Replace all nonvalid hexadecimal characters with 0’s:chucknorris becomes c00c0000000Pad out to the next total number of characters divisible by\xa03 (11\xa0→ 12):c00c 0000 0000Split into three equal groups, with each component representing the corresponding colour component of an RGB colour:RGB (c00c, 0000, 0000)Truncate each of the arguments from the right down to two characters.Which, finally, gives the following result:RGB (c0, 00, 00) = #C00000 or RGB(192, 0, 0)Here’s an example demonstrating thebgcolorattribute in action, to produce this “amazing” colour swatch:<table>\n  <tr>\n    <td bgcolor=""chucknorris"" cellpadding=""8"" width=""100"" align=""center"">chuck norris</td>\n    <td bgcolor=""mrt""         cellpadding=""8"" width=""100"" align=""center"" style=""color:#ffffff"">Mr T</td>\n    <td bgcolor=""ninjaturtle"" cellpadding=""8"" width=""100"" align=""center"" style=""color:#ffffff"">ninjaturtle</td>\n  </tr>\n  <tr>\n    <td bgcolor=""sick""  cellpadding=""8"" width=""100"" align=""center"">sick</td>\n    <td bgcolor=""crap""  cellpadding=""8"" width=""100"" align=""center"">crap</td>\n    <td bgcolor=""grass"" cellpadding=""8"" width=""100"" align=""center"">grass</td>\n  </tr>\n</table>This also answers the other part of the question: Why doesbgcolor=""chucknorr""produce a yellow colour? Well, if we apply the rules, the string is:c00c00000 => c00 c00 000 => c0 c0 00 [RGB(192, 192, 0)]Which gives a light yellow gold colour. As the string starts off as 9\xa0characters, we keep the second\xa0‘C’ this time around, hence it ends up in the final colour value.I originally encountered this when someone pointed out that you could docolor=""crap""and, well, it comes out brown.ShareImprove this answerFolloweditedNov 30, 2022 at 22:17Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredNov 30, 2011 at 21:53dashdash91k44 gold badges5353 silver badges7272 bronze badges\n\nI\'m sorry to disagree, but according to the rules for parsing a legacy color valueposted by Yuhong Bao,chucknorrisdoes notequate to#CC0000, but rather to#C00000, a very similar but slightly different hue of red. I used theFirefox ColorZilla add-onto verify this.The rules state:make the string a length that is a multiple of 3 by adding 0s:chucknorris0separate the string into three equal length strings:chuc knor ris0truncate each string to two characters:ch kn rikeep the hex values, and add 0\'s where necessary:C0 00 00I was able to use these rules to correctly interpret the following strings:LuckyCharmsLuckLuckBeALadyLuckBeALadyTonightGangnamStyleThe original answerers who said the color was#CC0000have since edited their answers to include the correction.ShareImprove this answerFolloweditedNov 30, 2022 at 22:36Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredOct 17, 2012 at 17:55Jeremy GoodellJeremy Goodell18.7k55 gold badges3636 silver badges5353 bronze badges\n\nThe reason is the browser cannot understandit and try to somehow translate it to what it can understand and in this case into ahexadecimalvalue!...chucknorrisstarts withcwhich is recognised character in hexadecimal, also it\'s converting all unrecognised characters into0!Sochucknorrisin hexadecimal format becomes:c00c00000000, all other characters become0andcremains where they are...Now they get divided by 3 forRGB(red, green, blue)...R: c00c, G: 0000, B:0000...But we know valid hexadecimal for RGB is just 2 characters, meansR: c0, G: 00, B:00So the real result is:bgcolor=""#c00000"";I also added the steps in the image as a quick reference for you:ShareImprove this answerFolloweditedJan 24 at 2:40answeredJul 1, 2017 at 4:08AlirezaAlireza103k2727 gold badges275275 silver badges173173 bronze badges\n\nMost browsers will simply ignore anynon-hexadecimal values in your color string, substituting non-hexadecimal digits with zeros.ChuCknorristranslates toc00c0000000.  At this point, the browser will divide the string into three equal sections, indicatingRed,GreenandBluevalues:c00c 0000 0000.  Extra bits in each section will be ignored, which makes the final result#c00000which is a reddish color.Note, this doesnotapply to CSS color parsing, which follow the CSS standard.<p><font color=\'chucknorris\'>Redish</font></p>\n<p><font color=\'#c00000\'>Same as above</font></p>\n<p><span style=""color: chucknorris"">Black</span></p>ShareImprove this answerFolloweditedNov 30, 2022 at 22:15Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredNov 29, 2011 at 23:01Mike ChristensenMike Christensen90.5k5050 gold badges215215 silver badges339339 bronze badges\n\nThe browser is trying to convertchucknorrisinto a hexadecimal color code because it’s not a valid value.Inchucknorris, everything exceptcis not a valid hexadecimal value.So it gets converted toc00c00000000.This is split into groups of 3, R G B (pad 0\'s at the end if not multiple of 3)Of each group only two characters are picked as that is what\'s allowed.It finally becomes#c00000, a shade of red.This seems to be an issue primarily withInternet\xa0 ExplorerandOpera(12) as both Chrome\xa0(31) and Firefox\xa0(26) just ignore this.P.S. The numbers in brackets are the browser versions I tested on.Similarly,Rajnikanth(Indian Chuck Noris) converse to a shade of black:0a00 00a0 0000 => #0a0000On a lighter noteChuck Norris doesn’t conform to web standards. Web standards conform\nto him. #BADA55ShareImprove this answerFolloweditedDec 23, 2022 at 10:47Glenn Antony Sheen2511 silver badge33 bronze badgesansweredNov 30, 2013 at 14:05aWebDeveloperaWebDeveloper37.9k4141 gold badges174174 silver badges245245 bronze badges\n\nTheWHATWG HTML specification has the exact algorithmfor parsing a legacy color value.The code Netscape Classic used for parsing color strings is open source:netscape/lib/layout/layimage.c.For example, notice that each character is parsed as a hex digit and then is shifted into a 32-bit integerwithout checking for overflow. Only eight hex digits fit into a 32-bit integer, which is why only the last 8 characters are considered. After parsing the hex digits into 32-bit integers, they are then truncated into 8-bit integers by dividing them by 16 until they fit into 8-bit, which is why leading zeros are ignored.This code does not exactly match what is defined in the spec, but the only difference there is a few lines of code. I think it isthese linesthat were added (in Netscape 4):if (bytes_per_val > 4)\n{\n    bytes_per_val = 4;\n}ShareImprove this answerFolloweditedNov 30, 2022 at 22:21Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredSep 27, 2012 at 22:01Yuhong BaoYuhong Bao3,92911 gold badge2020 silver badges2121 bronze badges\n\nThe browser will try to convertchucknorrisinto a hexadecimal value.Sincecis the only valid hex character inchucknorris, the value turns into:c00c00000000(0 for all values that were invalid).The browser then divides the result into three groupds:Red = c00c,Green = 0000,Blue = 0000.Since valid hex values for HTML backgrounds only contain two digits for each color type (r,g,b), the last two digits are truncated from each group, leaving an RGB value ofc00000which is a brick-reddish toned color.ShareImprove this answerFolloweditedNov 30, 2022 at 22:39Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMay 24, 2016 at 5:18WebengWebeng7,14044 gold badges3434 silver badges6060 bronze badges\n\nchucknorrisstarts withc, and the browser reads it into a hexadecimal value.Because A, B, C, D, E, and F arecharacters in hexadecimal.The browser convertschucknorristo a hexadecimal value,C00C00000000.Then theC00C00000000hexadecimal value is converted toRGBformat (divided by 3):C00C00000000⇒R:C00C, G:0000, B:0000The browser needs only two digits to indicate the colour:R:C00C, G:0000, B:0000⇒R:C0, G:00, B:00⇒C00000Finally, showbgcolor = C00000in the web browser.Here\'s an example demonstrating it:<table>\n  <tr>\n    <td bgcolor=""chucknorris"" cellpadding=""10"" width=""150"" align=""center"">chucknorris</td>\n    <td bgcolor=""c00c00000000"" cellpadding=""10"" width=""150"" align=""center"">c00c00000000</td>\n    <td bgcolor=""c00000"" cellpadding=""10"" width=""150"" align=""center"">c00000</td>\n  </tr>\n</table>ShareImprove this answerFolloweditedSep 30, 2020 at 6:08ib.28.6k1212 gold badges8484 silver badges103103 bronze badgesansweredApr 17, 2018 at 19:16sameera lakshithasameera lakshitha1,98544 gold badges2222 silver badges2929 bronze badges\n\nTherules for parsing colors on legacy attributesinvolves additional steps than those mentioned in existing answers. The truncate component to 2 digits part is described as:Discard all characters except the last 8Discard leading zeros one by oneas long as all components have a leading zeroDiscard all characters except the first 2Some examples:oooFoooFoooF\n000F 000F 000F                <- replace, pad and chunk\n0F 0F 0F                      <- leading zeros truncated\n0F 0F 0F                      <- truncated to 2 characters from right\n\noooFooFFoFFF\n000F 00FF 0FFF                <- replace, pad and chunk\n00F 0FF FFF                   <- leading zeros truncated\n00 0F FF                      <- truncated to 2 characters from right\n\nABCooooooABCooooooABCoooooo\nABC000000 ABC000000 ABC000000 <- replace, pad and chunk\nBC000000 BC000000 BC000000    <- truncated to 8 characters from left\nBC BC BC                      <- truncated to 2 characters from right\n\nAoCooooooAoCooooooAoCoooooo\nA0C000000 A0C000000 A0C000000 <- replace, pad and chunk\n0C000000 0C000000 0C000000    <- truncated to 8 characters from left\nC000000 C000000 C000000       <- leading zeros truncated\nC0 C0 C0                      <- truncated to 2 characters from rightBelow is a partial implementation of the algorithm. It does not handle errors or cases where the user enters a valid color.function parseColor(input) {\r\n  // todo: return error if input is """"\r\n  input = input.trim();\r\n  // todo: return error if input is ""transparent""\r\n  // todo: return corresponding #rrggbb if input is a named color\r\n  // todo: return #rrggbb if input matches #rgb\r\n  // todo: replace unicode code points greater than U+FFFF with 00\r\n  if (input.length > 128) {\r\n    input = input.slice(0, 128);\r\n  }\r\n  if (input.charAt(0) === ""#"") {\r\n    input = input.slice(1);\r\n  }\r\n  input = input.replace(/[^0-9A-Fa-f]/g, ""0"");\r\n  while (input.length === 0 || input.length % 3 > 0) {\r\n    input += ""0"";\r\n  }\r\n  var r = input.slice(0, input.length / 3);\r\n  var g = input.slice(input.length / 3, input.length * 2 / 3);\r\n  var b = input.slice(input.length * 2 / 3);\r\n  if (r.length > 8) {\r\n    r = r.slice(-8);\r\n    g = g.slice(-8);\r\n    b = b.slice(-8);\r\n  }\r\n  while (r.length > 2 && r.charAt(0) === ""0"" && g.charAt(0) === ""0"" && b.charAt(0) === ""0"") {\r\n    r = r.slice(1);\r\n    g = g.slice(1);\r\n    b = b.slice(1);\r\n  }\r\n  if (r.length > 2) {\r\n    r = r.slice(0, 2);\r\n    g = g.slice(0, 2);\r\n    b = b.slice(0, 2);\r\n  }\r\n  return ""#"" + r.padStart(2, ""0"") + g.padStart(2, ""0"") + b.padStart(2, ""0"");\r\n}\r\n\r\n$(function() {\r\n  $(""#input"").on(""change"", function() {\r\n    var input = $(this).val();\r\n    var color = parseColor(input);\r\n    var $cells = $(""#result tbody td"");\r\n    $cells.eq(0).attr(""bgcolor"", input);\r\n    $cells.eq(1).attr(""bgcolor"", color);\r\n\r\n    var color1 = $cells.eq(0).css(""background-color"");\r\n    var color2 = $cells.eq(1).css(""background-color"");\r\n    $cells.eq(2).empty().append(""bgcolor: "" + input, ""<br>"", ""getComputedStyle: "" + color1);\r\n    $cells.eq(3).empty().append(""bgcolor: "" + color, ""<br>"", ""getComputedStyle: "" + color2);\r\n  });\r\n});body { font: medium monospace; }\r\ninput { width: 20em; }\r\ntable { table-layout: fixed; width: 100%; }<script src=""https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js""></script>\r\n\r\n<p><input id=""input"" placeholder=""Enter color e.g. chucknorris""></p>\r\n<table id=""result"">\r\n  <thead>\r\n    <tr>\r\n      <th>Left Color</th>\r\n      <th>Right Color</th>\r\n    </tr>\r\n  </thead>\r\n  <tbody>\r\n    <tr>\r\n      <td>&nbsp;</td>\r\n      <td>&nbsp;</td>\r\n    </tr>\r\n    <tr>\r\n      <td>&nbsp;</td>\r\n      <td>&nbsp;</td>\r\n    </tr>\r\n  </tbody>\r\n</table>ShareImprove this answerFollowansweredOct 17, 2018 at 14:53Salman ArshadSalman Arshad270k8383 gold badges436436 silver badges528528 bronze badges'}","{'title': 'How do I redirect to another webpage?', 'question': ""This question's answers are acommunity effort. Edit existing answers to improve this post. It is not currently accepting new answers or interactions.How can I redirect the user from one page to another using jQuery or pure JavaScript?javascriptjqueryhttp-redirectShareFolloweditedFeb 6, 2018 at 12:40Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesaskedFeb 2, 2009 at 12:54venkatachalamvenkatachalam102k3131 gold badges7373 silver badges7777 bronze badges"", 'answers': 'One does not simply redirect using jQueryjQuery is not necessary, andwindow.location.replace(...)will best simulate an HTTP redirect.window.location.replace(...)is better than usingwindow.location.href, becausereplace()does not keep the originating page in the session history, meaning the user won\'t get stuck in a never-ending back-button fiasco.If you want to simulate someone clicking on a link, uselocation.hrefIf you want to simulate an HTTP redirect, uselocation.replaceFor example:// similar behavior as an HTTP redirect\nwindow.location.replace(""http://stackoverflow.com"");\n\n// similar behavior as clicking on a link\nwindow.location.href = ""http://stackoverflow.com"";ShareImprove this answerFolloweditedNov 22, 2023 at 9:40GWed15.5k66 gold badges6363 silver badges102102 bronze badgesansweredFeb 3, 2009 at 4:24Ryan McGearyRyan McGeary238k1313 gold badges9898 silver badges104104 bronze badges\n\nWARNING:This answer has merely been provided as a possible solution; it is obviouslynotthe best solution, as it requires jQuery. Instead, prefer the pure JavaScript solution.$(location).prop(\'href\', \'http://stackoverflow.com\')ShareImprove this answerFolloweditedSep 23, 2021 at 18:48Timo Tijhof10.2k66 gold badges3737 silver badges5252 bronze badgesansweredOct 28, 2009 at 16:35Boris GuéryBoris Guéry47.5k88 gold badges5454 silver badges8888 bronze badges\n\nStandard ""vanilla"" JavaScript way to redirect a pagewindow.location.href = \'newPage.html\';Or more simply:  (sincewindowis Global)location.href = \'newPage.html\';If you are here because you arelosingHTTP_REFERER when redirecting, keep reading:(Otherwise ignore this last part)The following section is for those usingHTTP_REFERERas one of many security measures (although it isn\'t a great protective measure). If you\'re usingInternet\xa0Explorer\xa08or lower, these variables get lost when using any form of JavaScript page redirection (location.href,  etc.).Below we are going to implement an alternative forIE8 & lowerso that we don\'t lose HTTP_REFERER. Otherwise, you can almost always simply usewindow.location.href.Testing againstHTTP_REFERER(URL pasting, session, etc.)canhelp tell whether a request is legitimate.(Note:there are also ways to work-around / spoof these referrers, as noted by droop\'s link in the comments)Simple cross-browser testing solution (fallback to window.location.href for Internet\xa0Explorer\xa09+ and all other browsers)Usage:redirect(\'anotherpage.aspx\');function redirect (url) {\n    var ua        = navigator.userAgent.toLowerCase(),\n        isIE      = ua.indexOf(\'msie\') !== -1,\n        version   = parseInt(ua.substr(4, 2), 10);\n\n    // Internet Explorer 8 and lower\n    if (isIE && version < 9) {\n        var link = document.createElement(\'a\');\n        link.href = url;\n        document.body.appendChild(link);\n        link.click();\n    }\n\n    // All other browsers can use the standard window.location.href (they don\'t lose HTTP_REFERER like Internet Explorer 8 & lower does)\n    else { \n        window.location.href = url; \n    }\n}ShareImprove this answerFolloweditedJun 20, 2020 at 9:12CommunityBot111 silver badgeansweredJul 27, 2012 at 14:41Mark Pieszak - Trilon.ioMark Pieszak - Trilon.io65.3k1414 gold badges8383 silver badges9696 bronze badges\n\nThere are lots of ways of doing this.// window.location\nwindow.location.replace(\'http://www.example.com\')\nwindow.location.assign(\'http://www.example.com\')\nwindow.location.href = \'http://www.example.com\'\ndocument.location.href = \'/path\'\n\n// window.history\nwindow.history.back()\nwindow.history.go(-1)\n\n// window.navigate; ONLY for old versions of Internet Explorer\nwindow.navigate(\'top.jsp\')\n\n\n// Probably no bueno\nself.location = \'http://www.example.com\';\ntop.location = \'http://www.example.com\';\n\n// jQuery\n$(location).attr(\'href\',\'http://www.example.com\')\n$(window).attr(\'location\',\'http://www.example.com\')\n$(location).prop(\'href\', \'http://www.example.com\')ShareImprove this answerFolloweditedJan 16, 2019 at 10:28answeredJan 28, 2014 at 4:28Govind SinghGovind Singh15.4k1414 gold badges7474 silver badges107107 bronze badges\n\nThis works for every browser:window.location.href = \'your_url\';ShareImprove this answerFolloweditedDec 4, 2014 at 20:30Jeremy W1,92966 gold badges3030 silver badges3939 bronze badgesansweredOct 22, 2010 at 23:45FredFred3,74911 gold badge1515 silver badges22 bronze badges\n\nIt would help if you were a little more descriptive in what you are trying to do.  If you are trying to generate paged data, there are some options in how you do this.  You can generate separate links for each page that you want to be able to get directly to.<a href=\'/path-to-page?page=1\' class=\'pager-link\'>1</a>\n<a href=\'/path-to-page?page=2\' class=\'pager-link\'>2</a>\n<span class=\'pager-link current-page\'>3</a>\n...Note that the current page in the example is handled differently in the code and with CSS.If you want the paged data to be changed via AJAX, this is where jQuery would come in.  What you would do is add a click handler to each of the anchor tags corresponding to a different page.  This click handler would invoke some jQuery code that goes and fetches the next page via AJAX and updates the table with the new data.  The example below assumes that you have a web service that returns the new page data.$(document).ready( function() {\n    $(\'a.pager-link\').click( function() {\n        var page = $(this).attr(\'href\').split(/\\?/)[1];\n        $.ajax({\n            type: \'POST\',\n            url: \'/path-to-service\',\n            data: page,\n            success: function(content) {\n               $(\'#myTable\').html(content);  // replace\n            }\n        });\n        return false; // to stop link\n    });\n});ShareImprove this answerFollowansweredFeb 2, 2009 at 13:18tvanfossontvanfosson530k102102 gold badges698698 silver badges798798 bronze badges\n\nI also think thatlocation.replace(URL)is the best way, but if you want to notify the search engines about your redirection (they don\'t analyze JavaScript code to see the redirection) you should add therel=""canonical""meta tag to your website.Adding a noscript section with a HTML refresh meta tag in it, is also a good solution. I suggest you to use thisJavaScript redirection toolto create redirections. It also has Internet Explorer support to pass the HTTP referrer.Sample code without delay looks like this:<!-- Place this snippet right after opening the head tag to make it work properly -->\n\n    <!-- This code is licensed under GNU GPL v3 -->\n    <!-- You are allowed to freely copy, distribute and use this code, but removing author credit is strictly prohibited -->\n    <!-- Generated by http://insider.zone/tools/client-side-url-redirect-generator/ -->\n\n    <!-- REDIRECTING STARTS -->\n    <link rel=""canonical"" href=""https://yourdomain.example/""/>\n    <noscript>\n        <meta http-equiv=""refresh"" content=""0;URL=https://yourdomain.example/"">\n    </noscript>\n    <!--[if lt IE 9]><script type=""text/javascript"">var IE_fix=true;</script><![endif]-->\n    <script type=""text/javascript"">\n        var url = ""https://yourdomain.example/"";\n        if(typeof IE_fix != ""undefined"") // IE8 and lower fix to pass the http referer\n        {\n            document.write(""redirecting...""); // Don\'t remove this line or appendChild() will fail because it is called before document.onload to make the redirect as fast as possible. Nobody will see this text, it is only a tech fix.\n            var referLink = document.createElement(""a"");\n            referLink.href = url;\n            document.body.appendChild(referLink);\n            referLink.click();\n        }\n        else { window.location.replace(url); } // All other browsers\n    </script>\n    <!-- Credit goes to http://insider.zone/ -->\n    <!-- REDIRECTING ENDS -->ShareImprove this answerFolloweditedJul 1, 2023 at 21:01shA.t16.9k55 gold badges5757 silver badges119119 bronze badgesansweredApr 25, 2013 at 10:12Patartics MilánPatartics Milán4,91844 gold badges2828 silver badges3232 bronze badges\n\nBut if someone wants to redirect back to home page then he may use the following snippet.window.location = window.location.hostIt would be helpful if you have three different environments as development, staging, and production.You can explore this window or window.location object by just putting these words in Chrome Console orFirebug\'s Console.ShareImprove this answerFolloweditedJan 21, 2017 at 20:07answeredOct 30, 2012 at 12:15Nadeem YasinNadeem Yasin4,50433 gold badges3333 silver badges4141 bronze badges\n\nJavaScript provides you many methods to retrieve and change the current URL which is displayed in browser\'s address bar. All these methods uses the Location object, which is  a property of the Window object. You can create a new Location object that has the current URL as follows..var currentLocation = window.location;Basic Structure of a URL<protocol>//<hostname>:<port>/<pathname><search><hash>Protocol -- Specifies the protocol name be used to access the resource on the Internet. (HTTP (without SSL) or HTTPS (with SSL))hostname -- Host name specifies the host that owns the resource. For example, www.stackoverflow.com. A server provides services using the name of the host.port -- A port number used to recognize a specific process to which an Internet or other network message is to be forwarded when it arrives at a server.pathname -- The path gives info about the specific resource within the host that the Web client wants to access. For example, stackoverflow.com/index.html.query --  A query string follows the path component, and provides a string of information that the resource can utilize for some purpose (for example, as parameters for a search or as data to be processed).hash -- The anchor portion of a URL, includes the hash sign (#).With these Location object properties you can access all of these URL componentshash-Sets or returns the anchor portion of a URL.host-Sets\nor returns the hostname and port of a URL.hostname-Sets or\nreturns the hostname of a URL.href-Sets or returns the entire\nURL.pathname-Sets or returns the path name of a URL.port-Sets or returns the port number the server uses for a URL.protocol-Sets or returns the protocol of a URL.search-Sets\nor returns the query portion of a URLNow If you want to change a page or redirect the user to some other page you can use thehrefproperty of the Location object like thisYou can use the href property of the Location object.window.location.href = ""http://www.stackoverflow.com"";Location Objectalso have these three methodsassign()-- Loads a new document.reload()-- Reloads the current document.replace()-- Replaces the current document with a new oneYou can use assign() and replace methods also to redirect to other pages like theselocation.assign(""http://www.stackoverflow.com"");\n\nlocation.replace(""http://www.stackoverflow.com"");How assign() and replace() differs-- The difference between replace() method and assign() method(), is that replace() removes the URL of the current document from the document history, means it is not possible to use the ""back"" button to navigate back to the original document. So Use the assign() method if you want to load a new document, andwant to give the option to navigate back to the original document.You can change the location object href property usingjQueryalso  like this$(location).attr(\'href\',url);And hence you can redirect the user to some other url.ShareImprove this answerFolloweditedOct 24, 2017 at 9:52Ondrej50211 gold badge33 silver badges1212 bronze badgesansweredDec 23, 2013 at 13:35Nikhil AgrawalNikhil Agrawal26.4k2121 gold badges9292 silver badges127127 bronze badges\n\nBasicallyjQueryis just aJavaScriptframework and for doing some of the things likeredirectionin this case, you can just use pure JavaScript, so in that case you have 3 options using vanilla JavaScript:1) Using locationreplace, this will replace the current history of the page, means that it is not possible to use thebackbutton to go back to the original page.window.location.replace(""http://stackoverflow.com"");2) Using locationassign, this will keep the history for you and with using back button, you can go back to the original page:window.location.assign(""http://stackoverflow.com"");3) I recommend using one of those previous ways, but this could be the third option using pure JavaScript:window.location.href=""http://stackoverflow.com"";You can also write a function in jQuery to handle it, but not recommended as it\'s only one line pure JavaScript function, also you can use all of above functions without window if you are already in the window scope, for examplewindow.location.replace(""http://stackoverflow.com"");could belocation.replace(""http://stackoverflow.com"");Also I show them all on the image below:ShareImprove this answerFolloweditedJan 18, 2019 at 23:52answeredFeb 26, 2017 at 13:36AlirezaAlireza103k2727 gold badges275275 silver badges173173 bronze badges\n\nShould just be able to set usingwindow.location.Example:window.location = ""https://stackoverflow.com/"";Here is a past post on the subject:How do I redirect to another webpage?ShareImprove this answerFolloweditedMay 19, 2019 at 13:36duplode34.2k77 gold badges8383 silver badges152152 bronze badgesansweredFeb 16, 2014 at 14:42NewseNewse2,32811 gold badge1313 silver badges77 bronze badges\n\nBefore I start, jQuery is a JavaScript library used for DOM manipulation. So you should not be using jQuery for a page redirect.A quote from Jquery.com:While jQuery might run without major issues in older browser versions,\nwe do not actively test jQuery in them and generally do not fix bugs\nthat may appear in them.It was found here:https://jquery.com/browser-support/So jQuery is not an end-all and be-all solution for backwards compatibility.The following solution using raw JavaScript works in all browsers and have been standard for a long time so you don\'t need any libraries for cross browser support.This page will redirect toGoogleafter 3000 milliseconds<!DOCTYPE html>\n<html>\n    <head>\n        <title>example</title>\n    </head>\n    <body>\n        <p>You will be redirected to google shortly.</p>\n        <script>\n            setTimeout(function(){\n                window.location.href=""http://www.google.com""; // The URL that will be redirected too.\n            }, 3000); // The bigger the number the longer the delay.\n        </script>\n    </body>\n</html>Different options are as follows:window.location.href=""url""; // Simulates normal navigation to a new page\nwindow.location.replace(""url""); // Removes current URL from history and replaces it with a new URL\nwindow.location.assign(""url""); // Adds new URL to the history stack and redirects to the new URL\n\nwindow.history.back(); // Simulates a back button click\nwindow.history.go(-1); // Simulates a back button click\nwindow.history.back(-1); // Simulates a back button click\nwindow.navigate(""page.html""); // Same as window.location=""url""When using replace, the back button will not go back to the redirect page, as if it was never in the history. If you want the user to be able to go back to the redirect page then usewindow.location.hreforwindow.location.assign. If you do use an option that lets the user go back to the redirect page, remember that when you enter the redirect page it will redirect you back. So put that into consideration when picking an option for your redirect. Under conditions where the page is only redirecting when an action is done by the user then having the page in the back button history will be okay. But if the page auto redirects then you should use replace so that the user can use the back button without getting forced back to the page the redirect sends.You can also use meta data to run a page redirect as followed.META Refresh<meta http-equiv=""refresh"" content=""0;url=http://evil.example/"" />META Location<meta http-equiv=""location"" content=""URL=http://evil.example"" />BASE Hijacking<base href=""http://evil.example/"" />Many more methods to redirect your unsuspecting client to a page they may not wish to go can be found on this page (not one of them is reliant on jQuery):https://code.google.com/p/html5security/wiki/RedirectionMethodsI would also like to point out, people don\'t like to be randomly redirected. Only redirect people when absolutely needed. If you start redirecting people randomly they will never go to your site again.The next paragraph is hypothetical:You also may get reported as a malicious site. If that happens then when people click on a link to your site the users browser may warn them that your site is malicious. What may also happen is search engines may start dropping your rating if people are reporting a bad experience on your site.Please review Google Webmaster Guidelines about redirects:https://support.google.com/webmasters/answer/2721217?hl=en&ref_topic=6001971Here is a fun little page that kicks you out of the page.<!DOCTYPE html>\n<html>\n    <head>\n        <title>Go Away</title>\n    </head>\n    <body>\n        <h1>Go Away</h1>\n        <script>\n            setTimeout(function(){\n                window.history.back();\n            }, 3000);\n        </script>\n    </body>\n</html>If you combine the two page examples together you would have an infant loop of rerouting that will guarantee that your user will never want to use your site ever again.ShareImprove this answerFolloweditedJun 19, 2022 at 10:04Stephen Ostermiller♦24.9k1616 gold badges9393 silver badges111111 bronze badgesansweredAug 27, 2014 at 21:50Patrick W. McMahonPatrick W. McMahon3,52811 gold badge2121 silver badges3131 bronze badges\n\nvar url = \'asdf.html\';\nwindow.location.href = url;ShareImprove this answerFolloweditedMay 1, 2012 at 20:35Ben Lee53.1k1414 gold badges126126 silver badges146146 bronze badgesansweredOct 13, 2009 at 9:36user188973user188973\n\nYou can do that without jQuery as:window.location = ""http://yourdomain.com"";And if you want only jQuery then you can do it like:$jq(window).attr(""location"",""http://yourdomain.com"");ShareImprove this answerFolloweditedNov 29, 2014 at 6:13Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMay 23, 2012 at 13:03ScoRpionScoRpion11.4k2424 gold badges6868 silver badges9191 bronze badges\n\nThis works with jQuery:$(window).attr(""location"", ""http://google.fr"");ShareImprove this answerFolloweditedOct 30, 2016 at 16:11Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredSep 5, 2011 at 17:25xloadxxloadx1,56311 gold badge99 silver badges22 bronze badges\n\n# HTML Page Redirect Using jQuery/JavaScript MethodTry this example code:function YourJavaScriptFunction()\n{\n    var i = $(\'#login\').val();\n    if (i == \'login\')\n        window.location = ""Login.php"";\n    else\n        window.location = ""Logout.php"";\n}If you want to give a complete URL aswindow.location = ""www.google.co.in"";.ShareImprove this answerFolloweditedAug 20, 2020 at 4:53answeredFeb 6, 2014 at 10:28Sakthi KarthikSakthi Karthik3,16944 gold badges2727 silver badges2929 bronze badges\n\nOriginal question:""How to redirect using jQuery?"", hence the answer implements jQuery >> Complimentary usage case.To just redirect to a page with JavaScript:window.location.href = ""/contact/"";Or if you need a delay:setTimeout(function () {\n  window.location.href = ""/contact/"";\n}, 2000);   // Time in millisecondsjQuery allows you to select elements from a web page with ease. You can find anything you want on a page and then use jQuery to add special effects, react to user actions, or show and hide content inside or outside the element you have selected. All these tasks start with knowinghow to select an element or an event.$(\'a,img\').on(\'click\',function(e){\n  e.preventDefault();\n  $(this).animate({\n    opacity: 0 //Put some CSS animation here\n  }, 500);\n  setTimeout(function(){\n    // OK, finished jQuery staff, let\'s go redirect\n    window.location.href = ""/contact/"";\n  },500);\n});Imagine someone wrote a script/plugin with 10000 lines of code. With jQuery you can connect to this code with just a line or two.ShareImprove this answerFolloweditedSep 24, 2019 at 16:17jonju2,74111 gold badge1414 silver badges1919 bronze badgesansweredDec 26, 2014 at 19:08SergeDirectSergeDirect2,0691515 silver badges2020 bronze badges\n\nSo, the question is how to make a redirect page, and not how to redirect to a website?You only need to use JavaScript for this. Here is some tiny code that will create a dynamic redirect page.<script>\n    var url = window.location.search.split(\'url=\')[1]; // Get the URL after ?url=\n    if( url ) window.location.replace(url);\n</script>So say you just put this snippet into aredirect/index.htmlfile on your website you can use it like so.http://www.mywebsite.com/redirect?url=http://stackoverflow.comAnd if you go to that link it will automatically redirect you tostackoverflow.com.Link to DocumentationAnd that\'s how you make aSimpleredirect page with JavaScriptEdit:There is also one thing to note. I have addedwindow.location.replacein my code because I think it suits a redirect page, but, you must know that when usingwindow.location.replaceand you get redirected, when you press the back button in your browser it willnotgot back to the redirect page, and it will go back to the page before it, take a look at this little demo thing.Example:The process:store home=>redirect page to google=>googleWhen at google:google=>back button in browser=>store homeSo, if this suits your needs then everything should be fine. If you want to include the redirect page in the browser history replace thisif( url ) window.location.replace(url);withif( url ) window.location.href = url;ShareImprove this answerFolloweditedJun 20, 2020 at 9:12CommunityBot111 silver badgeansweredAug 30, 2013 at 23:46iConnoriConnor20.1k1414 gold badges6464 silver badges9797 bronze badges\n\nYou need to put this line in your code:$(location).attr(""href"",""http://stackoverflow.com"");If you don\'t have jQuery, go with JavaScript:window.location.replace(""http://stackoverflow.com"");\nwindow.location.href(""http://stackoverflow.com"");ShareImprove this answerFolloweditedMar 28, 2019 at 5:20answeredJan 27, 2014 at 10:11Ashish RatanAshish Ratan2,86011 gold badge2525 silver badges5151 bronze badges\n\nOn your click function, just add:window.location.href = ""The URL where you want to redirect"";\n$(\'#id\').click(function(){\n    window.location.href = ""http://www.google.com"";\n});ShareImprove this answerFolloweditedOct 26, 2014 at 10:44Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredNov 14, 2012 at 2:17SwaprksSwaprks1,5531111 silver badges1616 bronze badges\n\nTry this:location.assign(""http://www.google.com"");Code snippet of example.ShareImprove this answerFolloweditedJan 2, 2016 at 4:29stites5,09355 gold badges3434 silver badges4343 bronze badgesansweredNov 19, 2013 at 4:01tilaktilak4,68166 gold badges3535 silver badges4646 bronze badges\n\njQuery is not needed. You can do this:window.open(""URL"",""_self"","""","""")It is that easy!The best way to initiate an HTTP request is withdocument.loacation.href.replace(\'URL\').ShareImprove this answerFolloweditedApr 3, 2014 at 21:23Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJul 11, 2013 at 17:40brenbren4,27433 gold badges2929 silver badges4444 bronze badges\n\nJavaScript is very extensive. If you want to jump to another page you have three options.window.location.href=\'otherpage.com\';\nwindow.location.assign(\'otherpage.com\');\n//and...\n\nwindow.location.replace(\'otherpage.com\');As you want to move to another page, you can use any from these if this is your requirement.However all three options are limited to different situations. Chose wisely according to your requirement.If you are interested in more knowledge about the concept, you can go through further.window.location.href;     // Returns the href (URL) of the current page\nwindow.location.hostname; // Returns the domain name of the web host\nwindow.location.pathname; // Returns the path and filename of the current page\nwindow.location.protocol; // Returns the web protocol used (http: or https:)\nwindow.location.assign;   // Loads a new document\nwindow.location.replace;  // Replace the current location with new one.ShareImprove this answerFolloweditedJul 1, 2023 at 21:24shA.t16.9k55 gold badges5757 silver badges119119 bronze badgesansweredMar 30, 2018 at 11:43Mustkeem KMustkeem K8,64822 gold badges3333 silver badges4444 bronze badges\n\nUsing JavaScript:Method 1:window.location.href=""http://google.com"";Method 2:window.location.replace(""http://google.com"");Using jQuery:Method 1: $(location)$(location).attr(\'href\', \'http://google.com\');Method 2: Reusable FunctionjQuery.fn.redirectTo = function(url){\n    window.location.href = url;\n}\n\njQuery(window).redirectTo(""http://google.com"");ShareImprove this answerFolloweditedSep 25, 2019 at 17:32Souleste1,92411 gold badge1414 silver badges4040 bronze badgesansweredFeb 23, 2017 at 23:01Kalpesh PanchalKalpesh Panchal98599 silver badges2121 bronze badges\n\nFirst write properly. You want to navigate within an application for another link from your application for another link. Here is the code:window.location.href = ""http://www.google.com"";And if you want to navigate pages within your application then I also have code, if you want.ShareImprove this answerFolloweditedApr 3, 2014 at 21:20Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJun 6, 2013 at 12:37AnupAnup3,34311 gold badge2929 silver badges3838 bronze badges\n\nYou can redirect in jQuery like this:$(location).attr(\'href\', \'http://yourPage.com/\');ShareImprove this answerFolloweditedJul 3, 2016 at 5:01Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredSep 5, 2014 at 16:36Azam AlviAzam Alvi7,00888 gold badges6464 silver badges8989 bronze badges\n\nFirst WayHere is the jQuery code for redirecting a page. Since, I have put this code on the $(document).ready() function, it will execute as soon as the page is loaded.var url = ""http://stackoverflow.com"";\n$(location).attr(\'href\',url);You can even pass a URL directly to theattr()method, instead of using a variable.Second Waywindow.location.href=""http://stackoverflow.com"";You can also code like this (both are same internally):window.location=""http://stackoverflow.com"";If you are curious about the difference between window.location andwindow.location.href, then you can see that the latter one is settinghrefproperty explicitly, while the former one does it implicitly. Sincewindow.locationreturns an object, which by default sets its.hrefproperty.Third WayThere is another way to redirect a page using JavaScript, thereplace()method ofwindow.locationobject. You can pass a new URL to thereplace()method, and it will simulate an HTTP redirect. By the way, remember thatwindow.location.replace()method doesn\'t put the originating page in the session history, which may affect behavior of the back button. Sometime, it\'s what you want, so use it carefully.// Doesn\'t put originating page in history\nwindow.location.replace(""http://stackoverflow.com"");Fourth WayThelocation.assign()method loads a new document in the browser window.window.location.assign(""http://stackoverflow.com"");The difference betweenassign()andreplace()method is that thelocation.replace()method deletes the current URL from the document history, so it is unable to navigate back to the original document. You can\'t use the browsersBackbutton in this case. If you want to avoid this situation, you should uselocation.assign()method, because it loads a new Document in the browser.Fifth Waylikeattr()method (after jQuery 1.6 introduce)var url = ""http://stackoverflow.com"";\n$(location).prop(\'href\', url);ShareImprove this answerFolloweditedMar 10, 2023 at 8:11answeredMar 3, 2016 at 10:50Divyesh KanzariyaDivyesh Kanzariya3,74933 gold badges4646 silver badges4646 bronze badges\n\nIn JavaScript and jQuery we can use the following code to redirect the one page to another page:window.location.href=""http://google.com"";\nwindow.location.replace(""page1.html"");ShareImprove this answerFolloweditedApr 3, 2014 at 21:22Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJul 1, 2013 at 4:11user2496033user2496033\n\nECMAScript 6 + jQuery, 85 bytes$({jQueryCode:(url)=>location.replace(url)}).attr(""jQueryCode"")(""http://example.com"")Please don\'t kill me, this is a joke. It\'s a joke.This is a joke.This did ""provide an answer to the question"", in the sense that it asked for a solution ""using jQuery"" which in this case entails forcing it into the equation somehow.Ferrybig apparently needs the joke explained (still joking, I\'m sure there are limited options on the review form), so without further ado:Other answers are using jQuery\'sattr()on thelocationorwindowobjects unnecessarily.This answer also abuses it, but in a more ridiculous way. Instead of using it to set the location, this usesattr()to retrieve a function that sets the location.The function is namedjQueryCodeeven though there\'s nothing jQuery about it, and calling a functionsomethingCodeis just horrible, especially when the something is not even a language.The ""85 bytes"" is a reference to Code Golf. Golfing is obviously not something you should do outside of code golf, and furthermore this answer is clearly not actually golfed.Basically, cringe.ShareImprove this answerFolloweditedOct 30, 2016 at 16:27Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredApr 13, 2016 at 16:231j011j014,05033 gold badges2929 silver badges3434 bronze badges\n\nJavascript:window.location.href=\'www.your_url.com\';\nwindow.top.location.href=\'www.your_url.com\';\nwindow.location.replace(\'www.your_url.com\');Jquery:var url=\'www.your_url.com\';\n$(location).attr(\'href\',url);\n$(location).prop(\'href\',url);//instead of location you can use windowShareImprove this answerFolloweditedMay 4, 2017 at 12:12answeredMay 22, 2015 at 5:18lalithkumarlalithkumar3,53244 gold badges2525 silver badges4343 bronze badges'}","{'title': 'Why is processing a sorted array faster than processing an unsorted array?', 'question': 'In this C++ code, sorting the data (beforethe timed region) makes the primary loop ~6x faster:#include <algorithm>\n#include <ctime>\n#include <iostream>\n\nint main()\n{\n    // Generate data\n    const unsigned arraySize = 32768;\n    int data[arraySize];\n\n    for (unsigned c = 0; c < arraySize; ++c)\n        data[c] = std::rand() % 256;\n\n    // !!! With this, the next loop runs faster.\n    std::sort(data, data + arraySize);\n\n    // Test\n    clock_t start = clock();\n    long long sum = 0;\n    for (unsigned i = 0; i < 100000; ++i)\n    {\n        for (unsigned c = 0; c < arraySize; ++c)\n        {   // Primary loop.\n            if (data[c] >= 128)\n                sum += data[c];\n        }\n    }\n\n    double elapsedTime = static_cast<double>(clock()-start) / CLOCKS_PER_SEC;\n\n    std::cout << elapsedTime << \'\\n\';\n    std::cout << ""sum = "" << sum << \'\\n\';\n}Withoutstd::sort(data, data + arraySize);, the code runs in 11.54 seconds.With the sorted data, the code runs in 1.93 seconds.(Sorting itself takes more time than this one pass over the array, so it\'s not actually worth doing if we needed to calculate this for an unknown array.)Initially, I thought this might be just a language or compiler anomaly, so I tried Java:import java.util.Arrays;\nimport java.util.Random;\n\npublic class Main\n{\n    public static void main(String[] args)\n    {\n        // Generate data\n        int arraySize = 32768;\n        int data[] = new int[arraySize];\n\n        Random rnd = new Random(0);\n        for (int c = 0; c < arraySize; ++c)\n            data[c] = rnd.nextInt() % 256;\n\n        // !!! With this, the next loop runs faster\n        Arrays.sort(data);\n\n        // Test\n        long start = System.nanoTime();\n        long sum = 0;\n        for (int i = 0; i < 100000; ++i)\n        {\n            for (int c = 0; c < arraySize; ++c)\n            {   // Primary loop.\n                if (data[c] >= 128)\n                    sum += data[c];\n            }\n        }\n\n        System.out.println((System.nanoTime() - start) / 1000000000.0);\n        System.out.println(""sum = "" + sum);\n    }\n}With a similar but less extreme result.My first thought was that sorting brings the data into thecache, but that\'s silly because the array was just generated.What is going on?Why is processing a sorted array faster than processing an unsorted array?The code is summing up some independent terms, so the order should not matter.Related / follow-up Q&Asabout the same effect with different/later compilers and options:Why is processing an unsorted array the same speed as processing a sorted array with modern x86-64 clang?gcc optimization flag -O3 makes code slower than -O2javac++performancecpu-architecturebranch-predictionShareImprove this questionFolloweditedNov 27, 2023 at 22:14Peter Cordes351k4949 gold badges674674 silver badges927927 bronze badgesaskedJun 27, 2012 at 13:51GManNickGGManNickG501k5353 gold badges502502 silver badges549549 bronze badges', 'answers': 'You are a victim ofbranch predictionfail.What is Branch Prediction?Consider a railroad junction:Imageby Mecanismo, via Wikimedia Commons. Used under theCC-By-SA 3.0license.Now for the sake of argument, suppose this is back in the 1800s - before long-distance or radio communication.You are a blind operator of a junction and you hear a train coming. You have no idea which way it is supposed to go. You stop the train to ask the driver which direction they want. And then you set the switch appropriately.Trains are heavy and have a lot of inertia, so they take forever to start up and slow down.Is there a better way? You guess which direction the train will go!If you guessed right, it continues on.If you guessed wrong, the driver will stop, back up, and yell at you to flip the switch. Then it can restart down the other path.If you guess right every time, the train will never have to stop.If you guess wrong too often, the train will spend a lot of time stopping, backing up, and restarting.Consider an if-statement:At the processor level, it is a branch instruction:You are a processor and you see a branch. You have no idea which way it will go. What do you do? You halt execution and wait until the previous instructions are complete. Then you continue down the correct path.Modern processors are complicated and have long pipelines. This means they take forever to ""warm up"" and ""slow down"".Is there a better way? You guess which direction the branch will go!If you guessed right, you continue executing.If you guessed wrong, you need to flush the pipeline and roll back to the branch. Then you can restart down the other path.If you guess right every time, the execution will never have to stop.If you guess wrong too often, you spend a lot of time stalling, rolling back, and restarting.This is branch prediction. I admit it\'s not the best analogy since the train could just signal the direction with a flag. But in computers, the processor doesn\'t know which direction a branch will go until the last moment.How would you strategically guess to minimize the number of times that the train must back up and go down the other path? You look at the past history! If the train goes left 99% of the time, then you guess left. If it alternates, then you alternate your guesses. If it goes one way every three times, you guess the same...In other words, you try to identify a pattern and follow it.This is more or less how branch predictors work.Most applications have well-behaved branches. Therefore, modern branch predictors will typically achieve >90% hit rates. But when faced with unpredictable branches with no recognizable patterns, branch predictors are virtually useless.Further reading:""Branch predictor"" article on Wikipedia.As hinted from above, the culprit is this if-statement:if (data[c] >= 128)\n    sum += data[c];Notice that the data is evenly distributed between 0 and 255. When the data is sorted, roughly the first half of the iterations will not enter the if-statement. After that, they will all enter the if-statement.This is very friendly to the branch predictor since the branch consecutively goes the same direction many times. Even a simple saturating counter will correctly predict the branch except for the few iterations after it switches direction.Quick visualization:T = branch taken\nN = branch not taken\n\ndata[] = 0, 1, 2, 3, 4, ... 126, 127, 128, 129, 130, ... 250, 251, 252, ...\nbranch = N  N  N  N  N  ...   N    N    T    T    T  ...   T    T    T  ...\n\n       = NNNNNNNNNNNN ... NNNNNNNTTTTTTTTT ... TTTTTTTTTT  (easy to predict)However, when the data is completely random, the branch predictor is rendered useless, because it can\'t predict random data. Thus there will probably be around 50% misprediction (no better than random guessing).data[] = 226, 185, 125, 158, 198, 144, 217, 79, 202, 118,  14, 150, 177, 182, ...\nbranch =   T,   T,   N,   T,   T,   T,   T,  N,   T,   N,   N,   T,   T,   T  ...\n\n       = TTNTTTTNTNNTTT ...   (completely random - impossible to predict)What can be done?If the compiler isn\'t able to optimize the branch into a conditional move, you can try some hacks if you are willing to sacrifice readability for performance.Replace:if (data[c] >= 128)\n    sum += data[c];with:int t = (data[c] - 128) >> 31;\nsum += ~t & data[c];This eliminates the branch and replaces it with some bitwise operations.(Note that this hack is not strictly equivalent to the original if-statement. But in this case, it\'s valid for all the input values ofdata[].)Benchmarks: Core i7 920 @ 3.5 GHzC++ - Visual Studio 2010 - x64 ReleaseScenarioTime (seconds)Branching - Random data11.777Branching - Sorted data2.352Branchless - Random data2.564Branchless - Sorted data2.587Java - NetBeans 7.1.1 JDK 7 - x64ScenarioTime (seconds)Branching - Random data10.93293813Branching - Sorted data5.643797077Branchless - Random data3.113581453Branchless - Sorted data3.186068823Observations:With the Branch:There is a huge difference between the sorted and unsorted data.With the Hack:There is no difference between sorted and unsorted data.In the C++ case, the hack is actually a tad slower than with the branch when the data is sorted.A general rule of thumb is to avoid data-dependent branching in critical loops (such as in this example).Update:GCC 4.6.1 with-O3or-ftree-vectorizeon x64 is able to generate a conditional move, so there is no difference between the sorted and unsorted data - both are fast.  This is called ""if-conversion"" (to branchless) and is necessary for vectorization but also sometimes good for scalar.(Or somewhat fast: for the already-sorted case,cmovcan be slower especially if GCC puts it on the critical path instead of justadd, especially on Intel before Broadwell wherecmovhas 2-cycle latency:gcc optimization flag -O3 makes code slower than -O2)VC++ 2010 is unable to generate conditional moves for this branch even under/Ox.Intel C++ Compiler(ICC) 11 does something miraculous. Itinterchanges the two loops, thereby hoisting the unpredictable branch to the outer loop. Not only is it immune to the mispredictions, it\'s also twice as fast as whatever VC++ and GCC can generate! In other words, ICC took advantage of the test-loop to defeat the benchmark...If you give the Intel compiler the branchless code, it just outright vectorizes it... and is just as fast as with the branch (with the loop interchange).Clang also vectorizes theif()version, as will GCC 5 and later with-O3, even though it takes quite a few instructions to sign-extend to the 64-bit sum on x86 without SSE4 or AVX2.  (-march=x86-64-v2orv3).  SeeWhy is processing an unsorted array the same speed as processing a sorted array with modern x86-64 clang?This goes to show that even mature modern compilers can vary wildly in their ability to optimize code...ShareImprove this answerFolloweditedMar 4 at 17:37Peter Cordes351k4949 gold badges674674 silver badges927927 bronze badgesansweredJun 27, 2012 at 13:56MysticialMysticial469k4646 gold badges337337 silver badges334334 bronze badges\n\nBranch prediction.With a sorted array, the conditiondata[c] >= 128is firstfalsefor a streak of values, then becomestruefor all later values. That\'s easy to predict. With an unsorted array, you pay for the branching cost.ShareImprove this answerFolloweditedJun 20, 2020 at 9:12CommunityBot111 silver badgeansweredJun 27, 2012 at 13:54Daniel FischerDaniel Fischer183k1717 gold badges312312 silver badges433433 bronze badges\n\nThe reason why performance improves drastically when the data is sorted is that the branch prediction penalty is removed, as explained beautifully inMysticial\'s answer.Now, if we look at the codeif (data[c] >= 128)\n    sum += data[c];we can find that the meaning of this particularif... else...branch is to add something when a condition is satisfied. This type of branch can be easily transformed into aconditional movestatement, which would be compiled into a conditional move instruction:cmovl, in anx86system. The branch and thus the potential branch prediction penalty is removed.InC, thusC++, the statement, which would compile directly (without any optimization) into the conditional move instruction inx86, is the ternary operator... ? ... : .... So we rewrite the above statement into an equivalent one:sum += data[c] >=128 ? data[c] : 0;While maintaining readability, we can check the speedup factor.On an IntelCore i7-2600K @ 3.4\xa0GHz and Visual Studio 2010 Release Mode, the benchmark is:x86ScenarioTime (seconds)Branching - Random data8.885Branching - Sorted data1.528Branchless - Random data3.716Branchless - Sorted data3.71x64ScenarioTime (seconds)Branching - Random data11.302Branching - Sorted data1.830Branchless - Random data2.736Branchless - Sorted data2.737The result is robust in multiple tests. We get a great speedup when the branch result is unpredictable, but we suffer a little bit when it is predictable. In fact, when using a conditional move, the performance is the same regardless of the data pattern.Now let\'s look more closely by investigating thex86assembly they generate. For simplicity, we use two functionsmax1andmax2.max1uses the conditional branchif... else ...:int max1(int a, int b) {\n    if (a > b)\n        return a;\n    else\n        return b;\n}max2uses the ternary operator... ? ... : ...:int max2(int a, int b) {\n    return a > b ? a : b;\n}On an x86-64 machine,GCC -Sgenerates the assembly below.:max1\n    movl    %edi, -4(%rbp)\n    movl    %esi, -8(%rbp)\n    movl    -4(%rbp), %eax\n    cmpl    -8(%rbp), %eax\n    jle     .L2\n    movl    -4(%rbp), %eax\n    movl    %eax, -12(%rbp)\n    jmp     .L4\n.L2:\n    movl    -8(%rbp), %eax\n    movl    %eax, -12(%rbp)\n.L4:\n    movl    -12(%rbp), %eax\n    leave\n    ret\n\n:max2\n    movl    %edi, -4(%rbp)\n    movl    %esi, -8(%rbp)\n    movl    -4(%rbp), %eax\n    cmpl    %eax, -8(%rbp)\n    cmovge  -8(%rbp), %eax\n    leave\n    retmax2uses much less code due to the usage of instructioncmovge. But the real gain is thatmax2does not involve branch jumps,jmp, which would have a significant performance penalty if the predicted result is not right.So why does a conditional move perform better?In a typicalx86processor, the execution of an instruction is divided into several stages. Roughly, we have different hardware to deal with different stages. So we do not have to wait for one instruction to finish to start a new one. This is calledpipelining.In a branch case, the following instruction is determined by the preceding one, so we cannot do pipelining. We have to either wait or predict.In a conditional move case, the execution of conditional move instruction is divided into several stages, but the earlier stages likeFetchandDecodedo not depend on the result of the previous instruction; only the latter stages need the result. Thus, we wait a fraction of one instruction\'s execution time. This is why the conditional move version is slower than the branch when the prediction is easy.The bookComputer Systems: A Programmer\'s Perspective, second editionexplains this in detail. You can check Section 3.6.6 forConditional Move Instructions, entire Chapter 4 forProcessor Architecture, and Section 5.11.2 for special treatment forBranch Prediction and Misprediction Penalties.Sometimes, some modern compilers can optimize our code to assembly with better performance, and sometimes some compilers can\'t (the code in question is using Visual Studio\'s native compiler). Knowing the performance difference between a branch and a conditional move when unpredictable can help us write code with better performance when the scenario gets so complex that the compiler can not optimize them automatically.ShareImprove this answerFolloweditedJul 3, 2022 at 15:12Mihir Ajmera12711 silver badge99 bronze badgesansweredJun 28, 2012 at 2:14WiSaGaNWiSaGaN47.7k1010 gold badges5757 silver badges8989 bronze badges\n\nIf you are curious about even more optimizations that can be done to this code, consider this:Starting with the original loop:for (unsigned i = 0; i < 100000; ++i)\n{\n    for (unsigned j = 0; j < arraySize; ++j)\n    {\n        if (data[j] >= 128)\n            sum += data[j];\n    }\n}With loop interchange, we can safely change this loop to:for (unsigned j = 0; j < arraySize; ++j)\n{\n    for (unsigned i = 0; i < 100000; ++i)\n    {\n        if (data[j] >= 128)\n            sum += data[j];\n    }\n}Then, you can see that theifconditional is constant throughout the execution of theiloop, so you can hoist theifout:for (unsigned j = 0; j < arraySize; ++j)\n {\n     if (data[j] >= 128)\n     {\n         for (unsigned i = 0; i < 100000; ++i)\n         {\n             sum += data[j];\n         }\n    }\n}Then, you see that the inner loop can be collapsed into one single expression, assuming the floating point model allows it (/fp:fastis thrown, for example)for (unsigned j = 0; j < arraySize; ++j)\n{\n    if (data[j] >= 128)\n    {\n        sum += data[j] * 100000;\n    }\n}That one is 100,000 times faster than before.ShareImprove this answerFolloweditedJan 2 at 18:32AvidCoder51322 gold badges66 silver badges2323 bronze badgesansweredJul 3, 2012 at 2:25vulcan ravenvulcan raven33.2k1111 gold badges5959 silver badges9999 bronze badges\n\nNo doubt some of us would be interested in ways of identifying code that is problematic for the CPU\'s branch-predictor. The Valgrind toolcachegrindhas a branch-predictor simulator, enabled by using the--branch-sim=yesflag. Running it over the examples in this question, with the number of outer loops reduced to 10000 and compiled withg++, gives these results:Sorted:==32551== Branches:        656,645,130  (  656,609,208 cond +    35,922 ind)\n==32551== Mispredicts:         169,556  (      169,095 cond +       461 ind)\n==32551== Mispred rate:            0.0% (          0.0%     +       1.2%   )Unsorted:==32555== Branches:        655,996,082  (  655,960,160 cond +  35,922 ind)\n==32555== Mispredicts:     164,073,152  (  164,072,692 cond +     460 ind)\n==32555== Mispred rate:           25.0% (         25.0%     +     1.2%   )Drilling down into the line-by-line output produced bycg_annotatewe see for the loop in question:Sorted:Bc    Bcm Bi Bim\n      10,001      4  0   0      for (unsigned i = 0; i < 10000; ++i)\n           .      .  .   .      {\n           .      .  .   .          // primary loop\n 327,690,000 10,016  0   0          for (unsigned c = 0; c < arraySize; ++c)\n           .      .  .   .          {\n 327,680,000 10,006  0   0              if (data[c] >= 128)\n           0      0  0   0                  sum += data[c];\n           .      .  .   .          }\n           .      .  .   .      }Unsorted:Bc         Bcm Bi Bim\n      10,001           4  0   0      for (unsigned i = 0; i < 10000; ++i)\n           .           .  .   .      {\n           .           .  .   .          // primary loop\n 327,690,000      10,038  0   0          for (unsigned c = 0; c < arraySize; ++c)\n           .           .  .   .          {\n 327,680,000 164,050,007  0   0              if (data[c] >= 128)\n           0           0  0   0                  sum += data[c];\n           .           .  .   .          }\n           .           .  .   .      }This lets you easily identify the problematic line - in the unsorted version theif (data[c] >= 128)line is causing 164,050,007 mispredicted conditional branches (Bcm) under cachegrind\'s branch-predictor model, whereas it\'s only causing 10,006 in the sorted version.Alternatively, on Linux you can use the performance counters subsystem to accomplish the same task, but with native performance using CPU counters.perf stat ./sumtest_sortedSorted:Performance counter stats for \'./sumtest_sorted\':\n\n  11808.095776 task-clock                #    0.998 CPUs utilized          \n         1,062 context-switches          #    0.090 K/sec                  \n            14 CPU-migrations            #    0.001 K/sec                  \n           337 page-faults               #    0.029 K/sec                  \n26,487,882,764 cycles                    #    2.243 GHz                    \n41,025,654,322 instructions              #    1.55  insns per cycle        \n 6,558,871,379 branches                  #  555.455 M/sec                  \n       567,204 branch-misses             #    0.01% of all branches        \n\n  11.827228330 seconds time elapsedUnsorted:Performance counter stats for \'./sumtest_unsorted\':\n\n  28877.954344 task-clock                #    0.998 CPUs utilized          \n         2,584 context-switches          #    0.089 K/sec                  \n            18 CPU-migrations            #    0.001 K/sec                  \n           335 page-faults               #    0.012 K/sec                  \n65,076,127,595 cycles                    #    2.253 GHz                    \n41,032,528,741 instructions              #    0.63  insns per cycle        \n 6,560,579,013 branches                  #  227.183 M/sec                  \n 1,646,394,749 branch-misses             #   25.10% of all branches        \n\n  28.935500947 seconds time elapsedIt can also do source code annotation with dissassembly.perf record -e branch-misses ./sumtest_unsorted\nperf annotate -d sumtest_unsortedPercent |      Source code & Disassembly of sumtest_unsorted\n------------------------------------------------\n...\n         :                      sum += data[c];\n    0.00 :        400a1a:       mov    -0x14(%rbp),%eax\n   39.97 :        400a1d:       mov    %eax,%eax\n    5.31 :        400a1f:       mov    -0x20040(%rbp,%rax,4),%eax\n    4.60 :        400a26:       cltq   \n    0.00 :        400a28:       add    %rax,-0x30(%rbp)\n...Seethe performance tutorialfor more details.ShareImprove this answerFolloweditedOct 18, 2012 at 19:20Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredOct 12, 2012 at 5:53cafcaf237k4040 gold badges329329 silver badges471471 bronze badges\n\nI just read up on this question and its answers, and I feel an answer is missing.A common way to eliminate branch prediction that I\'ve found to work particularly good in managed languages is a table lookup instead of using a branch (although I haven\'t tested it in this case).This approach works in general if:it\'s a small table and is likely to be cached in the processor, andyou are running things in a quite tight loop and/or the processor can preload the data.Background and whyFrom a processor perspective, your memory is slow. To compensate for the difference in speed, a couple of caches are built into your processor (L1/L2 cache). So imagine that you\'re doing your nice calculations and figure out that you need a piece of memory. The processor will get its \'load\' operation and loads the piece of memory into cache -- and then uses the cache to do the rest of the calculations. Because memory is relatively slow, this \'load\' will slow down your program.Like branch prediction, this was optimized in the Pentium processors: the processor predicts that it needs to load a piece of data and attempts to load that into the cache before the operation actually hits the cache. As we\'ve already seen, branch prediction sometimes goes horribly wrong -- in the worst case scenario you need to go back and actually wait for a memory load, which will take forever (in other words: failing branch prediction is bad, a memory load after a branch prediction fail is just horrible!).Fortunately for us, if the memory access pattern is predictable, the processor will load it in its fast cache and all is well.The first thing we need to know is what issmall? While smaller is generally better, a rule of thumb is to stick to lookup tables that are <= 4096 bytes in size. As an upper limit: if your lookup table is larger than 64K it\'s probably worth reconsidering.Constructing a tableSo we\'ve figured out that we can create a small table. Next thing to do is get a lookup function in place. Lookup functions are usually small functions that use a couple of basic integer operations (and, or, xor, shift, add, remove and perhaps multiply). You want to have your input translated by the lookup function to some kind of \'unique key\' in your table, which then simply gives you the answer of all the work you wanted it to do.In this case: >= 128 means we can keep the value, < 128 means we get rid of it. The easiest way to do that is by using an \'AND\': if we keep it, we AND it with 7FFFFFFF; if we want to get rid of it, we AND it with 0. Notice also that 128 is a power of 2 -- so we can go ahead and make a table of 32768/128 integers and fill it with one zero and a lot of 7FFFFFFFF\'s.Managed languagesYou might wonder why this works well in managed languages. After all, managed languages check the boundaries of the arrays with a branch to ensure you don\'t mess up...Well, not exactly... :-)There has been quite some work on eliminating this branch for managed languages. For example:for (int i = 0; i < array.Length; ++i)\n{\n   // Use array[i]\n}In this case, it\'s obvious to the compiler that the boundary condition will never be hit. At least the Microsoft JIT compiler (but I expect Java does similar things) will notice this and remove the check altogether. WOW, that means no branch. Similarly, it will deal with other obvious cases.If you run into trouble with lookups in managed languages -- the key is to add a& 0x[something]FFFto your lookup function to make the boundary check predictable -- and watch it going faster.The result of this case// Generate data\nint arraySize = 32768;\nint[] data = new int[arraySize];\n\nRandom random = new Random(0);\nfor (int c = 0; c < arraySize; ++c)\n{\n    data[c] = random.Next(256);\n}\n\n/*To keep the spirit of the code intact, I\'ll make a separate lookup table\n(I assume we cannot modify \'data\' or the number of loops)*/\n\nint[] lookup = new int[256];\n\nfor (int c = 0; c < 256; ++c)\n{\n    lookup[c] = (c >= 128) ? c : 0;\n}\n\n// Test\nDateTime startTime = System.DateTime.Now;\nlong sum = 0;\n\nfor (int i = 0; i < 100000; ++i)\n{\n    // Primary loop\n    for (int j = 0; j < arraySize; ++j)\n    {\n        /* Here you basically want to use simple operations - so no\n        random branches, but things like &, |, *, -, +, etc. are fine. */\n        sum += lookup[data[j]];\n    }\n}\n\nDateTime endTime = System.DateTime.Now;\nConsole.WriteLine(endTime - startTime);\nConsole.WriteLine(""sum = "" + sum);\nConsole.ReadLine();ShareImprove this answerFolloweditedJan 16, 2019 at 4:47Palec13.3k88 gold badges7474 silver badges141141 bronze badgesansweredApr 24, 2013 at 6:26atlasteatlaste30.9k33 gold badges5959 silver badges9090 bronze badges\n\nAs data is distributed between 0 and 255 when the array is sorted, around the first half of the iterations will not enter theif-statement (theifstatement is shared below).if (data[c] >= 128)\n    sum += data[c];The question is: What makes the above statement not execute in certain cases as in case of sorted data? Here comes the ""branch predictor"". A branch predictor is a digital circuit that tries to guess which way a branch (e.g. anif-then-elsestructure) will go before this is known for sure. The purpose of the branch predictor is to improve the flow in the instruction pipeline. Branch predictors play a critical role in achieving high effective performance!Let\'s do some bench marking to understand it betterThe performance of anif-statement depends on whether its condition has a predictable pattern. If the condition is always true or always false, the branch prediction logic in the processor will pick up the pattern. On the other hand, if the pattern is unpredictable, theif-statement will be much more expensive.Let’s measure the performance of this loop with different conditions:for (int i = 0; i < max; i++)\n    if (condition)\n        sum++;Here are the timings of the loop with different true-false patterns:Condition                Pattern             Time (ms)\n-------------------------------------------------------\n(i & 0×80000000) == 0    T repeated          322\n\n(i & 0xffffffff) == 0    F repeated          276\n\n(i & 1) == 0             TF alternating      760\n\n(i & 3) == 0             TFFFTFFF…           513\n\n(i & 2) == 0             TTFFTTFF…           1675\n\n(i & 4) == 0             TTTTFFFFTTTTFFFF…   1275\n\n(i & 8) == 0             8T 8F 8T 8F …       752\n\n(i & 16) == 0            16T 16F 16T 16F …   490A “bad” true-false pattern can make anif-statement up to six times slower than a “good” pattern! Of course, which pattern is good and which is bad depends on the exact instructions generated by the compiler and on the specific processor.So there is no doubt about the impact of branch prediction on performance!ShareImprove this answerFolloweditedFeb 27, 2019 at 10:58Neuron5,63555 gold badges4242 silver badges6161 bronze badgesansweredFeb 15, 2013 at 7:24SaqlainSaqlain17.8k44 gold badges2828 silver badges3333 bronze badges\n\nOne way to avoid branch prediction errors is to build a lookup table, and index it using the data.  Stefan de Bruijn discussed that in his answer.But in this case, we know values are in the range [0, 255] and we only care about values >= 128.  That means we can easily extract a single bit that will tell us whether we want a value or not: by shifting the data to the right 7 bits, we are left with a 0 bit or a 1 bit, and we only want to add the value when we have a 1 bit.  Let\'s call this bit the ""decision bit"".By using the 0/1 value of the decision bit as an index into an array, we can make code that will be equally fast whether the data is sorted or not sorted.  Our code will always add a value, but when the decision bit is 0, we will add the value somewhere we don\'t care about.  Here\'s the code:// Test\nclock_t start = clock();\nlong long a[] = {0, 0};\nlong long sum;\n\nfor (unsigned i = 0; i < 100000; ++i)\n{\n    // Primary loop\n    for (unsigned c = 0; c < arraySize; ++c)\n    {\n        int j = (data[c] >> 7);\n        a[j] += data[c];\n    }\n}\n\ndouble elapsedTime = static_cast<double>(clock() - start) / CLOCKS_PER_SEC;\nsum = a[1];This code wastes half of the adds but never has a branch prediction failure.  It\'s tremendously faster on random data than the version with an actual if statement.But in my testing, an explicit lookup table was slightly faster than this, probably because indexing into a lookup table was slightly faster than bit shifting.  This shows how my code sets up and uses the lookup table (unimaginatively calledlutfor ""LookUp Table"" in the code).  Here\'s the C++ code:// Declare and then fill in the lookup table\nint lut[256];\nfor (unsigned c = 0; c < 256; ++c)\n    lut[c] = (c >= 128) ? c : 0;\n\n// Use the lookup table after it is built\nfor (unsigned i = 0; i < 100000; ++i)\n{\n    // Primary loop\n    for (unsigned c = 0; c < arraySize; ++c)\n    {\n        sum += lut[data[c]];\n    }\n}In this case, the lookup table was only 256 bytes, so it fits nicely in a cache and all was fast.  This technique wouldn\'t work well if the data was 24-bit values and we only wanted half of them... the lookup table would be far too big to be practical.  On the other hand, we can combine the two techniques shown above: first shift the bits over, then index a lookup table.  For a 24-bit value that we only want the top half value, we could potentially shift the data right by 12 bits, and be left with a 12-bit value for a table index.  A 12-bit table index implies a table of 4096 values, which might be practical.The technique of indexing into an array, instead of using anifstatement, can be used for deciding which pointer to use.  I saw a library that implemented binary trees, and instead of having two named pointers (pLeftandpRightor whatever) had a length-2 array of pointers and used the ""decision bit"" technique to decide which one to follow.  For example, instead of:if (x < node->value)\n    node = node->pLeft;\nelse\n    node = node->pRight;this library would do something like:i = (x < node->value);\nnode = node->link[i];Here\'s a link to this code:Red Black Trees,Eternally ConfuzzledShareImprove this answerFolloweditedJan 27, 2021 at 10:03jakubde3111 gold badge22 silver badges44 bronze badgesansweredJul 22, 2013 at 8:29stevehasteveha76k2121 gold badges9292 silver badges118118 bronze badges\n\nIn the sorted case, you can do better than relying on successful branch prediction or any branchless comparison trick: completely remove the branch.Indeed, the array is partitioned in a contiguous zone withdata < 128and another withdata >= 128. So you should find the partition point with adichotomic search(usingLg(arraySize) = 15comparisons), then do a straight accumulation from that point.Something like (unchecked)int i= 0, j, k= arraySize;\nwhile (i < k)\n{\n  j= (i + k) >> 1;\n  if (data[j] >= 128)\n    k= j;\n  else\n    i= j;\n}\nsum= 0;\nfor (; i < arraySize; i++)\n  sum+= data[i];or, slightly more obfuscatedint i, k, j= (i + k) >> 1;\nfor (i= 0, k= arraySize; i < k; (data[j] >= 128 ? k : i)= j)\n  j= (i + k) >> 1;\nfor (sum= 0; i < arraySize; i++)\n  sum+= data[i];A yet faster approach, that gives anapproximatesolution for both sorted or unsorted is:sum= 3137536;(assuming a truly uniform distribution, 16384 samples with expected value 191.5):-)ShareImprove this answerFolloweditedMay 11, 2019 at 11:31Konard2,8263535 silver badges2424 bronze badgesansweredJul 24, 2013 at 7:57user1196549user1196549\n\nThe above behavior is happening because of Branch prediction.To understand branch prediction one must first understand anInstruction Pipeline.The the steps of running an instruction can be overlapped with the sequence of steps of running the previous and next instruction, so that different steps can be executed concurrently in parallel. This technique is known as instruction pipelining and is used to increase throughput in modern processors. To understand this better please see thisexample on Wikipedia.Generally, modern processors have quite long (and wide) pipelines, so many instruction can be in flight.  SeeModern Microprocessors\nA 90-Minute Guide!which starts by introducing basic in-order pipelining and goes from there.But for easelet\'s consider a simple in-order pipeline with these 4 steps only.(Like aclassic 5-stage RISC, but omitting a separate MEM stage.)IF -- Fetch the instruction from memoryID -- Decode the instructionEX -- Execute the instructionWB -- Write back to CPU register4-stage pipeline in general for 2 instructions.Moving back to the above question let\'s consider the following instructions:A) if (data[c] >= 128)\n                                /\\\n                               /  \\\n                              /    \\\n                        true /      \\ false\n                            /        \\\n                           /          \\\n                          /            \\\n                         /              \\\n              B) sum += data[c];          C) for loop or print().Without branch prediction, the following would occur:To execute instruction B or instruction C the processor will have to wait (stall) till the instruction A leaves the EX stage in the pipeline, as the decision to go to instruction B or instruction C depends on the result of instruction A.  (i.e. where to fetch from next.) So the pipeline will look like this:Without prediction: whenifcondition is true:Without prediction: Whenifcondition is false:As a result of waiting for the result of instruction A, the total CPU cycles spent in the above case (without branch prediction; for both true and false) is 7.So what is branch prediction?Branch predictor will try to guess which way a branch (an if-then-else structure) will go before this is known for sure. It will not wait for the instruction A to reach the EX stage of the pipeline, but it will guess the decision and go to that instruction (B or C in case of our example).In case of a correct guess, the pipeline looks something like this:If it is later detected that the guess was wrong then the partially executed instructions are discarded and the pipeline starts over with the correct branch, incurring a delay.\nThe time that is wasted in case of a branch misprediction is equal to the number of stages in the pipeline from the fetch stage to the execute stage. Modern microprocessors tend to have quite long pipelines so that the misprediction delay is between 10 and 20 clock cycles. The longer the pipeline the greater the need for a goodbranch predictor.In the OP\'s code, the first time when the conditional, the branch predictor does not have any information to base up prediction, so the first time it will randomly choose the next instruction. (Or fall back tostaticprediction, typically forward not-taken, backward taken).  Later in the for loop, it can base the prediction on the history.\nFor an array sorted in ascending order, there are three possibilities:All the elements are less than 128All the elements are greater than 128Some starting new elements are less than 128 and later it become greater than 128Let us assume that the predictor will always assume the true branch on the first run.So in the first case, it will always take the true branch since historically all its predictions are correct.\nIn the 2nd case, initially it will predict wrong, but after a few iterations, it will predict correctly.\nIn the 3rd case, it will initially predict correctly till the elements are less than 128. After which it will fail for some time and the correct itself when it sees branch prediction failure in history.In all these cases the failure will be too less in number and as a result, only a few times it will need to discard the partially executed instructions and start over with the correct branch, resulting in fewer CPU cycles.But in case of a random unsorted array, the prediction will need to discard the partially executed instructions and start over with the correct branch most of the time and result in more CPU cycles compared to the sorted array.Further reading:Modern Microprocessors\nA 90-Minute Guide!Dan Luu\'s article on branch prediction(which covers older branch predictors, not modern IT-TAGE or Perceptron)https://en.wikipedia.org/wiki/Branch_predictorBranch Prediction and the Performance of Interpreters -\nDon’t Trust Folklore- 2015 paper showing how well Intel\'s Haswell does at predicting the indirect branch of a Python interpreter\'s main loop (historically problematic due to a non-simple pattern), vs. earlier CPUs which didn\'t use IT-TAGE.  (They don\'t help with this fully random case, though.  Still 50% mispredict rate for the if inside the loop on a Skylake CPU when the source is compiled to branch asm.)Static branch prediction on newer Intel processors- what CPUs actually do when running a branch instruction that doesn\'t have a dynamic prediction available.  Historically, forward not-taken (like aniforbreak), backward taken (like a loop) has been used because it\'s better than nothing.  Laying out code so the fast path / common case minimizes taken branches is good for I-cache density as well as static prediction, so compilers already do that.  (That\'s thereal effectoflikely/unlikelyhints in C source, not actually hinting the hardware branch prediction in most CPU, except maybe via static prediction.)ShareImprove this answerFolloweditedApr 22, 2022 at 1:31Peter Cordes351k4949 gold badges674674 silver badges927927 bronze badgesansweredJul 3, 2015 at 15:35Harsh SharmaHarsh Sharma11.1k22 gold badges1818 silver badges2929 bronze badges\n\nAn official answer would be fromIntel - Avoiding the Cost of Branch MispredictionIntel - Branch and Loop Reorganization to Prevent MispredictsScientific papers - branch prediction computer architectureBooks: J.L. Hennessy, D.A. Patterson: Computer architecture: a quantitative approachArticles in scientific publications: T.Y. Yeh, Y.N. Patt made a lot of these on branch predictions.You can also see from this lovelydiagramwhy the branch predictor gets confused.Each element in the original code is a random valuedata[c] = std::rand() % 256;so the predictor will change sides as thestd::rand()blow.On the other hand, once it\'s sorted, the predictor will first move into a state of strongly not taken and when the values change to the high value the predictor will in three runs through change all the way from strongly not taken to strongly taken.ShareImprove this answerFolloweditedJan 31, 2017 at 11:39greatwolf20.6k1313 gold badges7272 silver badges105105 bronze badgesansweredOct 11, 2015 at 21:05SurtSurt15.9k33 gold badges2525 silver badges4040 bronze badges\n\nIn the same line (I think this was not highlighted by any answer) it\'s good to mention that sometimes (specially in software where the performance matters—like in the Linux kernel) you can find some if statements like the following:if (likely( everything_is_ok ))\n{\n    /* Do something */\n}or similarly:if (unlikely(very_improbable_condition))\n{\n    /* Do something */    \n}Bothlikely()andunlikely()are in fact macros that are defined by using something like the GCC\'s__builtin_expectto help the compiler insert prediction code to favour the condition taking into account the information provided by the user. GCC supports other builtins that could change the behavior of the running program or emit low level instructions like clearing the cache, etc. Seethis documentationthat goes through the available GCC\'s builtins.Normally this kind of optimizations are mainly found in hard-real time applications or embedded systems where execution time matters and it\'s critical. For example, if you are checking for some error condition that only happens 1/10000000 times, then why not inform the compiler about this? This way, by default, the branch prediction would assume that the condition is false.ShareImprove this answerFolloweditedOct 28, 2016 at 10:28Stacked7,16877 gold badges6262 silver badges7676 bronze badgesansweredSep 23, 2015 at 14:57rkachachrkachach17.1k77 gold badges4545 silver badges6868 bronze badges\n\nFrequently used Boolean operations in C++ produce many branches in the compiled program. If these branches are inside loops and are hard to predict they can slow down execution significantly. Boolean variables are stored as 8-bit integers with the value0forfalseand1fortrue.Boolean variables are overdetermined in the sense that all operators that have Boolean variables as input check if the inputs have any other value than0or1, but operators that have Booleans as output can produce no other value than0or1. This makes operations with Boolean variables as input less efficient than necessary.\nConsider example:bool a, b, c, d;\nc = a && b;\nd = a || b;This is typically implemented by the compiler in the following way:bool a, b, c, d;\nif (a != 0) {\n    if (b != 0) {\n        c = 1;\n    }\n    else {\n        goto CFALSE;\n    }\n}\nelse {\n    CFALSE:\n    c = 0;\n}\nif (a == 0) {\n    if (b == 0) {\n        d = 0;\n    }\n    else {\n        goto DTRUE;\n    }\n}\nelse {\n    DTRUE:\n    d = 1;\n}This code is far from optimal. The branches may take a long time in case of mispredictions. The Boolean operations can be made much more efficient if it is known with certainty that the operands have no other values than0and1. The reason why the compiler does not make such an assumption is that the variables might have other values if they are uninitialized or come from unknown sources. The above code can be optimized ifaandbhas been initialized to valid values or if they come from operators that produce Boolean output. The optimized code looks like this:char a = 0, b = 1, c, d;\nc = a & b;\nd = a | b;charis used instead ofboolin order to make it possible to use the bitwise operators (&and|) instead of the Boolean operators (&&and||). The bitwise operators are single instructions that take only one clock cycle. The OR operator (|) works even ifaandbhave other values than0or1. The AND operator (&) and the EXCLUSIVE OR operator (^) may give inconsistent results if the operands have other values than0and1.~can not be used for NOT. Instead, you can make a Boolean NOT on a variable which is known to be0or1by XOR\'ing it with1:bool a, b;\nb = !a;can be optimized to:char a = 0, b;\nb = a ^ 1;a && bcannot be replaced witha & bifbis an expression that should not be evaluated ifaisfalse(&&will not evaluateb,&will). Likewise,a || bcan not be replaced witha | bifbis an expression that should not be evaluated ifaistrue.Using bitwise operators is more advantageous if the operands are variables than if the operands are comparisons:bool a; double x, y, z;\na = x > y && z < 5.0;is optimal in most cases (unless you expect the&&expression to generate many branch mispredictions).ShareImprove this answerFolloweditedMay 30, 2019 at 16:34Sujal Patel2,50411 gold badge2020 silver badges4040 bronze badgesansweredOct 10, 2015 at 0:30MaciejMaciej9,53522 gold badges1717 silver badges1818 bronze badges\n\nThat\'s for sure!...Branch predictionmakes the logic run slower, because of the switching which happens in your code! It\'s like you are going a straight street or a street with a lot of turnings, for sure the straight one is going to be done quicker!...If the array is sorted, your condition is false at the first step:data[c] >= 128, then becomes a true value for the whole way to the end of the street. That\'s how you get to the end of the logic faster. On the other hand, using an unsorted array, you need a lot of turning and processing which make your code run slower for sure...Look at the image I created for you below. Which street is going to be finished faster?So programmatically,branch predictioncauses the process to be slower...Also at the end, it\'s good to know we have two kinds of branch predictions that each is going to affect your code differently:1. Static2. DynamicSee alsothis document from Intel, which says:Static branch prediction is used by the microprocessor the first time\na conditional branch is encountered, and dynamic branch prediction is\nused for succeeding executions of the conditional branch code.In order to effectively write your code to take advantage of these\nrules, when writingif-elseorswitchstatements, check the most\ncommon cases first and work progressively down to the least common.\nLoops do not necessarily require any special ordering of code for\nstatic branch prediction, as only the condition of the loop iterator\nis normally used.ShareImprove this answerFolloweditedMay 10, 2023 at 17:27miken3242.6k1616 gold badges119119 silver badges164164 bronze badgesansweredJun 18, 2017 at 11:40AlirezaAlireza103k2727 gold badges275275 silver badges173173 bronze badges\n\nThis question has already been answered excellently many times over. Still I\'d like to draw the group\'s attention to yet another interesting analysis.Recently this example (modified very slightly) was also used as a way to demonstrate how a piece of code can be profiled within the program itself on Windows. Along the way, the author also shows how to use the results to determine where the code is spending most of its time in both the sorted & unsorted case. Finally the piece also shows how to use a little known feature of the HAL (Hardware Abstraction Layer) to determine just how much branch misprediction is happening in the unsorted case.The link is here:A Demonstration of Self-ProfilingShareImprove this answerFolloweditedJan 10, 2021 at 15:50Deduplicator45.4k77 gold badges7171 silver badges123123 bronze badgesansweredJan 12, 2017 at 1:50ForeverLearningForeverLearning6,56244 gold badges2929 silver badges3737 bronze badges\n\nAs what has already been mentioned by others, what behind the mystery isBranch Predictor.I\'m not trying to add something but explaining the concept in another way. \nThere is a concise introduction on the wiki which contains text and diagram.\nI do like the explanation below which uses a diagram to elaborate the Branch Predictor intuitively.In computer architecture, a branch predictor is a\n  digital circuit that tries to guess which way a branch (e.g. an\n  if-then-else structure) will go before this is known for sure. The\n  purpose of the branch predictor is to improve the flow in the\n  instruction pipeline. Branch predictors play a critical role in\n  achieving high effective performance in many modern pipelined\n  microprocessor architectures such as x86.Two-way branching is usually implemented with a conditional jump\n  instruction. A conditional jump can either be ""not taken"" and continue\n  execution with the first branch of code which follows immediately\n  after the conditional jump, or it can be ""taken"" and jump to a\n  different place in program memory where the second branch of code is\n  stored. It is not known for certain whether a conditional jump will be\n  taken or not taken until the condition has been calculated and the\n  conditional jump has passed the execution stage in the instruction\n  pipeline (see fig. 1).Based on the described scenario, I have written an animation demo to show how instructions are executed in a pipeline in different situations.Without the Branch Predictor.Without branch prediction, the processor would have to wait until the\n  conditional jump instruction has passed the execute stage before the\n  next instruction can enter the fetch stage in the pipeline.The example contains three instructions and the first one is a conditional jump instruction. The latter two instructions can go into the pipeline until the conditional jump instruction is executed.It will take 9 clock cycles for 3 instructions to be completed.Use Branch Predictor and don\'t take a conditional jump. Let\'s assume that the predict isnottaking the conditional jump.It will take 7 clock cycles for 3 instructions to be completed.Use Branch Predictor and take a conditional jump. Let\'s assume that the predict isnottaking the conditional jump.It will take 9 clock cycles for 3 instructions to be completed.The time that is wasted in case of a branch misprediction is equal to\n  the number of stages in the pipeline from the fetch stage to the\n  execute stage. Modern microprocessors tend to have quite long\n  pipelines so that the misprediction delay is between 10 and 20 clock\n  cycles. As a result, making a pipeline longer increases the need for a\n  more advanced branch predictor.As you can see, it seems we don\'t have a reason not to use Branch Predictor.It\'s quite a simple demo that clarifies the very basic part of Branch Predictor. If those gifs are annoying, please feel free to remove them from the answer and visitors can also get the live demo source code fromBranchPredictorDemoShareImprove this answerFolloweditedFeb 10, 2020 at 2:05answeredNov 6, 2017 at 16:15EugeneEugene10.9k55 gold badges5454 silver badges6767 bronze badges\n\nBranch-prediction gain!It is important to understand that branch misprediction doesn\'t slow down programs. The cost of a missed prediction is just as if branch prediction didn\'t exist and you waited for the evaluation of the expression to decide what code to run (further explanation in the next paragraph).if (expression)\n{\n    // Run 1\n} else {\n    // Run 2\n}Whenever there\'s anif-else\\switchstatement, the expression has to be evaluated to determine which block should be executed. In the assembly code generated by the compiler, conditionalbranchinstructions are inserted.A branch instruction can cause a computer to begin executing a different instruction sequence and thus deviate from its default behavior of executing instructions in order (i.e. if the expression is false, the program skips the code of theifblock) depending on some condition, which is the expression evaluation in our case.That being said, the compiler tries to predict the outcome prior to it being actually evaluated. It will fetch instructions from theifblock, and if the expression turns out to be true, then wonderful! We gained the time it took to evaluate it and made progress in the code; if not then we are running the wrong code, the pipeline is flushed, and the correct block is run.Visualization:Let\'s say you need to pick route 1 or route 2. Waiting for your partner to check the map, you have stopped at ## and waited, or you could just pick route1 and if you were lucky (route 1 is the correct route), then great you didn\'t have to wait for your partner to check the map (you saved the time it would have taken him to check the map), otherwise you will just turn back.While flushing pipelines is super fast, nowadays taking this gamble is worth it. Predicting sorted data or a data that changes slowly is always easier and better than predicting fast changes.O      Route 1  /-------------------------------\n/|\\             /\n |  ---------##/\n/ \\            \\\n                \\\n        Route 2  \\--------------------------------ShareImprove this answerFolloweditedJun 20, 2020 at 9:12CommunityBot111 silver badgeansweredAug 4, 2017 at 10:07Tony TannousTony Tannous14.6k1111 gold badges5656 silver badges9090 bronze badges\n\nOn ARM, there is no branch needed, because every instruction has a 4-bit condition field, which tests (at zero cost) any of16 different different conditionsthat may arise in the Processor Status Register, and if the condition on an instruction is false, the instruction is skipped. This eliminates the need for short branches, and there would be no branch prediction hit for this algorithm.Therefore, the sorted version of this algorithm would run slower than the unsorted version on ARM, because of the extra overhead of sorting.The inner loop for this algorithm would look something like the following in ARM assembly language:MOV R0, #0   // R0 = sum = 0\nMOV R1, #0   // R1 = c = 0\nADR R2, data // R2 = addr of data array (put this instruction outside outer loop)\n.inner_loop  // Inner loop branch label\n    LDRB R3, [R2, R1]   // R3 = data[c]\n    CMP R3, #128        // compare R3 to 128\n    ADDGE R0, R0, R3    // if R3 >= 128, then sum += data[c] -- no branch needed!\n    ADD R1, R1, #1      // c++\n    CMP R1, #arraySize  // compare c to arraySize\n    BLT inner_loop      // Branch to inner_loop if c < arraySizeBut this is actually part of a bigger picture:CMPopcodes always update the status bits in the Processor Status Register (PSR), because that is their purpose, but most other instructions do not touch the PSR unless you add an optionalSsuffix to the instruction, specifying that the PSR should be updated based on the result of the instruction.Just like the 4-bit condition suffix, being able to execute instructions without affecting the PSR is a mechanism that reduces the need for branches on ARM, and also facilitates out of order dispatch at the hardware level, because after performing some operation X that updates the status bits, subsequently (or in parallel) you can do a bunch of other work that explicitly should not affect (or be affected by) the status bits, then you can test the state of the status bits set earlier by X.The condition testing field and the optional ""set status bit"" field can be combined, for example:ADD R1, R2, R3performsR1 = R2 + R3without updating any status bits.ADDGE R1, R2, R3performs the same operation only if a previous instruction that affected the status bits resulted in a Greater than or Equal condition.ADDS R1, R2, R3performs the addition and then updates theN,Z,CandVflags in the Processor Status Register based on whether the result was Negative, Zero, Carried (for unsigned addition), or oVerflowed (for signed addition).ADDSGE R1, R2, R3performs the addition only if theGEtest is true, and then subsequently updates the status bits based on the result of the addition.Most processor architectures do not have this ability to specify whether or not the status bits should be updated for a given operation, which can necessitate writing additional code to save and later restore status bits, or may require additional branches, or may limit the processor\'s out of order execution efficiency: one of the side effects of most CPU instruction set architectures forcibly updating status bits after most instructions is that it is much harder to tease apart which instructions can be run in parallel without interfering with each other. Updating status bits has side effects, therefore has a linearizing effect on code.ARM\'s ability to mix and match branch-free condition testing on any instruction with the option to either update or not update the status bits after any instruction is extremely powerful, for both assembly language programmers and compilers, and produces very efficient code.When you don\'t have to branch, you can avoid the time cost of flushing the pipeline for what would otherwise be short branches, and you can avoid the design complexity of many forms of speculative evalution. The performance impact of the initial naive imlementations of the mitigations for many recently discovered processor vulnerabilities (Spectre etc.) shows you just how much the performance of modern processors depends upon complex speculative evaluation logic. With a short pipeline and the dramatically reduced need for branching, ARM just doesn\'t need to rely on speculative evaluation as much as CISC processors. (Of course high-end ARM implementations do include speculative evaluation, but it\'s a smaller part of the performance story.)If you have ever wondered why ARM has been so phenomenally successful, the brilliant effectiveness and interplay of these two mechanisms (combined with another mechanism that lets you ""barrel shift"" left or right one of the two arguments of any arithmetic operator or offset memory access operator at zero additional cost) are a big part of the story, because they are some of the greatest sources of the ARM architecture\'s efficiency. The brilliance of the original designers of the ARM ISA back in 1983, Steve Furber and Roger (now Sophie) Wilson, cannot be overstated.ShareImprove this answerFolloweditedOct 20, 2020 at 22:33answeredDec 22, 2017 at 13:13Luke HutchisonLuke Hutchison8,93222 gold badges5151 silver badges4747 bronze badges\n\nBesides the fact that the branch prediction may slow you down, a sorted array has another advantage:You can have a stop condition instead of just checking the value, this way you only loop over the relevant data, and ignore the rest.The branch prediction will miss only once.// sort backwards (higher values first), may be in some other part of the code\n std::sort(data, data + arraySize, std::greater<int>());\n\n for (unsigned c = 0; c < arraySize; ++c) {\n       if (data[c] < 128) {\n              break;\n       }\n       sum += data[c];               \n }ShareImprove this answerFolloweditedMar 5, 2019 at 9:58answeredNov 23, 2017 at 14:28Yochai TimmerYochai Timmer48.7k2424 gold badges151151 silver badges186186 bronze badges\n\nSorted arrays are processed faster than an unsorted array, due to a phenomena called branch prediction.The branch predictor is a digital circuit (in computer architecture) trying to predict which way a branch will go, improving the flow in the instruction pipeline. The circuit/computer predicts the next step and executes it.Making a wrong prediction leads to going back to the previous step, and executing with another prediction. Assuming the prediction is correct, the code will continue to the next step. A wrong prediction results in repeating the same step, until a correct prediction occurs.The answer to your question is very simple.In an unsorted array, the computer makes multiple predictions, leading to an increased chance of errors.\nWhereas, in a sorted array, the computer makes fewer predictions, reducing the chance of errors.\nMaking more predictions requires more time.Sorted Array: Straight Road____________________________________________________________________________________\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\nTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTUnsorted Array: Curved Road______   ________\n|     |__|Branch prediction: Guessing/predicting which road is straight and following it without checking___________________________________________ Straight road\n |_________________________________________|Longer roadAlthough both the roads reach the same destination, the straight road is shorter, and the other is longer. If then you choose the other by mistake, there is no turning back, and so you will waste some extra time if you choose the longer road. This is similar to what happens in the computer, and I hope this helped you understand better.Also I want to cite@Simon_Weaverfrom the comments:It doesn’t make fewer predictions - it makes fewer incorrect predictions. It still has to predict for each time through the loop...ShareImprove this answerFolloweditedJan 10, 2021 at 15:59Deduplicator45.4k77 gold badges7171 silver badges123123 bronze badgesansweredDec 7, 2017 at 17:28omkaartgomkaartg2,73411 gold badge1010 silver badges2121 bronze badges\n\nI tried the same code with MATLAB 2011b with my MacBook Pro (Intel i7, 64 bit, 2.4 GHz) for the following MATLAB code:% Processing time with Sorted data vs unsorted data\n%==========================================================================\n% Generate data\narraySize = 32768\nsum = 0;\n% Generate random integer data from range 0 to 255\ndata = randi(256, arraySize, 1);\n\n\n%Sort the data\ndata1= sort(data); % data1= data  when no sorting done\n\n\n%Start a stopwatch timer to measure the execution time\ntic;\n\nfor i=1:100000\n\n    for j=1:arraySize\n\n        if data1(j)>=128\n            sum=sum + data1(j);\n        end\n    end\nend\n\ntoc;\n\nExeTimeWithSorting = toc - tic;The results for the above MATLAB code are as follows:a: Elapsed time (without sorting) = 3479.880861 seconds.\n  b: Elapsed time (with sorting ) = 2377.873098 seconds.The results of the C code as in @GManNickG I get:a: Elapsed time (without sorting) = 19.8761 sec.\n  b: Elapsed time (with sorting ) = 7.37778 sec.Based on this, it looks MATLAB is almost175 timesslower than the C implementation without sorting and350 timesslower with sorting. In other words, the effect (of branch prediction) is1.46xfor MATLAB implementation and2.7xfor the C implementation.ShareImprove this answerFolloweditedMar 16, 2018 at 12:45Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredDec 30, 2012 at 16:16ShanShan5,1921212 gold badges4545 silver badges5959 bronze badges\n\nThe assumption by other answers that one needs to sort the data is not correct.The following code does not sort the entire array, but only 200-element segments of it, and thereby runs the fastest.Sorting only k-element sections completes the pre-processing in linear time,O(n), rather than theO(n.log(n))time needed to sort the entire array.#include <algorithm>\n#include <ctime>\n#include <iostream>\n\nint main() {\n    int data[32768]; const int l = sizeof data / sizeof data[0];\n\n    for (unsigned c = 0; c < l; ++c)\n        data[c] = std::rand() % 256;\n\n    // sort 200-element segments, not the whole array\n    for (unsigned c = 0; c + 200 <= l; c += 200)\n        std::sort(&data[c], &data[c + 200]);\n\n    clock_t start = clock();\n    long long sum = 0;\n\n    for (unsigned i = 0; i < 100000; ++i) {\n        for (unsigned c = 0; c < sizeof data / sizeof(int); ++c) {\n            if (data[c] >= 128)\n                sum += data[c];\n        }\n    }\n\n    std::cout << static_cast<double>(clock() - start) / CLOCKS_PER_SEC << std::endl;\n    std::cout << ""sum = "" << sum << std::endl;\n}This also ""proves"" that it has nothing to do with any algorithmic issue such as sort order, and it is indeed branch prediction.ShareImprove this answerFolloweditedJul 2, 2019 at 4:08answeredDec 9, 2018 at 6:18user2297550user22975503,31833 gold badges2929 silver badges4242 bronze badges\n\nBjarne Stroustrup\'s Answerto this question:That sounds like an interview question. Is it true? How would you know? It is a bad idea to answer questions about efficiency without first doing some measurements, so it is important to know how to measure.So, I tried with a vector of a million integers and got:Already sorted    32995 milliseconds\nShuffled          125944 milliseconds\n\nAlready sorted    18610 milliseconds\nShuffled          133304 milliseconds\n\nAlready sorted    17942 milliseconds\nShuffled          107858 millisecondsI ran that a few times to be sure. Yes, the phenomenon is real. My key code was:void run(vector<int>& v, const string& label)\n{\n    auto t0 = system_clock::now();\n    sort(v.begin(), v.end());\n    auto t1 = system_clock::now();\n    cout << label\n         << duration_cast<microseconds>(t1 — t0).count()\n         << "" milliseconds\\n"";\n}\n\nvoid tst()\n{\n    vector<int> v(1\'000\'000);\n    iota(v.begin(), v.end(), 0);\n    run(v, ""already sorted "");\n    std::shuffle(v.begin(), v.end(), std::mt19937{ std::random_device{}() });\n    run(v, ""shuffled    "");\n}At least the phenomenon is real with this compiler, standard library, and optimizer settings. Different implementations can and do give different answers. In fact, someone did do a more systematic study (a quick web search will find it) and most implementations show that effect.One reason is branch prediction: the key operation in the sort algorithm is“if(v[i] < pivot]) …”or equivalent. For a sorted sequence that test is always true whereas, for a random sequence, the branch chosen varies randomly.Another reason is that when the vector is already sorted, we never need to move elements to their correct position. The effect of these little details is the factor of five or six that we saw.Quicksort (and sorting in general) is a complex study that has attracted some of the greatest minds of computer science. A good sort function is a result of both choosing a good algorithm and paying attention to hardware performance in its implementation.If you want to write efficient code, you need to know a bit about machine architecture.ShareImprove this answerFolloweditedJan 10, 2021 at 16:02community wiki2 revs, 2 users 75%Selcuk\n\nThis question is rooted inbranch prediction modelson CPUs. I\'d recommend reading this paper:Increasing the Instruction Fetch Rate via Multiple Branch Prediction and a Branch Address Cache(But real CPUs these days still don\'t make multiple taken branch-predictions per clock cycle, except for Haswell and latereffectively unrolling tiny loops in its loop buffer.  Modern CPUs can predict multiple branches not-taken to make use of their fetches in large contiguous blocks.)When you have sorted elements, branch prediction easily predicts correctly except right at the boundary, letting instructions flow through the CPU pipeline efficiently, without having to rewind and take the correct path on mispredictions.ShareImprove this answerFolloweditedMar 23, 2022 at 18:12Peter Cordes351k4949 gold badges674674 silver badges927927 bronze badgesansweredOct 23, 2019 at 21:35hatirlaticihatirlatici1,66522 gold badges1313 silver badges2626 bronze badges\n\nAn answer for quick and simple understanding (read the others for more details)This concept is calledbranch predictionBranch prediction is an optimization technique that predicts the path the code will take before it is known with certainty. This is important because during the code execution, the machine prefetches several code statements and stores them in the pipeline.The problem arises in conditional branching, where there are two possible paths or parts of the code that can be executed.When the prediction was true, the optimization technique worked out.When the prediction was false, to explain it in a simple way, the code statement stored in the pipeline gets proved wrong and the actual code has to be completely reloaded, which takes up a lot of time.As common sense suggests, predictions of something sorted are way more accurate than predictions of something unsorted.branch prediction visualisation:sortedunsortedShareImprove this answerFolloweditedMar 18, 2022 at 5:43Günter Zöchbauer648k230230 gold badges2k2k silver badges1.6k1.6k bronze badgesansweredNov 5, 2021 at 10:05Geek26Geek2648966 silver badges1111 bronze badges'}","{'title': 'How to disable text selection highlighting', 'question': 'For anchors that act like buttons (for example, the buttons on the sidebar of this Stack\xa0Overflow page titledQuestions,Tags, andUsers) or tabs, is there a CSS standard way to disable the highlighting effect if the user accidentally selects the text?I realize that this could be done with JavaScript and a little googling yielded the Mozilla-only-moz-user-selectoption.Is there a standard-compliant way to accomplish this with CSS, and if not, what is the ""best practice"" approach?csscross-browserhighlighttextselectionShareImprove this questionFolloweditedJul 24, 2022 at 23:50Mateen Ulhaq26.6k2020 gold badges115115 silver badges147147 bronze badgesaskedMay 5, 2009 at 20:29anonanon', 'answers': 'UPDATE January, 2017:According toCan I use, theuser-select+-webkit-user-selectfor Safariis enough to achieve desired behavior in all major browsers.These are all of the available correct CSS variations:.noselect {\n  -webkit-touch-callout: none; /* iOS Safari */\n    -webkit-user-select: none; /* Safari */\n     -khtml-user-select: none; /* Konqueror HTML */\n       -moz-user-select: none; /* Old versions of Firefox */\n        -ms-user-select: none; /* Internet Explorer/Edge */\n            user-select: none; /* Non-prefixed version, currently\n                                  supported by Chrome, Edge, Opera and Firefox */\n}<p>\n  Selectable text.\n</p>\n<p class=""noselect"">\n  Unselectable text.\n</p>Note thatuser-selectis in standardization process (currently in aW3C working draft). It is not guaranteed to work everywhere and there might be differences in implementation among browsers. Also, browsers can drop support for it in the future.More information can be found inMozilla Developer Network documentation.The values of this attribute arenone,text,toggle,element,elements,allandinherit.ShareImprove this answerFolloweditedAug 18, 2022 at 9:38community wiki39 revs, 24 users 20%Blowsie\n\nIn most browsers, this can be achieved using proprietary variations on the CSSuser-selectproperty,originally proposed and then abandoned in CSS\xa03and now proposed inCSS UI Level 4:*.unselectable {\n   -moz-user-select: none;\n   -khtml-user-select: none;\n   -webkit-user-select: none;\n\n   /*\n     Introduced in Internet Explorer 10.\n     See http://ie.microsoft.com/testdrive/HTML5/msUserSelect/\n   */\n   -ms-user-select: none;\n   user-select: none;\n}For Internet Explorer < 10 andOpera< 15, you will need to use theunselectableattribute of the element you wish to be unselectable. You can set this using an attribute in HTML:<div id=""foo"" unselectable=""on"" class=""unselectable"">...</div>Sadly this property isn\'t inherited, meaning you have to put an attribute in the start tag of every element inside the<div>. If this is a problem, you could instead use JavaScript to do this recursively for an element\'s descendants:function makeUnselectable(node) {\n    if (node.nodeType == 1) {\n        node.setAttribute(""unselectable"", ""on"");\n    }\n    var child = node.firstChild;\n    while (child) {\n        makeUnselectable(child);\n        child = child.nextSibling;\n    }\n}\n\nmakeUnselectable(document.getElementById(""foo""));Update 30 April 2014: This tree traversal needs to be rerun whenever a new element is added to the tree, but it seems from a comment by @Han that it is possible to avoid this by adding amousedownevent handler that setsunselectableon the target of the event. Seehttp://jsbin.com/yagekiji/1for details.This still doesn\'t cover all possibilities. While it is impossible to initiate selections in unselectable elements, in some browsers (Internet\xa0Explorer and Firefox, for example) it\'s still impossible to prevent selections that start before and end after the unselectable element without making the whole document unselectable.ShareImprove this answerFolloweditedNov 24, 2019 at 12:36Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredDec 5, 2010 at 11:45Tim DownTim Down323k7676 gold badges459459 silver badges541541 bronze badges\n\nUntil CSS 3\'suser-selectproperty becomes available,Gecko-based browsers support the-moz-user-selectproperty you already found.WebKitand Blink-based browsers support the-webkit-user-selectproperty.This of course is not supported in browsers that do not use the Gecko rendering engine.There is no ""standards"" compliant quick-and-easy way to do it; using JavaScript is an option.The real question is, why do you want users to not be able to highlight and presumably copy and paste certain elements? I have not come across a single time that I wanted to not let users highlight a certain portion of my website. Several of my friends, after spending many hours reading and writing code will use the highlight feature as a way to remember where on the page they were, or providing a marker so that their eyes know where to look next.The only place I could see this being useful is if you have buttons for forms that should not be copy and pasted if a user copy and pasted the website.ShareImprove this answerFolloweditedApr 17, 2016 at 5:17Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMay 5, 2009 at 20:37X-IstenceX-Istence16.6k66 gold badges6060 silver badges7575 bronze badges\n\nA JavaScript solution for Internet\xa0Explorer is:onselectstart=""return false;""ShareImprove this answerFolloweditedJul 31, 2019 at 19:30Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredNov 13, 2009 at 16:05PekkaPekka447k147147 gold badges980980 silver badges1.1k1.1k bronze badges\n\nIf you want to disable text selection on everything except on<p>elements, you can do this in CSS (watch out for the-moz-nonewhich allows override in sub-elements, which is allowed in other browsers withnone):* {\n    -webkit-user-select: none;\n    -khtml-user-select: none;\n    -moz-user-select: -moz-none;\n    -o-user-select: none;\n    user-select: none;\n}\n\np {\n    -webkit-user-select: text;\n    -khtml-user-select: text;\n    -moz-user-select: text;\n    -o-user-select: text;\n    user-select: text;\n}ShareImprove this answerFolloweditedOct 29, 2013 at 17:09James Donnelly128k3535 gold badges212212 silver badges222222 bronze badgesansweredMay 24, 2011 at 21:24Benjamin CrouzierBenjamin Crouzier41.5k4747 gold badges177177 silver badges239239 bronze badges\n\nIn the solutions in previous answers selection is stopped, but the user still thinks you can select text because the cursor still changes. To keep it static, you\'ll have to set your CSS cursor:.noselect {\r\n    cursor: default;\r\n    -webkit-touch-callout: none;\r\n    -webkit-user-select: none;\r\n    -khtml-user-select: none;\r\n    -moz-user-select: none;\r\n    -ms-user-select: none;\r\n    user-select: none;\r\n}<p>\r\n  Selectable text.\r\n</p>\r\n<p class=""noselect"">\r\n  Unselectable text.\r\n</p>This will make your text totally flat, like it would be in a desktop application.ShareImprove this answerFolloweditedNov 2, 2019 at 14:23Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredAug 30, 2015 at 18:32ZECTBynmoZECTBynmo3,32733 gold badges2727 silver badges4343 bronze badges\n\nYou can do so in Firefox and Safari (Chrome also?)::selection { background: transparent; }\n::-moz-selection { background: transparent; }ShareImprove this answerFolloweditedOct 29, 2013 at 17:09James Donnelly128k3535 gold badges212212 silver badges222222 bronze badgesansweredMay 5, 2009 at 20:46seanmonstarseanmonstar11.4k22 gold badges2222 silver badges2626 bronze badges\n\nWorkaround forWebKit:/* Disable tap highlighting */\n-webkit-tap-highlight-color: rgba(0, 0, 0, 0);I found it in a CardFlip example.ShareImprove this answerFolloweditedNov 24, 2019 at 12:47Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredSep 21, 2011 at 7:09AlexAlex93966 silver badges33 bronze badges\n\nI like the hybrid CSS + jQuery solution.To make all elements inside<div class=""draggable""></div>unselectable, use this CSS:.draggable {\n    -webkit-user-select: none;\n     -khtml-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n         -o-user-select: none;\n            user-select: none;\n}\n\n.draggable input {\n    -webkit-user-select: text;\n     -khtml-user-select: text;\n       -moz-user-select: text;\n         -o-user-select: text;\n            user-select: text;\n }And then, if you\'re using jQuery, add this inside a$(document).ready()block:if (($.browser.msie && $.browser.version < 10) || $.browser.opera) $(\'.draggable\').find(\':not(input)\').attr(\'unselectable\', \'on\');I figure you still want any input elements to be interactable, hence the:not()pseudo-selector. You could use\'*\'instead if you don\'t care.Caveat: Internet\xa0Explorer\xa09 may not need this extra jQuery piece, so you may want to add a version check in there.ShareImprove this answerFolloweditedApr 15, 2020 at 20:54johannchopin14.7k1111 gold badges6060 silver badges110110 bronze badgesansweredNov 11, 2011 at 19:53Tom AugerTom Auger19.8k2323 gold badges8585 silver badges108108 bronze badges\n\nYou can useCSSorJavaScriptfor that.TheJavaScriptway is supported inolderbrowsers, likeoldversions of Internet\xa0Explorer as well, but if it\'s not your case, use the CSS way then:HTML/JavaScript:<html onselectstart=\'return false;\'>\r\n  <body>\r\n    <h1>This is the Heading!</h1>\r\n    <p>And I\'m the text, I won\'t be selected if you select me.</p>\r\n  </body>\r\n</html>HTML/CSS:.not-selectable {\r\n  -webkit-touch-callout: none;\r\n  -webkit-user-select: none;\r\n  -khtml-user-select: none;\r\n  -moz-user-select: none;\r\n  -ms-user-select: none;\r\n  user-select: none;\r\n}<body class=""not-selectable"">\r\n  <h1>This is the Heading!</h1>\r\n  <p>And I\'m the text, I won\'t be selected if you select me.</p>\r\n</body>ShareImprove this answerFolloweditedNov 24, 2019 at 14:04Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJun 5, 2017 at 14:03AlirezaAlireza103k2727 gold badges275275 silver badges173173 bronze badges\n\n.hidden:after {\r\n    content: attr(data-txt);\r\n}<p class=""hidden"" data-txt=""Some text you don\'t want to be selected""></p>It\'s not the best way, though.ShareImprove this answerFolloweditedJun 16, 2017 at 2:37Fred Gandt4,28222 gold badges3434 silver badges4141 bronze badgesansweredMay 1, 2013 at 11:36AleAle2,0262020 silver badges3232 bronze badges\n\nFor Internet Explorer in addition, you need to addpseudo classfocus(.ClassName:focus) andoutline-style: none..ClassName,\n.ClassName:focus {\n    -webkit-touch-callout: none;\n    -webkit-user-select: none;\n    -khtml-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n    outline-style: none; /* Internet Explorer  */\n}ShareImprove this answerFolloweditedNov 24, 2019 at 13:22Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredDec 23, 2013 at 14:05Elad ShechterElad Shechter4,01511 gold badge2323 silver badges2222 bronze badges\n\nTry to insert these rows into the CSS and call the ""disHighlight"" at class property:.disHighlight {\n    user-select: none;\n    -webkit-user-select: none;\n    -ms-user-select: none;\n    -webkit-touch-callout: none;\n    -o-user-select: none;\n    -moz-user-select: none;\n}ShareImprove this answerFolloweditedNov 24, 2019 at 13:58Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredAug 28, 2016 at 7:13user1012506user10125062,09822 gold badges2727 silver badges4545 bronze badges\n\nA Quick Hack UpdateIf you use the valuenonefor all the CSSuser-selectproperties (including browser prefixes of it), there is a problem which can be still occurred by this..div {\n    -webkit-user-select: none; /* Chrome all / Safari all */\n    -moz-user-select: none;    /* Firefox all             */\n    -ms-user-select: none;     /* Internet Explorer  10+  */\n     user-select: none;        /* Likely future           */\n}AsCSS-Trickssays, theproblemis:WebKitstill allows the text to be copied, if you select elements around it.You can also use the below one toenforcethat an entire element gets selected which means if you click on an element, all the text wrapped in that element will get selected. For this all you have to do is changing the valuenonetoall..force-select {\n    -webkit-user-select: all;  /* Chrome 49+     */\n    -moz-user-select: all;     /* Firefox 43+    */\n    -ms-user-select: all;      /* No support yet */\n    user-select: all;          /* Likely future  */\n}ShareImprove this answerFolloweditedNov 24, 2019 at 14:11Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMar 31, 2018 at 11:32KazKaz1,2381111 silver badges2121 bronze badges\n\nWithSASS(SCSS syntax)You can do this with amixin:// Disable selection\n@mixin disable-selection {\n    -webkit-touch-callout: none; /* iOS Safari */\n    -webkit-user-select: none;   /* Safari */\n    -khtml-user-select: none;    /* Konqueror HTML */\n    -moz-user-select: none;      /* Firefox */\n    -ms-user-select: none;       /* Internet Explorer/Edge */\n    user-select: none;           /* Non-prefixed version, currently supported by Chrome and Opera */\n}\n\n// No selectable element\n.no-selectable {\n    @include disable-selection;\n}In an HTML tag:<div class=""no-selectable"">TRY TO HIGHLIGHT. YOU CANNOT!</div>Try itin thisCodePen.If you are using anautoprefixeryou can remove other prefixes.Browser compatibilityhere.ShareImprove this answerFolloweditedJul 6, 2022 at 15:38answeredOct 11, 2019 at 10:27Alessandro_RussoAlessandro_Russo2,12111 gold badge2424 silver badges3636 bronze badges\n\nFor those who have trouble achieving the same in the Android browser with the touch event, use:html, body {\n    -webkit-touch-callout: none;\n    -webkit-user-select: none;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n    -webkit-tap-highlight-color: transparent;\n}ShareImprove this answerFolloweditedNov 24, 2019 at 13:37Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMay 19, 2014 at 5:30Beep.exeBeep.exe1,3981212 silver badges2121 bronze badges\n\nIf you are usingLessandBootstrapyou could write:.user-select(none);ShareImprove this answerFolloweditedApr 17, 2016 at 5:09Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredApr 18, 2012 at 8:34CodlerCodler11.2k66 gold badges5454 silver badges6666 bronze badges\n\n-webkit-user-select: none;\n-khtml-user-select: none;\n-moz-user-select: none;\n-o-user-select: none;\nuser-select: none;\n\n*.unselectable {\n   -moz-user-select: -moz-none;\n   -khtml-user-select: none;\n   -webkit-user-select: none;\n   user-select: none;\n}<div id=""foo"" unselectable=""on"" class=""unselectable"">...</div>function makeUnselectable(node) {\n    if (node.nodeType == 1) {\n        node.unselectable = true;\n    }\n    var child = node.firstChild;\n    while (child) {\n        makeUnselectable(child);\n        child = child.nextSibling;\n    }\n}\n\nmakeUnselectable(document.getElementById(""foo""));-webkit-user-select: none;\n-moz-user-select: none;onselectstart=""return false;""::selection { \n    background: transparent; \n}\n\n::-moz-selection { \n    background: transparent; \n}\n\n* {\n    -webkit-user-select: none;\n    -khtml-user-select: none;\n    -moz-user-select: -moz-none;\n    -o-user-select: none;\n    user-select: none;\n}\n\np {\n    -webkit-user-select: text;\n    -khtml-user-select: text;\n    -moz-user-select: text;\n    -o-user-select: text;\n    user-select: text;\n}<div class=""draggable""></div>.draggable {\n    -webkit-user-select: none;\n    -khtml-user-select: none;\n    -moz-user-select: none;\n    -o-user-select: none;\n    user-select: none;\n}\n\n.draggable input {\n    -webkit-user-select: text;\n    -khtml-user-select: text;\n    -moz-user-select: text;\n    -o-user-select: text;\n    user-select: text;\n }if ($.browser.msie)\n    $(\'.draggable\').find(\':not(input)\').attr(\'unselectable\', \'on\');ShareImprove this answerFolloweditedNov 24, 2019 at 13:09Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredOct 26, 2012 at 5:44GaurangGaurang1,9481818 silver badges1212 bronze badges\n\nAside from the Mozilla-only property, no, there is no way to disable text selection with just standard CSS (as of now).If you notice, Stack Overflow doesn\'t disable text selection for their navigation buttons, and I would recommend against doing so in most cases, since it modifies normal selection behavior and makes it conflict with a user\'s expectations.ShareImprove this answerFollowansweredMay 5, 2009 at 20:38hbwhbw15.7k66 gold badges5252 silver badges5858 bronze badges\n\nThis works insomebrowsers:::selection{ background-color: transparent;}\n::moz-selection{ background-color: transparent;}\n::webkit-selection{ background-color: transparent;}Simply add your desired elements/ids in front of the selectors separated by commas without spaces, like so:h1::selection,h2::selection,h3::selection,p::selection{ background-color: transparent;}\nh1::moz-selection,h2::moz-selection,h3::moz-selection,p::moz-selection{ background-color: transparent;}\nh1::webkit-selection,h2::webkit-selection,h3::webkit-selection,p::webkit-selection{ background-color: transparent;}The other answers are better; this should probably be seen as a last resort/catchall.ShareImprove this answerFolloweditedApr 17, 2016 at 4:54Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredApr 9, 2014 at 22:56r3wtr3wt4,72222 gold badges3636 silver badges5555 bronze badges\n\nSuppose there are twodivs like this:.second {\r\n  cursor: default;\r\n  user-select: none;\r\n  -webkit-user-select: none;\r\n  /* Chrome/Safari/Opera */\r\n  -moz-user-select: none;\r\n  /* Firefox */\r\n  -ms-user-select: none;\r\n  /* Internet Explorer/Edge */\r\n  -webkit-touch-callout: none;\r\n  /* iOS Safari */\r\n}<div class=""first"">\r\n  This is my first div\r\n</div>\r\n\r\n<div class=""second"">\r\n  This is my second div\r\n</div>Set cursor to default so that it will give a unselectable feel to the user.Prefix need to be used to support it in all browsers. Without a prefix this may not work in all the answers.ShareImprove this answerFolloweditedNov 2, 2019 at 14:24Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMar 28, 2016 at 9:42Gaurav AggarwalGaurav Aggarwal10.1k88 gold badges3838 silver badges7575 bronze badges\n\nThis will be useful if color selection is also not needed:::-moz-selection { background:none; color:none; }\n::selection { background:none; color:none; }...all other browser fixes. It will work inInternet\xa0Explorer\xa09or later.ShareImprove this answerFolloweditedApr 17, 2016 at 5:01Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredApr 3, 2013 at 8:31karthipan rajkarthipan raj66711 gold badge88 silver badges1515 bronze badges\n\nAdd this to the first div in which you want to disable the selection for text:onmousedown=\'return false;\' \nonselectstart=\'return false;\'ShareImprove this answerFolloweditedMar 10, 2013 at 19:58Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredOct 30, 2012 at 6:56JIT1986JIT198668166 silver badges99 bronze badges\n\nNOTE:The correct answer is correct in that it prevents you from being able to select the text. However, it does not prevent you from being able to copy the text, as I\'ll show with the next couple of screenshots (as of 7th Nov 2014).As you can see, we were unable to select the numbers, but we were able to copy them.Tested on:Ubuntu,Google Chrome38.0.2125.111.ShareImprove this answerFolloweditedApr 17, 2016 at 4:52Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredNov 7, 2014 at 13:22Luke MadhangaLuke Madhanga7,31922 gold badges4747 silver badges4747 bronze badges\n\nIt is easily done with:-webkit-user-select: none;\n-moz-user-select: none;\n-ms-user-select: none;\n-o-user-select: none;\nuser-select: none;Alternatively:Let\'s say you have a<h1 id=""example"">Hello, World!</h1>. You will have to remove the innerHTML of thath1, in this caseHello, World. Then you will have to go to CSS and do this:#example::before // You can of course use **::after** as well.\n{\n    content: \'Hello, World!\'; // Both single-quotes and double-quotes can be used here.\n\n    display: block; // To make sure it works fine in every browser.\n}Now it simply thinks it is a block-element, and not text.ShareImprove this answerFolloweditedNov 24, 2019 at 14:16Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredNov 8, 2018 at 9:17codeWithMecodeWithMe89211 gold badge1212 silver badges1717 bronze badges\n\nTo get the result I needed, I found I had to use both::selectionanduser-selectinput.no-select:focus {\n    -webkit-touch-callout: none;\n    -webkit-user-select: none;\n    -khtml-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n}\n\ninput.no-select::selection {\n    background: transparent;\n}\n\ninput.no-select::-moz-selection {\n    background: transparent;\n}ShareImprove this answerFolloweditedNov 24, 2019 at 13:46Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMay 14, 2015 at 0:13SemanticZenSemanticZen1,1511414 silver badges2121 bronze badges\n\nThis is not CSS, but it is worth a mention:jQuery UI Disable Selection:$(""your.selector"").disableSelection();ShareImprove this answerFollowansweredApr 9, 2013 at 16:42AutomaticoAutomatico12.7k1010 gold badges8484 silver badges116116 bronze badges\n\nCheck my solution without JavaScript:jsFiddleli:hover {\r\n    background-color: silver;\r\n}\r\n#id1:before {\r\n    content: ""File"";\r\n}\r\n#id2:before {\r\n    content: ""Edit"";\r\n}\r\n#id3:before {\r\n    content: ""View"";\r\n}<ul>\r\n    <li><a id=""id1"" href=""www.w1.com""></a>\r\n    <li><a id=""id2"" href=""www.w2.com""></a>\r\n    <li><a id=""id3"" href=""www.w3.com""></a>\r\n</ul>Popup menu with my technique applied:http://jsfiddle.net/y4Lac/2/ShareImprove this answerFolloweditedApr 17, 2016 at 5:00Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredFeb 22, 2014 at 22:06apocalypseapocalypse5,8241010 gold badges4949 silver badges9595 bronze badges\n\nI have learned from theCSS-Trickswebsite.user-select: none;And this also:::selection {\n    background-color: transparent;\n}\n\n::moz-selection {\n    background-color: transparent;\n}\n\n::webkit-selection {\n    background-color: transparent;\n}ShareImprove this answerFolloweditedNov 24, 2019 at 13:51Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredApr 1, 2016 at 11:16Mohammed JavedMohammed Javed87622 gold badges99 silver badges2424 bronze badges\n\nFIRST METHOD: ( TOTALLY NONSENSE ):.no-select::selection, .no-select *::selection {\n  background-color: Transparent;\n}\n\n.no-select { /* Sometimes I add this too. */\n  cursor: default;\n}<span>RixTheTyrunt is da best!</span>\n<br>\n<span class=""no-select"">RixTheTyrunt is da best!</span>Snippet:.no-select::selection, .no-select *::selection {\n  background-color: Transparent;\n}\n\n.no-select {\n  /* Sometimes I add this too. */\n  cursor: default;\n}<span>RixTheTyrunt is da best!</span>\n<br>\n<span class=""no-select"">RixTheTyrunt is da best!</span>SECOND METHOD ( NO NONSENSE INCLUDED ).no-select {\n  user-select: none;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n}Snippet:.no-select {\n  user-select: none;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n}<span>RixTheTyrunt is da best!</span>\n<br>\n<span class=""no-select"">RixTheTyrunt is da best!</span>First, solve the problem. Then, write the code.John JohnsonShareImprove this answerFolloweditedJan 14, 2022 at 15:50community wiki3 revsRixTheTyrunt'}"
1,"{'title': 'What does ""use strict"" do in JavaScript, and what is the reasoning behind it?', 'question': 'Recently, I ran some of my JavaScript code through Crockford\'sJSLint, and it gave the following error:Problem at line 1 character 1: Missing ""use strict"" statement.Doing some searching, I realized that some people add""use strict"";into their JavaScript code. Once I added the statement, the error stopped appearing. Unfortunately, Google did not reveal much of the history behind this string statement. Certainly it must have something to do with how the JavaScript is interpreted by the browser, but I have no idea what the effect would be.So what is""use strict"";all about, what does it imply, and is it still relevant?Do any of the current browsers respond to the""use strict"";string or is it for future use?javascriptsyntaxjslintuse-strictShareImprove this questionFolloweditedJul 5, 2022 at 13:59Mark RogersaskedAug 26, 2009 at 16:10Mark RogersMark Rogers97.4k1818 gold badges8989 silver badges141141 bronze badges', 'answers': 'Update for ES6 modulesInsidenative ECMAScript modules(withimportandexportstatements) andES6 classes, strict mode is always enabled and cannot be disabled.Original answerThis article about Javascript Strict Mode might interest you:John Resig - ECMAScript 5 Strict Mode, JSON, and MoreTo quote some interesting parts:Strict Mode is a new feature in ECMAScript 5 that allows you to place a program, or a function, in a ""strict"" operating context. This strict context prevents certain actions from being taken and throws more exceptions.And:Strict mode helps out in a couple ways:It catches some common coding bloopers, throwing exceptions.It prevents, or throws errors, when relatively ""unsafe"" actions are taken (such as gaining access to the global object).It disables features that are confusing or poorly thought out.Also note you can apply ""strict mode"" to the whole file... Or you can use it only for a specific function(still quoting from John Resig\'s article):// Non-strict code...\n\n(function(){\n  ""use strict"";\n\n  // Define your library strictly...\n})();\n\n// Non-strict code...Which might be helpful if you have to mix old and new code ;-)So, I suppose it\'s a bit like the""use strict""you can use in Perl(hence the name?): it helps you make fewer errors, by detecting more things that could lead to breakages.Strict mode is nowsupported by all major browsers.ShareImprove this answerFolloweditedMar 12, 2023 at 15:07Michael M.10.8k1111 gold badges2020 silver badges4040 bronze badgesansweredAug 26, 2009 at 16:15Pascal MARTINPascal MARTIN399k8181 gold badges662662 silver badges665665 bronze badges\n\nIt\'s a new feature of ECMAScript 5. John Resig wrote upa nice summaryof it.It\'s just a string you put in your JavaScript files (either at the top of your file or inside of a function) that looks like this:""use strict"";Putting it in your code now shouldn\'t cause any problems with current browsers as it\'s just a string. It may cause problems with your code in the future if your code violates the pragma.  For instance, if you currently havefoo = ""bar""without definingfoofirst, your code will start failing...which is a good thing in my opinion.ShareImprove this answerFolloweditedMar 12, 2023 at 15:06Michael M.10.8k1111 gold badges2020 silver badges4040 bronze badgesansweredAug 26, 2009 at 16:14sethseth37.1k77 gold badges6161 silver badges5757 bronze badges\n\nThe statement""use strict"";instructs the browser to use the Strict mode, which is a reduced and safer feature set of JavaScript.List of features (non-exhaustive)Disallows global variables. (Catches missingvardeclarations and typos in variable names)Silent failing assignments will throw error in strict mode (assigningNaN = 5;)Attempts to delete undeletable properties will throw (delete Object.prototype)Requires all property names in an object literal to be unique (var x = {x1: ""1"", x1: ""2""})Function parameter names must be unique (function sum (x, x) {...})Forbids octal syntax (var x = 023;some devs assume wrongly that a preceding zero does nothing to change the number.)Forbids thewithkeywordevalin strict mode does not introduce new variablesForbids deleting plain names (delete x;)Forbids binding or assignment of the namesevalandargumentsin any formStrict mode does not alias properties of theargumentsobject with the formal parameters. (e.g. infunction sum (a,b) { return arguments[0] + b;}This works becausearguments[0]is bound toaand so on. ) (Seeexamplessection below to understand the difference)arguments.calleeis not supported[Ref:Strict mode,Mozilla Developer Network]Examples:Strict mode code doesn\'t alias properties of arguments objects created within itfunction show( msg ){\n    msg = 42;\n    console.log( msg );          // msg === 42\n    console.log( arguments[0] ); // arguments === 42\n}\nshow( ""Hey"" );\n\n// In strict mode arguments[i] does not track the value of \n// the corresponding named argument, nor does a named argument track the value in the corresponding arguments[i]\nfunction showStrict( msg ){\n    ""use strict"";\n    msg = 42;\n    console.log( msg );          // msg === 42\n    console.log( arguments[0] ); // arguments === ""Hey""\n}\nshowStrict( ""Hey"" );ShareImprove this answerFolloweditedMar 28, 2022 at 8:31Kostas Minaidis4,97833 gold badges1919 silver badges2828 bronze badgesansweredNov 24, 2014 at 21:22gprasantgprasant15.9k99 gold badges4444 silver badges5757 bronze badges\n\nIf people are worried about usinguse strictit might be worth checking out this article:ECMAScript 5 \'Strict mode\' support in browsers. What does this mean?NovoGeek.com - Krishna\'s weblogIt talks about browser support, but more importantly how to deal with it safely:function isStrictMode(){\n    return !this;\n} \n/*\n   returns false, since \'this\' refers to global object and \n   \'!this\' becomes false\n*/\n\nfunction isStrictMode(){   \n    ""use strict"";\n    return !this;\n} \n/* \n   returns true, since in strict mode the keyword \'this\'\n   does not refer to global object, unlike traditional JS. \n   So here, \'this\' is \'undefined\' and \'!this\' becomes true.\n*/ShareImprove this answerFolloweditedJan 22, 2018 at 11:13CommunityBot111 silver badgeansweredJul 15, 2012 at 23:25Jamie HutberJamie Hutber27.9k5353 gold badges190190 silver badges307307 bronze badges\n\nA word of caution, all you hard-charging programmers:  applying""use strict""to existing code can be hazardous!  This thing is not some feel-good, happy-face sticker that you can slap on the code to make it \'better\'.  With the""use strict""pragma, the browser will suddenly THROW exceptions in random places that it never threw before just because at that spot you are doing something that default/loose JavaScript happily allows but strict JavaScript abhors!  You may have strictness violations hiding in seldom used calls in your code that will only throw an exception when they do eventually get run - say, in the production environment that your paying customers use!If you are going to take the plunge, it is a good idea to apply""use strict""alongside comprehensive unit tests and a strictly configured JSHint build task that will give you some confidence that there is no dark corner of your module that will blow up horribly just because you\'ve turned on Strict Mode.  Or, hey, here\'s another option:  just don\'t add""use strict""to any of your legacy code, it\'s probably safer that way, honestly.DEFINITELY DO NOTadd""use strict""to any modules you do not own or maintain, like third party modules.I think even though it is a deadly caged animal,""use strict""can be good stuff, but you have to do it right.  The best time to go strict is when your project is greenfield and you are starting from scratch. ConfigureJSHint/JSLintwith all the warnings and options cranked up as tight as your team can stomach, get a good build/test/assert system du jour rigged likeGrunt+Karma+Chai, and only THEN start marking all your new modules as""use strict"".  Be prepared to cure lots of niggly errors and warnings.  Make sure everyone understands the gravity by configuring the build to FAIL ifJSHint/JSLintproduces any violations.My project was not a greenfield project when I adopted""use strict"".  As a result, my IDE is full of red marks because I don\'t have""use strict""on half my modules, and JSHint complains about that.  It\'s a reminder to me about what refactoring I should do in the future.  My goal is to be red mark free due to all of my missing""use strict""statements, but that is years away now.ShareImprove this answerFolloweditedOct 16, 2016 at 9:10Ataur Rahman Munna3,89711 gold badge2424 silver badges3535 bronze badgesansweredMar 3, 2014 at 7:37DWoldrichDWoldrich3,99711 gold badge2323 silver badges2121 bronze badges\n\nUsing\'use strict\';does not suddenly make your code better.TheJavaScript strict modeis a feature inECMAScript 5. You can enable the strict mode by declaring this in the top of your script/function.\'use strict\';When a JavaScript engine sees thisdirective, it will start to interpret the code in a special mode. In this mode, errors are thrown up when certain coding practices that could end up being potential bugs are detected (which is the reasoning behind the strict mode).Consider this example:var a = 365;\nvar b = 030;In their obsession to line up the numeric literals, the developer has inadvertently initialized variablebwith an octal literal. Non-strict mode will interpret this as a numeric literal with value24(in base 10). However, strict mode will throw an error.For a non-exhaustive list of specialties in strict mode, seethis answer.Where should I use\'use strict\';?In mynewJavaScript application:Absolutely!Strict mode can be used as a whistleblower when you are doing something stupid with your code.In myexistingJavaScript code:Probably not!If your existing JavaScript code has statements that are prohibited in strict-mode, the application will simply break. If you want strict mode, you should be prepared to debug and correct your existing code. This is whyusing\'use strict\';does not suddenly make your code better.How do I use strict mode?Insert a\'use strict\';statement on top of your script:// File: myscript.js\n\n \'use strict\';\n var a = 2;\n ....Note that everything in the filemyscript.jswill be interpreted in strict mode.Or, insert a\'use strict\';statement on top of your function body:function doSomething() {\n     \'use strict\';\n     ...\n }Everything in thelexical scopeof functiondoSomethingwill be interpreted in strict mode. The wordlexical scopeis important here. For example, if yourstrictcode calls a function of a library that isnot strict, only your code is executed in strict mode, and not the called function. Seethis answerfor a better explanation.What things are prohibited in strict mode?I found anice articledescribing several things that are prohibited in strict mode (note that this is not an exhaustive list):ScopeHistorically, JavaScript has been confused about how functions\nare scoped. Sometimes they seem to be statically scoped, but some\nfeatures make them behave like they are dynamically scoped. This is\nconfusing, making programs difficult to read and understand.\nMisunderstanding causes bugs. It also is a problem for performance.\nStatic scoping would permit variable binding to happen at compile\ntime, but the requirement for dynamic scope means the binding must be\ndeferred to runtime, which comes with a significant performance\npenalty.Strict mode requires that all variable binding be done statically.\nThat means that the features that previously required dynamic binding\nmust be eliminated or modified. Specifically, the with statement is\neliminated, and the eval function’s ability to tamper with the\nenvironment of its caller is severely restricted.One of the benefits of strict code is that tools likeYUI Compressorcan do a better job when processing it.Implied Global VariablesJavaScript has implied global variables. If\nyou do not explicitly declare a variable, a global variable is\nimplicitly declared for you. This makes programming easier for\nbeginners because they can neglect some of their basic housekeeping\nchores. But it makes the management of larger programs much more\ndifficult and it significantly degrades reliability. So in strict\nmode, implied global variables are no longer created. You should\nexplicitly declare all of your variables.Global LeakageThere are a number of situations that could causethisto be bound to the global object. For example, if you forget to\nprovide thenewprefix when calling a constructor function, the\nconstructor\'sthiswill be bound unexpectedly to the global object, so\ninstead of initializing a new object, it will instead be silently\ntampering with global variables. In these situations, strict mode will\ninstead bindthistoundefined, which will cause the constructor to\nthrow an exception instead, allowing the error to be detected much\nsooner.Noisy FailureJavaScript has always had read-only properties, but you\ncould not create them yourself until ES5’sObject.createPropertyfunction exposed that capability. If you attempted to assign a value\nto a read-only property, it would fail silently. The assignment would\nnot change the property’s value, but your program would proceed as\nthough it had. This is an integrity hazard that can cause programs to\ngo into an inconsistent state. In strict mode, attempting to change a\nread-only property will throw an exception.OctalThe octal (or base 8) representation of numbers was extremely\nuseful when doing machine-level programming on machines whose word\nsizes were a multiple of 3. You needed octal when working with the CDC\n6600 mainframe, which had a word size of 60 bits. If you could read\noctal, you could look at a word as 20 digits. Two digits represented\nthe op code, and one digit identified one of 8 registers. During the\nslow transition from machine codes to high level languages, it was\nthought to be useful to provide octal forms in programming languages.In C, an extremely unfortunate representation of octalness was\nselected: Leading zero. So in C,0100means 64, not 100, and08is an\nerror, not 8. Even more unfortunately, this anachronism has been\ncopied into nearly all modern languages, including JavaScript, where\nit is only used to create errors. It has no other purpose. So in\nstrict mode, octal forms are no longer allowed.Et ceteraThe arguments pseudo array becomes a little bit more\narray-like in ES5. In strict mode, it loses itscalleeandcallerproperties. This makes it possible to pass yourargumentsto untrusted\ncode without giving up a lot of confidential context. Also, theargumentsproperty of functions is eliminated.In strict mode, duplicate keys in a function literal will produce a\nsyntax error. A function can’t have two parameters with the same name.\nA function can’t have a variable with the same name as one of its\nparameters. A function can’tdeleteits own variables. An attempt todeletea non-configurable property now throws an exception. Primitive\nvalues are not implicitly wrapped.Reserved words for future JavaScript versionsECMAScript 5 adds a list of reserved words. If you use them as variables or arguments, strict mode will throw an error. The reserved words are:implements,interface,let,package,private,protected,public,static, andyieldFurther ReadingStrict Mode - JavaScript | MDNBrowser support for strict modeTransitioning to strict modeShareImprove this answerFolloweditedMar 12, 2023 at 15:12Michael M.10.8k1111 gold badges2020 silver badges4040 bronze badgesansweredJan 29, 2016 at 11:35sampathsrissampathsris22.1k1212 gold badges7272 silver badges100100 bronze badges\n\nI strongly recommend every developer to start using strict mode now. There are enough browsers supporting it that strict mode will legitimately help save us from errors we didn’t even know were in your code.Apparently, at the initial stage there will be errors we have never encountered before. To get the full benefit, we need to do proper testing after switching to strict mode to make sure we have caught everything. Definitely we don’t just throwuse strictin our code and assume there are no errors. So the churn is that it’s time to start using this incredibly useful language feature to write better code.For example,var person = {\n    name : \'xyz\',\n    position : \'abc\',\n    fullname : function () {  ""use strict""; return this.name; }\n};JSLintis a debugger written by Douglas Crockford. Simply paste in your script, and it’ll quickly scan for any noticeable issues and errors in your code.ShareImprove this answerFolloweditedFeb 25, 2016 at 15:54Willi Mentzel29.4k2121 gold badges117117 silver badges125125 bronze badgesansweredJul 5, 2013 at 19:38PankPank14.1k1010 gold badges3333 silver badges4545 bronze badges\n\nI would like to offer a somewhat more founded answer complementing the other answers. I was hoping to edit the most popular answer, but failed. I tried to make it as comprehensive and complete as I could.You can refer to theMDN documentationfor more information.""use strict""a directive introduced in ECMAScript 5.Directives are similar to statements, yet different.use strictdoes not contain key words: The directive is a simple expression statement, which consists of a special string literal (in single or double quotes). JavaScript engines, that do not implement ECMAScript 5, merely see an expression statement without side effects. It is expected that future versions of ECMAScript standards introduceuseas a real key word; the quotes would thereby become obsolete.use strictcan be used only at the beginning of a script or of a function, i.e. it must precede every other (real) statement. It does not have to be the first instruction in a script of function: it can be preceded by other statement expressions that consist of string literals ( and JavaScript implementations can treat them as implementation specific directives). String literals statements, which follow a first real statement (in a script or function) are simple expression statements. Interpreters must not interpret them as directives and they have no effect.Theuse strictdirective indicates that the following code (in a script or a function) is strict code.\nThe code in the highest level of a script (code that is not in a function) is considered strict code when the script contains ause strictdirective.\nThe content of a function is considered strict code when the function itself is defined in a strict code or when the function contains ause strictdirective.\nCode that is passed to aneval()method is considered strict code wheneval()was called from a strict code or contains theuse strictdirective itself.The strict mode of ECMAScript 5 is a restricted subset of the JavaScript language, which eliminates relevant deficits of the language and features more stringent error checking and higher security. The following lists the differences between strict mode and normal mode (of which the first three are particularly important):You cannot use thewith-statement in strict mode.In strict mode all variables have to be declared: if you assign a value to an identifier that has not been declared as variable, function, function parameter, catch-clause parameter or property of the globalObject, then you will get aReferenceError. In normal mode the identifier is implicitly declared as a global variable (as a property of the globalObject)In strict mode the keywordthishas the valueundefinedin functions that were invoked as functions (not as methods). (In normal modethisalways points to the globalObject). This difference can be used to test if an implementation supports the strict mode:var hasStrictMode = (function() { ""use strict""; return this===undefined }());Also when a function is invoked withcall()orapplyin strict mode, thenthisis exactly the value of the first argument of thecall()orapply()invocation. (In normal modenullandundefinedare replaced by the globalObjectand values, which are not objects, are cast into objects.)In strict mode you will get aTypeError, when you try to assign to readonly properties or to define new properties for a non extensible object. (In normal mode both simply fail without error message.)In strict mode, when passing code toeval(), you cannot declare or define variables or functions in the scope of the caller (as you can do it in normal mode). Instead, a new scope is created foreval()and the variables and functions are within that scope. That scope is destroyed aftereval()finishes execution.In strict mode the arguments-object of a function contains a static copy of the values, which are passed to that function. In normal mode the arguments-object has a somewhat ""magical"" behaviour: The elements of the array and the named function parameters reference both the same value.In strict mode you will get aSyntaxErrorwhen thedeleteoperator is followed by a non qualified identifier (a variable, function or function parameter). In normal mode thedeleteexpression would do nothing and is evaluated tofalse.In strict mode you will get aTypeErrorwhen you try to delete a non configurable property. (In normal mode the attempt simply fails and thedeleteexpression is evaluated tofalse).In strict mode it is considered a syntactical error when you try to define several properties with the same name for an object literal. (In normal mode there is no error.)In strict mode it is considered a syntactical error when a function declaration has multiple parameters with the same name. (In normal mode there is no error.)In strict mode octal literals are not allowed (these are literals that start with0. (In normal mode some implementations do allow octal literals.)In strict mode the identifiersevalandargumentsare treated like keywords. You cannot change their value, cannot assign a value to them, and you cannot use them as names for variables, functions, function parameters or identifiers of a catch block.In strict mode are more restrictions on the possibilities to examine the call stack.arguments.callerandarguments.calleecause aTypeErrorin a function in strict mode. Furthermore, some caller- and arguments properties of functions in strict mode cause aTypeErrorwhen you try to read them.ShareImprove this answerFolloweditedOct 28, 2022 at 10:45Donald Duck8,7062323 gold badges7777 silver badges100100 bronze badgesansweredMay 15, 2015 at 6:58ElyEly11.1k55 gold badges4343 silver badges6767 bronze badges\n\nMy two cents:One of the goals of strict mode is to allow for faster debugging of issues. It helps the developers by throwing exception when certain wrong things occur that can cause silent & strange behaviour of your webpage. The moment we useuse strict, the code will throw out errors which helps developer to fix it in advance.Few important things which I have learned after usinguse strict:Prevents Global Variable Declaration:""use strict"";\nvar tree1Data = { name: \'Banana Tree\',age: 100,leafCount: 100000};\n\nfunction Tree(typeOfTree) {\n    var age;\n    var leafCount;\n\n    age = typeOfTree.age;\n    leafCount = typeOfTree.leafCount;\n    nameoftree = typeOfTree.name;\n};\n\nvar tree1 = new Tree(tree1Data);\nconsole.log(window);Now,this code createsnameoftreein global scope which could be accessed usingwindow.nameoftree. When we implementuse strictthe code would throw error.Uncaught ReferenceError: nameoftree is not definedEliminateswithstatement :withstatements can\'t be minified using tools likeuglify-js. They\'re alsodeprecatedand removed from future JavaScript versions.Sample:""use strict"";\nvar tree1Data = {\n    name: \'Banana Tree\',\n    age: 100,\n    leafCount: 100000\n};\n\nfunction Tree(typeOfTree) {\n    var age;\n    var leafCount;\n\n    age = typeOfTree.age;\n    leafCount = typeOfTree.leafCount;\n   // nameoftree = typeOfTree.name;\n\n    for (var i = 0; i < 2; ++i) {\n       // let(leafCount = i) { /*do something*/ }\n    }\n    for (var i = 0; i < 2; ++i) {\n        with(leafCount = i) { /*do something*/ }\n    }\n};\n\nvar tree1 = new Tree(tree1Data);\nconsole.log(window);Prevents Duplicates :When we have duplicate property, it throws an exceptionUncaught SyntaxError: Duplicate data property in object literal not\nallowed in strict mode""use strict"";\nvar tree1Data = {\n    name: \'Banana Tree\',\n    age: 100,\n    leafCount: 100000,\n    name:\'Banana Tree\'\n};There are few more but I need to gain more knowledge on that.ShareImprove this answerFolloweditedOct 28, 2022 at 14:41community wiki2 revs, 2 users 69%Shubh\n\nIf you use a browser released in the last year or so then it most likely supports JavaScript Strict mode. Only older browsers around before ECMAScript 5 became the current standard don\'t support it.The quotes around the command make sure that the code will still work in older browsers as well (although the things that generate a syntax error in strict mode will generally just cause the script to malfunction in some hard to detect way in those older browsers).ShareImprove this answerFollowansweredMar 10, 2012 at 3:31StephenStephen88566 silver badges22 bronze badges\n\nWhen adding""use strict"";, the following cases will throw aSyntaxErrorbefore the script is executing:Paving the way for future ECMAScript versions, using one of the newly reserved keywords (in prevision forECMAScript 6):implements,interface,let,package,private,protected,public,static, andyield.Declaring function in blocksif(a<b){ function f(){} }Octal syntaxvar n = 023;thispoint to the global object.function f() {\n      ""use strict"";\n      this.a = 1;\n };\n f();Declaring twice the same name for a property name in an object literal{a: 1, b: 3, a: 7}This is no longer the case in ECMAScript 6 (bug 1041128).Declaring two function arguments with the same name functionf(a, b, b){}Setting a value to an undeclared variablefunction f(x){\n   ""use strict"";\n   var a = 12;\n   b = a + x*35; // error!\n}\nf();Usingdeleteon a variable namedelete myVariable;Usingevalorargumentsas variable or function argument name""use strict"";\narguments++;\nvar obj = { set p(arguments) { } };\ntry { } catch (arguments) { }\nfunction arguments() { }Sources:Transitioning to strict modeon MDNStrict modeon MDNJavaScript’s Strict Mode and Why You Should Use Iton Colin J. Ihrig\'s blog (archived version)ShareImprove this answerFolloweditedOct 24, 2017 at 10:50Palec13.3k88 gold badges7474 silver badges141141 bronze badgesansweredDec 23, 2015 at 3:10zangwzangw47k2222 gold badges198198 silver badges233233 bronze badges\n\nStrict mode makes several changes to normal JavaScript semantics:eliminates some JavaScript silent errors by changing them\nto throw errors.fixes mistakes that make it difficult for JavaScript\nengines to perform optimizations.prohibits some syntax likely to be defined in future\nversions of ECMAScript.for more information vistitStrict Mode- JavascriptShareImprove this answerFolloweditedOct 29, 2014 at 17:34alexyorke4,28933 gold badges3535 silver badges5656 bronze badgesansweredMar 27, 2014 at 12:18Renganathan M GRenganathan M G5,18922 gold badges3232 silver badges3535 bronze badges\n\n""Use Strict""; is an insurance that programmer will not use the loose or the bad properties of JavaScript. It is a guide, just like a ruler will help you make straight lines. ""Use Strict"" will help you do ""Straight coding"".Those that prefer not to use rulers to do their lines straight usually end up in those pages asking for others to debug their code.Believe me. The overhead is negligible compared to poorly designed code.Doug Crockford, who has been a senior JavaScript developer for several years, has a very interesting post here. Personally, I like to return to his site all the time to make sure I don\'t forget my good practice.Modern JavaScript practice should always evoke the ""Use Strict""; pragma.The only reason that the ECMA Group has made the ""Strict"" mode optionalis to permit less experienced coders access to JavaScript and give then time to adapt to the new and safer coding practices.ShareImprove this answerFolloweditedOct 26, 2014 at 10:34Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMay 31, 2013 at 18:29user2436758user243675898966 silver badges33 bronze badges\n\nIncludinguse strictin the beginning of your all sensitive JavaScript files from this point is a small way to be a better JavaScript programmer and avoid random variables becoming global and things change silently.ShareImprove this answerFolloweditedFeb 25, 2016 at 15:55Willi Mentzel29.4k2121 gold badges117117 silver badges125125 bronze badgesansweredSep 5, 2014 at 12:53Purple DragonPurple Dragon5,08866 gold badges3434 silver badges3737 bronze badges\n\nQuoting from w3schools:The ""use strict"" DirectiveThe ""use strict"" directive is new in JavaScript 1.8.5 (ECMAScript\n  version 5).It is not a statement, but a literal expression, ignored by earlier\n  versions of JavaScript.The purpose of ""use strict"" is to indicate that the code should be\n  executed in ""strict mode"".With strict mode, you can not, for example, use undeclared variables.Why Strict Mode?Strict mode makes it easier to write ""secure"" JavaScript.Strict mode changes previously accepted ""bad syntax"" into real errors.As an example, in normal JavaScript, mistyping a variable name creates\n  a new global variable. In strict mode, this will throw an error,\n  making it impossible to accidentally create a global variable.In normal JavaScript, a developer will not receive any error feedback\n  assigning values to non-writable properties.In strict mode, any assignment to a non-writable property, a\n  getter-only property, a non-existing property, a non-existing\n  variable, or a non-existing object, will throw an error.Please refer tohttp://www.w3schools.com/js/js_strict.aspto know moreShareImprove this answerFolloweditedAug 13, 2018 at 3:15Shog9159k3535 gold badges234234 silver badges239239 bronze badgesansweredApr 29, 2015 at 10:10Heich-BHeich-B68211 gold badge66 silver badges1515 bronze badges\n\n""use strict""makes JavaScript code to run instrict mode, which basically means everything needs to be defined before use. The main reason for using strict mode is to avoid accidental global uses of undefined methods.Also in strict mode, things run faster, some warnings or silent warnings throw fatal errors, it\'s better to always use it to make a neater code.""use strict""is widely needed to be used in ECMA5,in ECMA6 it\'s part of JavaScript by default, so it doesn\'t need to be added if you\'re using ES6.Look at these statements and examples from MDN:The ""use strict"" DirectiveThe ""use strict"" directive is new in\n  JavaScript 1.8.5 (ECMAScript version 5). It is not a statement, but a\n  literal expression, ignored by earlier versions of JavaScript. The\n  purpose of ""use strict"" is to indicate that the code should be\n  executed in ""strict mode"". With strict mode, you can not, for example,\n  use undeclared variables.Examples of using ""use strict"":Strict mode for functions: Likewise, to invoke strict mode for a\n  function, put the exact statement ""use strict""; (or \'use strict\';) in\n  the function\'s body before any other statements.1) strict mode in functionsfunction strict() {\n     // Function-level strict mode syntax\n     \'use strict\';\n     function nested() { return \'And so am I!\'; }\n     return ""Hi!  I\'m a strict mode function!  "" + nested();\n }\n function notStrict() { return ""I\'m not strict.""; }\n\n console.log(strict(), notStrict());2) whole-script strict mode\'use strict\';\nvar v = ""Hi! I\'m a strict mode script!"";\nconsole.log(v);3) Assignment to a non-writable global\'use strict\';\n\n// Assignment to a non-writable global\nvar undefined = 5; // throws a TypeError\nvar Infinity = 5; // throws a TypeError\n\n// Assignment to a non-writable property\nvar obj1 = {};\nObject.defineProperty(obj1, \'x\', { value: 42, writable: false });\nobj1.x = 9; // throws a TypeError\n\n// Assignment to a getter-only property\nvar obj2 = { get x() { return 17; } };\nobj2.x = 5; // throws a TypeError\n\n// Assignment to a new property on a non-extensible object.\nvar fixed = {};\nObject.preventExtensions(fixed);\nfixed.newProp = \'ohai\'; // throws a TypeErrorYou canread more on MDN.ShareImprove this answerFolloweditedAug 30, 2018 at 15:16Palec13.3k88 gold badges7474 silver badges141141 bronze badgesansweredMay 22, 2017 at 12:38AlirezaAlireza103k2727 gold badges275275 silver badges173173 bronze badges\n\nThere\'s a good talk by some people who were on the ECMAScript committee:Changes to JavaScript, Part 1: ECMAScript 5""about how incremental use of the""use strict""switch allows JavaScript implementers to clean up a lot of the dangerous features of JavaScript without suddenly breaking every website in the world.Of course it also talks about just what a lot of those misfeatures are (were) and how ECMAScript 5 fixes them.ShareImprove this answerFolloweditedMar 29, 2014 at 19:39answeredMar 29, 2014 at 0:47FutureNerdFutureNerd79977 silver badges99 bronze badges\n\nSmall examples to compare:Non-strict mode:for (i of [1,2,3]) console.log(i)\r\n    \r\n// output:\r\n// 1\r\n// 2\r\n// 3Strict mode:\'use strict\';\r\nfor (i of [1,2,3]) console.log(i)\r\n\r\n// output:\r\n// Uncaught ReferenceError: i is not definedNon-strict mode:String.prototype.test = function () {\r\n  console.log(typeof this === \'string\');\r\n};\r\n\r\n\'a\'.test();\r\n\r\n// output\r\n// falseString.prototype.test = function () {\r\n  \'use strict\';\r\n  \r\n  console.log(typeof this === \'string\');\r\n};\r\n\r\n\'a\'.test();\r\n\r\n// output\r\n// trueShareImprove this answerFolloweditedNov 18, 2018 at 16:31answeredAug 21, 2016 at 21:43TânTân1\n\nNote thatuse strictwas introduced inEcmaScript 5and was kept since then.Below are the conditions to trigger strict mode inES6andES7:Global code is strict mode code if it begins with a Directive    Prologue that contains a Use Strict Directive (see 14.1.1).Module code is always strict mode code.All parts of aClassDeclarationor aClassExpressionare strict mode    code.Eval code is strict mode code if it begins with a Directive Prologue    that contains a Use Strict Directive or if the call to eval is a direct eval (see 12.3.4.1) that is contained in strict mode code.Function code is strict mode code if the associatedFunctionDeclaration, FunctionExpression, GeneratorDeclaration, GeneratorExpression, MethodDefinition, or ArrowFunctionis contained in strict mode code or if the code that produces the value of the function’s [[ECMAScriptCode]] internal slot begins with a Directive Prologue that contains a Use Strict Directive.Function code that is supplied as the arguments to the built-in    Function and Generator constructors is strict mode code if the last argument is a String that when processed is aFunctionBodythat begins with a Directive Prologue that contains a Use Strict Directive.ShareImprove this answerFollowansweredApr 12, 2016 at 0:25OriolOriol12.4k55 gold badges3737 silver badges3737 bronze badges\n\nThe main reasons why developers should use""use strict""are:Prevents accidental declaration of global variables.Using""use strict()""will make sure that variables are declared withvarbefore use. \nEg:function useStrictDemo(){\n \'use strict\';\n //works fine\n var a = \'No Problem\';\n\n //does not work fine and throws error\n k = ""problem""\n\n //even this will throw error\n someObject = {\'problem\': \'lot of problem\'};\n}N.B: The""use strict""directive is only recognized at the beginning of a script or a function.The string""arguments""cannot be used as a variable:""use strict"";\nvar arguments = 3.14;    // This will cause an errorWill restrict uses of keywords as variables. Trying to use them will throw errors.In short will make your code less error prone and in turn will make you write good code.To read more about it you can referhere.ShareImprove this answerFolloweditedJun 18, 2017 at 3:14answeredNov 18, 2016 at 9:53Pritam BanerjeePritam Banerjee18.7k1010 gold badges9595 silver badges110110 bronze badges\n\nuse strictis a way to make your code safer, because you can\'t use dangerous features that can work not as you expect. And, as was written before, it makes code more strict.ShareImprove this answerFolloweditedJan 13, 2020 at 14:56SethO2,78155 gold badges2828 silver badges3838 bronze badgesansweredMay 17, 2016 at 22:31IvanIvan34533 silver badges99 bronze badges\n\n""use strict""; is the ECMA effort to make JavaScript a little bit more robust. It brings in JS an attempt to make it at least a little ""strict"" (other languages implement strict rules since the 90s). It actually ""forces"" JavaScript developers to follow some sort of coding best practices.\nStill, JavaScript is very fragile. There is no such thing as typed variables, typed methods, etc.\nI strongly recommend JavaScript developers to learn a more robust language such as Java or ActionScript3, and implement the same best practices in your JavaScript code, it will work better and be easier to debug.ShareImprove this answerFolloweditedJun 14, 2016 at 23:18hologram52322 gold badges55 silver badges2121 bronze badgesansweredMay 3, 2016 at 12:59FilippoGFilippoG55633 silver badges1616 bronze badges\n\nJavaScript “strict” mode was introduced in ECMAScript 5.(function() {\n  ""use strict"";\n  your code...\n})();Writing""use strict"";at the very top of your JS file turns on strict\nsyntax checking. It does the following tasks for us:shows an error if you try to assign to an undeclared variablestops you from overwriting key JS system librariesforbids some unsafe or error-prone language featuresuse strictalso works inside of individual functions. It is always a better practice to includeuse strictin your code.Browser compatibility issue: \nThe ""use"" directives are meant to be backwards-compatible. Browsers that do not support them will just see a string literal that isn\'t referenced further. So, they will pass over it and move on.ShareImprove this answerFolloweditedFeb 6, 2019 at 9:40jkdev11.6k1515 gold badges5656 silver badges7979 bronze badgesansweredNov 11, 2016 at 5:40Rabin PanthaRabin Pantha9711010 silver badges1919 bronze badges\n\nUse Strict is used to show common and repeated errors so that it is handled differently , and changes the way java script runs , such changes are :Prevents accidental globalsNo duplicatesEliminates withEliminates this coercionSafer eval()Errors for immutablesyou can also read thisarticlefor the detailsShareImprove this answerFolloweditedOct 17, 2016 at 14:09answeredOct 17, 2016 at 13:59WesamWesam1,01233 gold badges1717 silver badges2727 bronze badges\n\nNormally, JavaScript does not follow strict rules, hence increasing chances of errors. After using""use strict"", the JavaScript code should follow strict set of rules as in other programming languages such as use of terminators, declaration before initialization, etc.If""use strict""is used, the code should be written by following a strict set of rules, hence decreasing the chances of errors and ambiguities.ShareImprove this answerFolloweditedJan 4, 2019 at 2:04Pang9,914146146 gold badges8585 silver badges123123 bronze badgesansweredNov 20, 2016 at 16:23Bikash ChapagainBikash Chapagain30022 silver badges1010 bronze badges\n\n""use strict""; Defines that JavaScript code should be executed in\n   ""strict mode"".The ""use strict"" directive was new in ECMAScript version 5.It is not a statement, but a literal expression, ignored by earlier\nversions of JavaScript.The purpose of ""use strict"" is to indicate that the code should be\nexecuted in ""strict mode"".With strict mode, you can not, for example, use undeclared variables.All modern browsers support ""use strict"" exceptInternet Explorer 9 and lower.DisadvantageIf a developer used a library that was in strict mode, but the developer was used to working in normal mode, they might call some actions on the library that wouldn’t work as expected.Worse, since the developer is in normal mode, they don’t have the advantages of extra errors being thrown, so the error might fail silently.Also, as listed above, strict mode stops you from doing certain things.People generally think that you shouldn’t use those things in the first place, but some developers don’t like the constraint and want to use all the features of the language.For basic example and for reference go through :https://www.tutorialsteacher.com/javascript/javascript-strictShareImprove this answerFolloweditedJul 19, 2019 at 12:01answeredJan 28, 2019 at 10:42AshishAshish2,0701818 silver badges2020 bronze badges\n\nJavaScript was designed and implemented hastily because of the browser wars and bad management. As a result many poor design decisions, un-intuitive syntax and confusing semantics found their way into the language. Strict mode aims to amend some of these mistakes.But fixing these mistakes without creating alternative interpretation breaks backward compatibility. So,""use strict""directive creates that alternative interpretation of the code while communicating it to the programmer.For example,thiskeywords refers to the object in a method definition, likethisorselfin other languages.let o = {\n  name: \'John Doe\',\n  sayName: function(){\n    console.log(this.name);\n  }\n};\n\no.sayName(); // \'John Doe\'thishas no purpose outside the method context but all JavaScript functions havethiskeyword whether they are methods or not:function run() {\n  console.log(this);\n}\n\nrun(); // WindowHerethisresolves to the global object which does not make sense and serves no purpose because global object is already available in the scope.In strict modethisin a global function resolves to undefined, which is what we expect.""use strict""\n\nfunction run() {\n  console.log(this);\n}\n\nrun(); // undefinedSome mistakes can not be fixed even in strict mode because syntax should be valid for older browsers since they ignore""strict mode""directive. This is by design.ShareImprove this answerFolloweditedMay 24, 2022 at 9:19answeredJul 25, 2021 at 7:14snnsnnsnnsnn12.9k44 gold badges4646 silver badges5353 bronze badges\n\nStrict mode can prevent memory leaks.Please check the function below written in non-strict mode:function getname(){\n    name = ""Stack Overflow""; // Not using var keyword\n    return name;\n}\ngetname();\nconsole.log(name); // Stack OverflowIn this function, we are using a variable callednameinside the function. Internally, the compiler will first check if there is any variable declared with that particular name in that particular function scope. Since the compiler understood that there is no such variable, it will check in the outer scope. In our case, it is the global scope. Again, the compiler understood that there is also no variable declared in the global space with that name, so it creates such a variable for us in the global space. Conceptually, this variable will be created in the global scope and will be available in the entire application.Another scenario is that, say, the variable is declared in a child function. In that case, the compiler checks the validity of that variable in the outer scope, i.e., the parent function. Only then it will check in the global space and create a variable for us there.\nThat means additional checks need to be done. This will affect the performance of the application.Now let\'s write the same function in strict mode.""use strict""\nfunction getname(){\n    name = ""Stack Overflow""; // Not using var keyword\n    return name;\n}\ngetname();\nconsole.log(name);We will get the following error.Uncaught ReferenceError: name is not defined\nat getname (<anonymous>:3:15)\nat <anonymous>:6:5Here, the compiler throws the reference error. In strict mode, the compiler does not allow us to use the variable without declaring it. So memory leaks can be prevented. In addition, we can write more optimized code.ShareImprove this answerFolloweditedJul 9, 2019 at 6:01Pang9,914146146 gold badges8585 silver badges123123 bronze badgesansweredJul 8, 2019 at 8:46Jerin K AlexanderJerin K Alexander30166 silver badges1717 bronze badges\n\nStrict mode eliminates errors that would be ignored in non-strict mode, thus making javascript “more secured”.Is it considered among best practices?Yes, It\'s considered part of the best practices while working with javascript to includeStrict mode. This is done by adding the below line of code in your JS file.\'use strict\';in your code.What does it mean to user agents?Indicating that code should be interpreted in strict mode specifies to user agents like browsers that they should treat code literally as written, and throw an error if the code doesn\'t make sense.For example:Consider in your.jsfile you have the following code:Scenario 1: [NO STRICT MODE]var city = ""Chicago""\nconsole.log(city) // Prints the city name, i.e. ChicagoScenario 2: [NO STRICT MODE]city = ""Chicago""\nconsole.log(city) // Prints the city name, i.e. ChicagoSo why does the variable name is being printed in both cases?Without strict mode turned on, user agents often go through a series of modifications to problematic code in an attempt to get it to make sense. On the surface, this can seem like a fine thing, and indeed, working outside of strict mode makes it possible for people to get their feet wet with JavaScript code without having all the details quite nailed down. However, as a developer, I don\'t want to leave a bug in my code, because I know it could come back and bite me later on, and I also just want to write good code. And that\'s where strict mode helps out.Scenario 3: [STRICT MODE]\'use strict\';\n\ncity = ""Chicago""\nconsole.log(city) // Reference Error: asignment is undeclared variable city.Additional tip:To maintain code quality using strict mode, you don\'t need to write this over and again especially if you have multiple.jsfile. You can enforce this rule globally ineslintrules as follows:Filename:.eslintrc.jsmodule.exports = {\n    env: {\n        es6: true\n    },\n    rules : {\n        strict: [\'error\', \'global\'],\n        },\n    };Okay, so what is prevented in strict mode?Using a variable without declaring itwill throw an error in strict mode. This is to prevent unintentionally creating global variables throughout your application. The example with printing Chicago covers this in particular.Deleting a variable or a function or an argumentis a no-no in strict mode.""use strict"";\n function x(p1, p2) {}; \n delete x; // This will cause an errorDuplicating a parameter nameisnotallowed in strict mode.""use strict"";\n function x(p1, p1) {};   // This will cause an errorReserved words in the Javascript language are not allowedin strict mode. The words are implements interface, let, packages, private, protected, public. static, and yieldFor a more comprehensive list check out the MDN documentation here:https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Strict_modeShareImprove this answerFollowansweredJul 10, 2020 at 7:21shubermanshuberman1,46666 gold badges2323 silver badges3939 bronze badges\n\nstrict mode enables strict features in the v8 engine. Short example of some features:You can enable it globally by writing:\'use strict\'; // strict mode enabled!Per function you just include in function:let myfunc = () => {\n  \'use strict\'; // strict mode enabled\n  \n   b = 0; // broke\n}You MUST declare a variable before using it (sane imo):var x;\n  x = \'0\'; // ok\n  y = \'\';  // not okes6 features are enabled (this is browser dependent), for node v4+ this is important.Performance, in some cases, is better.There are more features as well, checkherefor more!ShareImprove this answerFollowansweredJun 20, 2022 at 22:36Amin AzimiAmin Azimi71999 silver badges2525 bronze badges'}","{'title': 'Does Python have a ternary conditional operator?', 'question': 'Want to improve this post?Provide detailed answers to this question, including citations and an explanation of why your answer is correct. Answers without enough detail may be edited or deleted.Is there aternary conditional operatorin Python?pythonoperatorsconditional-operatorShareImprove this questionFolloweditedJun 6, 2022 at 2:52Mateen Ulhaq26.6k2020 gold badges115115 silver badges147147 bronze badgesaskedDec 27, 2008 at 8:32DevotedDevoted181k4343 gold badges9292 silver badges111111 bronze badges', 'answers': 'Yes, it wasaddedin version 2.5. The expression syntax is:a if condition else bFirstconditionis evaluated, then exactly one of eitheraorbis evaluated and returned based on theBooleanvalue ofcondition. Ifconditionevaluates toTrue, thenais evaluated and returned butbis ignored, or else whenbis evaluated and returned butais ignored.This allows short-circuiting because whenconditionis true onlyais evaluated andbis not evaluated at all, but whenconditionis false onlybis evaluated andais not evaluated at all.For example:>>> \'true\' if True else \'false\'\n\'true\'\n>>> \'true\' if False else \'false\'\n\'false\'Note that conditionals are anexpression, not astatement. This means you can\'t usestatementssuch aspass, or assignments with=(or ""augmented"" assignments like+=), within a conditionalexpression:>>> pass if False else pass\n  File ""<stdin>"", line 1\n    pass if False else pass\n         ^\nSyntaxError: invalid syntax\n\n>>> # Python parses this as `x = (1 if False else y) = 2`\n>>> # The `(1 if False else x)` part is actually valid, but\n>>> # it can\'t be on the left-hand side of `=`.\n>>> x = 1 if False else y = 2\n  File ""<stdin>"", line 1\nSyntaxError: cannot assign to conditional expression\n\n>>> # If we parenthesize it instead...\n>>> (x = 1) if False else (y = 2)\n  File ""<stdin>"", line 1\n    (x = 1) if False else (y = 2)\n       ^\nSyntaxError: invalid syntax(In 3.8 and above, the:=""walrus"" operator allows simple assignment of valuesas an expression, which is then compatible with this syntax. But please don\'t write code like that; it will quickly become very difficult to understand.)Similarly, because it is an expression, theelsepart ismandatory:# Invalid syntax: we didn\'t specify what the value should be if the \n# condition isn\'t met. It doesn\'t matter if we can verify that\n# ahead of time.\na if TrueYou can, however, use conditional expressions to assign a variable like so:x = a if True else bOr for example to return a value:# Of course we should just use the standard library `max`;\n# this is just for demonstration purposes.\ndef my_max(a, b):\n    return a if a > b else bThink of the conditional expression as switching between two values. We can use it when we are in a \'one value or another\' situation, where we willdo the same thingwith the result, regardless of whether the condition is met. We use the expression to compute the value, and then do something with it. If you need todo something differentdepending on the condition, then use a normalifstatementinstead.Keep in mind that it\'s frowned upon by some Pythonistas for several reasons:The order of the arguments is different from those of the classiccondition ? a : bternary operator from many other languages (such asC,C++,Go,Perl,Ruby,Java,JavaScript, etc.), which may lead to bugs when people unfamiliar with Python\'s ""surprising"" behaviour use it (they may reverse the argument order).Some find it ""unwieldy"", since it goes contrary to the normal flow of thought (thinking of the condition first and then the effects).Stylistic reasons. (Although the \'inlineif\' can bereallyuseful, and make your script more concise, it really does complicate your code)If you\'re having trouble remembering the order, then remember that when read aloud, you (almost) say what you mean. For example,x = 4 if b > 8 else 9is read aloud asx will be 4 if b is greater than 8 otherwise 9.Official documentation:Conditional expressionsIs there an equivalent of C’s ”?:” ternary operator?ShareImprove this answerFolloweditedAug 27, 2022 at 5:10Karl Knechtel61.1k1313 gold badges118118 silver badges165165 bronze badgesansweredDec 27, 2008 at 8:44Vinko Vrsalovic♦Vinko Vrsalovic337k5555 gold badges338338 silver badges374374 bronze badges\n\nYou can index into a tuple:(falseValue, trueValue)[test]testneeds to returnTrueorFalse.It might be safer to always implement it as:(falseValue, trueValue)[test == True]or you can use the built-inbool()to assure aBooleanvalue:(falseValue, trueValue)[bool(<expression>)]ShareImprove this answerFolloweditedOct 17, 2015 at 7:35jesterjunk2,4022323 silver badges1818 bronze badgesansweredJan 22, 2009 at 18:58Landon KuhnLandon Kuhn77.8k4545 gold badges107107 silver badges130130 bronze badges\n\nFor versions prior to 2.5, there\'s the trick:[expression] and [on_true] or [on_false]It can give wrong results whenon_truehas a false Boolean value.1Although it does have the benefit of evaluating expressions left to right, which is clearer in my opinion.1.Is there an equivalent of C’s ”?:” ternary operator?ShareImprove this answerFolloweditedFeb 6, 2022 at 12:19Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredDec 27, 2008 at 10:48James BradyJames Brady27.3k88 gold badges5252 silver badges6060 bronze badges\n\n<expression 1>if<condition>else<expression 2>a = 1\nb = 2\n\n1 if a > b else -1 \n# Output is -1\n\n1 if a > b else -1 if a < b else 0\n# Output is -1ShareImprove this answerFolloweditedMay 15, 2019 at 15:03Ed The \'\'Pro\'\'9391111 silver badges2222 bronze badgesansweredMay 27, 2010 at 7:56Simon KleeSimon Klee7,34733 gold badges2222 silver badges1111 bronze badges\n\nFromthe documentation:Conditional expressions (sometimes called a “ternary operator”) have the lowest priority of all Python operations.The expressionx if C else yfirst evaluates the condition,C(not x); ifCis true,xis evaluated and its value is returned; otherwise,yis evaluated and its value is returned.SeePEP 308for more details about conditional expressions.New since version 2.5.ShareImprove this answerFolloweditedOct 17, 2015 at 7:43jesterjunk2,4022323 silver badges1818 bronze badgesansweredDec 27, 2008 at 8:44Michael BurrMichael Burr338k5050 gold badges546546 silver badges768768 bronze badges\n\nAn operator for a conditional expression in Python was added in 2006 as part ofPython Enhancement Proposal 308. Its form differs from common?:operator and it looks like this:<expression1> if <condition> else <expression2>which is equivalent to:if <condition>: <expression1> else: <expression2>Here is an example:result = x if a > b else yAnother syntax which can be used (compatible with versions before 2.5):result = (lambda:y, lambda:x)[a > b]()where operands arelazily evaluated.Another way is by indexing a tuple (which isn\'t consistent with the conditional operator of most other languages):result = (y, x)[a > b]or explicitly constructed dictionary:result = {True: x, False: y}[a > b]Another (less reliable), but simpler method is to useandandoroperators:result = (a > b) and x or yhowever this won\'t work ifxwould beFalse.A possible workaround is to makexandylists or tuples as in the following:result = ((a > b) and [x] or [y])[0]or:result = ((a > b) and (x,) or (y,))[0]If you\'re working with dictionaries, instead of using a ternary conditional, you can take advantage ofget(key, default), for example:shell = os.environ.get(\'SHELL\', ""/bin/sh"")Source:?: in Python at WikipediaShareImprove this answerFolloweditedJan 18, 2023 at 14:50Marc Sances2,51911 gold badge2020 silver badges3434 bronze badgesansweredMay 5, 2015 at 12:00kenorbkenorb163k9393 gold badges697697 silver badges763763 bronze badges\n\nUnfortunately, the(falseValue, trueValue)[test]solution doesn\'t have short-circuit behaviour; thus bothfalseValueandtrueValueare evaluated regardless of the condition. This could be suboptimal or even buggy (i.e. bothtrueValueandfalseValuecould be methods and have side effects).One solution to this would be(lambda: falseValue, lambda: trueValue)[test]()(execution delayed until the winner is known ;)), but it introduces inconsistency between callable and non-callable objects. In addition, it doesn\'t solve the case when using properties.And so the story goes - choosing between three mentioned solutions is a trade-off between having the short-circuit feature, using at least Python 2.5 (IMHO, not a problem anymore) and not being prone to ""trueValue-evaluates-to-false"" errors.ShareImprove this answerFolloweditedFeb 6, 2022 at 12:22Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredDec 6, 2009 at 11:51gorskygorsky2,30211 gold badge1616 silver badges2222 bronze badges\n\nFor Python 2.5 and newer there is a specific syntax:[on_true] if [cond] else [on_false]In older Pythons, a ternary operator is not implemented but it\'s possible to simulate it.cond and on_true or on_falseThough there is a potential problem, which is ifcondevaluates toTrueandon_trueevaluates toFalsethenon_falseis returned instead ofon_true. If you want this behaviour the method is OK, otherwise use this:{True: on_true, False: on_false}[cond is True] # is True, not == Truewhich can be wrapped by:def q(cond, on_true, on_false)\n    return {True: on_true, False: on_false}[cond is True]and used this way:q(cond, on_true, on_false)It is compatible with all Python versions.ShareImprove this answerFolloweditedJan 17, 2023 at 10:07enslaved_programmer26622 silver badges1212 bronze badgesansweredApr 25, 2012 at 11:40PaoloPaolo20.7k2121 gold badges7474 silver badges117117 bronze badges\n\nYou might often findcond and on_true or on_falsebut this leads to a problem when on_true == 0>>> x = 0\n>>> print x == 0 and 0 or 1\n1\n>>> x = 1\n>>> print x == 0 and 0 or 1\n1Where you would expect this result for a normal ternary operator:>>> x = 0\n>>> print 0 if x == 0 else 1\n0\n>>> x = 1\n>>> print 0 if x == 0 else 1\n1ShareImprove this answerFolloweditedApr 1, 2022 at 17:25Javad2,06933 gold badges1313 silver badges2525 bronze badgesansweredJan 14, 2013 at 15:56Benoit BertholonBenoit Bertholon74555 silver badges44 bronze badges\n\nDoes Python have a ternary conditional operator?Yes. From thegrammar file:test: or_test [\'if\' or_test \'else\' test] | lambdefThe part of interest is:or_test [\'if\' or_test \'else\' test]So, a ternary conditional operation is of the form:expression1 if expression2 else expression3expression3will be lazily evaluated (that is, evaluated only ifexpression2is false in a boolean context). And because of the recursive definition, you can chain them indefinitely (though it may considered bad style.)expression1 if expression2 else expression3 if expression4 else expression5 # and so onA note on usage:Note that everyifmust be followed with anelse. People learning list comprehensions and generator expressions may find this to be a difficult lesson to learn - the following will not work, as Python expects a third expression for an else:[expression1 if expression2 for element in iterable]\n#                          ^-- need an else herewhich raises aSyntaxError: invalid syntax.\nSo the above is either an incomplete piece of logic (perhaps the user expects a no-op in the false condition) or what may be intended is to useexpression2as a filter - notes that the following is legal Python:[expression1 for element in iterable if expression2]expression2works as a filter for the list comprehension, and isnota ternary conditional operator.Alternative syntax for a more narrow case:You may find it somewhat painful to write the following:expression1 if expression1 else expression2expression1will have to be evaluated twice with the above usage. It can limit redundancy if it is simply a local variable. However, a common and performant Pythonic idiom for this use-case is to useor\'s shortcutting behavior:expression1 or expression2which is equivalent in semantics. Note that some style-guides may limit this usage on the grounds of clarity - it does pack a lot of meaning into very little syntax.ShareImprove this answerFolloweditedApr 1, 2022 at 17:30Javad2,06933 gold badges1313 silver badges2525 bronze badgesansweredNov 17, 2015 at 19:14Aaron Hall♦Aaron Hall388k9191 gold badges409409 silver badges336336 bronze badges\n\nOne of the alternatives to Python\'sconditional expression""yes"" if boolean else ""no""is the following:{True: ""yes"", False: ""no""}[boolean]which has the following nice extension:{True: ""yes"", False: ""no"", None: ""maybe""}[boolean_or_none]The shortest alternative remains(""no"", ""yes"")[boolean]which works becauseissubclass(bool, int).Careful, though: the alternative toyes() if boolean else no()isnot(no(), yes())[boolean]  # bad: BOTH no() and yes() are calledbut(no, yes)[boolean]()This works fine as long asnoandyesare to be called with exactly the same parameters. If they are not, like inyes(""ok"") if boolean else no()  # (1)or inyes(""ok"") if boolean else no(""sorry"")  # (2)then a similar alternative either does not exist (1) or is hardly viable (2). (In rare cases, depending on the context, something likemsg = (""sorry"", ""ok"")[boolean]\n(no, yes)[boolean](msg)could make sense.)Thanks to Radek Rojík for his commentAddendum:A special case of boolean indexing is when you need a single character. E.g.:sign = \'+-\'[n < 0]And finally, the plurals:print(f""total: {n} item{\'s\'[n==1:]}"")ShareImprove this answerFolloweditedMar 27 at 23:34answeredFeb 9, 2019 at 18:23Walter TrossWalter Tross12.5k33 gold badges4141 silver badges6868 bronze badges\n\nAs already answered, yes, there is a ternary operator in Python:<expression 1> if <condition> else <expression 2>In many cases<expression 1>is also used as Boolean evaluated<condition>. Then you can useshort-circuit evaluation.a = 0\nb = 1\n\n# Instead of this:\nx = a if a else b\n# Evaluates as \'a if bool(a) else b\'\n\n# You could use short-circuit evaluation:\nx = a or bOne big pro of short-circuit evaluation is the possibility of chaining more than two expressions:x = a or b or c or d or eWhen working with functions it is more different in detail:# Evaluating functions:\ndef foo(x):\n    print(\'foo executed\')\n    return x\n\n\ndef bar(y):\n    print(\'bar executed\')\n    return y\n\n\ndef blubb(z):\n    print(\'blubb executed\')\n    return z\n\n\n# Ternary Operator expression 1 equals to False\nprint(foo(0) if foo(0) else bar(1))\n\'\'\' foo and bar are executed once\nfoo executed\nbar executed\n1\n\'\'\'\n\n# Ternary Operator expression 1 equals to True\nprint(foo(2) if foo(2) else bar(3))\n\'\'\' foo is executed twice!\nfoo executed\nfoo executed\n2\n\'\'\'\n\n# Short-circuit evaluation second equals to True\nprint(foo(0) or bar(1) or blubb(2))\n\'\'\' blubb is not executed\nfoo executed\nbar executed\n1\n\'\'\'\n\n# Short-circuit evaluation third equals to True\nprint(foo(0) or bar(0) or blubb(2))\n\'\'\'\nfoo executed\nbar executed\nblubb executed\n2\n\'\'\'\n\n# Short-circuit evaluation all equal to False\nprint(foo(0) or bar(0) or blubb(0))\n\'\'\' Result is 0 (from blubb(0)) because no value equals to True\nfoo executed\nbar executed\nblubb executed\n0\n\'\'\'PS: Of course, a short-circuit evaluation is not a ternary operator, but often the ternary is used in cases where the short circuit would be enough. It has a better readability and can be chained.ShareImprove this answerFolloweditedFeb 6, 2022 at 13:28Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredOct 16, 2019 at 8:37FrankFrank1,9991414 silver badges2727 bronze badges\n\nSimulating the Python ternary operator.For examplea, b, x, y = 1, 2, \'a greather than b\', \'b greater than a\'\nresult = (lambda:y, lambda:x)[a > b]()Output:\'b greater than a\'ShareImprove this answerFolloweditedFeb 6, 2022 at 12:25Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredNov 20, 2013 at 10:44Sasikiran VaddiSasikiran Vaddi2,28955 gold badges2525 silver badges2929 bronze badges\n\na if condition else bJust memorize this pyramid if you have trouble remembering:condition\n  if           else\na                   bShareImprove this answerFollowansweredDec 6, 2018 at 14:45shivtejshivtej65399 silver badges1818 bronze badges\n\nVinko Vrsalovic\'s answeris good enough. There is only one more thing:Note that conditionals are anexpression, not astatement. This means you can\'t use assignment statements orpassor otherstatementswithin a conditionalexpressionWalrus operator in Python 3.8After thewalrus operatorwas introduced in Python 3.8, something changed.(a := 3) if True else (b := 5)givesa = 3andb is not defined,(a := 3) if False else (b := 5)givesa is not definedandb = 5, andc = (a := 3) if False else (b := 5)givesc = 5,a is not definedandb = 5.Even if this may be ugly,assignmentscan be doneinsideconditional expressions after Python 3.8. Anyway, it is still better to use normalifstatementinstead in this case.ShareImprove this answerFolloweditedFeb 6, 2022 at 13:36Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredDec 23, 2020 at 10:01David ChungDavid Chung51666 silver badges1111 bronze badges\n\nThe ternary conditional operator simply allows testing a condition in a single line replacing the multiline if-else making the code compact.Syntax:[on_true] if [expression] else [on_false]1- Simple Method to use ternary operator:# Program to demonstrate conditional operator\na, b = 10, 20\n# Copy value of a in min if a < b else copy b\nmin = a if a < b else b\nprint(min)  # Output: 102- Direct Method of using tuples, Dictionary, and lambda:# Python program to demonstrate ternary operator\na, b = 10, 20\n# Use tuple for selecting an item\nprint( (b, a) [a < b] )\n# Use Dictionary for selecting an item\nprint({True: a, False: b} [a < b])\n# lambda is more efficient than above two methods\n# because in lambda  we are assure that\n# only one expression will be evaluated unlike in\n# tuple and Dictionary\nprint((lambda: b, lambda: a)[a < b]()) # in output you should see three 103- Ternary operator can be written as nested if-else:# Python program to demonstrate nested ternary operator\na, b = 10, 20\nprint (""Both a and b are equal"" if a == b else ""a is greater than b""\n        if a > b else ""b is greater than a"")Above approach can be written as:# Python program to demonstrate nested ternary operator\na, b = 10, 20\nif a != b:\n    if a > b:\n        print(""a is greater than b"")\n    else:\n        print(""b is greater than a"")\nelse:\n    print(""Both a and b are equal"")\n# Output: b is greater than aShareImprove this answerFolloweditedFeb 6, 2022 at 13:11Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredApr 4, 2018 at 14:02Ali HallajiAli Hallaji4,19233 gold badges3232 silver badges3838 bronze badges\n\nYou can do this:[condition] and [expression_1] or [expression_2];Example:print(number%2 and ""odd"" or ""even"")This would print ""odd"" if the number is odd or ""even"" if the number is even.The result:If condition is true, exp_1 is executed, else exp_2 is executed.Note:0, None, False, emptylist, and emptyString evaluates as False.And any data other than 0 evaluates to True.Here\'s how it works:If the condition [condition] becomes ""True"", then expression_1 will be evaluated, but not expression_2.If we ""and"" something with 0 (zero), the result will always to be false. So in the below statement,0 and expThe expressionexpwon\'t be evaluated at all since ""and"" with 0 will always evaluate to zero and there is no need to evaluate the expression. This is how the compiler itself works, in all languages.In1 or expthe expressionexpwon\'t be evaluated at all since ""or"" with 1 will always be 1. So it won\'t bother to evaluate the expression exp since the result will be 1 anyway (compiler optimization methods).But in case ofTrue and exp1 or exp2The second expression exp2 won\'t be evaluated sinceTrue and exp1would be True when exp1 isn\'t false.Similarly inFalse and exp1 or exp2The expressionexp1won\'t be evaluated since False is equivalent to writing 0 and doing ""and"" with 0 would be 0 itself, but after exp1 since ""or"" is used, it will evaluate the expression exp2 after ""or"".Note:-This kind of branching using ""or"" and ""and"" can only be used when the expression_1 doesn\'t have a Truth value of False (or 0 or None or emptylist [ ] or emptystring \' \'.) since if expression_1 becomes False, then the expression_2 will be evaluated because of the presence ""or"" between exp_1 and exp_2.In case you still want to make it work for all the cases regardless of what exp_1 and exp_2 truth values are, do this:[condition] and ([expression_1] or 1) or [expression_2];ShareImprove this answerFolloweditedFeb 6, 2022 at 12:43Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredAug 20, 2017 at 7:31Natesh bhatNatesh bhat12.9k1212 gold badges9090 silver badges131131 bronze badges\n\nMore a tip than an answer (I don\'t need to repeat the obvious for the hundredth time), but I sometimes use it as a one-liner shortcut in such constructs:if conditionX:\n    print(\'yes\')\nelse:\n    print(\'nah\'), becomes:print(\'yes\') if conditionX else print(\'nah\')Some (many :) may frown upon it as unpythonic (even, Ruby-ish :), but I personally find it more natural - i.e., how you\'d express it normally, plus a bit more visually appealing in large blocks of code.ShareImprove this answerFolloweditedFeb 6, 2022 at 12:30Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMay 11, 2016 at 7:13Todor MinakovTodor Minakov19.8k33 gold badges5757 silver badges6262 bronze badges\n\nMany programming languages derived fromCusually have the following syntax of the ternary conditional operator:<condition> ? <expression1> : <expression2>At first, the Python\'sbenevolent dictator for life(I meanGuido van Rossum, of course) rejected it (as non-Pythonic style), since it\'s quite hard to understand for people not used to C language. Also, the colon sign:already has many uses in Python. AfterPEP 308was approved, Python finally received its own shortcut conditional expression (what we use now):<expression1> if <condition> else <expression2>So, firstly it evaluates the condition. If it returnsTrue,expression1will be evaluated to give the result, otherwiseexpression2will be evaluated. Due tolazy evaluationmechanics – only one expression will be executed.Here are some examples (conditions will be evaluated from left to right):pressure = 10\nprint(\'High\' if pressure < 20 else \'Critical\')\n\n# Result is \'High\'Ternary operators can be chained in series:pressure = 5\nprint(\'Normal\' if pressure < 10 else \'High\' if pressure < 20 else \'Critical\')\n\n# Result is \'Normal\'The following one is the same as previous one:pressure = 5\n\nif pressure < 20:\n    if pressure < 10:\n        print(\'Normal\')\n    else:\n        print(\'High\')\nelse:\n    print(\'Critical\')\n\n# Result is \'Normal\'ShareImprove this answerFolloweditedFeb 6, 2022 at 12:57Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredDec 25, 2018 at 13:04Andy JazzAndy Jazz55.4k1818 gold badges152152 silver badges240240 bronze badges\n\nYes, Python have a ternary operator, here is the syntax and an example code to demonstrate the same :)#[On true] if [expression] else[On false]\n# if the expression evaluates to true then it will pass On true otherwise On false\n\na = input(""Enter the First Number "")\nb = input(""Enter the Second Number "")\n\nprint(""A is Bigger"") if a>b else print(""B is Bigger"")ShareImprove this answerFolloweditedFeb 6, 2022 at 12:52Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredOct 21, 2018 at 20:14realmanusharmarealmanusharma34022 silver badges1010 bronze badges\n\nOther answers correctly talk about the Python ternary operator. I would like to complement by mentioning a scenario for which the ternary operator is often used, but for which there is a better idiom. This is the scenario of using a default value.Suppose we want to useoption_valuewith a default value if it is not set:run_algorithm(option_value if option_value is not None else 10)or, ifoption_valueis never set to a falsy value (0,"""", etc.), simplyrun_algorithm(option_value if option_value else 10)However, in this case an ever better solution is simply to writerun_algorithm(option_value or 10)ShareImprove this answerFolloweditedFeb 6, 2022 at 13:31Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMay 19, 2020 at 16:47user118967user1189675,58866 gold badges3838 silver badges6161 bronze badges\n\nThe syntax for the ternary operator in Python is:[on_true] if [expression] else [on_false]Using that syntax, here is how we would rewrite the code above using Python’s ternary operator:game_type = \'home\'\nshirt = \'white\' if game_type == \'home\' else \'green\'It\'s still pretty clear, but much shorter. Note that the expression could be any type of expression, including a function call, that returns a value that evaluates to True or False.ShareImprove this answerFollowansweredApr 10, 2022 at 17:39George ImerlishviliGeorge Imerlishvili1,94822 gold badges1414 silver badges2323 bronze badges\n\nPython has a ternary form for assignments; however there may be even a shorter form that people should be aware of.It\'s very common to need to assign to a variable one value or another depending on a condition.>>> li1 = None\n>>> li2 = [1, 2, 3]\n>>>\n>>> if li1:\n...     a = li1\n... else:\n...     a = li2\n...\n>>> a\n[1, 2, 3]^ This is the long form for doing such assignments.Below is the ternary form. But this isn\'t the most succinct way - see the last example.>>> a = li1 if li1 else li2\n>>>\n>>> a\n[1, 2, 3]\n>>>With Python, you can simply useorfor alternative assignments.>>> a = li1 or li2\n>>>\n>>> a\n[1, 2, 3]\n>>>The above works sinceli1isNoneand the interpreter treats that as False in logic expressions. The interpreter then moves on and evaluates the second expression, which is notNoneand it\'s not an empty list - so it gets assigned toa.This also works with empty lists. For instance, if you want to assignawhichever list has items.>>> li1 = []\n>>> li2 = [1, 2, 3]\n>>>\n>>> a = li1 or li2\n>>>\n>>> a\n[1, 2, 3]\n>>>Knowing this, you can simplify such assignments whenever you encounter them. This also works with strings and other iterables. You could assignawhichever string isn\'t empty.>>> s1 = \'\'\n>>> s2 = \'hello world\'\n>>>\n>>> a = s1 or s2\n>>>\n>>> a\n\'hello world\'\n>>>I always liked the C ternary syntax, but Python takes it a step further!I understand that some may say this isn\'t a good stylistic choice, because it relies on mechanics that aren\'t immediately apparent to all developers. I personally disagree with that viewpoint. Python is a syntax-rich language with lots of idiomatic tricks that aren\'t immediately apparent to the dabbler. But the more you learn and understand the mechanics of the underlying system, the more you appreciate it.ShareImprove this answerFolloweditedMay 6 at 15:18TylerH21.1k7272 gold badges7878 silver badges105105 bronze badgesansweredMar 11, 2020 at 6:49ToddTodd5,14511 gold badge2323 silver badges3131 bronze badges\n\nPythonic way of doing the things:""true"" if var else ""false""But there always exists a different way of doing a ternary condition too:""true"" and var or ""false""ShareImprove this answerFolloweditedFeb 6, 2022 at 13:55Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredDec 29, 2021 at 18:53Franz GastringFranz Gastring1,13022 gold badges1515 silver badges1414 bronze badges\n\nThere are multiple ways. The simplest one is to use the condition inside the ""print"" method.You can useprint(""Twenty"" if number == 20 else ""Not twenty"")Which is equivalent to:if number == 20:\n    print(""Twenty"")\nelse:\n    print(""Not twenty"")In this way, more than two statements are also possible to print. For example:if number == 20:\n    print(""Twenty"")\nelif number < 20:\n    print(""Lesser"")\nelif 30 > number > 20:\n    print(""Between"")\nelse:\n    print(""Greater"")can be written as:print(""Twenty"" if number == 20 else ""Lesser"" if number < 20 else ""Between"" if 30 > number > 20 else ""Greater"")ShareImprove this answerFollowansweredFeb 6, 2022 at 13:46Aldrin Saurov SarkerAldrin Saurov Sarker21311 silver badge1414 bronze badges\n\nTheif else-ifversion can be written as:sample_set=""train"" if ""Train"" in full_path else (""test"" if ""Test"" in full_path else ""validation"")ShareImprove this answerFolloweditedFeb 6, 2022 at 13:56Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredFeb 1, 2022 at 13:23DevLoverUmarDevLoverUmar13.4k1313 gold badges7474 silver badges105105 bronze badges\n\nYes, it has, but it\'s different from C-syntax-like programming languages (which iscondition ? value_if_true : value_if_falseIn Python, it goes like this:value_if_true if condition else value_if_falseExample:even_or_odd = ""even"" if x % 2 == 0 else ""odd""ShareImprove this answerFollowansweredFeb 16, 2022 at 23:09Heroes Of BalkanHeroes Of Balkan7111 bronze badge\n\nA neat way to chain multiple operators:f = lambda x,y: \'greater\' if x > y else \'less\' if y > x else \'equal\'\n\narray = [(0,0),(0,1),(1,0),(1,1)]\n\nfor a in array:\n  x, y = a[0], a[1]\n  print(f(x,y))\n\n# Output is:\n#   equal,\n#   less,\n#   greater,\n#   equalShareImprove this answerFollowansweredMay 12, 2019 at 13:03Yaakov BresslerYaakov Bressler11.1k33 gold badges5656 silver badges8282 bronze badges\n\nI find the default Python syntaxval = a if cond else bcumbersome, so sometimes I do this:iif = lambda (cond, a, b): a if cond else b\n# So I can then use it like:\nval = iif(cond, a, b)Of course, it has the downside of always evaluating both sides (aandb), but the syntax is way clearer to me.ShareImprove this answerFolloweditedFeb 6, 2022 at 13:30Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMar 26, 2020 at 21:59Baruc AlmaguerBaruc Almaguer15111 gold badge11 silver badge99 bronze badges\n\nI have data coming from a device as a string and leaving it as a rebuild string. Conditional expression need to be limited by (). This allow to have multiple conditions to build the string in one line. If not it seems like whatever after the ""else"" will be accounted.d0 = ""-679 58 1029""\n    d1 = d0.split("" "")\n\n    strg = (d1[0][:-2] if len(d1[0])>= 3 else ""0"") + "" "" +d1[0][-2:]+ "" ""+ (d1[1][:-2] if len(d1[1])>= 3 else ""0"") + "" "" + d1[1][-2:] + "" "" +d1[2]\n    print(strg)ShareImprove this answerFollowansweredFeb 13, 2023 at 14:45user5128720user5128720'}","{'title': 'Why is subtracting these two epoch-milli Times (in year 1927) giving a strange result?', 'question': 'If I run the following program, which parses two date strings referencing times 1 second apart and compares them:public static void main(String[] args) throws ParseException {\n    SimpleDateFormat sf = new SimpleDateFormat(""yyyy-MM-dd HH:mm:ss"");  \n    String str3 = ""1927-12-31 23:54:07"";  \n    String str4 = ""1927-12-31 23:54:08"";  \n    Date sDt3 = sf.parse(str3);  \n    Date sDt4 = sf.parse(str4);  \n    long ld3 = sDt3.getTime() /1000;  \n    long ld4 = sDt4.getTime() /1000;\n    System.out.println(ld4-ld3);\n}The output is:353Why isld4-ld3, not1(as I would expect from the one-second difference in the times), but353?If I change the dates to times 1 second later:String str3 = ""1927-12-31 23:54:08"";  \nString str4 = ""1927-12-31 23:54:09"";Thenld4-ld3will be1.Java version:java version ""1.6.0_22""\nJava(TM) SE Runtime Environment (build 1.6.0_22-b04)\nDynamic Code Evolution Client VM (build 0.2-b02-internal, 19.0-b04-internal, mixed mode)Timezone(`TimeZone.getDefault()`):\n\nsun.util.calendar.ZoneInfo[id=""Asia/Shanghai"",\noffset=28800000,dstSavings=0,\nuseDaylight=false,\ntransitions=19,\nlastRule=null]\n\nLocale(Locale.getDefault()): zh_CNjavadatetimezoneShareImprove this questionFolloweditedMay 20, 2023 at 18:11cellepo4,29944 gold badges4040 silver badges6262 bronze badgesaskedJul 27, 2011 at 8:15FreewindFreewind197k159159 gold badges443443 silver badges724724 bronze badges', 'answers': 'It\'s a time zone change on December 31st in Shanghai.Seethis pagefor details of 1927 in Shanghai. Basically at midnight at the end of 1927, the clocks went back 5 minutes and 52 seconds. So ""1927-12-31 23:54:08"" actually happened twice, and it looks like Java is parsing it as thelaterpossible instant for that local date/time - hence the difference.Just another episode in the often weird and wonderful world of time zones.If rebuilt with version 2013a ofTZDB, The original question would no longer demonstrate quite the same behaviour. In 2013a, the result would be 358 seconds, with a transition time of 23:54:03 instead of 23:54:08.I only noticed this because I\'m collecting questions like this in Noda Time, in the form ofunit tests... The test has now been changed, but it just goes to show - not even historical data is safe.In TZDB 2014f, the time of the change has moved to 1900-12-31, and it\'s now a mere 343 second change (so the time betweentandt+1is 344 seconds, if you see what I mean).To answer a question around a transition at 1900... it looks like the Java time zone implementation treatsalltime zones as simply being in their standard time for any instant before the start of 1900 UTC:import java.util.TimeZone;\n\npublic class Test {\n    public static void main(String[] args) throws Exception {\n        long startOf1900Utc = -2208988800000L;\n        for (String id : TimeZone.getAvailableIDs()) {\n            TimeZone zone = TimeZone.getTimeZone(id);\n            if (zone.getRawOffset() != zone.getOffset(startOf1900Utc - 1)) {\n                System.out.println(id);\n            }\n        }\n    }\n}The code above produces no output on my Windows machine. So any time zone which has any offset other than its standard one at the start of 1900 will count that as a transition. TZDB itself has some data going back earlier than that, and doesn\'t rely on any idea of a ""fixed"" standard time (which is whatgetRawOffsetassumes to be a valid concept) so other libraries needn\'t introduce this artificial transition.ShareImprove this answerFolloweditedMar 27, 2023 at 19:45VLAZ28.1k99 gold badges5959 silver badges7878 bronze badgesansweredJul 27, 2011 at 8:31Jon SkeetJon Skeet1.5m881881 gold badges9.2k9.2k silver badges9.3k9.3k bronze badges\n\nYou\'ve encountered alocal time discontinuity:When local standard time was about to reach Sunday, 1. January 1928,\n  00:00:00 clocks were turned backward 0:05:52 hours to Saturday, 31.\n  December 1927, 23:54:08 local standard time insteadThis is not particularly strange and has happened pretty much everywhere at one time or another as timezones were switched or changed due to political or administrative actions.ShareImprove this answerFollowansweredJul 27, 2011 at 8:38Michael BorgwardtMichael Borgwardt345k7979 gold badges484484 silver badges723723 bronze badges\n\nThe moral of this strangeness is:Use dates and times in UTC wherever possible.If you can not display a date or time in UTC, always indicate the time-zone.If you can not require an input date/time in UTC, require an explicitly indicated time-zone.ShareImprove this answerFollowansweredJul 28, 2011 at 11:50RaedwaldRaedwald48k4646 gold badges155155 silver badges244244 bronze badges\n\nWhen incrementing time you should convert back to UTC and then add or subtract. Use the local time only for display.This way you will be able to walk through any periods where hours or minutes happen twice.If you converted to UTC, add each second, and convert to local time for display. You would go through 11:54:08 p.m.LMT- 11:59:59 p.m. LMT and then 11:54:08 p.m.CST- 11:59:59 p.m. CST.ShareImprove this answerFolloweditedNov 10, 2021 at 19:45Aleksandr Dubinsky23k1515 gold badges8484 silver badges101101 bronze badgesansweredJul 30, 2011 at 16:55PatrickOPatrickO4,18711 gold badge1313 silver badges33 bronze badges\n\nInstead of converting each date, you can use the following code:long difference = (sDt4.getTime() - sDt3.getTime()) / 1000;\nSystem.out.println(difference);And then see that the result is:1ShareImprove this answerFolloweditedDec 24, 2019 at 15:52new Q Open Wid2,26522 gold badges2020 silver badges3737 bronze badgesansweredMay 16, 2012 at 5:31RajshriRajshri4,13322 gold badges1616 silver badges1717 bronze badges\n\nI\'m sorry to say, but the time discontinuity has moved a bit inJDK 6two years ago, and inJDK 7just recently inupdate 25.Lesson to learn: avoid non-UTC times at all costs, except maybe for display.ShareImprove this answerFolloweditedDec 17, 2018 at 0:31davnicwil30.3k1818 gold badges113113 silver badges132132 bronze badgesansweredFeb 17, 2014 at 22:44user1050755user105075511.6k44 gold badges4747 silver badges5656 bronze badges\n\nAs explained by others, there\'s a time discontinuity there. There are two possible timezone offsets for1927-12-31 23:54:08atAsia/Shanghai, but only one offset for1927-12-31 23:54:07. So, depending on which offset is used, there\'s either a one second difference or a 5 minutes and 53 seconds difference.This slight shift of offsets, instead of the usual one-hour daylight savings (summer time) we are used to, obscures the problem a bit.Note that the 2013a update of the timezone database moved this discontinuity a few seconds earlier, but the effect would still be observable.The newjava.timepackage on Java 8 let use see this more clearly, and provide tools to handle it. Given:DateTimeFormatterBuilder dtfb = new DateTimeFormatterBuilder();\ndtfb.append(DateTimeFormatter.ISO_LOCAL_DATE);\ndtfb.appendLiteral(\' \');\ndtfb.append(DateTimeFormatter.ISO_LOCAL_TIME);\nDateTimeFormatter dtf = dtfb.toFormatter();\nZoneId shanghai = ZoneId.of(""Asia/Shanghai"");\n\nString str3 = ""1927-12-31 23:54:07"";  \nString str4 = ""1927-12-31 23:54:08"";  \n\nZonedDateTime zdt3 = LocalDateTime.parse(str3, dtf).atZone(shanghai);\nZonedDateTime zdt4 = LocalDateTime.parse(str4, dtf).atZone(shanghai);\n\nDuration durationAtEarlierOffset = Duration.between(zdt3.withEarlierOffsetAtOverlap(), zdt4.withEarlierOffsetAtOverlap());\n\nDuration durationAtLaterOffset = Duration.between(zdt3.withLaterOffsetAtOverlap(), zdt4.withLaterOffsetAtOverlap());ThendurationAtEarlierOffsetwill be one second, whiledurationAtLaterOffsetwill be five minutes and 53 seconds.Also, these two offsets are the same:// Both have offsets +08:05:52\nZoneOffset zo3Earlier = zdt3.withEarlierOffsetAtOverlap().getOffset();\nZoneOffset zo3Later = zdt3.withLaterOffsetAtOverlap().getOffset();But these two are different:// +08:05:52\nZoneOffset zo4Earlier = zdt4.withEarlierOffsetAtOverlap().getOffset();\n\n// +08:00\nZoneOffset zo4Later = zdt4.withLaterOffsetAtOverlap().getOffset();You can see the same problem comparing1927-12-31 23:59:59with1928-01-01 00:00:00, though, in this case, it is the earlier offset that produces the longer divergence, and it is the earlier date that has two possible offsets.Another way to approach this is to check whether there\'s a transition going on. We can do this like this:// Null\nZoneOffsetTransition zot3 = shanghai.getRules().getTransition(ld3.toLocalDateTime);\n\n// An overlap transition\nZoneOffsetTransition zot4 = shanghai.getRules().getTransition(ld3.toLocalDateTime);You can check whether the transition is an overlap where there\'s more than one valid offset for that date/time or a gap where that date/time is not valid for that zone id - by using theisOverlap()andisGap()methods onzot4.I hope this helps people handle this sort of issue once Java 8 becomes widely available, or to those using Java 7 who adopt the JSR 310 backport.ShareImprove this answerFolloweditedDec 24, 2019 at 0:17new Q Open Wid2,26522 gold badges2020 silver badges3737 bronze badgesansweredJan 3, 2014 at 14:43Daniel C. SobralDaniel C. Sobral296k8787 gold badges504504 silver badges685685 bronze badges\n\nIMHOthe pervasive,implicitlocalization in Java is its single largest design flaw. It may be intended for user interfaces, but frankly, who really uses Java for user interfaces today except for some IDEs where you can basically ignore localization because programmers aren\'t exactly the target audience for it. You can fix it (especially on Linux servers) by:exportLC_ALL=C TZ=UTCset your system clock to UTCnever use localized implementations unless absolutely necessary (ie for display only)To theJava Community Processmembers I recommend:make localized methods, not the default, but require the user to explicitly request localization.useUTF-8/UTCas theFIXEDdefault instead because that\'s simply the default today. There is no reason to do something else, except if you want to produce threads like this.I mean, come on, aren\'t global static variables an anti-OO pattern? Nothing else is those pervasive defaults given by some rudimentary environment variables.......ShareImprove this answerFolloweditedOct 20, 2020 at 3:40Derek Wang10.2k44 gold badges1919 silver badges4040 bronze badgesansweredNov 26, 2014 at 15:58user1050755user105075511.6k44 gold badges4747 silver badges5656 bronze badges\n\nAs others said, it\'s a time change in 1927 in Shanghai.It was23:54:07in Shanghai, in the local standard time, but then after 5 minutes and 52 seconds, it turned to the next day at00:00:00, and then local standard time changed back to23:54:08. So, that\'s why the difference between the two times is 343 seconds, not 1 second, as you would have expected.The time can also mess up in other places like the US. The US has Daylight Saving Time. When the Daylight Saving Time starts the time goes forward 1 hour. But after a while, the Daylight Saving Time ends, and it goes backward 1 hour back to the standard time zone. So sometimes when comparing times in the US the difference is about3600seconds not 1 second.But there is something different about these two-time changes. The latter changes continuously and the former was just a change. It didn\'t change back or change again by the same amount.It\'s better to use UTC unless if needed to use non-UTC time like in display.ShareImprove this answerFolloweditedNov 15, 2020 at 1:01answeredFeb 10, 2019 at 21:47new Q Open Widnew Q Open Wid2,26522 gold badges2020 silver badges3737 bronze badges\n\n💡Extra informationIt\'s because of daylight saving as others mentioned in their answer. I want to point out other facts about the date and calendar to show you:🧠 Why you must NEVER assume the dateIn addition to many existing calendars and rules like leap years and daylight saving, Throughout history, many changes have happened to the calendar that do not follow any order.For example in 1752, the calendar used in England and its colonies was11 days out-of-syncwith the Gregorian Calendar in use in most other parts of Europe. 🤷🏻\u200d♂️So they changed it in a series of steps:December 31, 1750 was followed by January 1, 1750 (under the ""Old Style"" calendar, December was the 10th month and January the 11th)March 24, 1750 was followed by March 25, 1751 (March 25 was the first day of the ""Old Style"" year)December 31, 1751 was followed by January 1, 1752 (the switch from March 25 to January 1 as the first day of the year)September 2, 1752 was followed by September 14, 1752 (drop of 11 days to conform to the Gregorian calendar)More information hereAnother example is Moon-based calendars like the Hijri date which can be changed every year depending on the moon phase in every month.So there are even gaps in some calendars for more than 10 days and some inconsistency in some calendars from year to year! We should always pay attention to a lot of parameters when working with calendars, (like the timezone, locale, daylight saving, the calendar standard itself, etc.) and always try to use a tested and accurate date system.⚠️ Preferred an online one, because some calendars like the Iranian Hijri Calendar are actively changing without the ability to forecast.ShareImprove this answerFollowansweredNov 11, 2023 at 13:01Mojtaba HosseiniMojtaba Hosseini113k4141 gold badges303303 silver badges299299 bronze badges\n\nIt cannot ever be ""1"" as the result becausegetTime() returns long milliseconds not seconds(of which 353 milliseconds is a fair point but the epoch for Date is started at 1970 not the 1920\'s).\ncmmnt: The API section you are using is largely considered deprecated.http://windsolarhybridaustralia.x10.mx/httpoutputtools-tomcat-java.htmlShareImprove this answerFollowansweredOct 23, 2021 at 6:39Samuel MarchantSamuel Marchant32422 silver badges99 bronze badges'}","{'title': 'How to enumerate an enum?', 'question': ""How can you enumerate anenumin C#?E.g. the following code does not compile:public enum Suit\n{\n    Spades,\n    Hearts,\n    Clubs,\n    Diamonds\n}\n\npublic void EnumerateAllSuitsDemoMethod()\n{\n    foreach (Suit suit in Suit)\n    {\n        DoSomething(suit);\n    }\n}And it gives the following compile-time error:'Suit' is a 'type' but is used like a 'variable'It fails on theSuitkeyword, the second one.c#.netloopsenumsenumerationShareImprove this questionFolloweditedNov 24, 2022 at 0:35Ian BoydaskedSep 19, 2008 at 20:34Ian BoydIan Boyd253k262262 gold badges894894 silver badges1.3k1.3k bronze badges"", 'answers': 'Update:If you\'re using .NET 5 or newer, usethis solution.foreach (Suit suit in (Suit[]) Enum.GetValues(typeof(Suit)))\n{\n}Note: The cast to(Suit[])is not strictly necessary,but it does make the code 0.5 ns faster.ShareImprove this answerFolloweditedAug 11, 2023 at 8:12Arad11.3k1010 gold badges6464 silver badges8484 bronze badgesansweredSep 19, 2008 at 20:37jopjop83.6k1010 gold badges5656 silver badges5252 bronze badges\n\nIt looks to me like you really want to print out the names of each enum, rather than the values. In which caseEnum.GetNames()seems to be the right approach.public enum Suits\n{\n    Spades,\n    Hearts,\n    Clubs,\n    Diamonds,\n    NumSuits\n}\n\npublic void PrintAllSuits()\n{\n    foreach (string name in Enum.GetNames(typeof(Suits)))\n    {\n        System.Console.WriteLine(name);\n    }\n}By the way, incrementing the value is not a good way to enumerate the values of an enum. You should do this instead.I would useEnum.GetValues(typeof(Suit))instead.public enum Suits\n{\n    Spades,\n    Hearts,\n    Clubs,\n    Diamonds,\n    NumSuits\n}\n\npublic void PrintAllSuits()\n{\n    foreach (var suit in Enum.GetValues(typeof(Suits)))\n    {\n        System.Console.WriteLine(suit.ToString());\n    }\n}ShareImprove this answerFolloweditedFeb 10, 2014 at 18:04metalmad4911 silver badge88 bronze badgesansweredSep 19, 2008 at 20:39HaackedHaacked58.7k1414 gold badges9090 silver badges115115 bronze badges\n\nI made some extensions for easy enum usage. Maybe someone can use it...public static class EnumExtensions\n{\n    /// <summary>\n    /// Gets all items for an enum value.\n    /// </summary>\n    /// <typeparam name=""T""></typeparam>\n    /// <param name=""value"">The value.</param>\n    /// <returns></returns>\n    public static IEnumerable<T> GetAllItems<T>(this Enum value)\n    {\n        foreach (object item in Enum.GetValues(typeof(T)))\n        {\n            yield return (T)item;\n        }\n    }\n\n    /// <summary>\n    /// Gets all items for an enum type.\n    /// </summary>\n    /// <typeparam name=""T""></typeparam>\n    /// <param name=""value"">The value.</param>\n    /// <returns></returns>\n    public static IEnumerable<T> GetAllItems<T>() where T : struct\n    {\n        foreach (object item in Enum.GetValues(typeof(T)))\n        {\n            yield return (T)item;\n        }\n    }\n\n    /// <summary>\n    /// Gets all combined items from an enum value.\n    /// </summary>\n    /// <typeparam name=""T""></typeparam>\n    /// <param name=""value"">The value.</param>\n    /// <returns></returns>\n    /// <example>\n    /// Displays ValueA and ValueB.\n    /// <code>\n    /// EnumExample dummy = EnumExample.Combi;\n    /// foreach (var item in dummy.GetAllSelectedItems<EnumExample>())\n    /// {\n    ///    Console.WriteLine(item);\n    /// }\n    /// </code>\n    /// </example>\n    public static IEnumerable<T> GetAllSelectedItems<T>(this Enum value)\n    {\n        int valueAsInt = Convert.ToInt32(value, CultureInfo.InvariantCulture);\n\n        foreach (object item in Enum.GetValues(typeof(T)))\n        {\n            int itemAsInt = Convert.ToInt32(item, CultureInfo.InvariantCulture);\n\n            if (itemAsInt == (valueAsInt & itemAsInt))\n            {\n                yield return (T)item;\n            }\n        }\n    }\n\n    /// <summary>\n    /// Determines whether the enum value contains a specific value.\n    /// </summary>\n    /// <param name=""value"">The value.</param>\n    /// <param name=""request"">The request.</param>\n    /// <returns>\n    ///     <c>true</c> if value contains the specified value; otherwise, <c>false</c>.\n    /// </returns>\n    /// <example>\n    /// <code>\n    /// EnumExample dummy = EnumExample.Combi;\n    /// if (dummy.Contains<EnumExample>(EnumExample.ValueA))\n    /// {\n    ///     Console.WriteLine(""dummy contains EnumExample.ValueA"");\n    /// }\n    /// </code>\n    /// </example>\n    public static bool Contains<T>(this Enum value, T request)\n    {\n        int valueAsInt = Convert.ToInt32(value, CultureInfo.InvariantCulture);\n        int requestAsInt = Convert.ToInt32(request, CultureInfo.InvariantCulture);\n\n        if (requestAsInt == (valueAsInt & requestAsInt))\n        {\n            return true;\n        }\n\n        return false;\n    }\n}The enum itself must be decorated with theFlagsAttribute:[Flags]\npublic enum EnumExample\n{\n    ValueA = 1,\n    ValueB = 2,\n    ValueC = 4,\n    ValueD = 8,\n    Combi = ValueA | ValueB\n}ShareImprove this answerFolloweditedDec 9, 2019 at 22:33Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJun 3, 2009 at 12:03bobbob6,47511 gold badge3131 silver badges2626 bronze badges\n\nSome versions of the .NET framework do not supportEnum.GetValues. Here\'s a good workaround fromIdeas 2.0: Enum.GetValues in Compact Framework:public Enum[] GetValues(Enum enumeration)\n{\n    FieldInfo[] fields = enumeration.GetType().GetFields(BindingFlags.Static | BindingFlags.Public);\n    Enum[] enumerations = new Enum[fields.Length];\n\n    for (var i = 0; i < fields.Length; i++)\n        enumerations[i] = (Enum) fields[i].GetValue(enumeration);\n\n    return enumerations;\n}As with any code that involvesreflection, you should take steps to ensure it runs only once and results are cached.ShareImprove this answerFolloweditedMar 8, 2019 at 4:39Mikael Dúi Bolinder2,17722 gold badges2222 silver badges4848 bronze badgesansweredSep 3, 2009 at 18:48LizLiz2,97411 gold badge2525 silver badges3636 bronze badges\n\nNew .NET 5+ Solution:.NET 5 has introduced anew generic version for theGetValuesmethod:Suit[] suitValues = Enum.GetValues<Suit>();Which is now by far the most convenient way of doing this.Usage in a foreach loop:foreach (Suit suit in Enum.GetValues<Suit>())\n{\n\n}And if you just need the enum names as strings, you can use theGetNamesmethod instead:string[] suitNames = Enum.GetNames<Suit>();ShareImprove this answerFolloweditedOct 14, 2023 at 19:22answeredDec 2, 2020 at 6:28AradArad11.3k1010 gold badges6464 silver badges8484 bronze badges\n\nUseCast<T>:var suits = Enum.GetValues(typeof(Suit)).Cast<Suit>();There you go,IEnumerable<Suit>.ShareImprove this answerFolloweditedDec 9, 2019 at 22:53Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMar 17, 2013 at 4:15sircodesalotsircodesalot11.3k99 gold badges5353 silver badges8585 bronze badges\n\nI think this is more efficient than other suggestions becauseGetValues()is not called each time you have a loop. It is also more concise. And you get a compile-time error, not a runtime exception ifSuitis not anenum.EnumLoop<Suit>.ForEach((suit) => {\n    DoSomethingWith(suit);\n});EnumLoophas this completely generic definition:class EnumLoop<Key> where Key : struct, IConvertible {\n    static readonly Key[] arr = (Key[])Enum.GetValues(typeof(Key));\n    static internal void ForEach(Action<Key> act) {\n        for (int i = 0; i < arr.Length; i++) {\n            act(arr[i]);\n        }\n    }\n}ShareImprove this answerFolloweditedDec 9, 2019 at 22:47Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredFeb 2, 2012 at 13:36JamesJames5,93422 gold badges3535 silver badges4747 bronze badges\n\nYou won\'t getEnum.GetValues()inSilverlight.Original Blog Post by Einar Ingebrigtsen:public class EnumHelper\n{\n    public static T[] GetValues<T>()\n    {\n        Type enumType = typeof(T);\n\n        if (!enumType.IsEnum)\n        {\n            throw new ArgumentException(""Type \'"" + enumType.Name + ""\' is not an enum"");\n        }\n\n        List<T> values = new List<T>();\n\n        var fields = from field in enumType.GetFields()\n                     where field.IsLiteral\n                     select field;\n\n        foreach (FieldInfo field in fields)\n        {\n            object value = field.GetValue(enumType);\n            values.Add((T)value);\n        }\n\n        return values.ToArray();\n    }\n\n    public static object[] GetValues(Type enumType)\n    {\n        if (!enumType.IsEnum)\n        {\n            throw new ArgumentException(""Type \'"" + enumType.Name + ""\' is not an enum"");\n        }\n\n        List<object> values = new List<object>();\n\n        var fields = from field in enumType.GetFields()\n                     where field.IsLiteral\n                     select field;\n\n        foreach (FieldInfo field in fields)\n        {\n            object value = field.GetValue(enumType);\n            values.Add(value);\n        }\n\n        return values.ToArray();\n    }\n}ShareImprove this answerFolloweditedDec 9, 2019 at 22:45Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredNov 17, 2010 at 1:29Aubrey TaylorAubrey Taylor91166 silver badges22 bronze badges\n\nI think you can useEnum.GetNames(Suit)ShareImprove this answerFolloweditedJul 25, 2011 at 7:46bluish27k2828 gold badges123123 silver badges183183 bronze badgesansweredSep 19, 2008 at 20:37Tom CarrTom Carr1,43988 silver badges1111 bronze badges\n\nMy solution works in.NET Compact Framework(3.5) and supports type checkingat compile time:public static List<T> GetEnumValues<T>() where T : new() {\n    T valueType = new T();\n    return typeof(T).GetFields()\n        .Select(fieldInfo => (T)fieldInfo.GetValue(valueType))\n        .Distinct()\n        .ToList();\n}\n\npublic static List<String> GetEnumNames<T>() {\n    return typeof (T).GetFields()\n        .Select(info => info.Name)\n        .Distinct()\n        .ToList();\n}If anyone knows how to get rid of theT valueType = new T(), I\'d be happy to see a solution.A call would look like this:List<MyEnum> result = Utils.GetEnumValues<MyEnum>();ShareImprove this answerFolloweditedDec 9, 2019 at 22:35Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJul 7, 2010 at 13:37MalloxMallox1,4991212 silver badges1313 bronze badges\n\npublic void PrintAllSuits()\n{\n    foreach(string suit in Enum.GetNames(typeof(Suits)))\n    {\n        Console.WriteLine(suit);\n    }\n}ShareImprove this answerFolloweditedJan 9, 2017 at 20:45Termininja6,8531212 gold badges5050 silver badges5050 bronze badgesansweredSep 19, 2008 at 21:05Joshua DrakeJoshua Drake2,73833 gold badges3636 silver badges5555 bronze badges\n\nforeach (Suit suit in Enum.GetValues(typeof(Suit))) { }I\'ve heard vague rumours that this is\n  terifically slow. Anyone know? – Orion\n  Edwards Oct 15 \'08 at 1:31 7I think caching the array would speed it up considerably.  It looks like you\'re getting a new array (through reflection) every time.  Rather:Array enums = Enum.GetValues(typeof(Suit));\nforeach (Suit suitEnum in enums) \n{\n    DoSomething(suitEnum);\n}That\'s at least a little faster, ja?ShareImprove this answerFolloweditedOct 6, 2017 at 7:20Alexander Schmidt5,70344 gold badges4141 silver badges8080 bronze badgesansweredNov 16, 2009 at 17:19lmat - Reinstate Monicalmat - Reinstate Monica7,62366 gold badges5151 silver badges6666 bronze badges\n\nJust by combining the top answers, I threw together a very simple extension:public static class EnumExtensions\n{\n    /// <summary>\n    /// Gets all items for an enum value.\n    /// </summary>\n    /// <typeparam name=""T""></typeparam>\n    /// <param name=""value"">The value.</param>\n    /// <returns></returns>\n    public static IEnumerable<T> GetAllItems<T>(this T value) where T : Enum\n    {\n        return (T[])Enum.GetValues(typeof (T));\n    }\n}It is clean, simple, and, by @Jeppe-Stig-Nielsen\'s comment, fast.ShareImprove this answerFolloweditedDec 9, 2019 at 22:54Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJun 15, 2013 at 8:22DarksideDarkside1,7401414 silver badges1919 bronze badges\n\nThree ways:Enum.GetValues(type)// Since .NET 1.1, not in Silverlight or .NET Compact Frameworktype.GetEnumValues()// Only on .NET 4 and abovetype.GetFields().Where(x => x.IsLiteral).Select(x => x.GetValue(null))// Works everywhereI am not sure whyGetEnumValueswas introduced on type instances. It isn\'t very readable at all for me.Having a helper class likeEnum<T>is what is most readable and memorable for me:public static class Enum<T> where T : struct, IComparable, IFormattable, IConvertible\n{\n    public static IEnumerable<T> GetValues()\n    {\n        return (T[])Enum.GetValues(typeof(T));\n    }\n\n    public static IEnumerable<string> GetNames()\n    {\n        return Enum.GetNames(typeof(T));\n    }\n}Now you call:Enum<Suit>.GetValues();\n\n// Or\nEnum.GetValues(typeof(Suit)); // Pretty consistent styleOne can also use some sort of caching if performance matters, but I don\'t expect this to be an issue at all.public static class Enum<T> where T : struct, IComparable, IFormattable, IConvertible\n{\n    // Lazily loaded\n    static T[] values;\n    static string[] names;\n\n    public static IEnumerable<T> GetValues()\n    {\n        return values ?? (values = (T[])Enum.GetValues(typeof(T)));\n    }\n\n    public static IEnumerable<string> GetNames()\n    {\n        return names ?? (names = Enum.GetNames(typeof(T)));\n    }\n}ShareImprove this answerFolloweditedDec 9, 2019 at 22:58Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredAug 12, 2013 at 15:36nawfalnawfal72.3k5757 gold badges335335 silver badges375375 bronze badges\n\nThere are two ways to iterate anEnum:1. var values =  Enum.GetValues(typeof(myenum))\n2. var values =  Enum.GetNames(typeof(myenum))The first will give you values in form on an array of **object**s, and the second will give you values in form of an array of **String**s.Use it in aforeachloop as below:foreach(var value in values)\n{\n    // Do operations here\n}ShareImprove this answerFolloweditedDec 9, 2019 at 23:03Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJan 22, 2016 at 18:50Kylo RenKylo Ren8,72366 gold badges4242 silver badges6666 bronze badges\n\nI use ToString() then split and parse the spit array in flags.[Flags]\npublic enum ABC {\n   a = 1,\n   b = 2,\n   c = 4\n};\n\npublic IEnumerable<ABC> Getselected (ABC flags)\n{\n   var values = flags.ToString().Split(\',\');\n   var enums = values.Select(x => (ABC)Enum.Parse(typeof(ABC), x.Trim()));\n   return enums;\n}\n\nABC temp= ABC.a | ABC.b;\nvar list = getSelected (temp);\nforeach (var item in list)\n{\n   Console.WriteLine(item.ToString() + "" ID="" + (int)item);\n}ShareImprove this answerFolloweditedNov 18, 2015 at 15:51answeredJul 26, 2012 at 9:22Mickey PerlsteinMickey Perlstein2,92622 gold badges3232 silver badges3737 bronze badges\n\nIf you need speed and type checking at build and run time, this helper method is better than using LINQ to cast each element:public static T[] GetEnumValues<T>() where T : struct, IComparable, IFormattable, IConvertible\n{\n    if (typeof(T).BaseType != typeof(Enum))\n    {\n        throw new ArgumentException(string.Format(""{0} is not of type System.Enum"", typeof(T)));\n    }\n    return Enum.GetValues(typeof(T)) as T[];\n}And you can use it like below:static readonly YourEnum[] _values = GetEnumValues<YourEnum>();Of course you can returnIEnumerable<T>, but that buys you nothing here.ShareImprove this answerFolloweditedJan 17, 2016 at 12:11Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredNov 15, 2013 at 20:13dmihailescudmihailescu1,6331717 silver badges1515 bronze badges\n\nI do not hold the opinion this is better, or even good. I am just stating yet another solution.If enum values range strictly from 0 to n - 1, a generic alternative is:public void EnumerateEnum<T>()\n{\n    int length = Enum.GetValues(typeof(T)).Length;\n    for (var i = 0; i < length; i++)\n    {\n        var @enum = (T)(object)i;\n    }\n}If enum values are contiguous and you can provide the first and last element of the enum, then:public void EnumerateEnum()\n{\n    for (var i = Suit.Spade; i <= Suit.Diamond; i++)\n    {\n        var @enum = i;\n    }\n}But that\'s not strictly enumerating, just looping. The second method is much faster than any other approach though...ShareImprove this answerFolloweditedJun 20, 2020 at 9:12CommunityBot111 silver badgeansweredJan 25, 2013 at 0:05nawfalnawfal72.3k5757 gold badges335335 silver badges375375 bronze badges\n\nHere is a working example of creating select options for aDDL:var resman = ViewModelResources.TimeFrame.ResourceManager;\n\nViewBag.TimeFrames = from MapOverlayTimeFrames timeFrame\n      in Enum.GetValues(typeof(MapOverlayTimeFrames))\n      select new SelectListItem\n      {\n         Value = timeFrame.ToString(),\n         Text = resman.GetString(timeFrame.ToString()) ?? timeFrame.ToString()\n      };ShareImprove this answerFolloweditedDec 9, 2019 at 22:48Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredOct 25, 2012 at 21:20jhildenjhilden12.4k55 gold badges5555 silver badges7777 bronze badges\n\nAdd methodpublic static IEnumerable<T> GetValues<T>()to your class, like:public static IEnumerable<T> GetValues<T>()\n{\n    return Enum.GetValues(typeof(T)).Cast<T>();\n}Call and pass your enum. Now you can iterate through it usingforeach:public static void EnumerateAllSuitsDemoMethod()\n {\n     // Custom method\n     var foos = GetValues<Suit>();\n     foreach (var foo in foos)\n     {\n         // Do something\n     }\n }ShareImprove this answerFolloweditedDec 9, 2019 at 23:04Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMar 31, 2017 at 7:08MUTMUT60644 silver badges1919 bronze badges\n\nforeach (Suit suit in Enum.GetValues(typeof(Suit)))\n{\n}(The current accepted answer has a cast that I don\'t think \nis needed (although I may be wrong).)ShareImprove this answerFolloweditedJan 17, 2016 at 12:12Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJan 20, 2014 at 10:37matt burnsmatt burns25.1k1313 gold badges107107 silver badges107107 bronze badges\n\nI know it is a bit messy, but if you are fan of one-liners, here is one:((Suit[])Enum.GetValues(typeof(Suit))).ToList().ForEach(i => DoSomething(i));ShareImprove this answerFolloweditedDec 9, 2019 at 23:01Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredApr 8, 2014 at 15:44anar khalilovanar khalilov17.4k99 gold badges4949 silver badges6363 bronze badges\n\nA simple and generic way to convert an enum to something you can interact:public static Dictionary<int, string> ToList<T>() where T : struct\n{\n   return ((IEnumerable<T>)Enum\n       .GetValues(typeof(T)))\n       .ToDictionary(\n           item => Convert.ToInt32(item),\n           item => item.ToString());\n}And then:var enums = EnumHelper.ToList<MyEnum>();ShareImprove this answerFolloweditedOct 25, 2016 at 14:12Massimiliano Kraus3,79555 gold badges2828 silver badges4848 bronze badgesansweredSep 12, 2014 at 18:06GabrielGabriel8971010 silver badges2222 bronze badges\n\nThis question appears in Chapter 10 of ""C# Step by Step 2013""The author uses a double for-loop to iterate through a pair of Enumerators (to create a full deck of cards):class Pack\n{\n    public const int NumSuits = 4;\n    public const int CardsPerSuit = 13;\n    private PlayingCard[,] cardPack;\n\n    public Pack()\n    {\n        this.cardPack = new PlayingCard[NumSuits, CardsPerSuit];\n        for (Suit suit = Suit.Clubs; suit <= Suit.Spades; suit++)\n        {\n            for (Value value = Value.Two; value <= Value.Ace; value++)\n            {\n                cardPack[(int)suit, (int)value] = new PlayingCard(suit, value);\n            }\n        }\n    }\n}In this case,SuitandValueare both enumerations:enum Suit { Clubs, Diamonds, Hearts, Spades }\nenum Value { Two, Three, Four, Five, Six, Seven, Eight, Nine, Ten, Jack, Queen, King, Ace}andPlayingCardis a card object with a definedSuitandValue:class PlayingCard\n{\n    private readonly Suit suit;\n    private readonly Value value;\n\n    public PlayingCard(Suit s, Value v)\n    {\n        this.suit = s;\n        this.value = v;\n    }\n}ShareImprove this answerFolloweditedJan 13, 2017 at 7:22Termininja6,8531212 gold badges5050 silver badges5050 bronze badgesansweredJun 28, 2015 at 6:12Ross GatihRoss Gatih67944 silver badges99 bronze badges\n\nWhat if you know the type will be anenum, but you don\'t know what the exact type is at compile time?public class EnumHelper\n{\n    public static IEnumerable<T> GetValues<T>()\n    {\n        return Enum.GetValues(typeof(T)).Cast<T>();\n    }\n\n    public static IEnumerable getListOfEnum(Type type)\n    {\n        MethodInfo getValuesMethod = typeof(EnumHelper).GetMethod(""GetValues"").MakeGenericMethod(type);\n        return (IEnumerable)getValuesMethod.Invoke(null, null);\n    }\n}The methodgetListOfEnumuses reflection to take any enum type and returns anIEnumerableof all enum values.Usage:Type myType = someEnumValue.GetType();\n\nIEnumerable resultEnumerable = getListOfEnum(myType);\n\nforeach (var item in resultEnumerable)\n{\n    Console.WriteLine(String.Format(""Item: {0} Value: {1}"",item.ToString(),(int)item));\n}ShareImprove this answerFolloweditedOct 1, 2015 at 10:21answeredOct 1, 2015 at 10:14SlappywagSlappywag1,22311 gold badge1818 silver badges2828 bronze badges\n\nFor getting a list of int from an enum, use the following. It works!List<int> listEnumValues = new List<int>();\nYourEnumType[] myEnumMembers = (YourEnumType[])Enum.GetValues(typeof(YourEnumType));\nforeach ( YourEnumType enumMember in myEnumMembers)\n{\n    listEnumValues.Add(enumMember.GetHashCode());\n}ShareImprove this answerFolloweditedJan 26, 2021 at 13:14answeredOct 5, 2019 at 14:53R.AkhlaghiR.Akhlaghi76011 gold badge1212 silver badges2323 bronze badges\n\nenumtypes are called ""enumeration types"" not because they are containers that ""enumerate"" values (which they aren\'t), but because they are defined byenumeratingthe possible values for a variable of that type.(Actually, that\'s a bit more complicated than that - enum types are considered to have an ""underlying"" integer type, which means each enum value corresponds to an integer value (this is typically implicit, but can be manually specified). C# was designed in a way so that you could stuffanyinteger of that type into the enum variable, even if it isn\'t a ""named"" value.)TheSystem.Enum.GetNames methodcan be used to retrieve an array of strings which are the names of the enum values, as the name suggests.EDIT: Should have suggested theSystem.Enum.GetValuesmethod instead. Oops.ShareImprove this answerFolloweditedJan 16, 2018 at 20:14answeredOct 11, 2017 at 4:50Emily ChenEmily Chen16611 silver badge1010 bronze badges\n\nA simple Enum.GetNames(EnumType) should workShareImprove this answerFollowansweredFeb 7, 2022 at 23:33code4funcode4fun7711 silver badge22 bronze badges\n\nWhen you have a bit enum like thisenum DemoFlags\n{\n    DemoFlag = 1,\n    OtherFlag = 2,\n    TestFlag = 4,\n    LastFlag = 8,\n}With this assignementDemoFlags demoFlags = DemoFlags.DemoFlag | DemoFlags.TestFlag;and need a result like this""DemoFlag | TestFlag""this method helps:public static string ConvertToEnumString<T>(T enumToConvert, string separator = "" | "") where T : Enum\n{\n    StringBuilder convertedEnums = new StringBuilder();\n\n    foreach (T enumValue in Enum.GetValues(typeof(T)))\n    {\n        if (enumToConvert.HasFlag(enumValue)) convertedEnums.Append($""{ enumValue }{separator}"");\n    }\n\n    if (convertedEnums.Length > 0) convertedEnums.Length -= separator.Length;\n\n    return convertedEnums.ToString();\n}ShareImprove this answerFollowansweredFeb 8, 2021 at 22:04marsh-wigglemarsh-wiggle2,72233 gold badges3737 silver badges5454 bronze badges\n\nAlso you can bind to the public static members of the enum directly by using reflection:typeof(Suit).GetMembers(BindingFlags.Public | BindingFlags.Static)\n    .ToList().ForEach(x => DoSomething(x.Name));ShareImprove this answerFollowansweredJan 9, 2017 at 23:39TermininjaTermininja6,8531212 gold badges5050 silver badges5050 bronze badges'}","{'title': 'Deleting an element from an array in PHP', 'question': 'Is there an easy way to delete an element from an array using PHP, such thatforeach ($array)no longer includes that element?I thought that setting it tonullwould do it, but apparently it does not work.phparraysunsetShareImprove this questionFolloweditedOct 17, 2019 at 10:22Star3,26255 gold badges3333 silver badges4949 bronze badgesaskedDec 15, 2008 at 20:28BenBen68.1k3838 gold badges8686 silver badges108108 bronze badges', 'answers': 'Answer recommended byPHPCollectiveThere are different ways to delete an array element, where some are more useful for some specific tasks than others.Deleting a Single Array ElementIf you want to delete just one single array element you can useunset()and alternativelyarray_splice().By key or by value?If you know the value and don\'t know the key to delete the element you can usearray_search()to get the key.\nThis only works if the element doesn\'t occur more than once, sincearray_search()returns the first hit only.unset()ExpressionNote: When you useunset()the array keys won’t change.\nIf you want to reindex the keys you can usearray_values()afterunset(),\nwhich will convert all keys to numerically enumerated keys starting from 0\n(the array remains alist).Example Code:$array = [0 => ""a"", 1 => ""b"", 2 => ""c""];\nunset($array[1]);\n          // ↑ Key of element to deleteExample Output:[\n    [0] => a\n    [2] => c\n]array_splice()FunctionIf you usearray_splice()the (integer) keys will automatically be reindex-ed,\nbut the associative (string) keys won\'t change — as opposed toarray_values()afterunset(),\nwhich will convert all keys to numerical keys.Note:array_splice()needs theoffset, not thekey, as the second parameter;offset= array_flip(array_keys(array))[key].Example Code:$array = [0 => ""a"", 1 => ""b"", 2 => ""c""];\narray_splice($array, 1, 1);\n                  // ↑ Offset of element to deleteExample Output:[\n    [0] => a\n    [1] => c\n]array_splice(), same asunset(), take the array by reference. You don’t assign the return values back to the array.Deleting Multiple Array ElementsIf you want to delete multiple array elements and don’t want\nto callunset()orarray_splice()multiple times you can use the functionsarray_diff()orarray_diff_key()depending on whether you know the values or the keys of the elements to remove from the array.array_diff()FunctionIf you know the values of the array elements which you want to delete, then you can usearray_diff().\nAs before withunset()it won’t change the keys of the array.Example Code:$array = [0 => ""a"", 1 => ""b"", 2 => ""c"", 3 => ""c""];\n$array = array_diff($array, [""a"", ""c""]);\n                         // └────────┘\n                         // Array values to deleteExample Output:[\n    [1] => b\n]array_diff_key()FunctionIf you know the keys of the elements which you want to delete, then you want to usearray_diff_key().\nYou have to make sure you pass the keys as keys in the second parameter and not as values.\nKeys won’t reindex.Example Code:$array = [0 => ""a"", 1 => ""b"", 2 => ""c""];\n$array = array_diff_key($array, [0 => ""xy"", ""2"" => ""xy""]);\n                              // ↑           ↑\n                              // Array keys of elements to deleteExample Output:[\n    [1] => b\n]If you want to useunset()orarray_splice()to delete multiple elements with the same value you can usearray_keys()to get all the keys for a specific value\nand then delete all elements.array_filter()FunctionIf you want to delete all elements with a specific value in the array you can usearray_filter().Example Code:$array = [0 => ""a"", 1 => ""b"", 2 => ""c""];\n$array = array_filter($array, static function ($element) {\n    return $element !== ""b"";\n    //                   ↑\n    // Array value which you want to delete\n});Example Output:[\n    [0] => a\n    [2] => c\n]ShareImprove this answerFolloweditedSep 29, 2023 at 18:43community wiki22 revs, 14 users 23%Rizier123\n\nIt should be noted thatunset()will keep indexes untouched, which is what you\'d expect when using string indexes (array as hashtable), but can be quite surprising when dealing with integer indexed arrays:$array = array(0, 1, 2, 3);\nunset($array[2]);\nvar_dump($array);\n/* array(3) {\n  [0]=>\n  int(0)\n  [1]=>\n  int(1)\n  [3]=>\n  int(3)\n} */\n\n$array = array(0, 1, 2, 3);\narray_splice($array, 2, 1);\nvar_dump($array);\n/* array(3) {\n  [0]=>\n  int(0)\n  [1]=>\n  int(1)\n  [2]=>\n  int(3)\n} */Soarray_splice()can be used if you\'d like to normalize your integer keys. Another option is usingarray_values()afterunset():$array = array(0, 1, 2, 3);\n\nunset($array[2]);\n$array = array_values($array);\nvar_dump($array);\n/* array(3) {\n  [0]=>\n  int(0)\n  [1]=>\n  int(1)\n  [2]=>\n  int(3)\n} */ShareImprove this answerFolloweditedJan 13, 2012 at 17:32Ry-♦223k5555 gold badges482482 silver badges488488 bronze badgesansweredDec 15, 2008 at 21:25Stefan GehrigStefan Gehrig83.4k2424 gold badges160160 silver badges192192 bronze badges\n\n// Our initial array\n  $arr = array(""blue"", ""green"", ""red"", ""yellow"", ""green"", ""orange"", ""yellow"", ""indigo"", ""red"");\n  print_r($arr);\n\n  // Remove the elements who\'s values are yellow or red\n  $arr = array_diff($arr, array(""yellow"", ""red""));\n  print_r($arr);This is the output from the code above:Array\n(\n    [0] => blue\n    [1] => green\n    [2] => red\n    [3] => yellow\n    [4] => green\n    [5] => orange\n    [6] => yellow\n    [7] => indigo\n    [8] => red\n)\n\nArray\n(\n    [0] => blue\n    [1] => green\n    [4] => green\n    [5] => orange\n    [7] => indigo\n)Now, array_values() will reindex a numerical array nicely, but it will remove all key strings from the array and replace them with numbers. If you need to preserve the key names (strings), or reindex the array if all keys are numerical, use array_merge():$arr = array_merge(array_diff($arr, array(""yellow"", ""red"")));\nprint_r($arr);OutputsArray\n(\n    [0] => blue\n    [1] => green\n    [2] => green\n    [3] => orange\n    [4] => indigo\n)ShareImprove this answerFolloweditedFeb 19, 2019 at 10:52Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredAug 2, 2011 at 15:57Marcel CozmaMarcel Cozma4,47911 gold badge1818 silver badges1717 bronze badges\n\n$key = array_search($needle, $array);\nif ($key !== false) {\n    unset($array[$key]);\n}ShareImprove this answerFolloweditedFeb 19, 2019 at 10:54Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredNov 15, 2011 at 11:29liamvictorliamvictor3,31111 gold badge2323 silver badges2525 bronze badges\n\nunset($array[$index]);ShareImprove this answerFollowansweredDec 15, 2008 at 20:31Eran GalperinEran Galperin86.7k2424 gold badges117117 silver badges132132 bronze badges\n\nAlso, for a named element:unset($array[""elementName""]);ShareImprove this answerFolloweditedNov 13, 2018 at 11:05Mohammad21.4k1616 gold badges5656 silver badges8484 bronze badgesansweredJul 31, 2010 at 1:06DefenestrationDayDefenestrationDay3,80222 gold badges3737 silver badges6363 bronze badges\n\nIf you have a numerically indexed array where all values are unique (or they are non-unique but you wish to remove all instances of a particular value), you can simply use array_diff() to remove a matching element, like this:$my_array = array_diff($my_array, array(\'Value_to_remove\'));For example:$my_array = array(\'Andy\', \'Bertha\', \'Charles\', \'Diana\');\necho sizeof($my_array) . ""\\n"";\n$my_array = array_diff($my_array, array(\'Charles\'));\necho sizeof($my_array);This displays the following:4\n3In this example, the element with the value \'Charles\' is removed as can be verified by the sizeof() calls that report a size of 4 for the initial array, and 3 after the removal.ShareImprove this answerFollowansweredNov 26, 2012 at 8:25Robin NixonRobin Nixon77155 silver badges22 bronze badges\n\nDestroy a single element of an arrayunset()$array1 = array(\'A\', \'B\', \'C\', \'D\', \'E\');\nunset($array1[2]); // Delete known index(2) value from array\nvar_dump($array1);The output will be:array(4) {\n  [0]=>\n  string(1) ""A""\n  [1]=>\n  string(1) ""B""\n  [3]=>\n  string(1) ""D""\n  [4]=>\n  string(1) ""E""\n}If you need to re index the array:$array1 = array_values($array1);\nvar_dump($array1);Then the output will be:array(4) {\n  [0]=>\n  string(1) ""A""\n  [1]=>\n  string(1) ""B""\n  [2]=>\n  string(1) ""D""\n  [3]=>\n  string(1) ""E""\n}Pop the element off the end of array- return the value of the removed elementmixed array_pop(array &$array)$stack = array(""orange"", ""banana"", ""apple"", ""raspberry"");\n$last_fruit = array_pop($stack);\nprint_r($stack);\nprint_r(\'Last Fruit:\'.$last_fruit); // Last element of the arrayThe output will beArray\n(\n    [0] => orange\n    [1] => banana\n    [2] => apple\n)\nLast Fruit: raspberryRemove the first element (red) from an array, - return the value of the removed elementmixed array_shift ( array &$array )$color = array(""a"" => ""red"", ""b"" => ""green"" , ""c"" => ""blue"");\n$first_color = array_shift($color);\nprint_r ($color);\nprint_r (\'First Color: \'.$first_color);The output will be:Array\n(\n    [b] => green\n    [c] => blue\n)\nFirst Color: redShareImprove this answerFolloweditedMay 25, 2016 at 18:16Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJul 19, 2015 at 15:37KTAnjKTAnj1,35611 gold badge1515 silver badges3636 bronze badges\n\n<?php\n    $stack = [""fruit1"", ""fruit2"", ""fruit3"", ""fruit4""];\n    $fruit = array_shift($stack);\n    print_r($stack);\n\n    echo $fruit;\n?>Output:[\n    [0] => fruit2\n    [1] => fruit3\n    [2] => fruit4\n]\n\nfruit1ShareImprove this answerFolloweditedSep 3, 2019 at 2:54Neha Sharma44955 silver badges1313 bronze badgesansweredJun 11, 2013 at 5:51Saurabh Chandra PatelSaurabh Chandra Patel13.2k66 gold badges9191 silver badges7979 bronze badges\n\nIf the index is specified:$arr = [\'a\', \'b\', \'c\'];\n$index = 0;    \nunset($arr[$index]);  // $arr = [\'b\', \'c\']If we have value instead of index:$arr = [\'a\', \'b\', \'c\'];\n\n// search the value to find index\n// Notice! this will only find the first occurrence of value\n$index = array_search(\'a\', $arr);\n\nif($index !== false){\n   unset($arr[$index]);  // $arr = [\'b\', \'c\']\n}Theifcondition is necessary\nbecause ifindexis not found,unset()will automatically delete\nthe first element of the array!!! which is not what we want.ShareImprove this answerFolloweditedJul 24, 2023 at 5:46answeredMay 23, 2019 at 12:26Ahmad MobarakiAhmad Mobaraki7,95155 gold badges5151 silver badges7373 bronze badges\n\nIf you have to delete multiple values in an array and the entries in that array are objects or structured data,array_filter()is your best bet. Those entries that return a true from the callback function will be retained.$array = [\n    [\'x\'=>1,\'y\'=>2,\'z\'=>3], \n    [\'x\'=>2,\'y\'=>4,\'z\'=>6], \n    [\'x\'=>3,\'y\'=>6,\'z\'=>9]\n];\n\n$results = array_filter($array, function($value) {\n    return $value[\'x\'] > 2; \n}); //=> [[\'x\'=>3,\'y\'=>6,z=>\'9\']]ShareImprove this answerFolloweditedAug 22, 2021 at 20:13Dharman♦32.5k2525 gold badges9494 silver badges140140 bronze badgesansweredFeb 18, 2016 at 1:40spylespyle2,0082727 silver badges2323 bronze badges\n\nIf you need to remove multiple elements from an associative array, you can usearray_diff_key()(here used witharray_flip()):$my_array = array(\n  ""key1"" => ""value 1"",\n  ""key2"" => ""value 2"",\n  ""key3"" => ""value 3"",\n  ""key4"" => ""value 4"",\n  ""key5"" => ""value 5"",\n);\n\n$to_remove = array(""key2"", ""key4"");\n\n$result = array_diff_key($my_array, array_flip($to_remove));\n\nprint_r($result);Output:Array ( [key1] => value 1 [key3] => value 3 [key5] => value 5 )ShareImprove this answerFollowansweredApr 20, 2016 at 21:05SimonSimon3,70022 gold badges2424 silver badges2424 bronze badges\n\nAssociative arraysFor associative arrays, useunset:$arr = array(\'a\' => 1, \'b\' => 2, \'c\' => 3);\nunset($arr[\'b\']);\n\n// RESULT: array(\'a\' => 1, \'c\' => 3)Numeric arraysFor numeric arrays, usearray_splice:$arr = array(1, 2, 3);\narray_splice($arr, 1, 1);\n\n// RESULT: array(0 => 1, 1 => 3)NoteUsingunsetfor numeric arrays will not produce an error, but it will mess up your indexes:$arr = array(1, 2, 3);\nunset($arr[1]);\n\n// RESULT: array(0 => 1, 2 => 3)ShareImprove this answerFolloweditedFeb 22, 2019 at 9:51Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMar 11, 2016 at 18:48John SlegersJohn Slegers46.5k2222 gold badges202202 silver badges170170 bronze badges\n\nunset()destroys the specified variables.The behavior ofunset()inside of a function can vary depending on what type of variable you are attempting to destroy.If a globalized variable isunset()inside of a function, only the local variable is destroyed. The variable in the calling environment will retain the same value as beforeunset()was called.<?php\n    function destroy_foo()\n    {\n        global $foo;\n        unset($foo);\n    }\n\n    $foo = \'bar\';\n    destroy_foo();\n    echo $foo;\n?>The answer of the above code will bebar.Tounset()a global variable inside of a function:<?php\n    function foo()\n    {\n        unset($GLOBALS[\'bar\']);\n    }\n\n    $bar = ""something"";\n    foo();\n?>ShareImprove this answerFolloweditedFeb 19, 2019 at 10:57Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJul 26, 2013 at 20:11Ankit AggarwalAnkit Aggarwal37022 silver badges1010 bronze badges\n\n// Remove by value\nfunction removeFromArr($arr, $val)\n{\n    unset($arr[array_search($val, $arr)]);\n    return array_values($arr);\n}ShareImprove this answerFolloweditedJul 30, 2018 at 12:54answeredApr 2, 2016 at 18:42GigolandGigoland1,4151414 silver badges1414 bronze badges\n\nSolutions:To delete one element, useunset():unset($array[3]);\nunset($array[\'foo\']);To delete multiple noncontiguous elements, also useunset():unset($array[3], $array[5]);\nunset($array[\'foo\'], $array[\'bar\']);To delete multiple contiguous elements, usearray_splice():array_splice($array, $offset, $length);Further explanation:Using these functions removes all references to these elements from PHP. If you want to keep a key in the array, but with an empty value, assign the empty string to the element:$array[3] = $array[\'foo\'] = \'\';Besides syntax, there\'s a logical difference between usingunset()and assigning \'\' to the element. The first saysThis doesn\'t exist anymore,while the second saysThis still exists, but its value is the empty string.If you\'re dealing with numbers, assigning 0 may be a better alternative. So, if a company stopped production of the model XL1000 sprocket, it would update its inventory with:unset($products[\'XL1000\']);However, if it temporarily ran out of XL1000 sprockets, but was planning to receive a new shipment from the plant later this week, this is better:$products[\'XL1000\'] = 0;If youunset()an element, PHP adjusts the array so that looping still works correctly. It doesn\'t compact the array to fill in the missing holes. This is what we mean when we say that all arrays are associative, even when they appear to be numeric. Here\'s an example:// Create a ""numeric"" array\n$animals = array(\'ant\', \'bee\', \'cat\', \'dog\', \'elk\', \'fox\');\nprint $animals[1];  // Prints \'bee\'\nprint $animals[2];  // Prints \'cat\'\ncount($animals);    // Returns 6\n\n// unset()\nunset($animals[1]); // Removes element $animals[1] = \'bee\'\nprint $animals[1];  // Prints \'\' and throws an E_NOTICE error\nprint $animals[2];  // Still prints \'cat\'\ncount($animals);    // Returns 5, even though $array[5] is \'fox\'\n\n// Add a new element\n$animals[ ] = \'gnu\'; // Add a new element (not Unix)\nprint $animals[1];  // Prints \'\', still empty\nprint $animals[6];  // Prints \'gnu\', this is where \'gnu\' ended up\ncount($animals);    // Returns 6\n\n// Assign \'\'\n$animals[2] = \'\';   // Zero out value\nprint $animals[2];  // Prints \'\'\ncount($animals);    // Returns 6, count does not decreaseTo compact the array into a densely filled numeric array, usearray_values():$animals = array_values($animals);Alternatively,array_splice()automatically reindexes arrays to avoid leaving holes:// Create a ""numeric"" array\n$animals = array(\'ant\', \'bee\', \'cat\', \'dog\', \'elk\', \'fox\');\narray_splice($animals, 2, 2);\nprint_r($animals);\nArray\n(\n    [0] => ant\n    [1] => bee\n    [2] => elk\n    [3] => fox\n)This is useful if you\'re using the array as a queue and want to remove items from the queue while still allowing random access. To safely remove the first or last element from an array, usearray_shift()andarray_pop(), respectively.ShareImprove this answerFolloweditedFeb 22, 2019 at 10:06Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJan 29, 2018 at 11:08StarStar3,26255 gold badges3333 silver badges4949 bronze badges\n\nFollow the default functions:PHP: unsetunset()destroys the specified variables. For more info, you can refer toPHP unset$Array = array(""test1"", ""test2"", ""test3"", ""test3"");\n\nunset($Array[2]);PHP: array_popThearray_pop()function deletes the last element of an array. For more info, you can refer toPHP array_pop$Array = array(""test1"", ""test2"", ""test3"", ""test3"");\n\narray_pop($Array);PHP: array_spliceThearray_splice()function removes selected elements from an array and replaces it with new elements. For more info, you can refer toPHP array_splice$Array = array(""test1"", ""test2"", ""test3"", ""test3"");\n\narray_splice($Array,1,2);PHP: array_shiftThearray_shift()function removes the first element from an array. For more info, you can refer toPHP array_shift$Array = array(""test1"", ""test2"", ""test3"", ""test3"");\n\narray_shift($Array);ShareImprove this answerFolloweditedOct 16, 2020 at 12:34Rabby32444 silver badges1515 bronze badgesansweredJan 25, 2016 at 13:07msvairammsvairam86255 silver badges1212 bronze badges\n\nI\'d just like to say I had a particular object that had variable attributes (it was basically mapping a table and I was changing the columns in the table, so the attributes in the object, reflecting the table would vary as well):class obj {\n    protected $fields = array(\'field1\',\'field2\');\n    protected $field1 = array();\n    protected $field2 = array();\n    protected loadfields(){}\n    // This will load the $field1 and $field2 with rows of data for the column they describe\n    protected function clearFields($num){\n        foreach($fields as $field) {\n            unset($this->$field[$num]);\n            // This did not work the line below worked\n            unset($this->{$field}[$num]); // You have to resolve $field first using {}\n        }\n    }\n}The whole purpose of$fieldswas just, so I don\'t have to look everywhere in the code when they\'re changed, I just look at the beginning of the class and change the list of attributes and the$fieldsarray content to reflect the new attributes.ShareImprove this answerFolloweditedFeb 19, 2019 at 10:59Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredAug 21, 2013 at 2:31OxydelOxydel17611 silver badge55 bronze badges\n\nTwo ways for removing the first item of an array with keeping order of the index and also if you don\'t know the key name of the first item.Solution #1// 1 is the index of the first object to get\n// NULL to get everything until the end\n// true to preserve keys\n$array = array_slice($array, 1, null, true);Solution #2// Rewinds the array\'s internal pointer to the first element\n// and returns the value of the first array element.\n$value = reset($array);\n// Returns the index element of the current array position\n$key = key($array);\nunset($array[$key]);For this sample data:$array = array(10 => ""a"", 20 => ""b"", 30 => ""c"");You must have this result:array(2) {\n  [20]=>\n  string(1) ""b""\n  [30]=>\n  string(1) ""c""\n}ShareImprove this answerFolloweditedFeb 22, 2019 at 10:14Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredOct 16, 2018 at 1:20Nabi K.A.Z.Nabi K.A.Z.10.5k66 gold badges6464 silver badges8888 bronze badges\n\nEditIf you can\'t take it as given that the object is in that array you need to add a check:if(in_array($object,$array)) unset($array[array_search($object,$array)]);Original Answerif you want to remove a specific object of an array by reference of that object you can do following:unset($array[array_search($object,$array)]);Example:<?php\nclass Foo\n{\n    public $id;\n    public $name;\n}\n\n$foo1 = new Foo();\n$foo1->id = 1;\n$foo1->name = \'Name1\';\n\n$foo2 = new Foo();\n$foo2->id = 2;\n$foo2->name = \'Name2\';\n\n$foo3 = new Foo();\n$foo3->id = 3;\n$foo3->name = \'Name3\';\n\n\n$array = array($foo1,$foo2,$foo3);\nunset($array[array_search($foo2,$array)]);\n\necho \'<pre>\';\nvar_dump($array);\necho \'</pre>\';\n?>Result:array(2) {\n[0]=>\n    object(Foo)#1 (2) {\n        [""id""]=>\n        int(1)\n        [""name""]=>\n        string(5) ""Name1""\n    }\n[2]=>\n    object(Foo)#3 (2) {\n        [""id""]=>\n        int(3)\n        [""name""]=>\n        string(5) ""Name3""\n    }\n}Note that if the object occures several times it will only be removed the first occurence!ShareImprove this answerFolloweditedAug 24, 2021 at 10:07answeredJun 11, 2019 at 10:16Sam TigleSam Tigle39333 silver badges1414 bronze badges\n\nunset() multiple, fragmented elements from an arrayWhileunset()has been mentioned here several times, it has yet to be mentioned thatunset()accepts multiple variables making it easy to delete multiple, noncontiguous elements from an array in one operation:// Delete multiple, noncontiguous elements from an array\n$array = [ \'foo\', \'bar\', \'baz\', \'quz\' ];\nunset( $array[2], $array[3] );\nprint_r($array);\n// Output: [ \'foo\', \'bar\' ]unset() dynamicallyunset() does not accept an array of keys to remove, so the code below will fail (it would have made it slightly easier to use unset() dynamically though).$array = range(0,5);\n$remove = [1,2];\n$array = unset( $remove ); // FAILS: ""unexpected \'unset\'""\nprint_r($array);Instead, unset() can be used dynamically in a foreach loop:$array = range(0,5);\n$remove = [1,2];\nforeach ($remove as $k=>$v) {\n    unset($array[$v]);\n}\nprint_r($array);\n// Output: [ 0, 3, 4, 5 ]Remove array keys by copying the arrayThere is also another practice that has yet to be mentioned.\nSometimes, the simplest way to get rid of certain array keys is to simply copy $array1 into $array2.$array1 = range(1,10);\nforeach ($array1 as $v) {\n    // Remove all even integers from the array\n    if( $v % 2 ) {\n        $array2[] = $v;\n    }\n}\nprint_r($array2);\n// Output: [ 1, 3, 5, 7, 9 ];Obviously, the same practice applies to text strings:$array1 = [ \'foo\', \'_bar\', \'baz\' ];\nforeach ($array1 as $v) {\n    // Remove all strings beginning with underscore\n    if( strpos($v,\'_\')===false ) {\n        $array2[] = $v;\n    }\n}\nprint_r($array2);\n// Output: [ \'foo\', \'baz\' ]ShareImprove this answerFolloweditedFeb 14, 2019 at 6:14Star3,26255 gold badges3333 silver badges4949 bronze badgesansweredDec 7, 2017 at 6:28Kristoffer BohmannKristoffer Bohmann4,04433 gold badges2929 silver badges3535 bronze badges\n\n<?php\n    // If you want to remove a particular array element use this method\n    $my_array = array(""key1""=>""value 1"", ""key2""=>""value 2"", ""key3""=>""value 3"");\n\n    print_r($my_array);\n    if (array_key_exists(""key1"", $my_array)) {\n        unset($my_array[\'key1\']);\n        print_r($my_array);\n    }\n    else {\n        echo ""Key does not exist"";\n    }\n?>\n\n<?php\n    //To remove first array element\n    $my_array = array(""key1""=>""value 1"", ""key2""=>""value 2"", ""key3""=>""value 3"");\n    print_r($my_array);\n    $new_array = array_slice($my_array, 1);\n    print_r($new_array);\n?>\n\n\n<?php\n    echo ""<br/>    "";\n    // To remove first array element to length\n    // starts from first and remove two element\n    $my_array = array(""key1""=>""value 1"", ""key2""=>""value 2"", ""key3""=>""value 3"");\n    print_r($my_array);\n    $new_array = array_slice($my_array, 1, 2);\n    print_r($new_array);\n?>OutputArray ( [key1] => value 1 [key2] => value 2 [key3] =>\n value 3 ) Array (    [key2] => value 2 [key3] => value 3 )\n Array ( [key1] => value 1 [key2] => value 2 [key3] => value 3 )\n Array ( [key2] => value 2 [key3] => value 3 )\n Array ( [key1] => value 1 [key2] => value 2 [key3] => value 3 )\n Array ( [key2] => value 2 [key3] => value 3 )ShareImprove this answerFolloweditedFeb 22, 2019 at 9:53Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredAug 16, 2016 at 15:36Umar Farooque KhanUmar Farooque Khan50811 gold badge66 silver badges1717 bronze badges\n\nRemove an array element based on a key:Use theunsetfunction like below:$a = array(\n       \'salam\',\n       \'10\',\n       1\n);\n\nunset($a[1]);\n\nprint_r($a);\n\n/*\n\n    Output:\n\n        Array\n        (\n            [0] => salam\n            [2] => 1\n        )\n\n*/Remove an array element based on value:Use thearray_searchfunction to get an element key and use the above manner to remove an array element like below:$a = array(\n       \'salam\',\n       \'10\',\n       1\n);\n\n$key = array_search(10, $a);\n\nif ($key !== false) {\n    unset($a[$key]);\n}\n\nprint_r($a);\n\n/*\n\n    Output:\n\n        Array\n        (\n            [0] => salam\n            [2] => 1\n        )\n\n*/ShareImprove this answerFolloweditedFeb 22, 2019 at 10:01Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredSep 22, 2017 at 10:28MahdiYMahdiY1,2762222 silver badges3232 bronze badges\n\nUse the following code:$arr = array(\'orange\', \'banana\', \'apple\', \'raspberry\');\n$result = array_pop($arr);\nprint_r($result);ShareImprove this answerFolloweditedFeb 19, 2019 at 10:55community wiki4 revs, 4 users 30%Jens Erat\n\nTo remove an element from an array in PHP so it\'s no longer included in aforeachloop, you can use several methods. Here\'s a straightforward approach:Method: Usingunset()Usage: Ideal for removing an element when you know its key.Behavior: Does not reindex numeric array keys.Example:$myArray = [\'apple\', \'banana\', \'cherry\'];\nunset($myArray[1]); // Removes \'banana\'Method: Usingarray_splice()Usage: Useful when you want to remove an element based on its position (offset) and automatically reindex numeric keys.Example:$myArray = [\'apple\', \'banana\', \'cherry\'];\narray_splice($myArray, 1, 1); // Removes \'banana\'Method: Usingarray_diff()Usage: Suitable for removing elements by their values. Does not affect keys.Example:$myArray = [\'apple\', \'banana\', \'cherry\'];\n$myArray = array_diff($myArray, [\'banana\']); // Removes \'banana\'Method: Usingarray_filter()Usage: Best for removing elements based on a condition.Example:$myArray = [\'apple\', \'banana\', \'cherry\'];\n$myArray = array_filter($myArray, function($item) {\n    return $item !== \'banana\';\n});Each of these methods has its specific use cases and effects on the array structure, especially regarding keys. Choose the one that best suits your need.For more comprehensive insights and advanced examples on array manipulation in PHP, you might findthis articlehelpful.ShareImprove this answerFolloweditedNov 17, 2023 at 3:47answeredNov 11, 2023 at 5:09Syed Kazim Ali ShahSyed Kazim Ali Shah11199 bronze badges\n\nI came here because I wanted to see if there was a more elegant solution to this problem than using unset($arr[$i]).  To my disappointment these answers are either wrong or do not cover every edge case.Here is why array_diff() does not work.  Keys are unique in the array, while elements are not always unique.$arr = [1,2,2,3];\n\nforeach($arr as $i => $n){\n    $b = array_diff($arr,[$n]);\n    echo ""\\n"".json_encode($b);\n}Results...[2,2,3]\n[1,3]\n[1,2,2]If two elements are the same they will be remove.  This also applies for array_search() and array_flip().I saw a lot of answers with array_slice() and array_splice(), but these functions only work with numeric arrays.  All the answers I am aware if here does not answer the question, and so here is a solution that will work.$arr = [1,2,3];\n\nforeach($arr as $i => $n){\n    $b = array_merge(array_slice($arr,0,$i),array_slice($arr,$i+1));\n    echo ""\\n"".json_encode($b);\n}\n\nResults...\n\n[2,3];\n[1,3];\n[1,2];Since unset($arr[$i]) will work on both associative array and numeric arrays this still does not answer the question.This solution is to compare the keys and with a tool that will handle both numeric and associative arrays. I use array_diff_uassoc() for this.  This function compares the keys in a call back function.$arr = [1,2,2,3];\n//$arr = [\'a\'=>\'z\',\'b\'=>\'y\',\'c\'=>\'x\',\'d\'=>\'w\'];\nforeach($arr as $key => $n){\n    $b = array_diff_uassoc($arr, [$key=>$n], function($a,$b) {\n        if($a != $b){\n            return 1;\n        }\n    });\n    echo ""\\n"".json_encode($b);\n}Results.....[2,2,3];\n[1,2,3];\n[1,2,2];\n\n[\'b\'=>\'y\',\'c\'=>\'x\',\'d\'=>\'w\'];\n[\'a\'=>\'z\',\'c\'=>\'x\',\'d\'=>\'w\'];\n[\'a\'=>\'z\',\'b\'=>\'y\',\'d\'=>\'w\'];\n[\'a\'=>\'z\',\'b\'=>\'y\',\'c\'=>\'x\'];ShareImprove this answerFolloweditedOct 19, 2020 at 15:29answeredOct 13, 2020 at 14:32Jed LynchJed Lynch2,1061919 silver badges1616 bronze badges\n\nDeleting a Single Array ElementIf you want to delete just one single array element you can useunset()and alternativelyarray_splice().ShareImprove this answerFolloweditedJan 6 at 0:20mickmackusa46.6k1313 gold badges8888 silver badges151151 bronze badgesRecognized by PHP CollectiveansweredJan 2 at 9:36ramzi benssaciramzi benssaci744 bronze badges'}","{'title': 'Proper use cases for Android UserManager.isUserAGoat()?', 'question': 'Want to improve this post?Provide detailed answers to this question, including citations and an explanation of why your answer is correct. Answers without enough detail may be edited or deleted.I was looking at the new APIs introduced inAndroid 4.2.\nWhile looking at theUserManagerclass I came across the following method:public boolean isUserAGoat()Used to determine whether the user making this call is subject to teleportations.Returns whether the user making this call is a goat.How and when should this be used?javaandroidusermanagerShareImprove this questionFolloweditedSep 7, 2018 at 8:21Luca Kiebel10k77 gold badges3131 silver badges4545 bronze badgesaskedNov 14, 2012 at 8:34Ovidiu LatcuOvidiu Latcu72.2k1515 gold badges7777 silver badges8686 bronze badges', 'answers': 'Android R Update:From Android R, this method always returns false. Google says that this is done ""to protect goat privacy"":/**\n * Used to determine whether the user making this call is subject to\n * teleportations.\n *\n * <p>As of {@link android.os.Build.VERSION_CODES#LOLLIPOP}, this method can\n * now automatically identify goats using advanced goat recognition technology.</p>\n *\n * <p>As of {@link android.os.Build.VERSION_CODES#R}, this method always returns\n * {@code false} in order to protect goat privacy.</p>\n *\n * @return Returns whether the user making this call is a goat.\n */\npublic boolean isUserAGoat() {\n    if (mContext.getApplicationInfo().targetSdkVersion >= Build.VERSION_CODES.R) {\n        return false;\n    }\n    return mContext.getPackageManager()\n            .isPackageAvailable(""com.coffeestainstudios.goatsimulator"");\n}Previous answer:From theirsource, the method used to returnfalseuntil it was changed in API 21./**\n * Used to determine whether the user making this call is subject to\n * teleportations.\n * @return whether the user making this call is a goat \n */\npublic boolean isUserAGoat() {\n    return false;\n}It looks like the method has no real use for us as developers. Someone has previously stated that it might be anEaster egg.In API 21 the implementation was changed to check if there is an installed app with the packagecom.coffeestainstudios.goatsimulator/**\n * Used to determine whether the user making this call is subject to\n * teleportations.\n *\n * <p>As of {@link android.os.Build.VERSION_CODES#LOLLIPOP}, this method can\n * now automatically identify goats using advanced goat recognition technology.</p>\n *\n * @return Returns true if the user making this call is a goat.\n */\npublic boolean isUserAGoat() {\n    return mContext.getPackageManager()\n            .isPackageAvailable(""com.coffeestainstudios.goatsimulator"");\n}Here is thesourceand thechange.ShareImprove this answerFolloweditedDec 17, 2020 at 16:56Wrichik Basu1,25311 gold badge1818 silver badges3434 bronze badgesansweredNov 14, 2012 at 8:40mehmeh22.4k88 gold badges4848 silver badges5959 bronze badges\n\nI don\'t know if this was ""the"" official use case, but the following produces a warning in Java (that can further produce compile errors if mixed withreturnstatements, leading to unreachable code):while (1 == 2) { // Note that ""if"" is treated differently\n    System.out.println(""Unreachable code"");\n}However this is legal:while (isUserAGoat()) {\n    System.out.println(""Unreachable but determined at runtime, not at compile time"");\n}So I often find myself writing a silly utility method for the quickest way to dummy out a code block, then in completing debugging find all calls to it, so provided the implementation doesn\'t change this can be used for that.JLSpoints outif (false)does not trigger ""unreachable code"" for the specific reason that this would break support for debug flags, i.e., basically this use case (h/t @auselen). (static final boolean DEBUG = false;for instance).I replacedwhileforif, producing a more obscure use case. Ibelieveyou can trip up your IDE, like Eclipse, with this behavior, but this edit is 4 years into the future, and I don\'t have an Eclipse environment to play with.ShareImprove this answerFolloweditedFeb 12, 2018 at 21:13Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredNov 14, 2012 at 14:47djechlindjechlin60.3k3636 gold badges168168 silver badges294294 bronze badges\n\nThis appears to be an inside joke at Google. It\'s also featured in the Google Chrome task manager. It has no purpose, other than some engineers finding it amusing. Which is a purpose by itself, if you will.In Chrome, open the Task Manager withShift+Esc.Right click to add theGoats Teleportedcolumn.Wonder.There is even a huge Chromium bug report abouttoo many teleported goats.The following Chromiumsource code snippetis stolen from theHNcomments.int TaskManagerModel::GetGoatsTeleported(int index) const {\n  int seed = goat_salt_ * (index + 1);\n  return (seed >> 16) & 255;\n}ShareImprove this answerFolloweditedNov 15, 2012 at 1:06answeredNov 14, 2012 at 9:03user479870user479870\n\nComplementing the @djechlinanswer(good answer by the way!), this function call could bealsoused as dummy code to hold a breakpoint in an IDE when you want to stop in some specific iteration or a particular recursive call, for example:isUserAGoat()could be used instead of a dummy variable declaration that will be shown in the IDE as a warning and, in Eclipse particular case, will clog the breakpoint mark, making it difficult to enable/disable it. If the method is used as a convention, all the invocations could be later filtered by some script (during commit phase maybe?).Google guys are heavy Eclipse users (they provide several of their projects as Eclipse plugins: Android SDK, GAE, etc), so the @djechlin answer and this complementary answer make a lot of sense (at least for me).ShareImprove this answerFolloweditedMay 23, 2017 at 12:02CommunityBot111 silver badgeansweredNov 21, 2012 at 16:55higuarohiguaro15.9k44 gold badges3737 silver badges4343 bronze badges\n\nThere\'s a funny named method/constant/whatever in each version of Android.The only practical use I ever saw was in the Last Call forGoogle I/OContest where they asked what it was for a particular version, to see if contestants read the API diff report for each release. The contest had programming problems too, but generally some trivia that could be graded automatically first to get the number of submissions down to reasonable amounts that would be easier to check.ShareImprove this answerFolloweditedDec 10, 2012 at 2:46answeredNov 14, 2012 at 17:26Lance NanekLance Nanek6,38722 gold badges2525 silver badges1919 bronze badges\n\nIn the discipline of speech recognition, users are divided intogoatsandsheeps.For instance, hereon page 89:Sheeps are people for whom speech recognition works exceptionally well, and goats are people for whom it works exceptionally poorly. Only the voice recognizer knows what separates them. People can\'t predict whose voice will be recognized easily and whose won\'t. The best policy is to design the interface so it can handle all kinds of voices in all kinds of environmentsMaybe, it is planned to mark Android users as goats in the future to be able to configure the speech recognition engine for goats\' needs. ;-)ShareImprove this answerFolloweditedFeb 12, 2018 at 21:16Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMay 31, 2013 at 9:33rainer198rainer1983,23322 gold badges2828 silver badges4545 bronze badges\n\nAs of API 21 (the first Android 5.0/Lollipop SDK), this detects whether theGoat Simulatorapp is installed:/**\n * Used to determine whether the user making this call is subject to\n * teleportations.\n *\n * <p>As of {@link android.os.Build.VERSION_CODES#LOLLIPOP}, this method can\n * now automatically identify goats using advanced goat recognition technology.</p>\n *\n * @return Returns true if the user making this call is a goat.\n */\npublic boolean isUserAGoat() {\n    return mContext.getPackageManager()\n            .isPackageAvailable(""com.coffeestainstudios.goatsimulator"");\n}This should make it clear thatdjechlin\'s suggestionof using it as a warning-freeif (false)is a potentially disastrous strategy. What previously returnedfalsefor every device now returns a seemingly random value: if this was buried deep enough in your code it could take alongtime to figure out where your new bugs are coming from.Bottom line: if you don\'t control the implementation of a method and decide to use it for purposes other than stated in the API documentation, you\'re heading for trouble.ShareImprove this answerFolloweditedSep 20, 2017 at 10:30answeredOct 20, 2014 at 10:00Mark WhitakerMark Whitaker8,54588 gold badges4545 silver badges7070 bronze badges\n\nGoogle has a serious liking for goats and goat basedEaster eggs. There has even beenprevious Stack\xa0Overflow posts about it.As has been mentioned in previous posts, it also exists within the Chrome task manager (it first appeared in the wild in 2009):<message name=""IDS_TASK_MANAGER_GOATS_TELEPORTED_COLUMN"" desc=""The goats teleported column"">\n    Goats Teleported\n</message>And then in Windows, Linux and Mac versions of Chrome early 2010). The number of ""Goats Teleported"" is in factrandom:int TaskManagerModel::GetGoatsTeleported(int index) const {\n     int seed = goat_salt_ * (index + 1);\n     return (seed >> 16) & 255;\n }Other Google references to goats include:Mowing with goatsThe goats are baaaahkThe earliest correlation of goats and Google belongs in the original ""Mowing with goats"" blog post, as far as I can tell.We can safely assume that it\'s merely an Easter egg and has no real-world use, except for returningfalse.ShareImprove this answerFolloweditedMay 23, 2017 at 11:47CommunityBot111 silver badgeansweredNov 15, 2012 at 10:33rickyduckrickyduck4,0681414 gold badges5959 silver badges9494 bronze badges\n\nThere is a similar call,isUserAMonkey(), that returns true if theMonkeyRunner toolis being used. The SDK explanation is just as curious as this one.public static boolean isUserAMonkey(){}Returnstrueif the user interface is currently being messed with by a monkey.Hereis the source.I expect that this was added in anticipation of a newSDKtool named something with a goat and willactuallybe functional to test for the presence of that tool.Also see a similar question,Strange function in ActivityManager: isUserAMonkey. What does this mean, what is its use?.ShareImprove this answerFolloweditedMay 23, 2017 at 12:26CommunityBot111 silver badgeansweredNov 16, 2012 at 21:33KDExKDEx3,59744 gold badges3232 silver badges3939 bronze badges\n\nFunny Easter Egg.In Ubuntu version of Chrome, in Task Manager (shift+esc), with right-click you can add a sci-fi column that in italian version is ""Capre Teletrasportate"" (Teleported Goats).A funny theory about it ishere.ShareImprove this answerFolloweditedApr 21, 2016 at 11:38GAMITG3,82077 gold badges3333 silver badges5151 bronze badgesansweredFeb 6, 2014 at 10:35j.cj.c2,86333 gold badges3131 silver badges4545 bronze badges\n\nIt\'s important from a usability and accessibility angle to know whether or not your user is a Goat.Goats actually have very different needs from their software if they are going to truly benefit from all the information age has to offer.I think it wonderful that some kind developer was concerned about ALL of us users, not just the fashionable ones.ShareImprove this answerFollowansweredMay 9, 2022 at 23:05Nobody Tells The TruthNobody Tells The Truth32122 silver badges1010 bronze badges\n\nIt\'s not an inside jokeApparently it\'s just an application checker forGoat Simulator - by Coffee Stain StudiosIf you have Goat Simulator installed, you\'re a goat.\nIf you don\'t have it installed, you\'re not a goat.I imagine it was more of a personal experiment by one of the developers, most likely to find people with a common interest.ShareImprove this answerFolloweditedDec 4, 2019 at 10:49Manaus40755 silver badges99 bronze badgesansweredNov 17, 2018 at 19:11Empire of EEmpire of E61877 silver badges1313 bronze badges'}","{'title': 'How can I validate an email address in JavaScript?', 'question': ""This question's answers are acommunity effort. Edit existing answers to improve this post. It is not currently accepting new answers or interactions.I'd like to check if the user input is an email address in JavaScript, before sending it to a server or attempting to send an email to it, to prevent the most basic mistyping. How could I achieve this?javascripthtmlregexemail-validationShareFolloweditedJul 28, 2022 at 7:55community wiki29 revs, 19 users 25%pix0r"", 'answers': 'Usingregular expressionsis probably the best way of validating an email address in JavaScript.View a bunch of tests on JSFiddletaken fromChromium.const validateEmail = (email) => {\n  return String(email)\n    .toLowerCase()\n    .match(\n      /^(([^<>()[\\]\\\\.,;:\\s@""]+(\\.[^<>()[\\]\\\\.,;:\\s@""]+)*)|.("".+""))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n    );\n};The following is an example of a regular expression that accepts unicode.const re =\n  /^(([^<>()[\\]\\.,;:\\s@\\""]+(\\.[^<>()[\\]\\.,;:\\s@\\""]+)*)|(\\"".+\\""))@(([^<>()[\\]\\.,;:\\s@\\""]+\\.)+[^<>()[\\]\\.,;:\\s@\\""]{2,})$/i;Keep in mind that one should not rely on JavaScript validation alone, as JavaScript can be easily disabled by the client. Furthermore, it is important to validate on the server side.The following snippet of code is an example of JavaScript validating an email address on the client side.const validateEmail = (email) => {\n  return email.match(\n    /^(([^<>()[\\]\\\\.,;:\\s@\\""]+(\\.[^<>()[\\]\\\\.,;:\\s@\\""]+)*)|(\\"".+\\""))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n  );\n};\n\nconst validate = () => {\n  const $result = $(\'#result\');\n  const email = $(\'#email\').val();\n  $result.text(\'\');\n\n  if(validateEmail(email)){\n    $result.text(email + \' is valid.\');\n    $result.css(\'color\', \'green\');\n  } else{\n    $result.text(email + \' is invalid.\');\n    $result.css(\'color\', \'red\');\n  }\n  return false;\n}\n\n$(\'#email\').on(\'input\', validate);<script src=""https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js""></script>\n\n<label for=""email"">Enter email address</label>\n<input id=""email"" type=""email"">\n\n<p id=""result""></p>ShareImprove this answerFolloweditedAug 31, 2023 at 18:18community wiki31 revs, 29 users 20%rnevius\n\nI\'ve slightly modifiedJaymon\'s answerfor people who want really simple validation in the form of:[email\xa0protected]The regular expression:/^\\S+@\\S+\\.\\S+$/To prevent matching multiple @ signs:/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/The above regexes match the whole string, remove the leading and^and trailing$if you want to match anywhere in the string. The example below matchesanywherein the string.If you do want to match the whole sring, you may want totrim()the string first.Example JavaScript function:function validateEmail(email) {\n  var re = /\\S+@\\S+\\.\\S+/;\n  return re.test(email);\n}\n    \nconsole.log(validateEmail(\'my email is[email\xa0protected]\')); // true\n    \nconsole.log(validateEmail(\'my email is anystring@anystring .any\')); // falseShareImprove this answerFolloweditedOct 5, 2022 at 14:54community wiki10 revs, 10 users 33%C. Lee\n\nJust for completeness,here you have another RFC 2822 compliant regexThe official standard is known asRFC 2822. It describes the syntax that valid email addresses must adhere to. You can (but you shouldn\'t—read on) implement it with this regular expression:(?:[a-z0-9!#$%&\'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&\'*+/=?^_`{|}~-]+)*|""(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*"")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])(...) We get a more practical implementation of RFC 2822 if we omit the syntax using double quotes and square brackets.It will still match 99.99% of all email addresses in actual use today.[a-z0-9!#$%&\'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&\'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?A further change you could make is to allow any two-letter country code top level domain, and only specific generic top level domains.This regex filters dummy email addresses like[email\xa0protected]. Youwill need to update it as new top-level domains are added.[a-z0-9!#$%&\'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&\'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+(?:[A-Z]{2}|com|org|net|gov|mil|biz|info|mobi|name|aero|jobs|museum)\\bSo even when following official standards, there are still trade-offs to be made.Don\'t blindly copy regular expressions from online libraries or discussion forums. Always test them on your own data and with your own applications.Emphasis mineShareImprove this answerFolloweditedOct 7, 2021 at 7:34community wiki9 revs, 5 users 64%Esteban Küber\n\nWow, there are lots of complexity here. If all you want to do is just catch the most obvious syntax errors, I would do something like this:^\\S+@\\S+$It usually catches the most obvious errors that the user makes and assures that the form is mostly right, which is what JavaScript validation is all about.EDIT:\nWe can also check for \'.\' in the email using/^\\S+@\\S+\\.\\S+$/ShareImprove this answerFolloweditedSep 15, 2021 at 17:54community wiki5 revs, 5 users 44%Jaymon\n\nThere\'s something you have to understand the second you decide to use a regular expression to validate emails:It\'s probably not a good idea. Once you have come to terms with that, there are many implementations out there that can get you halfway there,this article sums them up nicely.In short, however, the only way to be absolutely, positively sure that what the user entered is in fact an email is to actually send an email and see what happens. Other than that it\'s all just guesses.ShareImprove this answerFollowansweredMay 2, 2009 at 17:18community wikiPaolo Bergantino\n\nHTML5 itself has email validation. If your browser supports HTML5 then you can use the following code.<form>\n  <label>Email Address\n    <input type=""email"" placeholder=""[email\xa0protected]"" required>\n  </label>\n  <input type=""submit"">\n</form>jsFiddlelinkFrom theHTML5 spec:Avalid e-mail addressis a string that matches theemailproduction of the following ABNF, the character set for which is Unicode.email   = 1*( atext / ""."" ) ""@"" label *( ""."" label )\nlabel   = let-dig [ [ ldh-str ] let-dig ]  ; limited to a length of 63 characters by RFC 1034 section 3.5\natext   = < as defined in RFC 5322 section 3.2.3 >\nlet-dig = < as defined in RFC 1034 section 3.5 >\nldh-str = < as defined in RFC 1034 section 3.5 >This requirement is awillful violationof RFC 5322, which defines a syntax for e-mail addresses that is simultaneously too strict (before the ""@"" character), too vague (after the ""@"" character), and too lax (allowing comments, whitespace characters, and quoted strings in manners unfamiliar to most users) to be of practical use here.The following JavaScript- and Perl-compatible regular expression is an implementation of the above definition./^[a-zA-Z0-9.!#$%&\'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/ShareImprove this answerFolloweditedJul 5, 2022 at 12:37community wiki9 revs, 7 users 31%Anoop\n\nI have found this to be the best solution:/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/It allows the following formats:1.[email\xa0protected]2.[email\xa0protected]3.[email\xa0protected]4.[email\xa0protected]9.  #!$%&\'*+-/=?^_`{}|[email\xa0protected]6.  ""()[]:,;@\\\\\\""!#$%&\'*+-/=?^_`{}| ~.a""@example.org\n7.  "" ""@example.org (space between the quotes)\n8.  üñîçøðé@example.com (Unicode characters in local part)\n9.  üñîçøðé@üñîçøðé.com (Unicode characters in domain part)\n10. Pelé@example.com (Latin)\n11. δοκιμή@παράδειγμα.δοκιμή (Greek)\n12. 我買@屋企.香港 (Chinese)\n13. 甲斐@黒川.日本 (Japanese)\n14. чебурашка@ящик-с-апельсинами.рф (Cyrillic)It\'s clearly versatile and allows the all-important international characters, while still enforcing the basic[email\xa0protected]format. It will block spaces which are technically allowed by RFC, but they are so rare that I\'m happy to do this.ShareImprove this answerFollowansweredSep 21, 2015 at 1:52community wikiAndrew\n\nIn modern browsers you can build on top of @Sushil\'s answer with pure JavaScript and theDOM:function validateEmail(value) {\n  var input = document.createElement(\'input\');\n\n  input.type = \'email\';\n  input.required = true;\n  input.value = value;\n\n  return typeof input.checkValidity === \'function\' ? input.checkValidity() : /\\S+@\\S+\\.\\S+/.test(value);\n}I\'ve put together an example in the fiddlehttp://jsfiddle.net/boldewyn/2b6d5/. Combined with feature detection and the bare-bones validation fromSquirtle\'s Answer, it frees you from the regular expression massacre and does not bork on old browsers.ShareImprove this answerFolloweditedJul 25, 2018 at 7:07community wiki6 revs, 4 users 66%Boldewyn\n\nJavaScript can match a regular expression:emailAddress.match( / some_regex /);Here\'s anRFC22regular expression for emails:^((?>[a-zA-Z\\d!#$%&\'*+\\-/=?^_`{|}~]+\\x20*|""((?=[\\x01-\\x7f])[^""\\\\]|\\\\[\\x01-\\x7f])*\n""\\x20*)*(?<angle><))?((?!\\.)(?>\\.?[a-zA-Z\\d!#$%&\'*+\\-/=?^_`{|}~]+)+|""((?=[\\x01-\\x\n7f])[^""\\\\]|\\\\[\\x01-\\x7f])*"")@(((?!-)[a-zA-Z\\d\\-]+(?<!-)\\.)+[a-zA-Z]{2,}|\\[(((?(?<\n!\\[)\\.)(25[0-5]|2[0-4]\\d|[01]?\\d?\\d)){4}|[a-zA-Z\\d\\-]*[a-zA-Z\\d]:((?=[\\x01-\\x7f])\n[^\\\\\\[\\]]|\\\\[\\x01-\\x7f])+)\\])(?(angle)>)$ShareImprove this answerFolloweditedOct 7, 2021 at 5:46community wiki4 revs, 3 users 54%Ben Scheirman\n\nAll email addresses contain an \'at\' (i.e. @) symbol. Test that necessary condition:email.includes(\'@\')Or, if you need to support IE/older browsers:email.indexOf(\'@\') > 0Don\'t bother with anything more complicated. Even if you could perfectly determine whether an email is RFC-syntactically valid, that wouldn\'t tell you whether it belongs to the person who supplied it. That\'s what really matters.To test that, send a validation message.ShareImprove this answerFolloweditedSep 29, 2021 at 11:04community wiki7 revs, 5 users 57%Colonel Panic\n\nCorrect validation of email address in compliance with the RFCs is not something that can be achieved with a one-liner regular expression. An article with the best solution I\'ve found in PHP isWhat is a valid email address?. Obviously, it has been ported to Java.I think the function is too complex to be ported and used in JavaScript.JavaScript/node.js port:https://www.npmjs.com/package/email-addresses.A good practice is to validate your data on the client, but double-check the validation on the server. With this in mind, you can simply check whether a string looks like a valid email address on the client and perform the strict check on the server.Here\'s the JavaScript function I use to check if a string looks like a valid mail address:function looksLikeMail(str) {\n    var lastAtPos = str.lastIndexOf(\'@\');\n    var lastDotPos = str.lastIndexOf(\'.\');\n    return (lastAtPos < lastDotPos && lastAtPos > 0 && str.indexOf(\'@@\') == -1 && lastDotPos > 2 && (str.length - lastDotPos) > 2);\n}Explanation:lastAtPos < lastDotPos: Last@should be before last.since@cannot be part of server name (as far as I know).lastAtPos > 0: There should be something (the email username) before the last@.str.indexOf(\'@@\') == -1: There should be no@@in the address. Even if@appears as the last character in email username, it has to be quoted so""would be between that@and the last@in the address.lastDotPos > 2: There should be at least three characters before the last dot, for example[email\xa0protected].(str.length - lastDotPos) > 2: There should be enough characters after the last dot to form a two-character domain. I\'m not sure if the brackets are necessary.ShareImprove this answerFolloweditedOct 31, 2018 at 9:15community wiki5 revs, 4 users 82%Miloš Rašić\n\nThis is the correct RFC822 version.function checkEmail(emailAddress) {\n  var sQtext = \'[^\\\\x0d\\\\x22\\\\x5c\\\\x80-\\\\xff]\';\n  var sDtext = \'[^\\\\x0d\\\\x5b-\\\\x5d\\\\x80-\\\\xff]\';\n  var sAtom = \'[^\\\\x00-\\\\x20\\\\x22\\\\x28\\\\x29\\\\x2c\\\\x2e\\\\x3a-\\\\x3c\\\\x3e\\\\x40\\\\x5b-\\\\x5d\\\\x7f-\\\\xff]+\';\n  var sQuotedPair = \'\\\\x5c[\\\\x00-\\\\x7f]\';\n  var sDomainLiteral = \'\\\\x5b(\' + sDtext + \'|\' + sQuotedPair + \')*\\\\x5d\';\n  var sQuotedString = \'\\\\x22(\' + sQtext + \'|\' + sQuotedPair + \')*\\\\x22\';\n  var sDomain_ref = sAtom;\n  var sSubDomain = \'(\' + sDomain_ref + \'|\' + sDomainLiteral + \')\';\n  var sWord = \'(\' + sAtom + \'|\' + sQuotedString + \')\';\n  var sDomain = sSubDomain + \'(\\\\x2e\' + sSubDomain + \')*\';\n  var sLocalPart = sWord + \'(\\\\x2e\' + sWord + \')*\';\n  var sAddrSpec = sLocalPart + \'\\\\x40\' + sDomain; // complete RFC822 email address spec\n  var sValidEmail = \'^\' + sAddrSpec + \'$\'; // as whole string\n\n  var reValidEmail = new RegExp(sValidEmail);\n\n  return reValidEmail.test(emailAddress);\n}ShareImprove this answerFolloweditedFeb 25, 2015 at 15:18community wiki2 revs, 2 users 91%bvl\n\nThis was stolen fromhttp://codesnippets.joyent.com/posts/show/1917email = $(\'email\');\nfilter = /^([a-zA-Z0-9_\\.\\-])+\\@(([a-zA-Z0-9\\-])+\\.)+([a-zA-Z0-9]{2,4})+$/;\nif (filter.test(email.value)) {\n  // Yay! valid\n  return true;\n}\nelse\n  {return false;}ShareImprove this answerFollowansweredMay 2, 2009 at 17:19community wikiAdam McKee\n\nDo this:^([a-zA-Z0-9!#$%&\'*+\\/=?^_`{|}~-]+(?:\\.[a-zA-Z0-9!#$%&\'*+\\/=?^_`{|}~-]+)*@(?:[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?\\.)+[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?)$It\'s based onRFC 2822Test it athttps://regex101.com/r/857lzc/1Often when storing email addresses in the database I make them lowercase and, in practice, regexs can usually be marked case insensitive. In those cases this is slightly shorter:[a-z0-9!#$%&\'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&\'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?Here\'s an example of it being used in JavaScript (with the case insensitive flagiat the end).var emailCheck=/^[a-z0-9!#$%&\'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&\'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i;\nconsole.log( emailCheck.test(\'[email\xa0protected]\') );Note:Technically some emails can include quotes in the section before the@symbol with escape characters inside the quotes (so your email user can be obnoxious and contain stuff like@and""...""as long as it\'s written in quotes). NOBODY DOES THIS EVER! It\'s obsolete. But, it IS included in the trueRFC 2822standard and omitted here.Note 2:\nThe beginning of an email (before the @ sign)canbe case sensitive (via the spec). However, anyone with a case-sensitive email is probably used to having issues, and, in practice, case insensitive is a safe assumption. More info:Are email addresses case sensitive?More info:http://www.regular-expressions.info/email.htmlShareImprove this answerFolloweditedJun 11, 2021 at 8:42community wiki10 revs, 4 users 71%Ryan Taylor\n\nI\'m really looking forward to solve this problem.\nSo I modified email validation regular expression aboveOriginal/^(([^<>()\\[\\]\\\\.,;:\\s@""]+(\\.[^<>()\\[\\]\\\\.,;:\\s@""]+)*)|("".+""))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/Modified/^(([^<>()\\[\\]\\.,;:\\s@\\""]+(\\.[^<>()\\[\\]\\.,;:\\s@\\""]+)*)|(\\"".+\\""))@(([^<>()\\.,;\\s@\\""]+\\.{0,1})+[^<>()\\.,;:\\s@\\""]{2,})$/to pass the examples inWikipedia Email Address.And you can see the result inhere.ShareImprove this answerFolloweditedNov 13, 2016 at 10:21community wiki2 revs, 2 users 97%Keith Lee\n\nSimply check out if the entered email address is valid or not using HTML.<input type=""email""/>There isn\'t any need to write a function for validation.ShareImprove this answerFolloweditedMar 14, 2014 at 16:30community wiki3 revs, 3 users 33%Learner\n\nYou should not use regular expressions to validate an input string to check if it\'s an email. It\'s too complicated and would not cover all the cases.Now since you can only cover 90% of the cases, write something like:function isPossiblyValidEmail(txt) {\n   return txt.length > 5 && txt.indexOf(\'@\')>0;\n}You can refine it. For instance, \'aaa@\' is valid. But overall you get the gist. And don\'t get carried away... A simple 90% solution is better than 100% solution that does not work.The world needs simpler code...ShareImprove this answerFolloweditedMar 9, 2015 at 17:24community wiki5 revs, 2 users 79%Zo72\n\nWikipedia standard mail syntax :https://en.wikipedia.org/wiki/Email_address#Exampleshttps://fr.wikipedia.org/wiki/Adresse_%C3%A9lectronique#Syntaxe_exacteFunction :function validMail(mail)\n{\n    return /^(([^<>()\\[\\]\\.,;:\\s@\\""]+(\\.[^<>()\\[\\]\\.,;:\\s@\\""]+)*)|(\\"".+\\""))@(([^<>()\\.,;\\s@\\""]+\\.{0,1})+([^<>()\\.,;:\\s@\\""]{2,}|[\\d\\.]+))$/.test(mail);\n}Valid emails :validMail(\'[email\xa0protected]\') // Return true\nvalidMail(\'[email\xa0protected].\') // Return true\nvalidMail(\'[email\xa0protected]\') // Return true\nvalidMail(\'user@localserver\') // Return true\nvalidMail(\'[email\xa0protected]\') // Return true\nvalidMail(\'user+mailbox/[email\xa0protected]\') // Return true\nvalidMail(\'""very.(),:;<>[]\\"".VERY.\\""very@\\\\ \\""very\\"".unusual""@strange.example.com\') // Return true\nvalidMail(\'!#$%&\\\'*+-/=?^_`.{|}[email\xa0protected]\') // Return true\nvalidMail(\'""()<>[]:,;@\\\\\\""!#$%&\\\'-/=?^_`{}| ~.a""@example.org\') // Return true\nvalidMail(\'""Abc@def""@example.com\') // Return true\nvalidMail(\'""Fred Bloggs""@example.com\') // Return true\nvalidMail(\'""Joe.\\\\Blow""@example.com\') // Return true\nvalidMail(\'Loïc.Accentué@voilà.fr\') // Return true\nvalidMail(\'"" ""@example.org\') // Return true\nvalidMail(\'user@[IPv6:2001:DB8::1]\') // Return trueInvalid emails :validMail(\'Abc.example.com\') // Return false\nvalidMail(\'A@b@[email\xa0protected]\') // Return false\nvalidMail(\'a""b(c)d,e:f;g<h>i[j\\k][email\xa0protected]\') // Return false\nvalidMail(\'just""not""[email\xa0protected]\') // Return false\nvalidMail(\'this is""not\\[email\xa0protected]\') // Return false\nvalidMail(\'this\\ still\\""not\\\\[email\xa0protected]\') // Return false\nvalidMail(\'[email\xa0protected]\') // Return false\nvalidMail(\'[email\xa0protected]\') // Return falseShow this test :https://regex101.com/r/LHJ9gU/1ShareImprove this answerFolloweditedAug 23, 2022 at 14:08community wiki3 revs, 2 users 98%Liberateur\n\nRegex updated! try thislet val = \'[email\xa0protected]\';\nif(/^[a-z0-9][a-z0-9-_\\.]+@([a-z]|[a-z0-9]?[a-z0-9-]+[a-z0-9])\\.[a-z0-9]{2,10}(?:\\.[a-z]{2,10})?$/.test(val)) {\n   console.log(\'passed\');\n}typscript version complete//\nexport const emailValid = (val:string):boolean => /^[a-z0-9][a-z0-9-_\\.]+@([a-z]|[a-z0-9]?[a-z0-9-]+[a-z0-9])\\.[a-z0-9]{2,10}(?:\\.[a-z]{2,10})?$/.test(val);more infohttps://git.io/vhEfcShareImprove this answerFolloweditedJul 25, 2022 at 14:53community wiki6 revs, 3 users 82%Juan Pablo\n\nIt\'s hard to get an email validator 100% correct. The only real way to get it correct would be to send a test email to the account. That said, there are a few basic checks that can help make sure that you\'re getting something reasonable.Some things to improve:Instead of newRegExp, just try writing theregexpout like this:if (reg.test(/@/))Second, check to make sure that a period comes after the@sign, and make sure that there are characters between the@s and periods.ShareImprove this answerFolloweditedApr 15, 2018 at 10:15community wiki2 revs, 2 users 84%jacobangel\n\nThis is hownode-validatordoes it:/^(?:[\\w\\!\\#\\$\\%\\&\\\'\\*\\+\\-\\/\\=\\?\\^\\`\\{\\|\\}\\~]+\\.)*[\\w\\!\\#\\$\\%\\&\\\'\\*\\+\\-\\/\\=\\?\\^\\`\\{\\|\\}\\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\\-](?!\\.)){0,61}[a-zA-Z0-9]?\\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\\[(?:(?:[01]?\\d{1,2}|2[0-4]\\d|25[0-5])\\.){3}(?:[01]?\\d{1,2}|2[0-4]\\d|25[0-5])\\]))$/ShareImprove this answerFolloweditedApr 15, 2018 at 10:22community wiki4 revs, 3 users 85%pera\n\nA solution that does not check the existence of the TLD is incomplete.Almost all answers to this questions suggest using Regex to validate emails addresses. I think Regex is only good for a rudimentary validation. It seems that the checking validation of email addresses is actually two separate problems:1- Validation of email format:Making sure if the email complies with the format and pattern of emails in RFC 5322 and if the TLD actually exists. A list of all valid TLDs can be foundhere.For example, although the address[email\xa0protected]will pass the regex, it is not a valid email, becausecccis not a top-level domain by IANA.2- Making sure the email actually exists:For doing this,the only optionisto send the users an email.ShareImprove this answerFolloweditedJul 2, 2018 at 1:47community wiki2 revsbman\n\nUse this code inside your validator function:var emailID = document.forms[""formName""][""form element id""].value;\natpos = emailID.indexOf(""@"");\ndotpos = emailID.lastIndexOf(""."");\nif (atpos < 1 || ( dotpos - atpos < 2 ))\n{\n    alert(""Please enter correct email ID"")\n    return false;\n}Else you can usejQuery. Inside rules define:eMailId: {\n    required: true,\n    email: true\n}ShareImprove this answerFolloweditedApr 15, 2018 at 10:23community wiki3 revs, 3 users 60%Orchid\n\nIn contrast tosquirtle, here is a complex solution, but it does a mighty fine job of validating emails properly:function isEmail(email) { \n    return /^((([a-z]|\\d|[!#\\$%&\'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z]|\\d|[!#\\$%&\'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*)|((\\x22)((((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(([\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f]|\\x21|[\\x23-\\x5b]|[\\x5d-\\x7e]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(\\\\([\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))))*(((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(\\x22)))@((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))$/i.test(email);\n}Use like so:if (isEmail(\'[email\xa0protected]\')){ console.log(\'This is email is valid\'); }ShareImprove this answerFolloweditedJun 1, 2016 at 5:12community wiki4 revs, 4 users 56%steve\n\nvar testresults\n\nfunction checkemail() {\n  var str = document.validation.emailcheck.value\n  var filter = /^([\\w-]+(?:\\.[\\w-]+)*)@((?:[\\w-]+\\.)*\\w[\\w-]{0,66})\\.([a-z]{2,6}(?:\\.[a-z]{2})?)$/i\n  if (filter.test(str))\n    testresults = true\n  else {\n    alert(""Please input a valid email address!"")\n    testresults = false\n  }\n  return (testresults)\n}\n\nfunction checkbae() {\n  if (document.layers || document.getElementById || document.all)\n    return checkemail()\n  else\n    return true\n}<form name=""validation"" onSubmit=""return checkbae()"">\n  Please input a valid email address:<br />\n\n  <input type=""text"" size=18 name=""emailcheck"">\n  <input type=""submit"" value=""Submit"">\n</form>ShareImprove this answerFolloweditedAug 11, 2021 at 11:55community wiki3 revs, 3 users 52%Tugrul\n\nMy knowledge ofregular expressionsis not that good. That\'s why I check the general syntax with a simple regular expression first and check more specific options with other functions afterwards. This may not be not the best technical solution, but this way I\'m way more flexible and faster.The most common errors I\'ve come across are spaces (especially at the beginning and end) and occasionally a double dot.function check_email(val){\n    if(!val.match(/\\S+@\\S+\\.\\S+/)){ // Jaymon\'s / Squirtle\'s solution\n        // Do something\n        return false;\n    }\n    if( val.indexOf(\' \')!=-1 || val.indexOf(\'..\')!=-1){\n        // Do something\n        return false;\n    }\n    return true;\n}\n\ncheck_email(\'check@thiscom\'); // Returns false\ncheck_email(\'[email\xa0protected]\'); // Returns false\ncheck_email(\'[email\xa0protected]\'); // Returns false\ncheck_email(\'[email\xa0protected]\'); // Returns trueShareImprove this answerFolloweditedMar 14, 2014 at 16:29community wiki3 revs, 2 users 78%Linkmichiel\n\nHere is a very good discussion about using regular expressions to validate email addresses; ""Comparing E-mail Address Validating Regular Expressions""Here is the current top expression, that is JavaScript compatible, for reference purposes:/^[-a-z0-9~!$%^&*_=+}{\\\'?]+(\\.[-a-z0-9~!$%^&*_=+}{\\\'?]+)*@([a-z0-9_][-a-z0-9_]*(\\.[-a-z0-9_]+)*\\.(aero|arpa|biz|com|coop|edu|gov|info|int|mil|museum|name|net|org|pro|travel|mobi|[a-z][a-z])|([0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}))(:[0-9]{1,5})?$/iShareImprove this answerFollowansweredMay 28, 2010 at 22:05community wikiEric Schoonover\n\nRegex for validating email address[a-z0-9!#$%&\'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&\'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])+ShareImprove this answerFolloweditedJul 5, 2019 at 11:09community wiki7 revs, 5 users 59%Prabhat Kasera\n\nApparently, that\'s it:/^([\\w\\!\\#$\\%\\&\\\'\\*\\+\\-\\/\\=\\?\\^\\`{\\|\\}\\~]+\\.)*[\\w\\!\\#$\\%\\&\\\'\\*\\+\\-\\/\\=\\?\\^\\`{\\|\\}\\~]+@((((([a-z0-9]{1}[a-z0-9\\-]{0,62}[a-z0-9]{1})|[a-z])\\.)+[a-z]{2,6})|(\\d{1,3}\\.){3}\\d{1,3}(\\:\\d{1,5})?)$/iTaken fromhttp://fightingforalostcause.net/misc/2006/compare-email-regex.phpon Oct 1 \'10.But, of course, that\'s ignoring internationalization.ShareImprove this answerFollowansweredOct 1, 2010 at 9:37community wikiFélix Saparelli\n\nWow, there are a lot of answers that contain slightly different regular expressions. I\'ve tried many that I\'ve got different results and a variety of different issues with all of them.For UI validation, I\'m good with the most basic check oflooking for an @ sign. It\'s important to note, that I always do server-side validation with a standard ""validate email"" that contains a unique link for the user to confirm their email address.if (email.indexOf(\'@\') > 0)I have purposely chosen 0 even with zero-based as it also ensures there is a single character before the @.ShareImprove this answerFolloweditedMay 29, 2021 at 5:27community wiki2 revs, 2 users 95%endyourif'}","{'title': 'How do I check if an element is hidden in jQuery?', 'question': 'How do I toggle the visibility of an element using.hide(),.show(), or.toggle()?How do I test if an element isvisibleorhidden?javascriptjquerydomvisibilitydisplayShareImprove this questionFolloweditedDec 8, 2023 at 14:17Mahozad22.4k1717 gold badges146146 silver badges168168 bronze badgesaskedOct 7, 2008 at 13:03Philip MortonPhilip Morton131k3838 gold badges8989 silver badges9797 bronze badges', 'answers': 'Since the question refers to a single element, this code might be more suitable:// Checks CSS content for display:[none|block], ignores visibility:[true|false]\n$(element).is("":visible"");\n\n// The same works with hidden\n$(element).is("":hidden"");It is the same astwernt\'s suggestion, but applied to a single element; and itmatches the algorithm recommended in the jQuery FAQ.We use jQuery\'sis()to check the selected element with another element, selector or any jQuery object. This method traverses along the DOM elements to find a match, which satisfies the passed parameter. It will return true if there is a match, otherwise return false.ShareImprove this answerFolloweditedJul 31, 2021 at 4:07ashleedawg21.2k99 gold badges7878 silver badges113113 bronze badgesansweredOct 7, 2008 at 13:30Tsvetomir TsonevTsvetomir Tsonev106k55 gold badges2828 silver badges3434 bronze badges\n\nYou can use thehiddenselector:// Matches all elements that are hidden\n$(\'element:hidden\')And thevisibleselector:// Matches all elements that are visible\n$(\'element:visible\')ShareImprove this answerFolloweditedMar 8, 2018 at 15:38answeredOct 7, 2008 at 13:16twernttwernt20.5k55 gold badges3333 silver badges4141 bronze badges\n\nif ( $(element).css(\'display\') == \'none\' || $(element).css(""visibility"") == ""hidden""){\n    // \'element\' is hidden\n}The above method does not consider the visibility of the parent. To consider the parent as well, you should use.is("":hidden"")or.is("":visible"").For example,<div id=""div1"" style=""display:none"">\n  <div id=""div2"" style=""display:block"">Div2</div>\n</div>The above method will considerdiv2visible while:visiblenot. But the above might be useful in many cases, especially when you need to find if there is any error divs visible in the hidden parent because in such conditions:visiblewill not work.ShareImprove this answerFolloweditedFeb 29 at 20:43Samuel RIGAUD1,4881717 silver badges2525 bronze badgesansweredOct 7, 2008 at 13:09MoteMote11.4k11 gold badge1919 silver badges1010 bronze badges\n\nNone of these answers address what I understand to be the question, which is what I was searching for,""How do I handle items that havevisibility: hidden?"". Neither:visiblenor:hiddenwill handle this, as they are both looking for display per the documentation.  As far as I could determine, there is no selector to handle CSS visibility.  Here is how I resolved it (standard jQuery selectors, there may be a more condensed syntax):$("".item"").each(function() {\n    if ($(this).css(""visibility"") == ""hidden"") {\n        // handle non visible state\n    } else {\n        // handle visible state\n    }\n});ShareImprove this answerFolloweditedJun 26, 2017 at 7:12Andrii Abramov10.5k1212 gold badges7979 silver badges101101 bronze badgesansweredMar 24, 2011 at 18:44aaronLileaaronLile5,99711 gold badge1515 silver badges33 bronze badges\n\nFromHow do I determine the state of a toggled element?You can determine whether an element is collapsed or not by using the:visibleand:hiddenselectors.var isVisible = $(\'#myDiv\').is(\':visible\');\nvar isHidden = $(\'#myDiv\').is(\':hidden\');If you\'re simply acting on an element based on its visibility, you can just include:visibleor:hiddenin the selector expression. For example:$(\'#myDiv:visible\').animate({left: \'+=200px\'}, \'slow\');ShareImprove this answerFolloweditedJan 12, 2016 at 14:08Chris13522 silver badges77 bronze badgesansweredJan 13, 2011 at 21:13user574889user5748894,36911 gold badge1515 silver badges22 bronze badges\n\nOften when checking if something is visible or not, you are going to go right ahead immediately and do something else with it. jQuery chaining makes this easy.So if you have a selector and you want to perform some action on it only if is visible or hidden, you can usefilter("":visible"")orfilter("":hidden"")followed by chaining it with the action you want to take.So instead of anifstatement, like this:if ($(\'#btnUpdate\').is("":visible""))\n{\n     $(\'#btnUpdate\').animate({ width: ""toggle"" });   // Hide button\n}Or more efficiently:var button = $(\'#btnUpdate\');\nif (button.is("":visible""))\n{\n     button.animate({ width: ""toggle"" });   // Hide button\n}You can do it all in one line:$(\'#btnUpdate\').filter("":visible"").animate({ width: ""toggle"" });ShareImprove this answerFolloweditedMar 31, 2023 at 3:38CPlus4,3723636 gold badges2525 silver badges4848 bronze badgesansweredJul 25, 2009 at 10:21Simon_WeaverSimon_Weaver144k8686 gold badges666666 silver badges709709 bronze badges\n\nThe:visibleselector according tothe jQuery documentation:They have a CSSdisplayvalue ofnone.They are form elements withtype=""hidden"".Their width and height are explicitly set to 0.An ancestor element is hidden, so the element is not shown on the page.Elements withvisibility: hiddenoropacity: 0are considered to be visible, since they still consume space in the layout.This is useful in some cases and useless in others, because if you want to check if the element is visible (display != none), ignoring the parents visibility, you will find that doing.css(""display"") == \'none\'is not only faster, but will also return the visibility check correctly.If you want to check visibility instead of display, you should use:.css(""visibility"") == ""hidden"".Also take into considerationthe additional jQuery notes:Because:visibleis a jQuery extension and not part of the CSS specification, queries using:visiblecannot take advantage of the performance boost provided by the native DOMquerySelectorAll()method. To achieve the best performance when using:visibleto select elements, first select the elements using a pure CSS selector, then use.filter("":visible"").Also, if you are concerned about performance, you should checkNow you see me… show/hide performance(2010-05-04). And use other methods to show and hide elements.ShareImprove this answerFolloweditedJun 21, 2017 at 1:41Pang9,914146146 gold badges8585 silver badges123123 bronze badgesansweredNov 25, 2011 at 9:16Pedro RainhoPedro Rainho4,27411 gold badge2020 silver badges2222 bronze badges\n\nHowelement visibility and jQuery works;An element could be hidden withdisplay:none,visibility:hiddenoropacity:0. The difference between those methods:display:nonehides the element, and it does not take up any space;visibility:hiddenhides the element, but it still takes up space in the layout;opacity:0hides the element as ""visibility:hidden"", and it still takes up space in the layout; the only difference is that opacity lets one to make an element partly transparent;if ($(\'.target\').is(\':hidden\')) {\n  $(\'.target\').show();\n} else {\n  $(\'.target\').hide();\n}\nif ($(\'.target\').is(\':visible\')) {\n  $(\'.target\').hide();\n} else {\n  $(\'.target\').show();\n}\n\nif ($(\'.target-visibility\').css(\'visibility\') == \'hidden\') {\n  $(\'.target-visibility\').css({\n    visibility: ""visible"",\n    display: """"\n  });\n} else {\n  $(\'.target-visibility\').css({\n    visibility: ""hidden"",\n    display: """"\n  });\n}\n\nif ($(\'.target-visibility\').css(\'opacity\') == ""0"") {\n  $(\'.target-visibility\').css({\n    opacity: ""1"",\n    display: """"\n  });\n} else {\n  $(\'.target-visibility\').css({\n    opacity: ""0"",\n    display: """"\n  });\n}Useful jQuery toggle methods:$(\'.click\').click(function() {\n  $(\'.target\').toggle();\n});\n\n$(\'.click\').click(function() {\n  $(\'.target\').slideToggle();\n});\n\n$(\'.click\').click(function() {\n  $(\'.target\').fadeToggle();\n});ShareImprove this answerFolloweditedJul 30, 2017 at 22:00Eugen55766 silver badges1414 bronze badgesansweredApr 24, 2012 at 21:04webvitalywebvitaly4,27188 gold badges3131 silver badges4848 bronze badges\n\nThis works for me, and I am usingshow()andhide()to make my div hidden/visible:if( $(this).css(\'display\') == \'none\' ){\n    /* your code goes here */\n} else {\n    /* alternate logic   */\n}ShareImprove this answerFolloweditedDec 14, 2015 at 21:32webvitaly4,27188 gold badges3131 silver badges4848 bronze badgesansweredJul 6, 2011 at 20:19AbiyAbiy2,43311 gold badge1414 silver badges22 bronze badges\n\nYou can also do this using plain JavaScript:function isRendered(domObj) {\n    if ((domObj.nodeType != 1) || (domObj == document.body)) {\n        return true;\n    }\n    if (domObj.currentStyle && domObj.currentStyle[""display""] != ""none"" && domObj.currentStyle[""visibility""] != ""hidden"") {\n        return isRendered(domObj.parentNode);\n    } else if (window.getComputedStyle) {\n        var cs = document.defaultView.getComputedStyle(domObj, null);\n        if (cs.getPropertyValue(""display"") != ""none"" && cs.getPropertyValue(""visibility"") != ""hidden"") {\n            return isRendered(domObj.parentNode);\n        }\n    }\n    return false;\n}Notes:Works everywhereWorks for nested elementsWorks for CSS and inline stylesDoesn\'t require a frameworkShareImprove this answerFolloweditedMar 19, 2014 at 8:15Zerium17.2k3131 gold badges115115 silver badges185185 bronze badgesansweredJul 16, 2012 at 19:18Matt BrockMatt Brock5,38711 gold badge2828 silver badges2727 bronze badges\n\nI would use CSS class.hide { display: none!important; }.For hiding/showing, I call.addClass(""hide"")/.removeClass(""hide""). For checking visibility, I use.hasClass(""hide"").It\'s a simple and clear way to check/hide/show elements, if you don\'t plan to use.toggle()or.animate()methods.ShareImprove this answerFolloweditedMar 19, 2014 at 8:15Zerium17.2k3131 gold badges115115 silver badges185185 bronze badgesansweredFeb 3, 2012 at 16:04ElectrionicsElectrionics6,74755 gold badges5151 silver badges8282 bronze badges\n\nDemo Link$(\'#clickme\').click(function() {\n  $(\'#book\').toggle(\'slow\', function() {\n    // Animation complete.\n    alert($(\'#book\').is("":visible"")); //<--- TRUE if Visible False if Hidden\n  });\n});<script src=""https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js""></script>\n<div id=""clickme"">\n  Click here\n</div>\n<img id=""book"" src=""https://upload.wikimedia.org/wikipedia/commons/8/87/Google_Chrome_icon_%282011%29.png"" alt="""" width=""300""/>Source (from my blog):Blogger Plug n Play - jQuery Tools and Widgets: How to See if Element is hidden or Visible Using jQueryShareImprove this answerFolloweditedMay 31, 2021 at 21:24Jean-François Fabre♦139k2323 gold badges170170 silver badges232232 bronze badgesansweredJan 25, 2013 at 5:34Code SpyCode Spy9,86444 gold badges7070 silver badges4646 bronze badges\n\nebdivshould be set tostyle=""display:none;"". It works for both show and hide:$(document).ready(function(){\n    $(""#eb"").click(function(){\n        $(""#ebdiv"").toggle();\n    });    \n});ShareImprove this answerFolloweditedOct 26, 2018 at 7:33CommunityBot111 silver badgeansweredJun 13, 2012 at 13:20VaishuVaishu2,36333 gold badges2323 silver badges2525 bronze badges\n\nOne can simply use thehiddenorvisibleattribute, like:$(\'element:hidden\')\n$(\'element:visible\')Or you can simplify the same withisas follows.$(element).is("":visible"")ShareImprove this answerFolloweditedMar 16, 2013 at 10:04Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMay 23, 2012 at 12:59ScoRpionScoRpion11.4k2424 gold badges6868 silver badges9191 bronze badges\n\nAnother answer you should put into consideration is if you are hiding an element, you should usejQuery, but instead of actually hiding it, you remove the whole element, but you copy itsHTMLcontent and the tag itself into a jQuery variable, and then all you need to do is test if there is such a tag on the screen, using the normalif (!$(\'#thetagname\').length).ShareImprove this answerFolloweditedMar 26, 2013 at 22:12answeredApr 21, 2012 at 23:40ZeriumZerium17.2k3131 gold badges115115 silver badges185185 bronze badges\n\nWhen testing an element against:hiddenselector in jQuery it should be considered thatan absolute positioned element may be recognized as hidden although their child elements are visible.This seems somewhat counter-intuitive in the first place – though having a closer look at the jQuery documentation gives the relevant information:Elements can be considered hidden for several reasons: [...] Their width and height are explicitly set to 0. [...]So this actually makes sense in regards to the box-model and the computed style for the element. Even if width and height are not setexplicitlyto 0 they may be setimplicitly.Have a look at the following example:console.log($(\'.foo\').is(\':hidden\')); // true\r\nconsole.log($(\'.bar\').is(\':hidden\')); // false.foo {\r\n  position: absolute;\r\n  left: 10px;\r\n  top: 10px;\r\n  background: #ff0000;\r\n}\r\n\r\n.bar {\r\n  position: absolute;\r\n  left: 10px;\r\n  top: 10px;\r\n  width: 20px;\r\n  height: 20px;\r\n  background: #0000ff;\r\n}<script src=""https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js""></script>\r\n<div class=""foo"">\r\n  <div class=""bar""></div>\r\n</div>Update for jQuery 3.x:With jQuery 3 the described behavior will change! Elements will be considered visible if they have any layout boxes, including those of zero width and/or height.JSFiddle with jQuery 3.0.0-alpha1:http://jsfiddle.net/pM2q3/7/The same JavaScript code will then have this output:console.log($(\'.foo\').is(\':hidden\')); // false\nconsole.log($(\'.bar\').is(\':hidden\')); // falseShareImprove this answerFolloweditedMay 6, 2020 at 13:45Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMay 6, 2014 at 10:50conceptdeluxeconceptdeluxe3,87333 gold badges2727 silver badges3232 bronze badges\n\nexpect($(""#message_div"").css(""display"")).toBe(""none"");ShareImprove this answerFolloweditedNov 14, 2021 at 10:19Nimantha6,36866 gold badges3030 silver badges7474 bronze badgesansweredJul 20, 2012 at 12:44Maneesh SrivastavaManeesh Srivastava1,38722 gold badges99 silver badges1313 bronze badges\n\n$(document).ready(function() {\n  if ($(""#checkme:hidden"").length) {\n    console.log(\'Hidden\');\n  }\n});<script src=""https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js""></script>\n<div id=""checkme"" class=""product"" style=""display:none"">\n  <span class=""itemlist""><!-- Shows Results for Fish --></span> Category:Fish\n  <br>Product: Salmon Atlantic\n  <br>Specie: Salmo salar\n  <br>Form: Steaks\n</div>ShareImprove this answerFolloweditedNov 14, 2021 at 10:18Nimantha6,36866 gold badges3030 silver badges7474 bronze badgesansweredOct 28, 2013 at 6:43Irfan DANISHIrfan DANISH8,4691212 gold badges4343 silver badges6767 bronze badges\n\nTo check if it is not visible I use!:if ( !$(\'#book\').is(\':visible\')) {\n    alert(\'#book is not visible\')\n}Or the following is also the sam, saving the jQuery selector in a variable to have better performance when you need it multiple times:var $book = $(\'#book\')\n\nif(!$book.is(\':visible\')) {\n    alert(\'#book is not visible\')\n}ShareImprove this answerFolloweditedSep 14, 2013 at 8:01Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJun 4, 2013 at 13:42Matthias WegtunMatthias Wegtun1,25111 gold badge99 silver badges1313 bronze badges\n\nUse class toggling, not style editing . . .Using classes designated for ""hiding"" elements is easy and also one of the most efficient methods. Toggling a class \'hidden\' with aDisplaystyle of \'none\' will perform faster than editing that style directly. I explained some of this pretty thoroughly in Stack Overflow questionTurning two elements visible/hidden in the same div.JavaScript Best Practices and OptimizationHere is a truly enlightening video of a Google Tech Talk by Google front-end engineer Nicholas Zakas:Speed Up Your Javascript(YouTube)ShareImprove this answerFolloweditedJun 20, 2020 at 9:12CommunityBot111 silver badgeansweredJul 18, 2013 at 21:17Ross BrasseauxRoss Brasseaux4,11211 gold badge3333 silver badges5050 bronze badges\n\nAfter all, none of examples suits me, so I wrote my own.Tests(no support of Internet\xa0Explorerfilter:alpha):a) Check if the document is not hiddenb) Check if an element has zero width / height / opacity ordisplay:none/visibility:hiddenin inline stylesc) Check if the center (also because it is faster than testing every pixel / corner) of element is not hidden by other element (and all ancestors, example:overflow:hidden/ scroll / one element over another) or screen edgesd) Check if an element has zero width / height / opacity ordisplay:none/ visibility:hidden in computed styles (among all ancestors)Tested onAndroid 4.4 (Native browser/Chrome/Firefox), Firefox (Windows/Mac), Chrome (Windows/Mac), Opera (WindowsPresto/Mac WebKit), Internet\xa0Explorer (Internet\xa0Explorer 5-11 document modes + Internet\xa0Explorer 8 on a virtual machine), and Safari (Windows/Mac/iOS).var is_visible = (function () {\n    var x = window.pageXOffset ? window.pageXOffset + window.innerWidth - 1 : 0,\n        y = window.pageYOffset ? window.pageYOffset + window.innerHeight - 1 : 0,\n        relative = !!((!x && !y) || !document.elementFromPoint(x, y));\n        function inside(child, parent) {\n            while(child){\n                if (child === parent) return true;\n                child = child.parentNode;\n            }\n        return false;\n    };\n    return function (elem) {\n        if (\n            document.hidden ||\n            elem.offsetWidth==0 ||\n            elem.offsetHeight==0 ||\n            elem.style.visibility==\'hidden\' ||\n            elem.style.display==\'none\' ||\n            elem.style.opacity===0\n        ) return false;\n        var rect = elem.getBoundingClientRect();\n        if (relative) {\n            if (!inside(document.elementFromPoint(rect.left + elem.offsetWidth/2, rect.top + elem.offsetHeight/2),elem)) return false;\n        } else if (\n            !inside(document.elementFromPoint(rect.left + elem.offsetWidth/2 + window.pageXOffset, rect.top + elem.offsetHeight/2 + window.pageYOffset), elem) ||\n            (\n                rect.top + elem.offsetHeight/2 < 0 ||\n                rect.left + elem.offsetWidth/2 < 0 ||\n                rect.bottom - elem.offsetHeight/2 > (window.innerHeight || document.documentElement.clientHeight) ||\n                rect.right - elem.offsetWidth/2 > (window.innerWidth || document.documentElement.clientWidth)\n            )\n        ) return false;\n        if (window.getComputedStyle || elem.currentStyle) {\n            var el = elem,\n                comp = null;\n            while (el) {\n                if (el === document) {break;} else if(!el.parentNode) return false;\n                comp = window.getComputedStyle ? window.getComputedStyle(el, null) : el.currentStyle;\n                if (comp && (comp.visibility==\'hidden\' || comp.display == \'none\' || (typeof comp.opacity !==\'undefined\' && comp.opacity != 1))) return false;\n                el = el.parentNode;\n            }\n        }\n        return true;\n    }\n})();How to use:is_visible(elem) // booleanShareImprove this answerFolloweditedMay 6, 2020 at 13:44Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredApr 9, 2014 at 17:06AlekoAleko97011 gold badge99 silver badges1010 bronze badges\n\nExample of using thevisiblecheck for adblocker is activated:$(document).ready(function(){\r\n  if(!$(""#ablockercheck"").is("":visible""))\r\n    $(""#ablockermsg"").text(""Please disable adblocker."").show();\r\n});<script src=""https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js""></script>\r\n<div class=""ad-placement"" id=""ablockercheck""></div>\r\n<div id=""ablockermsg"" style=""display: none""></div>""ablockercheck"" is a ID which adblocker blocks. So checking it if it is visible you are able to detect if adblocker is turned On.ShareImprove this answerFolloweditedSep 13, 2016 at 14:07Cameron28.6k101101 gold badges288288 silver badges488488 bronze badgesansweredApr 27, 2015 at 7:57Roman LosevRoman Losev1,9411919 silver badges2626 bronze badges\n\nYou need to check both. Display as well as visibility:var $this = $(this)\nif ($this.css(""display"") == ""none"" || $this.css(""visibility"") == ""hidden"") {\n    // The element is not visible\n} else {\n    // The element is visible\n}If we check for$this.is("":visible""), jQuery checks for both the things automatically.ShareImprove this answerFolloweditedMar 31, 2023 at 3:40CPlus4,3723636 gold badges2525 silver badges4848 bronze badgesansweredJan 31, 2014 at 6:24Premshankar TiwariPremshankar Tiwari3,04633 gold badges2525 silver badges3131 bronze badges\n\n$(document).ready(function() {\n   var visible = $(\'#tElement\').is(\':visible\');\n\n   if(visible) {\n      alert(""visible"");\n                    // Code\n   }\n   else\n   {\n      alert(""hidden"");\n   }\n});<script src=""https://code.jquery.com/jquery-1.10.2.js""></script>\n\n<input type=""text"" id=""tElement"" style=""display:block;"">Firstname</input>ShareImprove this answerFolloweditedNov 14, 2021 at 10:18Nimantha6,36866 gold badges3030 silver badges7474 bronze badgesansweredApr 7, 2015 at 12:26Mathias StavrouMathias Stavrou88111 gold badge88 silver badges1616 bronze badges\n\nSimply check visibility by checking for a boolean value, like:if (this.hidden === false) {\n    // Your code\n}I used this code for each function. Otherwise you can useis(\':visible\')for checking the visibility of an element.ShareImprove this answerFolloweditedJul 16, 2017 at 13:56dippas59.9k1515 gold badges120120 silver badges130130 bronze badgesansweredAug 11, 2014 at 5:28pixellabmepixellabme55544 silver badges44 bronze badges\n\nBecauseElements with visibility: hidden or opacity: 0 are considered visible, since they still consume space in the layout(as described forjQuery :visible Selector) - we can check if element isreallyvisible in this way:function isElementReallyHidden (el) {\n    return $(el).is("":hidden"") || $(el).css(""visibility"") == ""hidden"" || $(el).css(\'opacity\') == 0;\n}\n\nvar booElementReallyShowed = !isElementReallyHidden(someEl);\n$(someEl).parents().each(function () {\n    if (isElementReallyHidden(this)) {\n        booElementReallyShowed = false;\n    }\n});ShareImprove this answerFolloweditedMar 20, 2014 at 10:32answeredMar 19, 2014 at 12:42AndronAndron6,57144 gold badges4444 silver badges5656 bronze badges\n\nBut what if the element\'s CSS is like the following?.element{\n    position: absolute;left:-9999;    \n}Sothis answer to Stack Overflow questionHow to check if an element is off-screenshould also be considered.ShareImprove this answerFolloweditedMay 23, 2017 at 11:55CommunityBot111 silver badgeansweredAug 23, 2014 at 20:53RN KushwahaRN Kushwaha2,11633 gold badges3030 silver badges4141 bronze badges\n\nA function can be created in order to check for visibility/display attributes in order to gauge whether the element is shown in the UI or not.function checkUIElementVisible(element) {\n    return ((element.css(\'display\') !== \'none\') && (element.css(\'visibility\') !== \'hidden\'));\n}Working FiddleShareImprove this answerFolloweditedNov 22, 2014 at 11:23Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredAug 29, 2014 at 20:20V31V317,63633 gold badges2727 silver badges4444 bronze badges\n\nAlso here\'s a ternary conditional expression to check the state of the element and then to toggle it:$(\'someElement\').on(\'click\', function(){ $(\'elementToToggle\').is(\':visible\') ? $(\'elementToToggle\').hide(\'slow\') : $(\'elementToToggle\').show(\'slow\'); });ShareImprove this answerFollowansweredNov 5, 2013 at 23:32cssimsekcssimsek1,2651414 silver badges2020 bronze badges\n\nif($(\'#postcode_div\').is(\':visible\')) {\n    if($(\'#postcode_text\').val()==\'\') {\n        $(\'#spanPost\').text(\'\\u00a0\');\n    } else {\n        $(\'#spanPost\').text($(\'#postcode_text\').val());\n}ShareImprove this answerFolloweditedDec 7, 2013 at 13:51dcodesmith9,60444 gold badges3737 silver badges4040 bronze badgesansweredNov 15, 2013 at 10:41GauravGaurav41355 silver badges99 bronze badges'}","{'title': ""What is the '-->' operator in C/C++?"", 'question': 'After readingHidden Features and Dark Corners of C++/STLoncomp.lang.c++.moderated, I was completely surprised that the following snippet compiled and worked in both Visual Studio 2008 and G++ 4.4. I would assume this is also valid C since it works in GCC as well.Here\'s the code:#include <stdio.h>\nint main()\n{\n    int x = 10;\n    while (x --> 0) // x goes to 0\n    {\n        printf(""%d "", x);\n    }\n}Output:9 8 7 6 5 4 3 2 1 0Where is this defined in the standard, and where has it come from?c++coperatorscode-formattingstandards-complianceShareImprove this questionFolloweditedMar 30, 2023 at 14:11community wiki43 revs, 29 users 22%GManNickG', 'answers': '-->is not an operator. It is in fact two separate operators,--and>.The code in the condition decrementsx, while returningx\'s original (not decremented) value, and then compares the original value with0using the>operator.To better understand, the statement could be written as follows:while( (x--) > 0 )ShareImprove this answerFolloweditedAug 25, 2023 at 21:34community wiki14 revs, 13 users 16%Bradley Mackey\n\nOr for something completely different...xslides to0.while (x --\\\n            \\\n             \\\n              \\\n               > 0)\n     printf(""%d "", x);Not so mathematical, but... every picture paints a thousand words...ShareImprove this answerFolloweditedJan 8, 2020 at 22:51community wiki8 revs, 8 users 60%unsynchronized\n\nThat\'s a very complicated operator, so evenISO/IEC JTC1 (Joint Technical Committee 1)placed its description in two different parts of the C++ Standard.Joking aside, they are two different operators:--and>described respectively in §5.2.6/2 and §5.9 of the C++03 Standard.ShareImprove this answerFolloweditedOct 2, 2019 at 8:08community wiki12 revs, 9 users 31%Kirill V. Lyadvinsky\n\nxcan go to zero even faster in the opposite direction in C++:int x = 10;\n\nwhile( 0 <---- x )\n{\n   printf(""%d "", x);\n}8 6 4 2You can control speed with an arrow!int x = 100;\n\nwhile( 0 <-------------------- x )\n{\n   printf(""%d "", x);\n}90 80 70 60 50 40 30 20 10ShareImprove this answerFolloweditedJun 21 at 15:39community wiki7 revs, 5 users 89%mip\n\nIt\'s equivalent towhile (x-- > 0)x--(post decrement) is equivalent tox = x-1(but returning the original value ofx), so the code transforms to:while(x > 0) {\n    x = x-1;\n    // logic\n}\nx--;   // The post decrement done when x <= 0ShareImprove this answerFolloweditedJan 22, 2023 at 21:12community wiki8 revs, 8 users 38%Shubham\n\nIt\'s#include <stdio.h>\n\nint main(void) {\n    int x = 10;\n    while (x-- > 0) { // x goes to 0\n        printf(""%d "", x);\n    }\n    return 0;\n}Just the space makes the things look funny,--decrements and>compares.ShareImprove this answerFolloweditedJan 1 at 22:38community wiki8 revs, 8 users 44%RageZ\n\nThe usage of-->has historical relevance. Decrementing was (and still is in some cases), faster than incrementing on the x86 architecture. Using-->suggests thatxis going to0, and appeals to those with mathematical backgrounds.ShareImprove this answerFollowansweredNov 18, 2009 at 12:47community wikiMatt Joiner\n\nUtterly geek, but I will be using this:#define as ;while\n\nint main(int argc, char* argv[])\n{\n    int n = atoi(argv[1]);\n    do printf(""n is %d\\n"", n) as ( n --> 0);\n    return 0;\n}ShareImprove this answerFolloweditedDec 3, 2011 at 2:33community wiki3 revs, 2 users 76%Arrieta\n\nOne book I read (I don\'t remember correctly which book) stated:Compilers try to parse expressions to the biggest tokenby using the left right rule.In this case, the expression:x-->0Parses to biggest tokens:token 1: x\ntoken 2: --\ntoken 3: >\ntoken 4: 0\nconclude: x-- > 0The same ruleapplies to this expression:a-----bAfter parse:token 1: a\ntoken 2: --\ntoken 3: --\ntoken 4: -\ntoken 5: b\nconclude: (a--)-- - bShareImprove this answerFolloweditedOct 8, 2023 at 15:46community wiki7 revs, 6 users 54%NguyenDat\n\nThis is exactly the same aswhile(x--)for non-negative numbers.ShareImprove this answerFolloweditedMar 7 at 21:24community wiki6 revs, 5 users 35%Jan Schultke\n\nAnyway, we have a ""goes to"" operator now.""-->""is easy to be remembered as a direction, and ""while x goes to zero"" is meaning-straight.Furthermore, it is a little more efficient than""for (x = 10; x > 0; x --)""on some platforms.ShareImprove this answerFolloweditedFeb 28, 2013 at 17:28community wiki4 revs, 3 users 56%Test\n\nThis code first compares x and 0 and then decrements x. (Also said in the first answer: You\'re post-decrementing x and then comparing x and 0 with the>operator.) See the output of this code:9 8 7 6 5 4 3 2 1 0We now first compare and then decrement by seeing 0 in the output.If we want to first decrement and then compare, use this code:#include <stdio.h>\nint main(void)\n{\n    int x = 10;\n\n    while( --x> 0 ) // x goes to 0\n    {\n        printf(""%d "", x);\n    }\n    return 0;\n}That output is:9 8 7 6 5 4 3 2 1ShareImprove this answerFolloweditedJan 3, 2016 at 17:48community wiki5 revs, 4 users 70%SjB\n\nMy compiler will print out 9876543210 when I run this code.#include <iostream>\nint main()\n{\n    int x = 10;\n\n    while( x --> 0 ) // x goes to 0\n    {\n        std::cout << x;\n    }\n}As expected. Thewhile( x-- > 0 )actually meanswhile( x > 0). Thex--post decrementsx.while( x > 0 ) \n{\n    x--;\n    std::cout << x;\n}is a different way of writing the same thing.It is nice that the original looks like ""while x goes to 0"" though.ShareImprove this answerFolloweditedApr 30, 2015 at 22:49community wiki5 revs, 4 users 82%cool_me5000\n\nThere is a space missing between--and>.xis post decremented, that is, decremented after checking the conditionx>0 ?.ShareImprove this answerFolloweditedNov 22, 2010 at 19:02community wiki2 revs, 2 users 50%Mr. X\n\n--is thedecrementoperator and>is thegreater-thanoperator.The two operators are applied as a single one like-->.ShareImprove this answerFolloweditedOct 29, 2011 at 21:42community wiki4 revs, 4 users 38%muntoo\n\nIt\'s a combination of two operators. First--is for decrementing the value, and>is for checking whether the value is greater than the right-hand operand.#include<stdio.h>\n\nint main()\n{\n    int x = 10;\n\n    while (x-- > 0)\n        printf(""%d "",x);\n\n    return 0;\n}The output will be:9 8 7 6 5 4 3 2 1 0ShareImprove this answerFolloweditedJan 1 at 22:39community wiki5 revs, 5 users 45%Rajeev Das\n\nC and C++ obey the ""maximal munch"" rule. The same waya---bis translated to(a--) - b, in your casex-->0translates to(x--)>0.What the rule says essentially is that going left to right, expressions are formed by taking the maximum of characters which will form a valid token.ShareImprove this answerFolloweditedJan 22, 2022 at 1:46community wiki4 revs, 3 users 33%Peter Mortensen\n\nActually,xis post-decrementing and with that condition is being checked. It\'s not-->, it\'s(x--) > 0Note: value ofxis changed after the condition is checked, because it post-decrementing. Some similar cases can also occur, for example:-->    x-->0\n++>    x++>0\n-->=   x-->=0\n++>=   x++>=0ShareImprove this answerFolloweditedApr 12, 2014 at 9:52community wiki3 revs, 3 users 70%AndroidLearner\n\nInstead of regular arrow operator (-->) you can use armor-piercing arrow operator: --x> (note those sharp barbs on the arrow tip). It adds +1 to armor piercing, so it finishes the loop 1 iteration faster than regular arrow operator. Try it yourself:int x = 10;\nwhile( --x> 0 )\n    printf(""%d "", x);ShareImprove this answerFolloweditedAug 25, 2023 at 21:32community wiki2 revs, 2 users 67%hydrechan\n\nThe simple answer to the original question is that the following code does the same thing (though I am not saying you should do it like this):#include <stdio.h>\n\nint main() {\n    int x = 10;\n    while (x > 0) {\n        printf(""%d "", x);\n        x = x - 1;\n    }\n}Thex--is just shorthand for the above, and>is just a normal greater-thanoperator.ShareImprove this answerFolloweditedOct 8, 2023 at 12:09community wiki6 revs, 5 users 58%Garry_G\n\n(x --> 0)means(x-- > 0).You can use(x -->)Output: 9 8 7 6 5 4 3 2 1 0You can use(-- x > 0)It\'s mean(--x > 0)Output: 9 8 7 6 5 4 3 2 1You can use(--\\\n    \\\n     x > 0)Output:  9 8 7 6 5 4 3 2 1You can use(\\\n  \\\n   x --> 0)Output: 9 8 7 6 5 4 3 2 1 0You can use(\\\n  \\\n   x --> 0\n          \\\n           \\\n            )Output: 9 8 7 6 5 4 3 2 1 0You can use also(\n x \n  --> \n      0\n       )Output: 9 8 7 6 5 4 3 2 1 0Likewise, you can try lot of methods to execute this command successfully.ShareImprove this answerFolloweditedOct 28, 2020 at 22:58community wiki2 revs, 2 users 87%Kalana\n\nConventional way we define condition in while loop parenthesis""()"" and terminating condition inside the braces""{}"", but this--&>is a way one defines all at once.\nFor example:int abc(){\n    int a = 5\n    while((a--) > 0){ // Decrement and comparison both at once\n        // Code\n    }\n}It says, decrementaand run the loop till the timeais greater than0Other way it should have been like:int abc() {\n    int a = 5;\n    while(a > 0) {\n        a = a -1 // Decrement inside loop\n        // Code\n    }\n}Both ways, we do the same thing and achieve the same goals.ShareImprove this answerFolloweditedDec 30, 2020 at 17:46community wiki4 revs, 4 users 56%Zohaib Ejaz\n\n-->is not an operator, it is the juxtaposition of--(post-decrement) and>(greater than comparison).The loop will look more familiar as:#include <stdio.h>\nint main() {\n    int x = 10;\n    while (x-- > 0) { // x goes to 0\n        printf(""%d "", x);\n    }\n}This loop is a classic idiom to enumerate values between10(the excluded upper bound) and0the included lower bound, useful to iterate over the elements of an array from the last to the first.The initial value10is the total number of iterations (for example the length of the array), and one plus the first value used inside the loop. The0is the last value ofxinside the loop, hence the commentx goes to 0.Note that the value ofxafter the loop completes is-1.Note also that this loop will operate thesameway ifxhas anunsigned typesuch assize_t, which is a strong advantage over the naive alternativefor (i = length-1; i >= 0; i--).For this reason, I am actually a fan of this surprising syntax:while (x --> 0). I find this idiom eye-catching and elegant, just likefor (;;)vs:while (1)(which looks confusingly similar towhile (l)). It also works in other languages whose syntax is inspired by C: C++, Objective-C, java, javascript, C# to name a few.ShareImprove this answerFolloweditedMar 12, 2021 at 17:19community wiki2 revschqrlie\n\nHere--is the unary post decrement operator.while (x-- > 0) // x goes to 0\n {\n     printf(""%d "", x);\n }In the beginning, the condition will evaluate as(x > 0) // 10 > 0Now because the condition is true, it will go into the loop with a decremented valuex-- // x = 9That\'s why the first printed value is 9And so on. In the last loopx=1, so the condition is true. As per the unary operator, the value changed tox = 0at the time of print.Now,x = 0, which evaluates the condition(x > 0 )as false and thewhileloop exits.ShareImprove this answerFolloweditedOct 28, 2020 at 22:50community wiki2 revs, 2 users 74%Neeraj Bansal\n\nThis-->is not an operator at all. We have an operator like->, but not like-->. It is just a wrong interpretation ofwhile(x-- >0)which simply means x has the post decrement operator and this loop will run till it is greater thanzero.Another simple way of writing this code would bewhile(x--). Thewhileloop will stop whenever it gets a false condition and here there is only one case, i.e.,0. So it will stop when the x value is decremented tozero.ShareImprove this answerFolloweditedOct 28, 2020 at 22:53community wiki2 revs, 2 users 60%Peter Mortensen\n\nThat\'s what you mean.while((x--) > 0)We heard in childhood,Stop don\'t, Let Go (روکو مت، جانے دو)Where a Comma makes confusionStop, don\'t let go. (روکو، مت جانے دو)Same Happens in Programming now, a SPACE makes confusion. :DShareImprove this answerFollowansweredJun 2, 2021 at 5:47community wikiNuman Gillani'}","{'title': 'How can I horizontally center an element?', 'question': 'This question\'s answers are acommunity effort. Edit existing answers to improve this post. It is not currently accepting new answers or interactions.How can I horizontally center a<div>within another<div>using CSS?<div id=""outer"">\n  <div id=""inner"">Foo foo</div>\n</div>htmlcssalignmentcenteringShareFolloweditedAug 10, 2022 at 0:26community wiki41 revs, 27 users 18%Peter Mortensen', 'answers': 'Withflexboxit is very easy to style the div horizontally and vertically centered.#inner {  \n  border: 0.05em solid black;\n}\n\n#outer {\n  border: 0.05em solid red;\n  width:100%;\n  display: flex;\n  justify-content: center;\n}<div id=""outer"">\n  <div id=""inner"">Foo foo</div>\n</div>To align the div vertically centered, use the propertyalign-items: center.Other SolutionsYou can apply this CSS to the inner<div>:#inner {\n  width: 50%;\n  margin: 0 auto;\n}Of course, you don\'t have to set thewidthto50%. Any width less than the containing<div>will work. Themargin: 0 autois what does the actual centering.If you are targetingInternet\xa0Explorer\xa08(and later), it might be better to have this instead:#inner {\n  display: table;\n  margin: 0 auto;\n}It will make the inner element center horizontally and it works without setting a specificwidth.Working example here:#inner {\n  display: table;\n  margin: 0 auto;\n  border: 1px solid black;\n}\n\n#outer {\n  border: 1px solid red;\n  width:100%\n}<div id=""outer"">\n  <div id=""inner"">Foo foo</div>\n</div>ShareImprove this answerFolloweditedJan 17, 2023 at 15:23community wiki18 revs, 14 users 29%isherwood\n\nIf you don\'t want to set a fixed width on the innerdivyou could do something like this:#outer {\r\n  width: 100%;\r\n  text-align: center;\r\n}\r\n\r\n#inner {\r\n  display: inline-block;\r\n}<div id=""outer"">  \r\n    <div id=""inner"">Foo foo</div>\r\n</div>That makes the innerdivinto an inline element that can be centered withtext-align.ShareImprove this answerFolloweditedNov 22, 2017 at 11:34community wiki5 revs, 4 users 62%Alfred\n\nThe modern box model with Flexbox#outer {\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    justify-content: center;\n    align-items: center;\n}The old box model (deprecated)display: boxand its propertiesbox-pack,box-align,box-orient,box-directionetc. have been replaced by flexbox. While they may still work, they are not recommended to be used in production.#outer {\n  width: 100%;\n  /* Firefox */\n  display: -moz-box;\n  -moz-box-pack: center;\n  -moz-box-align: center;\n  /* Safari and Chrome */\n  display: -webkit-box;\n  -webkit-box-pack: center;\n  -webkit-box-align: center;\n  /* W3C */\n  display: box;\n  box-pack: center;\n  box-align: center;\n}\n\n#inner {\n  width: 50%;\n}<div id=""outer"">\n  <div id=""inner"">Foo foo</div>\n</div>According to your usability you may also use thebox-orient, box-flex, box-directionproperties.Read more about centering the child elementsCSS Box Model Module Level 3Box model (CSS2)box-align on MDNAndthis explains why the box model is the best approach:Why is the W3C box model considered better?ShareImprove this answerFolloweditedJun 3 at 14:52community wiki16 revs, 12 users 41%kongaraju\n\n#centered {\n  position: absolute;\n  left: 50%;\n  margin-left: -100px;\n}<div id=""outer"" style=""width:200px"">\n  <div id=""centered"">Foo foo</div>\n</div>Make sure the parent element ispositioned, i.e., relative, fixed, absolute, or sticky.If you don\'t know the width of your div, you can usetransform:translateX(-50%);instead of the negative margin.WithCSS calc(), the code can get even simpler:.centered {\n  width: 200px;\n  position: absolute;\n  left: calc(50% - 100px);\n}The principle is still the same; put the item in the middle and compensate for the width.ShareImprove this answerFolloweditedDec 14, 2021 at 10:01community wiki10 revs, 10 users 24%Lars Flieger\n\nI\'ve createdthis exampleto show how toverticallyandhorizontallyalign.The code is basically this:#outer {\n  position: relative;\n}\n\n\n/* and */\n\n#inner {\n  margin: auto;\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n}<div id=""outer"">\n  <div id=""inner"">Foo foo</div>\n</div>And it will stay in thecentereven when youresizeyour screen.ShareImprove this answerFolloweditedApr 30, 2023 at 17:21community wiki8 revs, 7 users 29%Tom Maton\n\nSome posters have mentioned the CSS\xa03 way to center usingdisplay:box.This syntax is outdated and shouldn\'t be used anymore. [See alsothis post].So just for completeness here is the latest way to center in CSS\xa03 using theFlexible Box Layout Module.So if you have simple markup like:<div class=""box"">\n  <div class=""item1"">A</div>\n  <div class=""item2"">B</div>\n  <div class=""item3"">C</div>\n</div>...and you want to center your items within the box, here\'s what you need on the parent element (.box):.box {\n    display: flex;\n    flex-wrap: wrap; /* Optional. only if you want the items to wrap */\n    justify-content: center; /* For horizontal alignment */\n    align-items: center; /* For vertical alignment */\n}.box {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  /* Optional. only if you want the items to wrap */\r\n  justify-content: center;\r\n  /* For horizontal alignment */\r\n  align-items: center;\r\n  /* For vertical alignment */\r\n}\r\n* {\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\nhtml,\r\nbody {\r\n  height: 100%;\r\n}\r\n.box {\r\n  height: 200px;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: center;\r\n  align-items: center;\r\n  border: 2px solid tomato;\r\n}\r\n.box div {\r\n  margin: 0 10px;\r\n  width: 100px;\r\n}\r\n.item1 {\r\n  height: 50px;\r\n  background: pink;\r\n}\r\n.item2 {\r\n  background: brown;\r\n  height: 100px;\r\n}\r\n.item3 {\r\n  height: 150px;\r\n  background: orange;\r\n}<div class=""box"">\r\n  <div class=""item1"">A</div>\r\n  <div class=""item2"">B</div>\r\n  <div class=""item3"">C</div>\r\n</div>If you need to support older browsers which use older syntax for flexboxhere\'sa good place to look.ShareImprove this answerFolloweditedMar 17, 2018 at 20:14community wiki8 revs, 4 users 86%Danield\n\nIf you don\'t want to set a fixed width and don\'t want the extra margin, adddisplay: inline-blockto your element.You can use:#inner {\n  display: table;\n  margin: 0 auto;\n}<div id=""outer"">\n  <div id=""inner"">Foo foo</div>\n</div>ShareImprove this answerFolloweditedApr 30, 2023 at 17:32community wiki5 revs, 4 users 44%Salman von Abbas\n\nCentering a div of unknown height and widthHorizontally and vertically. It works with reasonably modern browsers (Firefox, Safari/WebKit, Chrome, Internet & Explorer & 10, Opera, etc.).content {\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n}<div class=""content"">This works with any content</div>Tinker with it further onCodepenor onJSBin.ShareImprove this answerFolloweditedFeb 25, 2021 at 3:07community wiki8 revs, 5 users 67%iamnotsam\n\nSet thewidthand setmargin-leftandmargin-righttoauto. That\'sfor horizontal only, though. If you want both ways, you\'d just do it both ways. Don\'t be afraid to experiment; it\'s not like you\'ll break anything.ShareImprove this answerFolloweditedMar 17, 2018 at 19:11community wiki4 revs, 4 users 33%Sneakyness\n\nIt cannot be centered if you don\'t give it a width. Otherwise, it will take, by default, the whole horizontal space.ShareImprove this answerFolloweditedMay 8, 2020 at 17:02community wiki6 revs, 6 users 25%gizmo\n\nCSS\xa03\'s box-align property#outer {\n  width: 100%;\n  height: 100%;\n  display: box;\n  box-orient: horizontal;\n  box-pack: center;\n  box-align: center;\n}<div id=""outer"">\n  <div id=""inner"">Foo foo</div>\n</div>ShareImprove this answerFolloweditedApr 30, 2023 at 17:33community wiki4 revs, 4 users 44%neoneye\n\nThe way I usually do it is using absolute position:#inner {\n  left: 0;\n  right: 0;\n  margin-left: auto;\n  margin-right: auto;\n  position: absolute;\n}<div id=""outer"">\n  <div id=""inner"">Foo foo</div>\n</div>The outer div doesn\'t need any extra properties for this to work.ShareImprove this answerFolloweditedApr 30, 2023 at 17:34community wiki5 revs, 4 users 41%william44isme\n\nI recently had to center a ""hidden"" div (i.e.,display:none;) that had a tabled form within it that needed to be centered on the page. I wrote the following jQuery code to display the hidden div and then update the CSS content to the automatic generated width of the table and change the margin to center it.  (The display toggle is triggered by clicking on a link, but this code wasn\'t necessary to display.)NOTE:I\'m sharing this code, because Google brought me to this Stack Overflow solution and everything would have worked except that hidden elements don\'t have any width and can\'t be resized/centered until after they are displayed.$(function(){\r\n  $(\'#inner\').show().width($(\'#innerTable\').width()).css(\'margin\',\'0 auto\');\r\n});<script src=""https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js""></script>\r\n<div id=""inner"" style=""display:none;"">\r\n  <form action="""">\r\n    <table id=""innerTable"">\r\n      <tr><td>Name:</td><td><input type=""text""></td></tr>\r\n      <tr><td>Email:</td><td><input type=""text""></td></tr>\r\n      <tr><td>Email:</td><td><input type=""submit""></td></tr>\r\n    </table>\r\n  </form>\r\n</div>ShareImprove this answerFolloweditedMay 9, 2020 at 13:51community wiki4 revs, 4 users 60%James Moberg\n\nFor Firefox and Chrome:<div style=""width:100%;"">\r\n  <div style=""width: 50%; margin: 0px auto;"">Text</div>\r\n</div>For Internet\xa0Explorer, Firefox, and Chrome:<div style=""width:100%; text-align:center;"">\r\n  <div style=""width: 50%; margin: 0px auto; text-align:left;"">Text</div>\r\n</div>Thetext-align:property is optional for modern browsers, but it is necessary in Internet\xa0Explorer Quirks Mode for legacy browsers support.ShareImprove this answerFolloweditedMar 17, 2018 at 19:13community wiki7 revs, 7 users 47%ch2o\n\nUse:#outerDiv {\r\n  width: 500px;\r\n}\r\n\r\n#innerDiv {\r\n  width: 200px;\r\n  margin: 0 auto;\r\n}<div id=""outerDiv"">\r\n  <div id=""innerDiv"">Inner Content</div>\r\n</div>ShareImprove this answerFolloweditedMay 11, 2020 at 19:25community wiki5 revs, 5 users 39%Ankit Jain\n\nAnother solution for this without having to set a width for one of the elements is using the CSS 3transformattribute.#outer {\n  position: relative;\n}\n\n#inner {\n  position: absolute;\n  left: 50%;\n  transform: translateX(-50%);\n}<div id=""outer"">\n  <div id=""inner"">Foo foo</div>\n</div>The trick is thattranslateX(-50%)sets the#innerelement 50 percent to the left of its own width. You can use the same trick for vertical alignment.Here\'s aFiddleshowing horizontal and vertical alignment.More information is onMozilla Developer Network.ShareImprove this answerFolloweditedApr 30, 2023 at 17:35community wiki3 revs, 3 users 68%Kilian Stinson\n\nChris Coyier who wrote anexcellent poston \'Centering in the Unknown\' on his blog. It\'s a roundup of multiple solutions. I posted one that isn\'t posted in this question. It has more browser support than theFlexboxsolution, and you\'re not usingdisplay: table;which could break other things./* This parent can be any width and height */\n\n#outer {\n  text-align: center;\n}\n\n\n/* The ghost, nudged to maintain perfect centering */\n\n#outer:before {\n  content: \'.\';\n  display: inline-block;\n  height: 100%;\n  vertical-align: middle;\n  width: 0;\n  overflow: hidden;\n}\n\n\n/* The element to be centered, can\n       also be of any width and height */\n\n#inner {\n  display: inline-block;\n  vertical-align: middle;\n  width: 300px;\n}<div id=""outer"">\n  <div id=""inner"">Foo foo</div>\n</div>ShareImprove this answerFolloweditedJun 3 at 14:55community wiki6 revs, 6 users 57%Willem de Wit\n\nI recently found an approach:#outer {\n  position: absolute;\n  left: 50%;\n}\n\n#inner {\n  position: relative;\n  left: -50%;\n}<div id=""outer"">\n  <div id=""inner"">Foo foo</div>\n</div>Both elements must be the same width to function correctly.ShareImprove this answerFolloweditedApr 30, 2023 at 17:38community wiki5 revs, 3 users 53%BenjaminRH\n\nFor example, seethis linkand the snippet below:div#outer {\r\n  height: 120px;\r\n  background-color: red;\r\n}\r\n\r\ndiv#inner {\r\n  width: 50%;\r\n  height: 100%;\r\n  background-color: green;\r\n  margin: 0 auto;\r\n  text-align: center; /* For text alignment to center horizontally. */\r\n  line-height: 120px; /* For text alignment to center vertically. */\r\n}<div id=""outer"" style=""width:100%;"">\r\n  <div id=""inner"">Foo foo</div>\r\n</div>If you have a lot of children under a parent, so your CSS content must be like thisexample on fiddle.The HTML content look likes this:<div id=""outer"" style=""width:100%;"">\n    <div class=""inner""> Foo Text </div>\n    <div class=""inner""> Foo Text </div>\n    <div class=""inner""> Foo Text </div>\n    <div class=""inner""> </div>\n    <div class=""inner""> </div>\n    <div class=""inner""> </div>\n    <div class=""inner""> </div>\n    <div class=""inner""> </div>\n    <div class=""inner""> Foo Text </div>\n</div>Then see thisexample on fiddle.ShareImprove this answerFolloweditedMar 17, 2018 at 18:44community wiki4 revs, 3 users 63%Lalit Kumar\n\nCentering only horizontallyIn my experience, the best way to center a box horizontally is to apply the following properties:The container:should havetext-align: center;The content box:should havedisplay: inline-block;Demo:.container {\n  width: 100%;\n  height: 120px;\n  background: #CCC;\n  text-align: center;\n}\n\n.centered-content {\n  display: inline-block;\n  background: #FFF;\n  padding: 20px;\n  border: 1px solid #000;\n}<div class=""container"">\n  <div class=""centered-content"">\n    Center this!\n  </div>\n</div>See alsothis Fiddle!Centering both horizontally & verticallyIn my experience, the best way to center a boxbothvertically and horizontally is to use an additional container and apply the following properties:The outer container:should havedisplay: table;The inner container:should havedisplay: table-cell;should havevertical-align: middle;should havetext-align: center;The content box:should havedisplay: inline-block;Demo:.outer-container {\n  display: table;\n  width: 100%;\n  height: 120px;\n  background: #CCC;\n}\n\n.inner-container {\n  display: table-cell;\n  vertical-align: middle;\n  text-align: center;\n}\n\n.centered-content {\n  display: inline-block;\n  background: #FFF;\n  padding: 20px;\n  border: 1px solid #000;\n}<div class=""outer-container"">\n  <div class=""inner-container"">\n    <div class=""centered-content"">\n      Center this!\n    </div>\n  </div>\n</div>See alsothis Fiddle!ShareImprove this answerFolloweditedJun 20, 2020 at 9:12community wiki4 revs, 4 users 75%John Slegers\n\nThis method also works just fine:#outer { /*div.container*/\n  display: flex;\n  justify-content: center;\n  /* For horizontal alignment */\n  align-items: center;\n  /* For vertical alignment   */\n}<div id=""outer"">\n  <div id=""inner"">Foo foo</div>\n</div>For the inner<div>, the only condition is that itsheightandwidthmust not be larger than the ones of its container.ShareImprove this answerFolloweditedApr 30, 2023 at 17:41community wiki4 revs, 4 users 40%ugroi\n\nFlexboxdisplay: flexbehaves like a block element and lays out its content according to the flexbox model. It works withjustify-content: center.Please note:Flexbox is compatible all browsers exept Internet Explorer. Seedisplay: flex not working on Internet Explorerfor a complete and up to date list of browsers compatibility.#inner {\n  display: inline-block;\n}\n\n#outer {\n  display: flex;\n  justify-content: center;\n}<div id=""outer"">\n  <div id=""inner"">Foo foo</div>\n</div>Text-align: centerApplyingtext-align: centerthe inline contents are centered within the line box. However since the inner div has by defaultwidth: 100%you have to set a specific width or use one of the following:display: blockdisplay: inlinedisplay: inline-block#inner {\n  display: inline-block;\n}\n\n#outer {\n  text-align: center;\n}<div id=""outer"">\n  <div id=""inner"">Foo foo</div>\n</div>Margin: 0 autoUsingmargin: 0 autois another option and it is more suitable for older browsers compatibility. It works together withdisplay: table.#inner {\n  display: table;\n  margin: 0 auto;\n}<div id=""outer"">\n  <div id=""inner"">Foo foo</div>\n</div>Transformtransform: translatelets you modify the coordinate space of the CSS visual formatting model. Using it, elements can be translated, rotated, scaled, and skewed. To center horizontally it requireposition: absoluteandleft: 50%.#inner {\n  position: absolute;\n  left: 50%;\n  transform: translate(-50%, 0%);\n}<div id=""outer"">\n  <div id=""inner"">Foo foo</div>\n</div><center>(Deprecated)The tag<center>is the HTML alternative totext-align: center. It works on older browsers and most of the new ones but it is not considered a good practice since this feature isobsoleteand has been removed from the Web standards.#inner {\n  display: inline-block;\n}<div id=""outer"">\n  <center>\n    <div id=""inner"">Foo foo</div>\n  </center>\n</div>ShareImprove this answerFolloweditedJun 14, 2021 at 5:22answeredJun 9, 2017 at 8:34Paolo ForgiaPaolo Forgia6,71088 gold badges4848 silver badges5959 bronze badges\n\nThe easiest way:#outer {\r\n  width: 100%;\r\n  text-align: center;\r\n}\r\n#inner {\r\n  margin: auto;\r\n  width: 200px;\r\n}<div id=""outer"">\r\n  <div id=""inner"">Blabla</div>\r\n</div>ShareImprove this answerFolloweditedMar 17, 2018 at 18:51community wiki4 revs, 3 users 57%joan16v\n\nFlex have more than 97% browser support coverage and might be the best way to solve these kind of problems within few lines:#outer {\n  display: flex;\n  justify-content: center;\n}<div id=""outer"">\n  <div id=""inner"">Foo foo</div>\n</div>ShareImprove this answerFolloweditedApr 30, 2023 at 17:28community wiki4 revs, 4 users 49%ugroi\n\nIf width of the content is unknown you can use the following method. Suppose we have these two elements:.outer-- full width.inner-- no width set (but a max-width could be specified)Suppose the computed width of the elements are 1000 pixels and 300 pixels respectively. Proceed as follows:Wrap.innerinside.center-helperMake.center-helperan inline block; it becomes the same size as.innermaking it 300 pixels wide.Push.center-helper50% right relative to its parent; this places its left at 500 pixels wrt. outer.Push.inner50% left relative to its parent; this places its left at -150 pixels wrt. center helper which means its left is at 500 - 150 = 350 pixels wrt. outer.Set overflow on.outerto hidden to prevent horizontal scrollbar.Demo:body {\r\n  font: medium sans-serif;\r\n}\r\n\r\n.outer {\r\n  overflow: hidden;\r\n  background-color: papayawhip;\r\n}\r\n\r\n.center-helper {\r\n  display: inline-block;\r\n  position: relative;\r\n  left: 50%;\r\n  background-color: burlywood;\r\n}\r\n\r\n.inner {\r\n  display: inline-block;\r\n  position: relative;\r\n  left: -50%;\r\n  background-color: wheat;\r\n}<div class=""outer"">\r\n  <div class=""center-helper"">\r\n    <div class=""inner"">\r\n      <h1>A div with no defined width</h1>\r\n      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.<br>\r\n          Duis condimentum sem non turpis consectetur blandit.<br>\r\n          Donec dictum risus id orci ornare tempor.<br>\r\n          Proin pharetra augue a lorem elementum molestie.<br>\r\n          Nunc nec justo sit amet nisi tempor viverra sit amet a ipsum.</p>\r\n    </div>\r\n  </div>\r\n</div>ShareImprove this answerFolloweditedMay 11, 2020 at 20:18community wiki5 revs, 2 users 79%Salman A\n\nYou can do something like this#container {\n    display: table;\n    height: /* height of your container */;\n    width: /* width of your container */;\n}\n\n#inner {\n    display: table-cell;\n    margin: 0 auto;\n    text-align: center;\n    vertical-align: middle;\n    width: /* width of your center div */;\n}This will also align the#innervertically. If you don\'t want to, remove thedisplayandvertical-alignproperties;ShareImprove this answerFolloweditedNov 21, 2023 at 15:55community wiki3 revs, 3 users 65%Kenneth P.\n\nHere is what you want in the shortest way.JSFIDDLE#outer {\n  margin - top: 100 px;\n  height: 500 px; /* you can set whatever you want */\n  border: 1 px solid# ccc;\n}\n\n#inner {\n  border: 1 px solid# f00;\n  position: relative;\n  top: 50 % ;\n  transform: translateY(-50 % );\n}ShareImprove this answerFolloweditedAug 20, 2021 at 10:26community wiki3 revs, 3 users 55%caniz\n\nYou can usedisplay: flexfor your outer div and to horizontally center you have to addjustify-content: center#outer{\n    display: flex;\n    justify-content: center;\n}or you can visitw3schools - CSS flex Propertyfor more ideas.ShareImprove this answerFolloweditedAug 20, 2018 at 12:57community wiki2 revs, 2 users 75%Milan Panigrahi\n\nYou can just simply useFlexboxlike this:#outer {\r\n    display: flex;\r\n    justify-content: center\r\n}<div id=""outer"">\r\n    <div id=""inner"">Foo foo</div>\r\n</div>Apply Autoprefixer for all browser support:#outer {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    width: 100%;\n    -webkit-box-pack: center;\n    -ms-flex-pack: center;\n    justify-content: center\n}Or elseUsetransform:#inner {\r\n    position: absolute;\r\n    left: 50%;\r\n    transform: translate(-50%)\r\n}<div id=""outer"">\r\n    <div id=""inner"">Foo foo</div>\r\n</div>With Autoprefixer:#inner {\n    position: absolute;\n    left: 50%;\n    -webkit-transform: translate(-50%);\n    -ms-transform:     translate(-50%);\n    transform:         translate(-50%)\n}ShareImprove this answerFolloweditedNov 19, 2019 at 12:21community wiki2 revs, 2 users 77%Shashin Bhayani\n\nOne option existed that I found:Everybody says to use:margin: auto 0;But there is another option. Set this property for the parent div. It\nworks perfectly anytime:text-align: center;And see, child go center.And finally CSS for you:#outer{\n     text-align: center;\n     display: block; /* Or inline-block - base on your need */\n}\n\n#inner\n{\n     position: relative;\n     margin: 0 auto; /* It is good to be */\n}ShareImprove this answerFolloweditedMar 17, 2018 at 18:38community wiki3 revs, 2 users 73%Pnsadeghy'}"
2,"{'title': 'How do I check if an element is hidden in jQuery?', 'question': 'How do I toggle the visibility of an element using.hide(),.show(), or.toggle()?How do I test if an element isvisibleorhidden?javascriptjquerydomvisibilitydisplayShareImprove this questionFolloweditedDec 8, 2023 at 14:17Mahozad22.4k1717 gold badges146146 silver badges168168 bronze badgesaskedOct 7, 2008 at 13:03Philip MortonPhilip Morton131k3838 gold badges8989 silver badges9797 bronze badges', 'answers': 'Since the question refers to a single element, this code might be more suitable:// Checks CSS content for display:[none|block], ignores visibility:[true|false]\n$(element).is("":visible"");\n\n// The same works with hidden\n$(element).is("":hidden"");It is the same astwernt\'s suggestion, but applied to a single element; and itmatches the algorithm recommended in the jQuery FAQ.We use jQuery\'sis()to check the selected element with another element, selector or any jQuery object. This method traverses along the DOM elements to find a match, which satisfies the passed parameter. It will return true if there is a match, otherwise return false.ShareImprove this answerFolloweditedJul 31, 2021 at 4:07ashleedawg21.2k99 gold badges7878 silver badges113113 bronze badgesansweredOct 7, 2008 at 13:30Tsvetomir TsonevTsvetomir Tsonev106k55 gold badges2828 silver badges3434 bronze badges\n\nYou can use thehiddenselector:// Matches all elements that are hidden\n$(\'element:hidden\')And thevisibleselector:// Matches all elements that are visible\n$(\'element:visible\')ShareImprove this answerFolloweditedMar 8, 2018 at 15:38answeredOct 7, 2008 at 13:16twernttwernt20.5k55 gold badges3333 silver badges4141 bronze badges\n\nif ( $(element).css(\'display\') == \'none\' || $(element).css(""visibility"") == ""hidden""){\n    // \'element\' is hidden\n}The above method does not consider the visibility of the parent. To consider the parent as well, you should use.is("":hidden"")or.is("":visible"").For example,<div id=""div1"" style=""display:none"">\n  <div id=""div2"" style=""display:block"">Div2</div>\n</div>The above method will considerdiv2visible while:visiblenot. But the above might be useful in many cases, especially when you need to find if there is any error divs visible in the hidden parent because in such conditions:visiblewill not work.ShareImprove this answerFolloweditedFeb 29 at 20:43Samuel RIGAUD1,4881717 silver badges2525 bronze badgesansweredOct 7, 2008 at 13:09MoteMote11.4k11 gold badge1919 silver badges1010 bronze badges\n\nNone of these answers address what I understand to be the question, which is what I was searching for,""How do I handle items that havevisibility: hidden?"". Neither:visiblenor:hiddenwill handle this, as they are both looking for display per the documentation.  As far as I could determine, there is no selector to handle CSS visibility.  Here is how I resolved it (standard jQuery selectors, there may be a more condensed syntax):$("".item"").each(function() {\n    if ($(this).css(""visibility"") == ""hidden"") {\n        // handle non visible state\n    } else {\n        // handle visible state\n    }\n});ShareImprove this answerFolloweditedJun 26, 2017 at 7:12Andrii Abramov10.5k1212 gold badges7979 silver badges101101 bronze badgesansweredMar 24, 2011 at 18:44aaronLileaaronLile5,99711 gold badge1515 silver badges33 bronze badges\n\nFromHow do I determine the state of a toggled element?You can determine whether an element is collapsed or not by using the:visibleand:hiddenselectors.var isVisible = $(\'#myDiv\').is(\':visible\');\nvar isHidden = $(\'#myDiv\').is(\':hidden\');If you\'re simply acting on an element based on its visibility, you can just include:visibleor:hiddenin the selector expression. For example:$(\'#myDiv:visible\').animate({left: \'+=200px\'}, \'slow\');ShareImprove this answerFolloweditedJan 12, 2016 at 14:08Chris13522 silver badges77 bronze badgesansweredJan 13, 2011 at 21:13user574889user5748894,36911 gold badge1515 silver badges22 bronze badges\n\nOften when checking if something is visible or not, you are going to go right ahead immediately and do something else with it. jQuery chaining makes this easy.So if you have a selector and you want to perform some action on it only if is visible or hidden, you can usefilter("":visible"")orfilter("":hidden"")followed by chaining it with the action you want to take.So instead of anifstatement, like this:if ($(\'#btnUpdate\').is("":visible""))\n{\n     $(\'#btnUpdate\').animate({ width: ""toggle"" });   // Hide button\n}Or more efficiently:var button = $(\'#btnUpdate\');\nif (button.is("":visible""))\n{\n     button.animate({ width: ""toggle"" });   // Hide button\n}You can do it all in one line:$(\'#btnUpdate\').filter("":visible"").animate({ width: ""toggle"" });ShareImprove this answerFolloweditedMar 31, 2023 at 3:38CPlus4,3723636 gold badges2525 silver badges4848 bronze badgesansweredJul 25, 2009 at 10:21Simon_WeaverSimon_Weaver144k8686 gold badges666666 silver badges709709 bronze badges\n\nThe:visibleselector according tothe jQuery documentation:They have a CSSdisplayvalue ofnone.They are form elements withtype=""hidden"".Their width and height are explicitly set to 0.An ancestor element is hidden, so the element is not shown on the page.Elements withvisibility: hiddenoropacity: 0are considered to be visible, since they still consume space in the layout.This is useful in some cases and useless in others, because if you want to check if the element is visible (display != none), ignoring the parents visibility, you will find that doing.css(""display"") == \'none\'is not only faster, but will also return the visibility check correctly.If you want to check visibility instead of display, you should use:.css(""visibility"") == ""hidden"".Also take into considerationthe additional jQuery notes:Because:visibleis a jQuery extension and not part of the CSS specification, queries using:visiblecannot take advantage of the performance boost provided by the native DOMquerySelectorAll()method. To achieve the best performance when using:visibleto select elements, first select the elements using a pure CSS selector, then use.filter("":visible"").Also, if you are concerned about performance, you should checkNow you see me… show/hide performance(2010-05-04). And use other methods to show and hide elements.ShareImprove this answerFolloweditedJun 21, 2017 at 1:41Pang9,914146146 gold badges8585 silver badges123123 bronze badgesansweredNov 25, 2011 at 9:16Pedro RainhoPedro Rainho4,27411 gold badge2020 silver badges2222 bronze badges\n\nHowelement visibility and jQuery works;An element could be hidden withdisplay:none,visibility:hiddenoropacity:0. The difference between those methods:display:nonehides the element, and it does not take up any space;visibility:hiddenhides the element, but it still takes up space in the layout;opacity:0hides the element as ""visibility:hidden"", and it still takes up space in the layout; the only difference is that opacity lets one to make an element partly transparent;if ($(\'.target\').is(\':hidden\')) {\n  $(\'.target\').show();\n} else {\n  $(\'.target\').hide();\n}\nif ($(\'.target\').is(\':visible\')) {\n  $(\'.target\').hide();\n} else {\n  $(\'.target\').show();\n}\n\nif ($(\'.target-visibility\').css(\'visibility\') == \'hidden\') {\n  $(\'.target-visibility\').css({\n    visibility: ""visible"",\n    display: """"\n  });\n} else {\n  $(\'.target-visibility\').css({\n    visibility: ""hidden"",\n    display: """"\n  });\n}\n\nif ($(\'.target-visibility\').css(\'opacity\') == ""0"") {\n  $(\'.target-visibility\').css({\n    opacity: ""1"",\n    display: """"\n  });\n} else {\n  $(\'.target-visibility\').css({\n    opacity: ""0"",\n    display: """"\n  });\n}Useful jQuery toggle methods:$(\'.click\').click(function() {\n  $(\'.target\').toggle();\n});\n\n$(\'.click\').click(function() {\n  $(\'.target\').slideToggle();\n});\n\n$(\'.click\').click(function() {\n  $(\'.target\').fadeToggle();\n});ShareImprove this answerFolloweditedJul 30, 2017 at 22:00Eugen55766 silver badges1414 bronze badgesansweredApr 24, 2012 at 21:04webvitalywebvitaly4,27188 gold badges3131 silver badges4848 bronze badges\n\nThis works for me, and I am usingshow()andhide()to make my div hidden/visible:if( $(this).css(\'display\') == \'none\' ){\n    /* your code goes here */\n} else {\n    /* alternate logic   */\n}ShareImprove this answerFolloweditedDec 14, 2015 at 21:32webvitaly4,27188 gold badges3131 silver badges4848 bronze badgesansweredJul 6, 2011 at 20:19AbiyAbiy2,43311 gold badge1414 silver badges22 bronze badges\n\nYou can also do this using plain JavaScript:function isRendered(domObj) {\n    if ((domObj.nodeType != 1) || (domObj == document.body)) {\n        return true;\n    }\n    if (domObj.currentStyle && domObj.currentStyle[""display""] != ""none"" && domObj.currentStyle[""visibility""] != ""hidden"") {\n        return isRendered(domObj.parentNode);\n    } else if (window.getComputedStyle) {\n        var cs = document.defaultView.getComputedStyle(domObj, null);\n        if (cs.getPropertyValue(""display"") != ""none"" && cs.getPropertyValue(""visibility"") != ""hidden"") {\n            return isRendered(domObj.parentNode);\n        }\n    }\n    return false;\n}Notes:Works everywhereWorks for nested elementsWorks for CSS and inline stylesDoesn\'t require a frameworkShareImprove this answerFolloweditedMar 19, 2014 at 8:15Zerium17.2k3131 gold badges115115 silver badges185185 bronze badgesansweredJul 16, 2012 at 19:18Matt BrockMatt Brock5,38711 gold badge2828 silver badges2727 bronze badges\n\nI would use CSS class.hide { display: none!important; }.For hiding/showing, I call.addClass(""hide"")/.removeClass(""hide""). For checking visibility, I use.hasClass(""hide"").It\'s a simple and clear way to check/hide/show elements, if you don\'t plan to use.toggle()or.animate()methods.ShareImprove this answerFolloweditedMar 19, 2014 at 8:15Zerium17.2k3131 gold badges115115 silver badges185185 bronze badgesansweredFeb 3, 2012 at 16:04ElectrionicsElectrionics6,74755 gold badges5151 silver badges8282 bronze badges\n\nDemo Link$(\'#clickme\').click(function() {\n  $(\'#book\').toggle(\'slow\', function() {\n    // Animation complete.\n    alert($(\'#book\').is("":visible"")); //<--- TRUE if Visible False if Hidden\n  });\n});<script src=""https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js""></script>\n<div id=""clickme"">\n  Click here\n</div>\n<img id=""book"" src=""https://upload.wikimedia.org/wikipedia/commons/8/87/Google_Chrome_icon_%282011%29.png"" alt="""" width=""300""/>Source (from my blog):Blogger Plug n Play - jQuery Tools and Widgets: How to See if Element is hidden or Visible Using jQueryShareImprove this answerFolloweditedMay 31, 2021 at 21:24Jean-François Fabre♦139k2323 gold badges170170 silver badges232232 bronze badgesansweredJan 25, 2013 at 5:34Code SpyCode Spy9,86444 gold badges7070 silver badges4646 bronze badges\n\nebdivshould be set tostyle=""display:none;"". It works for both show and hide:$(document).ready(function(){\n    $(""#eb"").click(function(){\n        $(""#ebdiv"").toggle();\n    });    \n});ShareImprove this answerFolloweditedOct 26, 2018 at 7:33CommunityBot111 silver badgeansweredJun 13, 2012 at 13:20VaishuVaishu2,36333 gold badges2323 silver badges2525 bronze badges\n\nOne can simply use thehiddenorvisibleattribute, like:$(\'element:hidden\')\n$(\'element:visible\')Or you can simplify the same withisas follows.$(element).is("":visible"")ShareImprove this answerFolloweditedMar 16, 2013 at 10:04Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMay 23, 2012 at 12:59ScoRpionScoRpion11.4k2424 gold badges6868 silver badges9191 bronze badges\n\nAnother answer you should put into consideration is if you are hiding an element, you should usejQuery, but instead of actually hiding it, you remove the whole element, but you copy itsHTMLcontent and the tag itself into a jQuery variable, and then all you need to do is test if there is such a tag on the screen, using the normalif (!$(\'#thetagname\').length).ShareImprove this answerFolloweditedMar 26, 2013 at 22:12answeredApr 21, 2012 at 23:40ZeriumZerium17.2k3131 gold badges115115 silver badges185185 bronze badges\n\nWhen testing an element against:hiddenselector in jQuery it should be considered thatan absolute positioned element may be recognized as hidden although their child elements are visible.This seems somewhat counter-intuitive in the first place – though having a closer look at the jQuery documentation gives the relevant information:Elements can be considered hidden for several reasons: [...] Their width and height are explicitly set to 0. [...]So this actually makes sense in regards to the box-model and the computed style for the element. Even if width and height are not setexplicitlyto 0 they may be setimplicitly.Have a look at the following example:console.log($(\'.foo\').is(\':hidden\')); // true\r\nconsole.log($(\'.bar\').is(\':hidden\')); // false.foo {\r\n  position: absolute;\r\n  left: 10px;\r\n  top: 10px;\r\n  background: #ff0000;\r\n}\r\n\r\n.bar {\r\n  position: absolute;\r\n  left: 10px;\r\n  top: 10px;\r\n  width: 20px;\r\n  height: 20px;\r\n  background: #0000ff;\r\n}<script src=""https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js""></script>\r\n<div class=""foo"">\r\n  <div class=""bar""></div>\r\n</div>Update for jQuery 3.x:With jQuery 3 the described behavior will change! Elements will be considered visible if they have any layout boxes, including those of zero width and/or height.JSFiddle with jQuery 3.0.0-alpha1:http://jsfiddle.net/pM2q3/7/The same JavaScript code will then have this output:console.log($(\'.foo\').is(\':hidden\')); // false\nconsole.log($(\'.bar\').is(\':hidden\')); // falseShareImprove this answerFolloweditedMay 6, 2020 at 13:45Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMay 6, 2014 at 10:50conceptdeluxeconceptdeluxe3,87333 gold badges2727 silver badges3232 bronze badges\n\nexpect($(""#message_div"").css(""display"")).toBe(""none"");ShareImprove this answerFolloweditedNov 14, 2021 at 10:19Nimantha6,36866 gold badges3030 silver badges7474 bronze badgesansweredJul 20, 2012 at 12:44Maneesh SrivastavaManeesh Srivastava1,38722 gold badges99 silver badges1313 bronze badges\n\n$(document).ready(function() {\n  if ($(""#checkme:hidden"").length) {\n    console.log(\'Hidden\');\n  }\n});<script src=""https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js""></script>\n<div id=""checkme"" class=""product"" style=""display:none"">\n  <span class=""itemlist""><!-- Shows Results for Fish --></span> Category:Fish\n  <br>Product: Salmon Atlantic\n  <br>Specie: Salmo salar\n  <br>Form: Steaks\n</div>ShareImprove this answerFolloweditedNov 14, 2021 at 10:18Nimantha6,36866 gold badges3030 silver badges7474 bronze badgesansweredOct 28, 2013 at 6:43Irfan DANISHIrfan DANISH8,4691212 gold badges4343 silver badges6767 bronze badges\n\nTo check if it is not visible I use!:if ( !$(\'#book\').is(\':visible\')) {\n    alert(\'#book is not visible\')\n}Or the following is also the sam, saving the jQuery selector in a variable to have better performance when you need it multiple times:var $book = $(\'#book\')\n\nif(!$book.is(\':visible\')) {\n    alert(\'#book is not visible\')\n}ShareImprove this answerFolloweditedSep 14, 2013 at 8:01Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJun 4, 2013 at 13:42Matthias WegtunMatthias Wegtun1,25111 gold badge99 silver badges1313 bronze badges\n\nUse class toggling, not style editing . . .Using classes designated for ""hiding"" elements is easy and also one of the most efficient methods. Toggling a class \'hidden\' with aDisplaystyle of \'none\' will perform faster than editing that style directly. I explained some of this pretty thoroughly in Stack Overflow questionTurning two elements visible/hidden in the same div.JavaScript Best Practices and OptimizationHere is a truly enlightening video of a Google Tech Talk by Google front-end engineer Nicholas Zakas:Speed Up Your Javascript(YouTube)ShareImprove this answerFolloweditedJun 20, 2020 at 9:12CommunityBot111 silver badgeansweredJul 18, 2013 at 21:17Ross BrasseauxRoss Brasseaux4,11211 gold badge3333 silver badges5050 bronze badges\n\nAfter all, none of examples suits me, so I wrote my own.Tests(no support of Internet\xa0Explorerfilter:alpha):a) Check if the document is not hiddenb) Check if an element has zero width / height / opacity ordisplay:none/visibility:hiddenin inline stylesc) Check if the center (also because it is faster than testing every pixel / corner) of element is not hidden by other element (and all ancestors, example:overflow:hidden/ scroll / one element over another) or screen edgesd) Check if an element has zero width / height / opacity ordisplay:none/ visibility:hidden in computed styles (among all ancestors)Tested onAndroid 4.4 (Native browser/Chrome/Firefox), Firefox (Windows/Mac), Chrome (Windows/Mac), Opera (WindowsPresto/Mac WebKit), Internet\xa0Explorer (Internet\xa0Explorer 5-11 document modes + Internet\xa0Explorer 8 on a virtual machine), and Safari (Windows/Mac/iOS).var is_visible = (function () {\n    var x = window.pageXOffset ? window.pageXOffset + window.innerWidth - 1 : 0,\n        y = window.pageYOffset ? window.pageYOffset + window.innerHeight - 1 : 0,\n        relative = !!((!x && !y) || !document.elementFromPoint(x, y));\n        function inside(child, parent) {\n            while(child){\n                if (child === parent) return true;\n                child = child.parentNode;\n            }\n        return false;\n    };\n    return function (elem) {\n        if (\n            document.hidden ||\n            elem.offsetWidth==0 ||\n            elem.offsetHeight==0 ||\n            elem.style.visibility==\'hidden\' ||\n            elem.style.display==\'none\' ||\n            elem.style.opacity===0\n        ) return false;\n        var rect = elem.getBoundingClientRect();\n        if (relative) {\n            if (!inside(document.elementFromPoint(rect.left + elem.offsetWidth/2, rect.top + elem.offsetHeight/2),elem)) return false;\n        } else if (\n            !inside(document.elementFromPoint(rect.left + elem.offsetWidth/2 + window.pageXOffset, rect.top + elem.offsetHeight/2 + window.pageYOffset), elem) ||\n            (\n                rect.top + elem.offsetHeight/2 < 0 ||\n                rect.left + elem.offsetWidth/2 < 0 ||\n                rect.bottom - elem.offsetHeight/2 > (window.innerHeight || document.documentElement.clientHeight) ||\n                rect.right - elem.offsetWidth/2 > (window.innerWidth || document.documentElement.clientWidth)\n            )\n        ) return false;\n        if (window.getComputedStyle || elem.currentStyle) {\n            var el = elem,\n                comp = null;\n            while (el) {\n                if (el === document) {break;} else if(!el.parentNode) return false;\n                comp = window.getComputedStyle ? window.getComputedStyle(el, null) : el.currentStyle;\n                if (comp && (comp.visibility==\'hidden\' || comp.display == \'none\' || (typeof comp.opacity !==\'undefined\' && comp.opacity != 1))) return false;\n                el = el.parentNode;\n            }\n        }\n        return true;\n    }\n})();How to use:is_visible(elem) // booleanShareImprove this answerFolloweditedMay 6, 2020 at 13:44Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredApr 9, 2014 at 17:06AlekoAleko97011 gold badge99 silver badges1010 bronze badges\n\nExample of using thevisiblecheck for adblocker is activated:$(document).ready(function(){\r\n  if(!$(""#ablockercheck"").is("":visible""))\r\n    $(""#ablockermsg"").text(""Please disable adblocker."").show();\r\n});<script src=""https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js""></script>\r\n<div class=""ad-placement"" id=""ablockercheck""></div>\r\n<div id=""ablockermsg"" style=""display: none""></div>""ablockercheck"" is a ID which adblocker blocks. So checking it if it is visible you are able to detect if adblocker is turned On.ShareImprove this answerFolloweditedSep 13, 2016 at 14:07Cameron28.6k101101 gold badges288288 silver badges488488 bronze badgesansweredApr 27, 2015 at 7:57Roman LosevRoman Losev1,9411919 silver badges2626 bronze badges\n\nYou need to check both. Display as well as visibility:var $this = $(this)\nif ($this.css(""display"") == ""none"" || $this.css(""visibility"") == ""hidden"") {\n    // The element is not visible\n} else {\n    // The element is visible\n}If we check for$this.is("":visible""), jQuery checks for both the things automatically.ShareImprove this answerFolloweditedMar 31, 2023 at 3:40CPlus4,3723636 gold badges2525 silver badges4848 bronze badgesansweredJan 31, 2014 at 6:24Premshankar TiwariPremshankar Tiwari3,04633 gold badges2525 silver badges3131 bronze badges\n\n$(document).ready(function() {\n   var visible = $(\'#tElement\').is(\':visible\');\n\n   if(visible) {\n      alert(""visible"");\n                    // Code\n   }\n   else\n   {\n      alert(""hidden"");\n   }\n});<script src=""https://code.jquery.com/jquery-1.10.2.js""></script>\n\n<input type=""text"" id=""tElement"" style=""display:block;"">Firstname</input>ShareImprove this answerFolloweditedNov 14, 2021 at 10:18Nimantha6,36866 gold badges3030 silver badges7474 bronze badgesansweredApr 7, 2015 at 12:26Mathias StavrouMathias Stavrou88111 gold badge88 silver badges1616 bronze badges\n\nSimply check visibility by checking for a boolean value, like:if (this.hidden === false) {\n    // Your code\n}I used this code for each function. Otherwise you can useis(\':visible\')for checking the visibility of an element.ShareImprove this answerFolloweditedJul 16, 2017 at 13:56dippas59.9k1515 gold badges120120 silver badges130130 bronze badgesansweredAug 11, 2014 at 5:28pixellabmepixellabme55544 silver badges44 bronze badges\n\nBecauseElements with visibility: hidden or opacity: 0 are considered visible, since they still consume space in the layout(as described forjQuery :visible Selector) - we can check if element isreallyvisible in this way:function isElementReallyHidden (el) {\n    return $(el).is("":hidden"") || $(el).css(""visibility"") == ""hidden"" || $(el).css(\'opacity\') == 0;\n}\n\nvar booElementReallyShowed = !isElementReallyHidden(someEl);\n$(someEl).parents().each(function () {\n    if (isElementReallyHidden(this)) {\n        booElementReallyShowed = false;\n    }\n});ShareImprove this answerFolloweditedMar 20, 2014 at 10:32answeredMar 19, 2014 at 12:42AndronAndron6,57144 gold badges4444 silver badges5656 bronze badges\n\nBut what if the element\'s CSS is like the following?.element{\n    position: absolute;left:-9999;    \n}Sothis answer to Stack Overflow questionHow to check if an element is off-screenshould also be considered.ShareImprove this answerFolloweditedMay 23, 2017 at 11:55CommunityBot111 silver badgeansweredAug 23, 2014 at 20:53RN KushwahaRN Kushwaha2,11633 gold badges3030 silver badges4141 bronze badges\n\nA function can be created in order to check for visibility/display attributes in order to gauge whether the element is shown in the UI or not.function checkUIElementVisible(element) {\n    return ((element.css(\'display\') !== \'none\') && (element.css(\'visibility\') !== \'hidden\'));\n}Working FiddleShareImprove this answerFolloweditedNov 22, 2014 at 11:23Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredAug 29, 2014 at 20:20V31V317,63633 gold badges2727 silver badges4444 bronze badges\n\nAlso here\'s a ternary conditional expression to check the state of the element and then to toggle it:$(\'someElement\').on(\'click\', function(){ $(\'elementToToggle\').is(\':visible\') ? $(\'elementToToggle\').hide(\'slow\') : $(\'elementToToggle\').show(\'slow\'); });ShareImprove this answerFollowansweredNov 5, 2013 at 23:32cssimsekcssimsek1,2651414 silver badges2020 bronze badges\n\nif($(\'#postcode_div\').is(\':visible\')) {\n    if($(\'#postcode_text\').val()==\'\') {\n        $(\'#spanPost\').text(\'\\u00a0\');\n    } else {\n        $(\'#spanPost\').text($(\'#postcode_text\').val());\n}ShareImprove this answerFolloweditedDec 7, 2013 at 13:51dcodesmith9,60444 gold badges3737 silver badges4040 bronze badgesansweredNov 15, 2013 at 10:41GauravGaurav41355 silver badges99 bronze badges'}","{'title': 'What does if __name__ == ""__main__"": do?', 'question': 'What does this do, and why should one include theifstatement?if __name__ == ""__main__"":\n    print(""Hello, World!"")If you are trying to close a question where someone should be using this idiom and isn\'t, consider closing as a duplicate ofWhy is Python running my module when I import it, and how do I stop it?instead. For questions where someone simply hasn\'t called any functions, or incorrectly expects a function namedmainto be used as an entry point automatically, useWhy doesn\'t the main() function run when I start a Python script? Where does the script start running?.pythonnamespacesprogram-entry-pointpython-moduleidiomsShareImprove this questionFolloweditedNov 14, 2022 at 2:06Mateen Ulhaq26.6k2020 gold badges115115 silver badges147147 bronze badgesaskedJan 7, 2009 at 4:11DevotedDevoted181k4343 gold badges9292 silver badges111111 bronze badges', 'answers': 'Short AnswerIt\'s boilerplate code that protects users from accidentally invoking the script when they didn\'t intend to. Here are some common problems when the guard is omitted from a script:If you import the guardless script in another script (e.g.import my_script_without_a_name_eq_main_guard), then the latter script will trigger the former to runat import timeandusing the second script\'s command line arguments. This is almost always a mistake.If you have a custom class in the guardless script and save it to a pickle file, then unpickling it in another script will trigger an import of the guardless script, with the same problems outlined in the previous bullet.Long AnswerTo better understand why and how this matters, we need to take a step back to understand how Python initializes scripts and how this interacts with its module import mechanism.Whenever the Python interpreter reads a source file, it does two things:it sets a few special variables like__name__, and thenit executes all of the code found in the file.Let\'s see how this works and how it relates to your question about the__name__checks we always see in Python scripts.Code SampleLet\'s use a slightly different code sample to explore how imports and scripts work.  Suppose the following is in a file calledfoo.py.# Suppose this is foo.py.\n\nprint(""before import"")\nimport math\n\nprint(""before function_a"")\ndef function_a():\n    print(""Function A"")\n\nprint(""before function_b"")\ndef function_b():\n    print(""Function B {}"".format(math.sqrt(100)))\n\nprint(""before __name__ guard"")\nif __name__ == \'__main__\':\n    function_a()\n    function_b()\nprint(""after __name__ guard"")Special VariablesWhen the Python interpreter reads a source file, it first defines a few special variables. In this case, we care about the__name__variable.When Your Module Is the Main ProgramIf you are running your module (the source file) as the main program, e.g.python foo.pythe interpreter will assign the hard-coded string""__main__""to the__name__variable, i.e.# It\'s as if the interpreter inserts this at the top\n# of your module when run as the main program.\n__name__ = ""__main__""When Your Module Is Imported By AnotherOn the other hand, suppose some other module is the main program and it imports your module. This means there\'s a statement like this in the main program, or in some other module the main program imports:# Suppose this is in some other main program.\nimport fooThe interpreter will search for yourfoo.pyfile (along with searching for a few other variants), and prior to executing that module, it will assign the name""foo""from the import statement to the__name__variable, i.e.# It\'s as if the interpreter inserts this at the top\n# of your module when it\'s imported from another module.\n__name__ = ""foo""Executing the Module\'s CodeAfter the special variables are set up, the interpreter executes all the code in the module, one statement at a time. You may want to open another window on the side with the code sample so you can follow along with this explanation.AlwaysIt prints the string""before import""(without quotes).It loads themathmodule and assigns it to a variable calledmath. This is equivalent to replacingimport mathwith the following (note that__import__is a low-level function in Python that takes a string and triggers the actual import):# Find and load a module given its string name, ""math"",\n# then assign it to a local variable called math.\nmath = __import__(""math"")It prints the string""before function_a"".It executes thedefblock, creating a function object, then assigning that function object to a variable calledfunction_a.It prints the string""before function_b"".It executes the seconddefblock, creating another function object, then assigning it to a variable calledfunction_b.It prints the string""before __name__ guard"".Only When Your Module Is the Main ProgramIf your module is the main program, then it will see that__name__was indeed set to""__main__""and it calls the two functions, printing the strings""Function A""and""Function B 10.0"".Only When Your Module Is Imported by Another(instead) If your module is not the main program but was imported by another one, then__name__will be""foo"", not""__main__"", and it\'ll skip the body of theifstatement.AlwaysIt will print the string""after __name__ guard""in both situations.SummaryIn summary, here\'s what\'d be printed in the two cases:# What gets printed if foo is the main program\nbefore import\nbefore function_a\nbefore function_b\nbefore __name__ guard\nFunction A\nFunction B 10.0\nafter __name__ guard# What gets printed if foo is imported as a regular module\nbefore import\nbefore function_a\nbefore function_b\nbefore __name__ guard\nafter __name__ guardWhy Does It Work This Way?You might naturally wonder why anybody would want this.  Well, sometimes you want to write a.pyfile that can be both used by other programs and/or modules as a module, and can also be run as the main program itself.  Examples:Your module is a library, but you want to have a script mode where it runs some unit tests or a demo.Your module is only used as a main program, but it has some unit tests, and the testing framework works by importing.pyfiles like your script and running special test functions. You don\'t want it to try running the script just because it\'s importing the module.Your module is mostly used as a main program, but it also provides a programmer-friendly API for advanced users.Beyond those examples, it\'s elegant that running a script in Python is just setting up a few magic variables and importing the script. ""Running"" the script is a side effect of importing the script\'s module.Food for ThoughtQuestion: Can I have multiple__name__checking blocks?  Answer: it\'s strange to do so, but the language won\'t stop you.Suppose the following is infoo2.py.  What happens if you saypython foo2.pyon the command-line? Why?# Suppose this is foo2.py.\nimport os, sys; sys.path.insert(0, os.path.dirname(__file__)) # needed for some interpreters\n\ndef function_a():\n    print(""a1"")\n    from foo2 import function_b\n    print(""a2"")\n    function_b()\n    print(""a3"")\n\ndef function_b():\n    print(""b"")\n\nprint(""t1"")\nif __name__ == ""__main__"":\n    print(""m1"")\n    function_a()\n    print(""m2"")\nprint(""t2"")Now, figure out what will happen infoo3.py(having removed the__name__check):# Suppose this is foo3.py.\nimport os, sys; sys.path.insert(0, os.path.dirname(__file__)) # needed for some interpreters\n\ndef function_a():\n    print(""a1"")\n    from foo3 import function_b\n    print(""a2"")\n    function_b()\n    print(""a3"")\n\ndef function_b():\n    print(""b"")\n\nprint(""t1"")\nprint(""m1"")\nfunction_a()\nprint(""m2"")\nprint(""t2"")What will this do when used as a script?  When imported as a module?# Suppose this is in foo4.py\n__name__ = ""__main__""\n\ndef bar():\n    print(""bar"")\n    \nprint(""before __name__ guard"")\nif __name__ == ""__main__"":\n    bar()\nprint(""after __name__ guard"")ShareImprove this answerFolloweditedJul 6, 2023 at 8:32Swifty3,22422 gold badges44 silver badges2424 bronze badgesansweredJan 7, 2009 at 4:26Mr FoozMr Fooz111k77 gold badges7575 silver badges103103 bronze badges\n\nWhen your script is run by passing it as a command to the Python interpreter,python myscript.pyall of the code that is at indentation level 0 gets executed.  Functions and classes that are defined are, well, defined, but none of their code gets run.  Unlike other languages, there\'s nomain()function that gets run automatically - themain()function is implicitly all the code at the top level.In this case, the top-level code is anifblock.__name__is a built-in variable which evaluates to the name of the current module.  However, if a module is being run directly (as inmyscript.pyabove), then__name__instead is set to the string""__main__"".  Thus, you can test whether your script is being run directly or being imported by something else by testingif __name__ == ""__main__"":\n    ...If your script is being imported into another module, its various function and class definitions will be imported and its top-level code will be executed, but the code in the then-body of theifclause above won\'t get run as the condition is not met. As a basic example, consider the following two scripts:# file one.py\ndef func():\n    print(""func() in one.py"")\n\nprint(""top-level in one.py"")\n\nif __name__ == ""__main__"":\n    print(""one.py is being run directly"")\nelse:\n    print(""one.py is being imported into another module"")# file two.py\nimport one\n\nprint(""top-level in two.py"")\none.func()\n\nif __name__ == ""__main__"":\n    print(""two.py is being run directly"")\nelse:\n    print(""two.py is being imported into another module"")Now, if you invoke the interpreter aspython one.pyThe output will betop-level in one.py\none.py is being run directlyIf you runtwo.pyinstead:python two.pyYou gettop-level in one.py\none.py is being imported into another module\ntop-level in two.py\nfunc() in one.py\ntwo.py is being run directlyThus, when moduleonegets loaded, its__name__equals""one""instead of""__main__"".ShareImprove this answerFolloweditedJan 31, 2018 at 13:28Tonechas13.6k1616 gold badges5050 silver badges8383 bronze badgesansweredJan 7, 2009 at 4:28Adam RosenfieldAdam Rosenfield397k100100 gold badges520520 silver badges596596 bronze badges\n\nCreate the following two files:# a.py\n\nimport b# b.py\n\nprint(""__name__ equals "" + __name__)\n\nif __name__ == \'__main__\':\n    print(""if-statement was executed"")Now run each file individually.Runningpython a.py:$ python a.py\n__name__ equals bWhena.pyis executed, it imports the moduleb. This causes all the code insidebto run. Python setsglobals()[\'__name__\']in thebmodule to the module\'s name,b.Runningpython b.py:$ python b.py\n__name__ equals __main__\nif-statement was executedWhen only the fileb.pyis executed, Python setsglobals()[\'__name__\']in this file to""__main__"". Therefore, theifstatement evaluates toTruethis time.ShareImprove this answerFolloweditedMay 31, 2022 at 1:44Mateen Ulhaq26.6k2020 gold badges115115 silver badges147147 bronze badgesansweredJan 7, 2009 at 11:35pi.pi.21.5k88 gold badges3939 silver badges5959 bronze badges\n\nWhat does theif __name__ == ""__main__"":do?To outline the basics:The global variable,__name__, in the module that is the entry point to your program, is\'__main__\'. Otherwise, it\'s the name you import the module by.So, code under theifblock will only run if the module is the entry point to your program.It allows the code in the module to be importable by other modules, without executing the code block beneath on import.Why do we need this?Developing and Testing Your CodeSay you\'re writing a Python script designed to be used as a module:def do_important():\n    """"""This function does something very important""""""Youcouldtest the module by adding this call of the function to the bottom:do_important()and running it (on a command prompt) with something like:~$ python important.pyThe ProblemHowever, if you want to import the module to another script:import importantOn import, thedo_importantfunction would be called, so you\'d probably comment out your function call,do_important(), at the bottom.# do_important() # I must remember to uncomment to execute this!And then you\'ll have to remember whether or not you\'ve commented out your test function call. And this extra complexity would mean you\'re likely to forget, making your development process more troublesome.A Better WayThe__name__variable points to the namespace wherever the Python interpreter happens to be at the moment.Inside an imported module, it\'s the name of that module.But inside the primary module (or an interactive Python session, i.e. the interpreter\'s Read, Eval, Print Loop, or REPL) you are running everything from its""__main__"".So if you check before executing:if __name__ == ""__main__"":\n    do_important()With the above, your code will only execute when you\'re running it as the primary module (or intentionally call it from another script).An Even Better WayThere\'s a Pythonic way to improve on this, though.What if we want to run this business process from outside the module?If we put the code we want to exercise as we develop and test in a function like this and then do our check for\'__main__\'immediately after:def main():\n    """"""business logic for when running this module as the primary one!""""""\n    setup()\n    foo = do_important()\n    bar = do_even_more_important(foo)\n    for baz in bar:\n        do_super_important(baz)\n    teardown()\n\n# Here\'s our payoff idiom!\nif __name__ == \'__main__\':\n    main()We now have a final function for the end of our module that will run if we run the module as the primary module.It will allow the module and its functions and classes to be imported into other scripts without running themainfunction, and will also allow the module (and its functions and classes) to be called when running from a different\'__main__\'module, i.e.import important\nimportant.main()This idiom can also be found in the Python documentation in an explanation of the__main__module.That text states:This module represents the (otherwise anonymous) scope in which the\n  interpreter’s main program executes — commands read either from\n  standard input, from a script file, or from an interactive prompt. It\n  is this environment in which the idiomatic “conditional script” stanza\n  causes a script to run:if __name__ == \'__main__\':\n    main()ShareImprove this answerFolloweditedMar 27, 2018 at 2:27answeredNov 23, 2013 at 4:38Aaron Hall♦Aaron Hall388k9191 gold badges409409 silver badges336336 bronze badges\n\nif __name__ == ""__main__""is the part that runs when the script is run from (say) the command line using a command likepython myscript.py.ShareImprove this answerFolloweditedJul 10, 2015 at 15:49Mark Amery150k8787 gold badges415415 silver badges465465 bronze badgesansweredJan 7, 2009 at 4:14Harley HolcombeHarley Holcombe180k1515 gold badges7070 silver badges6363 bronze badges\n\nWhat doesif __name__ == ""__main__"":do?__name__is a global variable (in Python, global actually means on themodule level) that exists in all namespaces. It is typically the module\'s name (as astrtype).As the only special case, however, in whatever Python process you run, as in mycode.py:python mycode.pythe otherwise anonymous global namespace is assigned the value of\'__main__\'to its__name__.Thus, includingthe final linesif __name__ == \'__main__\':\n    main()at the end of your mycode.py script,when it is the primary, entry-point module that is run by a Python process,will cause your script\'s uniquely definedmainfunction to run.Another benefit of using this construct: you can also import your code as a module in another script and then run the main function if and when your program decides:import mycode\n# ... any amount of other code\nmycode.main()ShareImprove this answerFolloweditedMay 31, 2022 at 1:52Mateen Ulhaq26.6k2020 gold badges115115 silver badges147147 bronze badgesansweredOct 14, 2014 at 20:22Aaron Hall♦Aaron Hall388k9191 gold badges409409 silver badges336336 bronze badges\n\nThere are lots of different takes here on the mechanics of the code in question, the ""How"", but for me none of it made sense until I understood the ""Why"". This should be especially helpful for new programmers.Take file ""ab.py"":def a():\n    print(\'A function in ab file\');\na()And a second file ""xy.py"":import ab\ndef main():\n    print(\'main function: this is where the action is\')\ndef x():\n    print (\'peripheral task: might be useful in other projects\')\nx()\nif __name__ == ""__main__"":\n    main()What is this code actually doing?When you executexy.py, youimport ab. The import statement runs the module immediately on import, soab\'s operations get executed before the remainder ofxy\'s. Once finished withab, it continues withxy.The interpreter keeps track of which scripts are running with__name__. When you run a script - no matter what you\'ve named it - the interpreter calls it""__main__"", making it the master or \'home\' script that gets returned to after running an external script.Any other script that\'s called from this""__main__""script is assigned its filename as its__name__(e.g.,__name__ == ""ab.py""). Hence, the lineif __name__ == ""__main__"":is the interpreter\'s test to determine if it\'s interpreting/parsing the \'home\' script that was initially executed, or if it\'s temporarily peeking into another (external) script. This gives the programmer flexibility to have the script behave differently if it\'s executed directly vs. called externally.Let\'s step through the above code to understand what\'s happening, focusing first on the unindented lines and the order they appear in the scripts. Remember that function - ordef- blocks don\'t do anything by themselves until they\'re called. What the interpreter might say if mumbled to itself:Open xy.py as the \'home\' file; call it""__main__""in the__name__variable.Import and open file with the__name__ == ""ab.py"".Oh, a function. I\'ll remember that.Ok, functiona(); I just learned that. Printing \'A function in ab file\'.End of file; back to""__main__""!Oh, a function. I\'ll remember that.Another one.Functionx(); ok, printing \'peripheral task: might be useful in other projects\'.What\'s this? Anifstatement. Well, the condition has been met (the variable__name__has been set to""__main__""), so I\'ll enter themain()function and print \'main function: this is where the action is\'.The bottom two lines mean: ""If this is the""__main__""or \'home\' script, execute the function calledmain()"". That\'s why you\'ll see adef main():block up top, which contains the main flow of the script\'s functionality.Why implement this?Remember what I said earlier about import statements? When you import a module it doesn\'t just \'recognize\' it and wait for further instructions - it actually runs all the executable operations contained within the script. So, putting the meat of your script into themain()function effectively quarantines it, putting it in isolation so that it won\'t immediately run when imported by another script.Again, there will be exceptions, but common practice is thatmain()doesn\'t usually get called externally. So you may be wondering one more thing: if we\'re not callingmain(), why are we calling the script at all? It\'s because many people structure their scripts with standalone functions that are built to be run independent of the rest of the code in the file. They\'re then later called somewhere else in the body of the script. Which brings me to this:But the code works without itYes, that\'s right. These separate functionscanbe called from an in-line script that\'s not contained inside amain()function. If you\'re accustomed (as I am, in my early learning stages of programming) to building in-line scripts that do exactly what you need, and you\'ll try to figure it out again if you ever need that operation again ... well, you\'re not used to this kind of internal structure to your code, because it\'s more complicated to build and it\'s not as intuitive to read.But that\'s a script that probably can\'t have its functions called externally, because if it did it would immediately start calculating and assigning variables. And chances are if you\'re trying to re-use a function, your new script is related closely enough to the old one that there will be conflicting variables.In splitting out independent functions, you gain the ability to re-use your previous work by calling them into another script. For example, ""example.py"" might import ""xy.py"" and callx(), making use of the \'x\' function from ""xy.py"". (Maybe it\'s capitalizing the third word of a given text string; creating a NumPy array from a list of numbers and squaring them; or detrending a 3D surface. The possibilities are limitless.)(As an aside,this questioncontains an answer by @kindall that finally helped me to understand - the why, not the how. Unfortunately it\'s been marked as a duplicate ofthis one, which I think is a mistake.)ShareImprove this answerFolloweditedMay 23, 2018 at 22:29answeredSep 29, 2016 at 4:33joechojjoechoj1,3891010 silver badges1414 bronze badges\n\nThe code underif __name__ == \'__main__\':willonlybe executed if the module is invoked as a script.As an example, consider the following modulemy_test_module.py:# my_test_module.py\n\nprint(\'This is going to be printed out, no matter what\')\n\nif __name__ == \'__main__\':\n    print(\'This is going to be printed out, only if user invokes the module as a script\')First possibility: Importmy_test_module.pyin another module# main.py\n\nimport my_test_module\n\nif __name__ == \'__main__\':\n    print(\'Hello from main.py\')Now if you invokemain.py:python main.py\n\n>> \'This is going to be printed out, no matter what\'\n>> \'Hello from main.py\'Note that only the top-levelprint()statement inmy_test_moduleis executed.Second possibility: Invokemy_test_module.pyas a scriptNow if you runmy_test_module.pyas a Python script, bothprint()statements will be executed:python my_test_module.py\n\n>>> \'This is going to be printed out, no matter what\'\n>>> \'This is going to be printed out, only if user invokes the module as a script\'For a more comprehensive explanation, you can readWhat doesif __name__ == \'__main__\'do in Python.ShareImprove this answerFolloweditedDec 29, 2022 at 16:24answeredFeb 1, 2020 at 13:26Giorgos MyrianthousGiorgos Myrianthous38.6k2020 gold badges143143 silver badges168168 bronze badges\n\nWhen there are certain statements in our module (M.py) we want to be executed when it\'ll be running as main (not imported), we can place those statements (test-cases, print statements) under thisifblock.As by default (when module running as main, not imported) the__name__variable is set to""__main__"", and when it\'ll be imported the__name__variable will get a different value, most probably the name of the module (\'M\').\nThis is helpful in running different variants of a modules together, and separating their specific input & output statements and also if there are any test-cases.In short, use this \'if __name__ == ""main""\' block to prevent (certain) code from being run when the module is imported.ShareImprove this answerFolloweditedMay 23, 2018 at 22:07Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredApr 3, 2013 at 14:09Nabeel AhmedNabeel Ahmed19k44 gold badges5959 silver badges6363 bronze badges\n\nPut simply,__name__is a variable defined for each script that defines whether the script is being run as the main module or it is being run as an imported module.So if we have two scripts;#script1.py\nprint ""Script 1\'s name: {}"".format(__name__)and#script2.py\nimport script1\nprint ""Script 2\'s name: {}"".format(__name__)The output from executing script1 isScript 1\'s name: __main__And the output from executing script2 is:Script1\'s name is script1\nScript 2\'s name: __main__As you can see,__name__tells us which code is the \'main\' module.\nThis is great, because you can just write code and not have to worry about structural issues like in C/C++, where, if a file does not implement a \'main\' function then it cannot be compiled as an executable and if it does, it cannot then be used as a library.Say you write a Python script that does something great and you implement a boatload of functions that are useful for other purposes. If I want to use them I can just import your script and use them without executing your program (given that your code only executes within theif __name__ == ""__main__"":context). Whereas in C/C++ you would have to portion out those pieces into a separate module that then includes the file. Picture the situation below;The arrows are import links. For three modules each trying to include the previous modules code there are six files (nine, counting the implementation files) and five links. This makes it difficult to include other code into a C project unless it is compiled specifically as a library. Now picture it for Python:You write a module, and if someone wants to use your code they just import it and the__name__variable can help to separate the executable portion of the program from the library part.ShareImprove this answerFolloweditedMay 23, 2018 at 22:28Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredOct 15, 2016 at 9:07redbanditredbandit2,1821717 silver badges1212 bronze badges\n\nLet\'s look at the answer in a more abstract way:Suppose we have this code inx.py:...\n<Block A>\nif __name__ == \'__main__\':\n    <Block B>\n...Blocks A and B are run when we are runningx.py.But just block A (and not B) is run when we are running another module,y.pyfor example, in whichx.pyis imported and the code is run from there (like when a function inx.pyis called fromy.py).ShareImprove this answerFolloweditedMay 27, 2020 at 10:50kubuntu2,53511 gold badge2323 silver badges2424 bronze badgesansweredJan 20, 2015 at 17:48AlisaAlisa3,04233 gold badges3333 silver badges4444 bronze badges\n\nTo be short, you need to know several points:import aaction actually runs all that can be run ina.py, meaning each line ina.pyBecause of point 1, you may not want everything to be run ina.pywhen importing itTo solve the problem in point 2, Python allows you to use a condition check__name__is an implicit variable in all.pymodules:whena.pyisimported, the value of__name__ofa.pymodule is set to its file name ""a""whena.pyis run directly using ""python a.py"", the value of__name__is set to a string__main__Based on the mechanism how Python sets the variable__name__for each module, do you know how to achieve point 3? The answer is fairly easy, right? Use anifcondition:if __name__ == ""__main__"": // do Athenpython a.pywill run the part// do Aandimport awill skip the part// do AYou can even put if__name__ == ""a""depending on your functional need, but rarely doThe important thing that Python is special at is point 4! The rest is just basic logic.I\'ve been reading so much throughout the answers on this page. I would say, if you know the thing, for sure you will understand those answers, otherwise, you are still confused.ShareImprove this answerFolloweditedJan 13, 2022 at 22:32Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJun 24, 2018 at 15:48jackjack1,9011515 silver badges3232 bronze badges\n\nWhen you run Python interactively the local__name__variable is assigned a value of__main__. Likewise, when you execute a Python module from the command line, rather than importing it into another module, its__name__attribute is assigned a value of__main__, rather than the actual name of the module. In this way, modules can look at their own__name__value to determine for themselves how they are being used, whether as support for another program or as the main application executed from the command line. Thus, the following idiom is quite common in Python modules:if __name__ == \'__main__\':\n    # Do something appropriate here, like calling a\n    # main() function defined elsewhere in this module.\n    main()\nelse:\n    # Do nothing. This module has been imported by another\n    # module that wants to make use of the functions,\n    # classes and other useful bits it has defined.ShareImprove this answerFollowansweredDec 11, 2013 at 11:23ZainZain1,24611 gold badge1616 silver badges2626 bronze badges\n\nConsider:if __name__ == ""__main__"":\n    main()It checks if the__name__attribute of the Python script is""__main__"". In other words, if the program itself is executed, the attribute will be__main__, so the program will be executed (in this case themain()function).However, if your Python script is used by a module, any code outside of theifstatement will be executed, soif __name__ == ""__main__""is used just to check if the program is used as a module or not, and therefore decides whether to run the code.ShareImprove this answerFolloweditedMay 20, 2022 at 8:24tripleee185k3636 gold badges295295 silver badges342342 bronze badgesansweredAug 22, 2017 at 18:53LarryLarry1,32222 gold badges1515 silver badges2222 bronze badges\n\nBefore explaining anything aboutif __name__ == \'__main__\'it is important to understand what__name__is and what it does.What is__name__?__name__is aDunderAlias- can be thought of as a global variable (accessible from modules) and works in a similar way toglobal.It is a string (global as mentioned above) as indicated bytype(__name__)(yielding<class \'str\'>), and is an inbuilt standard for bothPython 3andPython 2versions.WhereIt can not only be used in scripts but can also be found in both the interpreter and modules/packages.Interpreter:>>> print(__name__)\n__main__\n>>>Script:test_file.py:print(__name__)Resulting in__main__Module or package:somefile.py:def somefunction():\n    print(__name__)test_file.py:import somefile\nsomefile.somefunction()Resulting insomefileNotice that when used in a package or module,__name__takes the name of the file.  The path of the actual module or package path is not given, but has its own DunderAlias__file__, that allows for this.You should see that, where__name__, where it is the main file (or program) willalwaysreturn__main__, and if it is a module/package, or anything that is running off some other Python script, will return the name of the file where it has originated from.PracticeBeing a variable means that it\'s valuecanbe overwritten (""can"" does not mean ""should""), overwriting the value of__name__will result in a lack of readability.  So do not do it, for any reason.  If you need a variable define a new variable.It is always assumed that the value of__name__to be__main__or the name of the file.  Once again changing this default value will cause more confusion that it will do good, causing problems further down the line.Example:>>> __name__ = \'Horrify\' # Change default from __main__\n>>> if __name__ == \'Horrify\': print(__name__)\n...\n>>> else: print(\'Not Horrify\')\n...\nHorrify\n>>>It is considered good practice in general to include theif __name__ == \'__main__\'in scripts.Now to answerif __name__ == \'__main__\':Now we know the behaviour of__name__things become clearer:Anifis a flow control statement that contains the block of code will execute if the value given is true. We have seen that__name__can take either__main__or the file name it has been imported from.This means that if__name__is equal to__main__then the file must be the main file and must actually be running (or it is the interpreter), not a module or package imported into the script.If indeed__name__does take the value of__main__then whatever is in that block of code will execute.This tells us that if the file running is the main file (or you are running from the interpreter directly) then that condition must execute.  If it is a package then it should not, and the value will not be__main__.Modules__name__can also be used in modules to define the name of a moduleVariantsIt is also possible to do other, less common but useful things with__name__, some I will show here:Executing only if the file is a module or packageif __name__ != \'__main__\':\n    # Do some useful thingsRunning one condition if the file is the main one and another if it is notif __name__ == \'__main__\':\n    # Execute something\nelse:\n    # Do some useful thingsYou can also use it to provide runnable help functions/utilities on packages and modules without the elaborate use of libraries.It also allows modules to be run from the command line as main scripts, which can be also very useful.ShareImprove this answerFolloweditedMar 26, 2022 at 13:31tripleee185k3636 gold badges295295 silver badges342342 bronze badgesansweredApr 3, 2018 at 19:32XantiumXantium11.4k1111 gold badges6868 silver badges9292 bronze badges\n\nI think it\'s best to break the answer in depth and in simple words:__name__: Every module in Python has a special attribute called__name__.\nIt is a built-in variable that returns the name of the module.__main__: Like other programming languages, Python too has an execution entry point, i.e., main.\'__main__\'is the name of the scope in which top-level code executes. Basically you have two ways of using a Python module: Run it directly as a script, or import it. When a module is run as a script, its__name__is set to__main__.Thus, the value of the__name__attribute is set to__main__when the module is run as the main program. Otherwise the value of__name__is set to contain the name of the module.ShareImprove this answerFolloweditedMay 23, 2018 at 22:30Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredNov 30, 2016 at 6:47Taufiq RahmanTaufiq Rahman5,67633 gold badges3737 silver badges4545 bronze badges\n\nIt is a special for when a Python file is called from the command line. This is typically used to call a ""main()"" function or execute other appropriate startup code, like commandline arguments handling for instance.It could be written in several ways. Another is:def some_function_for_instance_main():\n    dosomething()\n\n\n__name__ == \'__main__\' and some_function_for_instance_main()I am not saying you should use this in production code, but it serves to illustrate that there is nothing ""magical"" aboutif __name__ == \'__main__\'.It just a convention for invoking a main function in Python files.ShareImprove this answerFolloweditedJun 15, 2021 at 15:46answeredJan 24, 2013 at 13:48Prof. FalkenProf. Falken24.7k2020 gold badges101101 silver badges177177 bronze badges\n\nThere are a number of variables that the system (Python interpreter) provides for source files (modules).  You can get their values anytime you want, so, let us focus on the__name__variable/attribute:When Python loads a source code file, it executes all of the code found in it. (Note that it doesn\'t call all of the methods and functions defined in the file, but it does define them.)Before the interpreter executes the source code file though, it defines a few special variables for that file;__name__is one of those special variables that Python automatically defines for each source code file.If Python is loading this source code file as the main program (i.e. the file you run), then it sets the special__name__variable for this file to have a value""__main__"".If this is being imported from another module,__name__will be set to that module\'s name.So, in your example in part:if __name__ == ""__main__"":\n   lock = thread.allocate_lock()\n   thread.start_new_thread(myfunction, (""Thread #: 1"", 2, lock))\n   thread.start_new_thread(myfunction, (""Thread #: 2"", 2, lock))means that the code block:lock = thread.allocate_lock()\nthread.start_new_thread(myfunction, (""Thread #: 1"", 2, lock))\nthread.start_new_thread(myfunction, (""Thread #: 2"", 2, lock))will be executed only when you run the module directly; the code block will not execute if another module is calling/importing it because the value of__name__will not equal to ""main"" in that particular instance.Hope this helps out.ShareImprove this answerFolloweditedJul 20, 2016 at 9:30answeredNov 25, 2015 at 12:26codewizardcodewizard40644 silver badges88 bronze badges\n\nif __name__ == ""__main__"":is basically the top-level script environment, and it specifies the interpreter that (\'I have the highest priority to be executed first\').\'__main__\'is the name of the scope in which top-level code executes. A module’s__name__is set equal to\'__main__\'when read from standard input, a script, or from an interactive prompt.if __name__ == ""__main__"":\n    # Execute only if run as a script\n    main()ShareImprove this answerFolloweditedMay 23, 2018 at 22:14Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredApr 24, 2016 at 8:23The Gr8 AdakronThe Gr8 Adakron1,20911 gold badge1313 silver badges1515 bronze badges\n\nConsider:print __name__The output for the above is__main__.if __name__ == ""__main__"":\n  print ""direct method""The above statement is true and prints""direct method"". Suppose if they imported this class in another class it doesn\'t print""direct method""because, while importing, it will set__name__ equal to ""first model name"".ShareImprove this answerFolloweditedFeb 6, 2019 at 23:16simhumileco33.7k1616 gold badges144144 silver badges122122 bronze badgesansweredJun 22, 2016 at 10:47Janarthanan RamuJanarthanan Ramu1,3871616 silver badges1818 bronze badges\n\nIn simple words:The code you see underif __name__ == ""__main__"":will only get called upon when your Python file is executed aspython example1.pyHowever, if you wish to import your Python fileexample1.pyas a module to work with another Python file, sayexample2.py, the code underif __name__ == ""__main__"":will not run or take any effect.ShareImprove this answerFolloweditedJul 21, 2022 at 13:58tripleee185k3636 gold badges295295 silver badges342342 bronze badgesansweredOct 22, 2020 at 18:01Babatunde MustaphaBabatunde Mustapha2,4912323 silver badges2222 bronze badges\n\nIf you are a beginner, probably the only answer you need right now is thatthis code is unnecessaryfor a simple script. It is only useful if you want to be able toimportyour script (orunpickleetc; see the other answers here for some other non-beginner scenarios).In slightly different words, theif __name__guard is a mechanism for hiding code from other code. If you don\'t have a specific reason to hide something, don\'t: If you don\'t need to hide some code fromimport, don\'t put it behind this guard, and if you do, hide as little as possible.In slightly more detail, let\'s say you have a simple scriptfib.py(adapted fromthis answer):# XXX FIXME: useless (see below)\nif __name__ == ""__main__"":\n    n = int(input(\'Write a number: \'))\n    a, b = 0, 1\n    while b < n:\n        a, b = b, a+b\n    print(\'Fibonacci number %i: %i\' % (n, b))Now, if you simply runpython fib.pyit works fine. But__name__will always be""__main__""in this scenario, so the condition is actually unnecessary. The script could be simplified to justn = int(input(\'Write a number: \'))\na, b = 0, 1\nwhile b < n:\n    a, b = b, a+b\nprint(\'Fibonacci number %i: %i\' % (n, b))Now, you still can\'timport fibwith the new version, but if you didn\'t plan to do that in the first place, this version is actually better, because it\'s simpler and clearer.If youdowant to be able toimport fib, the first version was useless, too, because the useful code was in a section which will not run when youimportthat file (in which case__name__will not be""__main__""). The proper design in that case would be to refactor the code so that the useful parts are in a function you can run when you want to after you haveimported it.def main():\n    n = int(input(\'Write a number: \'))\n    a, b = 0, 1\n    while b < n:\n        a, b = b, a+b\n    print(\'Fibonacci number %i: %i\' % (n, b))\n\nif __name__ == ""__main__"":\n    main()Now, if youimport fib, the call tomain()will not be executed; but when you runpython fib.py, it will.Actually, a better design still would be to isolate the reusable part (the actual calculation) from the user-visible input/output:def fibn(n: int) -> int:\n    a, b = 0, 1\n    while b < n:\n        a, b = b, a+b\n    return b\n\ndef main() -> None:\n    n = int(input(\'Write a number: \'))\n    print(\'Fibonacci number %i: %i\' % (n, fibn(n)))\n\nif __name__ == ""__main__"":\n    main()Now, you canfrom fib import fibnand call thefibn()function from the code which performs thisimport.(I called the functionfibn()just to make it clearer what is what in this example. In real life, you might call itfib()and dofrom fib import fib.)Notice the more modular and reusable design; thefibnfunction contains the actual calculation, but no user interface parts; and the pesky interactive I/O is separated out into themainfunction so that you can bypass it (or call it if you want to, of course).Returning to the code in the question, I would similarly move the code from theifinto a function as well, so that callers can invoke that function if they want to.def main():\n    lock = thread.allocate_lock()\n    thread.start_new_thread(myfunction, (""Thread #: 1"", 2, lock))\n    thread.start_new_thread(myfunction, (""Thread #: 2"", 2, lock))\n\nif __name__ == ""__main__"":\n    main()This changes the scope of thelockvariable; if the surrounding code needs access to it, you will need to make itglobal(or, perhaps, better, refactormaintoreturn lock, and have the caller capture the value in a local variable of its own).(Unlike in languages like C, the namemainhas no specific meaning to Python; but it\'s a common convention to use it as the name of the thing which will be run. You still have to actually explicitly call it, likemain(), unlike in C.)ShareImprove this answerFolloweditedNov 17, 2023 at 7:52answeredOct 30, 2021 at 9:46tripleeetripleee185k3636 gold badges295295 silver badges342342 bronze badges\n\nYou can make the file usable as ascriptas well as animportable module.fibo.py (a module namedfibo)# Other modules can IMPORT this MODULE to use the function fib\ndef fib(n):    # write Fibonacci series up to n\n    a, b = 0, 1\n    while b < n:\n        print(b, end=\' \')\n        a, b = b, a+b\n    print()\n\n# This allows the file to be used as a SCRIPT\nif __name__ == ""__main__"":\n    import sys\n    fib(int(sys.argv[1]))Reference:https://docs.python.org/3.5/tutorial/modules.htmlShareImprove this answerFollowansweredMar 13, 2017 at 21:44kgf3JfUtWkgf3JfUtW14.6k1212 gold badges6161 silver badges8686 bronze badges\n\nThe reason forif __name__ == ""__main__"":\n    main()is primarily to avoid theimport lockproblems that would arise fromhaving code directly imported. You wantmain()to run if your file was directly invoked (that\'s the__name__ == ""__main__""case), but if your code was imported then the importer has to enter your code from the true main module to avoid import lock problems.A side-effect is that you automatically sign on to a methodology that supports multiple entry points. You can run your program usingmain()as the entry point,but you don\'t have to. Whilesetup.pyexpectsmain(), other tools use alternate entry points. For example, to run your file as agunicornprocess, you define anapp()function instead of amain(). Just as withsetup.py,gunicornimports your code so you don\'t want it do do anything while it\'s being imported (because of the import lock issue).ShareImprove this answerFolloweditedApr 18, 2018 at 21:05answeredSep 22, 2017 at 18:32personal_cloudpersonal_cloud4,27433 gold badges3030 silver badges4141 bronze badges\n\nEvery module in Python has an attribute called__name__. The value of__name__attribute is__main__when the module is run directly, likepython my_module.py. Otherwise (like when you sayimport my_module) the value of__name__is the name of the module.Small example to explain in short.Scripttest.pyapple = 42\n\ndef hello_world():\n    print(""I am inside hello_world"")\n\nif __name__ == ""__main__"":\n    print(""Value of __name__ is: "", __name__)\n    print(""Going to call hello_world"")\n    hello_world()We can execute this directly aspython test.pyOutputValue of __name__ is: __main__\nGoing to call hello_world\nI am inside hello_worldNow suppose we call the above script from another script:Scriptexternal_calling.pyimport test\n\nprint(test.apple)\ntest.hello_world()\n\nprint(test.__name__)When you execute this,python external_calling.pyOutput42\nI am inside hello_world\ntestSo, the above is self-explanatory that when you calltestfrom another script, if loop__name__intest.pywill not execute.ShareImprove this answerFolloweditedJan 13, 2022 at 22:45Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJun 12, 2019 at 9:28LOrD_ARaGOrNLOrD_ARaGOrN4,30855 gold badges3232 silver badges5555 bronze badges\n\nThis answer is for Java programmers learning Python.\nEvery Java file typically contains one public class. You can use that class in two ways:Call the class from other files. You just have to import it in the calling program.Run the class stand alone, for testing purposes.For the latter case, the class should contain a public static void main() method. In Python this purpose is served by the globally defined label\'__main__\'.ShareImprove this answerFolloweditedOct 18, 2018 at 3:09eyllanesc241k1919 gold badges191191 silver badges269269 bronze badgesansweredOct 7, 2018 at 4:52RajaRaja1,2031717 silver badges1717 bronze badges\n\nIf this .py file are imported by other .py files, the code under theifstatement will not be executed.If this .py are run bypython this_py.pyunder shell, or double clicked in Windows. the code under theifstatement will be executed.It is usually written for testing.ShareImprove this answerFolloweditedMay 20, 2022 at 8:22tripleee185k3636 gold badges295295 silver badges342342 bronze badgesansweredJun 19, 2018 at 11:44pah8Jpah8J84799 silver badges1616 bronze badges\n\nWe see if__name__ == \'__main__\':quite often.It checks if a module is being imported or not.In other words, the code within theifblock will be executed only when the code runs directly. Heredirectlymeansnot imported.Let\'s see what it does using a simple code that prints the name of the module:# test.py\ndef test():\n   print(\'test module name=%s\' %(__name__))\n\nif __name__ == \'__main__\':\n   print(\'call test()\')\n   test()If we run the code directly viapython test.py, the module name is__main__:call test()\ntest module name=__main__ShareImprove this answerFolloweditedMay 20, 2022 at 8:23tripleee185k3636 gold badges295295 silver badges342342 bronze badgesansweredApr 4, 2018 at 14:32Ali HallajiAli Hallaji4,19233 gold badges3232 silver badges3838 bronze badges\n\nIf the Python interpreter is running a particular module then the__name__global variable will have the value""__main__"":def a():\n    print(""a"")\n\ndef b():\n    print(""b"")\n\nif __name__ == ""__main__"":\n\n        print (""you can see me"")\n        a()\nelse:\n\n        print (""You can\'t see me"")\n        b()When you run this script, it prints:you can see me\naIf you import this file, sayAto fileB, and execute the fileBthenif __name__ == ""__main__""in fileAbecomesFalse, so it prints:You can\'t see me\nbShareImprove this answerFolloweditedDec 11, 2022 at 5:26Javad2,06933 gold badges1313 silver badges2525 bronze badgesansweredJul 30, 2019 at 16:22Nikil MunireddyNikil Munireddy30844 silver badges88 bronze badges\n\nAll the answers have pretty much explained the functionality. But I will provide one example of its usage which might help clearing out the concept further.Assume that you have two Python files, a.py and b.py. Now,a.pyimportsb.py. We run thea.pyfile, where theimport b.pycode is executed first. Before the rest of thea.pycode runs, the code in the fileb.pymust run completely.In the b.py code, there is some code that is exclusive to that fileb.pyand we don\'t want any other file (other than theb.pyfile), that has imported the b.py file, to run it.So that is what this line of code checks. If it is the main file (i.e.,b.py) running the code, which in this case it is not (a.pyis the main file running), then only the code gets executed.ShareImprove this answerFolloweditedDec 15, 2022 at 0:58Javad2,06933 gold badges1313 silver badges2525 bronze badgesansweredMay 4, 2018 at 8:25preetika mondalpreetika mondal34322 silver badges1212 bronze badges'}","{'title': 'Is Java ""pass-by-reference"" or ""pass-by-value""?', 'question': ""This question's answers are acommunity effort. Edit existing answers to improve this post. It is not currently accepting new answers or interactions.I always thought Java usespass-by-reference. However, I reada blog postwhich claims that Java usespass-by-value. I don't think I understand the distinction the author is making.What is the explanation?javamethodsparameter-passingpass-by-referencepass-by-valueShareFolloweditedFeb 14, 2023 at 20:31community wiki26 revs, 22 users 12%user4315"", 'answers': 'The terms ""pass-by-value"" and ""pass-by-reference"" have special,precisely definedmeanings in computer science. These meanings differ from the intuition many people have when first hearing the terms. Much of the confusion in this discussion seems to come from this fact.The terms ""pass-by-value"" and ""pass-by-reference"" are talking aboutvariables.Pass-by-value means that thevalueof a variable is passed to a function/method. Pass-by-reference means that areferenceto that variable is passed to the function. The latter gives the function a way to change the contents of the variable.By those definitions, Java is alwayspass-by-value.  Unfortunately, when we deal with variables holding objects we are really dealing with object-handles calledreferenceswhich are passed-by-value as well.  This terminology and semantics easily confuse many beginners.It goes like this:public static void main(String[] args) {\n    Dog aDog = new Dog(""Max"");\n    Dog oldDog = aDog;\n\n    // we pass the object to foo\n    foo(aDog);\n    // aDog variable is still pointing to the ""Max"" dog when foo(...) returns\n    aDog.getName().equals(""Max""); // true\n    aDog.getName().equals(""Fifi""); // false\n    aDog == oldDog; // true\n}\n\npublic static void foo(Dog d) {\n    d.getName().equals(""Max""); // true\n    // change d inside of foo() to point to a new Dog instance construct red with name member variable set to ""Fifi""\n    d = new Dog(""Fifi"");\n    d.getName().equals(""Fifi""); // true\n}In this example,aDog.getName()will still return""Max"". The valueaDogwithinmainis not changed in the functionfooby creating newDogwith name member variable set to""Fifi""because the object reference is passed by value. If the object reference  was passed by reference, then theaDog.getName()inmainwould return""Fifi""after the call tofoo.Likewise:public static void main(String[] args) {\n    Dog aDog = new Dog(""Max"");\n    Dog oldDog = aDog;\n\n    foo(aDog);\n    // when foo(...) returns, the name of the dog has been changed to ""Fifi""\n    aDog.getName().equals(""Fifi""); // true\n    // but it is still the same dog:\n    aDog == oldDog; // true\n}\n\npublic static void foo(Dog d) {\n    d.getName().equals(""Max""); // true\n    // this changes the name of d to be ""Fifi""\n    d.setName(""Fifi"");\n}In this example,Fifiis dog’s name after call tofoo(aDog)because the object\'s name was set inside offoo(...). Any operations thatfooperforms ondare such that, for all practical purposes, they are performed onaDog, but it isnotpossible to change the value of the variableaDogitself.For more information on pass by reference and pass by value, consult the following answer:https://stackoverflow.com/a/430958/6005228. This explains more thoroughly the semantics and history behind the two and also explains why Java and many other modern languages appear to do both in certain cases.ShareImprove this answerFolloweditedApr 21 at 20:43community wiki37 revs, 30 users 29%erlando\n\nI just noticed you referencedmy article.The Java Spec says that everything in Java is pass-by-value. There is no such thing as ""pass-by-reference"" in Java.The key to understanding this is that something likeDog myDog;isnota Dog; it\'s actually apointerto a Dog. The use of the term ""reference"" in Java is very misleading and is what causes most of the confusion here. What they call ""references"" act/feel more like what we\'d call ""pointers"" in most other languages.What that means, is when you haveDog myDog = new Dog(""Rover"");\nfoo(myDog);you\'re essentially passing theaddressof the createdDogobject to thefoomethod.(I say essentially because Java pointers/references aren\'t direct addresses, but it\'s easiest to think of them that way.)Suppose theDogobject resides at memory address 42. This means we pass 42 to the method.if the Method were defined aspublic void foo(Dog someDog) {\n    someDog.setName(""Max"");     // AAA\n    someDog = new Dog(""Fifi"");  // BBB\n    someDog.setName(""Rowlf"");   // CCC\n}let\'s look at what\'s happening.the parametersomeDogis set to the value 42at line ""AAA""someDogis followed to theDogit points to (theDogobject at address 42)thatDog(the one at address 42) is asked to change his name to Maxat line ""BBB""a newDogis created. Let\'s say he\'s at address 74we assign the parametersomeDogto 74at line ""CCC""someDog is followed to theDogit points to (theDogobject at address 74)thatDog(the one at address 74) is asked to change his name to Rowlfthen, we returnNow let\'s think about what happens outside the method:DidmyDogchange?There\'s the key.Keeping in mind thatmyDogis apointer, and not an actualDog, the answer is NO.myDogstill has the value 42; it\'s still pointing to the originalDog(but note that because of line ""AAA"", its name is now ""Max"" - still the same Dog;myDog\'s value has not changed.)It\'s perfectly valid tofollowan address and change what\'s at the end of it; that does not change the variable, however.Java works exactly like C. You can assign a pointer, pass the pointer to a method, follow the pointer in the method and change the data that was pointed to. However, the caller will not see any changes you make to where that pointer points. (In a language with pass-by-reference semantics, the method functioncanchange the pointer and the caller will see that change.)In C++, Ada, Pascal and other languages that support pass-by-reference, you can actually change the variable that was passed.If Java had pass-by-reference semantics, thefoomethod we defined above would have changed wheremyDogwas pointing when it assignedsomeDogon line BBB.Think of reference parameters as being aliases for the variable passed in. When that alias is assigned, so is the variable that was passed in.UpdateA discussion in the comments warrants some clarification...In C, you can writevoid swap(int *x, int *y) {\n    int t = *x;\n    *x = *y;\n    *y = t;\n}\n\nint x = 1;\nint y = 2;\nswap(&x, &y);This is not a special case in C. Both languages use pass-by-value semantics. Here the call site is creating additional data structure to assist the function to access and manipulate data.The function is being passed pointers to data, and follows those pointers to access and modify that data.A similar approach in Java, where the caller sets up assisting structure, might be:void swap(int[] x, int[] y) {\n    int temp = x[0];\n    x[0] = y[0];\n    y[0] = temp;\n}\n\nint[] x = {1};\nint[] y = {2};\nswap(x, y);(or if you wanted both examples to demonstrate features the other language doesn\'t have, create a mutable IntWrapper class to use in place of the arrays)In these cases, both C and Java aresimulatingpass-by-reference. They\'re still both passing values (pointers to ints or arrays), and following those pointers inside the called function to manipulate the data.Pass-by-reference is all about the functiondeclaration/definition, and how it handles its parameters. Reference semantics apply toeverycall to that function, and the call site only needs to pass variables, no additional data structure.These simulations require the call site and the function to cooperate. No doubt it\'s useful, but it\'s still pass-by-value.ShareImprove this answerFolloweditedAug 12, 2022 at 17:42community wiki17 revs, 8 users 71%Scott Stanchfield\n\nJava always passes argumentsby value, NOT by reference.Let me explain this through anexample:public class Main {\n\n     public static void main(String[] args) {\n          Foo f = new Foo(""f"");\n          changeReference(f); // It won\'t change the reference!\n          modifyReference(f); // It will modify the object that the reference variable ""f"" refers to!\n     }\n\n     public static void changeReference(Foo a) {\n          Foo b = new Foo(""b"");\n          a = b;\n     }\n\n     public static void modifyReference(Foo c) {\n          c.setAttribute(""c"");\n     }\n\n}I will explain this in steps:Declaring a reference namedfof typeFooand assign it a new object of typeFoowith an attribute""f"".Foo f = new Foo(""f"");From the method side, a reference of typeFoowith a nameais declared and it\'s initially assignednull.public static void changeReference(Foo a)As you call the methodchangeReference, the referenceawill be assigned the object which is passed as an argument.changeReference(f);Declaring a reference namedbof typeFooand assign it a new object of typeFoowith an attribute""b"".Foo b = new Foo(""b"");a = bmakes a new assignment to the referencea,notf, of the object whose attribute is""b"".As you callmodifyReference(Foo c)method, a referencecis created and assigned the object with attribute""f"".c.setAttribute(""c"");will change the attribute of the object that referencecpoints to it, and it\'s the same object that referencefpoints to it.ShareImprove this answerFolloweditedJul 27, 2023 at 21:56community wiki9 revs, 9 users 73%Eng.Fouad\n\nJava is always pass by value, with no exceptions,ever.So how is it that anyone can be at all confused by this, and believe that Java is pass by reference, or think they have an example of Java acting as pass by reference? The key point is that Javaneverprovides direct access to the values ofobjects themselves, inanycircumstances. The only access to objects is through areferenceto that object. Because Java objects arealwaysaccessed through a reference, rather than directly, it is common to talk about fields and variablesand method argumentsas beingobjects, when pedantically they are onlyreferences to objects.The confusion stems from this (strictly speaking, incorrect) change in nomenclature.So, when calling a methodFor primitive arguments (int,long, etc.), the pass by value isthe actual valueof the primitive (for example, 3).For objects, the pass by value is the value ofthe reference to the object.So if you havedoSomething(foo)andpublic void doSomething(Foo foo) { .. }the two Foos have copiedreferencesthat point to the same objects.Naturally, passing by value a reference to an object looks very much like (and is indistinguishable in practice from) passing an object by reference.ShareImprove this answerFolloweditedJan 22, 2016 at 3:37community wiki4 revs, 4 users 40%SCdF\n\nThis will give you some insights of how Java really works to the point that in your next discussion about Java passing by reference or passing by value you\'ll just smile :-)Step one please erase from your mind that word that starts with \'p\' ""_ _ _ _ _ _ _"", especially if you come from other programming languages. Java and \'p\' cannot be written in the same book, forum, or even txt.Step two remember that when you pass an Object into a method you\'re passing the Object reference and not the Object itself.Student: Master, does this mean that Java is pass-by-reference?Master: Grasshopper, No.Now think of what an Object\'s reference/variable does/is:A variable holds the bits that tell the JVM how to get to the referenced Object in memory (Heap).When passing arguments to a methodyou ARE NOT passing the reference variable, but a copy of the bits in the reference variable. Something like this: 3bad086a. 3bad086a represents a way to get to the passed object.So you\'re just passing 3bad086a that it\'s the value of the reference.You\'re passing the value of the reference and not the reference itself (and not the object).This value is actually COPIED and given to the method.In the following (please don\'t try to compile/execute this...):1. Person person;\n2. person = new Person(""Tom"");\n3. changeName(person);\n4.\n5. //I didn\'t use Person person below as an argument to be nice\n6. static void changeName(Person anotherReferenceToTheSamePersonObject) {\n7.     anotherReferenceToTheSamePersonObject.setName(""Jerry"");\n8. }What happens?The variablepersonis created in line #1 and it\'s null at the beginning.A new Person Object is created in line #2, stored in memory, and the variablepersonis given the reference to the Person object. That is, its address. Let\'s say 3bad086a.The variablepersonholding the address of the Object is passed to the function in line #3.In line #4 you can listen to the sound of silenceCheck the comment on line #5A method local variable -anotherReferenceToTheSamePersonObject- is created and then comes the magic in line #6:The variable/referencepersonis copied bit-by-bit and passed toanotherReferenceToTheSamePersonObjectinside the function.No new instances of Person are created.Both ""person"" and ""anotherReferenceToTheSamePersonObject"" hold the same value of 3bad086a.Don\'t try this but person==anotherReferenceToTheSamePersonObject would be true.Both variables have IDENTICAL COPIES of the reference and they both refer to the same Person Object, the SAME Object on the Heap and NOT A COPY.A picture is worth a thousand words:Note that the anotherReferenceToTheSamePersonObject arrows is directed towards the Object and not towards the variable person!If you didn\'t get it then just trust me and remember that it\'s better to say thatJava is pass by value. Well,pass by reference value. Oh well, even better ispass-by-copy-of-the-variable-value! ;)Now feel free to hate me but note that given thisthere is no difference between passing primitive data types and Objectswhen talking about method arguments.You always pass a copy of the bits of the value of the reference!If it\'s a primitive data type these bits will contain the value of the primitive data type itself.If it\'s an Object the bits will contain the value of the address that tells the JVM how to get to the Object.Java is pass-by-value because inside a method you can modify the referenced Object as much as you want but no matter how hard you try you\'ll never be able to modify the passed variable that will keep referencing (not p _ _ _ _ _ _ _) the same Object no matter what!The changeName function above will never be able to modify the actual content (the bit values) of the passed reference. In other word changeName cannot make Person person refer to another Object.Of course you can cut it short and just say thatJava is pass-by-value!ShareImprove this answerFolloweditedJan 4, 2018 at 10:17community wiki3 revs, 2 users 95%Gevorg\n\nJava passes references by value.So you can\'t change the reference that gets passed in.ShareImprove this answerFollowansweredSep 2, 2008 at 20:20community wikiScArcher2\n\nI feel like arguing aboutpass-by-referencevspass-by-valueis not really helpful.If you say that Java ispass-by-whatever, you are not providing a complete answer. Here is some additional information that will hopefully help you understand what actually happens in memory.Crash course on stack/heap before we get to the Java implementation:\nValues go on and off the stack in a nice orderly fashion, like a stack of plates at a cafeteria.\nMemory in the heap (also known as dynamic memory) is haphazard and disorganized. The JVM just finds space wherever it can, and frees it up as the variables that use it are no longer needed.Okay. First off, local primitives go on the stack. So this code:int x = 3;\nfloat y = 101.1f;\nboolean amIAwesome = true;results in this:When you declare and instantiate an object. The actual object goes on the heap. What goes on the stack? The address of the object on the heap. C++ programmers would call this a pointer, but some Java developers are against the word ""pointer"". Whatever. Just know that the address of the object goes on the stack.Like so:int problems = 99;\nString name = ""Jay-Z"";An array is an object, so it goes on the heap as well. And what about the objects in the array? They get their own heap space, and the address of each object goes inside the array.JButton[] marxBros = new JButton[3];\nmarxBros[0] = new JButton(""Groucho"");\nmarxBros[1] = new JButton(""Zeppo"");\nmarxBros[2] = new JButton(""Harpo"");So, what gets passed in when you call a method? If you pass in an object, what you\'re actually passing in is the address of the object. Some might say the ""value"" of the address, and some say it\'s just a reference to the object. This is the genesis of the holy war between ""reference"" and ""value"" proponents. What you call it isn\'t as important as that you understand that what\'s getting passed in is the address to the object.private static void shout(String name){\n    System.out.println(""There goes "" + name + ""!"");\n}\n\npublic static void main(String[] args){\n    String hisName = ""John J. Jingleheimerschmitz"";\n    String myName = hisName;\n    shout(myName);\n}One String gets created and space for it is allocated in the heap, and the address to the string is stored on the stack and given the identifierhisName, since the address of the second String is the same as the first, no new String is created and no new heap space is allocated, but a new identifier is created on the stack. Then we callshout(): a new stack frame is created and a new identifier,nameis created and assigned the address of the already-existing String.So, value, reference? You say ""potato"".ShareImprove this answerFolloweditedMar 12 at 23:27community wiki7 revs, 5 users 95%cutmancometh\n\nBasically, reassigning Object parameters doesn\'t affect the argument, e.g.,private static void foo(Object bar) {\n    bar = null;\n}\n\npublic static void main(String[] args) {\n    String baz = ""Hah!"";\n    foo(baz);\n    System.out.println(baz);\n}will print out""Hah!""instead ofnull. The reason this works is becausebaris a copy of the value ofbaz, which is just a reference to""Hah!"". If it were the actual reference itself, thenfoowould have redefinedbaztonull.ShareImprove this answerFolloweditedMar 7, 2022 at 7:47community wiki3 revs, 3 users 94%Hank Gay\n\nJust to show the contrast, compare the followingC++andJavasnippets:In C++:Note: Bad code - memory leaks!But it demonstrates the point.void cppMethod(int val, int &ref, Dog obj, Dog &objRef, Dog *objPtr, Dog *&objPtrRef)\n{\n    val = 7; // Modifies the copy\n    ref = 7; // Modifies the original variable\n    obj.SetName(""obj""); // Modifies the copy of Dog passed\n    objRef.SetName(""objRef""); // Modifies the original Dog passed\n    objPtr->SetName(""objPtr""); // Modifies the original Dog pointed to \n                               // by the copy of the pointer passed.\n    objPtr = new Dog(""newObjPtr"");  // Modifies the copy of the pointer, \n                                   // leaving the original object alone.\n    objPtrRef->SetName(""objRefPtr""); // Modifies the original Dog pointed to \n                                    // by the original pointer passed. \n    objPtrRef = new Dog(""newObjPtrRef""); // Modifies the original pointer passed\n}\n\nint main()\n{\n    int a = 0;\n    int b = 0;\n    Dog d0 = Dog(""d0"");\n    Dog d1 = Dog(""d1"");\n    Dog *d2 = new Dog(""d2"");\n    Dog *d3 = new Dog(""d3"");\n    cppMethod(a, b, d0, d1, d2, d3);\n    // a is still set to 0\n    // b is now set to 7\n    // d0 still have name ""d0""\n    // d1 now has name ""objRef""\n    // d2 now has name ""objPtr""\n    // d3 now has name ""newObjPtrRef""\n}In Java,public static void javaMethod(int val, Dog objPtr)\n{\n   val = 7; // Modifies the copy\n   objPtr.SetName(""objPtr"") // Modifies the original Dog pointed to \n                            // by the copy of the pointer passed.\n   objPtr = new Dog(""newObjPtr"");  // Modifies the copy of the pointer, \n                                  // leaving the original object alone.\n}\n\npublic static void main()\n{\n    int a = 0;\n    Dog d0 = new Dog(""d0"");\n    javaMethod(a, d0);\n    // a is still set to 0\n    // d0 now has name ""objPtr""\n}Java only has the two types of passing: by value for built-in types, and by value of the pointer for object types.ShareImprove this answerFolloweditedSep 27, 2016 at 14:42community wiki4 revs, 4 users 94%Eclipse\n\nJava passes references to objects by value.ShareImprove this answerFollowansweredSep 2, 2008 at 20:23community wikiJohn Channing\n\nI can\'t believe that nobody mentioned Barbara Liskov yet. When she designed CLU in 1974, she ran into this same terminology problem, and she invented the termcall by sharing(also known ascall by object-sharingandcall by object) for this specific case of ""call by value where the value is a reference"".ShareImprove this answerFollowansweredSep 7, 2010 at 22:07community wikiJörg W Mittag\n\nThe crux of the matter is that the wordreferencein the expression ""pass by reference"" means something completely different from the usual meaning of the wordreferencein Java.Usually in Javareferencemeans a areference to an object. But the technical termspass by reference/valuefrom programming language theory is talking about areference to the memory cell holding the variable, which is something completely different.ShareImprove this answerFolloweditedFeb 6, 2018 at 10:18community wiki4 revs, 2 users 89%JacquesB\n\nThere are already great answers that cover this. I wanted to make a small contribution by sharing avery simple example(which will compile) contrasting the behaviors between Pass-by-reference in c++ and Pass-by-value in Java.A few points:The term ""reference"" is a overloaded with two separate meanings. In Java it simply means a pointer, but in the context of ""Pass-by-reference"" it means a handle to the original variable which was passed in.Java is Pass-by-value. Java is a descendent of C (among other languages). Before C, several (but not all) earlier languages like FORTRAN and COBOL supported PBR, but C did not. PBR allowed these other languages to make changes to the passed variables inside sub-routines. In order to accomplish the same thing (i.e. change the values of variables inside functions), C programmers passed pointers to variables into functions. Languages inspired by C, such as Java, borrowed this idea and continue to pass pointer to methods as C did, except that Java calls its pointers References. Again, this is a different use of the word ""Reference"" than in ""Pass-By-Reference"".C++ allows Pass-by-referenceby declaring a reference parameter using the ""&"" character (which happens to be the same character used to indicate ""the address of a variable"" in both C and C++). For example, if we pass in a pointer by reference, the parameter and the argument are not just pointing to the same object. Rather, they are the same variable. If one gets set to a different address or to null, so does the other.In the C++ example below I\'m passing apointerto a null terminated stringby reference. And in the Java example below I\'m passing a Java reference to a String (again, the same as a pointer to a String) by value. Notice the output in the comments.C++ pass by reference example:using namespace std;\n#include <iostream>\n\nvoid change (char *&str){   // the \'&\' makes this a reference parameter\n    str = NULL;\n}\n\nint main()\n{\n    char *str = ""not Null"";\n    change(str);\n    cout<<""str is "" << str;      // ==>str is <null>\n}Java pass ""a Java reference"" by value examplepublic class ValueDemo{\n    \n    public void change (String str){\n        str = null;\n    }\n\n     public static void main(String []args){\n        ValueDemo vd = new ValueDemo();\n        String str = ""not null"";\n        vd.change(str);\n        System.out.println(""str is "" + str);    // ==> str is not null!!\n                                                // Note that if ""str"" was\n                                                // passed-by-reference, it\n                                                // WOULD BE NULL after the\n                                                // call to change().\n     }\n}EDITSeveral people have written comments which seem to indicate that either they are not looking at my examples or they don\'t get the c++ example. Not sure where the disconnect is, but guessing the c++ example is not clear. I\'m posting the same example in pascal because I think pass-by-reference looks cleaner in pascal, but I could be wrong. I might just be confusing people more; I hope not.In pascal, parameters passed-by-reference are called ""var parameters"". In the procedure setToNil below, please note the keyword \'var\' which precedes the parameter \'ptr\'. When a pointer is passed to this procedure, it will be passedby reference. Note the behavior: when this procedure sets ptr to nil (that\'s pascal speak for NULL), it will set the argument to nil--you can\'t do that in Java.program passByRefDemo;\ntype \n   iptr = ^integer;\nvar\n   ptr: iptr;\n   \n   procedure setToNil(var ptr : iptr);\n   begin\n       ptr := nil;\n   end;\n\nbegin\n   new(ptr);\n   ptr^ := 10;\n   setToNil(ptr);\n   if (ptr = nil) then\n       writeln(\'ptr seems to be nil\');     { ptr should be nil, so this line will run. }\nend.EDIT 2Some excerpts from""THE Java Programming Language""by Ken Arnold,James Gosling (the guy who invented Java), and David Holmes, chapter 2, section 2.6.5All parameters to methods are passed ""by value"". In other words,\nvalues of parameter variables in a method are copies of the invoker\nspecified as arguments.He goes on to make the same point regarding objects . . .You should note that when the parameter is an object reference, it is\nthe object reference-not the object itself-that ispassed ""by value"".And towards the end of the same section he makes a broader statement about java being only pass by value and never pass by reference.The Java programming languagedoes not pass objects by reference; itpasses object references by value. Because two copies of the same\nreference refer to the same actual object, changes made through one\nreference variable are visible through the other. There is exactly one\nparameter passing mode-pass by value-and that helps keep things\nsimple.This section of the book has a great explanation of parameter passing in Java and of the distinction between pass-by-reference and pass-by-value and it\'s by the creator of Java. I would encourage anyone to read it, especially if you\'re still not convinced.I think the difference between the two models is very subtle and unless you\'ve done programming where you actually used pass-by-reference, it\'s easy to miss where two models differ.I hope this settles the debate, but probably won\'t.EDIT 3I might be a little obsessed with this post. Probably because I feel that the makers of Java inadvertently spread misinformation. If instead of using the word ""reference"" for pointers they had used something else, say\ndingleberry, there would\'ve been no problem. You could say, ""Java passes dingleberries by value and not by reference"", and nobody would be confused.That\'s the reason only Java developers have issue with this. They look at the word ""reference"" and think they know exactly what that means, so they don\'t even bother to consider the opposing argument.Anyway, I noticed a comment in an older post, which made a balloon analogy which I really liked. So much so that I decided to glue together some clip-art to make a set of cartoons to illustrate the point.Passing a reference by value--Changes to the reference are not reflected in the caller\'s scope, but the changes to the object are. This is because the reference is copied, but the both the original and the copy refer to the same object.Pass by reference--There is no copy of the reference. Single reference is shared by both the caller and the function being called. Any changes to the reference or the Object\'s data are reflected in the caller\'s scope.EDIT 4I have seen posts on this topic which describe the low level implementation of parameter passing in Java, which I think is great and very helpful because it makes an abstract idea concrete. However, to me the question is more aboutthe behavior described in the language specificationthan about the technical implementation of the behavior. This is an exerpt from theJava Language Specification, section 8.4.1:When the method or constructor is invoked (§15.12),the values of the\nactual argument expressions initialize newly created parameter\nvariables, each of the declared type, before execution of the body of\nthe method or constructor.The Identifier that appears in the\nDeclaratorId may be used as a simple name in the body of the method or\nconstructor to refer to the formal parameter.Which means, java creates a copy of the passed parameters before executing a method. Like most people who studied compilers in college, I used""The Dragon Book""which isTHEcompilers book. It has a good description of ""Call-by-value"" and ""Call-by-Reference"" in Chapter 1. The Call-by-value description matches up with Java Specs exactly.Back when I studied compilers-in the 90\'s, I used the first edition of the book from 1986 which pre-dated Java by about 9 or 10 years. However, I just ran across a copy of the2nd Edditionfrom 2007which actually mentions Java!Section 1.6.6 labeled ""Parameter Passing Mechanisms"" describes parameter passing pretty nicely. Here is an excerpt under the heading ""Call-by-value"" which mentions Java:In call-by-value, the actual parameter is evaluated (if it is an\nexpression) or copied (if it is a variable). The value is placed in\nthe location belonging to the corresponding formal parameter of the\ncalled procedure.This method is used in C and Java, and is a common\noption in C++ , as well as in most other languages.ShareImprove this answerFolloweditedSep 20, 2022 at 20:42community wiki22 revsSanjeev\n\nJava is always pass by value, not pass by referenceFirst of all, we need to understand what pass by value and pass by reference are.Pass by value means that you are making a copy in memory of the actual parameter\'s value that is passed in. This is a copy of the contents of the actual parameter.Pass by reference (also called pass by address) means that a copy of the address of the actual parameter is stored.Sometimes Java can give the illusion of pass by reference. Let\'s see how it works by using the example below:public class PassByValue {\n    public static void main(String[] args) {\n        Test t = new Test();\n        t.name = ""initialvalue"";\n        new PassByValue().changeValue(t);\n        System.out.println(t.name);\n    }\n    \n    public void changeValue(Test f) {\n        f.name = ""changevalue"";\n    }\n}\n\nclass Test {\n    String name;\n}The output of this program is:changevalueLet\'s understand step by step:Test t = new Test();As we all know it will create an object in the heap and return the reference value back to t. For example, suppose the value of t is0x100234(we don\'t know the actual JVM internal value, this is just an example) .new PassByValue().changeValue(t);When passing reference t to the function it will not directly pass the actual reference value of object test,  but it will create a copy of t and then pass it to the function. Since it ispassing by value, it passes a copy of the variable rather than the actual reference of it. Since we said the value of t was0x100234, both t and f will have the same value and hence they will point to the same object.If you change anything in the function using reference f it will modify the existing contents of the object. That is why we got the outputchangevalue,   which is updated in the function.To understand this more clearly, consider the following example:public class PassByValue {\n    public static void main(String[] args) {\n        Test t = new Test();\n        t.name = ""initialvalue"";\n        new PassByValue().changeRefence(t);\n        System.out.println(t.name);\n    }\n    \n    public void changeRefence(Test f) {\n        f = null;\n    }\n}\n\nclass Test {\n    String name;\n}Will this throw aNullPointerException? No, because it only passes a copy of the reference.\nIn the case of passing by reference, it could have thrown aNullPointerException, as seen below:ShareImprove this answerFolloweditedJul 27, 2023 at 21:58community wiki6 revs, 4 users 53%Ganesh\n\nIn java everything is reference, so when you have something like:Point pnt1 = new Point(0,0);Java does following:Creates new Point objectCreates new Point reference and initialize that reference topoint (refer to)on previously created Point object.From here, through Point object life, you will access to that object through pnt1\n reference. So we can say that in Java you manipulate object through its reference.Java doesn\'t pass method arguments by reference; it passes them by value.I will use example fromthis site:public static void tricky(Point arg1, Point arg2) {\n  arg1.x = 100;\n  arg1.y = 100;\n  Point temp = arg1;\n  arg1 = arg2;\n  arg2 = temp;\n}\npublic static void main(String [] args) {\n  Point pnt1 = new Point(0,0);\n  Point pnt2 = new Point(0,0);\n  System.out.println(""X1: "" + pnt1.x + "" Y1: "" +pnt1.y); \n  System.out.println(""X2: "" + pnt2.x + "" Y2: "" +pnt2.y);\n  System.out.println("" "");\n  tricky(pnt1,pnt2);\n  System.out.println(""X1: "" + pnt1.x + "" Y1:"" + pnt1.y); \n  System.out.println(""X2: "" + pnt2.x + "" Y2: "" +pnt2.y);  \n}Flow of the program:Point pnt1 = new Point(0,0);\nPoint pnt2 = new Point(0,0);Creating two different Point object with two different reference associated.System.out.println(""X1: "" + pnt1.x + "" Y1: "" +pnt1.y); \nSystem.out.println(""X2: "" + pnt2.x + "" Y2: "" +pnt2.y);\nSystem.out.println("" "");As expected output will be:X1: 0     Y1: 0\nX2: 0     Y2: 0On this line \'pass-by-value\' goes into the play...tricky(pnt1,pnt2);           public void tricky(Point arg1, Point arg2);Referencespnt1andpnt2arepassed by valueto the tricky method, which means that now yours referencespnt1andpnt2have theircopiesnamedarg1andarg2.Sopnt1andarg1pointsto the same object. (Same for thepnt2andarg2)In thetrickymethod:arg1.x = 100;\n arg1.y = 100;Next in thetrickymethodPoint temp = arg1;\narg1 = arg2;\narg2 = temp;Here, you first create newtempPoint reference which willpointon same place likearg1reference. Then you move referencearg1topointto the same place likearg2reference.\nFinallyarg2willpointto the same place liketemp.From here scope oftrickymethod is gone and you don\'t have access any more to the references:arg1,arg2,temp.But important note is that everything you do with these references when they are \'in life\' will permanently affect object on which they arepointto.So after executing methodtricky, when you return tomain, you have this situation:So now, completely execution of program will be:X1: 0         Y1: 0\nX2: 0         Y2: 0\nX1: 100       Y1: 100\nX2: 0         Y2: 0ShareImprove this answerFolloweditedSep 16, 2015 at 15:18community wiki3 revs, 3 users 91%Srle\n\nJava is a pass by value(stack memory)How it worksLet\'s first understand that where java stores primitive data type and object data type.Primitive data types itself and object references are stored in the stack.\nObjects themselves are stored in the heap.It means, Stack memory stores primitive data types and also the\naddresses of objects.And you always pass a copy of the bits of the value of the reference.If it\'s a primitive data type then these copied bits contain the value of the primitive data type itself, That\'s why when we change the value of argument inside the method then it does not reflect the changes outside.If it\'s an object data type likeFoo foo=new Foo()then in this case copy of the address of the object passes like file shortcut  , suppose we have a text fileabc.txtatC:\\desktopand suppose we make shortcut of the same file and put this insideC:\\desktop\\abc-shortcutso when you access the file fromC:\\desktop\\abc.txtand write\'Stack Overflow\'and close the file and again you open the file from shortcut then you write\' is the largest online community for programmers to learn\'then total file change will be\'Stack Overflow is the largest online community for programmers to learn\'which means it doesn\'t matter from where you open the file , each time we were accessing the same file , here we can assumeFooas a file and suppose foo stored at123hd7h(original address likeC:\\desktop\\abc.txt) address and234jdid(copied address likeC:\\desktop\\abc-shortcutwhich actually contains the original address of the file inside) ..\nSo for better understanding make shortcut file and feel..ShareImprove this answerFolloweditedNov 24, 2023 at 9:45community wiki24 revsHimanshu arora\n\nA reference is always a value when represented, no matter what language you use.Getting an outside of the box view, let\'s look at Assembly or some low level memory management. At the CPU level areferenceto anything immediately becomes avalueif it gets written to memory or to one of the CPU registers. (That is whypointeris a good definition. It is a value, which has a purpose at the same time).Data in memory has aLocationand at that location there is a value (byte,word, whatever). In Assembly we have a convenient solution to give aNameto certainLocation(aka variable), but when compiling the code, the assembler simply replacesNamewith the designated location just like your browser replaces domain names with IP addresses.Down to the core it is technically impossible to pass a reference to anything in any language without representing it (when it immediately becomes a value).Lets say we have a variable Foo, itsLocationis at the 47th byte in memory and itsValueis 5. We have another variableRef2Foowhich is at 223rd byte in memory, and its value will be 47. This Ref2Foo might be a technical variable, not explicitly created by the program. If you just look at 5 and 47 without any other information, you will see just twoValues.\nIf you use them as references then to reach to5we have to travel:(Name)[Location] -> [Value at the Location]\n---------------------\n(Ref2Foo)[223]  -> 47\n(Foo)[47]       -> 5This is how jump-tables work.If we want to call a method/function/procedure with Foo\'s value, there are a few possible way to pass the variable to the method, depending on thelanguageand its several method invocation modes:5 gets copied to one of the CPU registers (ie. EAX).5 gets PUSHd to the stack.47 gets copied to one of the CPU registers47 PUSHd to the stack.223 gets copied to one of the CPU registers.223 gets PUSHd to the stack.In every cases above a value - acopyof an existing value - has been created, it is now upto the receiving method to handle it. When you write ""Foo"" inside the method, it is either read out from EAX, or automaticallydereferenced, or double dereferenced, the process depends on how the language works and/or what the type of Foo dictates. This is hidden from the developer until she circumvents the dereferencing process. So areferenceis avaluewhen represented, because a reference is a value that has to be processed (at language level).Now we have passed Foo to the method:in case 1. and 2. if you change Foo (Foo = 9) it only affects local scope as you have a copy of the Value. From inside the method we cannot even determine where in memory the original Foo was located.in case 3. and 4. if you use default language constructs and change Foo (Foo = 11), it could change Foo globally (depends on the language, ie. Java or like Pascal\'sprocedure findMin(x, y, z: integer;var m: integer);). However if the language allows you to circumvent the dereference process, you can change47, say to49. At that point Foo seems to have been changed if you read it, because you have changed thelocal pointerto it. And if you were to modify this Foo inside the method (Foo = 12) you will probably FUBAR the execution of the program (aka. segfault) because you will write to a different memory than expected, you can even modify an area that is destined to hold executable program and writing to it will modify running code (Foo is now not at47). BUT Foo\'s value of47did not change globally, only the one inside the method, because47was also a copy to the method.in case 5. and 6. if you modify223inside the method it creates the same mayhem as in 3. or 4. (a pointer, pointing to a now bad value, that is again used as a pointer) but this is still a local problem, as 223 wascopied. However if you are able to dereferenceRef2Foo(that is223), reach to and modify the pointed value47, say, to49, it will affect Fooglobally, because in this case the methods got a copy of223but the referenced47exists only once, and changing that to49will lead everyRef2Foodouble-dereferencing to a wrong value.Nitpicking on insignificant details, even languages that do pass-by-reference will pass values to functions, but those functions know that they have to use it for dereferencing purposes. This pass-the-reference-as-value is just hidden from the programmer because it is practically useless and the terminology is onlypass-by-reference.Strictpass-by-valueis also useless, it would mean that a 100 Mbyte array should have to be copied every time we call a method with the array as argument, therefore Java cannot be stricly pass-by-value. Every language would pass a reference to this huge array (as a value) and either employs copy-on-write mechanism if that array can be changed locally inside the method or allows the method (as Java does) to modify the array globally (from the caller\'s view) and a few languages allows to modify the Value of the reference itself.So in short and in Java\'s own terminology, Java ispass-by-valuewherevaluecan be: either areal valueor avaluethat is a representation of areference.ShareImprove this answerFolloweditedDec 28, 2015 at 7:36community wiki6 revskaratedog\n\nIn Java, method arguments are all passed by value :Java arguments areall passed by value(the value  or reference is copied when used by the method) :In the case of primitive types, Java behaviour is simple:\nThe value is copied in another instance of the primitive type.In case of Objects, this is the same:\nObject variables are references (mem buckets holding only Object’saddressinstead of a primitive value) that was created using the ""new"" keyword, and are copied like primitive types.The behaviour can appear different from primitive types: Because the copied object-variable contains the same address (to the same Object).\nObject\'scontent/membersmight still be modified within a method and later access outside, giving the illusion that the (containing) Object itself was passed by reference.""String"" Objects appear to be a goodcounter-exampleto the urban legend saying that ""Objects are passed by reference"":In effect, using a method, you will never be able, to update the value of a String passed as argument:A String Object, holds characters by an array declaredfinalthat can\'t be modified.\nOnly the address of the Object might be replaced by another using ""new"".\nUsing ""new"" to update the variable, will not let the Object be accessed from outside, since the variable was initially passed by value and copied.ShareImprove this answerFolloweditedOct 29, 2021 at 7:41community wiki8 revsuser1767316\n\nAs far as I know, Java only knows call by value. This means for primitive datatypes you will work with an copy and for objects you will work with an copy of the reference to the objects. However I think there are some pitfalls; for example, this will not work:public static void swap(StringBuffer s1, StringBuffer s2) {\n    StringBuffer temp = s1;\n    s1 = s2;\n    s2 = temp;\n}\n\n\npublic static void main(String[] args) {\n    StringBuffer s1 = new StringBuffer(""Hello"");\n    StringBuffer s2 = new StringBuffer(""World"");\n    swap(s1, s2);\n    System.out.println(s1);\n    System.out.println(s2);\n}This will populate Hello World and not World Hello because in the swap function you use copys which have no impact on the references in the main. But if your objects are not immutable you can change it for example:public static void appendWorld(StringBuffer s1) {\n    s1.append("" World"");\n}\n\npublic static void main(String[] args) {\n    StringBuffer s = new StringBuffer(""Hello"");\n    appendWorld(s);\n    System.out.println(s);\n}This will populate Hello World on the command line. If you change StringBuffer into String it will produce just Hello because String is immutable. For example:public static void appendWorld(String s){\n    s = s+"" World"";\n}\n\npublic static void main(String[] args) {\n    String s = new String(""Hello"");\n    appendWorld(s);\n    System.out.println(s);\n}However you could make a wrapper for String like this which would make it able to use it with Strings:class StringWrapper {\n    public String value;\n\n    public StringWrapper(String value) {\n        this.value = value;\n    }\n}\n\npublic static void appendWorld(StringWrapper s){\n    s.value = s.value +"" World"";\n}\n\npublic static void main(String[] args) {\n    StringWrapper s = new StringWrapper(""Hello"");\n    appendWorld(s);\n    System.out.println(s.value);\n}edit: i believe this is also the reason to use StringBuffer when it comes to ""adding"" two Strings because you can modifie the original object which u can\'t with immutable objects like String is.ShareImprove this answerFolloweditedApr 2, 2009 at 17:58community wiki4 revs, 2 users 76%kukudas\n\nNo, it\'s not pass by reference.Java is pass by value according to the Java Language Specification:When the method or constructor is invoked (§15.12),the values of the actual argument expressions initialize newly created parameter variables, each of the declared type, before execution of the body of the method or constructor. The Identifier that appears in the DeclaratorId may be used as a simple name in the body of the method or constructor to refer to theformal parameter.ShareImprove this answerFolloweditedAug 22, 2015 at 5:50community wiki3 revs, 3 users 82%rorrohprog\n\nLet me try to explain my understanding with the help of four examples. Java is pass-by-value, and not pass-by-reference/**Pass By ValueIn Java, all parameters are passed by value, i.e. assigning a method argument is not visible to the caller.*/Example 1:public class PassByValueString {\n    public static void main(String[] args) {\n        new PassByValueString().caller();\n    }\n\n    public void caller() {\n        String value = ""Nikhil"";\n        boolean valueflag = false;\n        String output = method(value, valueflag);\n        /*\n         * \'output\' is insignificant in this example. we are more interested in\n         * \'value\' and \'valueflag\'\n         */\n        System.out.println(""output : "" + output);\n        System.out.println(""value : "" + value);\n        System.out.println(""valueflag : "" + valueflag);\n\n    }\n\n    public String method(String value, boolean valueflag) {\n        value = ""Anand"";\n        valueflag = true;\n        return ""output"";\n    }\n}Resultoutput : output\nvalue : Nikhil\nvalueflag : falseExample 2:/**\n * \n * Pass By Value\n *\n */public class PassByValueNewString {\n    public static void main(String[] args) {\n        new PassByValueNewString().caller();\n    }\n\n    public void caller() {\n        String value = new String(""Nikhil"");\n        boolean valueflag = false;\n        String output = method(value, valueflag);\n        /*\n         * \'output\' is insignificant in this example. we are more interested in\n         * \'value\' and \'valueflag\'\n         */\n        System.out.println(""output : "" + output);\n        System.out.println(""value : "" + value);\n        System.out.println(""valueflag : "" + valueflag);\n\n    }\n\n    public String method(String value, boolean valueflag) {\n        value = ""Anand"";\n        valueflag = true;\n        return ""output"";\n    }\n}Resultoutput : output\nvalue : Nikhil\nvalueflag : falseExample 3:/**\n  This \'Pass By Value has a feeling of \'Pass By Reference\'Some people say primitive types and \'String\' are \'pass by value\'\n  and objects are \'pass by reference\'.But from this example, we can understand that it is infact pass by value only,\n  keeping in mind that here we are passing the reference as the value.\n  ie: reference is passed by value.\n  That\'s why are able to change and still it holds true after the local scope.\n  But we cannot change the actual reference outside the original scope.\n  what that means is demonstrated by next example of PassByValueObjectCase2.*/public class PassByValueObjectCase1 {\n\n    private class Student {\n        int id;\n        String name;\n        public Student() {\n        }\n        public Student(int id, String name) {\n            super();\n            this.id = id;\n            this.name = name;\n        }\n        public int getId() {\n            return id;\n        }\n        public void setId(int id) {\n            this.id = id;\n        }\n        public String getName() {\n            return name;\n        }\n        public void setName(String name) {\n            this.name = name;\n        }\n        @Override\n        public String toString() {\n            return ""Student [id="" + id + "", name="" + name + ""]"";\n        }\n    }\n\n    public static void main(String[] args) {\n        new PassByValueObjectCase1().caller();\n    }\n\n    public void caller() {\n        Student student = new Student(10, ""Nikhil"");\n        String output = method(student);\n        /*\n         * \'output\' is insignificant in this example. we are more interested in\n         * \'student\'\n         */\n        System.out.println(""output : "" + output);\n        System.out.println(""student : "" + student);\n    }\n\n    public String method(Student student) {\n        student.setName(""Anand"");\n        return ""output"";\n    }\n}Resultoutput : output\nstudent : Student [id=10, name=Anand]Example 4:/**In addition to what was mentioned in Example3 (PassByValueObjectCase1.java),  we cannot change the actual reference outside the original scope.""Note: I am not pasting the code forprivate class Student. The class definition forStudentis same as Example3.*/public class PassByValueObjectCase2 {\n\n    public static void main(String[] args) {\n        new PassByValueObjectCase2().caller();\n    }\n\n    public void caller() {\n        // student has the actual reference to a Student object created\n        // can we change this actual reference outside the local scope? Let\'s see\n        Student student = new Student(10, ""Nikhil"");\n        String output = method(student);\n        /*\n         * \'output\' is insignificant in this example. we are more interested in\n         * \'student\'\n         */\n        System.out.println(""output : "" + output);\n        System.out.println(""student : "" + student); // Will it print Nikhil or Anand?\n    }\n\n    public String method(Student student) {\n        student = new Student(20, ""Anand"");\n        return ""output"";\n    }\n\n}Resultoutput : output\nstudent : Student [id=10, name=Nikhil]ShareImprove this answerFolloweditedMay 12, 2015 at 21:30community wiki2 revsspiderman\n\nI thought I\'d contribute this answer to add more details from the Specifications.First,What\'s the difference between passing by reference vs. passing by value?Passing by reference means the called functions\' parameter will be the\nsame as the callers\' passed argument (not the value, but the identitythe variable itself).Pass by value means the called functions\' parameter will be a copy of\nthe callers\' passed argument.Or from wikipedia,on the subject of pass-by-referenceIn call-by-reference evaluation (also referred to as\npass-by-reference), a function receives an implicit reference to a\nvariable used as argument, rather than a copy of its value. This\ntypically means that the function can modify (i.e. assign to) the\nvariable used as argument—something that will be seen by its caller.Andon the subject of pass-by-valueIn call-by-value, the argument expression is evaluated, and the\nresulting value is bound to the corresponding variable in the function [...].\nIf the function or procedure is able to assign values to its\nparameters, only its local copy is assigned [...].Second, we need to know what Java uses in its method invocations. TheJava Language SpecificationstatesWhen the method or constructor is invoked (§15.12),the values of the\nactual argument expressions initialize newly created parameter\nvariables, each of the declared type, before execution of the body of\nthe method or constructor.So it assigns (or binds) the value of the argument to the corresponding parameter variable.What is the value of the argument?Let\'s consider reference types, theJava Virtual Machine SpecificationstatesThere are three kinds ofreference types: class types, array types,\nand interface types.Their values are references to dynamically\ncreated class instances, arrays, or class instances or arrays that\nimplement interfaces, respectively.TheJava Language Specificationalso statesThe reference values (often just references) are pointers to these objects, and a special null reference, which refers to no object.The value of an argument (of some reference type) is a pointer to an object. Note that a variable, an invocation of a method with a reference type return type, and an instance creation expression (new ...) all resolve to a reference type value.Sopublic void method (String param) {}\n...\nString variable = new String(""ref"");\nmethod(variable);\nmethod(variable.toString());\nmethod(new String(""ref""));all bind the value of a reference to aStringinstance to the method\'s newly created parameter,param. This is exactly what the definition of pass-by-value describes. As such,Java is pass-by-value.The fact that you can follow the reference to invoke a method or access a field of the referenced object is completely irrelevant to the conversation.The definition of pass-by-reference wasThis typically means that the function can modify (i.e. assign to) the\nvariable used as argument—something that will be seen by its caller.In Java, modifying the variable means reassigning it. In Java, if you reassigned the variable within the method, it would go unnoticed to the caller.Modifying the object referenced by the variable is a different concept entirely.Primitive values are also defined in the Java Virtual Machine Specification,here. The value of the type is the corresponding integral or floating point value, encoded appropriately (8, 16, 32, 64, etc. bits).ShareImprove this answerFolloweditedOct 9, 2021 at 15:54community wiki4 revs, 2 users 99%Sotirios Delimanolis\n\nYou can never pass by reference in Java, and one of the ways that is obvious is when you want to return more than one value from a method call. Consider the following bit of code in C++:void getValues(int& arg1, int& arg2) {\n    arg1 = 1;\n    arg2 = 2;\n}\nvoid caller() {\n    int x;\n    int y;\n    getValues(x, y);\n    cout << ""Result: "" << x << "" "" << y << endl;\n}Sometimes you want to use the same pattern in Java, but you can\'t; at least not directly. Instead you could do something like this:void getValues(int[] arg1, int[] arg2) {\n    arg1[0] = 1;\n    arg2[0] = 2;\n}\nvoid caller() {\n    int[] x = new int[1];\n    int[] y = new int[1];\n    getValues(x, y);\n    System.out.println(""Result: "" + x[0] + "" "" + y[0]);\n}As was explained in previous answers, in Java you\'re passing a pointer to the array as a value intogetValues. That is enough, because the method then modifies the array element, and by convention you\'re expecting element 0 to contain the return value. Obviously you can do this in other ways, such as structuring your code so this isn\'t necessary, or constructing a class that can contain the return value or allow it to be set. But the simple pattern available to you in C++ above is not available in Java.ShareImprove this answerFollowansweredMar 8, 2009 at 6:28community wikiJared Oberhaus\n\nThe distinction, or perhaps just the way I remember as I used to be under the same impression as the original poster is this: Java is always pass by value. All objects( in Java, anything except for primitives) in Java are references. These references are passed by value.ShareImprove this answerFolloweditedApr 30, 2014 at 4:50community wiki2 revs, 2 users 50%shsteimer\n\nAs many people mentioned it before,Java is always pass-by-valueHere is another example that will help you understand the difference (the classic swap example):public class Test {\n  public static void main(String[] args) {\n    Integer a = new Integer(2);\n    Integer b = new Integer(3);\n    System.out.println(""Before: a = "" + a + "", b = "" + b);\n    swap(a,b);\n    System.out.println(""After: a = "" + a + "", b = "" + b);\n  }\n\n  public static swap(Integer iA, Integer iB) {\n    Integer tmp = iA;\n    iA = iB;\n    iB = tmp;\n  }\n}Prints:Before: a = 2, b = 3After: a = 2, b = 3This happens because iA and iB are new local reference variables that have the same value of the passed references (they point to a and b respectively). So, trying to change the references of iA or iB will only change in the local scope and not outside of this method.ShareImprove this answerFollowansweredSep 3, 2008 at 20:01community wikipek\n\nI always think of it as ""pass by copy"". It is a copy of the value be it primitive or reference. If it is a primitive it is a copy of the bits that are the value and if it is an Object it is a copy of the reference.public class PassByCopy{\n    public static void changeName(Dog d){\n        d.name = ""Fido"";\n    }\n    public static void main(String[] args){\n        Dog d = new Dog(""Maxx"");\n        System.out.println(""name= ""+ d.name);\n        changeName(d);\n        System.out.println(""name= ""+ d.name);\n    }\n}\nclass Dog{\n    public String name;\n    public Dog(String s){\n        this.name = s;\n    }\n}output of java PassByCopy:name= Maxxname= FidoPrimitive wrapper classes and Strings are immutable so any example using those types will not work the same as other types/objects.ShareImprove this answerFolloweditedJan 12, 2009 at 20:47community wiki3 revs, 2 users 71%SWD\n\nJava has only pass by value. A very simple example to validate this.public void test() {\n    MyClass obj = null;\n    init(obj);\n    //After calling init method, obj still points to null\n    //this is because obj is passed as value and not as reference.\n}\nprivate void init(MyClass objVar) {\n    objVar = new MyClass();\n}ShareImprove this answerFolloweditedApr 29, 2017 at 4:31community wiki2 revs, 2 users 86%Gaurav\n\nUnlike some other languages, Java does not allow you to choose between pass-by-value and pass-by-reference—all arguments are passed by value. A method call can pass two types of values to a method—copies of primitive values (e.g., values of int and double) and copies of references to objects.When a method modifies a primitive-type parameter, changes to the parameter have no effect on the original argument value in the calling method.When it comes to objects, objects themselves cannot be passed to methods. So we pass the reference(address) of the object. We can manipulate the original object using this reference.How Java creates and stores objects:When we create an object we store the object’s address in a reference variable. Let\'s analyze the following statement.Account account1 = new Account();“Account account1” is the type and name of the reference variable, “=” is the assignment operator, “new” asks for the required amount of space from the system. The constructor to the right of keyword new which creates the object is called implicitly by the keyword new. Address of the created object(result of right value, which is an expression called ""class instance creation expression"") is assigned to the left value (which is a reference variable with a name and a type specified) using the assign operator.Although an object’s reference is passed by value, a method can still interact with the referenced object by calling its public methods using the copy of the object’s reference. Since the reference stored in the parameter is a copy of the reference that was passed as an argument, the parameter in the called method and the argument in the calling method refer to the same object in memory.Passing references to arrays, instead of the array objects themselves, makes sense for performance reasons. Because everything in Java is passed by value, if array objects were passed,\na copy of each element would be passed. For large arrays, this would waste time and consume\nconsiderable storage for the copies of the elements.In the image below you can see we have two reference variables(These are called pointers in C/C++, and I think that term makes it easier to understand this feature.) in the main method. Primitive and reference variables are kept in stack memory(left side in images below). array1 and array2 reference variables ""point"" (as C/C++ programmers call it) or reference to a and b arrays respectively, which are objects (values these reference variables hold are addresses of objects) in heap memory (right side in images below).If we pass the value of array1 reference variable as an argument to the reverseArray method, a reference variable is created in the method and that reference variable starts pointing to the same array (a).public class Test\n{\n    public static void reverseArray(int[] array1)\n    {\n        // ...\n    }\n\n    public static void main(String[] args)\n    {\n        int[] array1 = { 1, 10, -7 };\n        int[] array2 = { 5, -190, 0 };\n\n        reverseArray(array1);\n    }\n}So, if we sayarray1[0] = 5;in reverseArray method, it will make a change in array a.We have another reference variable in reverseArray method (array2) that points to an array c. If we were to sayarray1 = array2;in reverseArray method, then the reference variable array1 in method reverseArray would stop pointing to array a and start pointing to array c (Dotted line in second image).If we return value of reference variable array2 as the return value of method reverseArray and assign this value to reference variable array1 in main method, array1 in main will start pointing to array c.So let\'s write all the things we have done at once now.public class Test\n{\n    public static int[] reverseArray(int[] array1)\n    {\n        int[] array2 = { -7, 0, -1 };\n\n        array1[0] = 5; // array a becomes 5, 10, -7\n\n        array1 = array2; /* array1 of reverseArray starts\n          pointing to c instead of a (not shown in image below) */\n        return array2;\n    }\n\n    public static void main(String[] args)\n    {\n        int[] array1 = { 1, 10, -7 };\n        int[] array2 = { 5, -190, 0 };\n\n        array1 = reverseArray(array1); /* array1 of \n         main starts pointing to c instead of a */\n    }\n}And now that reverseArray method is over, its reference variables(array1 and array2) are gone. Which means we now only have the two reference variables in main method array1 and array2 which point to c and b arrays respectively. No reference variable is pointing to object (array) a. So it is eligible for garbage collection.You could also assign value of array2 in main to array1. array1 would start pointing to b.ShareImprove this answerFolloweditedMay 2, 2020 at 20:18community wiki15 revs, 3 users 76%Michael\n\nTo make a long story short,Javaobjects have some very peculiar properties.In general, Java has primitive types (int,bool,char,double, etc) that are passed directly by value. Then Java has objects (everything that derives fromjava.lang.Object). Objects are actually always handled through a reference (a reference being a pointer that you can\'t touch). That means that in effect, objects are passed by reference, as the references are normally not interesting. It does however mean that you cannot change which object is pointed to as the reference itself is passed by value.Does this sound strange and confusing? Let\'s consider how C implements pass by reference and pass by value. In C, the default convention is pass by value.void foo(int x)passes an int by value.void foo(int *x)is a function that does not want anint a, but a pointer to an int:foo(&a). One would use this with the&operator to pass a variable address.Take this to C++, and we have references. References are basically (in this context) syntactic sugar that hide the pointer part of the equation:void foo(int &x)is called byfoo(a), where the compiler itself knows that it is a reference and the address of the non-referenceashould be passed. In Java, all variables referring to objects are actually of reference type, in effect forcing call by reference for most intends and purposes without the fine grained control (and complexity) afforded by, for example, C++.ShareImprove this answerFolloweditedMay 4, 2014 at 9:33community wiki3 revs, 2 users 65%Paul de Vrieze\n\nI have created a thread devoted to these kind of questions foranyprogramming languageshere.Java is also mentioned. Here is the short summary:Java passes it parameters by value""by value"" is the only way in java to pass a parameter to a methodusing methods from the object given as parameter will alter the\nobject as the references point to\nthe original objects. (if that\nmethod itself alters some values)ShareImprove this answerFolloweditedMay 23, 2017 at 12:02community wiki2 revssven'}","{'title': 'How do I cast int to enum in C#?', 'question': 'How do I cast anintto anenumin C#?c#enumscastingintegerShareImprove this questionFolloweditedJul 10, 2022 at 23:22Mateen Ulhaq26.6k2020 gold badges115115 silver badges147147 bronze badgesaskedAug 27, 2008 at 3:58lomaxxlomaxx115k5858 gold badges146146 silver badges180180 bronze badges', 'answers': 'From an int:YourEnum foo = (YourEnum)yourInt;From a string:YourEnum foo = (YourEnum) Enum.Parse(typeof(YourEnum), yourString);\n\n// The foo.ToString().Contains("","") check is necessary for \n// enumerations marked with a [Flags] attribute.\nif (!Enum.IsDefined(typeof(YourEnum), foo) && !foo.ToString().Contains("",""))\n{\n    throw new InvalidOperationException(\n        $""{yourString} is not an underlying value of the YourEnum enumeration.""\n    );\n}Dynamically (type not known at compile-time):Type enumType = ...;\n\n// NB: Enums can specify a base type other than \'int\'\nint numericValue = ...;\n\nobject boxedEnumValue = Enum.ToObject(enumType, numericValue);ShareImprove this answerFolloweditedJun 2 at 11:11Jonathan Gilbert3,7222121 silver badges2929 bronze badgesansweredAug 27, 2008 at 3:59FlySwatFlySwat175k7575 gold badges247247 silver badges313313 bronze badges\n\nJust cast it:MyEnum e = (MyEnum)3;Check if it\'s in range usingEnum.IsDefined:if (Enum.IsDefined(typeof(MyEnum), 3)) { ... }ShareImprove this answerFolloweditedJul 10, 2022 at 23:29Mateen Ulhaq26.6k2020 gold badges115115 silver badges147147 bronze badgesansweredAug 27, 2008 at 4:01Matt HamiltonMatt Hamilton203k6161 gold badges391391 silver badges321321 bronze badges\n\nAlternatively, use an extension method instead of a one-liner:public static T ToEnum<T>(this string enumString)\n{\n    return (T) Enum.Parse(typeof (T), enumString);\n}Usage:Color colorEnum = ""Red"".ToEnum<Color>();ORstring color = ""Red"";\nvar colorEnum = color.ToEnum<Color>();ShareImprove this answerFolloweditedJan 7, 2016 at 20:07Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredNov 11, 2011 at 13:27Abdul MunimAbdul Munim19.1k88 gold badges5353 silver badges6161 bronze badges\n\nI think to get a complete answer, people have to know how enums work internally in .NET.How stuff worksAn enum in .NET is a structure that maps a set of values (fields) to a basic type (the default isint). However, you can actually choose the integral type that your enum maps to:public enum Foo : shortIn this case the enum is mapped to theshortdata type, which means it will be stored in memory as a short and will behave as a short when you cast and use it.If you look at it from a IL point of view, a (normal, int) enum looks like this:.class public auto ansi serializable sealed BarFlag extends System.Enum\n{\n    .custom instance void System.FlagsAttribute::.ctor()\n    .custom instance void ComVisibleAttribute::.ctor(bool) = { bool(true) }\n\n    .field public static literal valuetype BarFlag AllFlags = int32(0x3fff)\n    .field public static literal valuetype BarFlag Foo1 = int32(1)\n    .field public static literal valuetype BarFlag Foo2 = int32(0x2000)\n\n    // and so on for all flags or enum values\n\n    .field public specialname rtspecialname int32 value__\n}What should get your attention here is that thevalue__is stored separately from the enum values. In the case of the enumFooabove, the type ofvalue__is int16. This basically means that you can store whatever you want in an enum,as long as the types match.At this point I\'d like to point out thatSystem.Enumis a value type, which basically means thatBarFlagwill take up 4 bytes in memory andFoowill take up 2 -- e.g. the size of the underlying type (it\'s actually more complicated than that, but hey...).The answerSo, if you have an integer that you want to map to an enum, the runtime only has to do 2 things: copy the 4 bytes and name it something else (the name of the enum). Copying is implicit because the data is stored as value type - this basically means that if you use unmanaged code, you can simply interchange enums and integers without copying data.To make it safe, I think it\'s a best practice toknow that the underlying types are the same or implicitly convertibleand to ensure the enum values exist (they aren\'t checked by default!).To see how this works, try the following code:public enum MyEnum : int\n{\n    Foo = 1,\n    Bar = 2,\n    Mek = 5\n}\n\nstatic void Main(string[] args)\n{\n    var e1 = (MyEnum)5;\n    var e2 = (MyEnum)6;\n\n    Console.WriteLine(""{0} {1}"", e1, e2);\n    Console.ReadLine();\n}Note that casting toe2also works! From the compiler perspective above this makes sense: thevalue__field is simply filled with either 5 or 6 and whenConsole.WriteLinecallsToString(), the name ofe1is resolved while the name ofe2is not.If that\'s not what you intended, useEnum.IsDefined(typeof(MyEnum), 6)to check if the value you are casting maps to a defined enum.Also note that I\'m explicit about the underlying type of the enum, even though the compiler actually checks this. I\'m doing this to ensure I don\'t run into any surprises down the road. To see these surprises in action, you can use the following code (actually I\'ve seen this happen a lot in database code):public enum MyEnum : short\n{\n    Mek = 5\n}\n\nstatic void Main(string[] args)\n{\n    var e1 = (MyEnum)32769; // will not compile, out of bounds for a short\n\n    object o = 5;\n    var e2 = (MyEnum)o;     // will throw at runtime, because o is of type int\n\n    Console.WriteLine(""{0} {1}"", e1, e2);\n    Console.ReadLine();\n}ShareImprove this answerFollowansweredApr 3, 2014 at 7:39atlasteatlaste30.9k33 gold badges5959 silver badges9090 bronze badges\n\nTake the following example:int one = 1;\nMyEnum e = (MyEnum)one;ShareImprove this answerFolloweditedDec 25, 2016 at 9:39Green Falcon83833 gold badges1717 silver badges4949 bronze badgesansweredAug 27, 2008 at 4:00abigblackmanabigblackman1,48111 gold badge99 silver badges44 bronze badges\n\nI am using this piece of code to castintto myenum:if (typeof(YourEnum).IsEnumDefined(valueToCast))\n    return (YourEnum)valueToCast;\nelse \n{\n    // handle it here, if it is not defined\n}I find it the best solution.ShareImprove this answerFolloweditedJan 21 at 19:38Mustafa Özçetin2,71844 gold badges1717 silver badges1919 bronze badgesansweredOct 21, 2011 at 10:05MSkutaMSkuta1,7451313 silver badges1919 bronze badges\n\nBelow is a nice utility class for Enumspublic static class EnumHelper\n{\n    public static int[] ToIntArray<T>(T[] value)\n    {\n        int[] result = new int[value.Length];\n        for (int i = 0; i < value.Length; i++)\n            result[i] = Convert.ToInt32(value[i]);\n        return result;\n    }\n\n    public static T[] FromIntArray<T>(int[] value) \n    {\n        T[] result = new T[value.Length];\n        for (int i = 0; i < value.Length; i++)\n            result[i] = (T)Enum.ToObject(typeof(T),value[i]);\n        return result;\n    }\n\n\n    internal static T Parse<T>(string value, T defaultValue)\n    {\n        if (Enum.IsDefined(typeof(T), value))\n            return (T) Enum.Parse(typeof (T), value);\n\n        int num;\n        if(int.TryParse(value,out num))\n        {\n            if (Enum.IsDefined(typeof(T), num))\n                return (T)Enum.ToObject(typeof(T), num);\n        }\n\n        return defaultValue;\n    }\n}ShareImprove this answerFollowansweredSep 7, 2010 at 4:42TawaniTawani11.2k2121 gold badges8383 silver badges107107 bronze badges\n\nFor numeric values, this is safer as it will return an object no matter what:public static class EnumEx\n{\n    static public bool TryConvert<T>(int value, out T result)\n    {\n        result = default(T);\n        bool success = Enum.IsDefined(typeof(T), value);\n        if (success)\n        {\n            result = (T)Enum.ToObject(typeof(T), value);\n        }\n        return success;\n    }\n}ShareImprove this answerFolloweditedJan 7, 2016 at 20:09Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredFeb 21, 2013 at 15:22Sébastien DuvalSébastien Duval67177 silver badges66 bronze badges\n\nIf you\'re ready for the 4.0.NETFramework, there\'s a newEnum.TryParse()function that\'s very useful and plays well with the [Flags] attribute. SeeEnum.TryParse Method (String, TEnum%)ShareImprove this answerFolloweditedAug 31, 2012 at 20:33Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredNov 1, 2011 at 14:58Ryan RussonRyan Russon1,07199 silver badges1717 bronze badges\n\nSometimes you have an object to theMyEnumtype. Likevar MyEnumType = typeof(MyEnum);Then:Enum.ToObject(typeof(MyEnum), 3)ShareImprove this answerFolloweditedOct 20, 2020 at 5:02Hinek9,6491212 gold badges5353 silver badges7474 bronze badgesansweredJul 2, 2010 at 14:41L. D.L. D.55944 silver badges33 bronze badges\n\nIf you have an integer that acts as a bitmask and could represent one or more values in a [Flags] enumeration, you can use this code to parse the individual flag values into a list:for (var flagIterator = 0; flagIterator < 32; flagIterator++)\n{\n    // Determine the bit value (1,2,4,...,Int32.MinValue)\n    int bitValue = 1 << flagIterator;\n\n    // Check to see if the current flag exists in the bit mask\n    if ((intValue & bitValue) != 0)\n    {\n        // If the current flag exists in the enumeration, then we can add that value to the list\n        // if the enumeration has that flag defined\n        if (Enum.IsDefined(typeof(MyEnum), bitValue))\n            Console.WriteLine((MyEnum)bitValue);\n    }\n}Note that this assumes that the underlying type of theenumis a signed 32-bit integer. If it were a different numerical type, you\'d have to change the hardcoded 32 to reflect the bits in that type (or programatically derive it usingEnum.GetUnderlyingType())ShareImprove this answerFolloweditedJan 2, 2019 at 15:50answeredApr 13, 2011 at 20:13Evan MEvan M2,59111 gold badge3131 silver badges3636 bronze badges\n\nThis is an flags enumeration aware safe convert method:public static bool TryConvertToEnum<T>(this int instance, out T result)\n  where T: Enum\n{\n  var enumType = typeof (T);\n  var success = Enum.IsDefined(enumType, instance);\n  if (success)\n  {\n    result = (T)Enum.ToObject(enumType, instance);\n  }\n  else\n  {\n    result = default(T);\n  }\n  return success;\n}ShareImprove this answerFolloweditedNov 12, 2018 at 18:40answeredMar 30, 2015 at 10:08Daniel Fisher  lennybaconDaniel Fisher  lennybacon4,09511 gold badge3333 silver badges4141 bronze badges\n\nTo convert a string to ENUM or int to ENUM constant we need to use Enum.Parse function. Here is a youtube videohttps://www.youtube.com/watch?v=4nhx4VwdRDkwhich actually demonstrate\'s with string and the same applies for int.The code goes as shown below where ""red"" is the string and ""MyColors"" is the color ENUM which has the color constants.MyColors EnumColors = (MyColors)Enum.Parse(typeof(MyColors), ""Red"");ShareImprove this answerFollowansweredFeb 5, 2014 at 12:15Shivprasad KoiralaShivprasad Koirala28.3k77 gold badges8686 silver badges7575 bronze badges\n\nSlightly getting away from the original question, but I foundan answer to Stack\xa0Overflow questionGet int value from enumuseful. Create a static class withpublic const intproperties, allowing you to easily collect together a bunch of relatedintconstants, and then not have to cast them tointwhen using them.public static class Question\n{\n    public static readonly int Role = 2;\n    public static readonly int ProjectFunding = 3;\n    public static readonly int TotalEmployee = 4;\n    public static readonly int NumberOfServers = 5;\n    public static readonly int TopBusinessConcern = 6;\n}Obviously, some of the enum type functionality will be lost, but for storing a bunch of database id constants, it seems like a pretty tidy solution.ShareImprove this answerFolloweditedMay 23, 2017 at 10:31CommunityBot111 silver badgeansweredJul 17, 2014 at 14:39TedTed2,57722 gold badges3939 silver badges5555 bronze badges\n\nThe following is a slightly better extension method:public static string ToEnumString<TEnum>(this int enumValue)\n{\n    var enumString = enumValue.ToString();\n    if (Enum.IsDefined(typeof(TEnum), enumValue))\n    {\n        enumString = ((TEnum) Enum.ToObject(typeof (TEnum), enumValue)).ToString();\n    }\n    return enumString;\n}ShareImprove this answerFolloweditedJul 13, 2020 at 0:34Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredDec 16, 2016 at 6:59Kamran ShahidKamran Shahid4,10455 gold badges5353 silver badges104104 bronze badges\n\nThis parses integers or strings to a target enum with partial matching in .NET 4.0 using generics like inTawani\'s utility class. I am using it to convert command-line switch variables which may be incomplete.  Since an enum cannot be null, you should logically provide a default value.  It can be called like this:var result = EnumParser<MyEnum>.Parse(valueToParse, MyEnum.FirstValue);Here\'s the code:using System;\n\npublic class EnumParser<T> where T : struct\n{\n    public static T Parse(int toParse, T defaultVal)\n    {\n        return Parse(toParse + """", defaultVal);\n    }\n    public static T Parse(string toParse, T defaultVal)\n    {\n        T enumVal = defaultVal;\n        if (defaultVal is Enum && !String.IsNullOrEmpty(toParse))\n        {\n            int index;\n            if (int.TryParse(toParse, out index))\n            {\n                Enum.TryParse(index + """", out enumVal);\n            }\n            else\n            {\n                if (!Enum.TryParse<T>(toParse + """", true, out enumVal))\n                {\n                    MatchPartialName(toParse, ref enumVal);\n                }\n            }\n        }\n        return enumVal;\n    }\n\n    public static void MatchPartialName(string toParse, ref T enumVal)\n    {\n        foreach (string member in enumVal.GetType().GetEnumNames())\n        {\n            if (member.ToLower().Contains(toParse.ToLower()))\n            {\n                if (Enum.TryParse<T>(member + """", out enumVal))\n                {\n                    break;\n                }\n            }\n        }\n    }\n}FYI:The question was about integers, which nobody mentioned will also explicitly convert in Enum.TryParse()ShareImprove this answerFolloweditedJul 13, 2020 at 0:38Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJul 30, 2014 at 20:02CZahrobskyCZahrobsky81099 silver badges77 bronze badges\n\nFrom a string: (Enum.Parseis out of Date, useEnum.TryParse)enum Importance\n{}\n\nImportance importance;\n\nif (Enum.TryParse(value, out importance))\n{\n}ShareImprove this answerFolloweditedApr 14, 2023 at 8:51Tamir Abutbul7,59588 gold badges2626 silver badges5555 bronze badgesansweredNov 21, 2014 at 0:32Will YuWill Yu55255 silver badges1212 bronze badges\n\nYou should build in some type matching relaxation to be more robust.public static T ToEnum<T>(dynamic value)\n{\n    if (value == null)\n    {\n        // default value of an enum is the object that corresponds to\n        // the default value of its underlying type\n        // https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/default-values-table\n        value = Activator.CreateInstance(Enum.GetUnderlyingType(typeof(T)));\n    }\n    else if (value is string name)\n    {\n        return (T)Enum.Parse(typeof(T), name);\n    }\n\n    return (T)Enum.ToObject(typeof(T),\n             Convert.ChangeType(value, Enum.GetUnderlyingType(typeof(T))));\n}Test Case[Flags]\npublic enum A : uint\n{\n    None  = 0, \n    X     = 1 < 0,\n    Y     = 1 < 1\n}\n\nstatic void Main(string[] args)\n{\n    var value = EnumHelper.ToEnum<A>(7m);\n    var x = value.HasFlag(A.X); // true\n    var y = value.HasFlag(A.Y); // true\n\n    var value2 = EnumHelper.ToEnum<A>(""X"");\n\n    var value3 = EnumHelper.ToEnum<A>(null);\n\n    Console.ReadKey();\n}ShareImprove this answerFolloweditedSep 7, 2019 at 18:45answeredJul 2, 2019 at 19:58user11523568user11523568\n\nFor string, you can do the following:var result = Enum.TryParse(typeof(MyEnum), yourString, out yourEnum)And make sure to check the result to determine if the conversion failed.For int, you can do the following:MyEnum someValue = (MyEnum)myIntValue;ShareImprove this answerFolloweditedMar 31, 2022 at 19:26David Clarke13.1k99 gold badges9090 silver badges117117 bronze badgesansweredSep 23, 2020 at 4:17Shah ZainShah Zain39644 silver badges1010 bronze badges\n\nHere\'s an extension method that castsInt32toEnum.It honors bitwise flags even when the value is higher than the maximum possible. For example if you have an enum with possibilities1,2, and4, but the int is9, it understands that as1in absence of an8. This lets you make data updates ahead of code updates.public static TEnum ToEnum<TEnum>(this int val) where TEnum : struct, IComparable, IFormattable, IConvertible\n    {\n        if (!typeof(TEnum).IsEnum)\n        {\n            return default(TEnum);\n        }\n\n        if (Enum.IsDefined(typeof(TEnum), val))\n        {//if a straightforward single value, return that\n            return (TEnum)Enum.ToObject(typeof(TEnum), val);\n        }\n\n        var candidates = Enum\n            .GetValues(typeof(TEnum))\n            .Cast<int>()\n            .ToList();\n\n        var isBitwise = candidates\n            .Select((n, i) => {\n                if (i < 2) return n == 0 || n == 1;\n                return n / 2 == candidates[i - 1];\n            })\n            .All(y => y);\n\n        var maxPossible = candidates.Sum();\n\n        if (\n            Enum.TryParse(val.ToString(), out TEnum asEnum)\n            && (val <= maxPossible || !isBitwise)\n        ){//if it can be parsed as a bitwise enum with multiple flags,\n          //or is not bitwise, return the result of TryParse\n            return asEnum;\n        }\n\n        //If the value is higher than all possible combinations,\n        //remove the high imaginary values not accounted for in the enum\n        var excess = Enumerable\n            .Range(0, 32)\n            .Select(n => (int)Math.Pow(2, n))\n            .Where(n => n <= val && n > 0 && !candidates.Contains(n))\n            .Sum();\n\n        return Enum.TryParse((val - excess).ToString(), out asEnum) ? asEnum : default(TEnum);\n    }ShareImprove this answerFollowansweredFeb 22, 2019 at 1:31Chad HedgcockChad Hedgcock11.5k33 gold badges3838 silver badges4545 bronze badges\n\nThe easy and clear way for casting an int to enum in C#:public class Program\n{\n    public enum Color : int\n    {\n        Blue   = 0,\n        Black  = 1,\n        Green  = 2,\n        Gray   = 3,\n        Yellow = 4\n    }\n\n    public static void Main(string[] args)\n    {\n        // From string\n        Console.WriteLine((Color) Enum.Parse(typeof(Color), ""Green""));\n\n        // From int\n        Console.WriteLine((Color)2);\n\n        // From number you can also\n        Console.WriteLine((Color)Enum.ToObject(typeof(Color), 2));\n    }\n}ShareImprove this answerFolloweditedJul 13, 2020 at 0:33Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredDec 8, 2018 at 5:06Mohammad Aziz NabizadaMohammad Aziz Nabizada45044 silver badges1313 bronze badges\n\nIn my case, I needed to return the enum from a WCF service.  I also needed a friendly name, not just the enum.ToString().Here\'s my WCF Class.[DataContract]\npublic class EnumMember\n{\n    [DataMember]\n    public string Description { get; set; }\n\n    [DataMember]\n    public int Value { get; set; }\n\n    public static List<EnumMember> ConvertToList<T>()\n    {\n        Type type = typeof(T);\n\n        if (!type.IsEnum)\n        {\n            throw new ArgumentException(""T must be of type enumeration."");\n        }\n\n        var members = new List<EnumMember>();\n\n        foreach (string item in System.Enum.GetNames(type))\n        {\n            var enumType = System.Enum.Parse(type, item);\n\n            members.Add(\n                new EnumMember() { Description = enumType.GetDescriptionValue(), Value = ((IConvertible)enumType).ToInt32(null) });\n        }\n\n        return members;\n    }\n}Here\'s the Extension method that gets the Description from the Enum.public static string GetDescriptionValue<T>(this T source)\n    {\n        FieldInfo fileInfo = source.GetType().GetField(source.ToString());\n        DescriptionAttribute[] attributes = (DescriptionAttribute[])fileInfo.GetCustomAttributes(typeof(DescriptionAttribute), false);            \n\n        if (attributes != null && attributes.Length > 0)\n        {\n            return attributes[0].Description;\n        }\n        else\n        {\n            return source.ToString();\n        }\n    }Implementation:return EnumMember.ConvertToList<YourType>();ShareImprove this answerFollowansweredJul 2, 2014 at 14:58LawManLawMan3,57911 gold badge3030 silver badges3434 bronze badges\n\nIt can help you to convert any input data to user desiredenum. Suppose you have an enum like below which by defaultint. Please add aDefaultvalue at first of your enum. Which is used at helpers medthod when there is no match found with input value.public enum FriendType  \n{\n    Default,\n    Audio,\n    Video,\n    Image\n}\n\npublic static class EnumHelper<T>\n{\n    public static T ConvertToEnum(dynamic value)\n    {\n        var result = default(T);\n        var tempType = 0;\n\n        //see Note below\n        if (value != null &&\n            int.TryParse(value.ToString(), out  tempType) && \n            Enum.IsDefined(typeof(T), tempType))\n        {\n            result = (T)Enum.ToObject(typeof(T), tempType); \n        }\n        return result;\n    }\n}N.B:Here I try to parse value into int, because enum is by defaultintIf you define enum like this which isbytetype.public enum MediaType : byte\n{\n    Default,\n    Audio,\n    Video,\n    Image\n}You need to change parsing at helper method fromint.TryParse(value.ToString(), out  tempType)tobyte.TryParse(value.ToString(), out  tempType)I check my method for following inputsEnumHelper<FriendType>.ConvertToEnum(null);\nEnumHelper<FriendType>.ConvertToEnum("""");\nEnumHelper<FriendType>.ConvertToEnum(""-1"");\nEnumHelper<FriendType>.ConvertToEnum(""6"");\nEnumHelper<FriendType>.ConvertToEnum("""");\nEnumHelper<FriendType>.ConvertToEnum(""2"");\nEnumHelper<FriendType>.ConvertToEnum(-1);\nEnumHelper<FriendType>.ConvertToEnum(0);\nEnumHelper<FriendType>.ConvertToEnum(1);\nEnumHelper<FriendType>.ConvertToEnum(9);sorry for my englishShareImprove this answerFollowansweredNov 17, 2016 at 12:49reza.cse08reza.cse086,0984949 silver badges4040 bronze badges\n\nI prefer a short way using a nullable enum type variable.var enumValue = (MyEnum?)enumInt;\n\nif (!enumValue.HasValue)\n{\n    throw new ArgumentException(nameof(enumValue));\n}ShareImprove this answerFollowansweredFeb 4, 2021 at 16:56AlexanderAlexander1,22211 gold badge1717 silver badges2222 bronze badges\n\nDifferent ways to castto and fromEnumenum orientation : byte\n{\n north = 1,\n south = 2,\n east = 3,\n west = 4\n}\n\nclass Program\n{\n  static void Main(string[] args)\n  {\n    orientation myDirection = orientation.north;\n    Console.WriteLine(“myDirection = {0}”, myDirection); //output myDirection =north\n    Console.WriteLine((byte)myDirection); //output 1\n\n    string strDir = Convert.ToString(myDirection);\n        Console.WriteLine(strDir); //output north\n\n    string myString = “north”; //to convert string to Enum\n    myDirection = (orientation)Enum.Parse(typeof(orientation),myString);\n\n\n }\n}ShareImprove this answerFollowansweredJan 8, 2014 at 15:18gmail usergmail user2,76344 gold badges3333 silver badges4343 bronze badges\n\nI don\'t know anymore where I get the part of this enum extension, but it is from stackoverflow. I am sorry for this! But I took this one and modified it for enums with Flags. \nFor enums with Flags I did this:public static class Enum<T> where T : struct\n  {\n     private static readonly IEnumerable<T> All = Enum.GetValues(typeof (T)).Cast<T>();\n     private static readonly Dictionary<int, T> Values = All.ToDictionary(k => Convert.ToInt32(k));\n\n     public static T? CastOrNull(int value)\n     {\n        T foundValue;\n        if (Values.TryGetValue(value, out foundValue))\n        {\n           return foundValue;\n        }\n\n        // For enums with Flags-Attribut.\n        try\n        {\n           bool isFlag = typeof(T).GetCustomAttributes(typeof(FlagsAttribute), false).Length > 0;\n           if (isFlag)\n           {\n              int existingIntValue = 0;\n\n              foreach (T t in Enum.GetValues(typeof(T)))\n              {\n                 if ((value & Convert.ToInt32(t)) > 0)\n                 {\n                    existingIntValue |= Convert.ToInt32(t);\n                 }\n              }\n              if (existingIntValue == 0)\n              {\n                 return null;\n              }\n\n              return (T)(Enum.Parse(typeof(T), existingIntValue.ToString(), true));\n           }\n        }\n        catch (Exception)\n        {\n           return null;\n        }\n        return null;\n     }\n  }Example:[Flags]\npublic enum PetType\n{\n  None = 0, Dog = 1, Cat = 2, Fish = 4, Bird = 8, Reptile = 16, Other = 32\n};\n\ninteger values \n1=Dog;\n13= Dog | Fish | Bird;\n96= Other;\n128= Null;ShareImprove this answerFollowansweredJan 7, 2016 at 11:40Franki1986Franki19861,38622 gold badges1818 silver badges4343 bronze badges\n\nYou simply useExplicit conversionCast int to enum or enum to intclass Program\n{\n    static void Main(string[] args)\n    {\n        Console.WriteLine((int)Number.three); //Output=3\n\n        Console.WriteLine((Number)3);// Outout three\n        Console.Read();\n    }\n\n    public enum Number\n    {\n        Zero = 0,\n        One = 1,\n        Two = 2,\n        three = 3\n    }\n}ShareImprove this answerFolloweditedApr 5, 2020 at 9:08Soheila Tarighi48755 silver badges1616 bronze badgesansweredFeb 1, 2019 at 10:15Shivam MishraShivam Mishra31933 silver badges1515 bronze badges\n\nusing System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text.RegularExpressions;\n\nnamespace SamplePrograme\n{\n    public class Program\n    {\n        public enum Suit : int\n        {\n            Spades = 0,\n            Hearts = 1,\n            Clubs = 2,\n            Diamonds = 3\n        }\n\n        public static void Main(string[] args)\n        {\n            //from string\n            Console.WriteLine((Suit) Enum.Parse(typeof(Suit), ""Clubs""));\n\n            //from int\n            Console.WriteLine((Suit)1);\n\n            //From number you can also\n            Console.WriteLine((Suit)Enum.ToObject(typeof(Suit) ,1));\n        }\n    }\n}ShareImprove this answerFollowansweredOct 17, 2019 at 7:52Surendra Singh AswalSurendra Singh Aswal37922 silver badges77 bronze badges\n\nYou just do like below:int intToCast = 1;\nTargetEnum f = (TargetEnum) intToCast ;To make sure that you only cast the right values \u200b\u200band that you can throw an exception otherwise:int intToCast = 1;\nif (Enum.IsDefined(typeof(TargetEnum), intToCast ))\n{\n    TargetEnum target = (TargetEnum)intToCast ;\n}\nelse\n{\n   // Throw your exception.\n}Note that using IsDefined is costly and even more than just casting, so it depends on your implementation to decide to use it or not.ShareImprove this answerFollowansweredJul 27, 2019 at 7:48Mselmi AliMselmi Ali1,23755 gold badges1919 silver badges3232 bronze badges\n\nYou can use an extension method.public static class Extensions\n{\n\n    public static T ToEnum<T>(this string data) where T : struct\n    {\n        if (!Enum.TryParse(data, true, out T enumVariable))\n        {\n            if (Enum.IsDefined(typeof(T), enumVariable))\n            {\n                return enumVariable;\n            }\n        }\n\n        return default;\n    }\n\n    public static T ToEnum<T>(this int data) where T : struct\n    {\n        return (T)Enum.ToObject(typeof(T), data);\n    }\n}Use it like the below code:Enum:public enum DaysOfWeeks\n{\n    Monday = 1,\n    Tuesday = 2,\n    Wednesday = 3,\n    Thursday = 4,\n    Friday = 5,\n    Saturday = 6,\n    Sunday = 7,\n}Usage:string Monday = ""Mon"";\n int Wednesday = 3;\n var Mon = Monday.ToEnum<DaysOfWeeks>();\n var Wed = Wednesday.ToEnum<DaysOfWeeks>();ShareImprove this answerFolloweditedJul 13, 2020 at 0:31Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredApr 24, 2020 at 19:34Reza JenabiReza Jenabi4,13111 gold badge3333 silver badges3535 bronze badges'}","{'title': ""Why shouldn't I use mysql_* functions in PHP?"", 'question': ""Want to improve this post?Provide detailed answers to this question, including citations and an explanation of why your answer is correct. Answers without enough detail may be edited or deleted.What are the technical reasons for why one shouldn't usemysql_*functions? (e.g.mysql_query(),mysql_connect()ormysql_real_escape_string())?Why should I use something else even if they work on my site?If they don't work on my site, why do I get errors likeWarning: mysql_connect(): No such file or directoryphpmysqlShareImprove this questionFolloweditedFeb 29, 2020 at 23:30Dharman♦32.5k2525 gold badges9494 silver badges140140 bronze badgesaskedOct 12, 2012 at 13:18Madara's GhostMadara's Ghost174k5050 gold badges266266 silver badges313313 bronze badges"", 'answers': 'The MySQL extension:Is not under active developmentIsofficiallydeprecatedas of PHP 5.5 (released June 2013).Has beenremovedentirelyas of PHP 7.0 (released December 2015)This means that as of31 Dec 2018it does not exist in any supported version of PHP. If you are using a version of PHP which supports it, you are using a version which doesn\'t get security problems fixed.Lacks an OO interfaceDoesn\'t support:Non-blocking, asynchronous queriesPrepared statementsor parameterized queriesStored proceduresMultiple StatementsTransactionsThe ""new"" password authentication method (on by default in MySQL 5.6; required in 5.7)Any of the new functionality in MySQL 5.1 or laterSince it is deprecated, using it makes your code less future proof.Lack of support for prepared statements is particularly important as they provide a clearer, less error-prone method of escaping and quoting external data than manually escaping it with a separate function call.Seethe comparison of SQL extensions.ShareImprove this answerFolloweditedJul 21, 2019 at 10:15community wiki21 revs, 13 users 52%Quentin\n\nAnswer recommended byPHPCollectivePHP offers three different APIs to connect to MySQL. These are themysql(removed as of PHP 7),mysqli, andPDOextensions.Themysql_*functions used to be very popular, but their use is not encouraged anymore. The documentation team is discussing the database security situation, and educating users to move away from the commonly used ext/mysql extension is part of this (checkphp.internals: deprecating ext/mysql).And the later PHP developer team has taken the decision to generateE_DEPRECATEDerrors when users connect to MySQL, whether throughmysql_connect(),mysql_pconnect()or the implicit connection functionality built intoext/mysql.ext/mysqlwasofficially deprecated as of PHP 5.5and has beenremoved as of PHP 7.See the Red Box?When you go on anymysql_*function manual page, you see a red box, explaining it should not be used anymore.WhyMoving away fromext/mysqlis not only about security, but also about having access to all the features of the MySQL database.ext/mysqlwas built forMySQL 3.23and only got very few additions since then while mostly keeping compatibility with this old version which makes the code a bit harder to maintain. Missing features that is not supported byext/mysqlinclude: (from PHP manual).Stored procedures(can\'t handle multiple result sets)Prepared statementsEncryption (SSL)CompressionFull Charset supportReason to not usemysql_*function:Not under active developmentRemoved as of PHP 7Lacks an OO interfaceDoesn\'t support non-blocking, asynchronous queriesDoesn\'t support prepared statements orparameterized queriesDoesn\'t support stored proceduresDoesn\'t support multiple statementsDoesn\'t supporttransactionsDoesn\'t support all of the functionality in MySQL 5.1Above point quoted from Quentin\'s answerLack of support for prepared statements is particularly important as they provide a clearer, less error prone method of escaping and quoting external data than manually escaping it with a separate function call.See thecomparison of SQL extensions.Suppressing deprecation warningsWhile code is being converted toMySQLi/PDO,E_DEPRECATEDerrors can be suppressed by settingerror_reportinginphp.inito excludeE_DEPRECATED:error_reporting = E_ALL ^ E_DEPRECATEDNote that this will also hideother deprecation warnings, which, however, may be for things other than MySQL. (from PHP manual)The articlePDO vs. MySQLi: Which Should You Use?byDejan Marjanovicwill help you to choose.And a better way isPDO, and I am now writing a simplePDOtutorial.A simple and short PDO tutorialQ. First question in my mind was: what is `PDO`?A. “PDO – PHP Data Objects– is a database access layer providing a uniform method of access to multiple databases.”Connecting to MySQLWithmysql_*function or we can say it the old way (deprecated in PHP 5.5 and above)$link = mysql_connect(\'localhost\', \'user\', \'pass\');\nmysql_select_db(\'testdb\', $link);\nmysql_set_charset(\'UTF-8\', $link);WithPDO: All you need to do is create a newPDOobject. The constructor accepts parameters for specifying the database sourcePDO\'s constructor mostly takes four parameters which areDSN(data source name) and  optionallyusername,password.Here I think you are familiar with all exceptDSN; this is new inPDO. ADSNis basically a string of options that tellPDOwhich driver to use, and connection details. For further reference, checkPDO MySQL DSN.$db = new PDO(\'mysql:host=localhost;dbname=testdb;charset=utf8\', \'username\', \'password\');Note:you can also usecharset=UTF-8, but sometimes it causes an error, so it\'s better to useutf8.If there is any connection error, it will throw aPDOExceptionobject that can be caught to handleExceptionfurther.Good read:Connections and Connection management ¶You can also pass in several driver options as an array to the fourth parameter. I recommend passing the parameter which putsPDOinto exception mode. Because somePDOdrivers don\'t support native prepared statements, soPDOperforms emulation of the prepare. It also lets you manually enable this emulation. To use the native server-side prepared statements, you should explicitly set itfalse.The other is to turn off prepare emulation which is enabled in theMySQLdriver by default, but prepare emulation should be turned off to usePDOsafely.I will later explain why prepare emulation should be turned off. To find reason please checkthis post.It is only usable if you are using an old version ofMySQLwhich I do not recommended.Below is an example of how you can do it:$db = new PDO(\'mysql:host=localhost;dbname=testdb;charset=UTF-8\', \n              \'username\', \n              \'password\',\n              array(PDO::ATTR_EMULATE_PREPARES => false,\n              PDO::ATTR_ERRMODE => PDO::ERRMODE_EXCEPTION));Can we set attributes after PDO construction?Yes, we can also set some attributes after PDO construction with thesetAttributemethod:$db = new PDO(\'mysql:host=localhost;dbname=testdb;charset=UTF-8\', \n              \'username\', \n              \'password\');\n$db->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);\n$db->setAttribute(PDO::ATTR_EMULATE_PREPARES, false);Error HandlingError handling is much easier inPDOthanmysql_*.A common practice when usingmysql_*is://Connected to MySQL\n$result = mysql_query(""SELECT * FROM table"", $link) or die(mysql_error($link));OR die()is not a good way to handle the error since we can not handle the thing indie. It will just end the script abruptly and then echo the error to the screen which you usually do NOT want to show to your end users, and let bloody hackers discover your schema. Alternately, the return values ofmysql_*functions can often be used in conjunction withmysql_error()to handle errors.PDOoffers a better solution: exceptions. Anything we do withPDOshould be wrapped in atry-catchblock. We can forcePDOinto one of three error modes by setting the error mode attribute. Three error handling modes are below.PDO::ERRMODE_SILENT. It\'s just setting error codes and acts pretty much the same asmysql_*where you must check each result and then look at$db->errorInfo();to get the error details.PDO::ERRMODE_WARNINGRaiseE_WARNING. (Run-time warnings (non-fatal errors). Execution of the script is not halted.)PDO::ERRMODE_EXCEPTION: Throw exceptions. It represents an error raised by PDO. You should not throw aPDOExceptionfrom your own code. SeeExceptionsfor more information about exceptions in PHP. It acts very much likeor die(mysql_error());, when it isn\'t caught. But unlikeor die(), thePDOExceptioncan be caught and handled gracefully if you choose to do so.Good read:Errors and error handling ¶The PDOException class ¶Exceptions ¶Like:$stmt->setAttribute( PDO::ATTR_ERRMODE, PDO::ERRMODE_SILENT );\n$stmt->setAttribute( PDO::ATTR_ERRMODE, PDO::ERRMODE_WARNING );\n$stmt->setAttribute( PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION );And you can wrap it intry-catch, like below:try {\n    //Connect as appropriate as above\n    $db->query(\'hi\'); //Invalid query!\n} \ncatch (PDOException $ex) {\n    echo ""An Error occured!""; //User friendly message/message you want to show to user\n    some_logging_function($ex->getMessage());\n}You do not have to handle withtry-catchright now. You can catch it at any time appropriate, but I strongly recommend you to usetry-catch. Also it may make more sense to catch it at outside the function that calls thePDOstuff:function data_fun($db) {\n    $stmt = $db->query(""SELECT * FROM table"");\n    return $stmt->fetchAll(PDO::FETCH_ASSOC);\n}\n\n//Then later\ntry {\n    data_fun($db);\n}\ncatch(PDOException $ex) {\n    //Here you can handle error and show message/perform action you want.\n}Also, you can handle byor die()or we can say likemysql_*, but it will be really varied. You can hide the dangerous error messages in production by turningdisplay_errors offand just reading your error log.Now, after reading all the things above, you are probably thinking: what the heck is that when I just want to start leaning simpleSELECT,INSERT,UPDATE, orDELETEstatements? Don\'t worry, here we go:Selecting DataSo what you are doing inmysql_*is:<?php\n$result = mysql_query(\'SELECT * from table\') or die(mysql_error());\n\n$num_rows = mysql_num_rows($result);\n\nwhile($row = mysql_fetch_assoc($result)) {\n    echo $row[\'field1\'];\n}Now inPDO, you can do this like:<?php\n$stmt = $db->query(\'SELECT * FROM table\');\n\nwhile($row = $stmt->fetch(PDO::FETCH_ASSOC)) {\n    echo $row[\'field1\'];\n}Or<?php\n$stmt = $db->query(\'SELECT * FROM table\');\n$results = $stmt->fetchAll(PDO::FETCH_ASSOC);\n\n//Use $resultsNote: If you are using the method like below (query()), this method returns aPDOStatementobject. So if you want to fetch the result, use it like above.<?php\nforeach($db->query(\'SELECT * FROM table\') as $row) {\n    echo $row[\'field1\'];\n}In PDO Data, it is obtained via the->fetch(), a method of your statement handle. Before calling fetch, the best approach would be telling PDO how you’d like the data to be fetched. In the below section I am explaining this.Fetch ModesNote the use ofPDO::FETCH_ASSOCin thefetch()andfetchAll()code above. This tellsPDOto return the rows as an associative array with the field names as keys. There are many other fetch modes too which I will explain one by one.First of all, I explain how to select fetch mode:$stmt->fetch(PDO::FETCH_ASSOC)In the above, I have been usingfetch(). You can also use:PDOStatement::fetchAll()- Returns an array containing all of the result set rowsPDOStatement::fetchColumn()- Returns a single column from the next row of a result setPDOStatement::fetchObject()- Fetches the next row and returns it as an object.PDOStatement::setFetchMode()- Set the default fetch mode for this statementNow I come to fetch mode:PDO::FETCH_ASSOC: returns an array indexed by column name as returned in your result setPDO::FETCH_BOTH(default): returns an array indexed by both column name and 0-indexed column number as returned in your result setThere are even more choices! Read about them all inPDOStatementFetch documentation..Getting the row count:Instead of usingmysql_num_rowsto get the number of returned rows, you can get aPDOStatementand dorowCount(), like:<?php\n$stmt = $db->query(\'SELECT * FROM table\');\n$row_count = $stmt->rowCount();\necho $row_count.\' rows selected\';Getting the Last Inserted ID<?php\n$result = $db->exec(""INSERT INTO table(firstname, lastname) VAULES(\'John\', \'Doe\')"");\n$insertId = $db->lastInsertId();Insert and Update or Delete statementsWhat we are doing inmysql_*function is:<?php\n$results = mysql_query(""UPDATE table SET field=\'value\'"") or die(mysql_error());\necho mysql_affected_rows($result);And in pdo, this same thing can be done by:<?php\n$affected_rows = $db->exec(""UPDATE table SET field=\'value\'"");\necho $affected_rows;In the above queryPDO::execexecute an SQL statement and returns the number of affected rows.Insert and delete will be covered later.The above method is only useful when you are not using variable in query. But when you need to use a variable in a query, do not ever ever try like the above and there forprepared statement or parameterized statementis.Prepared StatementsQ.What is a prepared statement and why do I need them?A.A prepared statement is a pre-compiled SQL statement that can be executed multiple times by sending only the data to the server.The typical workflow of using a prepared statement is as follows (quoted from Wikipedia three 3 point):Prepare: The statement template is created by the application and sent to the database management system (DBMS). Certain values are left unspecified, called parameters, placeholders or bind variables (labelled?below):`INSERT INTO PRODUCT (name, price) VALUES (?, ?)`The DBMS parses, compiles, and performs query optimization on the statement template, and stores the result without executing it.Execute: At a later time, the application supplies (or binds) values for the parameters, and the DBMS executes the statement (possibly returning a result). The application may execute the statement as many times as it wants with different values. In this example, it might supply \'Bread\' for the first parameter and1.00for the second parameter.You can use a prepared statement by including placeholders in your SQL. There are basically three ones without placeholders (don\'t try this with variable its above one), one with unnamed placeholders, and one with named placeholders.Q.So now, what are named placeholders and how do I use them?A.Named placeholders. Use descriptive names preceded by a colon, instead of question marks. We don\'t care about position/order of value in name place holder:$stmt->bindParam(\':bla\', $bla);bindParam(parameter,variable,data_type,length,driver_options)You can also bind using an execute array as well:<?php\n$stmt = $db->prepare(""SELECT * FROM table WHERE id=:id AND name=:name"");\n$stmt->execute(array(\':name\' => $name, \':id\' => $id));\n$rows = $stmt->fetchAll(PDO::FETCH_ASSOC);Another nice feature forOOPfriends is that named placeholders have the ability to insert objects directly into your database, assuming the properties match the named fields. For example:class person {\n    public $name;\n    public $add;\n    function __construct($a,$b) {\n        $this->name = $a;\n        $this->add = $b;\n    }\n\n}\n$demo = new person(\'john\',\'29 bla district\');\n$stmt = $db->prepare(""INSERT INTO table (name, add) value (:name, :add)"");\n$stmt->execute((array)$demo);Q.So now, what are unnamed placeholders and how do I use them?A.Let\'s have an example:<?php\n$stmt = $db->prepare(""INSERT INTO folks (name, add) values (?, ?)"");\n$stmt->bindValue(1, $name, PDO::PARAM_STR);\n$stmt->bindValue(2, $add, PDO::PARAM_STR);\n$stmt->execute();and$stmt = $db->prepare(""INSERT INTO folks (name, add) values (?, ?)"");\n$stmt->execute(array(\'john\', \'29 bla district\'));In the above, you can see those?instead of a name like in a name place holder. Now in the first example, we assign variables to the various placeholders ($stmt->bindValue(1, $name, PDO::PARAM_STR);). Then, we assign values to those placeholders and execute the statement. In the second example, the first array element goes to the first?and the second to the second?.NOTE: Inunnamed placeholderswe must take care of the proper order of the elements in the array that we are passing to thePDOStatement::execute()method.SELECT,INSERT,UPDATE,DELETEprepared queriesSELECT:$stmt = $db->prepare(""SELECT * FROM table WHERE id=:id AND name=:name"");\n$stmt->execute(array(\':name\' => $name, \':id\' => $id));\n$rows = $stmt->fetchAll(PDO::FETCH_ASSOC);INSERT:$stmt = $db->prepare(""INSERT INTO table(field1,field2) VALUES(:field1,:field2)"");\n$stmt->execute(array(\':field1\' => $field1, \':field2\' => $field2));\n$affected_rows = $stmt->rowCount();DELETE:$stmt = $db->prepare(""DELETE FROM table WHERE id=:id"");\n$stmt->bindValue(\':id\', $id, PDO::PARAM_STR);\n$stmt->execute();\n$affected_rows = $stmt->rowCount();UPDATE:$stmt = $db->prepare(""UPDATE table SET name=? WHERE id=?"");\n$stmt->execute(array($name, $id));\n$affected_rows = $stmt->rowCount();NOTE:HoweverPDOand/orMySQLiare not completely safe. Check the answerAre PDO prepared statements sufficient to prevent SQL injection?byircmaxell. Also, I am quoting some part from his answer:$pdo->setAttribute(PDO::ATTR_EMULATE_PREPARES, false);\n$pdo->query(\'SET NAMES GBK\');\n$stmt = $pdo->prepare(""SELECT * FROM test WHERE name = ? LIMIT 1"");\n$stmt->execute(array(chr(0xbf) . chr(0x27) . "" OR 1=1 /*""));ShareImprove this answerFolloweditedNov 17, 2023 at 19:52CommunityBot111 silver badgeansweredJan 1, 2013 at 11:52NullPoiиteяNullPoiиteя57.2k2323 gold badges127127 silver badges146146 bronze badges\n\nFirst, let\'s begin with the standard comment we give everyone:Please, don\'t usemysql_*functions in new code. They are no longer maintainedand are officially deprecated. See thered box? Learn aboutprepared statementsinstead, and usePDOorMySQLi-this articlewill help you decide which. If you choose PDO,here is a good tutorial.Let\'s go through this, sentence by sentence, and explain:They are no longer maintained, and are officially deprecatedThis means that the PHP community is gradually dropping support for these very old functions. They are likely to not exist in a future (recent) version of PHP! Continued use of these functions may break your code in the (not so) far future.NEW! - ext/mysql is nowofficially deprecated as of PHP 5.5!Newer! ext/mysqlhas been removed in PHP 7.Instead, you should learn of prepared statementsmysql_*extension does not supportprepared statements, which is (among other things) a very effective countermeasure againstSQL Injection. It fixed a very serious vulnerability in MySQL dependent applications which allows attackers to gain access to your script and performany possible queryon your database.For more information, seeHow can I prevent SQL injection in PHP?See the Red Box?When you go to anymysqlfunction manual page, you see a red box, explaining it should not be used anymore.Use either PDO or MySQLiThere are better, more robust and well-built alternatives,PDO - PHP Database Object, which offers a complete OOP approach to database interaction, andMySQLi, which is a MySQL specific improvement.ShareImprove this answerFolloweditedDec 25, 2017 at 17:58Nae15.1k77 gold badges5858 silver badges8282 bronze badgesansweredOct 12, 2012 at 13:28Madara\'s GhostMadara\'s Ghost174k5050 gold badges266266 silver badges313313 bronze badges\n\nEase of useThe analytic and synthetic reasons were already mentioned. For newcomers there\'s a more significant incentive to stop using the dated mysql_ functions.Contemporary database APIs are justeasierto use.It\'s mostly thebound parameterswhich can simplify code. And withexcellent tutorials (as seen above)the transition toPDOisn\'t overly arduous.Rewriting a larger code base at once however takes time. Raison d\'être for this intermediate alternative:Equivalent pdo_* functions in place ofmysql_*Using<pdo_mysql.php>you can switch from the old mysql_ functions withminimal effort. It addspdo_function wrappers which replace theirmysql_counterparts.Simplyinclude_once(""pdo_mysql.php"");in each invocation script that has to interact with the database.Remove themysql_function prefixeverywhereand replace it withpdo_.mysql_connect()becomespdo_connect()mysql_query()becomespdo_query()mysql_num_rows()becomespdo_num_rows()mysql_insert_id()becomespdo_insert_id()mysql_fetch_array()becomespdo_fetch_array()mysql_fetch_assoc()becomespdo_fetch_assoc()mysql_real_escape_string()becomespdo_real_escape_string()and so on...Your code will work alike and still mostly look the same:include_once(""pdo_mysql.php""); \n\npdo_connect(""localhost"", ""usrABC"", ""pw1234567"");\npdo_select_db(""test"");\n\n$result = pdo_query(""SELECT title, html FROM pages"");  \n\nwhile ($row = pdo_fetch_assoc($result)) {\n    print ""$row[title] - $row[html]"";\n}Et voilà.Your code isusingPDO.Now it\'s time to actuallyutilizeit.Bound parameters can be easy to useYou just need a less unwieldy API.pdo_query()adds very facile support for bound parameters. Converting old code is straightforward:Move your variables out of the SQL string.Add them as comma delimited function parameters topdo_query().Place question marks?as placeholders where the variables were before.Get rid of\'single quotes that previously enclosed string values/variables.The advantage becomes more obvious for lengthier code.Often string variables aren\'t just interpolated into SQL, but concatenated with escaping calls in between.pdo_query(""SELECT id, links, html, title, user, date FROM articles\n   WHERE title=\'"" . pdo_real_escape_string($title) . ""\' OR id=\'"".\n   pdo_real_escape_string($title) . ""\' AND user <> \'"" .\n   pdo_real_escape_string($root) . ""\' ORDER BY date"")With?placeholders applied you don\'t have to bother with that:pdo_query(""SELECT id, links, html, title, user, date FROM articles\n   WHERE title=? OR id=? AND user<>? ORDER BY date"", $title, $id, $root)Remember that pdo_* still allowseither or.Just don\'t escape a variableandbind it in the same query.The placeholder feature is provided by the real PDO behind it.Thus also allowed:namedplaceholder lists later.More importantly you can pass $_REQUEST[] variables safely behind any query. When submitted<form>fields match the database structure exactly it\'s even shorter:pdo_query(""INSERT INTO pages VALUES (?,?,?,?,?)"", $_POST);So much simplicity. But let\'s get back to some more rewriting advises and technical reasons on why you may want to get rid ofmysql_and escaping.Fix or remove any oldschoolsanitize()functionOnce you have converted allmysql_calls topdo_querywith bound params, remove all redundantpdo_real_escape_stringcalls.In particular you should fix anysanitizeorcleanorfilterThisorclean_datafunctions as advertised by dated tutorials in one form or the other:function sanitize($str) {\n   return trim(strip_tags(htmlentities(pdo_real_escape_string($str))));\n}Most glaring bug here is the lack of documentation. More significantly the order of filtering was in exactly the wrong order.Correct order would have been: deprecatedlystripslashesas the innermost call, thentrim, afterwardsstrip_tags,htmlentitiesfor output context, and only lastly the_escape_stringas its application should directly preceed the SQL intersparsing.But as first step justget rid of the_real_escape_stringcall.You may have to keep the rest of yoursanitize()function for now if your database and application flow expect HTML-context-safe strings. Add a comment that it applies only HTML escaping henceforth.String/value handling is delegated to PDO and its parameterized statements.If there was any mention ofstripslashes()in your sanitize function, it may indicate a higher level oversight.That was commonly there to undo damage (double escaping) from the deprecatedmagic_quotes. Which however isbest fixed centrally, not string by string.Use one of theuserland reversalapproaches. Then remove thestripslashes()in thesanitizefunction.Historic note on magic_quotes.That feature is rightly deprecated. It\'s often incorrectly portrayed as failedsecurityfeature however. But magic_quotes are as much a failed security feature as tennis balls have failed as nutrition source. That simply wasn\'t their purpose.The original implementation in PHP2/FI introduced it explicitly with just ""quotes will be automatically escaped making it easier to pass form data directly to msql queries"". Notably it was accidentially safe to use withmSQL, as that supported ASCII only.Then PHP3/Zend reintroduced magic_quotes for MySQL and misdocumented it. But originally it was just aconvenience feature, not intend for security.How prepared statements differWhen you scramble string variables into the SQL queries, it doesn\'t just get more intricate for you to follow. It\'s also extraneous effort for MySQL to segregate code and data again.SQL injections simply are whendata bleeds into codecontext. A database server can\'t later spot where PHP originally glued variables inbetween query clauses.With bound parameters you separate SQL code and SQL-context values in your PHP code. But it doesn\'t get shuffled up again behind the scenes (except with PDO::EMULATE_PREPARES). Your database receives the unvaried SQL commands and 1:1 variable values.While this answer stresses that you should care about the readability advantages of droppingmysql_. There\'s occasionally also a performance advantage (repeated INSERTs with just differing values) due to this visible and technical data/code separation.Beware that parameter binding still isn\'t a magic one-stop solution againstallSQL injections. It handles the most common use for data/values. But can\'t whitelist column name / table identifiers, help with dynamic clause construction, or just plain array value lists.Hybrid PDO useThesepdo_*wrapper functions make a coding-friendly stop-gap API. (It\'s pretty much whatMYSQLIcould have been if it wasn\'t for the idiosyncratic function signature shift). They also expose the real PDO at most times.Rewriting doesn\'t have to stop at using the new pdo_ function names. You could one by one transition each pdo_query() into a plain $pdo->prepare()->execute() call.It\'s best to start at simplifying again however. For example the common result fetching:$result = pdo_query(""SELECT * FROM tbl"");\nwhile ($row = pdo_fetch_assoc($result)) {Can be replaced with just an foreach iteration:foreach ($result as $row) {Or better yet a direct and complete array retrieval:$result->fetchAll();You\'ll get more helpful warnings in most cases than PDO or mysql_ usually provide after failed queries.Other optionsSo this hopefully visualized somepracticalreasons and a worthwile pathway to dropmysql_.Just switching topdodoesn\'t quite cut it.pdo_query()is also just a frontend onto it.Unless you also introduce parameter binding or can utilize something else from the nicer API, it\'s a pointless switch. I hope it\'s portrayed simple enough to not further the discouragement to newcomers. (Education usually works better than prohibition.)While it qualifies for the simplest-thing-that-could-possibly-work category, it\'s also still very experimental code. I just wrote it over the weekend. There\'s a plethora of alternatives however. Just google forPHP database abstractionand browse a little. There always have been and will be lots of excellent libraries for such tasks.If you want to simplify your database interaction further, mappers likeParis/Idiormare worth a try. Just like nobody uses the bland DOM in JavaScript anymore, you don\'t have to babysit a raw database interface nowadays.ShareImprove this answerFolloweditedMay 23, 2017 at 12:03CommunityBot111 silver badgeansweredDec 24, 2013 at 23:30mariomario145k2020 gold badges240240 silver badges293293 bronze badges\n\nThemysql_functions:are out of date - they\'re not maintained any moredon\'t allow you to move easily to another database backenddon\'t support prepared statements, henceencourage programmers to use concatenation to build queries, leading to SQL injection vulnerabilitiesShareImprove this answerFolloweditedDec 26, 2017 at 16:00answeredOct 12, 2012 at 13:22AlnitakAlnitak338k7171 gold badges411411 silver badges498498 bronze badges\n\nSpeaking oftechnicalreasons, there are only a few, extremely specific and rarely used. Most likely you will never ever use them in your life.Maybe I am too ignorant, but I never had an opportunity to use them things likenon-blocking, asynchronous queriesstored procedures returning multiple resultsetsEncryption (SSL)CompressionIf you need them - these are no doubt technical reasons to move away from mysql extension toward something more stylish and modern-looking.Nevertheless, there are also some non-technical issues, which can make your experience a bit harderfurther use of these functions with modern PHP versions will raise deprecated-level notices. They simply can be turned off.in a distant future, they can be possibly removed from the default PHP build. Not a big deal too, as mydsql ext will be moved into PECL and every hoster will be happy to compile PHP with it, as they don\'t want to lose clients whose sites were working for decades.strong resistance from Stackoverflow community. Еverytime you mention these honest functions, you being told that they are under strict taboo.being an average PHP user, most likely your idea of using these functions is error-prone and wrong. Just because of all these numerous tutorials and manuals which teach you the wrong way. Not the functions themselves - I have to emphasize it - but the way they are used.This latter issue is a problem.But, in my opinion, the proposed solution is no better either.It seems to metoo idealistica dream that all those PHP users will learn how to handle SQL queries properly at once. Most likely they would just change mysql_* to mysqli_* mechanically,leaving the approach the same. Especially because mysqli makes prepared statements usage incredible painful and troublesome.Not to mention thatnativeprepared statementsaren\'t enough to protectfrom SQL injections, and neither mysqli nor PDO offers a solution.So, instead of fighting this honest extension, I\'d prefer to fight wrong practices and educate people in the right ways.Also, there are some false or non-significant reasons, likeDoesn\'t support Stored Procedures (we were usingmysql_query(""CALL my_proc"");for ages)Doesn\'t support Transactions (same as above)Doesn\'t support Multiple Statements (who need them?)Not under active development (so what? does it affectyouin any practical way?)Lacks an OO interface (to create one is a matter of several hours)Doesn\'t support Prepared Statements or Parametrized QueriesThe last one is an interesting point. Although mysql ext do not supportnativeprepared statements, they aren\'t required for the safety. We can easily fake prepared statements using manually handled placeholders (just like PDO does):function paraQuery()\n{\n    $args  = func_get_args();\n    $query = array_shift($args);\n    $query = str_replace(""%s"",""\'%s\'"",$query); \n\n    foreach ($args as $key => $val)\n    {\n        $args[$key] = mysql_real_escape_string($val);\n    }\n\n    $query  = vsprintf($query, $args);\n    $result = mysql_query($query);\n    if (!$result)\n    {\n        throw new Exception(mysql_error()."" [$query]"");\n    }\n    return $result;\n}\n\n$query  = ""SELECT * FROM table where a=%s AND b LIKE %s LIMIT %d"";\n$result = paraQuery($query, $a, ""%$b%"", $limit);voila, everything is parameterized and safe.But okay, if you don\'t like the red box in the manual, a problem of choice arises: mysqli or PDO?Well, the answer would be as follows:If you understand the necessity of using adatabase abstraction layerand looking for an API to create one,mysqliis a very good choice, as it indeed supports many mysql-specific features.If, like vast majority of PHP folks, you are using raw API calls right in the application code (which is essentially wrong practice) -PDO is the only choice, as this extension pretends to be not just API but rather a semi-DAL, still incomplete but offers many important features, with two of them makes PDO critically distinguished from mysqli:unlike mysqli, PDO can bind placeholdersby value, which makes dynamically built queries feasible without several screens of quite messy code.unlike mysqli, PDO can always return query result in a simple usual array, while mysqli can do it only on mysqlnd installations.So, if you are an average PHP user and want to save yourself a ton of headaches when using native prepared statements, PDO - again - is the only choice.However, PDO is not a silver bullet too and has its hardships.So, I wrote solutions for all the common pitfalls and complex cases in thePDO tag wikiNevertheless, everyone talking about extensions always missing the2 important factsabout Mysqli and PDO:Prepared statementisn\'t a silver bullet. There are dynamical identifiers which cannot be bound using prepared statements. There are dynamical queries with an unknown number of parameters which makes query building a difficult task.Neither mysqli_* nor PDO functions should have appeared in the application code.There ought to be anabstraction layerbetween them and application code, which will do all the dirty job of binding, looping, error handling, etc. inside, making application code DRY and clean. Especially for the complex cases like dynamical query building.So, just switching to PDO or mysqli is not enough. One has to use an ORM, or a query builder, or whatever database abstraction class instead of calling raw API functions in their code.And contrary - if you have an abstraction layer between your application code and mysql API -it doesn\'t actually matter which engine is used.You can use mysql ext until it goes deprecated and then easily rewrite your abstraction class to another engine,having all the application code intact.Here are some examples based on mysafemysql classto show how such an abstraction class ought to be:$city_ids = array(1,2,3);\n$cities   = $db->getCol(""SELECT name FROM cities WHERE is IN(?a)"", $city_ids);Compare this one single line withamount of code you will need with PDO.Then compare withcrazy amount of codeyou will need with raw Mysqli prepared statements.\nNote that error handling, profiling, query logging already built in and running.$insert = array(\'name\' => \'John\', \'surname\' => ""O\'Hara"");\n$db->query(""INSERT INTO users SET ?u"", $insert);Compare it with usual PDO inserts, when every single field name being repeated six to ten times - in all these numerous named placeholders, bindings, and query definitions.Another example:$data = $db->getAll(""SELECT * FROM goods ORDER BY ?n"", $_GET[\'order\']);You can hardly find an example for PDO to handle such practical case.And it will be too wordy and most likely unsafe.So, once more - it is not just raw driver should be your concern but abstraction class, useful not only for silly examples from beginner\'s manual but to solve whatever real-life problems.ShareImprove this answerFolloweditedDec 25, 2017 at 17:32CommunityBot111 silver badgeansweredJan 1, 2013 at 17:42Your Common SenseYour Common Sense158k4242 gold badges220220 silver badges354354 bronze badges\n\nThere are many reasons, but perhaps the most important one is that those functions encourage insecure programming practices because they do not support prepared statements. Prepared statements help prevent SQL injection attacks.When usingmysql_*functions, you have to remember to run user-supplied parameters throughmysql_real_escape_string(). If you forget in just one place or if you happen to escape only part of the input, your database may be subject to attack.Using prepared statements inPDOormysqliwill make it so that these sorts of programming errors are more difficult to make.ShareImprove this answerFolloweditedOct 12, 2012 at 13:41answeredOct 12, 2012 at 13:23TrottTrott69.1k2727 gold badges180180 silver badges216216 bronze badges\n\nBecause (amongst other reasons) it\'s much harder to ensure the input data is sanitized. If you use parametrized queries, as one does with PDO or mysqli you can entirely avoid the risk.As an example, someone could use""enhzflep); drop table users""as a username. The old functions will allow executing multiple statements per query, so something like that nasty bugger can delete a whole table.If one were to use PDO of mysqli, the user-name would end-up being""enhzflep); drop table users"".Seebobby-tables.com.ShareImprove this answerFolloweditedDec 25, 2017 at 18:25Nae15.1k77 gold badges5858 silver badges8282 bronze badgesansweredOct 12, 2012 at 13:24enhzflepenhzflep13.1k22 gold badges3333 silver badges5252 bronze badges\n\nThis answer is written to show just how trivial it is to bypass poorly written PHP user-validation code, how (and using what) these attacks work and how to replace the old MySQL functions with a secure prepared statement - and basically, why Stack\xa0Overflow users (probably with a lot of reputation points) are barking at new users asking questions to improve their code.First off, please feel free to create this test MySQL database (I have called mineprep):mysql> create table users(\n    -> id int(2) primary key auto_increment,\n    -> userid tinytext,\n    -> pass tinytext);\nQuery OK, 0 rows affected (0.05 sec)\n\nmysql> insert into users values(null, \'Fluffeh\', \'mypass\');\nQuery OK, 1 row affected (0.04 sec)\n\nmysql> create user \'prepared\'@\'localhost\' identified by \'example\';\nQuery OK, 0 rows affected (0.01 sec)\n\nmysql> grant all privileges on prep.* to \'prepared\'@\'localhost\' with grant option;\nQuery OK, 0 rows affected (0.00 sec)With that done, we can move to our PHP code.Let’s assume the following script is the verification process for an admin on a website (it is simplified, but it is working if you copy and use it for testing):<?php\n\n    if(!empty($_POST[\'user\']))\n    {\n        $user=$_POST[\'user\'];\n    }\n    else\n    {\n        $user=\'bob\';\n    }\n    if(!empty($_POST[\'pass\']))\n    {\n        $pass=$_POST[\'pass\'];\n    }\n    else\n    {\n        $pass=\'bob\';\n    }\n\n    $database=\'prep\';\n    $link=mysql_connect(\'localhost\', \'prepared\', \'example\');\n    mysql_select_db($database) or die( ""Unable to select database"");\n\n    $sql=""select id, userid, pass from users where userid=\'$user\' and pass=\'$pass\'"";\n    //echo $sql.""<br><br>"";\n    $result=mysql_query($sql);\n    $isAdmin=false;\n    while ($row = mysql_fetch_assoc($result)) {\n        echo ""My id is "".$row[\'id\']."" and my username is "".$row[\'userid\']."" and lastly, my password is "".$row[\'pass\'].""<br>"";\n        $isAdmin=true;\n        // We have correctly matched the Username and Password\n        // Let\'s give this person full access\n    }\n    if($isAdmin)\n    {\n        echo ""The check passed. We have a verified admin!<br>"";\n    }\n    else\n    {\n        echo ""You could not be verified. Please try again...<br>"";\n    }\n    mysql_close($link);\n\n?><form name=""exploited"" method=\'post\'>\n    User: <input type=\'text\' name=\'user\'><br>\n    Pass: <input type=\'text\' name=\'pass\'><br>\n    <input type=\'submit\'>\n</form>It seems legitimate enough at first glance.The user has to enter a login and password, right?Brilliant. Now enter the following:user: bob\npass: somePassand submit it.The output is as follows:You could not be verified. Please try again...Super! It is working as expected. Now let’s try the actual username and password:user: Fluffeh\npass: mypassAmazing! High fives all round; the code is correctly verified an admin. It\'s perfect!Well, not really. Let’s say the user is a clever little person. Let’s say the person is me.Enter in the following:user: bob\npass: n\' or 1=1 or \'m=mAnd the output is:The check passed. We have a verified admin!Congratulations! You just allowed me to enter your super-protected admins only section with me entering a false username and a false password. Seriously, if you don\'t believe me, create the database with the code I provided, and run this PHP code - which at glancereallydoes seem to verify the username and password rather nicely.So, in answer,that is why you are being yelled at.So, let’s have a look at what went wrong, and why I just got into your super-admin-only-bat-cave. I took a guess and assumed that you weren\'t being careful with your inputs and simply passed them to the database directly. I constructed the input in a way that wouldchangethe query that you were actually running. So, what was it supposed to be, and what did it end up being?select id, userid, pass from users where userid=\'$user\' and pass=\'$pass\'That\'s the query, but when we replace the variables with the actual inputs that we used, we get the following:select id, userid, pass from users where userid=\'bob\' and pass=\'n\' or 1=1 or \'m=m\'See how I constructed my ""password"" so that it would first close the single quote around the password, then introduce a completely new comparison? Then just for safety, I added another ""string"" so that the single quote would get closed as expected in the code we originally had.However, this isn\'t about folks yelling at you now; this is about showing you how to make your code more secure.Okay, so what went wrong, and how can we fix it?This is a classicSQL injectionattack. One of the simplest for that matter. On the scale of attack vectors, this is a toddler attacking a tank - and winning.So, how do we protect your sacred admin section and make it nice and secure? The first thing to do will be to stop using those really old and deprecatedmysql_*functions. I know; you followed a tutorial you found online and it works, but it\'s old, it\'s outdated and in the space of a few minutes, I have just broken past it without so much as breaking a sweat.Now, you have the better options of usingmysqli_orPDO. I am personally a big fan of PDO, so I will be using PDO in the rest of this answer. There are pros and cons, but personally I find that the pros far outweigh the cons. It\'s portable across multiple database engines—whether you are using MySQL or Oracle or just about bloody anything. Just by changing the connection string, it has all the fancy features we want to use and it is nice and clean. I like clean.Now, let’s have a look at that code again, this time written using a PDO object:<?php\n\n    if(!empty($_POST[\'user\']))\n    {\n        $user=$_POST[\'user\'];\n    }\n    else\n    {\n        $user=\'bob\';\n    }\n    if(!empty($_POST[\'pass\']))\n    {\n        $pass=$_POST[\'pass\'];\n    }\n    else\n    {\n        $pass=\'bob\';\n    }\n    $isAdmin=false;\n\n    $database=\'prep\';\n    $pdo=new PDO (\'mysql:host=localhost;dbname=prep\', \'prepared\', \'example\');\n    $sql=""select id, userid, pass from users where userid=:user and pass=:password"";\n    $myPDO = $pdo->prepare($sql, array(PDO::ATTR_CURSOR => PDO::CURSOR_FWDONLY));\n    if($myPDO->execute(array(\':user\' => $user, \':password\' => $pass)))\n    {\n        while($row=$myPDO->fetch(PDO::FETCH_ASSOC))\n        {\n            echo ""My id is "".$row[\'id\']."" and my username is "".$row[\'userid\']."" and lastly, my password is "".$row[\'pass\'].""<br>"";\n            $isAdmin=true;\n            // We have correctly matched the Username and Password\n            // Lets give this person full access\n        }\n    }\n\n    if($isAdmin)\n    {\n        echo ""The check passed. We have a verified admin!<br>"";\n    }\n    else\n    {\n        echo ""You could not be verified. Please try again...<br>"";\n    }\n\n?><form name=""exploited"" method=\'post\'>\n    User: <input type=\'text\' name=\'user\'><br>\n    Pass: <input type=\'text\' name=\'pass\'><br>\n    <input type=\'submit\'>\n</form>The major differences are that there are no moremysql_*functions. It\'s all done via a PDO object, secondly, and it is using aprepared statement. Now, what\'s a prepared statement you ask? It\'s a way to tell the database ahead of running a query, and what the query is that we are going to run. In this case, we tell the database: ""Hi, I am going to run a select statement wanting id, userid and pass from the table users where the userid is a variable and the pass is also a variable."".Then, in the execute statement, we pass the database an array with all the variables that it now expects.The results are fantastic. Let’s try those username and password combinations from before again:user: bob\npass: somePassUser wasn\'t verified. Awesome.How about:user: Fluffeh\npass: mypassOh, I just got a little excited; it worked: The check passed. We have a verified admin!Now, let’s try the data that a clever chap would enter to try to get past our little verification system:user: bob\npass: n\' or 1=1 or \'m=mThis time, we get the following:You could not be verified. Please try again...This is why you are being yelled at when posting questions. It\'s because people can see that your code can be bypassed without even trying. Please, do use this question and answer to improve your code, to make it more secure and to use functions that are current.Lastly, this isn\'t to say that this isperfectcode. There are many more things that you could do to improve it. Use hashed passwords for example, and ensure that when you store sensitive information in the database, you don\'t store it in plain text, have multiple levels of verification—but really, if you just change your old injection prone code to this, you will bewellalong the way to writing good code—and the fact that you have gotten this far and are still reading gives me a sense of hope that you will not only implement this type of code when writing your websites and applications, but that you might go out and research those other things I just mentioned—and more. Write the best code you can, not the most basic code that barely functions.ShareImprove this answerFolloweditedAug 3, 2023 at 15:41Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredSep 18, 2013 at 12:28FluffehFluffeh33.4k1616 gold badges6868 silver badges8080 bronze badges\n\nThe MySQL extension is the oldest of the three and was the original way that developers used to communicate with MySQL. This extension is now beingdeprecatedin favor of the othertwoalternativesbecause of improvements made in newer releases of both PHP and MySQL.MySQLiis the \'improved\' extension for working with MySQL databases. It takes advantage of features that are available in newer versions of the MySQL server, exposes both a function-oriented and an object-oriented interface to the developer and a does few other nifty things.PDOoffers an API that consolidates most of the functionality that was previously spread across the major database access extensions, i.e. MySQL, PostgreSQL, SQLite, MSSQL, etc. The interface exposes high-level objects for the programmer to work with database connections, queries and result sets, and low-level drivers perform communication and resource handling with the database server. A lot of discussion and work is going into PDO and it’s considered the appropriate method of working with databases in modern, professional code.ShareImprove this answerFollowansweredSep 2, 2015 at 7:20AlexanderAlexander12.7k55 gold badges6060 silver badges7777 bronze badges\n\nI find the above answers really lengthy, so to summarize:The mysqli extension has a number of\nbenefits, the key enhancements over\nthe mysql extension being:Object-oriented interfaceSupport for Prepared StatementsSupport for Multiple StatementsSupport for TransactionsEnhanced debugging capabilitiesEmbedded server supportSource:MySQLi overviewAs explained in the above answers, the alternatives to mysql are mysqli and PDO (PHP Data Objects).API supports server-side Prepared Statements: Supported by MYSQLi and PDOAPI supports client-side Prepared Statements: Supported only by PDOAPI supports Stored Procedures: Both MySQLi and PDOAPI supports Multiple Statements and all MySQL 4.1+ functionality - Supported by MySQLi and mostly also by PDOBoth MySQLi and PDO were introduced in PHP 5.0, whereas MySQL was introduced prior to PHP 3.0. A point to note is that MySQL is included in PHP5.x though deprecated in later versions.ShareImprove this answerFolloweditedNov 17, 2023 at 20:38CommunityBot111 silver badgeansweredSep 7, 2016 at 15:06Ani MenonAni Menon27.9k1616 gold badges109109 silver badges127127 bronze badges\n\nIt\'s possible to define almost allmysql_*functions using mysqli or PDO. Just include them on top of your old PHP application, and it will work on PHP7. My solutionhere.<?php\n\ndefine(\'MYSQL_LINK\', \'dbl\');\n$GLOBALS[MYSQL_LINK] = null;\n\nfunction mysql_link($link=null) {\n    return ($link === null) ? $GLOBALS[MYSQL_LINK] : $link;\n}\n\nfunction mysql_connect($host, $user, $pass) {\n    $GLOBALS[MYSQL_LINK] = mysqli_connect($host, $user, $pass);\n    return $GLOBALS[MYSQL_LINK];\n}\n\nfunction mysql_pconnect($host, $user, $pass) {\n    return mysql_connect($host, $user, $pass);\n}\n\nfunction mysql_select_db($db, $link=null) {\n    $link = mysql_link($link);\n    return mysqli_select_db($link, $db);\n}\n\nfunction mysql_close($link=null) {\n    $link = mysql_link($link);\n    return mysqli_close($link);\n}\n\nfunction mysql_error($link=null) {\n    $link = mysql_link($link);\n    return mysqli_error($link);\n}\n\nfunction mysql_errno($link=null) {\n    $link = mysql_link($link);\n    return mysqli_errno($link);\n}\n\nfunction mysql_ping($link=null) {\n    $link = mysql_link($link);\n    return mysqli_ping($link);\n}\n\nfunction mysql_stat($link=null) {\n    $link = mysql_link($link);\n    return mysqli_stat($link);\n}\n\nfunction mysql_affected_rows($link=null) {\n    $link = mysql_link($link);\n    return mysqli_affected_rows($link);\n}\n\nfunction mysql_client_encoding($link=null) {\n    $link = mysql_link($link);\n    return mysqli_character_set_name($link);\n}\n\nfunction mysql_thread_id($link=null) {\n    $link = mysql_link($link);\n    return mysqli_thread_id($link);\n}\n\nfunction mysql_escape_string($string) {\n    return mysql_real_escape_string($string);\n}\n\nfunction mysql_real_escape_string($string, $link=null) {\n    $link = mysql_link($link);\n    return mysqli_real_escape_string($link, $string);\n}\n\nfunction mysql_query($sql, $link=null) {\n    $link = mysql_link($link);\n    return mysqli_query($link, $sql);\n}\n\nfunction mysql_unbuffered_query($sql, $link=null) {\n    $link = mysql_link($link);\n    return mysqli_query($link, $sql, MYSQLI_USE_RESULT);\n}\n\nfunction mysql_set_charset($charset, $link=null){\n    $link = mysql_link($link);\n    return mysqli_set_charset($link, $charset);\n}\n\nfunction mysql_get_host_info($link=null) {\n    $link = mysql_link($link);\n    return mysqli_get_host_info($link);\n}\n\nfunction mysql_get_proto_info($link=null) {\n    $link = mysql_link($link);\n    return mysqli_get_proto_info($link);\n}\nfunction mysql_get_server_info($link=null) {\n    $link = mysql_link($link);\n    return mysqli_get_server_info($link);\n}\n\nfunction mysql_info($link=null) {\n    $link = mysql_link($link);\n    return mysqli_info($link);\n}\n\nfunction mysql_get_client_info() {\n    $link = mysql_link();\n    return mysqli_get_client_info($link);\n}\n\nfunction mysql_create_db($db, $link=null) {\n    $link = mysql_link($link);\n    $db = str_replace(\'`\', \'\', mysqli_real_escape_string($link, $db));\n    return mysqli_query($link, ""CREATE DATABASE `$db`"");\n}\n\nfunction mysql_drop_db($db, $link=null) {\n    $link = mysql_link($link);\n    $db = str_replace(\'`\', \'\', mysqli_real_escape_string($link, $db));\n    return mysqli_query($link, ""DROP DATABASE `$db`"");\n}\n\nfunction mysql_list_dbs($link=null) {\n    $link = mysql_link($link);\n    return mysqli_query($link, ""SHOW DATABASES"");\n}\n\nfunction mysql_list_fields($db, $table, $link=null) {\n    $link = mysql_link($link);\n    $db = str_replace(\'`\', \'\', mysqli_real_escape_string($link, $db));\n    $table = str_replace(\'`\', \'\', mysqli_real_escape_string($link, $table));\n    return mysqli_query($link, ""SHOW COLUMNS FROM `$db`.`$table`"");\n}\n\nfunction mysql_list_tables($db, $link=null) {\n    $link = mysql_link($link);\n    $db = str_replace(\'`\', \'\', mysqli_real_escape_string($link, $db));\n    return mysqli_query($link, ""SHOW TABLES FROM `$db`"");\n}\n\nfunction mysql_db_query($db, $sql, $link=null) {\n    $link = mysql_link($link);\n    mysqli_select_db($link, $db);\n    return mysqli_query($link, $sql);\n}\n\nfunction mysql_fetch_row($qlink) {\n    return mysqli_fetch_row($qlink);\n}\n\nfunction mysql_fetch_assoc($qlink) {\n    return mysqli_fetch_assoc($qlink);\n}\n\nfunction mysql_fetch_array($qlink, $result=MYSQLI_BOTH) {\n    return mysqli_fetch_array($qlink, $result);\n}\n\nfunction mysql_fetch_lengths($qlink) {\n    return mysqli_fetch_lengths($qlink);\n}\n\nfunction mysql_insert_id($qlink) {\n    return mysqli_insert_id($qlink);\n}\n\nfunction mysql_num_rows($qlink) {\n    return mysqli_num_rows($qlink);\n}\n\nfunction mysql_num_fields($qlink) {\n    return mysqli_num_fields($qlink);\n}\n\nfunction mysql_data_seek($qlink, $row) {\n    return mysqli_data_seek($qlink, $row);\n}\n\nfunction mysql_field_seek($qlink, $offset) {\n    return mysqli_field_seek($qlink, $offset);\n}\n\nfunction mysql_fetch_object($qlink, $class=""stdClass"", array $params=null) {\n    return ($params === null)\n        ? mysqli_fetch_object($qlink, $class)\n        : mysqli_fetch_object($qlink, $class, $params);\n}\n\nfunction mysql_db_name($qlink, $row, $field=\'Database\') {\n    mysqli_data_seek($qlink, $row);\n    $db = mysqli_fetch_assoc($qlink);\n    return $db[$field];\n}\n\nfunction mysql_fetch_field($qlink, $offset=null) {\n    if ($offset !== null)\n        mysqli_field_seek($qlink, $offset);\n    return mysqli_fetch_field($qlink);\n}\n\nfunction mysql_result($qlink, $offset, $field=0) {\n    if ($offset !== null)\n        mysqli_field_seek($qlink, $offset);\n    $row = mysqli_fetch_array($qlink);\n    return (!is_array($row) || !isset($row[$field]))\n        ? false\n        : $row[$field];\n}\n\nfunction mysql_field_len($qlink, $offset) {\n    $field = mysqli_fetch_field_direct($qlink, $offset);\n    return is_object($field) ? $field->length : false;\n}\n\nfunction mysql_field_name($qlink, $offset) {\n    $field = mysqli_fetch_field_direct($qlink, $offset);\n    if (!is_object($field))\n        return false;\n    return empty($field->orgname) ? $field->name : $field->orgname;\n}\n\nfunction mysql_field_table($qlink, $offset) {\n    $field = mysqli_fetch_field_direct($qlink, $offset);\n    if (!is_object($field))\n        return false;\n    return empty($field->orgtable) ? $field->table : $field->orgtable;\n}\n\nfunction mysql_field_type($qlink, $offset) {\n    $field = mysqli_fetch_field_direct($qlink, $offset);\n    return is_object($field) ? $field->type : false;\n}\n\nfunction mysql_free_result($qlink) {\n    try {\n        mysqli_free_result($qlink);\n    } catch (Exception $e) {\n        return false;\n    }\n    return true;\n}ShareImprove this answerFolloweditedAug 24, 2018 at 7:02answeredJun 9, 2017 at 6:24Pavel TzonkovPavel Tzonkov27233 silver badges99 bronze badges\n\nThere isn\'t any need to update if you are sure you don\'t want to upgrade the PHP version. But at the same time, you won\'t get security updates either which will make your website more vulnerable to hackers. That\'s the main reason.ShareImprove this answerFolloweditedAug 3, 2023 at 14:40Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMay 13, 2022 at 8:04Pratik ChhedaPratik Chheda14988 bronze badges\n\nDon\'t use mysql, because it is deprecated. Use Mysqli instead.What Deprecated Means:It means don\'t use some specific function/method/software feature/particular software practice. It just means that it should not be used, because there is (or there will be) a better alternative in that software that should be used instead.Several common issues can arise when using deprecated functions:1. Functions just flat out stop working:Applications or scripts might rely on functions that are simply no longer supported. Thus use their improved versions or alternative.2. Warning messages display about deprecation: These messages don’t normally interfere with site functionality. However, in some cases, they might disrupt the process of the server sending headers.For example: This can cause login issues (cookies/sessions don’t get set properly) or forwarding issues (301/302/303 redirects).Keep in mind that:-Deprecated software is still a part of the software.-Deprecated code is just a status (label) of the code.Key differences in MYSQL vs MYSQLImysql*Old database driverMySQL can only be used procedurallyNo protection from SQL injection attackWas deprecated in PHP 5.5.0 and was removed in PHP 7mysqliNew database driverCurrently under usagePrepared statements protect from attacksShareImprove this answerFolloweditedAug 3, 2023 at 14:44Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredOct 19, 2021 at 4:10Muhammad AliMuhammad Ali1,24433 gold badges1818 silver badges2323 bronze badges'}","{'title': 'How can I close/hide the Android soft keyboard programmatically?', 'question': 'I have anEditTextand aButtonin my layout.After writing in the edit field and clicking on theButton, I want to hide the virtual keyboard when touching outside the keyboard. Can someone provide a simple example of how to achieve this?androidandroid-edittextandroid-softkeyboardandroid-input-methodsoft-keyboardShareImprove this questionFolloweditedJun 3 at 11:43community wiki31 revs, 19 users 19%Vidar Vestnes', 'answers': 'You can force Android to hide the virtual keyboard using theInputMethodManager, callinghideSoftInputFromWindow, passing in the token of the window containing your focused view.// Check if no view has focus:\nView view = this.getCurrentFocus();\nif (view != null) {  \n    InputMethodManager imm = (InputMethodManager)getSystemService(Context.INPUT_METHOD_SERVICE);\n    imm.hideSoftInputFromWindow(view.getWindowToken(), 0);\n}This will force the keyboard to be hidden in all situations. In some cases, you will want to pass inInputMethodManager.HIDE_IMPLICIT_ONLYas the second parameter to ensure you only hide the keyboard when the user didn\'t explicitly force it to appear (by holding down the menu).Note:If you want to do this in Kotlin, use:context?.getSystemService(Context.INPUT_METHOD_SERVICE) as InputMethodManagerKotlin Syntax// Only runs if there is a view that is currently focused\nthis.currentFocus?.let { view ->\n    val imm = getSystemService(Context.INPUT_METHOD_SERVICE) as? InputMethodManager\n    imm?.hideSoftInputFromWindow(view.windowToken, 0)\n}ShareImprove this answerFolloweditedFeb 21, 2021 at 9:44community wiki15 revs, 15 users 21%Reto Meier\n\nTo help clarify this madness, I\'d like to begin by apologizing on behalf of all Android users for Google\'s downright ridiculous treatment of the soft keyboard. The reason there are so many answers, each different, for the same simple question is that this API, like many others in Android, is horribly designed. I can think of no polite way to state it.I want to hide the keyboard.  I expect to provide Android with the following statement:Keyboard.hide(). The end. Thank you very much.  But Android has a problem.  You must use theInputMethodManagerto hide the keyboard. OK, fine, this is Android\'s API to the keyboard. BUT! You are required to have aContextin order to get access to the IMM. Now we have a problem.  I may want to hide the keyboard from a static or utility class that has no use or need for anyContext. or And FAR worse, the IMM requires that you specify whatView(or even worse, whatWindow) you want to hide the keyboard FROM.This is what makes hiding the keyboard so challenging. Dear Google: When I\'m looking up the recipe for a cake, there is noRecipeProvideron Earth that would refuse to provide me with the recipe unless I first answer WHO the cake will be eaten by AND where it will be eaten!!This sad story ends with the ugly truth: to hide the Android keyboard, you will be required to provide 2 forms of identification: aContextand either aViewor aWindow.I have created a static utility method that can do the job VERY solidly, provided you call it from anActivity.public static void hideKeyboard(Activity activity) {\n    InputMethodManager imm = (InputMethodManager) activity.getSystemService(Activity.INPUT_METHOD_SERVICE);\n    //Find the currently focused view, so we can grab the correct window token from it.\n    View view = activity.getCurrentFocus();\n    //If no view currently has focus, create a new one, just so we can grab a window token from it\n    if (view == null) {\n        view = new View(activity);\n    }\n    imm.hideSoftInputFromWindow(view.getWindowToken(), 0);\n}Be aware that this utility method ONLY works when called from anActivity! The above method callsgetCurrentFocusof the targetActivityto fetch the proper window token.But suppose you want to hide the keyboard from anEditTexthosted in aDialogFragment? You can\'t use the method above for that:hideKeyboard(getActivity()); //won\'t workThis won\'t work because you\'ll be passing a reference to theFragment\'s hostActivity, which will have no focused control while theFragmentis shown! Wow! So, for hiding the keyboard from fragments, I resort to the lower-level, more common, and uglier:public static void hideKeyboardFrom(Context context, View view) {\n    InputMethodManager imm = (InputMethodManager) context.getSystemService(Activity.INPUT_METHOD_SERVICE);\n    imm.hideSoftInputFromWindow(view.getWindowToken(), 0);\n}Below is some additional information gleaned from more time wasted chasing this solution:About windowSoftInputModeThere\'s yet another point of contention to be aware of. By default, Android will automatically assign initial focus to the firstEditTextor focusable control in yourActivity.  It naturally follows that the InputMethod (typically the soft keyboard) will respond to the focus event by showing itself. ThewindowSoftInputModeattribute inAndroidManifest.xml, when set tostateAlwaysHidden, instructs the keyboard to ignore this automatically-assigned initial focus.<activity\n    android:name="".MyActivity""\n    android:windowSoftInputMode=""stateAlwaysHidden""/>Almost unbelievably, it appears to do nothing to prevent the keyboard from opening when you touch the control (unlessfocusable=""false""and/orfocusableInTouchMode=""false""are assigned to the control). Apparently, the windowSoftInputMode setting applies only to automatic focus events, not to focus events triggered by touch events.Therefore,stateAlwaysHiddenis VERY poorly named indeed. It should perhaps be calledignoreInitialFocusinstead.UPDATE: More ways to get a window tokenIf there is no focused view (e.g. can happen if you just changed fragments), there are other views that will supply a useful window token.These are alternatives for the above codeif (view == null)   view = new View(activity);These don\'t refer explicitly to your activity.Inside a fragment class:view = getView().getRootView().getWindowToken();Given a fragmentfragmentas a parameter:view = fragment.getView().getRootView().getWindowToken();Starting from your content body:view = findViewById(android.R.id.content).getRootView().getWindowToken();UPDATE 2: Clear focus to avoid showing keyboard again if you open the app from the backgroundAdd this line to the end of the method:view.clearFocus();ShareImprove this answerFolloweditedMar 12, 2021 at 2:41community wiki15 revs, 10 users 60%rmirabelle\n\nAlso useful for hiding the soft-keyboard is:getWindow().setSoftInputMode(\n    WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_HIDDEN\n);This can be used to suppress the soft-keyboard until the user actually touches the editText View.ShareImprove this answerFolloweditedNov 24, 2014 at 16:07community wiki5 revs, 4 users 50%Garnet Ulrich\n\nI got one more solution to hide keyboard:InputMethodManager imm = (InputMethodManager) getSystemService(Activity.INPUT_METHOD_SERVICE);\nimm.toggleSoftInput(InputMethodManager.HIDE_IMPLICIT_ONLY, 0);Here passHIDE_IMPLICIT_ONLYat the position ofshowFlagand0at the position ofhiddenFlag. It will forcefully close soft Keyboard.ShareImprove this answerFolloweditedJun 27, 2016 at 15:26community wiki3 revs, 3 users 80%Saurabh Pareek\n\nMeier\'s solution works for me too. In my case, the top level of my App is a tab host and I want to hide the keyword when switching tabs - I get the window token from the tab host View.tabHost.setOnTabChangedListener(new OnTabChangeListener() {\n    public void onTabChanged(String tabId) {\n        InputMethodManager imm = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\n        imm.hideSoftInputFromWindow(tabHost.getApplicationWindowToken(), 0);\n    }\n}ShareImprove this answerFolloweditedJun 11, 2020 at 4:18community wiki3 revs, 3 users 64%mckoss\n\nPlease try this below code inonCreate()EditText edtView = (EditText) findViewById(R.id.editTextConvertValue);\nedtView.setInputType(InputType.TYPE_NULL);ShareImprove this answerFolloweditedMar 23, 2022 at 3:09community wiki5 revs, 5 users 48%Jeyavel\n\nUpdate:I don\'t know why this solution is not work any more ( I just tested on Android 23). Please use the solution ofSaurabh Pareekinstead. Here it is:InputMethodManager imm = (InputMethodManager) getSystemService(Activity.INPUT_METHOD_SERVICE);\n//Hide:\nimm.toggleSoftInput(InputMethodManager.HIDE_IMPLICIT_ONLY, 0);\n//Show\nimm.toggleSoftInput(InputMethodManager.SHOW_IMPLICIT, 0);Old answer://Show soft-keyboard:\ngetWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_VISIBLE);\n//hide keyboard :\n getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_HIDDEN);ShareImprove this answerFolloweditedMay 23, 2017 at 12:10community wiki3 revsNguyen  Minh Binh\n\nprotected void hideSoftKeyboard(EditText input) {\n    InputMethodManager imm = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\n    imm.hideSoftInputFromWindow(input.getWindowToken(), 0);    \n}ShareImprove this answerFolloweditedNov 28, 2018 at 10:55community wiki5 revs, 5 users 43%Sreedev R\n\nIf all the other answers here don\'t work for you as you would like them to, there\'s another way of manually controlling the keyboard.Create a function with that will manage some of theEditText\'s properties:public void setEditTextFocus(boolean isFocused) {\n    searchEditText.setCursorVisible(isFocused);\n    searchEditText.setFocusable(isFocused);\n    searchEditText.setFocusableInTouchMode(isFocused);\n\n    if (isFocused) {\n        searchEditText.requestFocus();\n    }\n}Then, make sure that onFocus of theEditTextyou open/close the keyboard:searchEditText.setOnFocusChangeListener(new OnFocusChangeListener() {\n    @Override\n    public void onFocusChange(View v, boolean hasFocus) {\n        if (v == searchEditText) {\n            if (hasFocus) {\n                // Open keyboard\n                ((InputMethodManager) context.getSystemService(Context.INPUT_METHOD_SERVICE)).showSoftInput(searchEditText, InputMethodManager.SHOW_FORCED);\n            } else {\n                // Close keyboard\n                ((InputMethodManager) context.getSystemService(Context.INPUT_METHOD_SERVICE)).hideSoftInputFromWindow(searchEditText.getWindowToken(), 0);\n            }\n        }\n    }\n});Now, whenever you want to open the keyboard manually call:setEditTextFocus(true);And for closing call:setEditTextFocus(false);ShareImprove this answerFolloweditedNov 24, 2014 at 15:55community wiki3 revs, 2 users 81%Rotemmiz\n\nSaurabh Pareekhas the best answer so far.Might as well use the correct flags, though./* hide keyboard */\n((InputMethodManager) getSystemService(Activity.INPUT_METHOD_SERVICE))\n    .toggleSoftInput(InputMethodManager.SHOW_IMPLICIT, 0);\n\n/* show keyboard */\n((InputMethodManager) getSystemService(Activity.INPUT_METHOD_SERVICE))\n    .toggleSoftInput(0, InputMethodManager.HIDE_IMPLICIT_ONLY);Example of real use/* click button */\npublic void onClick(View view) {      \n  /* hide keyboard */\n  ((InputMethodManager) getSystemService(Activity.INPUT_METHOD_SERVICE))\n      .toggleSoftInput(InputMethodManager.SHOW_IMPLICIT, 0);\n\n  /* start loader to check parameters ... */\n}\n\n/* loader finished */\npublic void onLoadFinished(Loader<Object> loader, Object data) {\n    /* parameters not valid ... */\n\n    /* show keyboard */\n    ((InputMethodManager) getSystemService(Activity.INPUT_METHOD_SERVICE))\n        .toggleSoftInput(0, InputMethodManager.HIDE_IMPLICIT_ONLY);\n\n    /* parameters valid ... */\n}ShareImprove this answerFolloweditedMay 23, 2017 at 11:55community wiki2 revsAlex\n\nfrom so searching, here I found an answer that works for me// Show soft-keyboard:\nInputMethodManager imm = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\nimm.toggleSoftInput(InputMethodManager.SHOW_FORCED, 0);\n\n// Hide soft-keyboard:\ngetWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_HIDDEN);ShareImprove this answerFolloweditedApr 24, 2015 at 21:09community wiki2 revs, 2 users 80%shontauro\n\nThe short answerIn yourOnClicklistener call theonEditorActionof theEditTextwithIME_ACTION_DONEbutton.setOnClickListener(new OnClickListener() {\n\n    @Override\n    public void onClick(View v) {\n        someEditText.onEditorAction(EditorInfo.IME_ACTION_DONE)\n    }\n});The drill-downI feel this method is better, simpler and more aligned with Android\'s design pattern.\nIn the simple example above (and usually in most of the common cases) you\'ll have anEditTextthat has/had focus and it also usually was the one to invoke the keyboard in the first place (it is definitely able to invoke it in many common scenarios). In that same way,itshould be the one to release the keyboard, usually that can be done by anImeAction. Just see how anEditTextwithandroid:imeOptions=""actionDone""behaves, you want to achieve the same behavior by the same means.Check thisrelated answerShareImprove this answerFolloweditedMay 23, 2017 at 12:10community wiki3 revsAlex.F\n\nThis should work:public class KeyBoard {\n\n    public static void show(Activity activity){\n        InputMethodManager imm = (InputMethodManager) activity.getSystemService(Activity.INPUT_METHOD_SERVICE);\n        imm.toggleSoftInput(0, InputMethodManager.HIDE_IMPLICIT_ONLY); // show\n    }\n\n    public static void hide(Activity activity){\n        InputMethodManager imm = (InputMethodManager) activity.getSystemService(Activity.INPUT_METHOD_SERVICE);\n        imm.toggleSoftInput(InputMethodManager.HIDE_IMPLICIT_ONLY, 0); // hide\n    }\n\n    public static void toggle(Activity activity){\n        InputMethodManager imm = (InputMethodManager) activity.getSystemService(Activity.INPUT_METHOD_SERVICE);\n        if (imm.isActive()){\n            hide(activity); \n        } else {\n            show(activity); \n        }\n    }\n}\n\nKeyBoard.toggle(activity);ShareImprove this answerFolloweditedJul 15, 2016 at 14:51community wiki3 revsslinden77\n\nThank God it’s officially supportedafter 11 years.First add dependencyimplementation \'androidx.core:core-ktx:1.7.0\'to app gradle.Then get InsetsController from ViewCompat or WindowCompat class.Finally use hide() and show() function of InsetsControllerAdd support for Dialog. Available in BottomSheetDialog. @Rondev.\nUsing a safer way to get activity instead of directly cast from context.import android.app.Activity\nimport android.app.Dialog\nimport android.content.Context\nimport android.content.ContextWrapper\nimport android.view.View\nimport androidx.core.view.ViewCompat\nimport androidx.core.view.WindowCompat\nimport androidx.core.view.WindowInsetsCompat\nimport androidx.fragment.app.Fragment\n\nfun View.showKeyboard() = ViewCompat.getWindowInsetsController(this)?.show(WindowInsetsCompat.Type.ime())\nfun View.hideKeyboard() = ViewCompat.getWindowInsetsController(this)?.hide(WindowInsetsCompat.Type.ime())\n\nfun Dialog.showKeyboard() = window?.decorView?.showKeyboard()\nfun Dialog.hideKeyboard() = window?.decorView?.hideKeyboard()\n\nfun Context.showKeyboard() = getActivity()?.showKeyboard()\nfun Context.hideKeyboard() = getActivity()?.hideKeyboard()\n\nfun Fragment.showKeyboard() = activity?.showKeyboard()\nfun Fragment.hideKeyboard() = activity?.hideKeyboard()\n\nfun Activity.showKeyboard() = WindowCompat.getInsetsController(window, window.decorView)?.show(WindowInsetsCompat.Type.ime())\nfun Activity.hideKeyboard() = WindowCompat.getInsetsController(window, window.decorView)?.hide(WindowInsetsCompat.Type.ime())\n\nfun Context.getActivity(): Activity? {\n    return when (this) {\n        is Activity -> this\n        is ContextWrapper -> this.baseContext.getActivity()\n        else -> null\n    }\n}Old anwser belowHere is the simpleprojecton githubimport android.app.Activity\nimport android.app.Dialog\nimport android.content.Context\nimport android.content.ContextWrapper\nimport android.view.View\nimport androidx.core.view.ViewCompat\nimport androidx.core.view.WindowCompat\nimport androidx.core.view.WindowInsetsCompat\nimport androidx.fragment.app.Fragment\n\nfun View.showKeyboard() = ViewCompat.getWindowInsetsController(this)?.show(WindowInsetsCompat.Type.ime())\nfun View.hideKeyboard() = ViewCompat.getWindowInsetsController(this)?.hide(WindowInsetsCompat.Type.ime())\n\nfun Dialog.showKeyboard() = window?.decorView?.showKeyboard()\nfun Dialog.hideKeyboard() = window?.decorView?.hideKeyboard()\n\nfun Context.showKeyboard() = getActivity()?.showKeyboard()\nfun Context.hideKeyboard() = getActivity()?.hideKeyboard()\n\nfun Fragment.showKeyboard() = activity?.showKeyboard()\nfun Fragment.hideKeyboard() = activity?.hideKeyboard()\n\nfun Activity.showKeyboard() = WindowCompat.getInsetsController(window, window.decorView)?.show(WindowInsetsCompat.Type.ime())\nfun Activity.hideKeyboard() = WindowCompat.getInsetsController(window, window.decorView)?.hide(WindowInsetsCompat.Type.ime())\n\nfun Context.getActivity(): Activity? {\n    return when (this) {\n        is Activity -> this\n        is ContextWrapper -> this.baseContext.getActivity()\n        else -> null\n    }\n}ShareImprove this answerFolloweditedOct 18, 2023 at 15:21community wiki7 revs, 4 users 58%Sergey Chilingaryan\n\nI\'m using a custom keyboard to input an Hex number so I can\'t have the IMM keyboard show up...In v3.2.4_r1setSoftInputShownOnFocus(boolean show)was added to control weather or not to display the keyboard when a TextView gets focus, but its still hidden so reflection must be used:if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.HONEYCOMB_MR2) {\n    try {\n        Method method = TextView.class.getMethod(""setSoftInputShownOnFocus"", boolean.class);\n        method.invoke(mEditText, false);\n    } catch (Exception e) {\n        // Fallback to the second method\n    }\n}For older versions, I got very good results (but far from perfect) with aOnGlobalLayoutListener, added with the aid of aViewTreeObserverfrom my root view and then checking if the keyboard is shown like this:@Override\npublic void onGlobalLayout() {\n    Configuration config = getResources().getConfiguration();\n\n    // Dont allow the default keyboard to show up\n    if (config.keyboardHidden != Configuration.KEYBOARDHIDDEN_YES) {\n        InputMethodManager imm = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\n        imm.hideSoftInputFromWindow(mRootView.getWindowToken(), 0);\n    }\n}This last solution may show the keyboard for a split second and messes with the selection handles.When in the keyboard enters full screen, onGlobalLayout isn\'t called. To avoid that, useTextView#setImeOptions(int)or in the TextView XML declaration:android:imeOptions=""actionNone|actionUnspecified|flagNoFullscreen|flagNoExtractUi""Update:Just found what dialogs use to never show the keyboard and works in all versions:getWindow().setFlags(WindowManager.LayoutParams.FLAG_ALT_FOCUSABLE_IM,\n        WindowManager.LayoutParams.FLAG_ALT_FOCUSABLE_IM);ShareImprove this answerFolloweditedMay 28, 2012 at 20:48community wikisergio91pt\n\npublic void setKeyboardVisibility(boolean show) {\n    InputMethodManager imm = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\n    if(show){\n        imm.toggleSoftInput(InputMethodManager.SHOW_FORCED, 0);\n    }else{\n        imm.hideSoftInputFromWindow(getCurrentFocus().getWindowToken(),0);\n    }\n}ShareImprove this answerFollowansweredJun 1, 2015 at 13:36community wikishobhan\n\nNow, almost 12 years later, we finally have an official, backwards compatible way to do this withAndroidX Core 1.5+:fun View.hideKeyboard() = ViewCompat.getWindowInsetsController(this)\n    ?.hide(WindowInsetsCompat.Type.ime())or specifically for Fragment:fun Fragment.hideKeyboard() = ViewCompat.getWindowInsetsController(requireView())\n    ?.hide(WindowInsetsCompat.Type.ime())ShareImprove this answerFolloweditedSep 21, 2022 at 15:05community wiki3 revs, 2 users 67%gmk57\n\nI have spent more than two days working through all of the solutions posted in the thread and have found them lacking in one way or another.  My exact requirement is to have a button that will with 100% reliability show or hide the on screen keyboard.  When the keyboard is in its hidden state is should not re-appear, no matter what input fields the user clicks on.  When it is in its visible state the keyboard should not disappear no matter what buttons the user clicks.  This needs to work on Android 2.2+ all the way up to the latest devices.You can see a working implementation of this in my appclean RPN.After testing many of the suggested answers on a number of different phones (including froyo and gingerbread devices) it became apparent that android apps can reliably:Temporarily hide the keyboard.  It will re-appear again when a user\nfocuses a new text field.Show the keyboard when an activity starts\nand set a flag on the activity indicating that they keyboard should\nalways be visible.  This flag can only be set when an activity is\ninitialising.Mark an activity to never show or allow the use of the\nkeyboard.  This flag can only be set when an activity is\ninitialising.For me, temporarily hiding the keyboard is not enough.  On some devices it will re-appear as soon as a new text field is focused.  As my app uses multiple text fields on one page, focusing a new text field will cause the hidden keyboard to pop back up again.Unfortunately item 2 and 3 on the list only work reliability when an activity is being started.  Once the activity has become visible you cannot permanently hide or show the keyboard.  The trick is to actually restart your activity when the user presses the keyboard toggle button.  In my app when the user presses on the toggle keyboard button, the following code runs:private void toggleKeyboard(){\n\n    if(keypadPager.getVisibility() == View.VISIBLE){\n        Intent i = new Intent(this, MainActivity.class);\n        i.addFlags(Intent.FLAG_ACTIVITY_NO_ANIMATION);\n        Bundle state = new Bundle();\n        onSaveInstanceState(state);\n        state.putBoolean(SHOW_KEYBOARD, true);\n        i.putExtras(state);\n\n        startActivity(i);\n    }\n    else{\n        Intent i = new Intent(this, MainActivity.class);\n        i.addFlags(Intent.FLAG_ACTIVITY_NO_ANIMATION);\n        Bundle state = new Bundle();\n        onSaveInstanceState(state);\n        state.putBoolean(SHOW_KEYBOARD, false);\n        i.putExtras(state);\n\n        startActivity(i);\n    }\n}This causes the current activity to have its state saved into a Bundle, and then the activity is started, passing through an boolean which indicates if the keyboard should be shown or hidden.Inside the onCreate method the following code is run:if(bundle.getBoolean(SHOW_KEYBOARD)){\n    ((InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE)).showSoftInput(newEquationText,0);\n    getWindow().setSoftInputMode(LayoutParams.SOFT_INPUT_STATE_ALWAYS_VISIBLE);\n}\nelse{\n    getWindow().setFlags(WindowManager.LayoutParams.FLAG_ALT_FOCUSABLE_IM,\n            WindowManager.LayoutParams.FLAG_ALT_FOCUSABLE_IM);\n}If the soft keyboard should be shown, then the InputMethodManager is told to show the keyboard and the window is instructed to make the soft input always visible. If the soft keyboard should be hidden then the WindowManager.LayoutParams.FLAG_ALT_FOCUSABLE_IM is set.This approach works reliably on all devices I have tested on - from a 4 year old HTC phone running android 2.2 up to a nexus 7 running 4.2.2.  The only disadvantage with this approach is you need to be careful with handling the back button.  As my app essentially only has one screen (its a calculator) I can override onBackPressed() and return to the devices home screen.ShareImprove this answerFolloweditedMar 6, 2018 at 7:10community wiki2 revs, 2 users 93%Luke Sleeman\n\nAlternatively tothis all around solution, if you wanted to close the soft keyboardfrom anywherewithout having a reference to the (EditText) field that was used to open the keyboard, but still wanted to do it if the field was focused, you could use this (from an Activity):if (getCurrentFocus() != null) {\n    InputMethodManager imm = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\n    imm.hideSoftInputFromWindow(getCurrentFocus().getWindowToken(), 0);\n}ShareImprove this answerFolloweditedMay 23, 2017 at 12:10community wiki4 revs, 2 users 82%Saran\n\nThanks tothis SO answer, I derived the following which, in my case, works nicely when scrolling through the the fragments of a ViewPager...private void hideKeyboard() {   \n    // Check if no view has focus:\n    View view = this.getCurrentFocus();\n    if (view != null) {\n        InputMethodManager inputManager = (InputMethodManager) this.getSystemService(Context.INPUT_METHOD_SERVICE);\n        inputManager.hideSoftInputFromWindow(view.getWindowToken(), InputMethodManager.HIDE_NOT_ALWAYS);\n    }\n}\n\nprivate void showKeyboard() {   \n    // Check if no view has focus:\n    View view = this.getCurrentFocus();\n    if (view != null) {\n        InputMethodManager inputManager = (InputMethodManager) this.getSystemService(Context.INPUT_METHOD_SERVICE);\n        inputManager.showSoftInput(view, InputMethodManager.SHOW_IMPLICIT);\n    }\n}ShareImprove this answerFolloweditedMay 23, 2017 at 12:34community wiki2 revsban-geoengineering\n\nAbove answers work for different scenario\'s butIf you want to hide the keyboard inside a view and struggling to get the right context try this:setOnClickListener(new OnClickListener() {\n    @Override\n    public void onClick(View v) {\n        hideSoftKeyBoardOnTabClicked(v);\n    }\n}\n\nprivate void hideSoftKeyBoardOnTabClicked(View v) {\n    if (v != null && context != null) {\n        InputMethodManager imm = (InputMethodManager) context.getSystemService(Context.INPUT_METHOD_SERVICE);\n        imm.hideSoftInputFromWindow(v.getApplicationWindowToken(), InputMethodManager.HIDE_NOT_ALWAYS);\n    }\n}and to get the context fetch it from constructor:)public View/RelativeLayout/so and so (Context context, AttributeSet attrs, int defStyle) {\n    super(context, attrs, defStyle);\n    this.context = context;\n    init();\n}ShareImprove this answerFolloweditedApr 24, 2015 at 21:10community wiki2 revs, 2 users 76%Ash\n\nIf you want to close the soft keyboard during a unit or functional test, you can do so by clicking the ""back button"" from your test:// Close the soft keyboard from a Test\ngetInstrumentation().sendKeyDownUpSync(KeyEvent.KEYCODE_BACK);I put ""back button"" in quotes, since the above doesn\'t trigger theonBackPressed()for the Activity in question. It just closes the keyboard.Make sure to pause for a little while before moving on, since it takes a little while to close the back button, so subsequent clicks to Views, etc., won\'t be registered until after a short pause (1 second is long enough ime).ShareImprove this answerFolloweditedDec 13, 2011 at 21:55community wikiPeter Ajtai\n\nHere\'s how you do it in Mono for Android (AKA MonoDroid)InputMethodManager imm = GetSystemService (Context.InputMethodService) as InputMethodManager;\nif (imm != null)\n    imm.HideSoftInputFromWindow (searchbox.WindowToken , 0);ShareImprove this answerFollowansweredMay 15, 2012 at 1:36community wikiIan Vink\n\nThis worked for me for all the bizarre keyboard behaviorprivate boolean isKeyboardVisible() {\n    Rect r = new Rect();\n    //r will be populated with the coordinates of your view that area still visible.\n    mRootView.getWindowVisibleDisplayFrame(r);\n\n    int heightDiff = mRootView.getRootView().getHeight() - (r.bottom - r.top);\n    return heightDiff > 100; // if more than 100 pixels, its probably a keyboard...\n}\n\nprotected void showKeyboard() {\n    if (isKeyboardVisible())\n        return;\n    InputMethodManager inputMethodManager = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\n    if (getCurrentFocus() == null) {\n        inputMethodManager.toggleSoftInput(InputMethodManager.SHOW_FORCED, 0);\n    } else {\n        View view = getCurrentFocus();\n        inputMethodManager.showSoftInput(view, InputMethodManager.SHOW_FORCED);\n    }\n}\n\nprotected void hideKeyboard() {\n    if (!isKeyboardVisible())\n        return;\n    InputMethodManager inputMethodManager = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\n    View view = getCurrentFocus();\n    if (view == null) {\n        if (inputMethodManager.isAcceptingText())\n            inputMethodManager.toggleSoftInput(InputMethodManager.HIDE_NOT_ALWAYS, 0);\n    } else {\n        if (view instanceof EditText)\n            ((EditText) view).setText(((EditText) view).getText().toString()); // reset edit text bug on some keyboards bug\n        inputMethodManager.hideSoftInputFromInputMethod(view.getWindowToken(), InputMethodManager.HIDE_NOT_ALWAYS);\n    }\n}ShareImprove this answerFolloweditedApr 24, 2015 at 21:11community wiki4 revs, 3 users 89%Pinhassi\n\nSimple and Easy to use method, just callhideKeyboardFrom(YourActivity.this);to hide keyboard/**\n * This method is used to hide keyboard\n * @param activity\n */\npublic static void hideKeyboardFrom(Activity activity) {\n    InputMethodManager imm = (InputMethodManager) activity.getSystemService(Activity.INPUT_METHOD_SERVICE);\n    imm.hideSoftInputFromWindow(activity.getCurrentFocus().getWindowToken(), 0);\n}ShareImprove this answerFollowansweredFeb 21, 2017 at 6:52community wikiNaveed Ahmad\n\nKotlin version via an extension functionUsing Kotlin extension functions, it\'d be so simple to show and hide the soft keyboard.ExtensionFunctions.ktimport android.app.Activity\nimport android.view.View\nimport android.view.inputmethod.InputMethodManager\nimport android.widget.EditText\nimport androidx.fragment.app.Fragment\n\nfun Activity.hideKeyboard(): Boolean {\n    return (getSystemService(Activity.INPUT_METHOD_SERVICE) as InputMethodManager)\n        .hideSoftInputFromWindow((currentFocus ?: View(this)).windowToken, 0)\n}\n\nfun Fragment.hideKeyboard(): Boolean {\n    return (context?.getSystemService(Activity.INPUT_METHOD_SERVICE) as InputMethodManager)\n        .hideSoftInputFromWindow((activity?.currentFocus ?: View(context)).windowToken, 0)\n}\n\nfun EditText.hideKeyboard(): Boolean {\n    return (context.getSystemService(Activity.INPUT_METHOD_SERVICE) as InputMethodManager)\n        .hideSoftInputFromWindow(windowToken, 0)\n}\n\nfun EditText.showKeyboard(): Boolean {\n    return (context.getSystemService(Activity.INPUT_METHOD_SERVICE) as InputMethodManager)\n        .showSoftInput(this, 0)\n}UsageNow in yourActivityorFragment,hideKeyboard()is clearly accessible as well as calling it from an instance ofEditTextlike:editText.hideKeyboard()ShareImprove this answerFolloweditedOct 18, 2023 at 15:07community wiki2 revs, 2 users 89%aminography\n\nJust use this optimized code in your activity:if (this.getCurrentFocus() != null) {\n    InputMethodManager inputManager = (InputMethodManager) this.getSystemService(Context.INPUT_METHOD_SERVICE);\n    inputManager.hideSoftInputFromWindow(this.getCurrentFocus().getWindowToken(), InputMethodManager.HIDE_NOT_ALWAYS);\n}ShareImprove this answerFolloweditedApr 24, 2015 at 21:11community wiki2 revs, 2 users 75%Hamid FzM\n\nAdd to your activityandroid:windowSoftInputMode=""stateHidden""in Manifest file. Example:<activity\n            android:name="".ui.activity.MainActivity""\n            android:label=""@string/mainactivity""\n            android:windowSoftInputMode=""stateHidden""/>ShareImprove this answerFollowansweredFeb 4, 2016 at 12:21community wikiNickUnuchek\n\nFor Open Keyboard :InputMethodManager imm = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\nimm.showSoftInput(edtView, InputMethodManager.SHOW_IMPLICIT);For Close/Hide Keyboard :InputMethodManager imm = (InputMethodManager)getSystemService(Context.INPUT_METHOD_SERVICE);\n imm.hideSoftInputFromWindow(edtView.getWindowToken(), 0);ShareImprove this answerFollowansweredFeb 5, 2015 at 12:39community wikiGirish Patel\n\nI have the case, where myEditTextcan be located also in anAlertDialog, so the keyboard should be closed on dismiss. The following code seems to be working anywhere:public static void hideKeyboard( Activity activity ) {\n    InputMethodManager imm = (InputMethodManager)activity.getSystemService( Context.INPUT_METHOD_SERVICE );\n    View f = activity.getCurrentFocus();\n    if( null != f && null != f.getWindowToken() && EditText.class.isAssignableFrom( f.getClass() ) )\n        imm.hideSoftInputFromWindow( f.getWindowToken(), 0 );\n    else \n        activity.getWindow().setSoftInputMode( WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_HIDDEN );\n}ShareImprove this answerFolloweditedApr 24, 2015 at 21:12community wiki3 revs, 2 users 78%injecteer'}","{'title': 'How do I check whether a checkbox is checked in jQuery?', 'question': 'I need to check thecheckedproperty of a checkbox and perform an action based on the checked property using jQuery.For example, if theagecheckbox is checked, then I need to show a textbox to enterage, else hide the textbox.But the following code returnsfalseby default:if ($(\'#isAgeSelected\').attr(\'checked\')) {\n  $(""#txtAge"").show();\n} else {\n  $(""#txtAge"").hide();\n}<script src=""https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js""></script>\n<input type=""checkbox"" id=""isAgeSelected""/>\n<div id=""txtAge"" style=""display:none"">\n  Age is selected\n</div>How do I successfully query thecheckedproperty?javascriptjqueryhtmlcheckboxShareImprove this questionFolloweditedFeb 20, 2021 at 0:03community wiki27 revs, 20 users 21%Prasad', 'answers': 'How do I successfully query the checked property?Thecheckedproperty of a checkbox DOM element will give you thecheckedstate of the element.Given your existing code, you could therefore do this:if(document.getElementById(\'isAgeSelected\').checked) {\n    $(""#txtAge"").show();\n} else {\n    $(""#txtAge"").hide();\n}However, there\'s a much prettier way to do this, usingtoggle:$(\'#isAgeSelected\').click(function() {\r\n    $(""#txtAge"").toggle(this.checked);\r\n});<script src=""https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js""></script>\r\n<input type=""checkbox"" id=""isAgeSelected""/>\r\n<div id=""txtAge"" style=""display:none"">Age is something</div>ShareImprove this answerFolloweditedMar 9, 2018 at 2:06community wiki11 revs, 9 users 36%karim79\n\nUse jQuery\'sis()function:if($(""#isAgeSelected"").is(\':checked\'))\n    $(""#txtAge"").show();  // checked\nelse\n    $(""#txtAge"").hide();  // uncheckedShareImprove this answerFolloweditedJul 24, 2022 at 23:16community wiki4 revs, 3 users 72%Bhanu Krishnan\n\nUsing jQuery > 1.6<input type=""checkbox"" value=""1"" name=""checkMeOut"" id=""checkMeOut"" checked=""checked"" />\n\n// traditional attr\n$(\'#checkMeOut\').attr(\'checked\'); // ""checked""\n// new property method\n$(\'#checkMeOut\').prop(\'checked\'); // trueUsing the new property method:if($(\'#checkMeOut\').prop(\'checked\')) {\n    // something when checked\n} else {\n    // something else when not\n}ShareImprove this answerFollowansweredJun 23, 2011 at 17:29community wikiSeanDowney\n\njQuery 1.6+$(\'#isAgeSelected\').prop(\'checked\')jQuery 1.5 and below$(\'#isAgeSelected\').attr(\'checked\')Any version of jQuery// Assuming an event handler on a checkbox\nif (this.checked)All credit goes toXian.ShareImprove this answerFolloweditedMay 23, 2017 at 12:26community wiki4 revs, 3 users 81%ungalcrys\n\nI am using this and this is working absolutely fine:$(""#checkkBoxId"").attr(""checked"") ? alert(""Checked"") : alert(""Unchecked"");Note: If the checkbox is checked it will return true otherwise undefined, so better check for the ""TRUE"" value.ShareImprove this answerFolloweditedMay 7, 2014 at 12:18community wiki3 revs, 3 users 71%Pradeep\n\nUse:<input type=""checkbox"" name=""planned_checked"" checked id=""planned_checked""> Planned\n\n$(""#planned_checked"").change(function() {\n    if($(this).prop(\'checked\')) {\n        alert(""Checked Box Selected"");\n    } else {\n        alert(""Checked Box deselect"");\n    }\n});$(""#planned_checked"").change(function() {\r\n        if($(this).prop(\'checked\')) {\r\n            alert(""Checked Box Selected"");\r\n        } else {\r\n            alert(""Checked Box deselect"");\r\n        }\r\n    });<script src=""https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js""></script>\r\n<input type=""checkbox"" name=""planned_checked"" checked id=""planned_checked""> PlannedShareImprove this answerFolloweditedJun 15, 2018 at 7:16community wiki4 revs, 4 users 39%Lalji Dhameliya\n\nSince jQuery 1.6, the behavior ofjQuery.attr()has changed and users are encouraged  not to use it to retrieve an element\'s checked state. Instead, you should usejQuery.prop():$(""#txtAge"").toggle(\n    $(""#isAgeSelected"").prop(""checked"") // For checked attribute it returns true/false;\n                                        // Return value changes with checkbox state\n);Two other possibilities are:$(""#txtAge"").get(0).checked\n$(""#txtAge"").is("":checked"")ShareImprove this answerFolloweditedOct 30, 2016 at 17:10community wiki3 revs, 2 users 81%Salman A\n\nThis worked for me:$get(""isAgeSelected "").checked == trueWhereisAgeSelectedis the id of the control.Also, @karim79\'sanswerworks fine. I am not sure what I missed at the time I tested it.Note, this is answer uses Microsoft Ajax, not jQueryShareImprove this answerFolloweditedMay 23, 2017 at 12:34community wiki6 revs, 4 users 62%Prasad\n\nIf you are using an updated version of jquery, you must go for.propmethod to resolve your issue:$(\'#isAgeSelected\').prop(\'checked\')will returntrueif checked andfalseif unchecked. I confirmed it and I came across this issue earlier.$(\'#isAgeSelected\').attr(\'checked\')and$(\'#isAgeSelected\').is(\'checked\')is returningundefinedwhich is not a worthy answer for the situation. So do as given below.if($(\'#isAgeSelected\').prop(\'checked\')) {\n    $(""#txtAge"").show();\n} else {\n    $(""#txtAge"").hide();\n}ShareImprove this answerFolloweditedMar 22, 2022 at 15:20community wiki3 revs, 2 users 95%Rajesh Omanakuttan\n\nUse:<input type=""checkbox"" id=""abc"" value=""UDB"">UDB\n<input type=""checkbox"" id=""abc"" value=""Prasad"">Prasad$(\'input#abc\').click(function(){\n  if($(this).is(\':checked\'))\n  {\n    var checkedOne=$(this).val()\n    alert(checkedOne);\n\n    // Do some other action\n  }\n})This can help if you want that the required action has to be done only when you check the box not at the time you remove the check.ShareImprove this answerFolloweditedOct 29, 2018 at 10:25community wiki3 revs, 3 users 81%UDB\n\nYou can try thechangeevent of checkbox to track the:checkedstate change.$(""#isAgeSelected"").on(\'change\', function() {\n  if ($(""#isAgeSelected"").is(\':checked\'))\n    alert(""checked"");\n  else {\n    alert(""unchecked"");\n  }\n});<script src=""https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js""></script>\n<input type=""checkbox"" id=""isAgeSelected"" />\n<div id=""txtAge"" style=""display:none"">\n  Age is selected\n</div>ShareImprove this answerFolloweditedSep 23, 2020 at 15:39community wiki2 revs, 2 users 55%kabirbaidhya\n\nUsing theClickevent handler for the checkbox property is unreliable, as thecheckedproperty can change during the execution of the event handler itself!Ideally, you\'d want to put your code into achangeevent handler such as it is fired every time the value of the check box is changed (independent ofhowit\'s done so).$(\'#isAgeSelected\').bind(\'change\', function () {\n\n   if ($(this).is(\':checked\'))\n     $(""#txtAge"").show();\n   else\n     $(""#txtAge"").hide();\n});ShareImprove this answerFolloweditedOct 30, 2016 at 17:09community wiki2 revs, 2 users 75%arviman\n\nI ran in to the exact same issue. I have an ASP.NET checkbox<asp:CheckBox ID=""chkBox1"" CssClass=\'cssChkBox1\' runat=""server"" />In the jQuery code I used the following selector to check if the checkbox was checked or not, and it seems to work like a charm.if ($(""\'.cssChkBox1 input[type=checkbox]\'"").is(\':checked\'))\n{ ... } else { ... }I\'m sure you can also use the ID instead of the CssClass,if ($(""\'#cssChkBox1 input[type=checkbox]\'"").is(\':checked\'))\n{ ... } else { ... }I hope this helps you.ShareImprove this answerFolloweditedMay 25, 2011 at 10:59community wikiNertim\n\nI believe you could do this:if ($(\'#isAgeSelected :checked\').size() > 0)\n{\n    $(""#txtAge"").show(); \n} else { \n    $(""#txtAge"").hide();\n}ShareImprove this answerFollowansweredMay 23, 2009 at 15:34community wikixenon\n\nI decided to post an answer on how to do that exact same thing without jQuery. Just because I\'m a rebel.var ageCheckbox = document.getElementById(\'isAgeSelected\');\nvar ageInput = document.getElementById(\'txtAge\');\n\n// Just because of IE <333\nageCheckbox.onchange = function() {\n    // Check if the checkbox is checked, and show/hide the text field.\n    ageInput.hidden = this.checked ? false : true;\n};First you get both elements by their ID. Then you assign the checkboxe\'sonchangeevent a function that checks whether the checkbox got checked and sets thehiddenproperty of the age text field appropriately. In that example using the ternary operator.Here is afiddlefor you to test it.AddendumIf cross-browser compatibility is an issue then I propose to set the CSSdisplayproperty tononeandinline.elem.style.display = this.checked ? \'inline\' : \'none\';Slower but cross-browser compatible.ShareImprove this answerFolloweditedApr 5, 2012 at 15:50community wikiOctavian Helm\n\nThis code will help you$(\'#isAgeSelected\').click(function(){\n   console.log(this.checked);\n   if(this.checked == true) {\n        $(""#txtAge"").show();\n    } else {\n       $(""#txtAge"").hide();\n   }\n});ShareImprove this answerFolloweditedSep 3, 2019 at 4:01community wiki5 revs, 2 users 91%sandeep kumar\n\nThis works for me:/* isAgeSelected being id for checkbox */\n\n$(""#isAgeSelected"").click(function(){\n  $(this).is(\':checked\') ? $(""#txtAge"").show() : $(""#txtAge"").hide();\n});ShareImprove this answerFolloweditedOct 30, 2016 at 17:08community wiki3 revs, 3 users 60%ashish amatya\n\nThere are many ways to check if a checkbox is checked or not:Way to check using jQueryif (elem.checked)\nif ($(elem).prop(""checked""))\nif ($(elem).is("":checked""))\nif ($(elem).attr(\'checked\'))Check example or also document:http://api.jquery.com/attr/http://api.jquery.com/prop/ShareImprove this answerFolloweditedOct 30, 2016 at 17:30community wiki2 revs, 2 users 78%Parth Chavda\n\nThis is some different method to do the same thing:$(document).ready(function (){\r\n\r\n    $(\'#isAgeSelected\').click(function() {\r\n        // $(""#txtAge"").toggle(this.checked);\r\n\r\n        // Using a pure CSS selector\r\n        if ($(this.checked)) {\r\n            alert(\'on check 1\');\r\n        };\r\n\r\n        // Using jQuery\'s is() method\r\n        if ($(this).is(\':checked\')) {\r\n            alert(\'on checked 2\');\r\n        };\r\n\r\n        //  // Using jQuery\'s filter() method\r\n        if ($(this).filter(\':checked\')) {\r\n            alert(\'on checked 3\');\r\n        };\r\n    });\r\n});<script src=""http://code.jquery.com/jquery-1.9.1.js""></script>\r\n<input type=""checkbox"" id=""isAgeSelected""/>\r\n<div id=""txtAge"" style=""display:none"">Age is something</div>ShareImprove this answerFolloweditedOct 30, 2016 at 17:34community wiki2 revs, 2 users 79%Sangeet Shah\n\nUse this:if ($(\'input[name=""salary_in.Basic""]:checked\').length > 0)The length is greater than zero if the checkbox is checked.ShareImprove this answerFolloweditedJan 16, 2017 at 8:51community wiki3 revs, 3 users 55%Hamid N K\n\nMy way of doing this is:if ( $(""#checkbox:checked"").length ) {       \n    alert(""checkbox is checked"");\n} else {\n    alert(""checkbox is not checked"");\n}ShareImprove this answerFolloweditedApr 6, 2015 at 20:52community wiki2 revs, 2 users 80%Dalius I\n\n$(selector).attr(\'checked\') !== undefinedThis returnstrueif the input is checked andfalseif it is not.ShareImprove this answerFolloweditedMar 21, 2013 at 11:13community wikife_lix_\n\nYou can use:if(document.getElementById(\'isAgeSelected\').checked)\n    $(""#txtAge"").show();  \n  else\n    $(""#txtAge"").hide();if($(""#isAgeSelected"").is(\':checked\'))\n  $(""#txtAge"").show();  \nelse\n  $(""#txtAge"").hide();Both of them should work.ShareImprove this answerFolloweditedSep 21, 2016 at 15:21community wiki2 revs, 2 users 97%Muhammad Awais\n\n$(document).ready(function() {    \n    $(\'#agecheckbox\').click(function() {\n        if($(this).is("":checked""))\n        {\n            $(\'#agetextbox\').show();\n        } else {\n            $(\'#agetextbox\').hide();\n        }\n    });\n});ShareImprove this answerFolloweditedNov 26, 2014 at 15:07community wiki3 revs, 2 users 78%Jumper Pot\n\n1) If your HTML markup is:<input type=""checkbox""  />attr used:$(element).attr(""checked""); // Will give you undefined as initial value of checkbox is not setIf prop is used:$(element).prop(""checked""); // Will give you false whether or not initial value is set2) If your HTML markup is:<input type=""checkbox""  checked=""checked"" />// May be like this also  checked=""true""attr used:$(element).attr(""checked"") // Will return checked whether it is checked=""true""Prop used:$(element).prop(""checked"") // Will return true whether checked=""checked""ShareImprove this answerFolloweditedOct 30, 2016 at 17:25community wiki3 revs, 3 users 77%Somnath Kharat\n\nTo act on a checkbox being checked or unchecked on click.$(\'#customCheck1\').click(function() {\n  if (this.checked) {\n    console.log(\'checked\');\n  } else {\n    console.log(\'un-checked\');\n  }\n});<script src=""https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js""></script>\n\n<input type=""checkbox"" id=""customCheck1"">EDIT: Not a nice programming expressionif (boolean == true)though.checkedproperty might return other type variables as well..It is better to use.prop(""checked"")instead. It returnstrueandfalseonly.ShareImprove this answerFolloweditedSep 23, 2020 at 15:36community wiki5 revs, 4 users 44%Dan Walters\n\nThis example is for button.Try the following:<input type=""button"" class=""check"" id=""checkall"" value=""Check All"" />  &nbsp; <input type=""button"" id=""remove"" value=""Delete"" /> <br/>\n\n<input type=""checkbox"" class=""cb-element""  value=""1"" /> Checkbox  1 <br/>\n<input type=""checkbox"" class=""cb-element""  value=""2"" /> Checkbox  2 <br/>\n<input type=""checkbox"" class=""cb-element""  value=""3"" /> Checkbox  3 <br/>\n\n\n$(\'#remove\').attr(\'disabled\', \'disabled\'); \n\n$(document).ready(function() {  \n\n    $(\'.cb-element\').click(function() {\n\n        if($(this).prop(\'checked\'))\n        {\n            $(\'#remove\').attr(\'disabled\', false);\n        }\n        else\n        {\n            $(\'#remove\').attr(\'disabled\', true);\n        }\n    });   \n\n    $(\'.check:button\').click(function()\n{\n    var checked = !$(this).data(\'checked\');\n    $(\'input:checkbox\').prop(\'checked\', checked);\n    $(this).data(\'checked\', checked);\n\n    if(checked == true)\n    {\n        $(this).val(\'Uncheck All\');\n         $(\'#remove\').attr(\'disabled\', false);\n    }\n\n    else if(checked == false)\n    {\n        $(this).val(\'Check All\');\n        $(\'#remove\').attr(\'disabled\', true);\n    }\n});\n});ShareImprove this answerFolloweditedJun 2, 2016 at 14:17community wiki2 revs, 2 users 97%usayee\n\nThe top answer didn\'t do it for me. This did though:<script type=""text/javascript"">\n    $(document).ready(function(){\n\n        $(""#li_13"").click(function(){\n            if($(""#agree"").attr(\'checked\')){\n                $(""#saveForm"").fadeIn();\n            }\n            else\n            {\n                $(""#saveForm"").fadeOut();\n            }\n        });\n    });\n</script>Basically when the element #li_13 is clicked, it checks if the element # agree (which is the checkbox) is checked by using the.attr(\'checked\')function. If it is then fadeIn the #saveForm element, and if not fadeOut the saveForm element.ShareImprove this answerFolloweditedOct 30, 2016 at 17:12community wiki4 revs, 2 users 72%BigHomie\n\nThough you have proposed a JavaScript solution for your problem (displaying atextboxwhen acheckboxischecked), this problem could be solvedjust by css. With this approach, your form works for users who have disabled JavaScript.Assuming that you have the following HTML:<label for=""show_textbox"">Show Textbox</label>\n<input id=""show_textbox"" type=""checkbox"" />\n<input type=""text"" />You can use the following CSS to achieve the desired functionality:#show_textbox:not(:checked) + input[type=text] {display:none;}For other scenarios, you may think of appropriate CSS selectors.Here is a Fiddle to demonstrate this approach.ShareImprove this answerFolloweditedOct 30, 2016 at 17:32community wiki4 revs, 2 users 88%Ormoz\n\nI am using this:<input type=""checkbox"" id=""isAgeSelected"" value=""1"" /> <br/>\n <input type=""textbox"" id=""txtAge"" />\n\n $(""#isAgeSelected"").is(\':checked\') ? $(""#txtAge"").show() : $(""#txtAge"").hide();ShareImprove this answerFolloweditedOct 30, 2016 at 17:22community wiki2 revs, 2 users 71%Nishant'}","{'title': 'How do I check whether a checkbox is checked in jQuery?', 'question': 'I need to check thecheckedproperty of a checkbox and perform an action based on the checked property using jQuery.For example, if theagecheckbox is checked, then I need to show a textbox to enterage, else hide the textbox.But the following code returnsfalseby default:if ($(\'#isAgeSelected\').attr(\'checked\')) {\n  $(""#txtAge"").show();\n} else {\n  $(""#txtAge"").hide();\n}<script src=""https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js""></script>\n<input type=""checkbox"" id=""isAgeSelected""/>\n<div id=""txtAge"" style=""display:none"">\n  Age is selected\n</div>How do I successfully query thecheckedproperty?javascriptjqueryhtmlcheckboxShareImprove this questionFolloweditedFeb 20, 2021 at 0:03community wiki27 revs, 20 users 21%Prasad', 'answers': 'How do I successfully query the checked property?Thecheckedproperty of a checkbox DOM element will give you thecheckedstate of the element.Given your existing code, you could therefore do this:if(document.getElementById(\'isAgeSelected\').checked) {\n    $(""#txtAge"").show();\n} else {\n    $(""#txtAge"").hide();\n}However, there\'s a much prettier way to do this, usingtoggle:$(\'#isAgeSelected\').click(function() {\r\n    $(""#txtAge"").toggle(this.checked);\r\n});<script src=""https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js""></script>\r\n<input type=""checkbox"" id=""isAgeSelected""/>\r\n<div id=""txtAge"" style=""display:none"">Age is something</div>ShareImprove this answerFolloweditedMar 9, 2018 at 2:06community wiki11 revs, 9 users 36%karim79\n\nUse jQuery\'sis()function:if($(""#isAgeSelected"").is(\':checked\'))\n    $(""#txtAge"").show();  // checked\nelse\n    $(""#txtAge"").hide();  // uncheckedShareImprove this answerFolloweditedJul 24, 2022 at 23:16community wiki4 revs, 3 users 72%Bhanu Krishnan\n\nUsing jQuery > 1.6<input type=""checkbox"" value=""1"" name=""checkMeOut"" id=""checkMeOut"" checked=""checked"" />\n\n// traditional attr\n$(\'#checkMeOut\').attr(\'checked\'); // ""checked""\n// new property method\n$(\'#checkMeOut\').prop(\'checked\'); // trueUsing the new property method:if($(\'#checkMeOut\').prop(\'checked\')) {\n    // something when checked\n} else {\n    // something else when not\n}ShareImprove this answerFollowansweredJun 23, 2011 at 17:29community wikiSeanDowney\n\njQuery 1.6+$(\'#isAgeSelected\').prop(\'checked\')jQuery 1.5 and below$(\'#isAgeSelected\').attr(\'checked\')Any version of jQuery// Assuming an event handler on a checkbox\nif (this.checked)All credit goes toXian.ShareImprove this answerFolloweditedMay 23, 2017 at 12:26community wiki4 revs, 3 users 81%ungalcrys\n\nI am using this and this is working absolutely fine:$(""#checkkBoxId"").attr(""checked"") ? alert(""Checked"") : alert(""Unchecked"");Note: If the checkbox is checked it will return true otherwise undefined, so better check for the ""TRUE"" value.ShareImprove this answerFolloweditedMay 7, 2014 at 12:18community wiki3 revs, 3 users 71%Pradeep\n\nUse:<input type=""checkbox"" name=""planned_checked"" checked id=""planned_checked""> Planned\n\n$(""#planned_checked"").change(function() {\n    if($(this).prop(\'checked\')) {\n        alert(""Checked Box Selected"");\n    } else {\n        alert(""Checked Box deselect"");\n    }\n});$(""#planned_checked"").change(function() {\r\n        if($(this).prop(\'checked\')) {\r\n            alert(""Checked Box Selected"");\r\n        } else {\r\n            alert(""Checked Box deselect"");\r\n        }\r\n    });<script src=""https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js""></script>\r\n<input type=""checkbox"" name=""planned_checked"" checked id=""planned_checked""> PlannedShareImprove this answerFolloweditedJun 15, 2018 at 7:16community wiki4 revs, 4 users 39%Lalji Dhameliya\n\nSince jQuery 1.6, the behavior ofjQuery.attr()has changed and users are encouraged  not to use it to retrieve an element\'s checked state. Instead, you should usejQuery.prop():$(""#txtAge"").toggle(\n    $(""#isAgeSelected"").prop(""checked"") // For checked attribute it returns true/false;\n                                        // Return value changes with checkbox state\n);Two other possibilities are:$(""#txtAge"").get(0).checked\n$(""#txtAge"").is("":checked"")ShareImprove this answerFolloweditedOct 30, 2016 at 17:10community wiki3 revs, 2 users 81%Salman A\n\nThis worked for me:$get(""isAgeSelected "").checked == trueWhereisAgeSelectedis the id of the control.Also, @karim79\'sanswerworks fine. I am not sure what I missed at the time I tested it.Note, this is answer uses Microsoft Ajax, not jQueryShareImprove this answerFolloweditedMay 23, 2017 at 12:34community wiki6 revs, 4 users 62%Prasad\n\nIf you are using an updated version of jquery, you must go for.propmethod to resolve your issue:$(\'#isAgeSelected\').prop(\'checked\')will returntrueif checked andfalseif unchecked. I confirmed it and I came across this issue earlier.$(\'#isAgeSelected\').attr(\'checked\')and$(\'#isAgeSelected\').is(\'checked\')is returningundefinedwhich is not a worthy answer for the situation. So do as given below.if($(\'#isAgeSelected\').prop(\'checked\')) {\n    $(""#txtAge"").show();\n} else {\n    $(""#txtAge"").hide();\n}ShareImprove this answerFolloweditedMar 22, 2022 at 15:20community wiki3 revs, 2 users 95%Rajesh Omanakuttan\n\nUse:<input type=""checkbox"" id=""abc"" value=""UDB"">UDB\n<input type=""checkbox"" id=""abc"" value=""Prasad"">Prasad$(\'input#abc\').click(function(){\n  if($(this).is(\':checked\'))\n  {\n    var checkedOne=$(this).val()\n    alert(checkedOne);\n\n    // Do some other action\n  }\n})This can help if you want that the required action has to be done only when you check the box not at the time you remove the check.ShareImprove this answerFolloweditedOct 29, 2018 at 10:25community wiki3 revs, 3 users 81%UDB\n\nYou can try thechangeevent of checkbox to track the:checkedstate change.$(""#isAgeSelected"").on(\'change\', function() {\n  if ($(""#isAgeSelected"").is(\':checked\'))\n    alert(""checked"");\n  else {\n    alert(""unchecked"");\n  }\n});<script src=""https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js""></script>\n<input type=""checkbox"" id=""isAgeSelected"" />\n<div id=""txtAge"" style=""display:none"">\n  Age is selected\n</div>ShareImprove this answerFolloweditedSep 23, 2020 at 15:39community wiki2 revs, 2 users 55%kabirbaidhya\n\nUsing theClickevent handler for the checkbox property is unreliable, as thecheckedproperty can change during the execution of the event handler itself!Ideally, you\'d want to put your code into achangeevent handler such as it is fired every time the value of the check box is changed (independent ofhowit\'s done so).$(\'#isAgeSelected\').bind(\'change\', function () {\n\n   if ($(this).is(\':checked\'))\n     $(""#txtAge"").show();\n   else\n     $(""#txtAge"").hide();\n});ShareImprove this answerFolloweditedOct 30, 2016 at 17:09community wiki2 revs, 2 users 75%arviman\n\nI ran in to the exact same issue. I have an ASP.NET checkbox<asp:CheckBox ID=""chkBox1"" CssClass=\'cssChkBox1\' runat=""server"" />In the jQuery code I used the following selector to check if the checkbox was checked or not, and it seems to work like a charm.if ($(""\'.cssChkBox1 input[type=checkbox]\'"").is(\':checked\'))\n{ ... } else { ... }I\'m sure you can also use the ID instead of the CssClass,if ($(""\'#cssChkBox1 input[type=checkbox]\'"").is(\':checked\'))\n{ ... } else { ... }I hope this helps you.ShareImprove this answerFolloweditedMay 25, 2011 at 10:59community wikiNertim\n\nI believe you could do this:if ($(\'#isAgeSelected :checked\').size() > 0)\n{\n    $(""#txtAge"").show(); \n} else { \n    $(""#txtAge"").hide();\n}ShareImprove this answerFollowansweredMay 23, 2009 at 15:34community wikixenon\n\nI decided to post an answer on how to do that exact same thing without jQuery. Just because I\'m a rebel.var ageCheckbox = document.getElementById(\'isAgeSelected\');\nvar ageInput = document.getElementById(\'txtAge\');\n\n// Just because of IE <333\nageCheckbox.onchange = function() {\n    // Check if the checkbox is checked, and show/hide the text field.\n    ageInput.hidden = this.checked ? false : true;\n};First you get both elements by their ID. Then you assign the checkboxe\'sonchangeevent a function that checks whether the checkbox got checked and sets thehiddenproperty of the age text field appropriately. In that example using the ternary operator.Here is afiddlefor you to test it.AddendumIf cross-browser compatibility is an issue then I propose to set the CSSdisplayproperty tononeandinline.elem.style.display = this.checked ? \'inline\' : \'none\';Slower but cross-browser compatible.ShareImprove this answerFolloweditedApr 5, 2012 at 15:50community wikiOctavian Helm\n\nThis code will help you$(\'#isAgeSelected\').click(function(){\n   console.log(this.checked);\n   if(this.checked == true) {\n        $(""#txtAge"").show();\n    } else {\n       $(""#txtAge"").hide();\n   }\n});ShareImprove this answerFolloweditedSep 3, 2019 at 4:01community wiki5 revs, 2 users 91%sandeep kumar\n\nThis works for me:/* isAgeSelected being id for checkbox */\n\n$(""#isAgeSelected"").click(function(){\n  $(this).is(\':checked\') ? $(""#txtAge"").show() : $(""#txtAge"").hide();\n});ShareImprove this answerFolloweditedOct 30, 2016 at 17:08community wiki3 revs, 3 users 60%ashish amatya\n\nThere are many ways to check if a checkbox is checked or not:Way to check using jQueryif (elem.checked)\nif ($(elem).prop(""checked""))\nif ($(elem).is("":checked""))\nif ($(elem).attr(\'checked\'))Check example or also document:http://api.jquery.com/attr/http://api.jquery.com/prop/ShareImprove this answerFolloweditedOct 30, 2016 at 17:30community wiki2 revs, 2 users 78%Parth Chavda\n\nThis is some different method to do the same thing:$(document).ready(function (){\r\n\r\n    $(\'#isAgeSelected\').click(function() {\r\n        // $(""#txtAge"").toggle(this.checked);\r\n\r\n        // Using a pure CSS selector\r\n        if ($(this.checked)) {\r\n            alert(\'on check 1\');\r\n        };\r\n\r\n        // Using jQuery\'s is() method\r\n        if ($(this).is(\':checked\')) {\r\n            alert(\'on checked 2\');\r\n        };\r\n\r\n        //  // Using jQuery\'s filter() method\r\n        if ($(this).filter(\':checked\')) {\r\n            alert(\'on checked 3\');\r\n        };\r\n    });\r\n});<script src=""http://code.jquery.com/jquery-1.9.1.js""></script>\r\n<input type=""checkbox"" id=""isAgeSelected""/>\r\n<div id=""txtAge"" style=""display:none"">Age is something</div>ShareImprove this answerFolloweditedOct 30, 2016 at 17:34community wiki2 revs, 2 users 79%Sangeet Shah\n\nUse this:if ($(\'input[name=""salary_in.Basic""]:checked\').length > 0)The length is greater than zero if the checkbox is checked.ShareImprove this answerFolloweditedJan 16, 2017 at 8:51community wiki3 revs, 3 users 55%Hamid N K\n\nMy way of doing this is:if ( $(""#checkbox:checked"").length ) {       \n    alert(""checkbox is checked"");\n} else {\n    alert(""checkbox is not checked"");\n}ShareImprove this answerFolloweditedApr 6, 2015 at 20:52community wiki2 revs, 2 users 80%Dalius I\n\n$(selector).attr(\'checked\') !== undefinedThis returnstrueif the input is checked andfalseif it is not.ShareImprove this answerFolloweditedMar 21, 2013 at 11:13community wikife_lix_\n\nYou can use:if(document.getElementById(\'isAgeSelected\').checked)\n    $(""#txtAge"").show();  \n  else\n    $(""#txtAge"").hide();if($(""#isAgeSelected"").is(\':checked\'))\n  $(""#txtAge"").show();  \nelse\n  $(""#txtAge"").hide();Both of them should work.ShareImprove this answerFolloweditedSep 21, 2016 at 15:21community wiki2 revs, 2 users 97%Muhammad Awais\n\n$(document).ready(function() {    \n    $(\'#agecheckbox\').click(function() {\n        if($(this).is("":checked""))\n        {\n            $(\'#agetextbox\').show();\n        } else {\n            $(\'#agetextbox\').hide();\n        }\n    });\n});ShareImprove this answerFolloweditedNov 26, 2014 at 15:07community wiki3 revs, 2 users 78%Jumper Pot\n\n1) If your HTML markup is:<input type=""checkbox""  />attr used:$(element).attr(""checked""); // Will give you undefined as initial value of checkbox is not setIf prop is used:$(element).prop(""checked""); // Will give you false whether or not initial value is set2) If your HTML markup is:<input type=""checkbox""  checked=""checked"" />// May be like this also  checked=""true""attr used:$(element).attr(""checked"") // Will return checked whether it is checked=""true""Prop used:$(element).prop(""checked"") // Will return true whether checked=""checked""ShareImprove this answerFolloweditedOct 30, 2016 at 17:25community wiki3 revs, 3 users 77%Somnath Kharat\n\nTo act on a checkbox being checked or unchecked on click.$(\'#customCheck1\').click(function() {\n  if (this.checked) {\n    console.log(\'checked\');\n  } else {\n    console.log(\'un-checked\');\n  }\n});<script src=""https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js""></script>\n\n<input type=""checkbox"" id=""customCheck1"">EDIT: Not a nice programming expressionif (boolean == true)though.checkedproperty might return other type variables as well..It is better to use.prop(""checked"")instead. It returnstrueandfalseonly.ShareImprove this answerFolloweditedSep 23, 2020 at 15:36community wiki5 revs, 4 users 44%Dan Walters\n\nThis example is for button.Try the following:<input type=""button"" class=""check"" id=""checkall"" value=""Check All"" />  &nbsp; <input type=""button"" id=""remove"" value=""Delete"" /> <br/>\n\n<input type=""checkbox"" class=""cb-element""  value=""1"" /> Checkbox  1 <br/>\n<input type=""checkbox"" class=""cb-element""  value=""2"" /> Checkbox  2 <br/>\n<input type=""checkbox"" class=""cb-element""  value=""3"" /> Checkbox  3 <br/>\n\n\n$(\'#remove\').attr(\'disabled\', \'disabled\'); \n\n$(document).ready(function() {  \n\n    $(\'.cb-element\').click(function() {\n\n        if($(this).prop(\'checked\'))\n        {\n            $(\'#remove\').attr(\'disabled\', false);\n        }\n        else\n        {\n            $(\'#remove\').attr(\'disabled\', true);\n        }\n    });   \n\n    $(\'.check:button\').click(function()\n{\n    var checked = !$(this).data(\'checked\');\n    $(\'input:checkbox\').prop(\'checked\', checked);\n    $(this).data(\'checked\', checked);\n\n    if(checked == true)\n    {\n        $(this).val(\'Uncheck All\');\n         $(\'#remove\').attr(\'disabled\', false);\n    }\n\n    else if(checked == false)\n    {\n        $(this).val(\'Check All\');\n        $(\'#remove\').attr(\'disabled\', true);\n    }\n});\n});ShareImprove this answerFolloweditedJun 2, 2016 at 14:17community wiki2 revs, 2 users 97%usayee\n\nThe top answer didn\'t do it for me. This did though:<script type=""text/javascript"">\n    $(document).ready(function(){\n\n        $(""#li_13"").click(function(){\n            if($(""#agree"").attr(\'checked\')){\n                $(""#saveForm"").fadeIn();\n            }\n            else\n            {\n                $(""#saveForm"").fadeOut();\n            }\n        });\n    });\n</script>Basically when the element #li_13 is clicked, it checks if the element # agree (which is the checkbox) is checked by using the.attr(\'checked\')function. If it is then fadeIn the #saveForm element, and if not fadeOut the saveForm element.ShareImprove this answerFolloweditedOct 30, 2016 at 17:12community wiki4 revs, 2 users 72%BigHomie\n\nThough you have proposed a JavaScript solution for your problem (displaying atextboxwhen acheckboxischecked), this problem could be solvedjust by css. With this approach, your form works for users who have disabled JavaScript.Assuming that you have the following HTML:<label for=""show_textbox"">Show Textbox</label>\n<input id=""show_textbox"" type=""checkbox"" />\n<input type=""text"" />You can use the following CSS to achieve the desired functionality:#show_textbox:not(:checked) + input[type=text] {display:none;}For other scenarios, you may think of appropriate CSS selectors.Here is a Fiddle to demonstrate this approach.ShareImprove this answerFolloweditedOct 30, 2016 at 17:32community wiki4 revs, 2 users 88%Ormoz\n\nI am using this:<input type=""checkbox"" id=""isAgeSelected"" value=""1"" /> <br/>\n <input type=""textbox"" id=""txtAge"" />\n\n $(""#isAgeSelected"").is(\':checked\') ? $(""#txtAge"").show() : $(""#txtAge"").hide();ShareImprove this answerFolloweditedOct 30, 2016 at 17:22community wiki2 revs, 2 users 71%Nishant'}","{'title': 'The Definitive C++ Book Guide and List', 'question': ""This question's answers are acommunity effort. Edit existing answers to improve this post. It is not currently accepting new answers or interactions.This question attempts to collect the few pearls among the dozens of bad C++ books that are published every year.Unlike many other programming languages, which are often picked up on the go from tutorials found on the Internet, few are able to quickly pick up C++ without studying a well-written C++ book. It is way too big and complex for doing this. In fact, it is so big and complex, thatthere are very many very bad C++ booksout there. And we are not talking about bad style, but things like sportingglaringly obvious factual errorsandpromoting abysmally bad programming styles.Please edit the accepted answer to providequality booksand an approximate skill level —preferablyafterdiscussing your addition inthe C++ chat room. (The regulars might mercilessly undo your work if they disagree with a recommendation.) Add a short blurb/description about each book that you have personally read/benefited from. Feel free to debate quality, headings, etc. Books that meet the criteria will be added to the list.  Books that have reviews by the Association of C and C++ Users (ACCU) have links to the review.*Note: FAQs and other resources can be found in theC++ tag infoand underc++-faq.c++c++-faqShareFolloweditedJan 18, 2021 at 12:34community wiki97 revs, 53 users 23%sbi"", 'answers': 'BeginnerIntroductory, no previous programming experienceBookAuthor(s)DescriptionreviewC++ Primer** Not to be confused withC++ Primer Plus(Stephen Prata), with a significantly less favorablereview.Stanley Lippman, Josée Lajoie, and Barbara E. Moo  (updated for C++11)Coming at 1k pages, this is a very thorough introduction into C++ that covers just about everything in the language in a very accessible format and in great detail. The fifth edition (released August 16, 2012) covers C++11.[Review]Programming: Principles and Practice Using C++Bjarne Stroustrup, 3rd Edition - April 22, 2024 (updated for C++20/C++23)An introduction to programming using C++ by the creator of the language. A good read, that assumes no previous programming experience, but is not only for beginners.Introductory, with previous programming experienceBookAuthor(s)DescriptionreviewA Tour of C++Bjarne Stroustrup (2nd edition for C++17,3rd edition for C++20)The “tour” is a quick (about 180 pages and 14 chapters) tutorial overview of all of standard C++ (language and standard library,and using C++11) at a moderately high level for people who already know C++ or at least are experienced programmers. This book is an extended version of the material that constitutes Chapters 2-5 of The C++ Programming Language, 4th edition.Accelerated C++Andrew Koenig and Barbara Moo, 1st Edition - August 24, 2000This basically covers the same ground as theC++ Primer, but does so in a quarter of its space. This is largely because it does not attempt to be an introduction toprogramming, but an introduction toC++for people who\'ve previously programmed in some other language. It has a steeper learning curve, but, for those who can cope with this, it is a very compact introduction to the language. (Historically, it broke new ground by being the first beginner\'s book to use a modern approach to teaching the language.) Despite this, the C++ it teaches is purely C++98.[Review]Best practicesBookAuthor(s)DescriptionreviewEffective C++Scott Meyers, 3rd Edition - May 22, 2005This was written with the aim of being the best second book C++ programmers should read, and it succeeded. Earlier editions were aimed at programmers coming from C, the third edition changes this and targets programmers coming from languages like Java. It presents ~50 easy-to-remember rules of thumb along with their rationale in a very accessible (and enjoyable) style. For C++11 and C++14 the examples and a few issues are outdated and Effective Modern C++ should be preferred.[Review]Effective Modern C++Scott MeyersThis book is aimed at C++ programmers making the transition from C++03 to C++11 and C++14. This book can be treated as a continuation and ""correction"" of some parts of the previous book - ""Effective C++"". They don\'t cover the same things, but keep similar item-based themes.[Review]Effective STLScott MeyersThis aims to do the same to the part of the standard library coming from the STL whatEffective C++did to the language as a whole: It presents rules of thumb along with their rationale.IntermediateBookAuthor(s)DescriptionreviewMore Effective C++Scott MeyersEven more rules of thumb thanEffective C++. Not as important as the ones in the first book, but still good to know.Exceptional C++Herb SutterPresented as a set of puzzles, this has one of the best and thorough discussions of the proper resource management and exception safety in C++ through Resource Acquisition is Initialization (RAII) in addition to in-depth coverage of a variety of other topics including the pimpl idiom, name lookup, good class design, and the C++ memory model.[Review]More Exceptional C++Herb SutterCovers additional exception safety topics not covered inExceptional C++, in addition to discussion of effective object-oriented programming in C++ and correct use of the STL.[Review]Exceptional C++ StyleHerb SutterDiscusses generic programming, optimization, and resource management; this book also has an excellent exposition of how to write modular code in C++ by using non-member functions and the single responsibility principle.[Review]C++ Coding StandardsHerb Sutter and Andrei Alexandrescu“Coding standards” here doesn\'t mean “how many spaces should I indent my code?”  This book contains 101 best practices, idioms, and common pitfalls that can help you to write correct, understandable, and efficient C++ code.[Review]C++ Templates: The Complete GuideDavid Vandevoorde and Nicolai M. JosuttisThis isthebook about templates as they existed before C++11.  It covers everything from the very basics to some of the most advanced template metaprogramming and explains every detail of how templates work (both conceptually and at how they are implemented) and discusses many common pitfalls.  Has excellent summaries of the One Definition Rule (ODR) and overload resolution in the appendices. Asecond editioncovering C++11, C++14 and C++17 has been already published.[Review]C++ 17 - The Complete GuideNicolai M. JosuttisThis book describes all the new features introduced in the C++17 Standard covering everything from the simple ones like \'Inline Variables\', \'constexpr if\' all the way up to \'Polymorphic Memory Resources\' and \'New and Delete with over aligned Data\'.[Review]C++ 20 - The Complete GuideNicolai M. JosuttisThis book presents all the new language and library features of C++20. It covers the motivation and context of each new feature with examples and background information. The focus is on how these features impact day-to-day programming, what it means to combine them, and how to benefit from C++20 in practice. (Note that this book waspublished step-by-step, and the first edition is now complete.)C++ in ActionBartosz MilewskiThis book explains C++ and its features by building an application from the ground up.[Review]Functional Programming in C++Ivan ČukićThis book introduces functional programming techniques to modern C++ (C++11 and later). A very nice read for those who want to apply functional programming paradigms to C++.AdvancedBookAuthor(s)DescriptionreviewModern C++ DesignAndrei AlexandrescuA groundbreaking book on advanced generic programming techniques.  Introduces policy-based design, type lists, and fundamental generic programming idioms then explains how many useful design patterns (including small object allocators, functors, factories, visitors, and multi-methods) can be implemented efficiently, modularly, and cleanly using generic programming.[Review]C++ Template MetaprogrammingDavid Abrahams and Aleksey GurtovoyC++ Concurrency In ActionAnthony WilliamsA book covering C++11 concurrency support including the thread library, the atomics library, the C++ memory model, locks and mutexes, as well as issues of designing and debugging multithreaded applications. Asecond editioncovering C++14 and C++17 has already been published.[Review]Advanced C++ MetaprogrammingDavide Di GennaroA pre-C++11 manual of TMP techniques, focused more on practice than theory.  There are a ton of snippets in this book, some of which are made obsolete by type traits, but the techniques, are nonetheless useful to know.  If you can put up with the quirky formatting/editing, it is easier to read than Alexandrescu, and arguably, more rewarding.  For more experienced developers, there is a good chance that you may pick up something about a dark corner of C++ (a quirk) that usually only comes about through extensive experience.Large Scale C++ volume I, Process and architecture(2020)John LakosPart one of a three-part series extending the older book \'Large Scale C++ Design\'. Lakos explains battle-tested techniques to manage very big C++ software projects. If you work in a big C++ software project this is a great read, detailing the relationship between physical and logical structure, strategies for components, and their reuse.[Review]Reference Style - All LevelsBookAuthor(s)DescriptionreviewThe C++ Programming LanguageBjarne Stroustrup (updated for C++11)The classic introduction to C++ by its creator. Written to parallel the classic K&R, this indeed reads very much like it and covers just about everything from the core language to the standard library, to programming paradigms to the language\'s philosophy.[Review]Note: All releases of the C++ standard are tracked in the question ""Where do I find the current C or C++ standard documents?"".C++ Standard Library Tutorial and ReferenceNicolai Josuttis (updated for C++11)Theintroduction and reference for the C++ Standard Library. The second edition (released on April 9, 2012) covers C++11.[Review]The C++ IO Streams and LocalesAngelika Langer and Klaus KreftThere\'s very little to say about this book except that if you want to know anything about streams and locales, then this is the one place to find definitive answers.[Review]C++11/14/17/… References:Working Draft, Standard for Programming Language C++generated fromLaTeX sources published on GitHub.C++ Standard Papers, latest standard working draft:ISO working draftThe C++11/14/17Standard (INCITS/ISO/IEC 14882:2011/2014/2017)This, of course, is the final arbiter of all that is or isn\'t C++. Be aware, however, that it is intended purely as a reference forexperiencedusers willing to devote considerable time and effort to its understanding. The C++17 standard is released in electronic form for 198 Swiss Francs.The C++17 standard is available, but seemingly not in an economical form –directly from the ISOit costs 198 Swiss Francs (about $200 US). For most people, thefinal draft before standardizationis more than adequate (and free). Many will prefer aneven newer draft, documenting new features that are likely to be included in C++20.C++20 draftis available on GitHub assome older too.Overview of the New C++ (C++11/14) (PDF only)(Scott Meyers) (updated for C++14) These are the presentation materials (slides and some lecture notes) of a three-day training course offered by Scott Meyers, who\'s a highly respected author on C++. Even though the list of items is short, the quality is high.TheC++ Core Guidelines (C++11/14/17/…)(edited by Bjarne Stroustrup and Herb Sutter) is an evolving online document consisting of a set of guidelines for using modern C++ well. The guidelines are focused on relatively higher-level issues, such as interfaces, resource management, memory management, and concurrency affecting application architecture and library design. The project wasannounced at CppCon\'15 by Bjarne Stroustrup and othersand welcomes contributions from the community. Most guidelines are supplemented with a rationale and examples as well as discussions of possible tool support. Many rules are designed specifically to be automatically checkable by static analysis tools.TheC++ Super-FAQ(Marshall Cline, Bjarne Stroustrup, and others) is an effort by the Standard C++ Foundation to unify the C++ FAQs previously maintained individually by Marshall Cline and Bjarne Stroustrup and also incorporating new contributions. The items mostly address issues at an intermediate level and are often written with a humorous tone. Not all items might be fully up to date with the latest edition of the C++ standard yet.cppreference.com (C++03/11/14/17/…)(initiated by Nate Kohl) is a wiki that summarizes the basic core-language features and has extensive documentation of the C++ standard library. The documentation is very precise but is easier to read than the official standard document and provides better navigation due to its wiki nature. The project documents all versions of the C++ standard and the site allows filtering the display for a specific version. The project waspresented by Nate Kohl at CppCon\'14.Classics / OlderNote:Some information contained within these books may not be up-to-date or no longer considered best practice.The Design and Evolution of C++(Bjarne Stroustrup)  If you want to knowwhythe language is the way it is, this book is where you find answers. This covers everythingbefore the standardizationof C++.Ruminations on C++- (Andrew Koenig and Barbara Moo)[Review]Advanced C++ Programming Styles and Idioms(James Coplien)  A predecessor of the pattern movement, it describes many C++-specific “idioms”. It\'s certainly a very good book and might still be worth a read if you can spare the time, but quite old and not up-to-date with current C++.Large Scale C++ Software Design(John Lakos)  Lakos explains techniques to manage very big C++ software projects. Certainly, a good read, if it only was up to date. It was written long before C++ 98 and misses on many features (e.g. namespaces) important for large-scale projects. If you need to work on a big C++ software project, you might want to read it, although you need to take more than a grain of salt with it. Not to be confused with the extended and later book series Large Scale C++ volume I-III.Inside the C++ Object Model(Stanley Lippman)  If you want to know how virtual member functions are commonly implemented and how base objects are commonly laid out in memory in a multi-inheritance scenario, and how all this affects performance, this is where you will find thorough discussions of such topics.The Annotated C++ Reference Manual(Bjarne Stroustrup, Margaret A. Ellis) This book is quite outdated in the fact that it explores the 1989 C++ 2.0 version - Templates, exceptions, namespaces, and new casts were not yet introduced. Saying that however, this book goes through the entire C++ standard of the time explaining the rationale, the possible implementations, and features of the language. This is not a book to learn programming principles and patterns on C++, but to understand every aspect of the C++ language.Thinking in C++(Bruce Eckel, 2nd Edition, 2000).  Two volumes; is a tutorial-stylefreeset of intro-level books. Downloads:vol 1,vol 2. Unfortunately, they\'re marred by a number of trivial errors (e.g. maintaining that temporaries are automaticconst), with no official errata list. A partial 3rdparty errata list is available athttp://www.computersciencelab.com/Eckel.htm, but it is apparently not maintained.Scientific and Engineering C++: An Introduction to Advanced Techniques and Examples(John Barton and Lee Nackman)\nIt is a comprehensive and very detailed book that tried to explain and make use of all the features available in C++, in the context of numerical methods. It introduced at the time several new techniques, such as the Curiously Recurring Template Pattern (CRTP, also called Barton-Nackman trick).\nIt pioneered several techniques such as dimensional analysis and automatic differentiation.\nIt came with a lot of compilable and useful code, ranging from an expression parser to a Lapack wrapper.\nThe code isstill available online.\nUnfortunately, the books have become somewhat outdated in style and C++ features, however, it was an incredible tour-de-force at the time (1994, pre-STL).\nThe chapters on dynamics inheritance are a bit complicated to understand and not very useful.\nAn updated version of this classic book that includes move semantics and the lessons learned from the STL would be very nice.ShareImprove this answerFolloweditedJul 13 at 12:35community wiki119 revs, 91 users 14%George Stocker'}","{'title': 'Is there a CSS parent selector?', 'question': ""How do I select the<li>element that is a direct parent of the anchor element?As an example, my CSS would be something like this:li < a.active {\n    property: value;\n}Obviously there are ways of doing this with JavaScript, but I'm hoping that there is some sort of workaround that exists native to CSS Level 2.The menu that I am trying to style is being spewed out by a CMS, so I can't move the active element to the<li>element... (unless I theme the menu creation module which I'd rather not do).csscss-selectorsShareImprove this questionFolloweditedMay 22, 2022 at 5:10Zach Jensz3,81566 gold badges1616 silver badges3131 bronze badgesaskedJun 18, 2009 at 19:59jcuenodjcuenod57.7k1515 gold badges6969 silver badges102102 bronze badges"", 'answers': 'The W3C\'s Selectors Level 4 Working Draft includesa:has()pseudo-classthat provides this capability, among others:li:has(> a.active) { /* styles to apply to the li tag */ }All major browsers support this selector. Refer tohttps://caniuse.com/css-hasto check if your target browser or browser versions have support for it.You may need to resort to using JavaScript if your target browser does not fully support this feature.ShareImprove this answerFolloweditedDec 22, 2023 at 3:13TylerH21.1k7272 gold badges7878 silver badges105105 bronze badgesansweredJun 18, 2009 at 20:16Dan HerbertDan Herbert102k4848 gold badges191191 silver badges220220 bronze badges\n\nYou can use the:has()CSS pseudo-class.See browser support at Caniuse.com.ShareImprove this answerFolloweditedJun 15 at 22:50answeredJan 20, 2018 at 20:22YukuléléYukulélé16.7k1010 gold badges7373 silver badges9999 bronze badges\n\nI don’t think you can select the parent in CSS only.But as you already seem to have an.activeclass, it would be easier to move that class to theli(instead of thea). That way you can access both theliand theavia CSS only.ShareImprove this answerFolloweditedMay 13 at 9:07tripleee185k3636 gold badges295295 silver badges342342 bronze badgesansweredJun 18, 2009 at 20:08jeroenjeroen91.5k2222 gold badges115115 silver badges132132 bronze badges\n\nYou can usethis script:*! > input[type=text] { background: #000; }This will select any parent of a text input. But wait, there\'s still much more. If you want, you can select a specified parent:.input-wrap! > input[type=text] { background: #000; }Or select it when it\'s active:.input-wrap! > input[type=text]:focus { background: #000; }Check out this HTML:<div class=""input-wrap"">\n    <input type=""text"" class=""Name""/>\n    <span class=""help hide"">Your name sir</span>\n</div>You can select thatspan.helpwhen theinputis active and show it:.input-wrap! .help > input[type=text]:focus { display: block; }There are many more capabilities; just check out the documentation of the plugin.BTW, it works in Internet\xa0Explorer.ShareImprove this answerFolloweditedJul 24, 2019 at 22:24Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredAug 13, 2011 at 10:13IderedIdered2,07311 gold badge1818 silver badges2121 bronze badges\n\nAs mentioned by a couple of others, there isn\'t a way to style an element\'s parent/s using just CSS but the following works withjQuery:$(""a.active"").parents(\'li\').css(""property"", ""value"");ShareImprove this answerFolloweditedMay 2, 2013 at 5:11Alastair6,91544 gold badges3636 silver badges3030 bronze badgesansweredDec 14, 2009 at 14:51zcrar70zcrar703,16422 gold badges2525 silver badges1818 bronze badges\n\nYou can use:has()pseudo-class (status: working draft,specifications,MDN,caniuse) for this:li:has(> a.active) {\n  outline: thin dotted red;\n}<ul>\n  <li><a href=""#"">a</a></li>\n  <li><a href=""#"" class=""active"">a.active</a></li>\n  <li><a href=""#"">a</a></li>\n</ul>In fact, this pseudo-class can be used to match an element that has a specific element as child, grand child, next sibling or subsequent sibling:section, h1, p {\n  font-size: 1rem;\n  margin-top: 1rem;\n  margin-bottom: 1rem;\n}\n\nh1:has(> .ref) {\n  outline: thin dotted red;\n}\n\nh1:has(.ref) {\n  outline: thin dotted red;\n}\n\nh1:has(+ .ref) {\n  outline: thin dotted red;\n}\n\nh1:has(~ .ref) {\n  outline: thin dotted red;\n}<section>\n  <h1>\n    heading\n    <span class=""ref"">.ref</span>\n  </h1>\n</section>\n\n<section>\n  <h1>\n    heading\n    <span>\n      span\n      <span class=""ref"">.ref</span>\n    </span>\n  </h1>\n</section>\n\n<section>\n  <h1>heading</h1>\n  <p class=""ref"">.ref</p>\n</section>\n\n<section>\n  <h1>heading</h1>\n  <p>paragraph</p>\n  <p class=""ref"">.ref</p>\n</section>The concerns I raised in myoriginal answerare still relevant:For example, if you wrote:body:has(a.active) { background: red; }Then the browser will have to wait until it has loaded and parsed\neverything until the  to determine if the page should be red or\nnot.ShareImprove this answerFolloweditedApr 22 at 6:59answeredJan 21, 2014 at 8:43Salman ArshadSalman Arshad270k8383 gold badges436436 silver badges528528 bronze badges\n\nThe pseudo element:focus-withinallows a parent to be selected if a descendent has focus.An element can be focused if it has atabindexattribute.Browser support for focus-withinTabindexExample.parent:focus-within {\n  background: hsl(199deg, 65%, 73%);\n}\n\n/* demo styles */\nbody {\n  margin: 0;\n}\n.parent {\n  background: hsl(0, 0%, 80%);\n  min-height: 100vh;\n  display: grid;\n  place-content: center;\n}\n.child {\n  background: hsl(0, 0%, 0%);\n  color: white;\n  padding: 3rem;\n  outline: 0;\n  cursor: pointer;\n  font: 18px/1.25 sans-serif;\n  width: 20ch;\n}<div class=""parent"">\n  <div class=""child"" tabindex=""0"">\n    Click or Focus on me, my parent will change.\n  </div>\n</div>ShareImprove this answerFolloweditedJun 1, 2023 at 17:31Todd5,44433 gold badges2929 silver badges4747 bronze badgesansweredSep 25, 2017 at 13:55solsol22.8k66 gold badges4444 silver badges6161 bronze badges\n\nThere isn\'t a way to do this in CSS\xa02. You could add the class to theliand reference thea:li.active > a {\n    property: value;\n}ShareImprove this answerFolloweditedJul 24, 2019 at 22:19Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJun 18, 2009 at 20:06JoshJosh6,30222 gold badges3838 silver badges5656 bronze badges\n\nTry to switchatoblockdisplay, and then use any style you want. Theaelement will fill thelielement, and you will be able to modify its look as you want. Don\'t forget to setlipadding to 0.li {\n  padding: 0;\n  overflow: hidden;\n}\na {\n  display: block;\n  width: 100%;\n  color: ..., background: ..., border-radius: ..., etc...\n}\na.active {\n  color: ..., background: ...\n}ShareImprove this answerFolloweditedJul 24, 2019 at 22:25Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredNov 23, 2011 at 9:03RasekoRaseko40744 silver badges33 bronze badges\n\nIn the CSS Selectors 4 specification, CSS introduces a new selector called:has(), which finally lets us select parents. That means is we’ll be able to target a CSS element that has specific children within it. This is already supported in Safari and is also in Chrome 105. The full support table is shownhere.Parent Selectors workingsIn CSS, if we want to select something, we use selectors that descend the DOM.For example, selecting a p tag within a div tag looks like this:div p {\n   color: red;\n}Until now, couldn’t really select thedivtags which hadptags within them, though, and this meant we had to resort toJavascript. The main reason this wasn’t implemented in CSS is that it’s quite an expensive operation to do. CSS is relatively fast to parse, but selecting parent tags requires a relatively significantly larger amount of processing.Using the:hasselector, we can now selectdivelements which have apchildren, or any normal combination of selectors.For example, selecting adivwith a childpnow looks like this:div:has(p) {\n  color: red;\n}This will make anydivwith a childpred.Combining parent selection with other selectorsJust like any other CSS selector, we can combine this for specific circumstances.\nFor example, if you want to select onlydivtags which have directspanchildren:div:has(> span) {\n  color: red;\n}As the vocabulary of:hassuggested, it is not just limited to parent selection.For example, below we can select aspanwhich:hasa siblingdiv:span:has(+ div) {\ncolor: red;\n}Or even, selecting an element which does not have a child, by using the :not() selector.For example, the following will select any div which does not have a p child:div:not(:has(p)) {\n color: red;\n}Selecting elements that only contain text in CSSOne very common problem in CSS is that the:emptytag does not select elements that contain any text - so sometimes an element can contain one space, and:emptywill not apply. The:hasselector gives us the power to select elements that only contain text nodes and no other child elements.Although this is not the perfect solution for simply:emptyelements with spaces (as this will select any element with just text and no additional HTML DOM elements) - it does give us the ability to select DOM elements with only text nodes, which was not previously possible. We can achieve this with the following code:div:not(:has(*)) {\n  background: green;\n}ShareImprove this answerFolloweditedDec 22, 2023 at 3:06TylerH21.1k7272 gold badges7878 silver badges105105 bronze badgesansweredDec 7, 2022 at 3:57pr96pr961,18077 silver badges1717 bronze badges\n\nThe CSS selector “General Sibling Combinator” could maybe used for what you want:E ~ F {\n    property: value;\n}This matches anyFelement that is preceded by anEelement.ShareImprove this answerFolloweditedAug 23, 2017 at 12:27Cody Gray - on strike♦243k5151 gold badges497497 silver badges578578 bronze badgesansweredJun 30, 2011 at 14:00cobaastacobaasta67155 silver badges22 bronze badges\n\nNot in CSS 2 as far as I\'m aware.  CSS 3 has more robust selectors but is not consistently implemented across all browsers.  Even with the improved selectors, I don\'t believe it will accomplish exactly what you\'ve specified in your example.ShareImprove this answerFollowansweredJun 18, 2009 at 20:09Mark HurdMark Hurd13k22 gold badges2828 silver badges2828 bronze badges\n\nYou might try to use hyperlink as the parent, and then change the inner elements on hover. Like this:a.active h1 {color:red;}\n\na.active:hover h1 {color:green;}\n\na.active h2 {color:blue;}\n\na.active:hover h1 {color:yellow;}This way you can change the style in multiple inner tags, based on the rollover of the parent element.ShareImprove this answerFolloweditedApr 15, 2020 at 21:17TylerH21.1k7272 gold badges7878 silver badges105105 bronze badgesansweredFeb 13, 2012 at 11:22riverstormriverstorm54855 silver badges88 bronze badges\n\nThis is the most discussed aspect of theSelectors Level 4specification. With this, a selector will be able to style an element according to its child by using:has().For example:body:has(a:hover) {\n   background: red;\n}will set a red background-color if the user hovers over any anchor.ShareImprove this answerFolloweditedyesterdayMike \'Pomax\' Kamermans52.4k1717 gold badges124124 silver badges165165 bronze badgesansweredMay 5, 2015 at 18:24Marco AlloriMarco Allori3,2543434 silver badges2525 bronze badges\n\nI know the OP was looking for a CSS solution but it is simple to achieve using jQuery. In my case I needed to find the<ul>parent tag for a<span>tag contained in the child<li>. jQuery has the:hasselector so it\'s possible to identify a parent by the children it contains:$(""ul:has(#someId)"")will select theulelement that has a child element with idsomeId. Or to answer the original question, something like the following should do the trick (untested):$(""li:has(.active)"")ShareImprove this answerFollowansweredMay 16, 2013 at 22:04David ClarkeDavid Clarke13.1k99 gold badges9090 silver badges117117 bronze badges\n\nHere\'s a hack usingpointer-eventswithhover:<!doctype html>\n<html>\n    <head>\n        <title></title>\n        <style>\n/* accessory */\n.parent {\n    width: 200px;\n    height: 200px;\n    background: gray;\n}\n.parent, \n.selector {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n}\n.selector {\n    cursor: pointer;\n    background: silver;\n    width: 50%;\n    height: 50%;\n}\n        </style>\n        <style>\n/* pertinent */\n.parent {\n    background: gray;\n    pointer-events: none;\n}\n.parent:hover {\n    background: fuchsia;\n}\n.parent \n.selector {\n    pointer-events: auto;\n}\n        </style>\n    </head>\n    <body>\n        <div class=""parent"">\n            <div class=""selector""></div>\n        </div>\n    </body>\n</html>ShareImprove this answerFolloweditedOct 3, 2020 at 7:57answeredJul 31, 2018 at 22:47Jan Kyu PeblikJan Kyu Peblik1,4891414 silver badges2121 bronze badges\n\nThe CSS parent selector (also know as the:has() selector) has finally landed in Safari TP 137. The feature is currently being implementated in Chrome as well. (MDN Documentation)Parent selection is done via the pseudo-class:has().  For example,div:has(> .child)will select all<div>elements with a child having achildclass.Other examples:Selecting direct parent of an element<div>\n  <p>Child Element</p>\n</div>div:has(> p)Selecting all the parents of an element<div id=""grandparent"">\n      <div id=""parent"">\n            <div id=""child""></div>\n      <div>\n</div>The following selector will select bothgrandparentandparentdiv:has(.child)You can also use it for nested selectors and even with other pseudo classes:div:has(> :nth-child(10))Other valid CSS operators can be used to customize the query.Keep an eye oncaniuse.com/css-hasfor browser compatibility.ShareImprove this answerFolloweditedFeb 3, 2022 at 16:12TylerH21.1k7272 gold badges7878 silver badges105105 bronze badgesansweredDec 21, 2021 at 18:20MetabolicMetabolic2,85644 gold badges2828 silver badges4141 bronze badges\n\nCurrently there is no parent selector & it is not even being discussed in any of the talks of W3C. You need to understand how CSS is evaluated by the browser to actually understand if we need it or not.There is a lot of technical explanation here.Jonathan Snook explains how CSS is evaluated.Chris Coyier on the talks of Parent selector.Harry Roberts again on writing efficient CSS selectors.ButNicole Sullivan has some interesting facts on positive trends.These people are all top class in the field of front end development.ShareImprove this answerFolloweditedNov 2, 2017 at 0:38Nathan Tuggy2,2352727 gold badges3131 silver badges3838 bronze badgesansweredMar 21, 2014 at 12:58Suraj NaikSuraj Naik50544 silver badges77 bronze badges\n\nJust an idea for horizontal menu...Part of HTML<div class=\'list\'>\n  <div class=\'item\'>\n    <a>Link</a>\n  </div>\n  <div class=\'parent-background\'></div>\n  <!-- submenu takes this place -->\n</div>Part of CSS/* Hide parent backgrounds... */\n.parent-background {\n  display: none; }\n\n/* ... and show it when hover on children */\n.item:hover + .parent-background {\n  display: block;\n  position: absolute;\n  z-index: 10;\n  top: 0;\n  width: 100%; }Updated demo and the rest of codeAnother examplehow to use it with text-inputs - select parent fieldsetShareImprove this answerFolloweditedJun 20, 2020 at 9:12CommunityBot111 silver badgeansweredOct 27, 2015 at 17:55Ilya B.Ilya B.95077 silver badges1313 bronze badges\n\nThere\'s a plugin that extends CSS to include some non-standard features that can really help when designing websites. It\'s calledEQCSS.One of the things EQCSS adds is a parent selector. It works in all browsers, Internet\xa0Explorer\xa08 and up. Here\'s the format:@element \'a.active\' {\n  $parent {\n    background: red;\n  }\n}So here we\'ve opened an element query on every elementa.active, and for the styles inside that query, things like$parentmake sense, because there\'s a reference point. The browser can find the parent, because it\'s very similar toparentNodein JavaScript.Here\'s a demo of$parentandanother$parentdemo that works in Internet\xa0Explorer\xa08, as well asa screenshot in case you don\'t have Internet\xa0Explorer\xa08 around to test with.EQCSS also includesmeta-selectors:$prevfor the element before a selected element and$thisfor only those elements that match an element query, and more.ShareImprove this answerFolloweditedJul 24, 2019 at 22:43Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredApr 7, 2016 at 17:52innovatiinnovati52311 gold badge88 silver badges1212 bronze badges\n\nIt\'s now 2019, and thelatest draft of the CSS Nesting Moduleactually has something like this. Introducing@nestat-rules.3.2. The Nesting At-Rule: @nestWhile direct nesting looks nice, it is somewhat fragile. Some valid nesting selectors, like .foo &, are disallowed, and editing the selector in certain ways can make the rule invalid unexpectedly. As well, some people find the nesting challenging to distinguish visually from the surrounding declarations.To aid in all these issues, this specification defines the @nest rule, which imposes fewer restrictions on how to validly nest style rules. Its syntax is:@nest = @nest <selector> { <declaration-list> }The @nest rule functions identically to a style rule: it starts with a selector, and contains declarations that apply to the elements the selector matches. The only difference is that the selector used in a @nest rule must be nest-containing, which means it contains a nesting selector in it somewhere. A list of selectors is nest-containing if all of its individual complex selectors are nest-containing.(Copy and pasted from the URL above).Example of valid selectors under this specification:.foo {\n  color: red;\n  @nest & > .bar {\n    color: blue;\n  }\n}\n/* Equivalent to:\n   .foo { color: red; }\n   .foo > .bar { color: blue; }\n */\n\n.foo {\n  color: red;\n  @nest .parent & {\n    color: blue;\n  }\n}\n/* Equivalent to:\n   .foo { color: red; }\n   .parent .foo { color: blue; }\n */\n\n.foo {\n  color: red;\n  @nest :not(&) {\n    color: blue;\n  }\n}\n/* Equivalent to:\n   .foo { color: red; }\n   :not(.foo) { color: blue; }\n */ShareImprove this answerFolloweditedJun 20, 2020 at 9:12CommunityBot111 silver badgeansweredMar 19, 2019 at 14:14roberrrt-sroberrrt-s8,14022 gold badges4848 silver badges6060 bronze badges\n\nThe W3C excluded such a selector because of the huge performance impact it would have on a browser.ShareImprove this answerFollowansweredAug 16, 2011 at 4:43rgbrgb1,26411 gold badge1010 silver badges1414 bronze badges\n\nTechnically there is no direct way to do this. However, you can sort that out with either jQuery or JavaScript.However, you can do something like this as well.a.active h1 {color: blue;}\na.active p {color: green;}jQuery$(""a.active"").parents(\'li\').css(""property"", ""value"");If you want to achieve this using jQuery here is the reference for thejQuery parent selector.ShareImprove this answerFolloweditedJul 24, 2019 at 22:36Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredOct 14, 2015 at 10:08PrabhakarPrabhakar6,65433 gold badges4242 silver badges5151 bronze badges\n\nThe short answer isNO; we don\'t have aparent selectorat this stage in CSS, but if you don\'t have to swap the elements or classes anyway, the second option is using JavaScript. Something like this:var activeATag = Array.prototype.slice.call(document.querySelectorAll(\'a.active\'));\n\nactiveATag.map(function(x) {\n  if(x.parentNode.tagName === \'LI\') {\n    x.parentNode.style.color = \'red\'; // Your property: value;\n  }\n});Or a shorter way if you usejQueryin your application:$(\'a.active\').parents(\'li\').css(\'color\', \'red\'); // Your property: value;ShareImprove this answerFolloweditedJul 24, 2019 at 22:45Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJun 16, 2017 at 18:06AlirezaAlireza103k2727 gold badges275275 silver badges173173 bronze badges\n\nAlthough there is no parent selector in standard CSS at present, I am working on a (personal) project calledaxe(ie.Augmented CSS Selector Syntax / ACSSSS) which, among its 7 new selectors, includes both:animmediate parentselector<(which enables the opposite selection to>)anany ancestor selector^(which enables the opposite selection to[SPACE])axeis presently in a relatively early BETA stage of development.See a demo here:.parent {\n  float: left;\n  width: 180px;\n  height: 180px;\n  margin-right: 12px;\n  background-color: rgb(191, 191, 191);\n}\n\n.child {\n  width: 90px;\n  height: 90px;\n  margin: 45px;\n  padding-top: 12px;\n  font-family: sans-serif;\n  text-align: center;\n  font-size: 12px;\n  background-color: rgb(255, 255, 0);\n}\n\n.child.using-axe < .parent {\n  background-color: rgb(255, 0, 0);\n}<div class=""parent"">\n  <div class=""child""></div>\n</div>\n\n<div class=""parent"">\n  <div class=""child using-axe"">Here, the axe parent selector turns the outer square red.</div>\n</div>\n\n\n<script src=""https://rouninmedia.github.io/axe/axe.js""></script>In the example above<is theimmediate parent selector, so.child.using-axe < .parentmeans:any immediate parent of.child.using-axewhich is.parentYou could alternatively use:.child.using-axe < divwhich would mean:any immediate parent of.child.using-axewhich is adivShareImprove this answerFolloweditedAug 8, 2021 at 11:48answeredFeb 18, 2017 at 17:06RouninRounin28.7k1010 gold badges9393 silver badges118118 bronze badges\n\nAny ideas?CSS4 will be fancy if it adds somehooksintowalking backwards. Until then it is possible (thoughnotadvisable) to usecheckboxand/orradioinputstobreakthe usual way that things are connected, and through that also allow CSS to operate outside of its normal scope.../* Hide things that may be latter shown */\n.menu__checkbox__selection,\n.menu__checkbox__style,\n.menu__hidden {\n  display: none;\n  visibility: hidden;\n  opacity: 0;\n  filter: alpha(opacity=0); /* Old Microsoft opacity */\n}\n\n\n/* Base style for content and style menu */\n.main__content {\n  background-color: lightgray;\n  color: black;\n}\n\n.menu__hidden {\n  background-color: black;\n  color: lightgray;\n  /* Make list look not so _listy_ */\n  list-style: none;\n  padding-left: 5px;\n}\n\n.menu__option {\n  box-sizing: content-box;\n  display: block;\n  position: static;\n  z-index: auto;\n}\n\n/* &#9660; - \\u2630 - Three Bars */\n/*\n.menu__trigger__selection::before {\n  content: \'\\2630\';\n  display: inline-block;\n}\n*/\n\n/* &#9660; - Down Arrow */\n.menu__trigger__selection::after {\n  content: ""\\25BC"";\n  display: inline-block;\n  transform: rotate(90deg);\n}\n\n\n/* Customize to look more `select` like if you like */\n.menu__trigger__style:hover,\n.menu__trigger__style:active {\n  cursor: pointer;\n  background-color: darkgray;\n  color: white;\n}\n\n\n/**\n * Things to do when checkboxes/radios are checked\n */\n\n.menu__checkbox__selection:checked + .menu__trigger__selection::after,\n.menu__checkbox__selection[checked] + .menu__trigger__selection::after {\n  transform: rotate(0deg);\n}\n\n/* This bit is something that you may see elsewhere */\n.menu__checkbox__selection:checked ~ .menu__hidden,\n.menu__checkbox__selection[checked] ~ .menu__hidden {\n  display: block;\n  visibility: visible;\n  opacity: 1;\n  filter: alpha(opacity=100); /* Microsoft!? */\n}\n\n\n/**\n * Hacky CSS only changes based off non-inline checkboxes\n * ... AKA the stuff you cannot unsee after this...\n */\n.menu__checkbox__style[id=""style-default""]:checked ~ .main__content {\n  background-color: lightgray;\n  color: black;\n}\n\n.menu__checkbox__style[id=""style-default""]:checked ~ .main__content .menu__trigger__style[for=""style-default""] {\n  color: darkorange;\n}\n\n.menu__checkbox__style[id=""style-one""]:checked ~ .main__content {\n  background-color: black;\n  color: lightgray;\n}\n\n.menu__checkbox__style[id=""style-one""]:checked ~ .main__content .menu__trigger__style[for=""style-one""] {\n  color: darkorange;\n}\n\n.menu__checkbox__style[id=""style-two""]:checked ~ .main__content {\n  background-color: darkgreen;\n  color: red;\n}\n\n.menu__checkbox__style[id=""style-two""]:checked ~ .main__content .menu__trigger__style[for=""style-two""] {\n  color: darkorange;\n}<!--\n  This bit works, but will one day cause troubles,\n  but truth is you can stick checkbox/radio inputs\n  just about anywhere and then call them by id with\n  a `for` label. Keep scrolling to see what I mean\n-->\n<input type=""radio""\n       name=""colorize""\n       class=""menu__checkbox__style""\n       id=""style-default"">\n<input type=""radio""\n       name=""colorize""\n       class=""menu__checkbox__style""\n       id=""style-one"">\n<input type=""radio""\n       name=""colorize""\n       class=""menu__checkbox__style""\n       id=""style-two"">\n\n\n<div class=""main__content"">\n\n  <p class=""paragraph__split"">\n    Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod\n    tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,\n    quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo\n  </p>\n\n  <input type=""checkbox""\n         class=""menu__checkbox__selection""\n         id=""trigger-style-menu"">\n  <label for=""trigger-style-menu""\n         class=""menu__trigger__selection""> Theme</label>\n\n  <ul class=""menu__hidden"">\n    <li class=""menu__option"">\n      <label for=""style-default""\n             class=""menu__trigger__style"">Default Style</label>\n    </li>\n\n    <li class=""menu__option"">\n      <label for=""style-one""\n             class=""menu__trigger__style"">First Alternative Style</label>\n    </li>\n\n    <li class=""menu__option"">\n      <label for=""style-two""\n             class=""menu__trigger__style"">Second Alternative Style</label>\n    </li>\n  </ul>\n\n  <p class=""paragraph__split"">\n    consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse\n    cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non\n    proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\n  </p>\n\n</div>... prettygross, but with just CSS and HTML it is possible to touch and re-touch anything but thebodyand:rootfrom just about anywhere by linking theidandforproperties ofradio/checkboxinputsandlabeltriggers; likely someone\'ll show how to re-touch those at some point.One additional caveat is that onlyoneinputof a specificidmaybe used, firstcheckbox/radiowinsa toggled state in other words...Butmultiple labels can all point to the sameinput, though that would make both the HTML and CSS look even grosser.... I\'m hoping that there is some sort of workaround that exists native to CSS Level 2...I am not sure about the other pseudo classes, but I:checkedfor pre-CSS\xa03. If I remember correctly, it was something like[checked]which is why you may find it in the above code, for example,.menu__checkbox__selection:checked ~ .menu__hidden,\n.menu__checkbox__selection[checked] ~ .menu__hidden {\n /* rules: and-stuff; */\n}... but for things like::afterand:hover, I\'m not at all certain in which CSS version those first appeared.That all stated, please don\'t ever use this in production, not even in anger. As a joke sure, or in other words just because somethingcanbe done does not always mean itshould.ShareImprove this answerFolloweditedSep 18, 2020 at 17:55answeredJun 8, 2019 at 6:31S0AndS0S0AndS090011 gold badge88 silver badges2020 bronze badges\n\nTry this...This solution uses plain CSS2 rules with no Javascript and works in all browsers, old and new. When clicked, the childanchortag activates itsactivepseudo-class event. It then simply hides itself, allowing theactiveevent to bubble up to the parentlitag who then restyles himself and reveals his anchor child again with a new style. The child has styled the parent.Using your example:<ul>\n    <li class=""listitem"">\n        <a class=""link"" href=""#"">This is a Link</a>\n    </li>\n</ul>Now apply these styles with theactivepseudo-class onato restyle the parentlitag when the link is clicked:a.link {\n    display: inline-block;\n    color: white;\n    background-color: green;\n    text-decoration: none;\n    padding: 5px;\n}\n\nli.listitem {\n    display: inline-block;\n    margin: 0;\n    padding: 0;\n    background-color: transparent;\n}\n\n/* When this \'active\' pseudo-class event below fires on click, it hides itself,\ntriggering the active event again on its parent which applies new styles to itself and its child. */\n\na.link:active {\n    display: none;\n}\n\n.listitem:active {\n    background-color: blue;\n}\n\n.listitem:active a.link {\n    display: inline-block;\n    background-color: transparent;\n}You should see the link with a green background now change to the list item\'s blue background on click.turns toon click.ShareImprove this answerFolloweditedMar 1, 2021 at 17:35answeredJan 28, 2021 at 17:38StokelyStokely14.6k22 gold badges4040 silver badges2525 bronze badges\n\nChanging parent element based on child element can currently only happen when we have an<input>element inside the parent element. When an input gets focus, its corresponding parent element can get affected using CSS.Following example will help you understand using:focus-withinin CSS..outer-div {\r\n  width: 400px;\r\n  height: 400px;\r\n  padding: 50px;\r\n  float: left\r\n}\r\n\r\n.outer-div:focus-within {\r\n  background: red;\r\n}\r\n\r\n.inner-div {\r\n  width: 200px;\r\n  height: 200px;\r\n  float: left;\r\n  background: yellow;\r\n  padding: 50px;\r\n}<div class=""outer-div"">\r\n  <div class=""inner-div"">\r\n    I want to change outer-div(Background color) class based on inner-div. Is it possible?\r\n    <input type=""text"" placeholder=""Name"" />\r\n  </div>\r\n</div>ShareImprove this answerFolloweditedJul 7, 2019 at 0:56Luvexina8511010 silver badges2626 bronze badgesansweredJul 5, 2019 at 6:34SethuramanSethuraman65166 silver badges1515 bronze badges\n\nNo, you cannot select the parent in CSS only.But as you already seem to have an.activeclass, it would be easier to move that class to theli(instead of thea). That way you can access both theliand theavia CSS only.ShareImprove this answerFolloweditedJul 24, 2019 at 22:40Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredNov 27, 2015 at 21:16Gaurav AggarwalGaurav Aggarwal10.1k88 gold badges3838 silver badges7575 bronze badges\n\nThere no css (and therefore in css preprocessors) parent selector due to ""The major reasons for the CSS Working Group previously rejecting proposals for parent selectors are related to browser performance and incremental rendering issues.""ShareImprove this answerFollowansweredJan 31, 2020 at 15:53Dmitry  SokolovDmitry  Sokolov1,37311 gold badge1919 silver badges3030 bronze badges'}"
3,"{'title': 'How do I redirect to another webpage?', 'question': ""This question's answers are acommunity effort. Edit existing answers to improve this post. It is not currently accepting new answers or interactions.How can I redirect the user from one page to another using jQuery or pure JavaScript?javascriptjqueryhttp-redirectShareFolloweditedFeb 6, 2018 at 12:40Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesaskedFeb 2, 2009 at 12:54venkatachalamvenkatachalam102k3131 gold badges7373 silver badges7777 bronze badges"", 'answers': 'One does not simply redirect using jQueryjQuery is not necessary, andwindow.location.replace(...)will best simulate an HTTP redirect.window.location.replace(...)is better than usingwindow.location.href, becausereplace()does not keep the originating page in the session history, meaning the user won\'t get stuck in a never-ending back-button fiasco.If you want to simulate someone clicking on a link, uselocation.hrefIf you want to simulate an HTTP redirect, uselocation.replaceFor example:// similar behavior as an HTTP redirect\nwindow.location.replace(""http://stackoverflow.com"");\n\n// similar behavior as clicking on a link\nwindow.location.href = ""http://stackoverflow.com"";ShareImprove this answerFolloweditedNov 22, 2023 at 9:40GWed15.5k66 gold badges6363 silver badges102102 bronze badgesansweredFeb 3, 2009 at 4:24Ryan McGearyRyan McGeary238k1313 gold badges9898 silver badges104104 bronze badges\n\nWARNING:This answer has merely been provided as a possible solution; it is obviouslynotthe best solution, as it requires jQuery. Instead, prefer the pure JavaScript solution.$(location).prop(\'href\', \'http://stackoverflow.com\')ShareImprove this answerFolloweditedSep 23, 2021 at 18:48Timo Tijhof10.2k66 gold badges3737 silver badges5252 bronze badgesansweredOct 28, 2009 at 16:35Boris GuéryBoris Guéry47.5k88 gold badges5454 silver badges8888 bronze badges\n\nStandard ""vanilla"" JavaScript way to redirect a pagewindow.location.href = \'newPage.html\';Or more simply:  (sincewindowis Global)location.href = \'newPage.html\';If you are here because you arelosingHTTP_REFERER when redirecting, keep reading:(Otherwise ignore this last part)The following section is for those usingHTTP_REFERERas one of many security measures (although it isn\'t a great protective measure). If you\'re usingInternet\xa0Explorer\xa08or lower, these variables get lost when using any form of JavaScript page redirection (location.href,  etc.).Below we are going to implement an alternative forIE8 & lowerso that we don\'t lose HTTP_REFERER. Otherwise, you can almost always simply usewindow.location.href.Testing againstHTTP_REFERER(URL pasting, session, etc.)canhelp tell whether a request is legitimate.(Note:there are also ways to work-around / spoof these referrers, as noted by droop\'s link in the comments)Simple cross-browser testing solution (fallback to window.location.href for Internet\xa0Explorer\xa09+ and all other browsers)Usage:redirect(\'anotherpage.aspx\');function redirect (url) {\n    var ua        = navigator.userAgent.toLowerCase(),\n        isIE      = ua.indexOf(\'msie\') !== -1,\n        version   = parseInt(ua.substr(4, 2), 10);\n\n    // Internet Explorer 8 and lower\n    if (isIE && version < 9) {\n        var link = document.createElement(\'a\');\n        link.href = url;\n        document.body.appendChild(link);\n        link.click();\n    }\n\n    // All other browsers can use the standard window.location.href (they don\'t lose HTTP_REFERER like Internet Explorer 8 & lower does)\n    else { \n        window.location.href = url; \n    }\n}ShareImprove this answerFolloweditedJun 20, 2020 at 9:12CommunityBot111 silver badgeansweredJul 27, 2012 at 14:41Mark Pieszak - Trilon.ioMark Pieszak - Trilon.io65.3k1414 gold badges8383 silver badges9696 bronze badges\n\nThere are lots of ways of doing this.// window.location\nwindow.location.replace(\'http://www.example.com\')\nwindow.location.assign(\'http://www.example.com\')\nwindow.location.href = \'http://www.example.com\'\ndocument.location.href = \'/path\'\n\n// window.history\nwindow.history.back()\nwindow.history.go(-1)\n\n// window.navigate; ONLY for old versions of Internet Explorer\nwindow.navigate(\'top.jsp\')\n\n\n// Probably no bueno\nself.location = \'http://www.example.com\';\ntop.location = \'http://www.example.com\';\n\n// jQuery\n$(location).attr(\'href\',\'http://www.example.com\')\n$(window).attr(\'location\',\'http://www.example.com\')\n$(location).prop(\'href\', \'http://www.example.com\')ShareImprove this answerFolloweditedJan 16, 2019 at 10:28answeredJan 28, 2014 at 4:28Govind SinghGovind Singh15.4k1414 gold badges7474 silver badges107107 bronze badges\n\nThis works for every browser:window.location.href = \'your_url\';ShareImprove this answerFolloweditedDec 4, 2014 at 20:30Jeremy W1,92966 gold badges3030 silver badges3939 bronze badgesansweredOct 22, 2010 at 23:45FredFred3,74911 gold badge1515 silver badges22 bronze badges\n\nIt would help if you were a little more descriptive in what you are trying to do.  If you are trying to generate paged data, there are some options in how you do this.  You can generate separate links for each page that you want to be able to get directly to.<a href=\'/path-to-page?page=1\' class=\'pager-link\'>1</a>\n<a href=\'/path-to-page?page=2\' class=\'pager-link\'>2</a>\n<span class=\'pager-link current-page\'>3</a>\n...Note that the current page in the example is handled differently in the code and with CSS.If you want the paged data to be changed via AJAX, this is where jQuery would come in.  What you would do is add a click handler to each of the anchor tags corresponding to a different page.  This click handler would invoke some jQuery code that goes and fetches the next page via AJAX and updates the table with the new data.  The example below assumes that you have a web service that returns the new page data.$(document).ready( function() {\n    $(\'a.pager-link\').click( function() {\n        var page = $(this).attr(\'href\').split(/\\?/)[1];\n        $.ajax({\n            type: \'POST\',\n            url: \'/path-to-service\',\n            data: page,\n            success: function(content) {\n               $(\'#myTable\').html(content);  // replace\n            }\n        });\n        return false; // to stop link\n    });\n});ShareImprove this answerFollowansweredFeb 2, 2009 at 13:18tvanfossontvanfosson530k102102 gold badges698698 silver badges798798 bronze badges\n\nI also think thatlocation.replace(URL)is the best way, but if you want to notify the search engines about your redirection (they don\'t analyze JavaScript code to see the redirection) you should add therel=""canonical""meta tag to your website.Adding a noscript section with a HTML refresh meta tag in it, is also a good solution. I suggest you to use thisJavaScript redirection toolto create redirections. It also has Internet Explorer support to pass the HTTP referrer.Sample code without delay looks like this:<!-- Place this snippet right after opening the head tag to make it work properly -->\n\n    <!-- This code is licensed under GNU GPL v3 -->\n    <!-- You are allowed to freely copy, distribute and use this code, but removing author credit is strictly prohibited -->\n    <!-- Generated by http://insider.zone/tools/client-side-url-redirect-generator/ -->\n\n    <!-- REDIRECTING STARTS -->\n    <link rel=""canonical"" href=""https://yourdomain.example/""/>\n    <noscript>\n        <meta http-equiv=""refresh"" content=""0;URL=https://yourdomain.example/"">\n    </noscript>\n    <!--[if lt IE 9]><script type=""text/javascript"">var IE_fix=true;</script><![endif]-->\n    <script type=""text/javascript"">\n        var url = ""https://yourdomain.example/"";\n        if(typeof IE_fix != ""undefined"") // IE8 and lower fix to pass the http referer\n        {\n            document.write(""redirecting...""); // Don\'t remove this line or appendChild() will fail because it is called before document.onload to make the redirect as fast as possible. Nobody will see this text, it is only a tech fix.\n            var referLink = document.createElement(""a"");\n            referLink.href = url;\n            document.body.appendChild(referLink);\n            referLink.click();\n        }\n        else { window.location.replace(url); } // All other browsers\n    </script>\n    <!-- Credit goes to http://insider.zone/ -->\n    <!-- REDIRECTING ENDS -->ShareImprove this answerFolloweditedJul 1, 2023 at 21:01shA.t16.9k55 gold badges5757 silver badges119119 bronze badgesansweredApr 25, 2013 at 10:12Patartics MilánPatartics Milán4,91844 gold badges2828 silver badges3232 bronze badges\n\nBut if someone wants to redirect back to home page then he may use the following snippet.window.location = window.location.hostIt would be helpful if you have three different environments as development, staging, and production.You can explore this window or window.location object by just putting these words in Chrome Console orFirebug\'s Console.ShareImprove this answerFolloweditedJan 21, 2017 at 20:07answeredOct 30, 2012 at 12:15Nadeem YasinNadeem Yasin4,50433 gold badges3333 silver badges4141 bronze badges\n\nJavaScript provides you many methods to retrieve and change the current URL which is displayed in browser\'s address bar. All these methods uses the Location object, which is  a property of the Window object. You can create a new Location object that has the current URL as follows..var currentLocation = window.location;Basic Structure of a URL<protocol>//<hostname>:<port>/<pathname><search><hash>Protocol -- Specifies the protocol name be used to access the resource on the Internet. (HTTP (without SSL) or HTTPS (with SSL))hostname -- Host name specifies the host that owns the resource. For example, www.stackoverflow.com. A server provides services using the name of the host.port -- A port number used to recognize a specific process to which an Internet or other network message is to be forwarded when it arrives at a server.pathname -- The path gives info about the specific resource within the host that the Web client wants to access. For example, stackoverflow.com/index.html.query --  A query string follows the path component, and provides a string of information that the resource can utilize for some purpose (for example, as parameters for a search or as data to be processed).hash -- The anchor portion of a URL, includes the hash sign (#).With these Location object properties you can access all of these URL componentshash-Sets or returns the anchor portion of a URL.host-Sets\nor returns the hostname and port of a URL.hostname-Sets or\nreturns the hostname of a URL.href-Sets or returns the entire\nURL.pathname-Sets or returns the path name of a URL.port-Sets or returns the port number the server uses for a URL.protocol-Sets or returns the protocol of a URL.search-Sets\nor returns the query portion of a URLNow If you want to change a page or redirect the user to some other page you can use thehrefproperty of the Location object like thisYou can use the href property of the Location object.window.location.href = ""http://www.stackoverflow.com"";Location Objectalso have these three methodsassign()-- Loads a new document.reload()-- Reloads the current document.replace()-- Replaces the current document with a new oneYou can use assign() and replace methods also to redirect to other pages like theselocation.assign(""http://www.stackoverflow.com"");\n\nlocation.replace(""http://www.stackoverflow.com"");How assign() and replace() differs-- The difference between replace() method and assign() method(), is that replace() removes the URL of the current document from the document history, means it is not possible to use the ""back"" button to navigate back to the original document. So Use the assign() method if you want to load a new document, andwant to give the option to navigate back to the original document.You can change the location object href property usingjQueryalso  like this$(location).attr(\'href\',url);And hence you can redirect the user to some other url.ShareImprove this answerFolloweditedOct 24, 2017 at 9:52Ondrej50211 gold badge33 silver badges1212 bronze badgesansweredDec 23, 2013 at 13:35Nikhil AgrawalNikhil Agrawal26.4k2121 gold badges9292 silver badges127127 bronze badges\n\nBasicallyjQueryis just aJavaScriptframework and for doing some of the things likeredirectionin this case, you can just use pure JavaScript, so in that case you have 3 options using vanilla JavaScript:1) Using locationreplace, this will replace the current history of the page, means that it is not possible to use thebackbutton to go back to the original page.window.location.replace(""http://stackoverflow.com"");2) Using locationassign, this will keep the history for you and with using back button, you can go back to the original page:window.location.assign(""http://stackoverflow.com"");3) I recommend using one of those previous ways, but this could be the third option using pure JavaScript:window.location.href=""http://stackoverflow.com"";You can also write a function in jQuery to handle it, but not recommended as it\'s only one line pure JavaScript function, also you can use all of above functions without window if you are already in the window scope, for examplewindow.location.replace(""http://stackoverflow.com"");could belocation.replace(""http://stackoverflow.com"");Also I show them all on the image below:ShareImprove this answerFolloweditedJan 18, 2019 at 23:52answeredFeb 26, 2017 at 13:36AlirezaAlireza103k2727 gold badges275275 silver badges173173 bronze badges\n\nShould just be able to set usingwindow.location.Example:window.location = ""https://stackoverflow.com/"";Here is a past post on the subject:How do I redirect to another webpage?ShareImprove this answerFolloweditedMay 19, 2019 at 13:36duplode34.2k77 gold badges8383 silver badges152152 bronze badgesansweredFeb 16, 2014 at 14:42NewseNewse2,32811 gold badge1313 silver badges77 bronze badges\n\nBefore I start, jQuery is a JavaScript library used for DOM manipulation. So you should not be using jQuery for a page redirect.A quote from Jquery.com:While jQuery might run without major issues in older browser versions,\nwe do not actively test jQuery in them and generally do not fix bugs\nthat may appear in them.It was found here:https://jquery.com/browser-support/So jQuery is not an end-all and be-all solution for backwards compatibility.The following solution using raw JavaScript works in all browsers and have been standard for a long time so you don\'t need any libraries for cross browser support.This page will redirect toGoogleafter 3000 milliseconds<!DOCTYPE html>\n<html>\n    <head>\n        <title>example</title>\n    </head>\n    <body>\n        <p>You will be redirected to google shortly.</p>\n        <script>\n            setTimeout(function(){\n                window.location.href=""http://www.google.com""; // The URL that will be redirected too.\n            }, 3000); // The bigger the number the longer the delay.\n        </script>\n    </body>\n</html>Different options are as follows:window.location.href=""url""; // Simulates normal navigation to a new page\nwindow.location.replace(""url""); // Removes current URL from history and replaces it with a new URL\nwindow.location.assign(""url""); // Adds new URL to the history stack and redirects to the new URL\n\nwindow.history.back(); // Simulates a back button click\nwindow.history.go(-1); // Simulates a back button click\nwindow.history.back(-1); // Simulates a back button click\nwindow.navigate(""page.html""); // Same as window.location=""url""When using replace, the back button will not go back to the redirect page, as if it was never in the history. If you want the user to be able to go back to the redirect page then usewindow.location.hreforwindow.location.assign. If you do use an option that lets the user go back to the redirect page, remember that when you enter the redirect page it will redirect you back. So put that into consideration when picking an option for your redirect. Under conditions where the page is only redirecting when an action is done by the user then having the page in the back button history will be okay. But if the page auto redirects then you should use replace so that the user can use the back button without getting forced back to the page the redirect sends.You can also use meta data to run a page redirect as followed.META Refresh<meta http-equiv=""refresh"" content=""0;url=http://evil.example/"" />META Location<meta http-equiv=""location"" content=""URL=http://evil.example"" />BASE Hijacking<base href=""http://evil.example/"" />Many more methods to redirect your unsuspecting client to a page they may not wish to go can be found on this page (not one of them is reliant on jQuery):https://code.google.com/p/html5security/wiki/RedirectionMethodsI would also like to point out, people don\'t like to be randomly redirected. Only redirect people when absolutely needed. If you start redirecting people randomly they will never go to your site again.The next paragraph is hypothetical:You also may get reported as a malicious site. If that happens then when people click on a link to your site the users browser may warn them that your site is malicious. What may also happen is search engines may start dropping your rating if people are reporting a bad experience on your site.Please review Google Webmaster Guidelines about redirects:https://support.google.com/webmasters/answer/2721217?hl=en&ref_topic=6001971Here is a fun little page that kicks you out of the page.<!DOCTYPE html>\n<html>\n    <head>\n        <title>Go Away</title>\n    </head>\n    <body>\n        <h1>Go Away</h1>\n        <script>\n            setTimeout(function(){\n                window.history.back();\n            }, 3000);\n        </script>\n    </body>\n</html>If you combine the two page examples together you would have an infant loop of rerouting that will guarantee that your user will never want to use your site ever again.ShareImprove this answerFolloweditedJun 19, 2022 at 10:04Stephen Ostermiller♦24.9k1616 gold badges9393 silver badges111111 bronze badgesansweredAug 27, 2014 at 21:50Patrick W. McMahonPatrick W. McMahon3,52811 gold badge2121 silver badges3131 bronze badges\n\nvar url = \'asdf.html\';\nwindow.location.href = url;ShareImprove this answerFolloweditedMay 1, 2012 at 20:35Ben Lee53.1k1414 gold badges126126 silver badges146146 bronze badgesansweredOct 13, 2009 at 9:36user188973user188973\n\nYou can do that without jQuery as:window.location = ""http://yourdomain.com"";And if you want only jQuery then you can do it like:$jq(window).attr(""location"",""http://yourdomain.com"");ShareImprove this answerFolloweditedNov 29, 2014 at 6:13Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMay 23, 2012 at 13:03ScoRpionScoRpion11.4k2424 gold badges6868 silver badges9191 bronze badges\n\nThis works with jQuery:$(window).attr(""location"", ""http://google.fr"");ShareImprove this answerFolloweditedOct 30, 2016 at 16:11Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredSep 5, 2011 at 17:25xloadxxloadx1,56311 gold badge99 silver badges22 bronze badges\n\n# HTML Page Redirect Using jQuery/JavaScript MethodTry this example code:function YourJavaScriptFunction()\n{\n    var i = $(\'#login\').val();\n    if (i == \'login\')\n        window.location = ""Login.php"";\n    else\n        window.location = ""Logout.php"";\n}If you want to give a complete URL aswindow.location = ""www.google.co.in"";.ShareImprove this answerFolloweditedAug 20, 2020 at 4:53answeredFeb 6, 2014 at 10:28Sakthi KarthikSakthi Karthik3,16944 gold badges2727 silver badges2929 bronze badges\n\nOriginal question:""How to redirect using jQuery?"", hence the answer implements jQuery >> Complimentary usage case.To just redirect to a page with JavaScript:window.location.href = ""/contact/"";Or if you need a delay:setTimeout(function () {\n  window.location.href = ""/contact/"";\n}, 2000);   // Time in millisecondsjQuery allows you to select elements from a web page with ease. You can find anything you want on a page and then use jQuery to add special effects, react to user actions, or show and hide content inside or outside the element you have selected. All these tasks start with knowinghow to select an element or an event.$(\'a,img\').on(\'click\',function(e){\n  e.preventDefault();\n  $(this).animate({\n    opacity: 0 //Put some CSS animation here\n  }, 500);\n  setTimeout(function(){\n    // OK, finished jQuery staff, let\'s go redirect\n    window.location.href = ""/contact/"";\n  },500);\n});Imagine someone wrote a script/plugin with 10000 lines of code. With jQuery you can connect to this code with just a line or two.ShareImprove this answerFolloweditedSep 24, 2019 at 16:17jonju2,74111 gold badge1414 silver badges1919 bronze badgesansweredDec 26, 2014 at 19:08SergeDirectSergeDirect2,0691515 silver badges2020 bronze badges\n\nSo, the question is how to make a redirect page, and not how to redirect to a website?You only need to use JavaScript for this. Here is some tiny code that will create a dynamic redirect page.<script>\n    var url = window.location.search.split(\'url=\')[1]; // Get the URL after ?url=\n    if( url ) window.location.replace(url);\n</script>So say you just put this snippet into aredirect/index.htmlfile on your website you can use it like so.http://www.mywebsite.com/redirect?url=http://stackoverflow.comAnd if you go to that link it will automatically redirect you tostackoverflow.com.Link to DocumentationAnd that\'s how you make aSimpleredirect page with JavaScriptEdit:There is also one thing to note. I have addedwindow.location.replacein my code because I think it suits a redirect page, but, you must know that when usingwindow.location.replaceand you get redirected, when you press the back button in your browser it willnotgot back to the redirect page, and it will go back to the page before it, take a look at this little demo thing.Example:The process:store home=>redirect page to google=>googleWhen at google:google=>back button in browser=>store homeSo, if this suits your needs then everything should be fine. If you want to include the redirect page in the browser history replace thisif( url ) window.location.replace(url);withif( url ) window.location.href = url;ShareImprove this answerFolloweditedJun 20, 2020 at 9:12CommunityBot111 silver badgeansweredAug 30, 2013 at 23:46iConnoriConnor20.1k1414 gold badges6464 silver badges9797 bronze badges\n\nYou need to put this line in your code:$(location).attr(""href"",""http://stackoverflow.com"");If you don\'t have jQuery, go with JavaScript:window.location.replace(""http://stackoverflow.com"");\nwindow.location.href(""http://stackoverflow.com"");ShareImprove this answerFolloweditedMar 28, 2019 at 5:20answeredJan 27, 2014 at 10:11Ashish RatanAshish Ratan2,86011 gold badge2525 silver badges5151 bronze badges\n\nOn your click function, just add:window.location.href = ""The URL where you want to redirect"";\n$(\'#id\').click(function(){\n    window.location.href = ""http://www.google.com"";\n});ShareImprove this answerFolloweditedOct 26, 2014 at 10:44Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredNov 14, 2012 at 2:17SwaprksSwaprks1,5531111 silver badges1616 bronze badges\n\nTry this:location.assign(""http://www.google.com"");Code snippet of example.ShareImprove this answerFolloweditedJan 2, 2016 at 4:29stites5,09355 gold badges3434 silver badges4343 bronze badgesansweredNov 19, 2013 at 4:01tilaktilak4,68166 gold badges3535 silver badges4646 bronze badges\n\njQuery is not needed. You can do this:window.open(""URL"",""_self"","""","""")It is that easy!The best way to initiate an HTTP request is withdocument.loacation.href.replace(\'URL\').ShareImprove this answerFolloweditedApr 3, 2014 at 21:23Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJul 11, 2013 at 17:40brenbren4,27433 gold badges2929 silver badges4444 bronze badges\n\nJavaScript is very extensive. If you want to jump to another page you have three options.window.location.href=\'otherpage.com\';\nwindow.location.assign(\'otherpage.com\');\n//and...\n\nwindow.location.replace(\'otherpage.com\');As you want to move to another page, you can use any from these if this is your requirement.However all three options are limited to different situations. Chose wisely according to your requirement.If you are interested in more knowledge about the concept, you can go through further.window.location.href;     // Returns the href (URL) of the current page\nwindow.location.hostname; // Returns the domain name of the web host\nwindow.location.pathname; // Returns the path and filename of the current page\nwindow.location.protocol; // Returns the web protocol used (http: or https:)\nwindow.location.assign;   // Loads a new document\nwindow.location.replace;  // Replace the current location with new one.ShareImprove this answerFolloweditedJul 1, 2023 at 21:24shA.t16.9k55 gold badges5757 silver badges119119 bronze badgesansweredMar 30, 2018 at 11:43Mustkeem KMustkeem K8,64822 gold badges3333 silver badges4444 bronze badges\n\nUsing JavaScript:Method 1:window.location.href=""http://google.com"";Method 2:window.location.replace(""http://google.com"");Using jQuery:Method 1: $(location)$(location).attr(\'href\', \'http://google.com\');Method 2: Reusable FunctionjQuery.fn.redirectTo = function(url){\n    window.location.href = url;\n}\n\njQuery(window).redirectTo(""http://google.com"");ShareImprove this answerFolloweditedSep 25, 2019 at 17:32Souleste1,92411 gold badge1414 silver badges4040 bronze badgesansweredFeb 23, 2017 at 23:01Kalpesh PanchalKalpesh Panchal98599 silver badges2121 bronze badges\n\nFirst write properly. You want to navigate within an application for another link from your application for another link. Here is the code:window.location.href = ""http://www.google.com"";And if you want to navigate pages within your application then I also have code, if you want.ShareImprove this answerFolloweditedApr 3, 2014 at 21:20Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJun 6, 2013 at 12:37AnupAnup3,34311 gold badge2929 silver badges3838 bronze badges\n\nYou can redirect in jQuery like this:$(location).attr(\'href\', \'http://yourPage.com/\');ShareImprove this answerFolloweditedJul 3, 2016 at 5:01Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredSep 5, 2014 at 16:36Azam AlviAzam Alvi7,00888 gold badges6464 silver badges8989 bronze badges\n\nFirst WayHere is the jQuery code for redirecting a page. Since, I have put this code on the $(document).ready() function, it will execute as soon as the page is loaded.var url = ""http://stackoverflow.com"";\n$(location).attr(\'href\',url);You can even pass a URL directly to theattr()method, instead of using a variable.Second Waywindow.location.href=""http://stackoverflow.com"";You can also code like this (both are same internally):window.location=""http://stackoverflow.com"";If you are curious about the difference between window.location andwindow.location.href, then you can see that the latter one is settinghrefproperty explicitly, while the former one does it implicitly. Sincewindow.locationreturns an object, which by default sets its.hrefproperty.Third WayThere is another way to redirect a page using JavaScript, thereplace()method ofwindow.locationobject. You can pass a new URL to thereplace()method, and it will simulate an HTTP redirect. By the way, remember thatwindow.location.replace()method doesn\'t put the originating page in the session history, which may affect behavior of the back button. Sometime, it\'s what you want, so use it carefully.// Doesn\'t put originating page in history\nwindow.location.replace(""http://stackoverflow.com"");Fourth WayThelocation.assign()method loads a new document in the browser window.window.location.assign(""http://stackoverflow.com"");The difference betweenassign()andreplace()method is that thelocation.replace()method deletes the current URL from the document history, so it is unable to navigate back to the original document. You can\'t use the browsersBackbutton in this case. If you want to avoid this situation, you should uselocation.assign()method, because it loads a new Document in the browser.Fifth Waylikeattr()method (after jQuery 1.6 introduce)var url = ""http://stackoverflow.com"";\n$(location).prop(\'href\', url);ShareImprove this answerFolloweditedMar 10, 2023 at 8:11answeredMar 3, 2016 at 10:50Divyesh KanzariyaDivyesh Kanzariya3,74933 gold badges4646 silver badges4646 bronze badges\n\nIn JavaScript and jQuery we can use the following code to redirect the one page to another page:window.location.href=""http://google.com"";\nwindow.location.replace(""page1.html"");ShareImprove this answerFolloweditedApr 3, 2014 at 21:22Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJul 1, 2013 at 4:11user2496033user2496033\n\nECMAScript 6 + jQuery, 85 bytes$({jQueryCode:(url)=>location.replace(url)}).attr(""jQueryCode"")(""http://example.com"")Please don\'t kill me, this is a joke. It\'s a joke.This is a joke.This did ""provide an answer to the question"", in the sense that it asked for a solution ""using jQuery"" which in this case entails forcing it into the equation somehow.Ferrybig apparently needs the joke explained (still joking, I\'m sure there are limited options on the review form), so without further ado:Other answers are using jQuery\'sattr()on thelocationorwindowobjects unnecessarily.This answer also abuses it, but in a more ridiculous way. Instead of using it to set the location, this usesattr()to retrieve a function that sets the location.The function is namedjQueryCodeeven though there\'s nothing jQuery about it, and calling a functionsomethingCodeis just horrible, especially when the something is not even a language.The ""85 bytes"" is a reference to Code Golf. Golfing is obviously not something you should do outside of code golf, and furthermore this answer is clearly not actually golfed.Basically, cringe.ShareImprove this answerFolloweditedOct 30, 2016 at 16:27Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredApr 13, 2016 at 16:231j011j014,05033 gold badges2929 silver badges3434 bronze badges\n\nJavascript:window.location.href=\'www.your_url.com\';\nwindow.top.location.href=\'www.your_url.com\';\nwindow.location.replace(\'www.your_url.com\');Jquery:var url=\'www.your_url.com\';\n$(location).attr(\'href\',url);\n$(location).prop(\'href\',url);//instead of location you can use windowShareImprove this answerFolloweditedMay 4, 2017 at 12:12answeredMay 22, 2015 at 5:18lalithkumarlalithkumar3,53244 gold badges2525 silver badges4343 bronze badges'}","{'title': 'How do I check whether a file exists without exceptions?', 'question': 'How do I check whether a file exists or not, without using thetrystatement?pythonfilefile-existsShareImprove this questionFolloweditedMar 27, 2021 at 19:42syntagma24k1616 gold badges8282 silver badges140140 bronze badgesaskedSep 17, 2008 at 12:55spence91spence9179.1k99 gold badges2828 silver badges2020 bronze badges', 'answers': 'If the reason you\'re checking is so you can do something likeif file_exists: open_it(), it\'s safer to use atryaround the attempt to open it. Checking and then opening risks the file being deleted or moved or something between when you check and when you try to open it.If you\'re not planning to open the file immediately, you can useos.path.isfileif you need to be sure it\'s a file.ReturnTrueif path is an existing regular file. This follows symbolic links, so bothislink()andisfile()can be true for the same path.import os.path\nos.path.isfile(fname)pathlibStarting with Python 3.4, thepathlibmoduleoffers an object-oriented approach (backported topathlib2in Python 2.7):from pathlib import Path\n\nmy_file = Path(""/path/to/file"")\nif my_file.is_file():\n    # file existsTo check a directory, do:if my_file.is_dir():\n    # directory existsTo check whether aPathobject exists independently of whether is it a file or directory, useexists():if my_file.exists():\n    # path existsYou can also useresolve(strict=True)in atryblock:try:\n    my_abs_path = my_file.resolve(strict=True)\nexcept FileNotFoundError:\n    # doesn\'t exist\nelse:\n    # existsShareImprove this answerFolloweditedJun 29 at 17:58wjandrea31.6k99 gold badges6666 silver badges8888 bronze badgesansweredSep 17, 2008 at 12:57rsliterslite83.7k44 gold badges4646 silver badges4747 bronze badges\n\nUseos.path.existsto check both files and directories:import os.path\nos.path.exists(file_path)Useos.path.isfileto check only files (note: followssymbolic links):os.path.isfile(file_path)ShareImprove this answerFolloweditedOct 4, 2022 at 19:30Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredSep 17, 2008 at 12:57PierreBdRPierreBdR42.9k1010 gold badges4747 silver badges6565 bronze badges\n\nUnlikeisfile(),exists()will returnTruefor directories. So depending on if you want only plain files or also directories, you\'ll useisfile()orexists(). Here is some simpleREPLoutput:>>> os.path.isfile(""/etc/password.txt"")\nTrue\n>>> os.path.isfile(""/etc"")\nFalse\n>>> os.path.isfile(""/does/not/exist"")\nFalse\n>>> os.path.exists(""/etc/password.txt"")\nTrue\n>>> os.path.exists(""/etc"")\nTrue\n>>> os.path.exists(""/does/not/exist"")\nFalseShareImprove this answerFolloweditedOct 4, 2022 at 19:31Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredSep 17, 2008 at 15:01bortzmeyerbortzmeyer35.1k1212 gold badges6969 silver badges9191 bronze badges\n\nimport os\n\nif os.path.isfile(filepath):\n   print(""File exists"")ShareImprove this answerFolloweditedNov 9, 2021 at 13:50Iacchus2,80822 gold badges3030 silver badges2525 bronze badgesansweredSep 17, 2008 at 12:55PaulPaul18.5k77 gold badges5050 silver badges5656 bronze badges\n\nUseos.path.isfile()withos.access():import os\n\nPATH = \'./file.txt\'\nif os.path.isfile(PATH) and os.access(PATH, os.R_OK):\n    print(""File exists and is readable"")\nelse:\n    print(""Either the file is missing or not readable"")ShareImprove this answerFolloweditedMar 26, 2020 at 11:35null2,07711 gold badge1919 silver badges2626 bronze badgesansweredJan 16, 2012 at 5:57Yugal JindleYugal Jindle45.2k4343 gold badges133133 silver badges199199 bronze badges\n\nimport os\nos.path.exists(path) # Returns whether the path (directory or file) exists or not\nos.path.isfile(path) # Returns whether the file exists or notShareImprove this answerFolloweditedJun 2, 2018 at 20:52Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredSep 17, 2008 at 12:56benefactualbenefactual7,14555 gold badges2424 silver badges1616 bronze badges\n\nAlthough almost every possible way has been listed in (at least one of) the existing answers (e.g.Python 3.4specific stuff was added), I\'ll try to group everything together.Note: every piece ofPythonstandard library code that I\'m going to post, belongs to version3.5.3.Problem statement:Check file (arguable: also folder (""special"" file) ?) existenceDon\'t usetry/except/else/finallyblocksPossible solutions:1.[Python.Docs]: os.path.exists(path)Also check other function family members likeos.path.isfile,os.path.isdir,os.path.lexistsfor slightly different behaviors:ReturnTrueifpathrefers to an existing path or an open file descriptor. ReturnsFalsefor broken symbolic links. On some platforms, this function may returnFalseif permission is not granted to executeos.stat()on the requested file, even if thepathphysically exists.All good, but if following the import tree:os.path-posixpath.py(ntpath.py)genericpath.py- line~20+def exists(path):\n    """"""Test whether a path exists.  Returns False for broken symbolic links""""""\n    try:\n        st = os.stat(path)\n    except os.error:\n        return False\n    return Trueit\'s just atry/exceptblock around[Python.Docs]: os.stat(path, *, dir_fd=None, follow_symlinks=True). So, your code istry/exceptfree, but lower in the framestack there\'s (at least)onesuch block. This also applies to other functions (includingos.path.isfile).1.1.[Python.Docs]: pathlib - Path.is_file()It\'s a fancier (and more[Wiktionary]: Pythonic) way of handling paths,butUnder the hood, it doesexactlythe same thing (pathlib.py- line~1330):def is_file(self):\n    """"""\n    Whether this path is a regular file (also True for symlinks pointing\n        to regular files).\n    """"""\n    try:\n        return S_ISREG(self.stat().st_mode)\n    except OSError as e:\n        if e.errno not in (ENOENT, ENOTDIR):\n            raise\n        # Path doesn\'t exist or is a broken symlink\n        # (see https://bitbucket.org/pitrou/pathlib/issue/12/)\n        return False2.[Python.Docs]: With Statement Context ManagersEither:Create one:class Swallow:  # Dummy example\n    swallowed_exceptions = (FileNotFoundError,)\n\n    def __enter__(self):\n        print(""Entering..."")\n\n    def __exit__(self, exc_type, exc_value, exc_traceback):\n        print(""Exiting:"", exc_type, exc_value, exc_traceback)\n        # Only swallow FileNotFoundError (not e.g. TypeError - if the user passes a wrong argument like None or float or ...)\n        return exc_type in Swallow.swallowed_exceptionsAnd its usage - I\'ll replicate theos.path.isfilebehavior (note that this is just for demonstrating purposes, donotattempt to write such code forproduction):import os\nimport stat\n\n\ndef isfile_seaman(path):  # Dummy func\n    result = False\n    with Swallow():\n        result = stat.S_ISREG(os.stat(path).st_mode)\n    return resultUse[Python.Docs]: contextlib.suppress(*exceptions)- which wasspecificallydesigned for selectively suppressing exceptionsBut, they seem to be wrappers overtry/except/else/finallyblocks, as[Python.Docs]: Compound statements - The with statementstates:This allows commontry...except...finallyusage patterns to be encapsulated for convenient reuse.3. Filesystem traversal functionsSearch the results for matching item(s):[Python.Docs]: os.listdir(path=\'.\')(or[Python.Docs]: os.scandir(path=\'.\')onPython v3.5+, backport:[PyPI]: scandir)Under the hood, both use:Nix:[Man7]: OPENDIR(3)/[Man7]: READDIR(3)/[Man7]: CLOSEDIR(3)Win:[MS.Learn]: FindFirstFileW function (fileapi.h)/[MS.Learn]: FindNextFileW function (fileapi.h)/[MS.Learn]: FindClose function (fileapi.h)via[GitHub]: python/cpython - (main) cpython/Modules/posixmodule.cUsingscandir()instead oflistdir()can significantly increase the performance of code that also needs file type or file attribute information, becauseos.DirEntryobjects expose this information if the operating system provides it when scanning a directory. Allos.DirEntrymethods may perform a system call, butis_dir()andis_file()usually only require a system call for symbolic links;os.DirEntry.stat()always requires a system call on Unix, but only requires one for symbolic links on Windows.[Python.Docs]: os.walk(top, topdown=True, onerror=None, followlinks=False)Usesos.listdir(os.scandirwhen available)[Python.Docs]: glob.iglob(pathname, *, root_dir=None, dir_fd=None, recursive=False, include_hidden=False)(or its predecessor:glob.glob)Doesn\'t seem a traversing functionper se(at least in some cases), but it still usesos.listdirSince these iterate over folders, (in most of the cases) they are inefficient for our problem (there are exceptions, like non wildcarded globbing - as @ShadowRanger pointed out), so I\'m not going to insist on them. Not to mention that in some cases, filename processing might be required.4.[Python.Docs]: os.access(path, mode, *, dir_fd=None, effective_ids=False, follow_symlinks=True)Its behavior is close toos.path.exists(actually it\'s wider, mainly because of the 2ndargument).User permissionsmight restrict the file ""visibility"" as thedocstates:... test if the invoking user has the specified access topath.modeshould beF_OKto test the existence of path...Security considerations:Usingaccess()to check if a user is authorized to e.g. open a file before actually doing so usingopen()creates a security hole, because the user might exploit the short time interval between checking and opening the file to manipulate it.os.access(""/tmp"", os.F_OK)Since I also work inC, I use this method as well because under the hood, it callsnativeAPIs(again, via ""${PYTHON_SRC_DIR}/Modules/posixmodule.c""), but it also opens a gate for possibleuser errors, and it\'s not asPythonic as other variants. So, don\'t use it unless you know what you\'re doing:Nix:[Man7]: ACCESS(2)Warning: Using these calls to check if a user is authorized to, for example, open a file before actually doing so usingopen(2)creates a security hole, because the user might exploit the short time interval between checking and opening the file to manipulate it.For this reason, the use of this system call should be avoided.Win:[MS.Learn]: GetFileAttributesW function (fileapi.h)As seen,this approach is highly discouraged(especially onNix).Note: calling nativeAPIs is also possible via[Python.Docs]: ctypes - A foreign function library for Python, but in most cases it\'s more complicated. Before working withCTypes, check[SO]: C function called from Python via ctypes returns incorrect value (@CristiFati\'s answer)out.(Winspecific): sincevcruntime###.dll(msvcr###.dllfor olderVStudioversions - I\'m going to refer to it asUCRT) exports a[MS.Learn]: _access, _waccessfunction family as well, here\'s an example (note that the recommended[Python.Docs]: msvcrt - Useful routines from the MS VC++ runtimedoesn\'t export them):Python 3.5.3 (v3.5.3:1880cb95a742, Jan 16 2017, 16:02:32) [MSC v.1900 64 bit (AMD64)] on win32\nType ""help"", ""copyright"", ""credits"" or ""license"" for more information.\n>>> import ctypes as cts, os\n>>> cts.CDLL(""msvcrt"")._waccess(u""C:\\\\Windows\\\\Temp"", os.F_OK)\n0\n>>> cts.CDLL(""msvcrt"")._waccess(u""C:\\\\Windows\\\\Temp.notexist"", os.F_OK)\n-1Notes:Although it\'s not a good practice, I\'m usingos.F_OKin the call, but that\'s just for clarity (its value is0)I\'m using_waccessso that the same code works onPython 3andPython 2(in spite of[Wikipedia]: Unicoderelated differences between them -[SO]: Passing utf-16 string to a Windows function (@CristiFati\'s answer))Although this targets a very specific area,it was not mentioned in any of the previous answersTheLinux(Ubuntu([Wikipedia]: Ubuntu version history)16 x86_64(pc064)) counterpart as well:Python 3.5.2 (default, Nov 17 2016, 17:05:23)\n[GCC 5.4.0 20160609] on linux\nType ""help"", ""copyright"", ""credits"" or ""license"" for more information.\n>>> import ctypes as cts, os\n>>> cts.CDLL(""/lib/x86_64-linux-gnu/libc.so.6"").access(b""/tmp"", os.F_OK)\n0\n>>> cts.CDLL(""/lib/x86_64-linux-gnu/libc.so.6"").access(b""/tmp.notexist"", os.F_OK)\n-1Notes:Instead hardcodinglibc.so(LibC)\'s path (""/lib/x86_64-linux-gnu/libc.so.6"") which may (and most likely, will) vary across systems,None(or the empty string) can be passed toCDLLconstructor (ctypes.CDLL(None).access(b""/tmp"", os.F_OK)). According to[Man7]: DLOPEN(3):Iffilenameis NULL, then the returned handle is for the main\nprogram.  When given todlsym(3), this handle causes a search for a\nsymbol in the main program, followed by all shared objects loaded at\nprogram startup, and then all shared objects loaded bydlopen() with\nthe flagRTLD_GLOBAL.Main (current) program (python) is linked againstLibC, so its symbols (includingaccess) will be loadedThis has to be handled with care, since functions likemain,Py_Mainand (all the) others are available; calling them could have disastrous effects (on the current program)This doesn\'t also apply toWindows(but that\'s not such a big deal, sinceUCRTis located in ""%SystemRoot%\\System32"" which is in%PATH%by default). I wanted to take things further and replicate this behavior onWindows(and submit a patch), but as it turns out,[MS.Learn]: GetProcAddress function (libloaderapi.h)only ""sees""exportedsymbols, so unless someone declares the functions in the main executable as__declspec(dllexport)(why on Earth the common person would do that?), the main program is loadable, but it is pretty much unusable5. 3rd-party modules with filesystem capabilitiesMost likely, will rely on one of the ways above (maybe with slight customizations).One example would be (again,Winspecific)[GitHub]: mhammond/pywin32 - Python for Windows (pywin32) Extensions, which is aPythonwrapper overWinAPIs.But, since this is more like a workaround, I\'m stopping here.6.SysAdminapproachI consider this a (lame) workaround (gainarie): usePythonas a wrapper to execute shell commands:Win:(py35x64_test) [cfati@CFATI-5510-0:e:\\Work\\Dev\\StackOverflow\\q000082831]> ""e:\\Work\\Dev\\VEnvs\\py35x64_test\\Scripts\\python.exe"" -c ""import os; print(os.system(\'dir /b \\""C:\\\\Windows\\\\Temp\\"" > nul 2>&1\'))""\n0\n\n(py35x64_test) [cfati@CFATI-5510-0:e:\\Work\\Dev\\StackOverflow\\q000082831]> ""e:\\Work\\Dev\\VEnvs\\py35x64_test\\Scripts\\python.exe"" -c ""import os; print(os.system(\'dir /b \\""C:\\\\Windows\\\\Temp.notexist\\"" > nul 2>&1\'))""\n1Nix([Wikipedia]: Unix-like) -Ubuntu:[cfati@cfati-5510-0:/mnt/e/Work/Dev/StackOverflow/q000082831]> python3 -c ""import os; print(os.system(\'ls \\""/tmp\\"" > /dev/null 2>&1\'))""\n0\n[cfati@cfati-5510-0:/mnt/e/Work/Dev/StackOverflow/q000082831]> python3 -c ""import os; print(os.system(\'ls \\""/tmp.notexist\\"" > /dev/null 2>&1\'))""\n512Bottom line:Dousetry/except/else/finallyblocks, because they can prevent you running into a series of nasty problemsA possible counterexample that I can think of, is performance: such blocks are costly, so try not to place them in code that it\'s supposed to run hundreds of thousands times per second (but since (in most cases) it involves disk access, it won\'t be the case)ShareImprove this answerFolloweditedDec 22, 2022 at 12:08answeredJun 20, 2017 at 19:28CristiFatiCristiFati40.2k99 gold badges6262 silver badges9898 bronze badges\n\nPython 3.4+has an object-oriented path module:pathlib.  Using this new module, you can check whether a file exists like this:import pathlib\np = pathlib.Path(\'path/to/file\')\nif p.is_file():  # or p.is_dir() to see if it is a directory\n    # do stuffYou can (and usually should) still use atry/exceptblock when opening files:try:\n    with p.open() as f:\n        # do awesome stuff\nexcept OSError:\n    print(\'Well darn.\')The pathlib module has lots of cool stuff in it: convenient globbing, checking file\'s owner, easier path joining, etc.  It\'s worth checking out.  If you\'re on an older Python (version 2.6 or later), you can still install pathlib with pip:# installs pathlib2 on older Python versions\n# the original third-party module, pathlib, is no longer maintained.\npip install pathlib2Then import it as follows:# Older Python versions\nimport pathlib2 as pathlibShareImprove this answerFolloweditedSep 12, 2020 at 4:42Honest Abe8,64855 gold badges5252 silver badges6565 bronze badgesansweredFeb 8, 2014 at 2:38Cody PiersallCody Piersall8,49722 gold badges4343 silver badges5959 bronze badges\n\nThis is the simplest way to check if a file exists. Justbecausethe file existed when you checked doesn\'tguaranteethat it will be there when you need to open it.import os\nfname = ""foo.txt""\nif os.path.isfile(fname):\n    print(""file does exist at this time"")\nelse:\n    print(""no such file exists at this time"")ShareImprove this answerFolloweditedJan 14, 2018 at 4:07MrWonderful2,56011 gold badge1717 silver badges2222 bronze badgesansweredJun 27, 2013 at 13:38Avid CoderAvid Coder18.2k1414 gold badges6464 silver badges6868 bronze badges\n\nHow do I check whether a file exists, using Python, without using a try statement?Now available since Python 3.4, import and instantiate aPathobject with the file name, and check theis_filemethod (note that this returns True for symlinks pointing to regular files as well):>>> from pathlib import Path\n>>> Path(\'/\').is_file()\nFalse\n>>> Path(\'/initrd.img\').is_file()\nTrue\n>>> Path(\'/doesnotexist\').is_file()\nFalseIf you\'re on Python 2, you can backport the pathlib module from pypi,pathlib2, or otherwise checkisfilefrom theos.pathmodule:>>> import os\n>>> os.path.isfile(\'/\')\nFalse\n>>> os.path.isfile(\'/initrd.img\')\nTrue\n>>> os.path.isfile(\'/doesnotexist\')\nFalseNow the above is probably the best pragmatic direct answer here, but there\'s the possibility of a race condition (depending on what you\'re trying to accomplish), and the fact that the underlying implementation uses atry, but Python usestryeverywhere in its implementation.Because Python usestryeverywhere, there\'s really no reason to avoid an implementation that uses it.But the rest of this answer attempts to consider these caveats.Longer, much more pedantic answerAvailable since Python 3.4, use the newPathobject inpathlib. Note that.existsis not quite right, because directories are not files (except in the unix sense thateverythingis a file).>>> from pathlib import Path\n>>> root = Path(\'/\')\n>>> root.exists()\nTrueSo we need to useis_file:>>> root.is_file()\nFalseHere\'s the help onis_file:is_file(self)\n    Whether this path is a regular file (also True for symlinks pointing\n    to regular files).So let\'s get a file that we know is a file:>>> import tempfile\n>>> file = tempfile.NamedTemporaryFile()\n>>> filepathobj = Path(file.name)\n>>> filepathobj.is_file()\nTrue\n>>> filepathobj.exists()\nTrueBy default,NamedTemporaryFiledeletes the file when closed (and will automatically close when no more references exist to it).>>> del file\n>>> filepathobj.exists()\nFalse\n>>> filepathobj.is_file()\nFalseIf you dig intothe implementation, though, you\'ll see thatis_fileusestry:def is_file(self):\n    """"""\n    Whether this path is a regular file (also True for symlinks pointing\n    to regular files).\n    """"""\n    try:\n        return S_ISREG(self.stat().st_mode)\n    except OSError as e:\n        if e.errno not in (ENOENT, ENOTDIR):\n            raise\n        # Path doesn\'t exist or is a broken symlink\n        # (see https://bitbucket.org/pitrou/pathlib/issue/12/)\n        return FalseRace Conditions: Why we like tryWe liketrybecause it avoids race conditions. Withtry, you simply attempt to read your file, expecting it to be there, and if not, you catch the exception and perform whatever fallback behavior makes sense.If you want to check that a file exists before you attempt to read it, and you might be deleting it and then you might be using multiple threads or processes, or another program knows about that file and could delete it - you risk the chance of arace conditionif you check it exists, because you are thenracingto open it before itscondition(its existence) changes.Race conditions are very hard to debug because there\'s a very small window in which they can cause your program to fail.But if this is your motivation, youcanget the value of atrystatement by using thesuppresscontext manager.Avoiding race conditions without a try statement:suppressPython 3.4 gives us thesuppresscontext manager (previously theignorecontext manager), which does semantically exactly the same thing in fewer lines, while also (at least superficially) meeting the original ask to avoid atrystatement:from contextlib import suppress\nfrom pathlib import PathUsage:>>> with suppress(OSError), Path(\'doesnotexist\').open() as f:\n...     for line in f:\n...         print(line)\n... \n>>>\n>>> with suppress(OSError):\n...     Path(\'doesnotexist\').unlink()\n... \n>>>For earlier Pythons, you could roll your ownsuppress, but without atrywill be more verbose than with. I do believethis actually is the only answer that doesn\'t usetryat any level in the Pythonthat can be applied to prior to Python 3.4 because it uses a context manager instead:class suppress(object):\n    def __init__(self, *exceptions):\n        self.exceptions = exceptions\n    def __enter__(self):\n        return self\n    def __exit__(self, exc_type, exc_value, traceback):\n        if exc_type is not None:\n            return issubclass(exc_type, self.exceptions)Perhaps easier with a try:from contextlib import contextmanager\n\n@contextmanager\ndef suppress(*exceptions):\n    try:\n        yield\n    except exceptions:\n        passOther options that don\'t meet the ask for ""without try"":isfileimport os\nos.path.isfile(path)from thedocs:os.path.isfile(path)Return True if path is an existing regular file. This follows symbolic\n  links, so bothislink()andisfile()can be true for the same path.But if you examine thesourceof this function, you\'ll see it actually does use a try statement:# This follows symbolic links, so both islink() and isdir() can be true\n# for the same path on systems that support symlinks\ndef isfile(path):\n    """"""Test whether a path is a regular file""""""\n    try:\n        st = os.stat(path)\n    except os.error:\n        return False\n    return stat.S_ISREG(st.st_mode)>>> OSError is os.error\nTrueAll it\'s doing is using the given path to see if it can get stats on it,  catchingOSErrorand then checking if it\'s a file if it didn\'t raise the exception.If you intend to do something with the file, I would suggest directly attempting it with a try-except to avoid a race condition:try:\n    with open(path) as f:\n        f.read()\nexcept OSError:\n    passos.accessAvailable for Unix and Windows isos.access, but to use you must pass flags, and it does not differentiate between files and directories. This is more used to test if the real invoking user has access in an elevated privilege environment:import os\nos.access(path, os.F_OK)It also suffers from the same race condition problems asisfile. From thedocs:Note:\n  Using access() to check if a user is authorized to e.g. open a file\n  before actually doing so using open() creates a security hole, because\n  the user might exploit the short time interval between checking and\n  opening the file to manipulate it. It’s preferable to use EAFP\n  techniques. For example:if os.access(""myfile"", os.R_OK):\n    with open(""myfile"") as fp:\n        return fp.read()\nreturn ""some default data""is better written as:try:\n    fp = open(""myfile"")\nexcept IOError as e:\n    if e.errno == errno.EACCES:\n        return ""some default data""\n    # Not a permission error.\n    raise\nelse:\n    with fp:\n        return fp.read()Avoid usingos.access. It is a low level function that has more opportunities for user error than the higher level objects and functions discussed above.Criticism of another answer:Another answer says this aboutos.access:Personally, I prefer this one because under the hood, it calls native APIs (via ""${PYTHON_SRC_DIR}/Modules/posixmodule.c""), but it also opens a gate for possible user errors, and it\'s not as Pythonic as other variants:This answer says it prefers a non-Pythonic, error-prone method, with no justification. It seems to encourage users to use low-level APIs without understanding them.It also creates a context manager which, by unconditionally returningTrue, allows all Exceptions (includingKeyboardInterruptandSystemExit!) to pass silently, which is a good way to hide bugs.This seems to encourage users to adopt poor practices.ShareImprove this answerFolloweditedFeb 25, 2018 at 20:45answeredAug 11, 2015 at 3:54Aaron Hall♦Aaron Hall388k9191 gold badges409409 silver badges336336 bronze badges\n\nPrefer the try statement. It\'s considered better style and avoids race conditions.Don\'t take my word for it. There\'s plenty of support for this theory. Here\'s a couple:Style: Section ""Handling unusual conditions"" ofthese course notes forSoftware Design(2007)Avoiding Race ConditionsShareImprove this answerFolloweditedOct 4, 2022 at 19:33Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredNov 4, 2009 at 0:48pkochpkoch2,68211 gold badge1919 silver badges1818 bronze badges\n\nUse:import os\n#Your path here e.g. ""C:\\Program Files\\text.txt""\n#For access purposes: ""C:\\\\Program Files\\\\text.txt""\nif os.path.exists(""C:\\...""):\n    print ""File found!""\nelse:\n    print ""File not found!""Importingosmakes it easier to navigate and perform standard actions with your operating system.For reference, also seeHow do I check whether a file exists without exceptions?.If you need high-level operations, useshutil.ShareImprove this answerFolloweditedOct 4, 2022 at 19:44Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMay 25, 2015 at 18:29incaliteincalite3,17733 gold badges2727 silver badges3232 bronze badges\n\nTesting for files and folders withos.path.isfile(),os.path.isdir()andos.path.exists()Assuming that the ""path"" is a valid path, this table shows what is returned by each function for files and folders:You can also test if a file is a certain type of file usingos.path.splitext()to get the extension (if you don\'t already know it)>>> import os\n>>> path = ""path to a word document""\n>>> os.path.isfile(path)\nTrue\n>>> os.path.splitext(path)[1] == "".docx"" # test if the extension is .docx\nTrueShareImprove this answerFollowansweredOct 8, 2016 at 12:43Tom FullerTom Fuller5,34077 gold badges3333 silver badges4242 bronze badges\n\nTL;DRThe answer is: use thepathlibmodulePathlibis probably the most modern and convenient way for almost all of the file operations. For the existence of afileor afoldera single line of code is enough. If file is not exists, it willnotthrow any exception.from pathlib import Path\n\nif Path(""myfile.txt"").exists(): # works for both file and folders\n    # do your cool stuff...Thepathlibmodule was introduced in Python 3.4, so you need to have Python 3.4+. This library makes your life much easier while working with files and folders, and it is pretty to use. Here is more documentation about it:pathlib — Object-oriented filesystem paths.BTW, if you are going to reuse the path, then it is better to assign it to a variable.So it will become:from pathlib import Path\n\np = Path(""loc/of/myfile.txt"")\nif p.exists(): # works for both file and folders\n    # do stuffs...\n#reuse \'p\' if needed.ShareImprove this answerFolloweditedOct 4, 2022 at 17:30Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJan 23, 2021 at 9:48MeminMemin4,0163333 silver badges3232 bronze badges\n\nIn 2016 the best way is still usingos.path.isfile:>>> os.path.isfile(\'/path/to/some/file.txt\')Or in Python 3 you can usepathlib:import pathlib\npath = pathlib.Path(\'/path/to/some/file.txt\')\nif path.is_file():\n    ...ShareImprove this answerFolloweditedMay 27, 2017 at 1:00Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredFeb 24, 2016 at 12:44KaiBuxeKaiBuxe90877 silver badges88 bronze badges\n\nIt doesn\'t seem like there\'s a meaningful functional difference between try/except andisfile(), so you should use which one makes sense.If you want to read a file, if it exists, dotry:\n    f = open(filepath)\nexcept IOError:\n    print \'Oh dear.\'But if you just wanted to rename a file if it exists, and therefore don\'t need to open it, doif os.path.isfile(filepath):\n    os.rename(filepath, filepath + \'.old\')If you want to write to a file, if it doesn\'t exist, do# Python 2\nif not os.path.isfile(filepath):\n    f = open(filepath, \'w\')\n\n# Python 3: x opens for exclusive creation, failing if the file already exists\ntry:\n    f = open(filepath, \'wx\')\nexcept IOError:\n    print \'file already exists\'If you need file locking, that\'s a different matter.ShareImprove this answerFolloweditedOct 4, 2022 at 19:37Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredSep 25, 2013 at 1:52chadchad1,3491212 silver badges1010 bronze badges\n\nYou could try this (safer):try:\n    # http://effbot.org/zone/python-with-statement.htm\n    # \'with\' is safer to open a file\n    with open(\'whatever.txt\') as fh:\n        # Do something with \'fh\'\nexcept IOError as e:\n    print(""({})"".format(e))The ouput would be:([Errno 2] No such file or directory:\n  \'whatever.txt\')Then, depending on the result, your program can just keep running from there or you can code to stop it if you want.ShareImprove this answerFolloweditedMay 27, 2017 at 0:43Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJan 25, 2011 at 23:00philberndtphilberndt1,11822 gold badges1111 silver badges1515 bronze badges\n\nDate: 2017-12-04Every possible solution has been listed in other answers.An intuitive and arguable way to check if a file exists is the following:import os\n\nos.path.isfile(\'~/file.md\')  # Returns True if exists, else False\n\n# Additionally, check a directory\nos.path.isdir(\'~/folder\')  # Returns True if the folder exists, else False\n\n# Check either a directory or a file\nos.path.exists(\'~/file\')I made an exhaustive cheat sheet for your reference:# os.path methods in exhaustive cheat sheet\n{\'definition\': [\'dirname\',\n               \'basename\',\n               \'abspath\',\n               \'relpath\',\n               \'commonpath\',\n               \'normpath\',\n               \'realpath\'],\n\'operation\': [\'split\', \'splitdrive\', \'splitext\',\n               \'join\', \'normcase\'],\n\'compare\': [\'samefile\', \'sameopenfile\', \'samestat\'],\n\'condition\': [\'isdir\',\n              \'isfile\',\n              \'exists\',\n              \'lexists\'\n              \'islink\',\n              \'isabs\',\n              \'ismount\',],\n \'expand\': [\'expanduser\',\n            \'expandvars\'],\n \'stat\': [\'getatime\', \'getctime\', \'getmtime\',\n          \'getsize\']}ShareImprove this answerFolloweditedOct 4, 2022 at 17:37Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredDec 4, 2017 at 8:51WizardWizard21.3k2121 gold badges9191 silver badges155155 bronze badges\n\nAlthough I always recommend usingtryandexceptstatements, here are a few possibilities for you (my personal favourite is usingos.access):Try opening the file:Opening the file will always verify the existence of the file. You can make a function just like so:def File_Existence(filepath):\n    f = open(filepath)\n    return TrueIf it\'s False, it will stop execution with an unhanded IOError\nor OSError in later versions of Python. To catch the exception,\nyou have to use a try except clause. Of course, you can always\nuse atryexcept` statement like so (thanks tohsandtfor making me think):def File_Existence(filepath):\n    try:\n        f = open(filepath)\n    except IOError, OSError: # Note OSError is for later versions of Python\n        return False\n\n    return TrueUseos.path.exists(path):This will check the existence of what you specify. However, it checks for filesanddirectories so beware about how you use it.import os.path\n>>> os.path.exists(""this/is/a/directory"")\nTrue\n>>> os.path.exists(""this/is/a/file.txt"")\nTrue\n>>> os.path.exists(""not/a/directory"")\nFalseUseos.access(path, mode):This will check whether you have access to the file. It will check for permissions. Based on the os.py documentation, typing inos.F_OK, it will check the existence of the path. However, using this will create a security hole, as someone can attack your file using the time between checking the permissions and opening the file. You should instead go directly to opening the file instead of checking its permissions. (EAFPvsLBYP). If you\'re not going to open the file afterwards, and only checking its existence, then you can use this.Anyway, here:>>> import os\n>>> os.access(""/is/a/file.txt"", os.F_OK)\nTrueI should also mention that there are two ways that you will not be able to verify the existence of a file. Either the issue will bepermission deniedorno such file or directory. If you catch anIOError, set theIOError as e(like my first option), and then type inprint(e.args)so that you can hopefully determine your issue. I hope it helps! :)ShareImprove this answerFolloweditedMay 27, 2017 at 0:52Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredDec 26, 2014 at 20:05Zizouz212Zizouz2124,96855 gold badges4343 silver badges6666 bronze badges\n\nIf the file is for opening you could use one of the following techniques:with open(\'somefile\', \'xt\') as f: # Using the x-flag, Python 3.3 and above\n    f.write(\'Hello\\n\')\n\nif not os.path.exists(\'somefile\'): \n    with open(\'somefile\', \'wt\') as f:\n        f.write(""Hello\\n"")\nelse:\n    print(\'File already exists!\')Note: This finds either a fileora directory with the given name.ShareImprove this answerFolloweditedOct 4, 2022 at 19:41Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredOct 13, 2014 at 7:45bergercookiebergercookie2,68233 gold badges3232 silver badges4040 bronze badges\n\nAdditionally,os.access():if os.access(""myfile"", os.R_OK):\n    with open(""myfile"") as fp:\n        return fp.read()BeingR_OK,W_OK, andX_OKthe flags to test for permissions (doc).ShareImprove this answerFolloweditedMay 4, 2016 at 15:24armatita13.3k99 gold badges5050 silver badges5151 bronze badgesansweredSep 17, 2008 at 13:13zgodazgoda12.9k44 gold badges3838 silver badges4646 bronze badges\n\nif os.path.isfile(path_to_file):\n    try:\n        open(path_to_file)\n            pass\n    except IOError as e:\n        print ""Unable to open file""Raising exceptions is considered to be an acceptable, and Pythonic,\napproach for flow control in your program. Consider handling missing\nfiles with IOErrors. In this situation, an IOError exception will be\nraised if the file exists but the user does not have read permissions.Source:Using Python: How To Check If A File ExistsShareImprove this answerFolloweditedOct 4, 2022 at 19:43Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredApr 28, 2015 at 2:45Pedro LobitoPedro Lobito97.6k3232 gold badges267267 silver badges275275 bronze badges\n\nCheck file or directory existsYou can follow these three ways:1. Using isfile()Note 1: Theos.path.isfileused only for filesimport os.path\nos.path.isfile(filename) # True if file exists\nos.path.isfile(dirname) # False if directory exists2. UsingexistsNote 2: Theos.path.existsis used for both files and directoriesimport os.path\nos.path.exists(filename) # True if file exists\nos.path.exists(dirname) # True if directory exists3. Thepathlib.Pathmethod (included in Python 3+, installable with pip for Python 2)from pathlib import Path\nPath(filename).exists()ShareImprove this answerFolloweditedOct 4, 2022 at 17:39Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMar 4, 2018 at 6:24Ali HallajiAli Hallaji4,19233 gold badges3232 silver badges3838 bronze badges\n\nIf you imported NumPy already for other purposes then there is no need to import other libraries likepathlib,os,paths, etc.import numpy as np\nnp.DataSource().exists(""path/to/your/file"")This will return true or false based on its existence.ShareImprove this answerFolloweditedSep 1, 2018 at 1:00JayRizzo3,48633 gold badges3535 silver badges5151 bronze badgesansweredAug 10, 2017 at 5:50durjoydurjoy1,73911 gold badge1616 silver badges2525 bronze badges\n\nYou can write Brian\'s suggestion without thetry:.from contextlib import suppress\n\nwith suppress(IOError), open(\'filename\'):\n    process()suppressis part of Python 3.4. In older releases you can quickly write your own suppress:from contextlib import contextmanager\n\n@contextmanager\ndef suppress(*exceptions):\n    try:\n        yield\n    except exceptions:\n        passShareImprove this answerFolloweditedMay 27, 2017 at 0:48Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredFeb 10, 2014 at 21:30ChrisChris2,79011 gold badge2424 silver badges3030 bronze badges\n\nI\'m the author of a package that\'s been around for about 10 years, and it has a function that addresses this question directly. Basically, if you are on a non-Windows system, it usesPopento accessfind.  However, if you are on Windows, it replicatesfindwith an efficient filesystem walker.The code itself does not use atryblock… except in determining the operating system and thus steering you to the ""Unix""-stylefindor the hand-builltfind. Timing tests showed that thetrywas faster in determining the OS, so I did use one there (but nowhere else).>>> import pox\n>>> pox.find(\'*python*\', type=\'file\', root=pox.homedir(), recurse=False)\n[\'/Users/mmckerns/.python\']And the doc…>>> print pox.find.__doc__\nfind(patterns[,root,recurse,type]); Get path to a file or directory\n\n    patterns: name or partial name string of items to search for\n    root: path string of top-level directory to search\n    recurse: if True, recurse down from root directory\n    type: item filter; one of {None, file, dir, link, socket, block, char}\n    verbose: if True, be a little verbose about the search\n\n    On some OS, recursion can be specified by recursion depth (an integer).\n    patterns can be specified with basic pattern matching. Additionally,\n    multiple patterns can be specified by splitting patterns with a \';\'\n    For example:\n        >>> find(\'pox*\', root=\'..\')\n        [\'/Users/foo/pox/pox\', \'/Users/foo/pox/scripts/pox_launcher.py\']\n\n        >>> find(\'*shutils*;*init*\')\n        [\'/Users/foo/pox/pox/shutils.py\', \'/Users/foo/pox/pox/__init__.py\']\n\n>>>The implementation, if you care to look, is here:https://github.com/uqfoundation/pox/blob/89f90fb308f285ca7a62eabe2c38acb87e89dad9/pox/shutils.py#L190ShareImprove this answerFolloweditedMay 27, 2017 at 0:59Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMay 5, 2016 at 12:00Mike McKernsMike McKerns34.9k88 gold badges123123 silver badges143143 bronze badges\n\nHere\'s a one-line Python command for the Linux command line environment. I find thisvery handysince I\'m not such a hot Bash guy.python -c ""import os.path; print os.path.isfile(\'/path_to/file.xxx\')""ShareImprove this answerFolloweditedOct 4, 2022 at 19:51Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredAug 29, 2015 at 16:15Love and peace - Joe CodeswellLove and peace - Joe Codeswell2,91244 gold badges4242 silver badges5151 bronze badges\n\nAdding one more slight variation which isn\'t exactly reflected in the other answers.This will handle the case of thefile_pathbeingNoneor empty string.def file_exists(file_path):\n    if not file_path:\n        return False\n    elif not os.path.isfile(file_path):\n        return False\n    else:\n        return TrueAdding a variant based on suggestion from Shahbazdef file_exists(file_path):\n    if not file_path:\n        return False\n    else:\n        return os.path.isfile(file_path)Adding a variant based on suggestion from Peter Wooddef file_exists(file_path):\n    return file_path and os.path.isfile(file_path):ShareImprove this answerFolloweditedApr 7, 2017 at 16:10answeredAug 5, 2016 at 15:54Marcel WilsonMarcel Wilson4,30022 gold badges3030 silver badges6363 bronze badges\n\nHow do I check whether a file exists, without using the try statement?In 2016, this is still arguably the easiest way to check if both a file exists and if it is a file:import os\nos.path.isfile(\'./file.txt\')    # Returns True if exists, else Falseisfileis actually just a helper method that internally usesos.statandstat.S_ISREG(mode)underneath. Thisos.statis a lower-level method that will provide you with detailed information about files, directories, sockets, buffers, and more.More about os.stat hereNote:However, this approach will not lock the file in any way and therefore your code can become vulnerable to ""time of check to time of use"" (TOCTTOU) bugs.So raising exceptions is considered to be an acceptable, and Pythonic, approach for flow control in your program. And one should consider handling missing files with IOErrors, rather thanifstatements (just an advice).ShareImprove this answerFolloweditedMay 27, 2017 at 0:57Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredDec 2, 2016 at 6:39Taufiq RahmanTaufiq Rahman5,67633 gold badges3737 silver badges4545 bronze badges\n\nYou can use the ""OS"" library of Python:>>> import os\n>>> os.path.exists(""C:\\\\Users\\\\####\\\\Desktop\\\\test.txt"") \nTrue\n>>> os.path.exists(""C:\\\\Users\\\\####\\\\Desktop\\\\test.tx"")\nFalseShareImprove this answerFolloweditedMay 27, 2017 at 0:49Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredDec 20, 2014 at 15:21Pradip DasPradip Das74811 gold badge77 silver badges1616 bronze badges'}","{'title': 'How do I avoid checking for nulls in Java?', 'question': 'I usex != nullto avoidNullPointerException. Is there an alternative?if (x != null) {\n    // ...\n}javanullpointerexceptionnullShareImprove this questionFolloweditedMay 24, 2023 at 11:37community wiki38 revs, 30 users 11%Goran Martinic', 'answers': 'This to me sounds like a reasonably common problem that junior to intermediate developers tend to face at some point: they either don\'t know or don\'t trust the contracts they are participating in and defensively overcheck for nulls.  Additionally, when writing their own code, they tend to rely on returning nulls to indicate something thus requiring the caller to check for nulls.To put this another way, there are two instances where null checking comes up:Where null is a valid response in terms of the contract; andWhere it isn\'t a valid response.(2) is easy.  As of Java 1.7 you can useObjects.requireNonNull(foo). (If you are stuck with a previous version thenassertionsmay be a good alternative.)""Proper"" usage of this method would be like below. The method returns the object passed into it and throws aNullPointerExceptionif the object is null. This means that the returned value is always non-null. The method is primarily intended for validating parameters.public Foo(Bar bar) {\n    this.bar = Objects.requireNonNull(bar);\n}It can also be used like anassertion though since it throws an exception if the object is null. In both uses, a message can be added which will be shown in the exception. Below is using it like an assertion and providing a message.Objects.requireNonNull(someobject, ""if someobject is null then something is wrong"");\nsomeobject.doCalc();Generally throwing a specific exception likeNullPointerExceptionwhen a value is null but shouldn\'t be is favorable to throwing a more general exception likeAssertionError. This is the approach the Java library takes; favoringNullPointerExceptionoverIllegalArgumentExceptionwhen an argument is not allowed to be null.(1) is a little harder.  If you have no control over the code you\'re calling then you\'re stuck.  If null is a valid response, you have to check for it.If it\'s code that you do control, however (and this is often the case), then it\'s a different story.  Avoid using nulls as a response.  With methods that return collections, it\'s easy: return empty collections (or arrays) instead of nulls pretty much all the time.With non-collections it might be harder.  Consider this as an example: if you have these interfaces:public interface Action {\n  void doSomething();\n}\n\npublic interface Parser {\n  Action findAction(String userInput);\n}where Parser takes raw user input and finds something to do, perhaps if you\'re implementing a command line interface for something.  Now you might make the contract that it returns null if there\'s no appropriate action.  That leads the null checking you\'re talking about.An alternative solution is to never return null and instead use theNull Object pattern:public class MyParser implements Parser {\n  private static Action DO_NOTHING = new Action() {\n    public void doSomething() { /* do nothing */ }\n  };\n\n  public Action findAction(String userInput) {\n    // ...\n    if ( /* we can\'t find any actions */ ) {\n      return DO_NOTHING;\n    }\n  }\n}Compare:Parser parser = ParserFactory.getParser();\nif (parser == null) {\n  // now what?\n  // this would be an example of where null isn\'t (or shouldn\'t be) a valid response\n}\nAction action = parser.findAction(someInput);\nif (action == null) {\n  // do nothing\n} else {\n  action.doSomething();\n}toParserFactory.getParser().findAction(someInput).doSomething();which is a much better design because it leads to more concise code.That said, perhaps it is entirely appropriate for the findAction() method to throw an Exception with a meaningful error message -- especially in this case where you are relying on user input.  It would be much better for the findAction method to throw an Exception than for the calling method to blow up with a simple NullPointerException with no explanation.try {\n    ParserFactory.getParser().findAction(someInput).doSomething();\n} catch(ActionNotFoundException anfe) {\n    userConsole.err(anfe.getMessage());\n}Or if you think the try/catch mechanism is too ugly, rather than Do Nothing your default action should provide feedback to the user.public Action findAction(final String userInput) {\n    /* Code to return requested Action if found */\n    return new Action() {\n        public void doSomething() {\n            userConsole.err(""Action not found: "" + userInput);\n        }\n    }\n}ShareImprove this answerFolloweditedApr 21, 2022 at 19:47community wiki14 revs, 11 users 74%cletus\n\nIf you use (or planning to use) a Java IDE likeJetBrains IntelliJ IDEA,EclipseorNetbeansor a tool like findbugs then you can use annotations to solve this problem.Basically, you\'ve got@Nullableand@NotNull.You can use in method and parameters, like this:@NotNull public static String helloWorld() {\n    return ""Hello World"";\n}or@Nullable public static String helloWorld() {\n    return ""Hello World"";\n}The second example won\'t compile (in IntelliJ IDEA).When you use the firsthelloWorld()function in another piece of code:public static void main(String[] args)\n{\n    String result = helloWorld();\n    if(result != null) {\n        System.out.println(result);\n    }\n}Now the IntelliJ IDEA compiler will tell you that the check is useless, since thehelloWorld()function won\'t returnnull, ever.Using parametervoid someMethod(@NotNull someParameter) { }if you write something like:someMethod(null);This won\'t compile.Last example using@Nullable@Nullable iWantToDestroyEverything() { return null; }Doing thisiWantToDestroyEverything().something();And you can be sure that this won\'t happen. :)It\'s a nice way to let the compiler check something more than it usually does and to enforce your contracts to be stronger. Unfortunately, it\'s not supported by all the compilers.In IntelliJ IDEA 10.5 and on, they added support for any other@Nullable@NotNullimplementations.See blog postMore flexible and configurable @Nullable/@NotNull annotations.ShareImprove this answerFolloweditedJan 3, 2019 at 21:03community wiki9 revs, 8 users 77%Luca Molteni\n\nIf null-values are not allowedIf your method is called externally, start with something like this:public void method(Object object) {\n  if (object == null) {\n    throw new IllegalArgumentException(""..."");\n  }Then, in the rest of that method, you\'ll know thatobjectis not null.If it is an internal method (not part of an API), just document that it cannot be null, and that\'s it.Example:public String getFirst3Chars(String text) {\n  return text.subString(0, 3);\n}However, if your method just passes the value on, and the next method passes it on etc. it could get problematic. In that case you may want to check the argument as above.If null is allowedThis really depends. If find that I often do something like this:if (object == null) {\n  // something\n} else {\n  // something else\n}So I branch, and do two completely different things. There is no ugly code snippet, because I really need to do two different things depending on the data. For example, should I work on the input, or should I calculate a good default value?It\'s actually rare for me to use the idiom ""if (object != null && ..."".It may be easier to give you examples, if you show examples of where you typically use the idiom.ShareImprove this answerFolloweditedJul 19, 2016 at 9:02community wiki2 revs, 2 users 90%myplacedk\n\nWow, I almost hate to add another answer when we have 57 different ways to recommend theNullObject pattern, but I think that some people interested in this question may like to know that there is a proposal on the table for Java 7 to add""null-safe handling""—a streamlined syntax for if-not-equal-null logic.The example given by Alex Miller looks like this:public String getPostcode(Person person) {  \n  return person?.getAddress()?.getPostcode();  \n}The?.means only de-reference the left identifier if it is not null, otherwise evaluate the remainder of the expression asnull. Some people, like Java Posse member Dick Wall and thevoters at Devoxxreally love this proposal, but there is opposition too, on the grounds that it will actually encourage more use ofnullas a sentinel value.Update:Anofficial proposalfor a null-safe operator in Java 7 has been submitted underProject Coin.The syntax is a little different than the example above, but it\'s the same notion.Update:The null-safe operator proposal didn\'t make it into Project Coin. So, you won\'t be seeing this syntax in Java 7.ShareImprove this answerFolloweditedSep 20, 2015 at 23:12community wiki5 revs, 3 users 82%erickson\n\nIf undefined values are not permitted:You might configure your IDE to warn you about potential null dereferencing. E.g. in Eclipse, seePreferences > Java > Compiler > Errors/Warnings/Null analysis.If undefined values are permitted:If you want to define a new API where undefined values make sense, use theOption Pattern(may be familiar from functional languages). It has the following advantages:It is stated explicitly in the API whether an input or output exists or not.The compiler forces you to handle the ""undefined"" case.Option is a monad, so there is no need for verbose null checking, just use map/foreach/getOrElse or a similar combinator to safely use the value(example).Java 8 has a built-inOptionalclass (recommended); for earlier versions, there are library alternatives, for exampleGuava\'sOptionalorFunctionalJava\'sOption. But like many functional-style patterns, using Option in Java (even 8) results in quite some boilerplate, which you can reduce using a less verbose JVM language, e.g. Scala or Xtend.If you have to deal with an API which might return nulls, you can\'t do much in Java. Xtend and Groovy have theElvis operator?:and thenull-safe dereference operator?., but note that this returns null in case of a null reference, so it just ""defers"" the proper handling of null.ShareImprove this answerFolloweditedOct 24, 2017 at 10:38community wiki10 revs, 3 users 87%thSoft\n\nOnly for this situation -Not checking if a variable is null before invoking an equals method (a string compare example below):if ( foo.equals(""bar"") ) {\n // ...\n}will result in aNullPointerExceptioniffoodoesn\'t exist.You can avoid that if you compare yourStrings like this:if ( ""bar"".equals(foo) ) {\n // ...\n}ShareImprove this answerFolloweditedMay 25, 2018 at 15:33community wiki3 revs, 3 users 68%echox\n\nJava 8 introduced thejava.util.Optionalclass that addresses some of the problem. One can at least say that it improves the readability of the code, and in the case of public APIs make the contract clearer to the client developer.They work as follows:An optional object for a given type (Fruit) is created as the return type of a method. It can be empty or contain aFruitobject:public static Optional<Fruit> find(String name, List<Fruit> fruits) {\n   for (Fruit fruit : fruits) {\n      if (fruit.getName().equals(name)) {\n         return Optional.of(fruit);\n      }\n   }\n   return Optional.empty();\n}Now look at this code where we search a list ofFruit(fruits) for a given Fruit instance:Optional<Fruit> found = find(""lemon"", fruits);\nif (found.isPresent()) {\n   Fruit fruit = found.get(); // Prefer found.orElseThrow() in Java 9+\n   String name = fruit.getName();\n}You can use themapmethod to perform a computation on — or extract a value from —\xa0an optional object.  TheorElsemethod lets you provide a fallback for missing values, converting anOptionalto a non-nullable value.String nameOrFallback = find(""lemon"", fruits)\n    .map(f -> f.getName())\n    .orElse(""empty-name"");Of course, handling the null/empty value is still necessary, but at least the developer is conscious that the value might be empty and the risk of forgetting to check is limited.In an API built from scratch usingOptionalwhenever a return value might be empty, and returning a plain object only when it cannot benull(convention), the client code might abandon null checks on simple object return values.Of courseOptionalcould also be used as a method argument, perhaps a better way to indicate optional arguments than 5 or 10 overloading methods in some cases.  Be aware that using it in this manner isrecommended againstby Java Language Architect Brian Goetz: ""You should almost never useOptionalas […] a method parameter.""Optionaloffers other convenient methods, such asorElseGetthat calculates a default value only if theOptionalis empty, andifPresentthat peforms an operation only if theOptionalis non-empty, both of which work withlambda expressions.I invite you to read this article (the main source for writing this answer) in which the problematic behavior ofNullPointerException(and in general null pointer) and the (partial) solution brought byOptionalare well explained:Java Optional Objects.ShareImprove this answerFolloweditedJan 29 at 18:52community wiki5 revs, 5 users 53%Pierre Henry\n\nDepending on what kind of objects you are checking you may be able to use some of the classes in the apache commons such as:apache commons langandapache commons collectionsExample:String foo;\n...\nif( StringUtils.isBlank( foo ) ) {\n   ///do something\n}or (depending on what you need to check):String foo;\n...\nif( StringUtils.isEmpty( foo ) ) {\n   ///do something\n}The StringUtils class is only one of many; there are quite a few good classes in the commons that do null safe manipulation.Here follows an example of how you can use null vallidation in JAVA when you include apache library(commons-lang-2.4.jar)public DOCUMENT read(String xml, ValidationEventHandler validationEventHandler) {\n    Validate.notNull(validationEventHandler,""ValidationHandler not Injected"");\n    return read(new StringReader(xml), true, validationEventHandler);\n}And if you are using Spring, Spring also has the same functionality in its package, see library(spring-2.4.6.jar)Example on how to use this static classf from spring(org.springframework.util.Assert)Assert.notNull(validationEventHandler,""ValidationHandler not Injected"");ShareImprove this answerFolloweditedFeb 23, 2016 at 12:14community wiki3 revs, 3 users 68%javamonkey79\n\nIf you consider an object should not be null (or it is a bug) use an assert.If your method doesn\'t accept null params say it in the javadoc and use an assert.You have to check for object != null only if you want to handle the case where the object may be null...There is a proposal to add new annotations in Java7 to help with null / notnull params:http://tech.puredanger.com/java7/#jsr308ShareImprove this answerFolloweditedAug 14, 2009 at 14:44community wiki2 revs, 2 users 100%pgras\n\nI\'m a fan of ""fail fast"" code. Ask yourself - are you doing something useful in the case where the parameter is null? If you don\'t have a clear answer for what your code should do in that case... i.e. - it should never be null in the first place, then ignore it and allow aNullPointerExceptionto be thrown. The calling code will make just as much sense of an NPE as it would anIllegalArgumentException, but it\'ll be easier for the developer to debug and understand what went wrong if an NPE is thrown rather than your code attempting to execute some other unexpected contingency logic - which ultimately results in the application failing anyway.ShareImprove this answerFolloweditedMar 27, 2022 at 14:54community wiki3 revs, 2 users 75%Alex Worden\n\nSometimes, you have methods that operate on its parameters that define a symmetric operation:a.f(b); <-> b.f(a);If you know b can never be null, you can just swap it. It is most useful for equals:\nInstead offoo.equals(""bar"");better do""bar"".equals(foo);.ShareImprove this answerFolloweditedDec 15, 2015 at 19:02community wiki4 revs, 4 users 50%Johannes Schaub - litb\n\nRather than Null Object Pattern -- which has its uses -- you might consider situations where the null object is a bug.When the exception is thrown, examine the stack trace and work through the bug.ShareImprove this answerFollowansweredNov 7, 2008 at 8:50community wikiJim Nelson\n\nThe Google collections framework offers a good and elegant way to achieve the null check.There is a method in a library class like this:static <T> T checkNotNull(T e) {\n   if (e == null) {\n      throw new NullPointerException();\n   }\n   return e;\n}And the usage is (withimport static):...\nvoid foo(int a, Person p) {\n   if (checkNotNull(p).getAge() > a) {\n      ...\n   }\n   else {\n      ...\n   }\n}\n...Or in your example:checkNotNull(someobject).doCalc();ShareImprove this answerFolloweditedSep 19, 2015 at 16:05community wiki3 revs, 3 users 83%user2427\n\nNull is not a \'problem\'. It is an integral part of acompletemodeling tool set. Software aims to model the complexity of the world and null bears its burden.Null indicates \'No data\' or \'Unknown\'in Java and the like. So it is appropriate to use nulls for these purposes. I don\'t prefer the \'Null object\' pattern; I think it rise the \'who will guard\nthe guardians\' problem.If you ask me what is the name of my girlfriend I\'ll tell you that I have no girlfriend. In the Java language I\'ll return null. \nAn alternative would be to throw meaningful exception to indicate some problem that can\'t be (or don\'t want to be) solved right there and delegate it somewhere higher in the stack to retry or report data access error to the user.For an \'unknown question\' give \'unknown answer\'.(Be null-safe where this is correct from business point of view) Checking arguments for null once inside a method before usage relieves multiple callers from checking them before a call.public Photo getPhotoOfThePerson(Person person) {\n    if (person == null)\n        return null;\n    // Grabbing some resources or intensive calculation\n    // using person object anyhow.\n}Previous leads to normal logic flow to get no photo of a non-existent girlfriend from my photo library.getPhotoOfThePerson(me.getGirlfriend())And it fits with new coming Java API (looking forward)getPhotoByName(me.getGirlfriend()?.getName())While it is rather \'normal business flow\' not to find photo stored into the DB for some person, I used to use pairs like below for some other casespublic static MyEnum parseMyEnum(String value); // throws IllegalArgumentException\npublic static MyEnum parseMyEnumOrNull(String value);And don\'t loathe to type<alt> + <shift> + <j>(generate javadoc in Eclipse) and write three additional words for you public API. This will be more than enough for all but those who don\'t read documentation./**\n * @return photo or null\n */or/**\n * @return photo, never null\n */This is rather theoretical case and in most cases you should prefer java null safe API (in case it will be released in another 10 years), butNullPointerExceptionis subclass of anException.Thus it is a form ofThrowablethat indicates conditions that a reasonable application might want to catch (javadoc)! To use the first most advantage of exceptions and separate error-handling code from \'regular\' code (according to creators of Java) it is appropriate, as for me, to catchNullPointerException.public Photo getGirlfriendPhoto() {\n    try {\n        return appContext.getPhotoDataSource().getPhotoByName(me.getGirlfriend().getName());\n    } catch (NullPointerException e) {\n        return null;\n    }\n}Questions could arise:Q. What ifgetPhotoDataSource()returns null?A. It is up to business logic. If I fail to find a photo album I\'ll show you no photos. What if appContext is not initialized? This method\'s business logic puts up with this. If the same logic should be more strict then throwing an exception it is part of the business logic and explicit check for null should be used (case 3). Thenew Java Null-safe API fits better here to specify selectively what implies and what does not imply to be initializedto be fail-fast in case of programmer errors.Q. Redundant code could be executed and unnecessary resources could be grabbed.A. It could take place ifgetPhotoByName()would try to open a database connection, createPreparedStatementand use the person name as an SQL parameter at last. The approachfor an unknown question gives an unknown answer(case 1) works here. Before grabbing resources the method should check parameters and return \'unknown\' result if needed.Q. This approach has a performance penalty due to the try closure opening.A. Software should be easy to understand and modify firstly. Only after this, one could think about performance, and only if needed! and where needed! (source), and many others).PS. This approach will be as reasonable to use as theseparate error-handling code from ""regular"" codeprinciple is reasonable to use in some place. Consider the next example:public SomeValue calculateSomeValueUsingSophisticatedLogic(Predicate predicate) {\n    try {\n        Result1 result1 = performSomeCalculation(predicate);\n        Result2 result2 = performSomeOtherCalculation(result1.getSomeProperty());\n        Result3 result3 = performThirdCalculation(result2.getSomeProperty());\n        Result4 result4 = performLastCalculation(result3.getSomeProperty());\n        return result4.getSomeProperty();\n    } catch (NullPointerException e) {\n        return null;\n    }\n}\n\npublic SomeValue calculateSomeValueUsingSophisticatedLogic(Predicate predicate) {\n    SomeValue result = null;\n    if (predicate != null) {\n        Result1 result1 = performSomeCalculation(predicate);\n        if (result1 != null && result1.getSomeProperty() != null) {\n            Result2 result2 = performSomeOtherCalculation(result1.getSomeProperty());\n            if (result2 != null && result2.getSomeProperty() != null) {\n                Result3 result3 = performThirdCalculation(result2.getSomeProperty());\n                if (result3 != null && result3.getSomeProperty() != null) {\n                    Result4 result4 = performLastCalculation(result3.getSomeProperty());\n                    if (result4 != null) {\n                        result = result4.getSomeProperty();\n                    }\n                }\n            }\n        }\n    }\n    return result;\n}PPS. For those fast to downvote (and not so fast to read documentation) I would like to say that I\'ve never caught a null-pointer exception (NPE) in my life. But this possibility wasintentionally designedby the Java creators because NPE is a subclass ofException. We have a precedent in Java history whenThreadDeathis anErrornot because it is actually an application error, but solely because it was not intended to be caught! How much NPE fits to be anErrorthanThreadDeath! But it is not.Check for \'No data\' only if business logic implies it.public void updatePersonPhoneNumber(Long personId, String phoneNumber) {\n    if (personId == null)\n        return;\n    DataSource dataSource = appContext.getStuffDataSource();\n    Person person = dataSource.getPersonById(personId);\n    if (person != null) {\n        person.setPhoneNumber(phoneNumber);\n        dataSource.updatePerson(person);\n    } else {\n        Person = new Person(personId);\n        person.setPhoneNumber(phoneNumber);\n        dataSource.insertPerson(person);\n    }\n}andpublic void updatePersonPhoneNumber(Long personId, String phoneNumber) {\n    if (personId == null)\n        return;\n    DataSource dataSource = appContext.getStuffDataSource();\n    Person person = dataSource.getPersonById(personId);\n    if (person == null)\n        throw new SomeReasonableUserException(""What are you thinking about ???"");\n    person.setPhoneNumber(phoneNumber);\n    dataSource.updatePerson(person);\n}If appContext or dataSource is not initialized unhandled runtime NullPointerException will kill current thread and will be processed byThread.defaultUncaughtExceptionHandler(for you to define and use your favorite logger or other notification mechanizm). If not set,ThreadGroup#uncaughtExceptionwill print stacktrace to system err. One should monitor application error log and open Jira issue for each unhandled exception which in fact is application error. Programmer should fix bug somewhere in initialization stuff.ShareImprove this answerFolloweditedFeb 23, 2018 at 22:03community wiki45 revs, 2 users 73%Mykhaylo Adamovych\n\nJava 7 has a newjava.util.Objectsutility class on which there is arequireNonNull()method. All this does is throw aNullPointerExceptionif its argument is null, but it cleans up the code a bit. Example:Objects.requireNonNull(someObject);\nsomeObject.doCalc();The method is most useful forcheckingjust before an assignment in a constructor, where each use of it can save three lines of code:Parent(Child child) {\n   if (child == null) {\n      throw new NullPointerException(""child"");\n   }\n   this.child = child;\n}becomesParent(Child child) {\n   this.child = Objects.requireNonNull(child, ""child"");\n}ShareImprove this answerFolloweditedMay 23, 2017 at 12:18community wiki3 revs, 2 users 67%Raedwald\n\nUltimately, the only way to completely solve this problem is by using a different programming language:In Objective-C, you can do the equivalent of invoking a method onnil, and absolutely nothing will happen. This makes most null checks unnecessary, but it can make errors much harder to diagnose.InNice, a Java-derived language, there are two versions of all types: a potentially-null version and a not-null version. You can only invoke methods on not-null types. Potentially-null types can be converted to not-null types through explicit checking for null. This makes it much easier to know where null checks are necessary and where they aren\'t.ShareImprove this answerFolloweditedSep 19, 2015 at 16:09community wiki2 revs, 2 users 75%Michael Borgwardt\n\nCommon ""problem"" in Java indeed.First, my thoughts on this:I consider that it is bad to ""eat"" something when NULL was passed where NULL isn\'t a valid value. If you\'re not exiting the method with some sort of error then it means nothing went wrong in your method which is not true. Then you probably return null in this case, and in the receiving method you again check for null, and it never ends, and you end up with ""if != null"", etc..So, IMHO, null must be a critical error that prevents further execution (that is, where null is not a valid value).The way I solve this problem is this:First, I follow this convention:All public methods / API always check their arguments for nullAll private methods do not check for null since they are controlled methods (just let die with nullpointer exception in case it wasn\'t handled above)The only other methods which do not check for null are utility methods. They are public, but if you call them for some reason, you know what parameters you pass. This is like trying to boil water in the kettle without providing water...And finally, in the code, the first line of the public method goes like this:ValidationUtils.getNullValidator().addParam(plans, ""plans"").addParam(persons, ""persons"").validate();Note that addParam() returns self, so that you can add more parameters to check.Methodvalidate()will throw checkedValidationExceptionif any of the parameters is null (checked or unchecked is more a design/taste issue, but myValidationExceptionis checked).void validate() throws ValidationException;The message will contain the following text if, for example, ""plans"" is null:""Illegal argument value null is encountered for parameter [plans]""As you can see, the second value in the addParam() method (string) is needed for the user message, because you cannot easily detect passed-in variable name, even with reflection (not the subject of this post anyway...).And yes, we know that beyond this line we will no longer encounter a null value so we just safely invoke methods on those objects.This way, the code is clean, easily maintainable, and readable.ShareImprove this answerFolloweditedMar 14 at 14:28community wiki4 revs, 4 users 76%Oleg\n\nAsking that question points out that you may be interested in error handling strategies.  How and where to handle errors is a pervasive architectural question.  There are several ways to do this.My favorite: allow the Exceptions to ripple through - catch them at the \'main loop\' or in some other function with the appropriate responsibilities.  Checking for error conditions and handling them appropriately can be seen as a specialized responsibility.Sure do have a look at Aspect Oriented Programming, too - they have neat ways to insertif( o == null ) handleNull()into your bytecode.ShareImprove this answerFolloweditedJun 25, 2020 at 12:24community wiki2 revsxtofl\n\nIn addition to usingassertyou can use the following:if (someobject == null) {\n    // Handle null here then move on.\n}This is slightly better than:if (someobject != null) {\n    .....\n    .....\n\n\n\n    .....\n}ShareImprove this answerFolloweditedSep 19, 2015 at 17:14community wiki2 revs, 2 users 91%fastcodejava\n\nJust don\'t ever use null. Don\'t allow it.In my classes, most fields and local variables have non-null default values, and I add contract statements (always-on asserts) everywhere in the code to make sure this is being enforced (since it\'s more succinct, and more expressive than letting it come up as an NPE and then having to resolve the line number, etc.).Once I adopted this practice, I noticed that the problems seemed to fix themselves. You\'d catch things much earlier in the development process just by accident and realize you had a weak spot..  and more importantly.. it helps encapsulate different modules\' concerns, different modules can \'trust\' each other, and no more littering the code withif = null elseconstructs!This is defensive programming and results in much cleaner code in the long run. Always sanitize the data, e.g. here by enforcing rigid standards, and the problems go away.class C {\n    private final MyType mustBeSet;\n    public C(MyType mything) {\n       mustBeSet=Contract.notNull(mything);\n    }\n   private String name = ""<unknown>"";\n   public void setName(String s) {\n      name = Contract.notNull(s);\n   }\n}\n\n\nclass Contract {\n    public static <T> T notNull(T t) { if (t == null) { throw new ContractException(""argument must be non-null""); return t; }\n}The contracts are like mini-unit tests which are always running, even in production, and when things fail, you know why, rather than a random NPE you have to somehow figure out.ShareImprove this answerFolloweditedSep 19, 2015 at 19:42community wiki3 revs, 3 users 68%iangreen\n\nGuava, a very useful core library by Google, has a nice and useful API to avoid nulls. I findUsingAndAvoidingNullExplainedvery helpful.As explained in the wiki:Optional<T>is a way of replacing a nullable T reference with a\n  non-null value. An Optional may either contain a non-null T reference\n  (in which case we say the reference is ""present""), or it may contain\n  nothing (in which case we say the reference is ""absent""). It is never\n  said to ""contain null.""Usage:Optional<Integer> possible = Optional.of(5);\npossible.isPresent(); // returns true\npossible.get(); // returns 5ShareImprove this answerFolloweditedAug 7, 2014 at 21:03community wiki2 revsMurat\n\nThis is a very common problem for every Java developer. So there is official support in Java\xa08 to address these issues without cluttered code.Java 8 has introducedjava.util.Optional<T>. It is a container that may or may not hold a non-null value. Java 8 has given a safer way to handle an object whose value may be null in some of the cases. It is inspired from the ideas ofHaskellandScala.In a nutshell, the Optional class includes methods to explicitly deal with the cases where a value is present or absent. However, the advantage compared to null references is that the Optional<T> class forces you to think about the case when the value is not present. As a consequence, you can prevent unintended null pointer exceptions.In above example we have a home service factory that returns a handle to multiple appliances available in the home. But these services may or may not be available/functional; it means it may result in a NullPointerException. Instead of adding a nullifcondition before using any service, let\'s wrap it in to Optional<Service>.WRAPPING TO OPTION<T>Let\'s consider a method to get a reference of a service from a factory. Instead of returning the service reference, wrap it with Optional. It lets the API user know that the returned service may or may not available/functional, use defensivelypublic Optional<Service> getRefrigertorControl() {\n      Service s = new  RefrigeratorService();\n       //...\n      return Optional.ofNullable(s);\n   }As you seeOptional.ofNullable()provides an easy way to get the reference wrapped. There are another ways to get the reference of Optional, eitherOptional.empty()&Optional.of(). One for returning an empty object instead of retuning null and the other to wrap a non-nullable object, respectively.SO HOW EXACTLY IT HELPS TO AVOID A NULL CHECK?Once you have wrapped a reference object, Optional provides many useful methods to invoke methods on a wrapped reference without NPE.Optional ref = homeServices.getRefrigertorControl();\nref.ifPresent(HomeServices::switchItOn);Optional.ifPresent invokes the given Consumer with a reference if it is a non-null value. Otherwise, it does nothing.@FunctionalInterface\npublic interface Consumer<T>Represents an operation that accepts a single input argument and returns no result. Unlike most other functional interfaces, Consumer is expected to operate via side-effects.\nIt is so clean and easy to understand. In the above code example,HomeService.switchOn(Service)gets invoked if the Optional holding reference is non-null.We use the ternary operator very often for checking null condition and return an alternative value or default value. Optional provides another way to handle the same condition without checking null. Optional.orElse(defaultObj) returns defaultObj if the Optional has a null value. Let\'s use this in our sample code:public static Optional<HomeServices> get() {\n    service = Optional.of(service.orElse(new HomeServices()));\n    return service;\n}Now HomeServices.get() does same thing, but in a better way. It checks whether the service is already initialized of not. If it is then return the same or create a new New service. Optional<T>.orElse(T) helps to return a default value.Finally, here is our NPE as well as null check-free code:import java.util.Optional;\npublic class HomeServices {\n    private static final int NOW = 0;\n    private static Optional<HomeServices> service;\n\npublic static Optional<HomeServices> get() {\n    service = Optional.of(service.orElse(new HomeServices()));\n    return service;\n}\n\npublic Optional<Service> getRefrigertorControl() {\n    Service s = new  RefrigeratorService();\n    //...\n    return Optional.ofNullable(s);\n}\n\npublic static void main(String[] args) {\n    /* Get Home Services handle */\n    Optional<HomeServices> homeServices = HomeServices.get();\n    if(homeServices != null) {\n        Optional<Service> refrigertorControl = homeServices.get().getRefrigertorControl();\n        refrigertorControl.ifPresent(HomeServices::switchItOn);\n    }\n}\n\npublic static void switchItOn(Service s){\n         //...\n    }\n}The complete post isNPE as well as Null check-free code … Really?.ShareImprove this answerFolloweditedSep 19, 2015 at 20:39community wiki2 revs, 2 users 87%Yogesh Devatraj\n\nI like articles from Nat Pryce. Here are the links:Avoiding Nulls with Polymorphic DispatchAvoiding Nulls with ""Tell, Don\'t Ask"" StyleIn the articles there is also a link to a Git repository for a Java Maybe Type which I find interesting, but I don\'t think it alone could decrease the\nchecking code bloat. After doing some research on the Internet, I think!= nullcode bloat could be decreased mainly by careful design.ShareImprove this answerFolloweditedMay 12, 2016 at 2:49community wiki2 revs, 2 users 74%Mr Palo\n\nI\'ve tried theNullObjectPatternbut for me is not always the best way to go. There are sometimes when a ""no action"" is not appropiate.NullPointerExceptionis aRuntime exceptionthat means it\'s developers fault and with enough experience it tells you exactly where is the error.Now to the answer:Try to make all your attributes and its accessors as private as possible or avoid to  expose them to the clients at all. You can have the argument values in the constructor of course, but by reducing the scope you don\'t let the client class pass an invalid value. If you need to modify the values, you can always create a newobject.  You check the values in the constructor onlyonceand in the rest of the methods you can be almost sure that the values are not null.Of course, experience is the better way to understand and apply this suggestion.Byte!ShareImprove this answerFolloweditedSep 30, 2013 at 22:06community wiki3 revs, 2 users 91%OscarRyz\n\nProbably the best alternative for Java 8 or newer is to use theOptionalclass.Optional stringToUse = Optional.of(""optional is there"");\nstringToUse.ifPresent(System.out::println);This is especially handy for long chains of possible null values. Example:Optional<Integer> i = Optional.ofNullable(wsObject.getFoo())\n    .map(f -> f.getBar())\n    .map(b -> b.getBaz())\n    .map(b -> b.getInt());Example on how to throw exception on null:Optional optionalCarNull = Optional.ofNullable(someNull);\noptionalCarNull.orElseThrow(IllegalStateException::new);Java 7 introduced theObjects.requireNonNullmethod which can be handy when something should be checked for non-nullness. Example:String lowerVal = Objects.requireNonNull(someVar, ""input cannot be null or empty"").toLowerCase();ShareImprove this answerFolloweditedSep 29, 2016 at 7:35community wiki3 revs, 2 users 74%Raghu K Nair\n\nMay I answer it more generally!Weusuallyface this issue when the methods get the parameters in the way we not expected (bad method call is programmer\'s fault). For example: you expect to get an object, instead you get a null. You expect to get an String with at least one character, instead you get an empty String ...So there is no difference between:if(object == null){\n   //you called my method badly!}orif(str.length() == 0){\n   //you called my method badly again!\n}They both want to make sure that we received valid parameters, before we do any other functions.As mentioned in some other answers, to avoid above problems you can follow theDesign by contractpattern. Please seehttp://en.wikipedia.org/wiki/Design_by_contract.To implement this pattern in java, you can use core java annotations likejavax.annotation.NotNullor use more sophisticated libraries likeHibernate Validator.Just a sample:getCustomerAccounts(@NotEmpty String customerId,@Size(min = 1) String accountType)Now you can safely develop the core function of your method without needing to check input parameters, they guard your methods from unexpected parameters.You can go a step further and make sure that only valid pojos could be created in your application. (sample from hibernate validator site)public class Car {\n\n   @NotNull\n   private String manufacturer;\n\n   @NotNull\n   @Size(min = 2, max = 14)\n   private String licensePlate;\n\n   @Min(2)\n   private int seatCount;\n\n   // ...\n}ShareImprove this answerFolloweditedApr 24, 2014 at 14:48community wiki2 revs, 2 users 96%Alireza Fattahi\n\nI highly disregard answers that suggest using the null objects in every situation. This pattern may break the contract and bury problems deeper and deeper instead of solving them, not mentioning that used inappropriately will create another pile of boilerplate code that will require future maintenance.In reality if something returned from a method can be null and the calling code has to make decision upon that, there should an earlier call that ensures the state.Also keep in mind, that null object pattern will be memory hungry if used without care. For this - the instance of a NullObject should be shared between owners, and not be an unigue instance for each of these.Also I would not recommend using this pattern where the type is meant to be a primitive type representation - like mathematical entities, that are not scalars: vectors, matrices, complex numbers and POD(Plain Old Data) objects, which are meant to hold state in form of Java built-in types. In the latter case you would end up calling getter methods with arbitrary results. For example what should a NullPerson.getName() method return?It\'s worth considering such cases in order to avoid absurd results.ShareImprove this answerFolloweditedFeb 4, 2016 at 11:24community wiki4 revsluke1985\n\nNever initialise variables to null.If (1) is not possible, initialise all collections and arrays to empty collections/arrays.Doing this in your own code and you can avoid != null checks.Most of the time null checks seem to guard loops over collections or arrays, so just initialise them empty, you won\'t need any null checks.// Bad\nArrayList<String> lemmings;\nString[] names;\n\nvoid checkLemmings() {\n    if (lemmings != null) for(lemming: lemmings) {\n        // do something\n    }\n}\n\n\n\n// Good\nArrayList<String> lemmings = new ArrayList<String>();\nString[] names = {};\n\nvoid checkLemmings() {\n    for(lemming: lemmings) {\n        // do something\n    }\n}There is a tiny overhead in this, but it\'s worth it for cleaner code and less NullPointerExceptions.ShareImprove this answerFolloweditedOct 2, 2013 at 13:50community wiki2 revsStuart Axon\n\nThis is the most common error occurred for most of the developers.We have number of ways to handle this.Approach 1:org.apache.commons.lang.Validate //using apache frameworknotNull(Object object, String message)Approach 2:if(someObject!=null){ // simply checking against null\n}Approach 3:@isNull @Nullable  // using annotation based validationApproach 4:// by writing static method and calling it across whereever we needed to check the validation\n\nstatic <T> T isNull(someObject e){  \n   if(e == null){\n      throw new NullPointerException();\n   }\n   return e;\n}ShareImprove this answerFolloweditedMar 24, 2015 at 17:13community wiki2 revs, 2 users 81%Sireesh Yarlagadda\n\nJava 8 has introduced a new class Optional in java.util package.Advantages of Java 8 Optional:1.) Null checks are not required.2.) No more NullPointerException at run-time.3.) We can develop clean and neat APIs.Optional- A container object which may or may not contain a non-null value. If a value is present, isPresent() will return true and get() will return the value.For more details find here oracle docs :-https://docs.oracle.com/javase/8/docs/api/java/util/Optional.htmlShareImprove this answerFolloweditedOct 30, 2017 at 12:57community wiki2 revsUser17'}","{'title': 'How to iterate over a dictionary?', 'question': ""I've seen a few different ways to iterate over a dictionary in C#.  Is there a standard way?c#dictionaryloopsShareImprove this questionFolloweditedMay 8, 2022 at 18:13Mateen Ulhaq26.6k2020 gold badges115115 silver badges147147 bronze badgesaskedSep 26, 2008 at 18:20Jake StewartJake Stewart33.4k33 gold badges2121 silver badges1717 bronze badges"", 'answers': 'foreach(KeyValuePair<string, string> entry in myDictionary)\n{\n    // do something with entry.Value or entry.Key\n}ShareImprove this answerFolloweditedDec 20, 2017 at 23:14jasonmerino3,23022 gold badges2121 silver badges4040 bronze badgesansweredSep 26, 2008 at 18:22Pablo FernandezPablo Fernandez105k5757 gold badges194194 silver badges233233 bronze badges\n\nIf you are trying to use a generic Dictionary in C# like you would use an associative array in another language:foreach(var item in myDictionary)\n{\n  foo(item.Key);\n  bar(item.Value);\n}Or, if you only need to iterate over the collection of keys, useforeach(var item in myDictionary.Keys)\n{\n  foo(item);\n}And lastly, if you\'re only interested in the values:foreach(var item in myDictionary.Values)\n{\n  foo(item);\n}(Take note that thevarkeyword is an optional C# 3.0 and above feature, you could also use the exact type of your keys/values here)ShareImprove this answerFolloweditedFeb 2, 2015 at 19:19answeredSep 26, 2008 at 18:22JacobJacob23.2k88 gold badges4040 silver badges5555 bronze badges\n\nIn some cases you may need a counter that may be provided by for-loop implementation. For that, LINQ providesElementAtwhich enables the following:for (int index = 0; index < dictionary.Count; index++) {\n  var item = dictionary.ElementAt(index);\n  var itemKey = item.Key;\n  var itemValue = item.Value;\n}ShareImprove this answerFolloweditedJul 4, 2018 at 12:25Kolappan N3,85122 gold badges3737 silver badges4343 bronze badgesansweredMar 10, 2011 at 20:44Maurício FedattoMaurício Fedatto2,77111 gold badge1515 silver badges22 bronze badges\n\nDepends on whether you\'re after the keys or the values...From the MSDNDictionary(TKey, TValue)Class description:// When you use foreach to enumerate dictionary elements,\n// the elements are retrieved as KeyValuePair objects.\nConsole.WriteLine();\nforeach( KeyValuePair<string, string> kvp in openWith )\n{\n    Console.WriteLine(""Key = {0}, Value = {1}"", \n        kvp.Key, kvp.Value);\n}\n\n// To get the values alone, use the Values property.\nDictionary<string, string>.ValueCollection valueColl =\n    openWith.Values;\n\n// The elements of the ValueCollection are strongly typed\n// with the type that was specified for dictionary values.\nConsole.WriteLine();\nforeach( string s in valueColl )\n{\n    Console.WriteLine(""Value = {0}"", s);\n}\n\n// To get the keys alone, use the Keys property.\nDictionary<string, string>.KeyCollection keyColl =\n    openWith.Keys;\n\n// The elements of the KeyCollection are strongly typed\n// with the type that was specified for dictionary keys.\nConsole.WriteLine();\nforeach( string s in keyColl )\n{\n    Console.WriteLine(""Key = {0}"", s);\n}ShareImprove this answerFolloweditedJun 24, 2019 at 11:11user3956566answeredSep 26, 2008 at 18:27J HealyJ Healy2,36211 gold badge1818 silver badges1313 bronze badges\n\nGenerally, asking for ""the best way"" without a specific context is like askingwhat is the best color?One the one hand, there are many colors and there\'s no best color.  It depends on the need and often on taste, too.On the other hand, there are many ways to iterate over a Dictionary in C# and there\'s no best way. It depends on the need and often on taste, too.Most straightforward wayforeach (var kvp in items)\n{\n    // key is kvp.Key\n    doStuff(kvp.Value)\n}If you need only the value (allows to call ititem, more readable thankvp.Value).foreach (var item in items.Values)\n{\n    doStuff(item)\n}If you need a specific sort orderGenerally, beginners are surprised about order of enumeration of a Dictionary.LINQ provides a concise syntax that allows to specify order (and many other things), e.g.:foreach (var kvp in items.OrderBy(kvp => kvp.Key))\n{\n    // key is kvp.Key\n    doStuff(kvp.Value)\n}Again you might only need the value. LINQ also provides a concise solution to:iterate directly on the value (allows to call ititem, more readable thankvp.Value)but sorted by the keysHere it is:foreach (var item in items.OrderBy(kvp => kvp.Key).Select(kvp => kvp.Value))\n{\n    doStuff(item)\n}There are many more real-world use case you can do from these examples.\nIf you don\'t need a specific order, just stick to the ""most straightforward way"" (see above)!ShareImprove this answerFolloweditedJun 3, 2019 at 12:28Mark Cooper6,83466 gold badges5656 silver badges9696 bronze badgesansweredAug 10, 2015 at 11:15Stéphane GourichonStéphane Gourichon6,76144 gold badges3838 silver badges5050 bronze badges\n\nC# 7.0introducedDeconstructorsand if you are using.NET Core 2.0+Application, the structKeyValuePair<>already include aDeconstruct()for you. So you can do:var dic = new Dictionary<int, string>() { { 1, ""One"" }, { 2, ""Two"" }, { 3, ""Three"" } };\nforeach (var (key, value) in dic) {\n    Console.WriteLine($""Item [{key}] = {value}"");\n}\n//Or\nforeach (var (_, value) in dic) {\n    Console.WriteLine($""Item [NO_ID] = {value}"");\n}\n//Or\nforeach ((int key, string value) in dic) {\n    Console.WriteLine($""Item [{key}] = {value}"");\n}ShareImprove this answerFollowansweredJan 7, 2019 at 20:30JaiderJaider14.7k55 gold badges7878 silver badges8484 bronze badges\n\nI would sayforeachis the standard way, though it obviously depends on what you\'re looking forforeach(var kvp in my_dictionary) {\n  ...\n}Is that what you\'re looking for?ShareImprove this answerFolloweditedJan 24, 2022 at 18:09johnthagen8,79977 gold badges4141 silver badges4646 bronze badgesansweredSep 26, 2008 at 18:22George MauerGeorge Mauer121k136136 gold badges393393 silver badges623623 bronze badges\n\nYou can also try this on big dictionaries for multithreaded processing.dictionary\n.AsParallel()\n.ForAll(pair => \n{ \n    // Process pair.Key and pair.Value here\n});ShareImprove this answerFolloweditedJun 11, 2015 at 14:50answeredJun 11, 2015 at 13:32OnurOnur87299 silver badges1818 bronze badges\n\nThere are plenty of options. My personal favorite is byKeyValuePair.Dictionary<string, object> myDictionary = new Dictionary<string, object>();\n// Populate your dictionary here\n\nforeach (KeyValuePair<string,object> kvp in myDictionary)\n{\n    // Do some interesting things\n}You can also use theKeysandValuescollections.ShareImprove this answerFolloweditedMar 7 at 12:40Mustafa Özçetin2,71844 gold badges1717 silver badges1919 bronze badgesansweredSep 26, 2008 at 18:22theotheo8,79133 gold badges2424 silver badges2222 bronze badges\n\nI appreciate this question has already had a lot of responses but I wanted to throw in a little research.Iterating over a dictionary can be rather slow when compared with iterating over something like an array. In my tests an iteration over an array took 0.015003 seconds whereas an iteration over a dictionary (with the same number of elements) took 0.0365073 seconds that\'s 2.4 times as long! Although I have seen much bigger differences. For comparison a List was somewhere in between at 0.00215043 seconds.However, that is like comparing apples and oranges. My point is that iterating over dictionaries is slow.Dictionaries are optimised for lookups, so with that in mind I\'ve created two methods. One simply does a foreach, the other iterates the keys then looks up.public static string Normal(Dictionary<string, string> dictionary)\n{\n    string value;\n    int count = 0;\n    foreach (var kvp in dictionary)\n    {\n        value = kvp.Value;\n        count++;\n    }\n\n    return ""Normal"";\n}This one loads the keys and iterates over them instead (I did also try pulling the keys into a string[] but the difference was negligible.public static string Keys(Dictionary<string, string> dictionary)\n{\n    string value;\n    int count = 0;\n    foreach (var key in dictionary.Keys)\n    {\n        value = dictionary[key];\n        count++;\n    }\n\n    return ""Keys"";\n}With this example the normal foreach test took 0.0310062 and the keys version took 0.2205441. Loading all the keys and iterating over all the lookups is clearly a LOT slower!For a final test I\'ve performed my iteration ten times to see if there are any benefits to using the keys here (by this point I was just curious):Here\'s the RunTest method if that helps you visualise what\'s going on.private static string RunTest<T>(T dictionary, Func<T, string> function)\n{            \n    DateTime start = DateTime.Now;\n    string name = null;\n    for (int i = 0; i < 10; i++)\n    {\n        name = function(dictionary);\n    }\n    DateTime end = DateTime.Now;\n    var duration = end.Subtract(start);\n    return string.Format(""{0} took {1} seconds"", name, duration.TotalSeconds);\n}Here the normal foreach run took 0.2820564 seconds (around ten times longer than a single iteration took - as you\'d expect). The iteration over the keys took 2.2249449 seconds.Edited To Add:Reading some of the other answers made me question what would happen if I used Dictionary instead of Dictionary. In this example the array took 0.0120024 seconds, the list 0.0185037 seconds and the dictionary 0.0465093 seconds. It\'s reasonable to expect that the data type makes a difference on how much slower the dictionary is.What are my Conclusions?Avoid iterating over a dictionary if you can, they are substantially slower than iterating over an array with the same data in it.If you do choose to iterate over a dictionary don\'t try to be too clever, although slower you could do a lot worse than using the standard foreach method.ShareImprove this answerFolloweditedApr 28, 2018 at 12:22M Reza19.3k1515 gold badges6969 silver badges7676 bronze badgesansweredJul 30, 2014 at 10:54LiathLiath10.1k1010 gold badges5353 silver badges8282 bronze badges\n\nWith .NET Framework 4.7 one can usedecompositionvar fruits = new Dictionary<string, int>();\n...\nforeach (var (fruit, number) in fruits)\n{\n    Console.WriteLine(fruit + "": "" + number);\n}To make this code work on lower C# versions, add theSystem.ValueTupleNuGet package and write somewherepublic static class MyExtensions\n{\n    public static void Deconstruct<T1, T2>(this KeyValuePair<T1, T2> tuple,\n        out T1 key, out T2 value)\n    {\n        key = tuple.Key;\n        value = tuple.Value;\n    }\n}ShareImprove this answerFolloweditedMay 5, 2023 at 22:12Ry-♦223k5555 gold badges482482 silver badges488488 bronze badgesansweredOct 17, 2017 at 15:18PavelPavel5,77955 gold badges3636 silver badges5959 bronze badges\n\nAs of C# 7, you can deconstruct objects into variables. I believe this to be the best way to iterate over a dictionary.Example:Create an extension method onKeyValuePair<TKey, TVal>that deconstructs it:public static void Deconstruct<TKey, TVal>(this KeyValuePair<TKey, TVal> pair, out TKey key, out TVal value)\n{\n   key = pair.Key;\n   value = pair.Value;\n}Iterate over anyDictionary<TKey, TVal>in the following manner// Dictionary can be of any types, just using \'int\' and \'string\' as examples.\nDictionary<int, string> dict = new Dictionary<int, string>();\n\n// Deconstructor gets called here.\nforeach (var (key, value) in dict)\n{\n   Console.WriteLine($""{key} : {value}"");\n}ShareImprove this answerFolloweditedOct 3, 2019 at 9:39Franziee6391212 silver badges2929 bronze badgesansweredJul 11, 2018 at 18:05Domn WernerDomn Werner58222 gold badges1010 silver badges2121 bronze badges\n\nUsingC# 7, add thisextension methodto any project of your solution:public static class IDictionaryExtensions\n{\n    public static IEnumerable<(TKey, TValue)> Tuples<TKey, TValue>(\n        this IDictionary<TKey, TValue> dict)\n    {\n        foreach (KeyValuePair<TKey, TValue> kvp in dict)\n            yield return (kvp.Key, kvp.Value);\n    }\n}And use this simple syntaxforeach (var(id, value) in dict.Tuples())\n{\n    // your code using \'id\' and \'value\'\n}Or this one, if you preferforeach ((string id, object value) in dict.Tuples())\n{\n    // your code using \'id\' and \'value\'\n}In place of the traditionalforeach (KeyValuePair<string, object> kvp in dict)\n{\n    string id = kvp.Key;\n    object value = kvp.Value;\n\n    // your code using \'id\' and \'value\'\n}The extension method transforms theKeyValuePairof yourIDictionary<TKey, TValue>into a strongly typedtuple, allowing you to use this new comfortable syntax.It converts -just- the required dictionary entries totuples, so it does NOT converts the whole dictionary totuples, so there are no performance concerns related to that.There is a only minor cost calling the extension method for creating atuplein comparison with using theKeyValuePairdirectly, which should NOT be an issue if you are assigning theKeyValuePair\'s propertiesKeyandValueto new loop variables anyway.In practice, this new syntax suits very well for most cases, except for low-level ultra-high performance scenarios, where you still have the option to simply not use it on that specific spot.Check this out:MSDN Blog - New features in C# 7ShareImprove this answerFolloweditedAug 1, 2018 at 20:38answeredMay 27, 2018 at 12:25sɐunıɔןɐqɐpsɐunıɔןɐqɐp3,4221616 gold badges3838 silver badges4141 bronze badges\n\nI found this method in the documentation for theDictionaryBaseclass on MSDN:foreach (DictionaryEntry de in myDictionary)\n{\n    // Do some stuff with de.Value or de.Key\n}This was the only one I was able to get functioning correctly in a class that inherited from the DictionaryBase.ShareImprove this answerFolloweditedMar 7 at 12:43Mustafa Özçetin2,71844 gold badges1717 silver badges1919 bronze badgesansweredFeb 17, 2009 at 23:51ZannjamindersonZannjaminderson\n\nIf you want to use aforloop, you can do as below:var keyList=new List<string>(dictionary.Keys);\nfor (int i = 0; i < keyList.Count; i++)\n{\n    var key= keyList[i];\n    var value = dictionary[key];\n}ShareImprove this answerFolloweditedNov 5, 2022 at 12:30burgund38211 gold badge66 silver badges1414 bronze badgesansweredMay 14, 2020 at 12:52SeçkinSeçkin2,79644 gold badges2828 silver badges3737 bronze badges\n\nIf say, you want to iterate over the values collection by default, I believe you can implement IEnumerable<>, Where T is the type of the values object in the dictionary, and ""this"" is a Dictionary.public new IEnumerator<T> GetEnumerator()\n{\n   return this.Values.GetEnumerator();\n}ShareImprove this answerFollowansweredDec 9, 2008 at 4:16mzirinomzirino\n\nThe best answer is of course:Think, if you could use a more appropriate data structure than a dictionary if you plan to iterate over it- as Vikas Gupta mentioned already in the (beginning of the) discussion under the question. But that discussion as this whole thread still lacks surprisingly good alternatives. One is:SortedList<string, string> x = new SortedList<string, string>();\n\nx.Add(""key1"", ""value1"");\nx.Add(""key2"", ""value2"");\nx[""key3""] = ""value3"";\nforeach( KeyValuePair<string, string> kvPair in x )\n            Console.WriteLine($""{kvPair.Key}, {kvPair.Value}"");Why it could be argued a code smell of iterating over a dictionary (e.g. by foreach(KeyValuePair<,>) ?A basic principle of Clean Coding:\n""Express intent!""\nRobert C. Martin writes in ""Clean Code"": ""Choosing names that reveal intent"". Obviously naming alone is too weak. ""Express (reveal) intent with every coding decision""expresses it better.A related principle is ""Principle of least surprise"" (=Principle of Least Astonishment).Why this is related to iterating over a dictionary?Choosing a dictionary expresses the intent of choosing a data structure which was made for primarily finding data by key. Nowadays there are so much alternatives in .NET, if you want to iterate through key/value pairs that you could choose something else.Moreover: If you iterate over something, you have to reveal something about how the items are (to be) ordered and expected to be ordered!\nAlthough the known implementations of Dictionary sort the key collection in the order of the items added-\nAFAIK, Dictionary has no assured specification about ordering (has it?).But what are the alternatives?TLDR:SortedList: If your collection is not getting too large, a simple solution would be to use SortedList<,> which gives you also full indexing of key/value pairs.Microsoft has a long article about mentioning and explaining fitting collections:Keyed collectionTo mention the most important:KeyedCollection<,> and SortedDictionary<,> .SortedDictionary<,> is a bit faster than SortedList for only inserting if it gets large, but lacks indexing and is needed only if O(log n) for inserting is preferenced over other operations. If you really need O(1) for inserting and accept slower iterating in exchange, you have to stay with simple Dictionary<,>.\nObviously there is no data structure which is the fastest for every possible operation..Additionally there isImmutableSortedDictionary<,>.And if one data structure is not exactly what you need, then derivate from Dictionary<,> or even from the newConcurrentDictionary<,> and add explicit iteration/sorting functions!ShareImprove this answerFolloweditedSep 22, 2021 at 21:26answeredJan 22, 2021 at 15:56PhilmPhilm3,56411 gold badge3030 silver badges2929 bronze badges\n\nvar dictionary = new Dictionary<string, int>\n{\n    { ""Key"", 12 }\n};\n\nvar aggregateObjectCollection = dictionary.Select(\n    entry => new AggregateObject(entry.Key, entry.Value));ShareImprove this answerFollowansweredMay 28, 2015 at 15:00Egor OkhterovEgor Okhterov51822 gold badges99 silver badges3636 bronze badges\n\nJust wanted to add my 2 cent, as the most answers relate to foreach-loop.\nPlease, take a look at the following code:Dictionary<String, Double> myProductPrices = new Dictionary<String, Double>();\n\n//Add some entries to the dictionary\n\nmyProductPrices.ToList().ForEach(kvP => \n{\n    kvP.Value *= 1.15;\n    Console.Writeline(String.Format(""Product \'{0}\' has a new price: {1} $"", kvp.Key, kvP.Value));\n});Altought this adds a additional call of \'.ToList()\', there might be a slight performance-improvement (as pointed out hereforeach vs someList.Foreach(){}), \nespacially when working with large Dictionaries and running in parallel is no option / won\'t have an effect at all.Also, please note that you wont be able to assign values to the \'Value\' property inside a foreach-loop. On the other hand, you will be able to manipulate the \'Key\' as well, possibly getting you into trouble at runtime.When you just want to ""read"" Keys and Values, you might also use IEnumerable.Select().var newProductPrices = myProductPrices.Select(kvp => new { Name = kvp.Key, Price = kvp.Value * 1.15 } );ShareImprove this answerFolloweditedMay 23, 2017 at 12:34CommunityBot111 silver badgeansweredSep 16, 2016 at 16:03AlexAlex8466 bronze badges\n\nin addition to the highest ranking posts where there is a discussion between usingforeach(KeyValuePair<string, string> entry in myDictionary)\n{\n    // do something with entry.Value or entry.Key\n}orforeach(var entry in myDictionary)\n{\n    // do something with entry.Value or entry.Key\n}most complete is the following because you can see the dictionary type from the initialization, kvp is KeyValuePairvar myDictionary = new Dictionary<string, string>(x);//fill dictionary with x\n\nforeach(var kvp in myDictionary)//iterate over dictionary\n{\n    // do something with kvp.Value or kvp.Key\n}ShareImprove this answerFollowansweredAug 19, 2018 at 20:50BigChiefBigChief1,50544 gold badges2424 silver badges3737 bronze badges'}","{'title': 'How do I get a YouTube video thumbnail from the YouTube API?', 'question': 'If I have a YouTube video URL, is there any way to use PHP and cURL to get the associated thumbnail from the YouTube API?phpcurlyoutubeyoutube-apiyoutube-data-apiShareImprove this questionFolloweditedDec 31, 2020 at 1:19stvar6,82722 gold badges1515 silver badges3030 bronze badgesaskedJan 14, 2010 at 23:34CodeOverloadCodeOverload48k5656 gold badges132132 silver badges219219 bronze badges', 'answers': 'Answer recommended byPHPCollectiveEach YouTube video has four generated images. They are predictably formatted as follows:https://img.youtube.com/vi/<insert-youtube-video-id-here>/0.jpg\nhttps://img.youtube.com/vi/<insert-youtube-video-id-here>/1.jpg\nhttps://img.youtube.com/vi/<insert-youtube-video-id-here>/2.jpg\nhttps://img.youtube.com/vi/<insert-youtube-video-id-here>/3.jpgThe first one in the list is a full size image and others are thumbnail images. The default thumbnail image (i.e., one of1.jpg,2.jpg,3.jpg) is:https://img.youtube.com/vi/<insert-youtube-video-id-here>/default.jpgFor the high quality version of the thumbnail use a URL similar to this:https://img.youtube.com/vi/<insert-youtube-video-id-here>/hqdefault.jpgThere is also a medium quality version of the thumbnail, using a URL similar to the HQ:https://img.youtube.com/vi/<insert-youtube-video-id-here>/mqdefault.jpgFor the standard definition version of the thumbnail, use a URL similar to this:https://img.youtube.com/vi/<insert-youtube-video-id-here>/sddefault.jpgFor the maximum resolution version of the thumbnail use a URL similar to this:https://img.youtube.com/vi/<insert-youtube-video-id-here>/maxresdefault.jpgAll of the above URLs are available over HTTP too. Additionally, the slightly shorter hostnamei3.ytimg.comworks in place ofimg.youtube.comin the example URLs above.Alternatively, you can use theYouTube Data API (v3)to get thumbnail images.ShareImprove this answerFolloweditedJul 10, 2019 at 21:45Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJan 14, 2010 at 23:40AsaphAsaph162k2525 gold badges201201 silver badges203203 bronze badges\n\nYou can useYouTube Data APIto retrieve video thumbnails, caption, description, rating, statistics and more. API version 3 requires a key*. Obtain the key and create avideos: listrequest:https://www.googleapis.com/youtube/v3/videos?key=YOUR_API_KEY&part=snippet&id=VIDEO_IDExample PHP Code$data = file_get_contents(""https://www.googleapis.com/youtube/v3/videos?key=YOUR_API_KEY&part=snippet&id=T0Jqdjbed40"");\n$json = json_decode($data);\nvar_dump($json->items[0]->snippet->thumbnails);Outputobject(stdClass)#5 (5) {\n  [""default""]=>\n  object(stdClass)#6 (3) {\n    [""url""]=>\n    string(46) ""https://i.ytimg.com/vi/T0Jqdjbed40/default.jpg""\n    [""width""]=>\n    int(120)\n    [""height""]=>\n    int(90)\n  }\n  [""medium""]=>\n  object(stdClass)#7 (3) {\n    [""url""]=>\n    string(48) ""https://i.ytimg.com/vi/T0Jqdjbed40/mqdefault.jpg""\n    [""width""]=>\n    int(320)\n    [""height""]=>\n    int(180)\n  }\n  [""high""]=>\n  object(stdClass)#8 (3) {\n    [""url""]=>\n    string(48) ""https://i.ytimg.com/vi/T0Jqdjbed40/hqdefault.jpg""\n    [""width""]=>\n    int(480)\n    [""height""]=>\n    int(360)\n  }\n  [""standard""]=>\n  object(stdClass)#9 (3) {\n    [""url""]=>\n    string(48) ""https://i.ytimg.com/vi/T0Jqdjbed40/sddefault.jpg""\n    [""width""]=>\n    int(640)\n    [""height""]=>\n    int(480)\n  }\n  [""maxres""]=>\n  object(stdClass)#10 (3) {\n    [""url""]=>\n    string(52) ""https://i.ytimg.com/vi/T0Jqdjbed40/maxresdefault.jpg""\n    [""width""]=>\n    int(1280)\n    [""height""]=>\n    int(720)\n  }\n}* Not only that you need a key, you might be asked for billing information depending on the number of API requests you plan to make. However, few thousand requests per day are free.Source article.ShareImprove this answerFolloweditedNov 29, 2021 at 19:28Conor Reid64844 silver badges1616 bronze badgesansweredJan 21, 2010 at 9:58Salman ArshadSalman Arshad270k8383 gold badges436436 silver badges528528 bronze badges\n\nWhat Asaph said is right. However, not every YouTube video contains all nine\nthumbnails. Also, the thumbnails\' image sizes depends on the video (the numbers\nbelow are based on one). There are some thumbnails guaranteed to exist:WidthHeightURL12090https://i.ytimg.com/vi//1.jpg12090https://i.ytimg.com/vi//2.jpg12090https://i.ytimg.com/vi//3.jpg12090https://i.ytimg.com/vi//default.jpg320180https://i.ytimg.com/vi//mq1.jpg320180https://i.ytimg.com/vi//mq2.jpg320180https://i.ytimg.com/vi//mq3.jpg320180https://i.ytimg.com/vi//mqdefault.jpg480360https://i.ytimg.com/vi//0.jpg480360https://i.ytimg.com/vi//hq1.jpg480360https://i.ytimg.com/vi//hq2.jpg480360https://i.ytimg.com/vi//hq3.jpg480360https://i.ytimg.com/vi//hqdefault.jpgAdditionally, the some other thumbnails may or may not exist. Their presence is\nprobably based on whether the video is high-quality.WidthHeightURL640480https://i.ytimg.com/vi//sd1.jpg640480https://i.ytimg.com/vi//sd2.jpg640480https://i.ytimg.com/vi//sd3.jpg640480https://i.ytimg.com/vi//sddefault.jpg1280720https://i.ytimg.com/vi//hq720.jpg19201080https://i.ytimg.com/vi//maxresdefault.jpgYou can find JavaScript and PHP scripts to retrieve thumbnails and other\nYouTube information in:How to get YouTube Video Info with PHPRetrieve YouTube Video Details using JavaScript - JSON & API v2You can also use theYouTube Video Information Generatortool to get all\nthe information about a YouTube video by submitting a URL or video id.ShareImprove this answerFolloweditedSep 25, 2023 at 12:43WinEunuuchs2Unix1,85611 gold badge1919 silver badges3737 bronze badgesansweredDec 12, 2013 at 11:17AGMGAGMG3,87811 gold badge1717 silver badges1414 bronze badges\n\nIn YouTube API V3 we can also use these URLs for obtaining thumbnails... They are classified based on their quality.https://i1.ytimg.com/vi/<insert-youtube-video-id-here>/default.jpg -   default\nhttps://i1.ytimg.com/vi/<insert-youtube-video-id-here>/mqdefault.jpg - medium \nhttps://i1.ytimg.com/vi/<insert-youtube-video-id-here>/hqdefault.jpg - high\nhttps://i1.ytimg.com/vi/<insert-youtube-video-id-here>/sddefault.jpg - standardAnd for the maximum resolution..https://i1.ytimg.com/vi/<insert-youtube-video-id-here>/maxresdefault.jpgOne advantage of these URLs over the URLs in the first answer is that these URLs don\'t get blocked by firewalls.ShareImprove this answerFolloweditedFeb 2, 2014 at 11:04Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredAug 23, 2013 at 10:23NarenNaren2,28111 gold badge2828 silver badges4545 bronze badges\n\nIf you want to get rid of the ""black bars"" and do it like YouTube does it, you can use:https://i.ytimg.com/vi_webp/<video id>/mqdefault.webpAnd if you can\'t use the.webpfile extension you can do it like this:https://i.ytimg.com/vi/<video id>/mqdefault.jpgAlso, if you need the unscaled version, usemaxresdefaultinstead ofmqdefault.Note: I\'m not sure about the aspect ratio if you\'re planning to usemaxresdefault.ShareImprove this answerFolloweditedJun 12, 2021 at 14:30Zombo1answeredJun 8, 2015 at 11:59LuTzLuTz1,52311 gold badge1515 silver badges2525 bronze badges\n\nIf you want the biggest image from YouTube for a specific video ID, then the URL should be something like this:http://i3.ytimg.com/vi/SomeVideoIDHere/0.jpgUsing the API, you can pick up the default thumbnail image. Simple code should be something like this://Grab the default thumbnail image\n$attrs = $media->group->thumbnail[1]->attributes();\n$thumbnail = $attrs[\'url\'];\n$thumbnail = substr($thumbnail, 0, -5);\n$thumb1 = $thumbnail.""default.jpg"";\n\n// Grab the third thumbnail image\n$thumb2 = $thumbnail.""2.jpg"";\n\n// Grab the fourth thumbnail image.\n$thumb3 = $thumbnail.""3.jpg"";\n\n// Using simple cURL to save it your server.\n// You can extend the cURL below if you want it as fancy, just like\n// the rest of the folks here.\n\n$ch = curl_init (""$thumb1"");\ncurl_setopt($ch, CURLOPT_HEADER, 0);\ncurl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);\ncurl_setopt($ch, CURLOPT_BINARYTRANSFER,1);\n$rawdata = curl_exec($ch);\ncurl_close($ch);\n\n// Using fwrite to save the above\n$fp = fopen(""SomeLocationInReferenceToYourScript/AnyNameYouWant.jpg"", \'w\');\n\n// Write the file\nfwrite($fp, $rawdata);\n\n// And then close it.\nfclose($fp);ShareImprove this answerFolloweditedMar 28, 2022 at 7:37yivi45.6k1818 gold badges128128 silver badges148148 bronze badgesansweredDec 22, 2010 at 5:44PoorBoyPoorBoy68355 silver badges22 bronze badges\n\nI made a function to only fetch existing images from YouTubefunction youtube_image($id) {\n    $resolution = array (\n        \'maxresdefault\',\n        \'sddefault\',\n        \'mqdefault\',\n        \'hqdefault\',\n        \'default\'\n    );\n\n    for ($x = 0; $x < sizeof($resolution); $x++) {\n        $url = \'//img.youtube.com/vi/\' . $id . \'/\' . $resolution[$x] . \'.jpg\';\n        if (get_headers($url)[0] == \'HTTP/1.0 200 OK\') {\n            break;\n        }\n    }\n    return $url;\n}ShareImprove this answerFolloweditedOct 7, 2015 at 7:59answeredDec 18, 2013 at 10:29Henrik AlbrechtssonHenrik Albrechtsson1,73722 gold badges1717 silver badges1717 bronze badges\n\nYouTube is owned by Google and Google likes to have a reasonable number of images for different screen sizes, hence its images are stored in different sizes. Here is an example of how your thumbnail will be like:Low quality thumbnail:http://img.youtube.com/vi/<YouTube_Video_ID_HERE>/sddefault.jpgMedium quality thumbnail:http://img.youtube.com/vi/<YouTube_Video_ID_HERE>/mqdefault.jpgHigh quality thumbnail:http://img.youtube.com/vi/<YouTube_Video_ID_HERE>/hqdefault.jpgMaximum quality thumbnail:http://img.youtube.com/vi/<YouTube_Video_ID_HERE>/maxresdefault.jpgShareImprove this answerFolloweditedJul 10, 2019 at 21:56Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredDec 1, 2015 at 23:40life evaderlife evader98888 silver badges1717 bronze badges\n\nYou can get theVideo Entrywhich contains the URL to the video\'s thumbnail. There\'s example code in the link. Or, if you want to parse XML, there\'s informationhere. The XML returned has amedia:thumbnailelement, which contains the thumbnail\'s URL.ShareImprove this answerFollowansweredJan 14, 2010 at 23:40keyboardPkeyboardP69.2k1313 gold badges160160 silver badges208208 bronze badges\n\nInYouTube Data API v3, you can get video\'s thumbnails with thevideos->listfunction. Fromsnippet.thumbnails.(key), you can pick the default, medium or high resolution thumbnail, and get its width, height and URL.You can also update thumbnails with thethumbnails->setfunctionality.For examples, you can check out theYouTube API Samplesproject. (PHP ones.)ShareImprove this answerFolloweditedFeb 2, 2014 at 11:01Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMay 28, 2013 at 17:45Ibrahim UlukayaIbrahim Ulukaya12.9k11 gold badge3434 silver badges3636 bronze badges\n\n// Get image form video URL\n$url = $video[\'video_url\'];\n\n$urls = parse_url($url);\n\n//Expect the URL to be http://youtu.be/abcd, where abcd is the video ID\nif ($urls[\'host\'] == \'youtu.be\') :\n\n    $imgPath = ltrim($urls[\'path\'],\'/\');\n\n//Expect the URL to be http://www.youtube.com/embed/abcd\nelseif (strpos($urls[\'path\'],\'embed\') == 1) :\n\n    $imgPath = end(explode(\'/\',$urls[\'path\']));\n\n//Expect the URL to be abcd only\nelseif (strpos($url,\'/\') === false):\n\n    $imgPath = $url;\n\n//Expect the URL to be http://www.youtube.com/watch?v=abcd\nelse :\n\n    parse_str($urls[\'query\']);\n\n    $imgPath = $v;\n\nendif;ShareImprove this answerFolloweditedFeb 2, 2014 at 11:03Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJul 4, 2013 at 5:10Mahendra TyagiMahendra Tyagi42744 silver badges33 bronze badges\n\nYouTube is serving thumbnails from 2 servers. You just need to replace <YouTube_Video_ID_HERE> with your own YouTube video id. These days webP is best format for fast loading of images due to small image size.https://img.youtube.comhttps://i.ytimg.comExamples are withhttps://i.ytimg.comserver just because it’s shorter, no other particular reason. You can use both.Player Background Thumbnail (480x360):WebP\nhttps://i.ytimg.com/vi_webp/<YouTube_Video_ID_HERE>/0.webp\n\nJPG\nhttps://i.ytimg.com/vi/<YouTube_Video_ID_HERE>/0.jpgVideo frames thumbnails (120x90)WebP:\nStart: https://i.ytimg.com/vi_webp/<YouTube_Video_ID_HERE>/1.webp\nMiddle: https://i.ytimg.com/vi_webp/<YouTube_Video_ID_HERE>/2.webp\nEnd: https://i.ytimg.com/vi_webp/<YouTube_Video_ID_HERE>/3.webp\n\nJPG:\nStart: https://i.ytimg.com/vi/<YouTube_Video_ID_HERE>/1.jpg\nMiddle: https://i.ytimg.com/vi/<YouTube_Video_ID_HERE>/2.jpg\nEnd: https://i.ytimg.com/vi/<YouTube_Video_ID_HERE>/3.jpgLowest quality thumbnail (120x90)WebP\nhttps://i.ytimg.com/vi_webp/<YouTube_Video_ID_HERE>/default.webp\n\nJPG\nhttps://i.ytimg.com/vi/<YouTube_Video_ID_HERE>/default.jpgMedium quality thumbnail (320x180)WebP\nhttps://i.ytimg.com/vi_webp/<YouTube_Video_ID_HERE>/mqdefault.webp\n\nJPG\nhttps://i.ytimg.com/vi/<YouTube_Video_ID_HERE>/mqdefault.jpgHigh quality thumbnail (480x360)WebP\nhttps://i.ytimg.com/vi_webp/<YouTube_Video_ID_HERE>/hqdefault.webp\n\nJPG\nhttps://i.ytimg.com/vi/<YouTube_Video_ID_HERE>/hqdefault.jpgStandard quality thumbnail (640x480)WebP\nhttps://i.ytimg.com/vi_webp/<YouTube_Video_ID_HERE>/sddefault.webp\n\nJPG\nhttps://i.ytimg.com/vi/<YouTube_Video_ID_HERE>/sddefault.jpgUnscaled thumbnail resolutionWebP\nhttps://i.ytimg.com/vi_webp/<YouTube_Video_ID_HERE>/maxresdefault.webp\n\nJPG\nhttps://i.ytimg.com/vi/<YouTube_Video_ID_HERE>/maxresdefault.jpgShareImprove this answerFollowansweredSep 14, 2020 at 17:53Salman ZaibSalman Zaib57044 silver badges1313 bronze badges\n\nYouTubeAPI version 3up and running in 2 minutesIf all you want to do is search YouTube and get associated properties:Get apublic API--This link gives a good directionUse below query string. The search query (denoted byq=) in the URL string isstackoverflowfor example purposes. YouTube will then send you back a JSON reply where you can then parse for Thumbnail, Snippet, Author, etc.https://www.googleapis.com/youtube/v3/search?part=id%2Csnippet&maxResults=50&q=stackoverflow&key=YOUR_API_KEY_HEREShareImprove this answerFolloweditedJun 20, 2020 at 9:12CommunityBot111 silver badgeansweredMar 14, 2014 at 16:20ChrisChris18.7k1515 gold badges6161 silver badges7979 bronze badges\n\nAnother good alternative would be to use theoEmbedAPI which is supported by YouTube.You simply add your YouTube URL to the oEmbed URL and you\'ll receive a JSON including a thumbnail and the HTML code for embedding.Example:http://www.youtube.com/oembed?format=json&url=http%3A//youtube.com/watch%3Fv%3DxUeJdWYdMmQWould give you:{\n  ""height"":270,\n  ""width"":480,\n  ""title"":""example video for 2020"",\n  ""thumbnail_width"":480,\n  ""html"":""..."",\n  ""thumbnail_height"":360,\n  ""version"":""1.0"",\n  ""provider_name"":""YouTube"",\n  ""author_url"":""https:\\/\\/www.youtube.com\\/channel\\/UCza6VSQUzCON- AzlsrOLwaA"",\n  ""thumbnail_url"":""https:\\/\\/i.ytimg.com\\/vi\\/xUeJdWYdMmQ\\/hqdefault.jpg"",\n  ""author_name"":""Pokics"",\n  ""provider_url"":""https:\\/\\/www.youtube.com\\/"",\n  ""type"":""video""\n}Read the documentation for moreinformation.ShareImprove this answerFolloweditedMay 27, 2020 at 9:09answeredMar 8, 2017 at 8:24Andresch SerjAndresch Serj36.6k1616 gold badges6161 silver badges102102 bronze badges\n\nUse:https://www.googleapis.com/youtube/v3/videoCategories?part=snippet,id&maxResults=100&regionCode=us&key=**Your YouTube ID**Above is the link. Using that, you can find the YouTube characteristics of videos. After finding characteristics, you can get videos of the selected category. After then you can find selected video images usingAsaph\'s answer.Try the above approach and you can parse everything from the YouTubeAPI.ShareImprove this answerFolloweditedMay 23, 2017 at 12:18CommunityBot111 silver badgeansweredApr 3, 2014 at 11:44Nikh1414Nikh14141,25622 gold badges1919 silver badges3535 bronze badges\n\nI have used YouTube thumbnails in this way:$url = \'http://img.youtube.com/vi/\' . $youtubeId . \'/0.jpg\';\n$img = dirname(__FILE__) . \'/youtubeThumbnail_\'  . $youtubeId . \'.jpg\';\nfile_put_contents($img, file_get_contents($url));Remember YouTube prevents to include images directly from their server.ShareImprove this answerFolloweditedJul 10, 2019 at 21:49Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMay 6, 2015 at 10:55blacksunshineCodingblacksunshineCoding73688 silver badges1616 bronze badges\n\nYou can get the video ID from the YouTube video url usingparse_url,parse_strand then insert in to the predictive urls for images. Thanks to YouTube for the predictive URLs$videoUrl = ""https://www.youtube.com/watch?v=8zy7wGbQgfw"";\nparse_str( parse_url( $videoUrl, PHP_URL_QUERY ), $my_array_of_vars );\n$ytID = $my_array_of_vars[\'v\']; //gets video ID\n\nprint ""https://img.youtube.com/vi/$ytID/maxresdefault.jpg"";\nprint ""https://img.youtube.com/vi/$ytID/mqdefault.jpg"";\nprint ""https://img.youtube.com/vi/$ytID/hqdefault.jpg"";\nprint ""https://img.youtube.com/vi/$ytID/sddefault.jpg"";\nprint ""https://img.youtube.com/vi/$ytID/default.jpg"";You can use this tool to generate YouTube thumbnailshttps://youtube-thumbnail-tool.comShareImprove this answerFolloweditedMar 27, 2021 at 17:38answeredMay 2, 2018 at 12:18DukeDuke36.4k1313 gold badges5555 silver badges7272 bronze badges\n\nhttps://i.ytimg.com/vi/<--Video ID-->/default.jpgImageSize Weight 120px Height 90pxhttps://i.ytimg.com/vi/<--Video ID-->/mqdefault.jpgImageSize Weight 320px Height 180pxhttps://i.ytimg.com/vi/<--Video ID-->/hqdefault.jpgImageSize Weight 480px Height 360pxhttps://i.ytimg.com/vi/<--Video ID-->/sddefault.jpgImageSize Weight 640px Height 480pxhttps://i.ytimg.com/vi/<--Video ID-->/maxresdefault.jpgImageSize Weight 1280px Height 720pxShareImprove this answerFolloweditedMar 2, 2022 at 8:21answeredJan 3, 2022 at 16:21CodAIKCodAIK75388 silver badges77 bronze badges\n\nJust to add/expand on the solutions given, I feel it is necessary to note that, as I had this problem myself, one can actually grab multiple YouTube videos content, in this case, thumbnails,  with one HTTP request:Using a Rest Client, in this case, HTTPFUL, you can do something like this:<?php\nheader(""Content-type"", ""application/json"");\n\n//download the httpfull.phar file from http://phphttpclient.com\ninclude(""httpful.phar"");\n\n$youtubeVidIds= array(""nL-rk4bgJWU"", ""__kupr7KQos"", ""UCSynl4WbLQ"", ""joPjqEGJGqU"", ""PBwEBjX3D3Q"");\n\n\n$response = \\Httpful\\Request::get(""https://www.googleapis.com/youtube/v3/videos?key=YourAPIKey4&part=snippet&id="".implode ("","",$youtubeVidIds)."""")\n\n->send();\n\nprint ($response);\n\n?>ShareImprove this answerFolloweditedAug 15, 2017 at 15:10answeredMay 8, 2016 at 15:22Hlawuleka MASHlawuleka MAS56055 silver badges1111 bronze badges\n\nYouTube Data APIYouTube provides us the four generated images for every video through the Data API (v3), for example,https://i.ytimg.com/vi/V_zwalcR8DU/maxresdefault.jpghttps://i.ytimg.com/vi/V_zwalcR8DU/sddefault.jpghttps://i.ytimg.com/vi/V_zwalcR8DU/hqdefault.jpghttps://i.ytimg.com/vi/V_zwalcR8DU/mqdefault.jpgGetting access to the images via the APIFirst get your public API key atGoogle API Console.As per YouTube\'s thumbnail reference in theAPI documentation, you need to access the resources on snippet.thumbnails.As per this, you need to phrase your URL like this -www.googleapis.com/youtube/v3/videos?part=snippet&id=`yourVideoId`&key=`yourApiKey`Now change your video ID and your API key to the your respective video-id and api-key and its response will be a JSON output providing you the four links in the thumbnails of snippet variable (if all are available).ShareImprove this answerFolloweditedJul 10, 2019 at 22:04Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMar 22, 2017 at 15:26Daksh M.Daksh M.4,77744 gold badges3232 silver badges4747 bronze badges\n\nA simple PHP function I created for the YouTube thumbnail and the types aredefaulthqdefaultmqdefaultsddefaultmaxresdefaultfunction get_youtube_thumb($link,$type){\n\n    $video_id = explode(""?v="", $link);\n\n    if (empty($video_id[1])){\n        $video_id = explode(""/v/"", $link);\n        $video_id = explode(""&"", $video_id[1]);\n        $video_id = $video_id[0];\n    }\n    $thumb_link = """";\n\n    if($type == \'default\'   || $type == \'hqdefault\' ||\n       $type == \'mqdefault\' || $type == \'sddefault\' ||\n       $type == \'maxresdefault\'){\n\n        $thumb_link = \'http://img.youtube.com/vi/\'.$video_id.\'/\'.$type.\'.jpg\';\n\n    }elseif($type == ""id""){\n        $thumb_link = $video_id;\n    }\n    return $thumb_link;}ShareImprove this answerFolloweditedJul 10, 2019 at 21:52Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredSep 24, 2015 at 6:24Arun YokeshArun Yokesh1,3561717 silver badges1919 bronze badges\n\nIf you\'re using the public API, the best way to do it is usingifstatements.If the video is public or unlisted, you set the thumbnail using the URL method.\nIf the video is private you use the API to get the thumbnail.<?php\n    if($video_status == \'unlisted\'){\n        $video_thumbnail = \'http://img.youtube.com/vi/\'.$video_url.\'/mqdefault.jpg\';\n        $video_status = \'<i class=""fa fa-lock""></i>&nbsp;Unlisted\';\n    }\n    elseif($video_status == \'public\'){\n        $video_thumbnail = \'http://img.youtube.com/vi/\'.$video_url.\'/mqdefault.jpg\';\n        $video_status = \'<i class=""fa fa-eye""></i>&nbsp;Public\';\n    }\n    elseif($video_status == \'private\'){\n        $video_thumbnail = $playlistItem[\'snippet\'][\'thumbnails\'][\'maxres\'][\'url\'];\n        $video_status = \'<i class=""fa fa-lock""></i>&nbsp;Private\';\n    }ShareImprove this answerFolloweditedJul 10, 2019 at 21:58Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMay 17, 2016 at 21:28Harvey ConnorHarvey Connor15744 silver badges2020 bronze badges\n\nAlthough there are already many answers, but for new visitors I will leave mine with two options for obtaining a thumbnail.Getting Thumbnail via  YouTube Data APIRegister your app withGoogle Cloud Platformand activateYouTube Data API v3libraryCreate an API Key in the Credentials section. This way you will get a key to access the APIAnd send arequestfor information about the video, including getting a thumbnail.$api_key = \'YOUR_API_KEY\';\n$youtube_video_id = \'jNQXAC9IVRw\';\n$curl = curl_init();\n\ncurl_setopt_array($curl, array(\n    CURLOPT_URL => \'https://www.googleapis.com/youtube/v3/videos?key=\'.$api_key.\'&part=snippet&id=\'.$youtube_video_id,\n    CURLOPT_RETURNTRANSFER => true,\n    CURLOPT_ENCODING => \'\',\n    CURLOPT_MAXREDIRS => 10,\n    CURLOPT_TIMEOUT => 0,\n    CURLOPT_FOLLOWLOCATION => true,\n    CURLOPT_HTTP_VERSION => CURL_HTTP_VERSION_1_1,\n    CURLOPT_CUSTOMREQUEST => \'GET\',\n)); \n\n$response = curl_exec($curl); \ncurl_close($curl);\n\n$response = json_decode($response,true); \n\nprint_r($response); // result with video information and thumbnailsGetting a thumbnail from a direct link without an APIIn addition to the API, thumbnails can be obtained via a direct link, likethis:https://i.ytimg.com/vi/jNQXAC9IVRw/hqdefault.jpgLet\'s consider this option in detail:https://i.ytimg.com/vi/<YOUTUBE_VIDEO_ID>/<SIZE_VALUE>.jpgWhere:YOUTUBE_VIDEO_ID: Your video IDSIZE_VALUE: Thumbnail size. The variable can contain such values:default,mqdefault,hqdefault,sddefault,maxresdefault$youtube_video_id = \'jNQXAC9IVRw\';\n$size = \'hqdefault\';\n\n$curl = curl_init();\ncurl_setopt_array($curl, array(\n    CURLOPT_URL => ""https://i.ytimg.com/vi/{$youtube_video_id}/{$size}.jpg"",\n    CURLOPT_RETURNTRANSFER => true,\n    CURLOPT_ENCODING => \'\',\n    CURLOPT_MAXREDIRS => 10,\n    CURLOPT_TIMEOUT => 0,\n    CURLOPT_FOLLOWLOCATION => true,\n    CURLOPT_HTTP_VERSION => CURL_HTTP_VERSION_1_1,\n    CURLOPT_CUSTOMREQUEST => \'GET\',\n));\n$response = curl_exec($curl);\ncurl_close($curl);\n\n// Write the file\n$handle = fopen(""image/filename.jpg"", \'w\'); // set your directory and filename\nfwrite($handle, $response);\nfclose($handle);ShareImprove this answerFolloweditedMar 29, 2022 at 3:44answeredMar 27, 2022 at 19:54emomalievemomaliev2,31333 gold badges1010 silver badges1717 bronze badges\n\nI think there is a lot of answers for thumbnail, but I want to add some other URLs to get YouTube thumbnail very easily. I am just taking some text from Asaph\'s answer. Here are some URLs to get YouTube thumbnails:https://ytimg.googleusercontent.com/vi/<insert-youtube-video-id-here>/default.jpgFor the high quality version of the thumbnail use a URL similar to this:https://ytimg.googleusercontent.com/vi/<insert-youtube-video-id-here>/hqdefault.jpgThere is also a medium quality version of the thumbnail, using a URL similar to the high quality:https://ytimg.googleusercontent.com/vi/<insert-youtube-video-id-here>/mqdefault.jpgFor the standard definition version of the thumbnail, use a URL similar to this:https://ytimg.googleusercontent.com/vi/<insert-youtube-video-id-here>/sddefault.jpgFor the maximum resolution version of the thumbnail use a URL similar to this:https://ytimg.googleusercontent.com/vi/<insert-youtube-video-id-here>/maxresdefault.jpgShareImprove this answerFolloweditedDec 20, 2021 at 10:49answeredOct 24, 2016 at 15:29KumarKumar1,21711 gold badge1919 silver badges3131 bronze badges\n\nMethod 1:You can find all information for a YouTube video with a JSON page which has even ""thumbnail_url"",http://www.youtube.com/oembed?format=json&url={your video URL goes here}Like final URL look + PHP test code$data = file_get_contents(""https://www.youtube.com/oembed?format=json&url=https://www.youtube.com/watch?v=_7s-6V_0nwA"");\n$json = json_decode($data);\nvar_dump($json);Outputobject(stdClass)[1]\n  public \'width\' => int 480\n  public \'version\' => string \'1.0\' (length=3)\n  public \'thumbnail_width\' => int 480\n  public \'title\' => string \'how to reminder in window as display message\' (length=44)\n  public \'provider_url\' => string \'https://www.youtube.com/\' (length=24)\n  public \'thumbnail_url\' => string \'https://i.ytimg.com/vi/_7s-6V_0nwA/hqdefault.jpg\' (length=48)\n  public \'author_name\' => string \'H2 ZONE\' (length=7)\n  public \'type\' => string \'video\' (length=5)\n  public \'author_url\' => string \'https://www.youtube.com/channel/UC9M35YwDs8_PCWXd3qkiNzg\' (length=56)\n  public \'provider_name\' => string \'YouTube\' (length=7)\n  public \'height\' => int 270\n  public \'html\' => string \'<iframe width=""480"" height=""270"" src=""https://www.youtube.com/embed/_7s-6V_0nwA?feature=oembed"" frameborder=""0"" allow=""autoplay; encrypted-media"" allowfullscreen></iframe>\' (length=171)\n  public \'thumbnail_height\' => int 360For details, you can also seeHow to get a YouTube video thumbnail using idorhttps://www.youtube.com/watch?v=mXde7q59BI8video tutorial 1Method 2:Using YouTube image link,https://img.youtube.com/vi/""insert-youtube-video-id-here""/default.jpgMethod 3:Using browser source code for getting thumbnail using video URL link\n-go to video source code and search for thumbnailurl.\nNow you can use this URL into\nyour source code:{img src=""https://img.youtube.com/vi/""insert-youtube-video-id-here""/default.jpg""}For details you can also seeHow to get a YouTube video thumbnail using idorhttps://www.youtube.com/watch?v=9f6E8MeM6PIvideo tutorial 2ShareImprove this answerFolloweditedMay 28, 2020 at 11:15answeredApr 10, 2018 at 13:35Hassan SaeedHassan Saeed6,84411 gold badge4242 silver badges3838 bronze badges\n\nfunction get_video_thumbnail( $src ) {\n            $url_pieces = explode(\'/\', $src);\n            if( $url_pieces[2] == \'dai.ly\'){\n                $id = $url_pieces[3];\n                $hash = json_decode(file_get_contents(\'https://api.dailymotion.com/video/\'.$id.\'?fields=thumbnail_large_url\'), TRUE);\n                $thumbnail = $hash[\'thumbnail_large_url\'];\n            }else if($url_pieces[2] == \'www.dailymotion.com\'){\n                $id = $url_pieces[4];\n                $hash = json_decode(file_get_contents(\'https://api.dailymotion.com/video/\'.$id.\'?fields=thumbnail_large_url\'), TRUE);\n                $thumbnail = $hash[\'thumbnail_large_url\'];\n            }else if ( $url_pieces[2] == \'vimeo.com\' ) { // If Vimeo\n                $id = $url_pieces[3];\n                $hash = unserialize(file_get_contents(\'http://vimeo.com/api/v2/video/\' . $id . \'.php\'));\n                $thumbnail = $hash[0][\'thumbnail_large\'];\n            } elseif ( $url_pieces[2] == \'youtu.be\' ) { // If Youtube\n                $extract_id = explode(\'?\', $url_pieces[3]);\n                $id = $extract_id[0];\n                $thumbnail = \'http://img.youtube.com/vi/\' . $id . \'/mqdefault.jpg\';\n            }else if ( $url_pieces[2] == \'player.vimeo.com\' ) { // If Vimeo\n                $id = $url_pieces[4];\n                $hash = unserialize(file_get_contents(\'http://vimeo.com/api/v2/video/\' . $id . \'.php\'));\n                $thumbnail = $hash[0][\'thumbnail_large\'];\n            } elseif ( $url_pieces[2] == \'www.youtube.com\' ) { // If Youtube\n                $extract_id = explode(\'=\', $url_pieces[3]);\n                $id = $extract_id[1];\n                $thumbnail = \'http://img.youtube.com/vi/\' . $id . \'/mqdefault.jpg\';\n            } else{\n                $thumbnail = tim_thumb_default_image(\'video-icon.png\', null, 147, 252);\n            }\n            return $thumbnail;\n        }\n\nget_video_thumbnail(\'https://vimeo.com/154618727\');\nget_video_thumbnail(\'https://www.youtube.com/watch?v=SwU0I7_5Cmc\');\nget_video_thumbnail(\'https://youtu.be/pbzIfnekjtM\');\nget_video_thumbnail(\'http://www.dailymotion.com/video/x5thjyz\');ShareImprove this answerFollowansweredOct 26, 2017 at 10:29Nimesh VagadiyaNimesh Vagadiya63233 gold badges88 silver badges1818 bronze badges\n\nHere\'sthe top answeroptimized for manual use. The video ID token without separators enables selecting with a double click.Each YouTube video has four generated images. They are predictably formatted as follows:https://img.youtube.com/vi/YOUTUBEVIDEOID/0.jpg\nhttps://img.youtube.com/vi/YOUTUBEVIDEOID/1.jpg\nhttps://img.youtube.com/vi/YOUTUBEVIDEOID/2.jpg\nhttps://img.youtube.com/vi/YOUTUBEVIDEOID/3.jpgThe first one in the list is a full size image and others are thumbnail images. The default thumbnail image (ie. one of1.jpg,2.jpg,3.jpg) is:https://img.youtube.com/vi/YOUTUBEVIDEOID/default.jpgFor the high quality version of the thumbnail use a URL  similar to this:https://img.youtube.com/vi/YOUTUBEVIDEOID/hqdefault.jpgThere is also a medium quality version of the thumbnail, using a URL similar to the HQ:https://img.youtube.com/vi/YOUTUBEVIDEOID/mqdefault.jpgFor the standard definition version of the thumbnail, use a URL similar to this:https://img.youtube.com/vi/YOUTUBEVIDEOID/sddefault.jpgFor the maximum resolution version of the thumbnail use a URL similar to this:https://img.youtube.com/vi/YOUTUBEVIDEOID/maxresdefault.jpgAll of the above URLs are available over HTTP too. Additionally, the slightly shorter hostnamei3.ytimg.comworks in place ofimg.youtube.comin the example URLs above.Alternatively, you can use theYouTube Data API (v3)to get thumbnail images.ShareImprove this answerFolloweditedFeb 24, 2020 at 2:33answeredFeb 24, 2018 at 21:59user6798019user6798019\n\nSave this code in empty.php file and test it.<img src=""<?php echo youtube_img_src(\'9bZkp7q19f0\', \'high\');?>"" />\n<?php\n// Get a YOUTUBE video thumb image\'s source url for IMG tag ""src"" attribute:\n// $ID = YouYube video ID (string)\n// $size = string (default, medium, high or standard)\nfunction youtube_img_src ($ID = null, $size = \'default\') {\n    switch ($size) {\n        case \'medium\':\n            $size = \'mqdefault\';\n            break;\n        case \'high\':\n            $size = \'hqdefault\';\n            break;\n        case \'standard\':\n            $size = \'sddefault\';\n            break;\n        default:\n            $size = \'default\';\n            break;\n    }\n    if ($ID) {\n        return sprintf(\'https://img.youtube.com/vi/%s/%s.jpg\', $ID, $size);\n    }\n    return \'https://img.youtube.com/vi/ERROR/1.jpg\';\n}There are some thumbnails guaranteed to exist:Width | Height | URL\n------|--------|----\n120   | 90     | https://i.ytimg.com/vi/<VIDEO ID>/1.jpg\n120   | 90     | https://i.ytimg.com/vi/<VIDEO ID>/2.jpg\n120   | 90     | https://i.ytimg.com/vi/<VIDEO ID>/3.jpg\n120   | 90     | https://i.ytimg.com/vi/<VIDEO ID>/default.jpg\n320   | 180    | https://i.ytimg.com/vi/<VIDEO ID>/mq1.jpg\n320   | 180    | https://i.ytimg.com/vi/<VIDEO ID>/mq2.jpg\n320   | 180    | https://i.ytimg.com/vi/<VIDEO ID>/mq3.jpg\n320   | 180    | https://i.ytimg.com/vi/<VIDEO ID>/mqdefault.jpg\n480   | 360    | https://i.ytimg.com/vi/<VIDEO ID>/0.jpg\n480   | 360    | https://i.ytimg.com/vi/<VIDEO ID>/hq1.jpg\n480   | 360    | https://i.ytimg.com/vi/<VIDEO ID>/hq2.jpg\n480   | 360    | https://i.ytimg.com/vi/<VIDEO ID>/hq3.jpg\n480   | 360    | https://i.ytimg.com/vi/<VIDEO ID>/hqdefault.jpgThanks.ShareImprove this answerFolloweditedDec 25, 2021 at 14:10answeredJul 28, 2019 at 13:27Ali HanAli Han52977 silver badges1010 bronze badges\n\nThis is my client-side-only no-API-key-required solution.YouTube.parse(\'https://www.youtube.com/watch?v=P3DGwyl0mJQ\').then(_ => console.log(_))The code:import { parseURL, parseQueryString } from \'./url\'\nimport { getImageSize } from \'./image\'\n\nconst PICTURE_SIZE_NAMES = [\n    // 1280 x 720.\n    // HD aspect ratio.\n    \'maxresdefault\',\n    // 629 x 472.\n    // non-HD aspect ratio.\n    \'sddefault\',\n    // For really old videos not having `maxresdefault`/`sddefault`.\n    \'hqdefault\'\n]\n\n// - Supported YouTube URL formats:\n//   - http://www.youtube.com/watch?v=My2FRPA3Gf8\n//   - http://youtu.be/My2FRPA3Gf8\nexport default\n{\n    parse: async function(url)\n    {\n        // Get video ID.\n        let id\n        const location = parseURL(url)\n        if (location.hostname === \'www.youtube.com\') {\n            if (location.search) {\n                const query = parseQueryString(location.search.slice(\'/\'.length))\n                id = query.v\n            }\n        } else if (location.hostname === \'youtu.be\') {\n            id = location.pathname.slice(\'/\'.length)\n        }\n\n        if (id) {\n            return {\n                source: {\n                    provider: \'YouTube\',\n                    id\n                },\n                picture: await this.getPicture(id)\n            }\n        }\n    },\n\n    getPicture: async (id) => {\n        for (const sizeName of PICTURE_SIZE_NAMES) {\n            try {\n                const url = getPictureSizeURL(id, sizeName)\n                return {\n                    type: \'image/jpeg\',\n                    sizes: [{\n                        url,\n                        ...(await getImageSize(url))\n                    }]\n                }\n            } catch (error) {\n                console.error(error)\n            }\n        }\n        throw new Error(`No picture found for YouTube video ${id}`)\n    },\n\n    getEmbeddedVideoURL(id, options = {}) {\n        return `https://www.youtube.com/embed/${id}`\n    }\n}\n\nconst getPictureSizeURL = (id, sizeName) => `https://img.youtube.com/vi/${id}/${sizeName}.jpg`Utilityimage.js:// Gets image size.\n// Returns a `Promise`.\nfunction getImageSize(url)\n{\n    return new Promise((resolve, reject) =>\n    {\n        const image = new Image()\n        image.onload = () => resolve({ width: image.width, height: image.height })\n        image.onerror = reject\n        image.src = url\n    })\n}Utilityurl.js:// Only on client side.\nexport function parseURL(url)\n{\n    const link = document.createElement(\'a\')\n    link.href = url\n    return link\n}\n\nexport function parseQueryString(queryString)\n{\n    return queryString.split(\'&\').reduce((query, part) =>\n    {\n        const [key, value] = part.split(\'=\')\n        query[decodeURIComponent(key)] = decodeURIComponent(value)\n        return query\n    },\n    {})\n}ShareImprove this answerFolloweditedSep 23, 2018 at 15:50answeredSep 23, 2018 at 15:00catamphetaminecatamphetamine4,6563232 silver badges2525 bronze badges\n\nHere is a simple function I created for getting the thumbnails. It is easy to understand and use.$link is the YouTube link copied exactly as it is in the browser, for example,https://www.youtube.com/watch?v=BQ0mxQXmLskfunction get_youtube_thumb($link){\n    $new = str_replace(\'https://www.youtube.com/watch?v=\', \'\', $link);\n    $thumbnail = \'https://img.youtube.com/vi/\' . $new . \'/0.jpg\';\n    return $thumbnail;\n}ShareImprove this answerFolloweditedJul 10, 2019 at 22:16Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredApr 22, 2018 at 16:03Sodruldeen MustaphaSodruldeen Mustapha1,2211313 silver badges2222 bronze badges'}","{'title': 'Is there a unique Android device ID?', 'question': 'Do Android devices have a unique ID, and if so, what is a simple way to access it using Java?androiduniqueidentifierShareImprove this questionFolloweditedJan 30, 2018 at 1:18alamshahbaz164971391313 bronze badgesaskedMay 7, 2010 at 0:47TylerTyler31.5k88 gold badges2222 silver badges2222 bronze badges', 'answers': 'Settings.Secure#ANDROID_IDreturns the Android ID as anunique for each user64-bit hex string.import android.provider.Settings.Secure;\n\nprivate String android_id = Secure.getString(getContext().getContentResolver(),\n                                                        Secure.ANDROID_ID);Also readBest practices for unique identifiers:https://developer.android.com/training/articles/user-data-idsShareImprove this answerFolloweditedSep 4, 2020 at 1:54kelvin1,52811 gold badge1515 silver badges2929 bronze badgesansweredMay 7, 2010 at 0:49Anthony ForloneyAnthony Forloney91.2k1414 gold badges117117 silver badges116116 bronze badges\n\nUPDATE: As of recent versions of Android, many of the issues withANDROID_IDhave been resolved, and I believe this approach is no longer necessary. Please take a look atAnthony\'s answer.Full disclosure: my app used the below approach originally but no longer uses this approach, and we now use the approach outlined in theAndroid Developer Blogentry thatemmby\'s answerlinks to (namely, generating and saving aUUID#randomUUID()).There are many answers to this question, most of which will only work ""some"" of the time, and unfortunately, that\'s not good enough.Based on my tests of devices (all phones, at least one of which is not activated):All devices tested returned a value forTelephonyManager.getDeviceId()All GSM devices (all tested with a SIM) returned a value forTelephonyManager.getSimSerialNumber()All CDMA devices returned null forgetSimSerialNumber()(as expected)All devices with a Google account added returned a value forANDROID_IDAll CDMA devices returned the same value (or derivation of the same value) for bothANDROID_IDandTelephonyManager.getDeviceId()--as long asa Google account has been added during setup.I did not yet have a chance to test GSM devices with no SIM, a GSM device with no Google account added, or any of the devices in airplane mode.So if you want something unique to the device itself,TM.getDeviceId()shouldbe sufficient.  Obviously, some users are more paranoid than others, so it might be useful to hash 1 or more of these identifiers, so that the string is still virtually unique to the device, but does not explicitly identify the user\'s actual device.  For example, usingString.hashCode(), combined with a UUID:final TelephonyManager tm = (TelephonyManager) getBaseContext().getSystemService(Context.TELEPHONY_SERVICE);\n\nfinal String tmDevice, tmSerial, androidId;\ntmDevice = """" + tm.getDeviceId();\ntmSerial = """" + tm.getSimSerialNumber();\nandroidId = """" + android.provider.Settings.Secure.getString(getContentResolver(), android.provider.Settings.Secure.ANDROID_ID);\n\nUUID deviceUuid = new UUID(androidId.hashCode(), ((long)tmDevice.hashCode() << 32) | tmSerial.hashCode());\nString deviceId = deviceUuid.toString();might result in something like:00000000-54b3-e7c7-0000-000046bffd97It works well enough for me.As Richard mentions below, don\'t forget that you need permission to read theTelephonyManagerproperties, so add this to your manifest:<uses-permission android:name=""android.permission.READ_PHONE_STATE"" />import librariesimport android.content.Context;\nimport android.telephony.TelephonyManager;\nimport android.view.View;ShareImprove this answerFolloweditedAug 29, 2020 at 6:57user14162811answeredMay 17, 2010 at 22:12JoeJoe42.1k1313 gold badges4747 silver badges6262 bronze badges\n\n#Last Updated: 6/2/15After reading every Stack Overflow post about creating a unique ID, the Google developer blog, and Android documentation, I feel as if the \'Pseudo ID\' is the best possible option.Main Issue: Hardware vs SoftwareHardwareUsers can change their hardware, Android tablet, or phone, so unique IDs based on hardware are not good ideas forTRACKING USERSForTRACKING HARDWARE, this is a great ideaSoftwareUsers can wipe/change their ROM if they are rootedYou can track users across platforms (iOS, Android, Windows, and Web)The best want toTRACK AN INDIVIDUAL USERwith theirconsentis to simply have them login (make this seamless using OAuth)#Overall breakdown with Android###- Guarantee uniqueness (include rooted devices) for API >= 9/10 (99.5% of Android devices)\n###- No extra permissionsPsuedo code:if API >= 9/10: (99.5% of devices)\n\nreturn unique ID containing serial id (rooted devices may be different)\n\nelse\n\nreturn the unique ID of build information (may overlap data - API < 9)Thanks to @stansult for postingall of our options(in this Stack Overflow question).##List of options - reasons why/ why not to use them:User Email - SoftwareUser could change email - HIGHLY unlikelyAPI 5+<uses-permission android:name=""android.permission.GET_ACCOUNTS"" />orAPI 14+<uses-permission android:name=""android.permission.READ_PROFILE"" /><uses-permission android:name=""android.permission.READ_CONTACTS"" />(How to get the Android device\'s primary e-mail address)User Phone Number - SoftwareUsers could change phone numbers - HIGHLY unlikely<uses-permission android:name=""android.permission.READ_PHONE_STATE"" />IMEI - Hardware(only phones, needsandroid.permission.READ_PHONE_STATE)Most users hate the fact that it says ""Phone Calls"" in the permission. Some users give bad ratings because they believe you are simply stealing their personal information when all you really want to do is track device installs. It is obvious that you are collecting data.<uses-permission android:name=""android.permission.READ_PHONE_STATE"" />Android ID - Hardware(can be null, can change upon factory reset, can be altered on a rooted device)Since it can be \'null\', we can check for \'null\' and change its value, but this means it will no longer be unique.If you have a user with a factory reset device, the value may have changed or altered on the rooted device so there may be duplicates entries if you are tracking user installs.WLAN MAC Address - Hardware(needsandroid.permission.ACCESS_WIFI_STATE)This could be the second-best option, but you are still collecting and storing a unique identifier that comes directly from a user. This is obvious that you are collecting data.<uses-permission android:name=""android.permission.ACCESS_WIFI_STATE ""/>Bluetooth MAC Address - Hardware(devices with Bluetooth, needsandroid.permission.BLUETOOTH)Most applications on the market do not use Bluetooth, and so if your application doesn\'t use Bluetooth and you are including this, the user could become suspicious.<uses-permission android:name=""android.permission.BLUETOOTH ""/>Pseudo-Unique ID - Software(for all Android devices)Very possible, may contain collisions - See my method posted below!This allows you to have an \'almost unique\' ID from the user without taking anything that is private. You can create your own anonymous ID from device information.I know there isn\'t any \'perfect\' way of getting a unique ID without using permissions; however, sometimes we only really need to track the device installation. When it comes to creating a unique ID, we can create a \'pseudo unique id\' based solely on information that the Android API gives us without using extra permissions. This way, we can show the user respect and try to offer a good user experience as well.With a pseudo-unique id, you really only run into the fact that there may be duplicates based on the fact that there are similar devices. You can tweak the combined method to make it more unique; however, some developers need to track device installs and this will do the trick or performance based on similar devices.##API >= 9:If their Android device is API 9 or over, this is guaranteed to be unique because of the \'Build.SERIAL\' field.REMEMBER, you are technically only missing out on around 0.5% of userswho have API < 9. So you can focus on the rest: This is 99.5% of the users!##API < 9:If the user\'s Android device is lower than API 9; hopefully, they have not done a factory reset and their \'Secure.ANDROID_ID\' will be preserved or not \'null\'. (seehttp://developer.android.com/about/dashboards/index.html)##If all else fails:If all else fails, if the user does have lower than API 9 (lower than Gingerbread), has reset their device, or \'Secure.ANDROID_ID\' returns \'null\', then simply the ID returned will be solely based on their Android device information. This is where the collisions can happen.Changes:Removed \'Android.SECURE_ID\' because factory resets could cause the value to changeEdited the code to change on APIChanged the PseudoPlease take a look at the method below:/**\n * Return pseudo unique ID\n * @return ID\n */\npublic static String getUniquePsuedoID() {\n    // If all else fails, if the user does have lower than API 9 (lower\n    // than Gingerbread), has reset their device or \'Secure.ANDROID_ID\'\n    // returns \'null\', then simply the ID returned will be solely based\n    // off their Android device information. This is where the collisions\n    // can happen.\n    // Thanks http://www.pocketmagic.net/?p=1662!\n    // Try not to use DISPLAY, HOST or ID - these items could change.\n    // If there are collisions, there will be overlapping data\n    String m_szDevIDShort = ""35"" + (Build.BOARD.length() % 10) + (Build.BRAND.length() % 10) + (Build.CPU_ABI.length() % 10) + (Build.DEVICE.length() % 10) + (Build.MANUFACTURER.length() % 10) + (Build.MODEL.length() % 10) + (Build.PRODUCT.length() % 10);\n\n    // Thanks to @Roman SL!\n    // https://stackoverflow.com/a/4789483/950427\n    // Only devices with API >= 9 have android.os.Build.SERIAL\n    // http://developer.android.com/reference/android/os/Build.html#SERIAL\n    // If a user upgrades software or roots their device, there will be a duplicate entry\n    String serial = null;\n    try {\n        serial = android.os.Build.class.getField(""SERIAL"").get(null).toString();\n\n        // Go ahead and return the serial for api => 9\n        return new UUID(m_szDevIDShort.hashCode(), serial.hashCode()).toString();\n    } catch (Exception exception) {\n        // String needs to be initialized\n        serial = ""serial""; // some value\n    }\n\n    // Thanks @Joe!\n    // https://stackoverflow.com/a/2853253/950427\n    // Finally, combine the values we have found by using the UUID class to create a unique identifier\n    return new UUID(m_szDevIDShort.hashCode(), serial.hashCode()).toString();\n}#New (for apps with ads AND Google Play Services):From the Google Play Developer\'s console:Beginning August 1st, 2014, the Google Play Developer Program Policy\nrequires all-new app uploads and updates to use the advertising ID in\nlieu of any other persistent identifiers for any advertising purposes.\nLearn moreImplementation:Permission:<uses-permission android:name=""android.permission.INTERNET"" />Code:import com.google.android.gms.ads.identifier.AdvertisingIdClient;\nimport com.google.android.gms.ads.identifier.AdvertisingIdClient.Info;\nimport com.google.android.gms.common.GooglePlayServicesAvailabilityException;\nimport com.google.android.gms.common.GooglePlayServicesNotAvailableException;\nimport java.io.IOException;\n...\n\n// Do not call this function from the main thread. Otherwise, \n// an IllegalStateException will be thrown.\npublic void getIdThread() {\n\n  Info adInfo = null;\n  try {\n    adInfo = AdvertisingIdClient.getAdvertisingIdInfo(mContext);\n\n  } catch (IOException exception) {\n    // Unrecoverable error connecting to Google Play services (e.g.,\n    // the old version of the service doesn\'t support getting AdvertisingId).\n \n  } catch (GooglePlayServicesAvailabilityException exception) {\n    // Encountered a recoverable error connecting to Google Play services. \n\n  } catch (GooglePlayServicesNotAvailableException exception) {\n    // Google Play services is not available entirely.\n  }\n  final String id = adInfo.getId();\n  final boolean isLAT = adInfo.isLimitAdTrackingEnabled();\n}Source/Docs:http://developer.android.com/google/play-services/id.htmlhttp://developer.android.com/reference/com/google/android/gms/ads/identifier/AdvertisingIdClient.html##Important:It is intended that the advertising ID completely replace existing\nusage of other identifiers for ads purposes (such as the use of ANDROID_ID\nin Settings.Secure) when Google Play Services is available. Cases\nwhere Google Play Services is unavailable are indicated by a\nGooglePlayServicesNotAvailableException being thrown by\ngetAdvertisingIdInfo().##Warning, users can reset:http://en.kioskea.net/faq/34732-android-reset-your-advertising-idI have tried to reference every link that I took information from. If you are missing and need to be included, please comment!Google Player Services InstanceIDhttps://developers.google.com/instance-id/ShareImprove this answerFolloweditedMay 11, 2021 at 7:33Rahul3,33122 gold badges3434 silver badges4444 bronze badgesansweredJul 12, 2013 at 23:58Jared BurrowsJared Burrows55.1k2626 gold badges154154 silver badges189189 bronze badges\n\nAs Dave Webb mentions, theAndroid Developer Blog has an articlethat covers this.  Their preferred solution is to track app installs rather than devices, and that will work well for most use cases.  The blog post will show you the necessary code to make that work, and I recommend you check it out.However, the blog post goes on to discuss solutions if you need a device identifier rather than an app installation identifier.  I spoke with someone at Google to get some additional clarification on a few items in the event that you need to do so.  Here\'s what I discovered about device identifiers that\'s NOT mentioned in the aforementioned blog post:ANDROID_ID is the preferred device identifier.  ANDROID_ID is perfectly reliable on versions of Android <=2.1 or >=2.3.  Only 2.2 has the problems mentioned in the post.Several devices by several manufacturers are affected by the ANDROID_ID bug in 2.2.As far as I\'ve been able to determine, all affected devices havethe same ANDROID_ID, which is9774d56d682e549c.  Which is also the same device id reported by the emulator, btw.Google believes that OEMs have patched the issue for many or most of their devices, but I was able to verify that as of the beginning of April 2011, at least, it\'s still quite easy to find devices that have the broken ANDROID_ID.Based on Google\'s recommendations, I implemented a class that will generate a unique UUID for each device, using ANDROID_ID as the seed where appropriate, falling back on TelephonyManager.getDeviceId() as necessary, and if that fails, resorting to a randomly generated unique UUID that is persisted across app restarts (but not app re-installations).Note that for devices that have to fallback on the device ID, the unique IDWILLpersist across factory resets.  This is something to be aware of.  If you need to ensure that a factory reset will reset your unique ID, you may want to consider falling back directly to the random UUID instead of the device ID.Again, this code is for a device ID, not an app installation ID.  For most situations, an app installation ID is probably what you\'re looking for.  But if you do need a device ID, then the following code will probably work for you.import android.content.Context;\nimport android.content.SharedPreferences;\nimport android.provider.Settings.Secure;\nimport android.telephony.TelephonyManager;\n\nimport java.io.UnsupportedEncodingException;\nimport java.util.UUID;\n\npublic class DeviceUuidFactory {\n\n    protected static final String PREFS_FILE = ""device_id.xml"";\n    protected static final String PREFS_DEVICE_ID = ""device_id"";\n    protected volatile static UUID uuid;\n\n    public DeviceUuidFactory(Context context) {\n        if (uuid == null) {\n            synchronized (DeviceUuidFactory.class) {\n                if (uuid == null) {\n                    final SharedPreferences prefs = context\n                            .getSharedPreferences(PREFS_FILE, 0);\n                    final String id = prefs.getString(PREFS_DEVICE_ID, null);\n                    if (id != null) {\n                        // Use the ids previously computed and stored in the\n                        // prefs file\n                        uuid = UUID.fromString(id);\n                    } else {\n                        final String androidId = Secure.getString(\n                            context.getContentResolver(), Secure.ANDROID_ID);\n                        // Use the Android ID unless it\'s broken, in which case\n                        // fallback on deviceId,\n                        // unless it\'s not available, then fallback on a random\n                        // number which we store to a prefs file\n                        try {\n                            if (!""9774d56d682e549c"".equals(androidId)) {\n                                uuid = UUID.nameUUIDFromBytes(androidId\n                                        .getBytes(""utf8""));\n                            } else {\n                                final String deviceId = (\n                                    (TelephonyManager) context\n                                    .getSystemService(Context.TELEPHONY_SERVICE))\n                                    .getDeviceId();\n                                uuid = deviceId != null ? UUID\n                                    .nameUUIDFromBytes(deviceId\n                                            .getBytes(""utf8"")) : UUID\n                                    .randomUUID();\n                            }\n                        } catch (UnsupportedEncodingException e) {\n                            throw new RuntimeException(e);\n                        }\n                        // Write the value out to the prefs file\n                        prefs.edit()\n                                .putString(PREFS_DEVICE_ID, uuid.toString())\n                                .commit();\n                    }\n                }\n            }\n        }\n    }\n\n    /**\n     * Returns a unique UUID for the current android device. As with all UUIDs,\n     * this unique ID is ""very highly likely"" to be unique across all Android\n     * devices. Much more so than ANDROID_ID is.\n     * \n     * The UUID is generated by using ANDROID_ID as the base key if appropriate,\n     * falling back on TelephonyManager.getDeviceID() if ANDROID_ID is known to\n     * be incorrect, and finally falling back on a random UUID that\'s persisted\n     * to SharedPreferences if getDeviceID() does not return a usable value.\n     * \n     * In some rare circumstances, this ID may change. In particular, if the\n     * device is factory reset a new device ID may be generated. In addition, if\n     * a user upgrades their phone from certain buggy implementations of Android\n     * 2.2 to a newer, non-buggy version of Android, the device ID may change.\n     * Or, if a user uninstalls your app on a device that has neither a proper\n     * Android ID nor a Device ID, this ID may change on reinstallation.\n     * \n     * Note that if the code falls back on using TelephonyManager.getDeviceId(),\n     * the resulting ID will NOT change after a factory reset. Something to be\n     * aware of.\n     * \n     * Works around a bug in Android 2.2 for many devices when using ANDROID_ID\n     * directly.\n     * \n     * @see http://code.google.com/p/android/issues/detail?id=10603\n     * \n     * @return a UUID that may be used to uniquely identify your device for most\n     *         purposes.\n     */\n    public UUID getDeviceUuid() {\n        return uuid;\n    }\n}ShareImprove this answerFolloweditedSep 10, 2017 at 14:22Cœur38.2k2626 gold badges201201 silver badges274274 bronze badgesansweredApr 11, 2011 at 19:06emmbyemmby100k6666 gold badges194194 silver badges250250 bronze badges\n\nHere is the code that Reto Meier used in theGoogle I/Opresentation this year to get a unique id for the user:private static String uniqueID = null;\nprivate static final String PREF_UNIQUE_ID = ""PREF_UNIQUE_ID"";\n\npublic synchronized static String id(Context context) {\n    if (uniqueID == null) {\n        SharedPreferences sharedPrefs = context.getSharedPreferences(\n                PREF_UNIQUE_ID, Context.MODE_PRIVATE);\n        uniqueID = sharedPrefs.getString(PREF_UNIQUE_ID, null);\n        if (uniqueID == null) {\n            uniqueID = UUID.randomUUID().toString();\n            Editor editor = sharedPrefs.edit();\n            editor.putString(PREF_UNIQUE_ID, uniqueID);\n            editor.commit();\n        }\n    }\n    return uniqueID;\n}If you couple this with a backup strategy to send preferences to the cloud (also described in Reto\'stalk, you should have an id that ties to a user and sticks around after the device has been wiped, or even replaced. I plan to use this in analytics going forward (in other words, I have not done that bit yet :).ShareImprove this answerFolloweditedFeb 9, 2014 at 14:18Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredOct 28, 2011 at 13:19Anthony NolanAnthony Nolan2,33811 gold badge1414 silver badges1212 bronze badges\n\nIt\'s a simple question, with no simple answer.Moreover, all of the existing answers here are either out of date or unreliable.Soif you\'re searching for a solution after 2020.Here are a few things to keep in mind:All the hardware-based identifiers (IMEI, MAC, Serial Number, etc.) are unreliable for non-google devices (except Pixels and Nexuses), which are statisticallymost of the android active devices worldwide. Therefore officialAndroid identifiers best practicesclearly states:Avoid using hardware identifiers, such as IMEI, MAC address, etc...Which makes most of the answers here invalid. Also due to different android security updates, some of them require newer and stricter runtime permissions, which can be simply denied by the user.For exampleCVE-2018-9489affects all the WIFI based techniques mentioned above.That makes those identifiers not only unreliable but also inaccessible in many cases.So in simpler words:don\'t use those techniques.Many other answers here are suggesting to use theAdvertisingIdClient, which is also incompatible, as it\'s by design only for ads profiling. It\'s also stated in theofficial referenceOnly use an Advertising ID for user profiling or ads use casesIt\'s not only unreliable for device identification, but you also must follow theuser privacy regarding ad trackingpolicy, which states clearly that users can reset or block it at any moment.Sodon\'t use it either.Since you cannot have the desired static globally unique and reliable device identifier. Android\'s official reference suggests:Use a Firebase installation ID (FID) or a privately stored GUIDwhenever possible for all other use cases, except for payment fraud prevention and telephony.It\'s unique for the application installation on the device, so when the user uninstalls the app - it\'s wiped out, so it\'s not 100% reliable, but it\'s the next best thing.NoteAs of today theFirebaseInstanceIdis deprecated, you should useFirebaseInstallationsinstead.To useFirebaseInstallationsadd thelatest firebase-messaging dependencyinto your gradleimplementation \'com.google.firebase:firebase-messaging:23.0.0\'And use the code below to get the firebase ID:FirebaseInstallations.getInstance().getId().addOnCompleteListener(task -> {\n     if (task.isSuccessful()) {\n        String firebaseIdentifier = task.getResult();\n        // Do what you need with firebaseIdentifier\n     }\n});If you need to store the device identification on your remote server, then don\'t store it as is (plain text), but ahash with salt.Today it\'s not only a best practice, you actually must do it by law according toGDPR - identifiersand similar regulations.ShareImprove this answerFolloweditedMay 4, 2022 at 5:07kc_dev72811 gold badge99 silver badges2323 bronze badgesansweredNov 28, 2019 at 17:10Nikita KurtinNikita Kurtin6,14744 gold badges4747 silver badges4949 bronze badges\n\nAlso you might consider the Wi-Fi adapter\'s MAC address. Retrieved like this:WifiManager wm = (WifiManager)Ctxt.getSystemService(Context.WIFI_SERVICE);\nreturn wm.getConnectionInfo().getMacAddress();Requires permissionandroid.permission.ACCESS_WIFI_STATEin the manifest.Reported to be available even when Wi-Fi is not connected. If Joe from the answer above gives this one a try on his many devices, that\'d be nice.On some devices, it\'s not available when Wi-Fi is turned off.NOTE:From Android 6.x, it returns consistent fake mac address:02:00:00:00:00:00ShareImprove this answerFolloweditedJun 6, 2020 at 0:00answeredJun 23, 2010 at 14:27Seva AlekseyevSeva Alekseyev60.7k2525 gold badges165165 silver badges290290 bronze badges\n\nThere’s rather useful infohere.It covers five different ID types:IMEI(only for Android devices with Phone use; needsandroid.permission.READ_PHONE_STATE)Pseudo-Unique ID(for all Android devices)Android ID(can be null, can change upon factory reset, can be altered on rooted phone)WLAN MAC Addressstring (needsandroid.permission.ACCESS_WIFI_STATE)BT MAC Addressstring (devices with Bluetooth, needsandroid.permission.BLUETOOTH)ShareImprove this answerFollowansweredFeb 8, 2012 at 2:16stansultstansult1,3431010 silver badges1919 bronze badges\n\nThe official Android Developers Blog now has a full article just about this very subject,Identifying App Installations.ShareImprove this answerFolloweditedFeb 9, 2014 at 14:00Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredApr 6, 2011 at 7:36BoDBoD11k66 gold badges6464 silver badges6060 bronze badges\n\nAtGoogle I/OReto Meier released a robust answer to how to approach this which should meet most developers needs to track users across installations. Anthony Nolan shows the direction in his answer, but I thought I\'d write out the full approach so that others can easily see how to do it (it took me a while to figure out the details).This approach will give you an anonymous, secure user ID which will be persistent for the user across different devices (based on the primary Google account) and across installs. The basic approach is to generate a random user ID and to store this in the apps\' shared preferences. You then use Google\'s backup agent to store the shared preferences linked to the Google account in the cloud.Let\'s go through the full approach. First, we need to create a backup for our SharedPreferences using the Android Backup Service. Start by registering your app viahttp://developer.android.com/google/backup/signup.html.Google will give you a backup service key which you need to add to the manifest. You also need to tell the application to use the BackupAgent as follows:<application android:label=""MyApplication""\n         android:backupAgent=""MyBackupAgent"">\n    ...\n    <meta-data android:name=""com.google.android.backup.api_key""\n        android:value=""your_backup_service_key"" />\n</application>Then you need to create the backup agent and tell it to use the helper agent for sharedpreferences:public class MyBackupAgent extends BackupAgentHelper {\n    // The name of the SharedPreferences file\n    static final String PREFS = ""user_preferences"";\n\n    // A key to uniquely identify the set of backup data\n    static final String PREFS_BACKUP_KEY = ""prefs"";\n\n    // Allocate a helper and add it to the backup agent\n    @Override\n    public void onCreate() {\n        SharedPreferencesBackupHelper helper = new SharedPreferencesBackupHelper(this,          PREFS);\n        addHelper(PREFS_BACKUP_KEY, helper);\n    }\n}To complete the backup you need to create an instance of BackupManager in your main Activity:BackupManager backupManager = new BackupManager(context);Finally create a user ID, if it doesn\'t already exist, and store it in the SharedPreferences:public static String getUserID(Context context) {\n            private static String uniqueID = null;\n        private static final String PREF_UNIQUE_ID = ""PREF_UNIQUE_ID"";\n    if (uniqueID == null) {\n        SharedPreferences sharedPrefs = context.getSharedPreferences(\n                MyBackupAgent.PREFS, Context.MODE_PRIVATE);\n        uniqueID = sharedPrefs.getString(PREF_UNIQUE_ID, null);\n        if (uniqueID == null) {\n            uniqueID = UUID.randomUUID().toString();\n            Editor editor = sharedPrefs.edit();\n            editor.putString(PREF_UNIQUE_ID, uniqueID);\n            editor.commit();\n\n            //backup the changes\n            BackupManager mBackupManager = new BackupManager(context);\n            mBackupManager.dataChanged();\n        }\n    }\n\n    return uniqueID;\n}This User_ID will now be persistent across installations, even if the user moves device.For more information on this approach seeReto\'s talk.And for full details of how to implement the backup agent seeData Backup. I particularly recommend the section at the bottom on testing as the backup does not happen instantaneously and so to test you have to force the backup.ShareImprove this answerFolloweditedFeb 9, 2014 at 14:31Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredDec 22, 2012 at 8:13TechnoTonyTechnoTony1,58711 gold badge1515 silver badges2424 bronze badges\n\nI think this is sure fire way of building a skeleton for a unique ID...  check it out.Pseudo-Unique ID, that works on all Android devices\nSome devices don\'t have a phone (eg. Tablets) or for some reason, you don\'t want to include the READ_PHONE_STATE permission. You can still read details like ROM Version, Manufacturer name, CPU type, and other hardware details, that will be well suited if you want to use the ID for a serial key check, or other general purposes. The ID computed in this way won\'t be unique: it is possible to find two devices with the same ID (based on the same hardware and ROM image) but the changes in real-world applications are negligible. For this purpose you can use the Build class:String m_szDevIDShort = ""35"" + //we make this look like a valid IMEI\n            Build.BOARD.length()%10+ Build.BRAND.length()%10 +\n            Build.CPU_ABI.length()%10 + Build.DEVICE.length()%10 +\n            Build.DISPLAY.length()%10 + Build.HOST.length()%10 +\n            Build.ID.length()%10 + Build.MANUFACTURER.length()%10 +\n            Build.MODEL.length()%10 + Build.PRODUCT.length()%10 +\n            Build.TAGS.length()%10 + Build.TYPE.length()%10 +\n            Build.USER.length()%10 ; //13 digitsMost of the Build members are strings, what we\'re doing here is to take their length and transform it via modulo in a digit. We have 13 such digits and we are adding two more in front (35) to have the same size ID as the IMEI (15 digits). There are other possibilities here are well, just have a look at these strings.\nReturns something like355715565309247. No special permission is required, making this approach very convenient.(Extra info: The technique given above was copied from an article onPocket Magic.)ShareImprove this answerFolloweditedJun 22, 2018 at 17:30Njeru Cyrus1,7912121 silver badges2222 bronze badgesansweredMar 24, 2011 at 19:55Lenn DollingLenn Dolling1,3001313 silver badges2323 bronze badges\n\nThe following code returns the device serial number using a hidden Android API. But, this code don\'t works on Samsung Galaxy Tab because ""ro.serialno"" isn\'t set on this device.String serial = null;\n\ntry {\n    Class<?> c = Class.forName(""android.os.SystemProperties"");\n    Method get = c.getMethod(""get"", String.class);\n    serial = (String) get.invoke(c, ""ro.serialno"");\n}\ncatch (Exception ignored) {\n\n}ShareImprove this answerFolloweditedFeb 9, 2014 at 20:08Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJan 25, 2011 at 2:39Roman SLRoman SL77577 silver badges44 bronze badges\n\nUsing the code below, you can get the unique device ID of an Android OS device as a string.deviceId = Secure.getString(getApplicationContext().getContentResolver(), Secure.ANDROID_ID);ShareImprove this answerFolloweditedFeb 9, 2014 at 14:10Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMay 17, 2011 at 14:44Mohit KanadaMohit Kanada15.7k88 gold badges3232 silver badges4141 bronze badges\n\nOne thing I\'ll add - I have one of those unique situations.Using:deviceId = Secure.getString(this.getContext().getContentResolver(), Secure.ANDROID_ID);Turns out that even though my Viewsonic G Tablet reports a DeviceID that is not Null, every single G Tablet reports the same number.Makes it interesting playing ""Pocket Empires"" which gives you instant access to someone\'s account based on the ""unique"" DeviceID.My device does not have a cell radio.ShareImprove this answerFollowansweredMar 21, 2011 at 20:46Tony MaroTony Maro1,8841717 silver badges1414 bronze badges\n\nASerialfield was added to theBuildclass in API level 9 (Android 2.3 - Gingerbread). Documentation says it represents the hardware serial number. Thus it should be unique, if it exists on the device.I don\'t know whether it is actually supported (=not null) by all devices with API level >= 9 though.ShareImprove this answerFolloweditedFeb 9, 2014 at 20:09Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMar 6, 2011 at 15:28rony lrony l5,91255 gold badges3838 silver badges5858 bronze badges\n\nFor detailed instructions on how to get a unique identifier for each Android device your application is installed from, see the official Android Developers Blog postingIdentifying App Installations.It seems the best way is for you to generate one yourself upon installation and subsequently read it when the application is re-launched.I personally find this acceptable but not ideal. No one identifier provided by Android works in all instances as most are dependent on the phone\'s radio states (Wi-Fi on/off, cellular on/off, Bluetooth on/off). The others, likeSettings.Secure.ANDROID_IDmust be implemented by the manufacturer and are not guaranteed to be unique.The following is an example of writing data to aninstallationfile that would be stored along with any other data the application saves locally.public class Installation {\n    private static String sID = null;\n    private static final String INSTALLATION = ""INSTALLATION"";\n\n    public synchronized static String id(Context context) {\n        if (sID == null) {\n            File installation = new File(context.getFilesDir(), INSTALLATION);\n            try {\n                if (!installation.exists())\n                    writeInstallationFile(installation);\n                sID = readInstallationFile(installation);\n            } \n            catch (Exception e) {\n                throw new RuntimeException(e);\n            }\n        }\n        return sID;\n    }\n\n    private static String readInstallationFile(File installation) throws IOException {\n        RandomAccessFile f = new RandomAccessFile(installation, ""r"");\n        byte[] bytes = new byte[(int) f.length()];\n        f.readFully(bytes);\n        f.close();\n        return new String(bytes);\n    }\n\n    private static void writeInstallationFile(File installation) throws IOException {\n        FileOutputStream out = new FileOutputStream(installation);\n        String id = UUID.randomUUID().toString();\n        out.write(id.getBytes());\n        out.close();\n    }\n}ShareImprove this answerFolloweditedFeb 9, 2014 at 14:15Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredAug 2, 2011 at 3:21Kevin ParkerKevin Parker17.2k2020 gold badges7777 silver badges106106 bronze badges\n\nAdd Below code in class file:final TelephonyManager tm = (TelephonyManager) getBaseContext()\n            .getSystemService(SplashActivity.TELEPHONY_SERVICE);\n    final String tmDevice, tmSerial, androidId;\n    tmDevice = """" + tm.getDeviceId();\n    Log.v(""DeviceIMEI"", """" + tmDevice);\n    tmSerial = """" + tm.getSimSerialNumber();\n    Log.v(""GSM devices Serial Number[simcard] "", """" + tmSerial);\n    androidId = """" + android.provider.Settings.Secure.getString(getContentResolver(),\n            android.provider.Settings.Secure.ANDROID_ID);\n    Log.v(""androidId CDMA devices"", """" + androidId);\n    UUID deviceUuid = new UUID(androidId.hashCode(),\n            ((long) tmDevice.hashCode() << 32) | tmSerial.hashCode());\n    String deviceId = deviceUuid.toString();\n    Log.v(""deviceIdUUID universally unique identifier"", """" + deviceId);\n    String deviceModelName = android.os.Build.MODEL;\n    Log.v(""Model Name"", """" + deviceModelName);\n    String deviceUSER = android.os.Build.USER;\n    Log.v(""Name USER"", """" + deviceUSER);\n    String devicePRODUCT = android.os.Build.PRODUCT;\n    Log.v(""PRODUCT"", """" + devicePRODUCT);\n    String deviceHARDWARE = android.os.Build.HARDWARE;\n    Log.v(""HARDWARE"", """" + deviceHARDWARE);\n    String deviceBRAND = android.os.Build.BRAND;\n    Log.v(""BRAND"", """" + deviceBRAND);\n    String myVersion = android.os.Build.VERSION.RELEASE;\n    Log.v(""VERSION.RELEASE"", """" + myVersion);\n    int sdkVersion = android.os.Build.VERSION.SDK_INT;\n    Log.v(""VERSION.SDK_INT"", """" + sdkVersion);Add in AndroidManifest.xml:<uses-permission android:name=""android.permission.READ_PHONE_STATE"" />ShareImprove this answerFolloweditedMay 18, 2015 at 4:17answeredFeb 27, 2013 at 10:03AndroidAndroid2,38311 gold badge2626 silver badges4444 bronze badges\n\nThere are a lot of different approaches to work around thoseANDROID_IDissues (may benullsometimes or devices of a specific model always return the same ID) with pros and cons:Implementing a custom ID generation algorithm (based on device properties that are supposed to be static and won\'t change -> who knows)Abusing other IDs likeIMEI, serial number, Wi-Fi/Bluetooth-MAC address (they won\'t exist on all devices or additional permissions become necessary)I myself prefer using an existing OpenUDID implementation (seehttps://github.com/ylechelle/OpenUDID) for Android (seehttps://github.com/vieux/OpenUDID). It is easy to integrate and makes use of theANDROID_IDwith fallbacks for those issues mentioned above.ShareImprove this answerFolloweditedFeb 9, 2014 at 14:26Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredNov 18, 2012 at 10:26Andreas KlöberAndreas Klöber5,92022 gold badges2727 silver badges2020 bronze badges\n\nMy two cents - NB this is for adevice (err) unique ID- not the installation one as discussed in theAndroid developers\'s blog.Of note that thesolutionprovided by @emmby falls back in a per application ID as the SharedPreferences are not synchronized across processes (seehereandhere). So I avoided this altogether.Instead, I encapsulated the various strategies for getting a (device) ID in an enum - changing the order of the enum constants affects the priority of the various ways of getting the ID. The first non-null ID is returned or an exception is thrown (as per good Java practices of not giving null a meaning). So for instance I have the TELEPHONY one first - but a good default choice would be the ANDROID_IDbeta:import android.Manifest.permission;\nimport android.bluetooth.BluetoothAdapter;\nimport android.content.Context;\nimport android.content.pm.PackageManager;\nimport android.net.wifi.WifiManager;\nimport android.provider.Settings.Secure;\nimport android.telephony.TelephonyManager;\nimport android.util.Log;\n\n// TODO : hash\npublic final class DeviceIdentifier {\n\n    private DeviceIdentifier() {}\n\n    /** @see http://code.google.com/p/android/issues/detail?id=10603 */\n    private static final String ANDROID_ID_BUG_MSG = ""The device suffers from ""\n        + ""the Android ID bug - its ID is the emulator ID : ""\n        + IDs.BUGGY_ANDROID_ID;\n    private static volatile String uuid; // volatile needed - see EJ item 71\n    // need lazy initialization to get a context\n\n    /**\n     * Returns a unique identifier for this device. The first (in the order the\n     * enums constants as defined in the IDs enum) non null identifier is\n     * returned or a DeviceIDException is thrown. A DeviceIDException is also\n     * thrown if ignoreBuggyAndroidID is false and the device has the Android ID\n     * bug\n     *\n     * @param ctx\n     *            an Android constant (to retrieve system services)\n     * @param ignoreBuggyAndroidID\n     *            if false, on a device with the android ID bug, the buggy\n     *            android ID is not returned instead a DeviceIDException is\n     *            thrown\n     * @return a *device* ID - null is never returned, instead a\n     *         DeviceIDException is thrown\n     * @throws DeviceIDException\n     *             if none of the enum methods manages to return a device ID\n     */\n    public static String getDeviceIdentifier(Context ctx,\n            boolean ignoreBuggyAndroidID) throws DeviceIDException {\n        String result = uuid;\n        if (result == null) {\n            synchronized (DeviceIdentifier.class) {\n                result = uuid;\n                if (result == null) {\n                    for (IDs id : IDs.values()) {\n                        try {\n                            result = uuid = id.getId(ctx);\n                        } catch (DeviceIDNotUniqueException e) {\n                            if (!ignoreBuggyAndroidID)\n                                throw new DeviceIDException(e);\n                        }\n                        if (result != null) return result;\n                    }\n                    throw new DeviceIDException();\n                }\n            }\n        }\n        return result;\n    }\n\n    private static enum IDs {\n        TELEPHONY_ID {\n\n            @Override\n            String getId(Context ctx) {\n                // TODO : add a SIM based mechanism ? tm.getSimSerialNumber();\n                final TelephonyManager tm = (TelephonyManager) ctx\n                        .getSystemService(Context.TELEPHONY_SERVICE);\n                if (tm == null) {\n                    w(""Telephony Manager not available"");\n                    return null;\n                }\n                assertPermission(ctx, permission.READ_PHONE_STATE);\n                return tm.getDeviceId();\n            }\n        },\n        ANDROID_ID {\n\n            @Override\n            String getId(Context ctx) throws DeviceIDException {\n                // no permission needed !\n                final String andoidId = Secure.getString(\n                    ctx.getContentResolver(),\n                    android.provider.Settings.Secure.ANDROID_ID);\n                if (BUGGY_ANDROID_ID.equals(andoidId)) {\n                    e(ANDROID_ID_BUG_MSG);\n                    throw new DeviceIDNotUniqueException();\n                }\n                return andoidId;\n            }\n        },\n        WIFI_MAC {\n\n            @Override\n            String getId(Context ctx) {\n                WifiManager wm = (WifiManager) ctx\n                        .getSystemService(Context.WIFI_SERVICE);\n                if (wm == null) {\n                    w(""Wifi Manager not available"");\n                    return null;\n                }\n                assertPermission(ctx, permission.ACCESS_WIFI_STATE); // I guess\n                // getMacAddress() has no java doc !!!\n                return wm.getConnectionInfo().getMacAddress();\n            }\n        },\n        BLUETOOTH_MAC {\n\n            @Override\n            String getId(Context ctx) {\n                BluetoothAdapter ba = BluetoothAdapter.getDefaultAdapter();\n                if (ba == null) {\n                    w(""Bluetooth Adapter not available"");\n                    return null;\n                }\n                assertPermission(ctx, permission.BLUETOOTH);\n                return ba.getAddress();\n            }\n        }\n        // TODO PSEUDO_ID\n        // http://www.pocketmagic.net/2011/02/android-unique-device-id/\n        ;\n\n        static final String BUGGY_ANDROID_ID = ""9774d56d682e549c"";\n        private final static String TAG = IDs.class.getSimpleName();\n\n        abstract String getId(Context ctx) throws DeviceIDException;\n\n        private static void w(String msg) {\n            Log.w(TAG, msg);\n        }\n\n        private static void e(String msg) {\n            Log.e(TAG, msg);\n        }\n    }\n\n    private static void assertPermission(Context ctx, String perm) {\n        final int checkPermission = ctx.getPackageManager().checkPermission(\n            perm, ctx.getPackageName());\n        if (checkPermission != PackageManager.PERMISSION_GRANTED) {\n            throw new SecurityException(""Permission "" + perm + "" is required"");\n        }\n    }\n\n    // =========================================================================\n    // Exceptions\n    // =========================================================================\n    public static class DeviceIDException extends Exception {\n\n        private static final long serialVersionUID = -8083699995384519417L;\n        private static final String NO_ANDROID_ID = ""Could not retrieve a ""\n            + ""device ID"";\n\n        public DeviceIDException(Throwable throwable) {\n            super(NO_ANDROID_ID, throwable);\n        }\n\n        public DeviceIDException(String detailMessage) {\n            super(detailMessage);\n        }\n\n        public DeviceIDException() {\n            super(NO_ANDROID_ID);\n        }\n    }\n\n    public static final class DeviceIDNotUniqueException extends\n            DeviceIDException {\n\n        private static final long serialVersionUID = -8940090896069484955L;\n\n        public DeviceIDNotUniqueException() {\n            super(ANDROID_ID_BUG_MSG);\n        }\n    }\n}ShareImprove this answerFolloweditedMay 23, 2017 at 12:26CommunityBot111 silver badgeansweredSep 18, 2013 at 19:12Mr_and_Mrs_DMr_and_Mrs_D33.4k3939 gold badges187187 silver badges367367 bronze badges\n\nThere are 30+ answers here and some are same and some are unique. This answer is based on few of those answers. One of them being @Lenn Dolling\'s answer.It combines 3 IDs and creates a 32-digit hex string. It has worked very well for me.3 IDs are:Pseudo-ID- It is generated based on physical device specificationsANDROID_ID-Settings.Secure.ANDROID_IDBluetooth Address- Bluetooth adapter addressIt will return something like this:551F27C060712A72730B0A0F734064B1Note: You can always add more IDs to thelongIdstring. For example, Serial #. wifi adapter address. IMEI. This way you are making it more unique per device.@SuppressWarnings(""deprecation"")\n@SuppressLint(""HardwareIds"")\npublic static String generateDeviceIdentifier(Context context) {\n\n        String pseudoId = ""35"" +\n                Build.BOARD.length() % 10 +\n                Build.BRAND.length() % 10 +\n                Build.CPU_ABI.length() % 10 +\n                Build.DEVICE.length() % 10 +\n                Build.DISPLAY.length() % 10 +\n                Build.HOST.length() % 10 +\n                Build.ID.length() % 10 +\n                Build.MANUFACTURER.length() % 10 +\n                Build.MODEL.length() % 10 +\n                Build.PRODUCT.length() % 10 +\n                Build.TAGS.length() % 10 +\n                Build.TYPE.length() % 10 +\n                Build.USER.length() % 10;\n\n        String androidId = Settings.Secure.getString(context.getContentResolver(), Settings.Secure.ANDROID_ID);\n\n        BluetoothAdapter bluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\n        String btId = """";\n\n        if (bluetoothAdapter != null) {\n            btId = bluetoothAdapter.getAddress();\n        }\n\n        String longId = pseudoId + androidId + btId;\n\n        try {\n            MessageDigest messageDigest = MessageDigest.getInstance(""MD5"");\n            messageDigest.update(longId.getBytes(), 0, longId.length());\n\n            // get md5 bytes\n            byte md5Bytes[] = messageDigest.digest();\n\n            // creating a hex string\n            String identifier = """";\n\n            for (byte md5Byte : md5Bytes) {\n                int b = (0xFF & md5Byte);\n\n                // if it is a single digit, make sure it have 0 in front (proper padding)\n                if (b <= 0xF) {\n                    identifier += ""0"";\n                }\n\n                // add number to string\n                identifier += Integer.toHexString(b);\n            }\n\n            // hex string to uppercase\n            identifier = identifier.toUpperCase();\n            return identifier;\n        } catch (Exception e) {\n            Log.e(""TAG"", e.toString());\n        }\n        return """";\n}ShareImprove this answerFollowansweredMar 8, 2017 at 14:01ᴛʜᴇᴘᴀᴛᴇʟᴛʜᴇᴘᴀᴛᴇʟ4,60655 gold badges4141 silver badges7575 bronze badges\n\nHow about theIMEI. That is unique for Android or other mobile devices.ShareImprove this answerFollowansweredJul 14, 2011 at 20:01Elzo ValugiElzo Valugi27.7k1515 gold badges9696 silver badges115115 bronze badges\n\nThe unique device ID of an Android OS device as String, usingTelephonyManagerandANDROID_ID, is obtained by:String deviceId;\nfinal TelephonyManager mTelephony = (TelephonyManager) getSystemService(Context.TELEPHONY_SERVICE);\nif (mTelephony.getDeviceId() != null) {\n    deviceId = mTelephony.getDeviceId();\n}\nelse {\n    deviceId = Secure.getString(\n                   getApplicationContext().getContentResolver(),\n                   Secure.ANDROID_ID);\n}But I strongly recommend a method suggested by Google, seeIdentifying App Installations.ShareImprove this answerFolloweditedJun 20, 2020 at 9:12CommunityBot111 silver badgeansweredJan 13, 2014 at 0:30JorgesysJorgesys126k2424 gold badges341341 silver badges277277 bronze badges\n\nHere is how I am generating the unique id:public static String getDeviceId(Context ctx)\n{\n    TelephonyManager tm = (TelephonyManager) ctx.getSystemService(Context.TELEPHONY_SERVICE);\n\n    String tmDevice = tm.getDeviceId();\n    String androidId = Secure.getString(ctx.getContentResolver(), Secure.ANDROID_ID);\n    String serial = null;\n    if(Build.VERSION.SDK_INT > Build.VERSION_CODES.FROYO) serial = Build.SERIAL;\n\n    if(tmDevice != null) return ""01"" + tmDevice;\n    if(androidId != null) return ""02"" + androidId;\n    if(serial != null) return ""03"" + serial;\n    // other alternatives (i.e. Wi-Fi MAC, Bluetooth MAC, etc.)\n\n    return null;\n}ShareImprove this answerFollowansweredMay 27, 2013 at 18:34Eng.FouadEng.Fouad117k7373 gold badges321321 silver badges423423 bronze badges\n\nAnother way is to use/sys/class/android_usb/android0/iSerialin an app without any permissions whatsoever.user@creep:~$ adb shell ls -l /sys/class/android_usb/android0/iSerial\n-rw-r--r-- root     root         4096 2013-01-10 21:08 iSerial\nuser@creep:~$ adb shell cat /sys/class/android_usb/android0/iSerial\n0A3CXXXXXXXXXX5To do this in Java one would just use a FileInputStream to open the iSerial file and read out the characters. Just be sure you wrap it in an exception handler, because not all devices have this file.At least the following devices are known to have this file world-readable:Galaxy NexusNexus SMotorola Xoom 3GToshiba AT300HTC One VMini MK802Samsung Galaxy S IIYou can also see my blog postLeaking Android hardware serial number to unprivileged appswhere I discuss what other files are available for information.ShareImprove this answerFolloweditedFeb 9, 2014 at 14:41Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJan 31, 2013 at 15:40insitusecinsitusec19111 silver badge55 bronze badges\n\nFor hardware recognition of a specific Android device you could check the MAC Addresses.you can do it that way:in AndroidManifest.xml<uses-permission android:name=""android.permission.INTERNET"" />now in your code:List<NetworkInterface> interfacesList = Collections.list(NetworkInterface.getNetworkInterfaces());\n\nfor (NetworkInterface interface : interfacesList) {\n   // This will give you the interface MAC ADDRESS\n   interface.getHardwareAddress();\n}In every Android device their is at least a ""wlan0"" Interface witch is the WI-FI chip.\nThis code works even when WI-FI is not turned on.P.S.\nTheir are a bunch of other Interfaces you will get from the list containing MACS But this can change between phones.ShareImprove this answerFolloweditedNov 9, 2015 at 5:19Airon Tark9,33844 gold badges2525 silver badges2020 bronze badgesansweredSep 1, 2015 at 12:32Ilan.bIlan.b58366 silver badges1919 bronze badges\n\nI use the following code to get theIMEIor use Secure.ANDROID_IDas an alternative, when the device doesn\'t have phone capabilities:String identifier = null;\nTelephonyManager tm = (TelephonyManager)context.getSystemService(Context.TELEPHONY_SERVICE));\nif (tm != null)\n      identifier = tm.getDeviceId();\nif (identifier == null || identifier .length() == 0)\n      identifier = Secure.getString(activity.getContentResolver(),Secure.ANDROID_ID);ShareImprove this answerFolloweditedJul 20, 2016 at 3:21Aditya Vyas-Lakhan13.5k1616 gold badges6262 silver badges9797 bronze badgesansweredApr 15, 2013 at 13:01Asaf PinhassiAsaf Pinhassi15.5k1212 gold badges109109 silver badges135135 bronze badges\n\nTelephonyManger.getDeviceId()Returns the unique device ID, for example, the IMEI for GSM and the MEID or ESN for CDMA phones.final TelephonyManager mTelephony = (TelephonyManager) getSystemService(Context.TELEPHONY_SERVICE);            \nString myAndroidDeviceId = mTelephony.getDeviceId();But i recommend to use:Settings.Secure.ANDROID_IDthat returns the Android ID as an unique 64-bit hex string.String   myAndroidDeviceId = Secure.getString(getApplicationContext().getContentResolver(), Secure.ANDROID_ID);SometimesTelephonyManger.getDeviceId()will return null, so to assure an unique id you will use this method:public String getUniqueID(){    \n    String myAndroidDeviceId = """";\n    TelephonyManager mTelephony = (TelephonyManager) getSystemService(Context.TELEPHONY_SERVICE);\n    if (mTelephony.getDeviceId() != null){\n        myAndroidDeviceId = mTelephony.getDeviceId(); \n    }else{\n         myAndroidDeviceId = Secure.getString(getApplicationContext().getContentResolver(), Secure.ANDROID_ID); \n    }\n    return myAndroidDeviceId;\n}ShareImprove this answerFollowansweredFeb 6, 2015 at 15:00JorgesysJorgesys126k2424 gold badges341341 silver badges277277 bronze badges\n\nGoogle Instance IDReleased at I/O 2015; on Android requires play services 7.5.https://developers.google.com/instance-id/https://developers.google.com/instance-id/guides/android-implementationInstanceID iid = InstanceID.getInstance( context );   // Google docs are wrong - this requires context\nString id = iid.getId();  // blocking callIt seems that Google intends for this ID to be used to identify installations across Android, Chrome, and iOS.It identifies an installation rather then a device, but then again, ANDROID_ID (which is the accepted answer) now no longer identifies devices either.  With the ARC runtime a new ANDROID_ID is generated for every installation (details here), just like this new instance ID.  Also, I think that identifying installations (not devices) is what most of us are actually looking for.The advantages of instance IDIt appears to me that Google intends for it to be used for this purpose (identifying your installations), it is cross-platform, and can be used for a number of other purposes (see the links above).If you use GCM, then you will eventually need to use this instance ID because you need it in order to get the GCM token (which replaces the old GCM registration ID).The disadvantages/issuesIn the current implementation (GPS 7.5) the instance ID is retrieved from a server when your app requests it.  This means that the call above is a blocking call - in my unscientific testing it takes 1-3 seconds if the device is online, and 0.5 - 1.0 seconds if off-line (presumably this is how long it waits before giving up and generating a random ID).  This was tested in North America on Nexus 5 with Android 5.1.1 and GPS 7.5.If you use the ID for the purposes they intend - eg. app authentication, app identification, GCM - I think this 1-3 seconds could be a nuisance (depending on your app, of course).ShareImprove this answerFolloweditedMay 23, 2017 at 10:31CommunityBot111 silver badgeansweredJun 19, 2015 at 22:22TomTom17.6k88 gold badges6868 silver badges7676 bronze badges\n\nGet Device UUID, model number with brand nameand itsversion numberwith the help of below function.Work in Android 10perfectly and no need to allow read phone state permission.Code Snippets:private void fetchDeviceInfo() {\n    String uniquePseudoID = ""35"" +\n            Build.BOARD.length() % 10 +\n            Build.BRAND.length() % 10 +\n            Build.DEVICE.length() % 10 +\n            Build.DISPLAY.length() % 10 +\n            Build.HOST.length() % 10 +\n            Build.ID.length() % 10 +\n            Build.MANUFACTURER.length() % 10 +\n            Build.MODEL.length() % 10 +\n            Build.PRODUCT.length() % 10 +\n            Build.TAGS.length() % 10 +\n            Build.TYPE.length() % 10 +\n            Build.USER.length() % 10;\n\n    String serial = Build.getRadioVersion();\n    String uuid=new UUID(uniquePseudoID.hashCode(), serial.hashCode()).toString();\n    String brand=Build.BRAND;\n    String modelno=Build.MODEL;\n    String version=Build.VERSION.RELEASE;\n    Log.e(TAG, ""fetchDeviceInfo: \\n ""+\n            ""\\n uuid is : ""+uuid+\n            ""\\n brand is: ""+brand+\n            ""\\n model is: ""+modelno+\n            ""\\n version is: ""+version);\n}Call Above function and to check output of above code.please see your log cat in android studio. It look likes below:ShareImprove this answerFollowansweredJun 7, 2020 at 9:08Nimesh PatelNimesh Patel1,4881515 silver badges2727 bronze badges\n\nGoogle now has anAdvertising ID.This can also be used, but note that :The advertising ID is a user-specific, unique, resettable IDandenables users to reset their identifier or opt out of interest-based ads within Google Play apps.So though this id may change, it seems that soonwe may not have a choice, depends on the purpose of this id.More info @ develper.androidCopy-paste code hereHTHShareImprove this answerFollowansweredNov 2, 2013 at 13:23Hertzel GuinnessHertzel Guinness5,95233 gold badges3939 silver badges4343 bronze badges'}","{'title': 'How can I horizontally center an element?', 'question': 'This question\'s answers are acommunity effort. Edit existing answers to improve this post. It is not currently accepting new answers or interactions.How can I horizontally center a<div>within another<div>using CSS?<div id=""outer"">\n  <div id=""inner"">Foo foo</div>\n</div>htmlcssalignmentcenteringShareFolloweditedAug 10, 2022 at 0:26community wiki41 revs, 27 users 18%Peter Mortensen', 'answers': 'Withflexboxit is very easy to style the div horizontally and vertically centered.#inner {  \n  border: 0.05em solid black;\n}\n\n#outer {\n  border: 0.05em solid red;\n  width:100%;\n  display: flex;\n  justify-content: center;\n}<div id=""outer"">\n  <div id=""inner"">Foo foo</div>\n</div>To align the div vertically centered, use the propertyalign-items: center.Other SolutionsYou can apply this CSS to the inner<div>:#inner {\n  width: 50%;\n  margin: 0 auto;\n}Of course, you don\'t have to set thewidthto50%. Any width less than the containing<div>will work. Themargin: 0 autois what does the actual centering.If you are targetingInternet\xa0Explorer\xa08(and later), it might be better to have this instead:#inner {\n  display: table;\n  margin: 0 auto;\n}It will make the inner element center horizontally and it works without setting a specificwidth.Working example here:#inner {\n  display: table;\n  margin: 0 auto;\n  border: 1px solid black;\n}\n\n#outer {\n  border: 1px solid red;\n  width:100%\n}<div id=""outer"">\n  <div id=""inner"">Foo foo</div>\n</div>ShareImprove this answerFolloweditedJan 17, 2023 at 15:23community wiki18 revs, 14 users 29%isherwood\n\nIf you don\'t want to set a fixed width on the innerdivyou could do something like this:#outer {\r\n  width: 100%;\r\n  text-align: center;\r\n}\r\n\r\n#inner {\r\n  display: inline-block;\r\n}<div id=""outer"">  \r\n    <div id=""inner"">Foo foo</div>\r\n</div>That makes the innerdivinto an inline element that can be centered withtext-align.ShareImprove this answerFolloweditedNov 22, 2017 at 11:34community wiki5 revs, 4 users 62%Alfred\n\nThe modern box model with Flexbox#outer {\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    justify-content: center;\n    align-items: center;\n}The old box model (deprecated)display: boxand its propertiesbox-pack,box-align,box-orient,box-directionetc. have been replaced by flexbox. While they may still work, they are not recommended to be used in production.#outer {\n  width: 100%;\n  /* Firefox */\n  display: -moz-box;\n  -moz-box-pack: center;\n  -moz-box-align: center;\n  /* Safari and Chrome */\n  display: -webkit-box;\n  -webkit-box-pack: center;\n  -webkit-box-align: center;\n  /* W3C */\n  display: box;\n  box-pack: center;\n  box-align: center;\n}\n\n#inner {\n  width: 50%;\n}<div id=""outer"">\n  <div id=""inner"">Foo foo</div>\n</div>According to your usability you may also use thebox-orient, box-flex, box-directionproperties.Read more about centering the child elementsCSS Box Model Module Level 3Box model (CSS2)box-align on MDNAndthis explains why the box model is the best approach:Why is the W3C box model considered better?ShareImprove this answerFolloweditedJun 3 at 14:52community wiki16 revs, 12 users 41%kongaraju\n\n#centered {\n  position: absolute;\n  left: 50%;\n  margin-left: -100px;\n}<div id=""outer"" style=""width:200px"">\n  <div id=""centered"">Foo foo</div>\n</div>Make sure the parent element ispositioned, i.e., relative, fixed, absolute, or sticky.If you don\'t know the width of your div, you can usetransform:translateX(-50%);instead of the negative margin.WithCSS calc(), the code can get even simpler:.centered {\n  width: 200px;\n  position: absolute;\n  left: calc(50% - 100px);\n}The principle is still the same; put the item in the middle and compensate for the width.ShareImprove this answerFolloweditedDec 14, 2021 at 10:01community wiki10 revs, 10 users 24%Lars Flieger\n\nI\'ve createdthis exampleto show how toverticallyandhorizontallyalign.The code is basically this:#outer {\n  position: relative;\n}\n\n\n/* and */\n\n#inner {\n  margin: auto;\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n}<div id=""outer"">\n  <div id=""inner"">Foo foo</div>\n</div>And it will stay in thecentereven when youresizeyour screen.ShareImprove this answerFolloweditedApr 30, 2023 at 17:21community wiki8 revs, 7 users 29%Tom Maton\n\nSome posters have mentioned the CSS\xa03 way to center usingdisplay:box.This syntax is outdated and shouldn\'t be used anymore. [See alsothis post].So just for completeness here is the latest way to center in CSS\xa03 using theFlexible Box Layout Module.So if you have simple markup like:<div class=""box"">\n  <div class=""item1"">A</div>\n  <div class=""item2"">B</div>\n  <div class=""item3"">C</div>\n</div>...and you want to center your items within the box, here\'s what you need on the parent element (.box):.box {\n    display: flex;\n    flex-wrap: wrap; /* Optional. only if you want the items to wrap */\n    justify-content: center; /* For horizontal alignment */\n    align-items: center; /* For vertical alignment */\n}.box {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  /* Optional. only if you want the items to wrap */\r\n  justify-content: center;\r\n  /* For horizontal alignment */\r\n  align-items: center;\r\n  /* For vertical alignment */\r\n}\r\n* {\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\nhtml,\r\nbody {\r\n  height: 100%;\r\n}\r\n.box {\r\n  height: 200px;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: center;\r\n  align-items: center;\r\n  border: 2px solid tomato;\r\n}\r\n.box div {\r\n  margin: 0 10px;\r\n  width: 100px;\r\n}\r\n.item1 {\r\n  height: 50px;\r\n  background: pink;\r\n}\r\n.item2 {\r\n  background: brown;\r\n  height: 100px;\r\n}\r\n.item3 {\r\n  height: 150px;\r\n  background: orange;\r\n}<div class=""box"">\r\n  <div class=""item1"">A</div>\r\n  <div class=""item2"">B</div>\r\n  <div class=""item3"">C</div>\r\n</div>If you need to support older browsers which use older syntax for flexboxhere\'sa good place to look.ShareImprove this answerFolloweditedMar 17, 2018 at 20:14community wiki8 revs, 4 users 86%Danield\n\nIf you don\'t want to set a fixed width and don\'t want the extra margin, adddisplay: inline-blockto your element.You can use:#inner {\n  display: table;\n  margin: 0 auto;\n}<div id=""outer"">\n  <div id=""inner"">Foo foo</div>\n</div>ShareImprove this answerFolloweditedApr 30, 2023 at 17:32community wiki5 revs, 4 users 44%Salman von Abbas\n\nCentering a div of unknown height and widthHorizontally and vertically. It works with reasonably modern browsers (Firefox, Safari/WebKit, Chrome, Internet & Explorer & 10, Opera, etc.).content {\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n}<div class=""content"">This works with any content</div>Tinker with it further onCodepenor onJSBin.ShareImprove this answerFolloweditedFeb 25, 2021 at 3:07community wiki8 revs, 5 users 67%iamnotsam\n\nSet thewidthand setmargin-leftandmargin-righttoauto. That\'sfor horizontal only, though. If you want both ways, you\'d just do it both ways. Don\'t be afraid to experiment; it\'s not like you\'ll break anything.ShareImprove this answerFolloweditedMar 17, 2018 at 19:11community wiki4 revs, 4 users 33%Sneakyness\n\nIt cannot be centered if you don\'t give it a width. Otherwise, it will take, by default, the whole horizontal space.ShareImprove this answerFolloweditedMay 8, 2020 at 17:02community wiki6 revs, 6 users 25%gizmo\n\nCSS\xa03\'s box-align property#outer {\n  width: 100%;\n  height: 100%;\n  display: box;\n  box-orient: horizontal;\n  box-pack: center;\n  box-align: center;\n}<div id=""outer"">\n  <div id=""inner"">Foo foo</div>\n</div>ShareImprove this answerFolloweditedApr 30, 2023 at 17:33community wiki4 revs, 4 users 44%neoneye\n\nThe way I usually do it is using absolute position:#inner {\n  left: 0;\n  right: 0;\n  margin-left: auto;\n  margin-right: auto;\n  position: absolute;\n}<div id=""outer"">\n  <div id=""inner"">Foo foo</div>\n</div>The outer div doesn\'t need any extra properties for this to work.ShareImprove this answerFolloweditedApr 30, 2023 at 17:34community wiki5 revs, 4 users 41%william44isme\n\nI recently had to center a ""hidden"" div (i.e.,display:none;) that had a tabled form within it that needed to be centered on the page. I wrote the following jQuery code to display the hidden div and then update the CSS content to the automatic generated width of the table and change the margin to center it.  (The display toggle is triggered by clicking on a link, but this code wasn\'t necessary to display.)NOTE:I\'m sharing this code, because Google brought me to this Stack Overflow solution and everything would have worked except that hidden elements don\'t have any width and can\'t be resized/centered until after they are displayed.$(function(){\r\n  $(\'#inner\').show().width($(\'#innerTable\').width()).css(\'margin\',\'0 auto\');\r\n});<script src=""https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js""></script>\r\n<div id=""inner"" style=""display:none;"">\r\n  <form action="""">\r\n    <table id=""innerTable"">\r\n      <tr><td>Name:</td><td><input type=""text""></td></tr>\r\n      <tr><td>Email:</td><td><input type=""text""></td></tr>\r\n      <tr><td>Email:</td><td><input type=""submit""></td></tr>\r\n    </table>\r\n  </form>\r\n</div>ShareImprove this answerFolloweditedMay 9, 2020 at 13:51community wiki4 revs, 4 users 60%James Moberg\n\nFor Firefox and Chrome:<div style=""width:100%;"">\r\n  <div style=""width: 50%; margin: 0px auto;"">Text</div>\r\n</div>For Internet\xa0Explorer, Firefox, and Chrome:<div style=""width:100%; text-align:center;"">\r\n  <div style=""width: 50%; margin: 0px auto; text-align:left;"">Text</div>\r\n</div>Thetext-align:property is optional for modern browsers, but it is necessary in Internet\xa0Explorer Quirks Mode for legacy browsers support.ShareImprove this answerFolloweditedMar 17, 2018 at 19:13community wiki7 revs, 7 users 47%ch2o\n\nUse:#outerDiv {\r\n  width: 500px;\r\n}\r\n\r\n#innerDiv {\r\n  width: 200px;\r\n  margin: 0 auto;\r\n}<div id=""outerDiv"">\r\n  <div id=""innerDiv"">Inner Content</div>\r\n</div>ShareImprove this answerFolloweditedMay 11, 2020 at 19:25community wiki5 revs, 5 users 39%Ankit Jain\n\nAnother solution for this without having to set a width for one of the elements is using the CSS 3transformattribute.#outer {\n  position: relative;\n}\n\n#inner {\n  position: absolute;\n  left: 50%;\n  transform: translateX(-50%);\n}<div id=""outer"">\n  <div id=""inner"">Foo foo</div>\n</div>The trick is thattranslateX(-50%)sets the#innerelement 50 percent to the left of its own width. You can use the same trick for vertical alignment.Here\'s aFiddleshowing horizontal and vertical alignment.More information is onMozilla Developer Network.ShareImprove this answerFolloweditedApr 30, 2023 at 17:35community wiki3 revs, 3 users 68%Kilian Stinson\n\nChris Coyier who wrote anexcellent poston \'Centering in the Unknown\' on his blog. It\'s a roundup of multiple solutions. I posted one that isn\'t posted in this question. It has more browser support than theFlexboxsolution, and you\'re not usingdisplay: table;which could break other things./* This parent can be any width and height */\n\n#outer {\n  text-align: center;\n}\n\n\n/* The ghost, nudged to maintain perfect centering */\n\n#outer:before {\n  content: \'.\';\n  display: inline-block;\n  height: 100%;\n  vertical-align: middle;\n  width: 0;\n  overflow: hidden;\n}\n\n\n/* The element to be centered, can\n       also be of any width and height */\n\n#inner {\n  display: inline-block;\n  vertical-align: middle;\n  width: 300px;\n}<div id=""outer"">\n  <div id=""inner"">Foo foo</div>\n</div>ShareImprove this answerFolloweditedJun 3 at 14:55community wiki6 revs, 6 users 57%Willem de Wit\n\nI recently found an approach:#outer {\n  position: absolute;\n  left: 50%;\n}\n\n#inner {\n  position: relative;\n  left: -50%;\n}<div id=""outer"">\n  <div id=""inner"">Foo foo</div>\n</div>Both elements must be the same width to function correctly.ShareImprove this answerFolloweditedApr 30, 2023 at 17:38community wiki5 revs, 3 users 53%BenjaminRH\n\nFor example, seethis linkand the snippet below:div#outer {\r\n  height: 120px;\r\n  background-color: red;\r\n}\r\n\r\ndiv#inner {\r\n  width: 50%;\r\n  height: 100%;\r\n  background-color: green;\r\n  margin: 0 auto;\r\n  text-align: center; /* For text alignment to center horizontally. */\r\n  line-height: 120px; /* For text alignment to center vertically. */\r\n}<div id=""outer"" style=""width:100%;"">\r\n  <div id=""inner"">Foo foo</div>\r\n</div>If you have a lot of children under a parent, so your CSS content must be like thisexample on fiddle.The HTML content look likes this:<div id=""outer"" style=""width:100%;"">\n    <div class=""inner""> Foo Text </div>\n    <div class=""inner""> Foo Text </div>\n    <div class=""inner""> Foo Text </div>\n    <div class=""inner""> </div>\n    <div class=""inner""> </div>\n    <div class=""inner""> </div>\n    <div class=""inner""> </div>\n    <div class=""inner""> </div>\n    <div class=""inner""> Foo Text </div>\n</div>Then see thisexample on fiddle.ShareImprove this answerFolloweditedMar 17, 2018 at 18:44community wiki4 revs, 3 users 63%Lalit Kumar\n\nCentering only horizontallyIn my experience, the best way to center a box horizontally is to apply the following properties:The container:should havetext-align: center;The content box:should havedisplay: inline-block;Demo:.container {\n  width: 100%;\n  height: 120px;\n  background: #CCC;\n  text-align: center;\n}\n\n.centered-content {\n  display: inline-block;\n  background: #FFF;\n  padding: 20px;\n  border: 1px solid #000;\n}<div class=""container"">\n  <div class=""centered-content"">\n    Center this!\n  </div>\n</div>See alsothis Fiddle!Centering both horizontally & verticallyIn my experience, the best way to center a boxbothvertically and horizontally is to use an additional container and apply the following properties:The outer container:should havedisplay: table;The inner container:should havedisplay: table-cell;should havevertical-align: middle;should havetext-align: center;The content box:should havedisplay: inline-block;Demo:.outer-container {\n  display: table;\n  width: 100%;\n  height: 120px;\n  background: #CCC;\n}\n\n.inner-container {\n  display: table-cell;\n  vertical-align: middle;\n  text-align: center;\n}\n\n.centered-content {\n  display: inline-block;\n  background: #FFF;\n  padding: 20px;\n  border: 1px solid #000;\n}<div class=""outer-container"">\n  <div class=""inner-container"">\n    <div class=""centered-content"">\n      Center this!\n    </div>\n  </div>\n</div>See alsothis Fiddle!ShareImprove this answerFolloweditedJun 20, 2020 at 9:12community wiki4 revs, 4 users 75%John Slegers\n\nThis method also works just fine:#outer { /*div.container*/\n  display: flex;\n  justify-content: center;\n  /* For horizontal alignment */\n  align-items: center;\n  /* For vertical alignment   */\n}<div id=""outer"">\n  <div id=""inner"">Foo foo</div>\n</div>For the inner<div>, the only condition is that itsheightandwidthmust not be larger than the ones of its container.ShareImprove this answerFolloweditedApr 30, 2023 at 17:41community wiki4 revs, 4 users 40%ugroi\n\nFlexboxdisplay: flexbehaves like a block element and lays out its content according to the flexbox model. It works withjustify-content: center.Please note:Flexbox is compatible all browsers exept Internet Explorer. Seedisplay: flex not working on Internet Explorerfor a complete and up to date list of browsers compatibility.#inner {\n  display: inline-block;\n}\n\n#outer {\n  display: flex;\n  justify-content: center;\n}<div id=""outer"">\n  <div id=""inner"">Foo foo</div>\n</div>Text-align: centerApplyingtext-align: centerthe inline contents are centered within the line box. However since the inner div has by defaultwidth: 100%you have to set a specific width or use one of the following:display: blockdisplay: inlinedisplay: inline-block#inner {\n  display: inline-block;\n}\n\n#outer {\n  text-align: center;\n}<div id=""outer"">\n  <div id=""inner"">Foo foo</div>\n</div>Margin: 0 autoUsingmargin: 0 autois another option and it is more suitable for older browsers compatibility. It works together withdisplay: table.#inner {\n  display: table;\n  margin: 0 auto;\n}<div id=""outer"">\n  <div id=""inner"">Foo foo</div>\n</div>Transformtransform: translatelets you modify the coordinate space of the CSS visual formatting model. Using it, elements can be translated, rotated, scaled, and skewed. To center horizontally it requireposition: absoluteandleft: 50%.#inner {\n  position: absolute;\n  left: 50%;\n  transform: translate(-50%, 0%);\n}<div id=""outer"">\n  <div id=""inner"">Foo foo</div>\n</div><center>(Deprecated)The tag<center>is the HTML alternative totext-align: center. It works on older browsers and most of the new ones but it is not considered a good practice since this feature isobsoleteand has been removed from the Web standards.#inner {\n  display: inline-block;\n}<div id=""outer"">\n  <center>\n    <div id=""inner"">Foo foo</div>\n  </center>\n</div>ShareImprove this answerFolloweditedJun 14, 2021 at 5:22answeredJun 9, 2017 at 8:34Paolo ForgiaPaolo Forgia6,71088 gold badges4848 silver badges5959 bronze badges\n\nThe easiest way:#outer {\r\n  width: 100%;\r\n  text-align: center;\r\n}\r\n#inner {\r\n  margin: auto;\r\n  width: 200px;\r\n}<div id=""outer"">\r\n  <div id=""inner"">Blabla</div>\r\n</div>ShareImprove this answerFolloweditedMar 17, 2018 at 18:51community wiki4 revs, 3 users 57%joan16v\n\nFlex have more than 97% browser support coverage and might be the best way to solve these kind of problems within few lines:#outer {\n  display: flex;\n  justify-content: center;\n}<div id=""outer"">\n  <div id=""inner"">Foo foo</div>\n</div>ShareImprove this answerFolloweditedApr 30, 2023 at 17:28community wiki4 revs, 4 users 49%ugroi\n\nIf width of the content is unknown you can use the following method. Suppose we have these two elements:.outer-- full width.inner-- no width set (but a max-width could be specified)Suppose the computed width of the elements are 1000 pixels and 300 pixels respectively. Proceed as follows:Wrap.innerinside.center-helperMake.center-helperan inline block; it becomes the same size as.innermaking it 300 pixels wide.Push.center-helper50% right relative to its parent; this places its left at 500 pixels wrt. outer.Push.inner50% left relative to its parent; this places its left at -150 pixels wrt. center helper which means its left is at 500 - 150 = 350 pixels wrt. outer.Set overflow on.outerto hidden to prevent horizontal scrollbar.Demo:body {\r\n  font: medium sans-serif;\r\n}\r\n\r\n.outer {\r\n  overflow: hidden;\r\n  background-color: papayawhip;\r\n}\r\n\r\n.center-helper {\r\n  display: inline-block;\r\n  position: relative;\r\n  left: 50%;\r\n  background-color: burlywood;\r\n}\r\n\r\n.inner {\r\n  display: inline-block;\r\n  position: relative;\r\n  left: -50%;\r\n  background-color: wheat;\r\n}<div class=""outer"">\r\n  <div class=""center-helper"">\r\n    <div class=""inner"">\r\n      <h1>A div with no defined width</h1>\r\n      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.<br>\r\n          Duis condimentum sem non turpis consectetur blandit.<br>\r\n          Donec dictum risus id orci ornare tempor.<br>\r\n          Proin pharetra augue a lorem elementum molestie.<br>\r\n          Nunc nec justo sit amet nisi tempor viverra sit amet a ipsum.</p>\r\n    </div>\r\n  </div>\r\n</div>ShareImprove this answerFolloweditedMay 11, 2020 at 20:18community wiki5 revs, 2 users 79%Salman A\n\nYou can do something like this#container {\n    display: table;\n    height: /* height of your container */;\n    width: /* width of your container */;\n}\n\n#inner {\n    display: table-cell;\n    margin: 0 auto;\n    text-align: center;\n    vertical-align: middle;\n    width: /* width of your center div */;\n}This will also align the#innervertically. If you don\'t want to, remove thedisplayandvertical-alignproperties;ShareImprove this answerFolloweditedNov 21, 2023 at 15:55community wiki3 revs, 3 users 65%Kenneth P.\n\nHere is what you want in the shortest way.JSFIDDLE#outer {\n  margin - top: 100 px;\n  height: 500 px; /* you can set whatever you want */\n  border: 1 px solid# ccc;\n}\n\n#inner {\n  border: 1 px solid# f00;\n  position: relative;\n  top: 50 % ;\n  transform: translateY(-50 % );\n}ShareImprove this answerFolloweditedAug 20, 2021 at 10:26community wiki3 revs, 3 users 55%caniz\n\nYou can usedisplay: flexfor your outer div and to horizontally center you have to addjustify-content: center#outer{\n    display: flex;\n    justify-content: center;\n}or you can visitw3schools - CSS flex Propertyfor more ideas.ShareImprove this answerFolloweditedAug 20, 2018 at 12:57community wiki2 revs, 2 users 75%Milan Panigrahi\n\nYou can just simply useFlexboxlike this:#outer {\r\n    display: flex;\r\n    justify-content: center\r\n}<div id=""outer"">\r\n    <div id=""inner"">Foo foo</div>\r\n</div>Apply Autoprefixer for all browser support:#outer {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    width: 100%;\n    -webkit-box-pack: center;\n    -ms-flex-pack: center;\n    justify-content: center\n}Or elseUsetransform:#inner {\r\n    position: absolute;\r\n    left: 50%;\r\n    transform: translate(-50%)\r\n}<div id=""outer"">\r\n    <div id=""inner"">Foo foo</div>\r\n</div>With Autoprefixer:#inner {\n    position: absolute;\n    left: 50%;\n    -webkit-transform: translate(-50%);\n    -ms-transform:     translate(-50%);\n    transform:         translate(-50%)\n}ShareImprove this answerFolloweditedNov 19, 2019 at 12:21community wiki2 revs, 2 users 77%Shashin Bhayani\n\nOne option existed that I found:Everybody says to use:margin: auto 0;But there is another option. Set this property for the parent div. It\nworks perfectly anytime:text-align: center;And see, child go center.And finally CSS for you:#outer{\n     text-align: center;\n     display: block; /* Or inline-block - base on your need */\n}\n\n#inner\n{\n     position: relative;\n     margin: 0 auto; /* It is good to be */\n}ShareImprove this answerFolloweditedMar 17, 2018 at 18:38community wiki3 revs, 2 users 73%Pnsadeghy'}","{'title': '""Thinking in AngularJS"" if I have a jQuery background? [closed]', 'question': ""Closed. This question needs to be morefocused. It is not currently accepting answers.Closed9 years ago.Locked. This question and its answers arelockedbecause the question is off-topic but has historical significance. It is not currently accepting new answers or interactions.Suppose I'm familiar with developing client-side applications injQuery, but now I'd like to start usingAngularJS. Can you describe the paradigm shift that is necessary? Here are a few questions that might help you frame an answer:How do I architect and design client-side web applications differently? What is the biggest difference?What should I stop doing/using; What should I start doing/using instead?Are there any server-side considerations/restrictions?I'm not looking for a detailed comparison betweenjQueryandAngularJS.javascriptjqueryangularjsShareeditedNov 2, 2018 at 23:22user3956566askedFeb 21, 2013 at 4:09Mark RajcokMark Rajcok364k114114 gold badges498498 silver badges492492 bronze badges"", 'answers': '1. Don\'t design your page, and then change it withDOMmanipulationsIn jQuery, you design a page, and then you make it dynamic. This is because jQuery was designed for augmentation and has grown incredibly from that simple premise.But in AngularJS, you must start from the ground up with your architecture in mind. Instead of starting by thinking ""I have this piece of the DOM and I want to make it do X"", you have to start with what you want to accomplish, then go about designing your application, and then finally go about designing your view.2. Don\'t augment jQuery with AngularJSSimilarly, don\'t start with the idea that jQuery does X, Y, and Z, so I\'ll just add AngularJS on top of that for models and controllers. This isreallytempting when you\'re just starting out, which is why I always recommend that new AngularJS developers don\'t use jQuery at all, at least until they get used to doing things the ""Angular Way"".I\'ve seen many developers here and on the mailing list create these elaborate solutions with jQuery plugins of 150 or 200 lines of code that they then glue into AngularJS with a collection of callbacks and$applys that are confusing and convoluted; but they eventually get it working! The problem is that inmostcases that jQuery plugin could be rewritten in AngularJS in a fraction of the code, where suddenly everything becomes comprehensible and straightforward.The bottom line is this: when solutioning, first ""think in AngularJS""; if you can\'t think of a solution, ask the community; if after all of that there is no easy solution,thenfeel free to reach for the jQuery. But don\'t let jQuery become a crutch or you\'ll never master AngularJS.3. Always think in terms of architectureFirst know thatsingle-page applicationsareapplications. They\'renotwebpages. So we need to think like a server-side developerin additionto thinking like a client-side developer. We have to think about how to divide our application into individual, extensible, testable components.So thenhowdo you do that? How do you ""think in AngularJS""? Here are some general principles, contrasted with jQuery.The view is the ""official record""In jQuery, we programmatically change the view. We could have a dropdown menu defined as aullike so:<ul class=""main-menu"">\n    <li class=""active"">\n        <a href=""#/home"">Home</a>\n    </li>\n    <li>\n        <a href=""#/menu1"">Menu 1</a>\n        <ul>\n            <li><a href=""#/sm1"">Submenu 1</a></li>\n            <li><a href=""#/sm2"">Submenu 2</a></li>\n            <li><a href=""#/sm3"">Submenu 3</a></li>\n        </ul>\n    </li>\n    <li>\n        <a href=""#/home"">Menu 2</a>\n    </li>\n</ul>In jQuery, in our application logic, we would activate it with something like:$(\'.main-menu\').dropdownMenu();When we just look at the view, it\'s not immediately obvious that there is any functionality here. For small applications, that\'s fine. But for non-trivial applications, things quickly get confusing and hard to maintain.In AngularJS, though, the view is the official record of view-based functionality. Ouruldeclaration would look like this instead:<ul class=""main-menu"" dropdown-menu>\n    ...\n</ul>These two do the same thing, but in the AngularJS version anyone looking at the template knows what\'s supposed to happen. Whenever a new member of the development team comes on board, she can look at this and thenknowthat there is a directive calleddropdownMenuoperating on it; she doesn\'t need to intuit the right answer or sift through any code. The view told us what was supposed to happen. Much cleaner.Developers new to AngularJS often ask a question like: how do I find all links of a specific kind and add a directive onto them. The developer is always flabbergasted when we reply: you don\'t. But the reason you don\'t do that is that this is like half-jQuery, half-AngularJS, and no good. The problem here is that the developer is trying to ""do jQuery"" in the context of AngularJS. That\'s never going to work well. The viewisthe official record. Outside of a directive (more on this below), you never, ever,neverchange the DOM. And directives are appliedin the view, so intent is clear.Remember: don\'t design, and then mark up. You must architect, and then design.Data bindingThis is by far one of the most awesome features of AngularJS and cuts out a lot of the need to do the kinds of DOM manipulations I mentioned in the previous section. AngularJS will automatically update your view so you don\'t have to! In jQuery, we respond to events and then update content. Something like:$.ajax({\n  url: \'/myEndpoint.json\',\n  success: function ( data, status ) {\n    $(\'ul#log\').append(\'<li>Data Received!</li>\');\n  }\n});For a view that looks like this:<ul class=""messages"" id=""log"">\n</ul>Apart from mixing concerns, we also have the same problems of signifying intent that I mentioned before. But more importantly, we had to manually reference and update a DOM node. And if we want to delete a log entry, we have to code against the DOM for that too. How do we test the logic apart from the DOM? And what if we want to change the presentation?This a little messy and a trifle frail. But in AngularJS, we can do this:$http( \'/myEndpoint.json\' ).then( function ( response ) {\n    $scope.log.push( { msg: \'Data Received!\' } );\n});And our view can look like this:<ul class=""messages"">\n    <li ng-repeat=""entry in log"">{{ entry.msg }}</li>\n</ul>But for that matter, our view could look like this:<div class=""messages"">\n    <div class=""alert"" ng-repeat=""entry in log"">\n        {{ entry.msg }}\n    </div>\n</div>And now instead of using an unordered list, we\'re using Bootstrap alert boxes. And we never had to change the controller code! But more importantly, no matterwhereorhowthe log gets updated, the view will change too. Automatically. Neat!Though I didn\'t show it here, the data binding is two-way. So those log messages could also be editable in the view just by doing this:<input ng-model=""entry.msg"" />. And there was much rejoicing.Distinct model layerIn jQuery, the DOM is kind of like the model. But in AngularJS, we have a separate model layer that we can manage in any way we want, completely independently from the view. This helps for the above data binding, maintainsseparation of concerns, and introduces far greater testability. Other answers mentioned this point, so I\'ll just leave it at that.Separation of concernsAnd all of the above tie into this over-arching theme: keep your concerns separate. Your view acts as the official record of what is supposed to happen (for the most part); your model represents your data; you have a service layer to perform reusable tasks; you do DOM manipulation and augment your view with directives; and you glue it all together with controllers. This was also mentioned in other answers, and the only thing I would add pertains to testability, which I discuss in another section below.Dependency injectionTo help us out with separation of concerns isdependency injection(DI). If you come from a server-side language (fromJavatoPHP) you\'re probably familiar with this concept already, but if you\'re a client-side guy coming from jQuery, this concept can seem anything from silly to superfluous to hipster. But it\'s not. :-)From a broad perspective, DI means that you can declare components very freely and then from any other component, just ask for an instance of it and it will be granted. You don\'t have to know about loading order, or file locations, or anything like that. The power may not immediately be visible, but I\'ll provide just one (common) example: testing.Let\'s say in our application, we require a service that implements server-side storage through aRESTAPI and, depending on application state, local storage as well. When running tests on our controllers, we don\'t want to have to communicate with the server - we\'re testing thecontroller, after all. We can just add a mock service of the same name as our original component, and the injector will ensure that our controller gets the fake one automatically - our controller doesn\'t and needn\'t know the difference.Speaking of testing...4. Test-driven development -alwaysThis is really part of section 3 on architecture, but it\'s so important that I\'m putting it as its own top-level section.Out of all of the many jQuery plugins you\'ve seen, used, or written, how many of them had an accompanying test suite? Not very many because jQuery isn\'t very amenable to that. But AngularJS is.In jQuery, the only way to test is often to create the component independently with a sample/demo page against which our tests can perform DOM manipulation. So then we have to develop a component separately andthenintegrate it into our application. How inconvenient! So much of the time, when developing with jQuery, we opt for iterative instead of test-driven development. And who could blame us?But because we have separation of concerns, we can do test-driven development iteratively in AngularJS! For example, let\'s say we want a super-simple directive to indicate in our menu what our current route is. We can declare what we want in the view of our application:<a href=""/hello"" when-active>Hello</a>Okay, now we can write a test for the non-existentwhen-activedirective:it( \'should add ""active"" when the route changes\', inject(function() {\n    var elm = $compile( \'<a href=""/hello"" when-active>Hello</a>\' )( $scope );\n\n    $location.path(\'/not-matching\');\n    expect( elm.hasClass(\'active\') ).toBeFalsey();\n\n    $location.path( \'/hello\' );\n    expect( elm.hasClass(\'active\') ).toBeTruthy();\n}));And when we run our test, we can confirm that it fails. Only now should we create our directive:.directive( \'whenActive\', function ( $location ) {\n    return {\n        scope: true,\n        link: function ( scope, element, attrs ) {\n            scope.$on( \'$routeChangeSuccess\', function () {\n                if ( $location.path() == element.attr( \'href\' ) ) {\n                    element.addClass( \'active\' );\n                }\n                else {\n                    element.removeClass( \'active\' );\n                }\n            });\n        }\n    };\n});Our test now passesandour menu performs as requested. Our development isbothiterativeandtest-driven. Wicked-cool.5. Conceptually, directives arenotpackaged jQueryYou\'ll often hear ""only do DOM manipulation in a directive"".This is a necessity.Treat it with due deference!But let\'s dive a little deeper...Some directives just decorate what\'s already in the view (thinkngClass) and therefore sometimes do DOM manipulation straight away and then are basically done. But if a directive is like a ""widget"" and has a template, it shouldalsorespect separation of concerns. That is, the templatetooshould remain largely independent from its implementation in the link and controller functions.AngularJS comes with an entire set of tools to make this very easy; withngClasswe can dynamically update the class;ngModelallows two-way data binding;ngShowandngHideprogrammatically show or hide an element; and many more - including the ones we write ourselves. In other words, we can do all kinds of awesomenesswithoutDOM manipulation. The less DOM manipulation, the easier directives are to test, the easier they are to style, the easier they are to change in the future, and the more re-usable and distributable they are.I see lots of developers new to AngularJS using directives as the place to throw a bunch of jQuery. In other words, they think ""since I can\'t do DOM manipulation in the controller, I\'ll take that code put it in a directive"". While that certainly is much better, it\'s oftenstill wrong.Think of the logger we programmed in section 3. Even if we put that in a directive, westillwant to do it the ""Angular Way"". Itstilldoesn\'t take any DOM manipulation! There are lots of times when DOM manipulation is necessary, but it\'s alotrarer than you think! Before doing DOM manipulationanywherein your application, ask yourself if you really need to. There might be a better way.Here\'s a quick example that shows the pattern I see most frequently. We want a toggleable button. (Note: this example is a little contrived and a skosh verbose to represent more complicated cases that are solved in exactly the same way.).directive( \'myDirective\', function () {\n    return {\n        template: \'<a class=""btn"">Toggle me!</a>\',\n        link: function ( scope, element, attrs ) {\n            var on = false;\n\n            $(element).click( function () {\n                on = !on;\n                $(element).toggleClass(\'active\', on);\n            });\n        }\n    };\n});There are a few things wrong with this:First, jQuery was never necessary. There\'s nothing we did here that needed jQuery at all!Second, even if we already have jQuery on our page, there\'s no reason to use it here; we can simply useangular.elementand our component will still work when dropped into a project that doesn\'t have jQuery.Third, even assuming jQuerywasrequired for this directive to work, jqLite (angular.element) willalwaysuse jQuery if it was loaded! So we needn\'t use the$- we can just useangular.element.Fourth, closely related to the third, is that jqLite elements needn\'t be wrapped in$- theelementthat is passed to thelinkfunction wouldalready bea jQuery element!And fifth, which we\'ve mentioned in previous sections, why are we mixing template stuff into our logic?This directive can be rewritten (even for very complicated cases!) much more simply like so:.directive( \'myDirective\', function () {\n    return {\n        scope: true,\n        template: \'<a class=""btn"" ng-class=""{active: on}"" ng-click=""toggle()"">Toggle me!</a>\',\n        link: function ( scope, element, attrs ) {\n            scope.on = false;\n\n            scope.toggle = function () {\n                scope.on = !scope.on;\n            };\n        }\n    };\n});Again, the template stuff is in the template, so you (or your users) can easily swap it out for one that meets any style necessary, and thelogicnever had to be touched. Reusability - boom!And there are still all those other benefits, like testing - it\'s easy! No matter what\'s in the template, the directive\'s internal API is never touched, so refactoring is easy. You can change the template as much as you want without touching the directive. And no matter what you change, your tests still pass.w00t!So if directives aren\'t just collections of jQuery-like functions, what are they? Directives are actuallyextensions of HTML. If HTML doesn\'t do something you need it to do, you write a directive to do it for you, and then use it just as if it was part of HTML.Put another way, if AngularJS doesn\'t do something out of the box, think how the team would accomplish it to fit right in withngClick,ngClass, et al.SummaryDon\'t even use jQuery. Don\'t even include it. It will hold you back. And when you come to a problem that you think you know how to solve in jQuery already, before you reach for the$, try to think about how to do it within the confines the AngularJS. If you don\'t know, ask! 19 times out of 20, the best way to do it doesn\'t need jQuery and to try to solve it with jQuery results in more work for you.ShareeditedApr 17, 2015 at 20:38answeredFeb 21, 2013 at 21:26Josh David MillerJosh David Miller121k1616 gold badges128128 silver badges9595 bronze badges\n\nImperative → declarativeIn jQuery,selectorsare used to findDOMelements and then bind/register event handlers to them. When an event triggers, that (imperative) code executes to update/change the DOM.In AngularJS, you want to think aboutviewsrather than DOM elements. Views are (declarative) HTML that contain AngularJSdirectives. Directives set up the event handlers behind the scenes for us and give us dynamic databinding. Selectors are rarely used, so the need for IDs (and some types of classes) is greatly diminished. Views are tied tomodels(via scopes). Views are a projection of the model. Events change models (that is, data, scope properties), and the views that project those models update ""automatically.""In AngularJS, think about models, rather than jQuery-selected DOM elements that hold your data. Think about views as projections of those models, rather than registering callbacks to manipulate what the user sees.Separation of concernsjQuery employsunobtrusive JavaScript- behavior (JavaScript) is separated from the structure (HTML).AngularJS usescontrollersand directives (each of which can have their own controller, and/or compile and linking functions) to remove behavior from the view/structure (HTML).  Angular also hasservicesandfiltersto help separate/organize your application.See alsohttps://stackoverflow.com/a/14346528/215945Application designOne approach to designing an AngularJS application:Think about your models. Create services or your own JavaScript objects for those models.Think about how you want to present your models -- your views. Create HTML templates for each view, using the necessary directives to get dynamic databinding.Attach a controller to each view (using ng-view and routing, or ng-controller). Have the controller find/get only whatever model data the view needs to do its job. Make controllers as thin as possible.Prototypal inheritanceYou can do a lot with jQuery without knowing about how JavaScript prototypal inheritance works. When developing AngularJS applications, you will avoid some common pitfalls if you have a good understanding of JavaScript inheritance. Recommended reading:What are the nuances of scope prototypal / prototypical inheritance in AngularJS?ShareeditedMay 23, 2017 at 11:47CommunityBot111 silver badgeansweredFeb 21, 2013 at 4:09Mark RajcokMark Rajcok364k114114 gold badges498498 silver badges492492 bronze badges\n\nAngularJS vs. jQueryAngularJS and jQuery adopt very different ideologies. If you\'re coming from jQuery you may find some of the differences surprising. Angular may make you angry.This is normal, you should push through. Angular is worth it.The big difference (TLDR)jQuery gives you a toolkit for selecting arbitrary bits of the DOM and making ad-hoc changes to them. You can do pretty much anything you like piece by piece.AngularJS instead gives you acompiler.What this means is that AngularJS reads your entire DOM from top to bottom and treats it as code, literally as instructions to the compiler. As it traverses the DOM, It looks for specificdirectives(compiler directives) that tell the AngularJS compiler how to behave and what to do. Directives are little objects full of JavaScript which can match against attributes, tags, classes or even comments.When the Angular compiler determines that a piece of the DOM matches a particular directive, it calls the directive function, passing it the DOM element, any attributes, the current $scope (which is a local variable store), and some other useful bits. These attributes may contain expressions which can be interpreted by the Directive, and which tell it how to render, and when it should redraw itself.Directives can then in turn pull in additional Angular components such as controllers, services, etc. What comes out the bottom of the compiler is a fully formed web application, wired up and ready to go.This means that Angular is Template Driven. Your template drives the JavaScript, not the other way around. This is a radical reversal of roles, and the complete opposite of the unobtrusive JavaScript we have been writing for the last 10 years or so. This can take some getting used to.If this sounds like it might be over-prescriptive and limiting, nothing could be farther from the truth. Because AngularJS treats your HTML as code, you getHTML level granularity in your web application. Everything is possible, and most things are surprisingly easy once you make a few conceptual leaps.Let\'s get down to the nitty gritty.First up, Angular doesn\'t replace jQueryAngular and jQuery do different things. AngularJS gives you a set of tools to produce web applications. jQuery mainly gives you tools for modifying the DOM. If jQuery is present on your page, AngularJS will use it automatically. If it isn\'t, AngularJS ships with jQuery Lite, which is a cut down, but still perfectly usable version of jQuery.Misko likes jQuery and doesn\'t object to you using it. However you will find as you advance that you can get a pretty much all of your work done using a combination of scope, templates and directives, and you should prefer this workflow where possible because your code will be more discrete, more configurable, and more Angular.If you do use jQuery, you shouldn\'t be sprinkling it all over the place. The correct place for DOM manipulation in AngularJS is in a directive. More on these later.Unobtrusive JavaScript with Selectors vs. Declarative TemplatesjQuery is typically applied unobtrusively. Your JavaScript code is linked in the header (or the footer), and this is the only place it is mentioned. We use selectors to pick out bits of the page and write plugins to modify those parts.The JavaScript is in control. The HTML has a completely independent existence. Your HTML remains semantic even without JavaScript. Onclick attributes are very bad practice.One of the first things your will notice about AngularJS is thatcustom attributes are everywhere. Your HTML will be littered with ng attributes, which are essentially onClick attributes on steroids. These are directives (compiler directives), and are one of the main ways in which the template is hooked to the model.When you first see this you might be tempted to write AngularJS off as old school intrusive JavaScript (like I did at first). In fact, AngularJS does not play by those rules. In AngularJS, your HTML5 is a template. It is compiled by AngularJS to produce your web page.This is the first big difference. To jQuery, your web page is a DOM to be manipulated. To AngularJS, your HTML is code to be compiled. AngularJS reads in your whole web page and literally compiles it into a new web page using its built in compiler.Your template should be declarative; its meaning should be clear simply by reading it. We use custom attributes with meaningful names. We make up new HTML elements, again with meaningful names. A designer with minimal HTML knowledge and no coding skill can read your AngularJS template and understand what it is doing. He or she can make modifications.This is the Angular way.The template is in the driving seat.One of the first questions I asked myself when starting AngularJS and running through the tutorials is""Where is my code?"". I\'ve written no JavaScript, and yet I have all this behaviour. The answer is obvious. Because AngularJS compiles the DOM, AngularJS is treating your HTML as code. For many simple cases it\'s often sufficient to just write a template and let AngularJS compile it into an application for you.Your template drives your application. It\'s treated as aDSL. You write AngularJS components, and AngularJS will take care of pulling them in and making them available at the right time based on the structure of your template. This is very different to a standardMVCpattern, where the template is just for output.It\'s more similar toXSLTthanRuby on Railsfor example.This is a radical inversion of control that takes some getting used to.Stop trying to drive your application from your JavaScript. Let the template drive the application, and let AngularJS take care of wiring the components together. This also is the Angular way.Semantic HTML vs. Semantic ModelsWith jQuery your HTML page should contain semantic meaningful content. If the JavaScript is turned off (by a user or search engine) your content remains accessible.Because AngularJS treats your HTML page as a template. The template is not supposed to be semantic as your content is typically stored in your model which ultimately comes from your API. AngularJS compiles your DOM with the model to produce a semantic web page.Your HTML source is no longer semantic, instead, your API and compiled DOM are semantic.In AngularJS, meaning lives in the model, the HTML is just a template, for display only.At this point you likely have all sorts of questions concerningSEOand accessibility, and rightly so. There are open issues here. Most screen readers will now parse JavaScript. Search engines can also indexAJAXedcontent. Nevertheless, you will want to make sure you are using pushstate URLs and you have a decent sitemap. See here for a discussion of the issue:https://stackoverflow.com/a/23245379/687677Separation of concerns (SOC) vs. MVCSeparation of concerns(SOC) is a pattern that grew up over many years of web development for a variety of reasons including SEO, accessibility and browser incompatibility. It looks like this:HTML - Semantic meaning. The HTML should stand alone.CSS - Styling, without the CSS the page is still readable.JavaScript - Behaviour, without the script the content remains.Again, AngularJS does not play by their rules. In a stroke,AngularJS does away with a decade of received wisdomand instead implements an MVC pattern in which the template is no longer semantic, not even a little bit.It looks like this:Model - your models contains your semantic data. Models are usuallyJSONobjects. Models exist as attributes of an object called $scope. You can also store handy utility functions on $scope which your templates can then access.View - Your views are written in HTML. The view is usually not semantic because your data lives in the model.Controller - Your controller is a JavaScript function which hooks the view to the model. Its function is to initialise $scope. Depending on your application, you may or may not need to create a controller. You can have many controllers on a page.MVC and SOC are not on opposite ends of the same scale, they are on completely different axes. SOC makes no sense in an AngularJS context. You have to forget it and move on.If, like me, you lived through the browser wars, you might find this idea quite offensive. Get over it, it\'ll be worth it, I promise.Plugins vs. DirectivesPlugins extend jQuery. AngularJS Directives extend the capabilities of your browser.In jQuery we define plugins by adding functions to the jQuery.prototype. We then hook these into the DOM by selecting elements and calling the plugin on the result. The idea is to extend the capabilities of jQuery.For example, if you want a carousel on your page, you might define an unordered list of figures, perhaps wrapped in a nav element. You might then write some jQuery to select the list on the page and restyle it as a gallery with timeouts to do the sliding animation.In AngularJS, we define directives. A directive is a function which returns a JSON object. This object tells AngularJS what DOM elements to look for, and what changes to make to them. Directives are hooked in to the template using either attributes or elements, which you invent. The idea is to extend the capabilities of HTML with new attributes and elements.The AngularJS way is to extend the capabilities of native looking HTML.You should write HTML that looks like HTML, extended with custom attributes and elements.If you want a carousel, just use a<carousel />element, then define a directive to pull in a template, and make that sucker work.Lots of small directives vs. big plugins with configuration switchesThe tendency with jQuery is to write great big plugins like lightbox which we then configure by passing in numerous values and options.This is a mistake in AngularJS.Take the example of a dropdown. When writing a dropdown plugin you might be tempted to code in click handlers, perhaps a function to add in a chevron which is either up or down, perhaps change the class of the unfolded element, show hide the menu, all helpful stuff.Until you want to make a small change.Say you have a menu that you want to unfold on hover. Well now we have a problem. Our plugin has wired in our click handler for us, we\'re going to need to add a configuration option to make it behave differently in this specific case.In AngularJS we write smaller directives. Our dropdown directive would be ridiculously small. It might maintain the folded state, and provide methods to fold(), unfold() or toggle(). These methods would simply update $scope.menu.visible which is a boolean holding the state.Nowin our templatewe can wire this up:<a ng-click=""toggle()"">Menu</a>\n<ul ng-show=""menu.visible"">\n  ...\n</ul>Need to update on mouseover?<a ng-mouseenter=""unfold()"" ng-mouseleave=""fold()"">Menu</a>\n<ul ng-show=""menu.visible"">\n  ...\n</ul>The template drives the application so we get HTML level granularity. If we want to make case by case exceptions, the template makes this easy.Closure vs. $scopeJQuery plugins are created in a closure. Privacy is maintained within that closure. It\'s up to you to maintain your scope chain within that closure. You only really have access to the set of DOM nodes passed in to the plugin by jQuery, plus any local variables defined in the closure and any globals you have defined. This means that plugins are quite self contained. This is a good thing, but can get restrictive when creating a whole application. Trying to pass data between sections of a dynamic page becomes a chore.AngularJS has $scope objects. These are special objects created and maintained by AngularJS in which you store your model. Certain directives will spawn a new $scope, which by default inherits from its wrapping $scope using JavaScript prototypical inheritance. The $scope object is accessible in the controller and the view.This is the clever part. Because the structure of $scope inheritance roughly follows the structure of the DOM, elements have access to their own scope, and any containing scopes seamlessly, all the way up to the global $scope (which is not the same as the global scope).This makes it much easier to pass data around, and to store data at an appropriate level. If a dropdown is unfolded, only the dropdown $scope needs to know about it. If the user updates their preferences, you might want to update the global $scope, and any nested scopes listening to the user preferences would automatically be alerted.This might sound complicated, in fact, once you relax into it, it\'s like flying. You don\'t need to create the $scope object, AngularJS instantiates and configures it for you, correctly and appropriately based on your template hierarchy. AngularJS then makes it available to your component using the magic of dependency injection (more on this later).Manual DOM changes vs. Data BindingIn jQuery you make all your DOM changes by hand. You construct new DOM elements programatically. If you have a JSON array and you want to put it to the DOM, you must write a function to generate the HTML and insert it.In AngularJS you can do this too, but you are encouraged to make use of data binding. Change your model, and because the DOM is bound to it via a template your DOM will automatically update, no intervention required.Because data binding is done from the template, using either an attribute or the curly brace syntax, it\'s super easy to do. There\'s little cognitive overhead associated with it so you\'ll find yourself doing it all the time.<input ng-model=""user.name"" />Binds the input element to$scope.user.name. Updating the input will update the value in your current scope, and vice-versa.Likewise:<p>\n  {{user.name}}\n</p>will output the user name in a paragraph. It\'s a live binding, so if the$scope.user.namevalue is updated, the template will update too.Ajax all of the timeIn jQuery making an Ajax call is fairly simple, but it\'s still something you might think twice about. There\'s the added complexity to think about, and a fair chunk of script to maintain.In AngularJS, Ajax is your default go-to solution and it happens all the time, almost without you noticing. You can include templates with ng-include. You can apply a template with the simplest custom directive. You can wrap an Ajax call in a service and create yourself aGitHubservice, or aFlickrservice, which you can access with astonishing ease.Service Objects vs Helper FunctionsIn jQuery, if we want to accomplish a small non-dom related task such as pulling a feed from an API, we might write a little function to do that in our closure. That\'s a valid solution, but what if we  want to access that feed often? What if we want to reuse that code in another application?AngularJS gives us service objects.Services are simple objects that contain functions and data. They are always singletons, meaning there can never be more than one of them. Say we want to access the Stack Overflow API, we might write aStackOverflowServicewhich defines methods for doing so.Let\'s say we have a shopping cart. We might define a ShoppingCartService which maintains our cart and contains methods for adding and removing items. Because the service is a singleton, and is shared by all other components, any object that needs to can write to the shopping cart and pull data from it. It\'s always the same cart.Service objects are self-contained AngularJS components which we can use and reuse as we see fit. They are simple JSON objects containing functions and Data. They are always singletons, so if you store data on a service in one place, you can get that data out somewhere else just by requesting the same service.Dependency injection(DI) vs. Instatiation - aka de-spaghettificationAngularJS manages your dependencies for you. If you want an object, simply refer to it and AngularJS will get it for you.Until you start to use this, it\'s hard to explain just what a massive time boon this is. Nothing like AngularJS DI exists inside jQuery.DI means that instead of writing your application and wiring it together, you instead define a library of components, each identified by a string.Say I have a component called \'FlickrService\' which defines methods for pulling JSON feeds from Flickr. Now, if I want to write a controller that can access Flickr, I just need to refer to the \'FlickrService\' by name when I declare the controller. AngularJS will take care of instantiating the component and making it available to my controller.For example, here I define a service:myApp.service(\'FlickrService\', function() {\n  return {\n    getFeed: function() { // do something here }\n  }\n});Now when I want to use that service I just refer to it by name like this:myApp.controller(\'myController\', [\'FlickrService\', function(FlickrService) {\n  FlickrService.getFeed()\n}]);AngularJS will recognise that a FlickrService object is needed to instantiate the controller, and will provide one for us.This makes wiring things together very easy, and pretty much eliminates any tendency towards spagettification. We have a flat list of components, and AngularJS hands them to us one by one as and when we need them.Modular service architecturejQuery says very little about how you should organise your code. AngularJS has opinions.AngularJS gives you modules into which you can place your code. If you\'re writing a script that talks to Flickr for example, you might want to create a Flickr module to wrap all your Flickr related functions in. Modules can include other modules (DI). Your main application is usually a module, and this should include all the other modules your application will depend on.You get simple code reuse, if you want to write another application based on Flickr, you can just include the Flickr module and voila, you have access to all your Flickr related functions in your new application.Modules contain AngularJS components.When we include a module, all the components in that module become available to us as a simple list identified by their unique strings. We can then inject those components into each other using AngularJS\'s dependency injection mechanism.To sum upAngularJS and jQuery are not enemies. It\'s possible to use jQuery within AngularJS very nicely. If you\'re using AngularJS well (templates, data-binding, $scope, directives, etc.) you will find you need alotless jQuery than you might otherwise require.The main thing to realise is that your template drives your application. Stop trying to write big plugins that do everything. Instead write little directives that do one thing, then write a simple template to wire them together.Think less about unobtrusive JavaScript, and instead think in terms of HTML extensions.My little bookI got so excited about AngularJS, I wrote a short book on it which you\'re very welcome to read onlinehttp://nicholasjohnson.com/angular-book/. I hope it\'s helpful.ShareeditedMay 23, 2017 at 12:26CommunityBot111 silver badgeansweredMay 12, 2014 at 10:22superluminarysuperluminary48.6k2626 gold badges153153 silver badges149149 bronze badges\n\nCan you describe the paradigm shift that is necessary?Imperative vs DeclarativeWithjQueryyou tell the DOM what needs to happen, step by step. WithAngularJSyou describe what results you want but not how to do it. More on thishere. Also, check out Mark Rajcok\'s answer.How do I architect and design client-side web apps differently?AngularJS is an entire client-side framework that uses theMVCpattern (check out theirgraphical representation). It greatly focuses on separation of concerns.What is the biggest difference? What should I stop doing/using; what should I start doing/using instead?jQueryis a libraryAngularJSis a beautiful client-side framework, highly testable, that combines tons of cool stuff such as MVC,dependency injection, data binding and much more.It focuses onseparation of concernsand testing (unit testingand end-to-end testing), which facilitates test-driven development.The best way to start is going throughtheir awesome tutorial. You can go through the steps in a couple of hours; however, in case you want to master the concepts behind the scenes, they include a myriad of reference for further reading.Are there any server-side considerations/restrictions?You may use it on existing applications where you are already using pure jQuery. However, if you want to fully take advantage of the AngularJS features you may consider coding the server side using aRESTfulapproach.Doing so will allow you to leverage theirresource factory, which creates an abstraction of your server side RESTfulAPIand makes server-side calls (get, save, delete, etc.) incredibly easy.ShareeditedMay 23, 2017 at 12:02CommunityBot111 silver badgeansweredFeb 21, 2013 at 4:29UlisesUlises13.4k55 gold badges3535 silver badges5050 bronze badges\n\nTo describe the ""paradigm shift"", I think a short answer can suffice.AngularJS changes the way youfindelementsInjQuery, you typically  useselectorsto find elements, and then wire them up:$(\'#id .class\').click(doStuff);InAngularJS, you usedirectivesto mark the elements directly, to wire them up:<a ng-click=""doStuff()"">AngularJS doesn\'t need (or want) you to find elements using selectors - the primary difference between AngularJS\'sjqLiteversus full-blownjQueryis thatjqLite does not support selectors.So when people say ""don\'t include jQuery at all"", it\'s mainly because they don\'t want you to use selectors; they want you to learn to use directives instead. Direct, not select!ShareeditedNov 29, 2014 at 8:46Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredFeb 21, 2014 at 7:57Scott RippeyScott Rippey15.8k55 gold badges7171 silver badges8787 bronze badges\n\njQueryjQuery makes ridiculously long JavaScript commands likegetElementByHerpDerpshorter and cross-browser.AngularJSAngularJS allows you to make your own HTML tags/attributes that do things which work well with dynamic web applications (since HTML was designed for static pages).Edit:Saying ""I have a jQuery background how do I think in AngularJS?"" is like saying ""I have an HTML background how do I think in JavaScript?"" The fact that you\'re asking the question shows you most likely don\'t understand the fundamental purposes of these two resources. This is why I chose to answer the question by simply pointing out the fundamental difference rather than going through the list saying ""AngularJS makes use of directives whereas jQuery uses CSS selectors to make a jQuery object which does this and that etc...."". This question does not require a lengthy answer.jQuery is a way to make programming JavaScript in the browser easier. Shorter, cross-browser commands, etc.AngularJS extends HTML, so you don\'t have to put<div>all over the place just to make an application. It makes HTML actually work for applications rather than what it was designed for, which is static, educational web pages. It accomplishes this in a roundabout way using JavaScript, but fundamentally it is an extension of HTML, not JavaScript.ShareeditedJun 9, 2015 at 2:08willeM_ Van Onsem467k3232 gold badges458458 silver badges592592 bronze badgesansweredFeb 4, 2014 at 5:07Nick ManningNick Manning2,92311 gold badge3333 silver badges5353 bronze badges\n\njQuery: you think a lot about \'QUERYing theDOM\' for DOM elements and doing something.AngularJS: THE model is the truth, and you always think from that ANGLE.For example, when you get data from THE server which you intend to display in some format in the DOM, in jQuery, you need to \'1. FIND\' where in the DOM you want to place this data, the \'2. UPDATE/APPEND\' it there by creating a new node or just setting itsinnerHTML. Then when you want to update this view, you then \'3. FIND\' the location and \'4. UPDATE\'. This cycle of find and update all done within the same context of getting and formatting data from server is gone in AngularJS.With AngularJS you have your model (JavaScript objects you are already used to) and the value of the model tells you about the model (obviously) and about the view, and an operation on the model automatically propagates to the view, so you don\'t have to think about it. You will find yourself in AngularJS no longer finding things in the DOM.To put in another way, in jQuery, you need to think about CSS selectors, that is, where is thedivortdthat has a class or attribute, etc., so that I can get their HTML or color or value, but in AngularJS, you will find yourself thinking like this: what model am I dealing with, I will set the model\'s value to true. You are not bothering yourself of whether the view reflecting this value is a checked box or resides in atdelement (details you would have often needed to think about in jQuery).And with DOM manipulation in AngularJS, you find yourself adding directives and filters, which you can think of as valid HTML extensions.One more thing you will experience in AngularJS: in jQuery you call the jQuery functions a lot, in AngularJS, AngularJS will call your functions, so AngularJS will \'tell you how to do things\', but the benefits are worth it, so learning AngularJS usually means learning what AngularJS wants or the way AngularJS requires that you present your functions and it will call it accordingly. This is one of the things that makes AngularJS a framework rather than a library.ShareeditedJan 15, 2014 at 19:08Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredNov 2, 2013 at 16:53SamuelSamuel1,2951616 silver badges2121 bronze badges\n\nThose are some very nice, but lengthy answers.To sum up my experiences:Controllers and providers (services, factories, etc.) are for modifying the data model, NOT HTML.HTML and directives define the layout and binding to the model.If you need to share data between controllers, create a service or factory - they are singletons that are shared across the application.If you need an HTML widget, create a directive.If you have some data and are now trying to update HTML... STOP! update the model, and make sure your HTML is bound to the model.ShareeditedAug 11, 2014 at 20:14Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMay 16, 2014 at 21:50DanDan1,1651111 silver badges1515 bronze badges\n\njQuery is a DOM manipulation library.AngularJS is an MV* framework.In fact, AngularJS is one of the few JavaScript MV* frameworks (many JavaScript MVC tools still fall under the category library).Being a framework, it hosts your code and takes ownership of decisions about what to call and when!AngularJS itself includes a jQuery-lite edition within it. So for some basic DOM selection/manipulation, you really don\'t have to include the jQuery library (it saves many bytes to run on the network.)AngularJS has the concept of ""Directives"" for DOM manipulation and designing reusable UI components, so you should use it whenever you feel the need of doing DOM manipulation related stuff (directives are only place where you should write jQuery code while using AngularJS).AngularJS involves some learning curve (more than jQuery :-).-->For any developer coming from jQuery background, my first advice would be to ""learn JavaScript as a first class language before jumping onto a rich framework like AngularJS!""\nI learned the above fact the hard way.Good luck.ShareeditedJan 15, 2014 at 19:11Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredOct 10, 2013 at 8:58AnandAnand4,5511010 gold badges4949 silver badges7474 bronze badges\n\nThey\'re apples and oranges. You don\'t want to compare them. They\'re two different things. AngularJs has already jQuery lite built in which allows you to perform basic DOM manipulation without even including the full blown jQuery version.jQuery is all about DOM manipulation. It solves all the cross browser pain otherwise you will have to deal with but it\'s not a framework that allows you to divide your app into components like AngularJS.A nice thing about AngularJs is that it allows you to separate/isolate the DOM manipulation in the directives.  There are built-in directives ready for you to use such as ng-click. You can create your own custom directives that will contain all your view logic or DOM manipulation so you don\'t end up mingle DOM manipulation code in the controllers or services that should take care of the business logic.Angular breaks down your app into \n- Controllers\n- Services\n- Views\n- etc.and there is one more thing, that\'s the directive. It\'s an attribute  you can attach to any DOM element and you can go nuts with jQuery within it without worrying about your jQuery ever conflicts with AngularJs components or messes up with its architecture.I heard from a meetup I attended, one of the founders of Angular said they worked really hard to separate out the DOM manipulation so do not try to include them back in.ShareansweredAug 14, 2013 at 14:19JinJin1,0741010 silver badges1010 bronze badges\n\nListen to the podcastJavaScript Jabber: Episode #32that features the original creators of AngularJS: Misko Hevery & Igor Minar. They talk a lot about what it\'s like to come to AngularJS from other JavaScript backgrounds, especially jQuery.One of the points made in the podcast made a lot of things click for me with respects to your question:MISKO: [...] one of the things we thought about very hardly in Angular is, how do we provide lots of escape hatches so that you can get out and basically figure out a way out of this. So to us, the answer is this thing called “Directives”.And with directives, you essentially become a regular little jQuery JavaScript, you can do whatever you want.IGOR: So think of directive as the instruction to the compiler that tells it whenever you come across this certain element or this CSS in the template, and you keep this kind of code and that code is in charge of the element and everything below that element in the DOM tree.A transcript of the entire episode is available at the link provided above.So, to directly answer your question: AngularJS is -very- opinionated and is a true MV* framework. However, you can still do all of the really cool stuff you know and love with jQuery inside of directives. It\'s not a matter of ""How do I do what I used to in jQuery?"" as much as it\'s a matter of ""How do I supplement AngularJS with all of the stuff I used to do in jQuery?""It\'s really two very different states of mind.ShareeditedJun 20, 2020 at 9:12CommunityBot111 silver badgeansweredNov 8, 2013 at 16:08codevinskycodevinsky1,28311 gold badge99 silver badges1818 bronze badges\n\nI find this question interesting, because my first serious exposure to JavaScript programming wasNode.jsand AngularJS. I never learned jQuery, and I guess that\'s a good thing, because I don\'t have to unlearn anything. In fact, I actively avoid jQuery solutions to my problems, and instead, solely look for an ""AngularJS way"" to solve them. So, I guess my answer to this question would essentially boil down to, ""think like someone who never learned jQuery"" and avoid any temptation to incorporate jQuery directly (obviously AngularJS uses it to some extent behind the scenes).ShareeditedJan 15, 2014 at 19:12Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredSep 12, 2013 at 23:21Evan ZamirEvan Zamir8,3491414 gold badges5858 silver badges8686 bronze badges\n\nAngularJS and jQuery:AngularJs and JQuery are completely different at every level except the JQLite functionality and you will see it once you start learning the AngularJs core features (I explained it below).AngularJs is a client side framework that offers to build the independent client side application. JQuery is a client side library that play around the DOM.AngularJs Cool Principle - If you want some changes on your UI think from model data change perspective. Change your data and UI will re-render itself. You need not to play around DOM each time unless and until it is hardly required and that should also be handled through Angular Directives.To answer this question, I want to share my experience on the first enterprise application with AngularJS. These are the most awesome features that Angular provide where we start changing our jQuery mindset and we get the Angular like a framework and not the library.Two-way data binding is amazing:I had a grid with all functionality UPDATE, DELTE, INSERT. I have a data object that binds the grid\'s model using ng-repeat. You only need to write a single line of simple JavaScript code for delete and insert and that\'s it. grid automatically updates as the grid model changes instantly. Update functionality is real time, no code for it.\nYou feel amazing!!!Reusable directives are super:Write directives in one place and use it throughout the application. OMG!!! I used these directive for paging, regex, validations, etc. It is really cool!Routing is strong:It\'s up to your implementation how you want to use it, but it requires very few lines of code to route the request to specify HTML and controller (JavaScript)Controllers are great:Controllers take care of their own HTML, but this separation works well for common functionality well as. If you want to call the same function on the click of a button on master HTML, just write the same function name in each controller and write individual code.Plugins:There are many other similar features like showing an overlay in your app. You don\'t need to write code for it, just use an overlay plugin available as wc-overlay, and this will automatically take care of allXMLHttpRequest(XHR) requests.Ideal forRESTfularchitecture:Being a complete frameworks makes AngularJS great to work with a RESTful architecture. To call REST CRUD APIs is very easier andServices: Write common codes using services and less code in controllers. Sevices can be used to share common functionalities among the controllers.Extensibility: Angular has extended the HTML directives using angular directives. Write expressions inside html and evaluate them on runtime. Create your own directives and services and use them in another project without any extra effort.ShareeditedMay 24, 2015 at 2:56answeredSep 21, 2014 at 16:44Sanjeev SinghSanjeev Singh4,03633 gold badges3434 silver badges3838 bronze badges\n\nAs a JavaScript MV* beginner and purely focusing on the application architecture (not the server/client-side matters), I would certainly recommend the following resource (which I am surprised wasn\'t mentioned yet):JavaScript Design Patterns, by Addy Osmani, as an introduction to differentJavaScript Design Patterns. The terms used in this answer are taken from the linked document above. I\'m not going to repeat what was worded really well in the accepted answer. Instead, this answer links back to thetheoretical backgroundswhich power AngularJS (and other libraries).Like me, you will quickly realize that AngularJS (orEmber.js, Durandal, & other MV* frameworks for that matter) is one complex framework assembling many of the different JavaScript design patterns.I found it easier also, to test(1)native JavaScript code and(2)smaller libraries for each one of these patternsseparatelybefore diving into one global framework. This allowed me to better understand which crucial issues a framework adresses (because you are personally faced with the problem).For example:JavaScript Object-oriented Programming(this is a Google search link). It is not a library, but certainly a prerequisite to any application programming. It taught me the native implementations of theprototype, constructor, singleton & decorator patternsjQuery/Underscorefor thefacade pattern(like WYSIWYG\'s for manipulating the DOM)Prototype.jsfor theprototype/ constructor/ mixin patternRequireJS/Curl.jsfor themodule pattern/ AMDKnockoutJSfor theobservable, publish/subscribe patternNB: This list is not complete, nor \'the best libraries\'; they just happen to be the libraries I used. These libraries also include more patterns, the ones mentioned are just their main focuses or original intents. If you feel something is missing from this list, please do mention it in the comments, and I will be glad to add it.ShareeditedNov 29, 2014 at 8:54Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJun 21, 2014 at 11:59webketjewebketje10.8k33 gold badges2727 silver badges5555 bronze badges\n\nActually, if you\'re using AngularJS, you don\'t need jQuery anymore. AngularJS itself has the binding and directive, which is a very good ""replacement"" for most things you can do with jQuery.I usually develop mobile applications using AngularJS andCordova. The ONLY thing from jQuery I needed is the Selector.By googling, I see that there is a standalone jQuery selector module out there. It\'s Sizzle.And I decided to make a tiny code snippet that help me quickly start a website using AngularJS with the power of jQuery Selector (using Sizzle).I shared my code here:https://github.com/huytd/SizzularShareeditedNov 22, 2014 at 15:41Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredAug 27, 2014 at 6:04Huy TranHuy Tran83511 gold badge1212 silver badges2222 bronze badges'}","{'title': 'What are the differences between a pointer variable and a reference variable?', 'question': 'What is the difference between a pointer variable and a reference variable?c++pointersreferencec++-faqShareImprove this questionFolloweditedJul 4, 2022 at 20:58Mateen Ulhaq26.6k2020 gold badges115115 silver badges147147 bronze badgesaskedSep 11, 2008 at 20:03prakashprakash59.5k2525 gold badges9393 silver badges115115 bronze badges', 'answers': 'A pointer can be re-assigned:int x = 5;\nint y = 6;\nint *p;\np = &x;\np = &y;\n*p = 10;\nassert(x == 5);\nassert(y == 10);A reference cannot be re-bound, and must be bound at initialization:int x = 5;\nint y = 6;\nint &q; // error\nint &r = x;A pointer variable has its own identity: a distinct, visible memory address that can be taken with the unary&operator and a certain amount of space that can be measured with thesizeofoperator. Using those operators on a reference returns a value corresponding to whatever the reference is bound to; the reference’s own address and size are invisible. Since the reference assumes the identity of the original variable in this way, it is convenient to think of a reference as another name for the same variable.int x = 0;\nint &r = x;\nint *p = &x;\nint *p2 = &r;\n\nassert(p == p2); // &x == &r\nassert(&p != &p2);It is possible to create a pointer to a pointer, but not a pointer to a reference.int **pp; // OK, pointer to pointer\n int &*pr; // ill-formed, pointer to referenceIt is possible to create an array of pointers, but not an array of references.int *ap[]; // OK, array of pointers\nint &ar[]; // ill-formed, array of referencesYou can have arbitrarily nested pointers to pointers offering extra levels of indirection. References only offer one level of indirection because references to referencescollapse.int x = 0;\nint y = 0;\nint *p = &x;\nint *q = &y;\nint **pp = &p;\n\n**pp = 2;\npp = &q; // *pp is now q\n**pp = 4;\n\nassert(y == 4);\nassert(x == 2);A pointer can be assignednullptr, whereas a reference must be bound to an existing object. If you try hard enough, you can bind a reference tonullptr, but this isundefinedand will not behave consistently./* the code below is undefined; your compiler may optimise it\n * differently, emit warnings, or outright refuse to compile it */\n\nint &r = *static_cast<int *>(nullptr);\n\n// prints ""null"" under GCC 10\nstd::cout\n    << (&r != nullptr\n        ? ""not null"" : ""null"")\n    << std::endl;\n\nbool f(int &r) { return &r != nullptr; }\n\n// prints ""not null"" under GCC 10\nstd::cout\n    << (f(*static_cast<int *>(nullptr))\n        ? ""not null"" : ""null"")\n    << std::endl;You can, however, have a reference to a pointer whose value isnullptr.Pointers areContiguousIterators(of an array). You can use++to go to the next item that a pointer is pointing to, and+ 4to go to the 5th element.A pointer needs to be dereferenced with*to access the object it points to, whereas a reference can be used directly.  A pointer to a class/struct uses->to access its members whereas a reference uses a..Const references and rvalue references can be bound to temporaries (seetemporary materialization). Pointers cannot (not without some indirection):const int &x = int(12); // legal C++\nint *y = &int(12); // illegal to take the address of a temporary.This makesconst &more convenient to use in argument lists and so forth.ShareImprove this answerFolloweditedOct 5, 2023 at 11:30community wiki29 revs, 15 users 37%Brian R. Bondy\n\nWhat\'s a C++ reference (for C programmers)Areferencecan be thought of as aconstant pointer(not to be confused with a pointer to a constant value!) with automatic indirection, ie the compiler will apply the*operator for you.All references must be initialized with a non-null value or compilation will fail. It\'s neither possible to get the address of a reference - the address operator will return the address of the referenced value instead - nor is it possible to do arithmetics on references.C programmers might dislike C++ references as it will no longer be obvious when indirection happens or if an argument gets passed by value or by pointer without looking at function signatures.C++ programmers might dislike using pointers as they are considered unsafe - although references aren\'t really any safer than constant pointers except in the most trivial cases - lack the convenience of automatic indirection and carry a different semantic connotation.Consider the following statement from theC++ FAQ:Even though a reference is often implemented using an address in the\n  underlying assembly language, please donotthink of a reference as a\n  funny looking pointer to an object. A referenceisthe object. It is\n  not a pointer to the object, nor a copy of the object. Itisthe\n  object.But if a referencereallywere the object, how could there be dangling references? In unmanaged languages, it\'s impossible for references to be any \'safer\' than pointers - there generally just isn\'t a way to reliably alias values across scope boundaries!Why I consider C++ references usefulComing from a C background, C++ references may look like a somewhat silly concept, but one should still use them instead of pointers where possible: Automatic indirectionisconvenient, and references become especially useful when dealing withRAII- but not because of any perceived safety advantage, but rather because they make writing idiomatic code less awkward.RAII is one of the central concepts of C++, but it interacts non-trivially with copying semantics. Passing objects by reference avoids these issues as no copying is involved. If references were not present in the language, you\'d have to use pointers instead, which are more cumbersome to use, thus violating the language design principle that the best-practice solution should be easier than the alternatives.ShareImprove this answerFolloweditedJul 7, 2015 at 21:27Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredFeb 27, 2009 at 21:26ChristophChristoph168k3636 gold badges184184 silver badges241241 bronze badges\n\nIf you want to be really pedantic, there is one thing you can do with a reference that you can\'t do with a pointer: extend the lifetime of a temporary object. In C++ if you bind a const reference to a temporary object, the lifetime of that object becomes the lifetime of the reference.std::string s1 = ""123"";\nstd::string s2 = ""456"";\n\nstd::string s3_copy = s1 + s2;\nconst std::string& s3_reference = s1 + s2;In this example s3_copy copies the temporary object that is a result of the concatenation. Whereas s3_reference in essence becomes the temporary object. It\'s really a reference to a temporary object that now has the same lifetime as the reference.If you try this without theconstit should fail to compile. You cannot bind a non-const reference to a temporary object, nor can you take its address for that matter.ShareImprove this answerFolloweditedOct 8, 2010 at 16:52Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredSep 11, 2008 at 21:43Matt PriceMatt Price44.9k99 gold badges3838 silver badges4444 bronze badges\n\nApart from syntactic sugar, a reference is aconstpointer (notpointer to aconst). You must establish what it refers to when you declare the reference variable, and you cannot change it later.Update: now that I think about it some more, there is an important difference.A const pointer\'s target can be replaced by taking its address and using a const cast.A reference\'s target cannot be replaced in any way short of UB.This should permit the compiler to do more optimization on a reference.ShareImprove this answerFolloweditedApr 12, 2018 at 15:59answeredSep 11, 2008 at 20:07user3458user3458\n\nContrary to popular opinion, it is possible to have a reference that is NULL.int * p = NULL;\nint & r = *p;\nr = 1;  // crash! (if you\'re lucky)Granted, it is much harder to do with a reference - but if you manage it, you\'ll tear your hair out trying to find it. References arenotinherently safe in C++!Technically this is aninvalid reference, not a null reference.  C++ doesn\'t support null references as a concept as you might find in other languages.  There are other kinds of invalid references as well.Anyinvalid reference raises the spectre ofundefined behavior, just as using an invalid pointer would.The actual error is in the dereferencing of the NULL pointer, prior to the assignment to a reference.  But I\'m not aware of any compilers that will generate any errors on that condition - the error propagates to a point further along in the code. That\'s what makes this problem so insidious. Most of the time, if you dereference a NULL pointer, you crash right at that spot and it doesn\'t take much debugging to figure it out.My example above is short and contrived. Here\'s a more real-world example.class MyClass\n{\n    ...\n    virtual void DoSomething(int,int,int,int,int);\n};\n\nvoid Foo(const MyClass & bar)\n{\n    ...\n    bar.DoSomething(i1,i2,i3,i4,i5);  // crash occurs here due to memory access violation - obvious why?\n}\n\nMyClass * GetInstance()\n{\n    if (somecondition)\n        return NULL;\n    ...\n}\n\nMyClass * p = GetInstance();\nFoo(*p);I want to reiterate that the only way to get a null reference is through malformed code, and once you have it you\'re getting undefined behavior. Itnevermakes sense to check for a null reference; for example you can tryif(&bar==NULL)...but the compiler might optimize the statement out of existence! A valid reference can never be NULL so from the compiler\'s view the comparison is always false, and it is free to eliminate theifclause as dead code - this is the essence of undefined behavior.The proper way to stay out of trouble is to avoid dereferencing a NULL pointer to create a reference. Here\'s an automated way to accomplish this.template<typename T>\nT& deref(T* p)\n{\n    if (p == NULL)\n        throw std::invalid_argument(std::string(""NULL reference""));\n    return *p;\n}\n\nMyClass * p = GetInstance();\nFoo(deref(p));For an older look at this problem from someone with better writing skills, seeNull Referencesfrom Jim Hyslop and Herb Sutter.For another example of the dangers of dereferencing a null pointer seeExposing undefined behavior when trying to port code to another platformby Raymond Chen.ShareImprove this answerFolloweditedJan 8, 2018 at 22:57answeredSep 11, 2008 at 21:06Mark RansomMark Ransom306k4444 gold badges411411 silver badges641641 bronze badges\n\nYou forgot the most important part:member-access with pointers uses->member-access with references uses.foo.barisclearlysuperior tofoo->barin the same way thatviisclearlysuperior toEmacs:-)ShareImprove this answerFolloweditedJul 7, 2015 at 21:21Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredSep 11, 2008 at 22:10Orion EdwardsOrion Edwards123k6565 gold badges240240 silver badges336336 bronze badges\n\nReferences are very similar to pointers, but they are specifically crafted to be helpful to optimizing compilers.References are designed such that it is substantially easier for the compiler to trace which reference aliases which variables. Two major features are very important: no ""reference arithmetic"" and no reassigning of references. These allow the compiler to figure out which references alias which variables at compile time.References are allowed to refer to variables which do not have memory addresses, such as those the compiler chooses to put into registers. If you take the address of a local variable, it is very hard for the compiler to put it in a register.As an example:void maybeModify(int& x); // may modify x in some way\n\nvoid hurtTheCompilersOptimizer(short size, int array[])\n{\n    // This function is designed to do something particularly troublesome\n    // for optimizers. It will constantly call maybeModify on array[0] while\n    // adding array[1] to array[2]..array[size-1]. There\'s no real reason to\n    // do this, other than to demonstrate the power of references.\n    for (int i = 2; i < (int)size; i++) {\n        maybeModify(array[0]);\n        array[i] += array[1];\n    }\n}An optimizing compiler may realize that we are accessing a[0] and a[1] quite a bunch. It would love to optimize the algorithm to:void hurtTheCompilersOptimizer(short size, int array[])\n{\n    // Do the same thing as above, but instead of accessing array[1]\n    // all the time, access it once and store the result in a register,\n    // which is much faster to do arithmetic with.\n    register int a0 = a[0];\n    register int a1 = a[1]; // access a[1] once\n    for (int i = 2; i < (int)size; i++) {\n        maybeModify(a0); // Give maybeModify a reference to a register\n        array[i] += a1;  // Use the saved register value over and over\n    }\n    a[0] = a0; // Store the modified a[0] back into the array\n}To make such an optimization, it needs to prove that nothing can change array[1] during the call. This is rather easy to do. i is never less than 2, so array[i] can never refer to array[1]. maybeModify() is given a0 as a reference (aliasing array[0]). Because there is no ""reference"" arithmetic, the compiler just has to prove that maybeModify never gets the address of x, and it has proven that nothing changes array[1].It also has to prove that there are no ways a future call could read/write a[0] while we have a temporary register copy of it in a0. This is often trivial to prove, because in many cases it is obvious that the reference is never stored in a permanent structure like a class instance.Now do the same thing with pointersvoid maybeModify(int* x); // May modify x in some way\n\nvoid hurtTheCompilersOptimizer(short size, int array[])\n{\n    // Same operation, only now with pointers, making the\n    // optimization trickier.\n    for (int i = 2; i < (int)size; i++) {\n        maybeModify(&(array[0]));\n        array[i] += array[1];\n    }\n}The behavior is the same; only now it is much harder to prove that maybeModify does not ever modify array[1], because we already gave it a pointer; the cat is out of the bag. Now it has to do the much more difficult proof: a static analysis of maybeModify to prove it never writes to &x + 1. It also has to prove that it never saves off a pointer that can refer to array[0], which is just as tricky.Modern compilers are getting better and better at static analysis, but it is always nice to help them out and use references.Of course, barring such clever optimizations, compilers will indeed turn references into pointers when needed.EDIT: Five years after posting this answer, I found an actual technical difference where references are different than just a different way of looking at the same addressing concept.  References can modify the lifespan of temporary objects in a way that pointers cannot.F createF(int argument);\n\nvoid extending()\n{\n    const F& ref = createF(5);\n    std::cout << ref.getArgument() << std::endl;\n};Normally temporary objects such as the one created by the call tocreateF(5)are destroyed at the end of the expression.  However, by binding that object to a reference,ref, C++ will extend the lifespan of that temporary object untilrefgoes out of scope.ShareImprove this answerFolloweditedOct 8, 2018 at 21:51answeredSep 1, 2013 at 3:44Cort AmmonCort Ammon10.6k3232 silver badges4646 bronze badges\n\nActually, a reference is not really like a pointer.A compiler keeps ""references"" to variables, associating a name with a memory address; that\'s its job to translate any variable name to a memory address when compiling.When you create a reference, you only tell the compiler that you assign another name to the pointer variable; that\'s why references cannot ""point to null"", because a variable cannot be, and not be.Pointers are variables; they contain the address of some other variable, or can be null. The important thing is that a pointer has a value, while a reference only has a variable that it is referencing.Now some explanation of real code:int a = 0;\nint& b = a;Here you are not creating another variable that points toa; you are just adding another name to the memory content holding the value ofa. This memory now has two names,aandb, and it can be addressed using either name.void increment(int& n)\n{\n    n = n + 1;\n}\n\nint a;\nincrement(a);When calling a function, the compiler usually generates memory spaces for the arguments to be copied to. The function signature defines the spaces that should be created and gives the name that should be used for these spaces. Declaring a parameter as a reference just tells the compiler to use the input variable memory space instead of allocating a new memory space during the method call. It may seem strange to say that your function will be directly manipulating a variable declared in the calling scope, but remember that when executing compiled code, there is no more scope; there is just plain flat memory, and your function code could manipulate any variables.Now there may be some cases where your compiler may not be able to know the reference when compiling, like when using an extern variable. So a reference may or may not be implemented as a pointer in the underlying code. But in the examples I gave you, it will most likely not be implemented with a pointer.ShareImprove this answerFolloweditedJul 7, 2015 at 21:25Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredSep 19, 2008 at 12:23Vincent RobertVincent Robert36k1515 gold badges8282 silver badges122122 bronze badges\n\nA reference can never beNULL.ShareImprove this answerFolloweditedJun 1, 2014 at 22:37Cole Tobin9,3611515 gold badges5151 silver badges7676 bronze badgesansweredSep 11, 2008 at 20:12RichSRichS\n\nThere is a semantic difference that may appear esoteric if you are not familiar with studying computer languages in an abstract or even academic fashion.At the highest-level, the idea of references is that they are transparent ""aliases"". Your computer may use an address to make them work, but you\'re not supposed to worry about that: you\'re supposed to think of them as ""just another name"" for an existing object and the syntax reflects that. They are stricter than pointers so your compiler can more reliably warn you when you about to create a dangling reference, than when you are about to create a dangling pointer.Beyond that, there are of course some practical differences between pointers and references. The syntax to use them is obviously different, and you cannot ""re-seat"" references, have references to nothingness, or have pointers to references.ShareImprove this answerFollowansweredOct 29, 2014 at 17:17Lightness Races in OrbitLightness Races in Orbit383k7777 gold badges657657 silver badges1.1k1.1k bronze badges\n\nWhile both references and pointers are used to indirectly access another value, there are two important differences between references and pointers. The first is that a reference always refers to an object: It is an error to define a reference without initializing it. The behavior of assignment is the second important difference: Assigning to a reference changes the object to which the reference is bound; it does not rebind the reference to another object. Once initialized, a reference always refers to the same underlying object.Consider these two program fragments. In the first, we assign one pointer to another:int ival = 1024, ival2 = 2048;\nint *pi = &ival, *pi2 = &ival2;\npi = pi2;    // pi now points to ival2After the assignment, ival, the object addressed by pi remains unchanged. The assignment changes the value of pi, making it point to a different object. Now consider a similar program that assigns two references:int &ri = ival, &ri2 = ival2;\nri = ri2;    // assigns ival2 to ivalThis assignment changes ival, the value referenced by ri, and not the reference itself. After the assignment, the two references still refer to their original objects, and the value of those objects is now the same as well.ShareImprove this answerFolloweditedOct 23, 2015 at 23:16Андрей Беньковский3,89277 gold badges2323 silver badges3535 bronze badgesansweredMay 20, 2011 at 19:26Kunal VyasKunal Vyas1,55911 gold badge2323 silver badges4040 bronze badges\n\nA reference is an alias for another variable whereas a pointer holds the memory address of a variable. References are generally used as function parameters so that the passed object is not the copy but the object itself.void fun(int &a, int &b); // A common usage of references.\n    int a = 0;\n    int &b = a; // b is an alias for a. Not so common to use.ShareImprove this answerFollowansweredJan 1, 2013 at 17:45fatma.ekicifatma.ekici2,79755 gold badges3030 silver badges3030 bronze badges\n\nThe direct answerWhat is a reference in C++? Some specific instance of type thatis not an object type.What is a pointer in C++? Some specific instance of type thatis an object type.Fromthe ISO C++ definition of object type:Anobjecttype is a (possiblycv-qualified) type that is not a function type, not a reference type, and notcvvoid.It may be important to know, object type is a top-level category of the type universe in C++. Reference is also a top-level category.But pointer is not.Pointers and references are mentioned togetherin the context ofcompound type. This is basically due to the nature of the declarator syntax inherited from (and extended) C, which has no references. (Besides, there are more than one kind of declarator of references since C++ 11, while pointers are still ""unityped"":&+&&vs.*.) So drafting a language specific by ""extension"" with similar style of C in this context is somewhat reasonable. (I will still argue that the syntax of declarators wastes the syntactic expressivenessa lot, makes both human users and implementations frustrating. Thus, all of them are not qualified to bebuilt-inin a new language design. This is a totally different topic about PL design, though.)Otherwise, it is insignificant that pointers can be qualified as a specific sorts of types with references together. They simply share too few common properties besides the syntax similarity, so there is no need to put them together in most cases.Note the statements above only mentions ""pointers"" and ""references"" as types. There are some interested questions about their instances (like variables). There also come too many misconceptions.The differences of the top-level categories can already reveal many concrete differences not tied to pointers directly:Object types can have top-levelcvqualifiers. References cannot.Variable of object types do occupy storage as perthe abstract machinesemantics. Reference do not necessary occupy storage (see the section about misconceptions below for details)....A few more special rules on references:Compound declarators are more restrictive on references.References cancollapse.Special rules on&&parameters (as the ""forwarding references"") based on reference collapsing during template parameter deduction allow""perfect forwarding""of parameters.References have special rules in initialization. The lifetime of variable declared as a reference type can be different to ordinary objects via extension.BTW, a few other contexts like initialization involvingstd::initializer_listfollows some similar rules of reference lifetime extension. It is another can of worms....The misconceptionsSyntactic sugarI know references are syntactic sugar, so code is easier to read and write.Technically, this is plain wrong. References are not syntactic sugar of any other features in C++, because they cannot be exactly replaced by other features without any semantic differences.(Similarly,lambda-expressions arenotsyntactic sugar of any other features in C++ because it cannot be precisely simulated with ""unspecified"" properties likethe declaration order of the captured variables, which may be important because the initialization order of such variables can be significant.)C++ only has a few kinds of syntactic sugars in this strict sense. One instance is (inherited from C) the built-in (non-overloaded) operator[], whichis defined exactly having same semantic properties of specific forms of combination over built-in operator unary*and binary+.StorageSo, a pointer and a reference both use the same amount of memory.The statement above is simply wrong. To avoid such misconceptions, look at the ISO C++ rules instead:From[intro.object]/1:... An object occupies a region of storage in its period of construction, throughout its lifetime, and in its period of destruction. ...From[dcl.ref]/4:It is unspecified whether or not a reference requires storage.Note these aresemanticproperties.PragmaticsEven that pointers are not qualified enough to be put together with references in the sense of the language design, there are still some arguments making it debatable to make choice between them in some other contexts, for example, when making choices on parameter types.But this is not the whole story. I mean, there are more things than pointers vs references you have to consider.If you don\'t have to stick on such over-specific choices, in most cases the answer is short:you do not have the necessity to use pointers, so you don\'t. Pointers are usually bad enough because they imply too many things you don\'t expect and they will rely on too many implicit assumptions undermining the maintainability and (even) portability of the code.Unnecessarily relying on pointers is definitely a bad style and it should be avoided in the sense of modern C++.Reconsider your purpose and you will finally find thatpointer is the feature of last sortsin most cases.Sometimes the language rules explicitly require specific types to be used. If you want to use these features, obey the rules.Copy constructors require specific types ofcv-&reference type as the 1st parameter type. (And usually it should beconstqualified.)Move constructors require specific types ofcv-&&reference type as the 1st parameter type. (And usually there should be no qualifiers.)Specific overloads of operators require reference or non reference types. For example:Overloadedoperator=as special member functions requires reference types similar to 1st parameter of copy/move constructors.Postfix++requires dummyint....If you know pass-by-value (i.e. using non-reference types) is sufficient, use it directly, particularly when using an implementation supporting C++17 mandated copy elision. (Warning: However, toexhaustivelyreason about the necessity can bevery complicated.)If you want to operate some handles with ownership, use smart pointers likeunique_ptrandshared_ptr(or even with homebrew ones by yourself if you require them to beopaque), rather than raw pointers.If you are doing some iterations over a range, use iterators (or some ranges which are not provided by the standard library yet), rather than raw pointers unless you are convinced raw pointers will do better (e.g. for less header dependencies) in very specific cases.If you know pass-by-value is sufficient and you want some explicit nullable semantics, use wrapper likestd::optional, rather than raw pointers.If you know pass-by-value is not ideal for the reasons above, and you don\'t want nullable semantics, use {lvalue, rvalue, forwarding}-references.Even when you do want semantics like traditional pointer, there are often something more appropriate, likeobserver_ptrin Library Fundamental TS.The only exceptions cannot be worked around in the current language:When you are implementing smart pointers above, you may have to deal with raw pointers.Specific language-interoperation routines require pointers, likeoperator new. (However,cv-void*is still quite different and safer compared to the ordinary object pointers because it rules out unexpected pointer arithmetics unless you are relying on some non conforming extension onvoid*like GNU\'s.)Function pointers can be converted from lambda expressions without captures, while function references cannot. You have to use function pointers in non-generic code for such cases, even you deliberately do not want nullable values.So, in practice, the answer is so obvious:when in doubt, avoid pointers. You have to use pointers only when there are very explicit reasons that nothing else is more appropriate. Except a few exceptional cases mentioned above, such choices are almost always not purely C++-specific (but likely to be language-implementation-specific). Such instances can be:You have to serve to old-style (C) APIs.You have to meet the ABI requirements of specific C++ implementations.You have to interoperate at runtime with different language implementations (including various assemblies, language runtime and FFI of some high-level client languages) based on assumptions of specific implementations.You have to improve efficiency of the translation (compilation & linking) in some extreme cases.You have to avoid symbol bloat in some extreme cases.Language neutrality caveatsIf you come to see the question viasome Google search result (not specific to C++), this is very likely to be the wrong place.References in C++ is quite ""odd"", as it is essentially not first-class:they will be treated as the objects or the functions being referred toso they have no chance to support some first-class operations like being the left operand ofthe member access operatorindependently to the type of the referred object. Other languages may or may not have similar restrictions on their references.References in C++ will likely not preserve the meaning across different languages. For example, references in general do not imply nonnull properties on values like they in C++, so such assumptions may not work in some other languages (and you will find counterexamples quite easily, e.g. Java, C#, ...).There can still be some common properties among references in different programming languages in general, but let\'s leave it for some other questions in SO.(A side note: the question may be significant earlier than any ""C-like"" languages are involved, likeALGOL 68 vs. PL/I.)ShareImprove this answerFolloweditedMar 1, 2019 at 12:43answeredFeb 17, 2019 at 7:37FrankHBFrankHB2,4352626 silver badges2020 bronze badges\n\nIt doesn\'t matter how much space it takes up since you can\'t actually see any side effect (without executing code) of whatever space it would take up.On the other hand, one major difference between references and pointers is that temporaries assigned to const references live until the const reference goes out of scope.For example:class scope_test\n{\npublic:\n    ~scope_test() { printf(""scope_test done!\\n""); }\n};\n\n...\n\n{\n    const scope_test &test= scope_test();\n    printf(""in scope\\n"");\n}will print:in scope\nscope_test done!This is the language mechanism that allows ScopeGuard to work.ShareImprove this answerFolloweditedJul 3, 2012 at 14:41user142162answeredSep 12, 2008 at 23:27MSNMSN54.2k77 gold badges7777 silver badges106106 bronze badges\n\nThis is based on thetutorial. What is written makes it more clear:>>> The address that locates a variable within memory is\n    what we call a reference to that variable. (5th paragraph at page 63)\n\n>>> The variable that stores the reference to another\n    variable is what we call a pointer. (3rd paragraph at page 64)Simply to remember that,>>> reference stands for memory location\n>>> pointer is a reference container (Maybe because we will use it for\nseveral times, it is better to remember that reference.)What\'s more, as we can refer to almost any pointer tutorial, a pointer is an object that is supported by pointer arithmetic which makes pointer similar to an array.Look at the following statement,int Tom(0);\nint & alias_Tom = Tom;alias_Tomcan be understood as analias of a variable(different withtypedef, which isalias of a type)Tom. It is also OK to forget the terminology of such statement is to create a reference ofTom.ShareImprove this answerFolloweditedJul 7, 2015 at 21:35Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJan 13, 2014 at 13:14IIIIIIIIIIIIIIIIIIIIIIII44933 silver badges99 bronze badges\n\nA reference is not another name given to some memory. It\'s a immutable pointer that is automatically de-referenced on usage. Basically it boils down to:int& j = i;It internally becomesint* const j = &i;ShareImprove this answerFolloweditedJan 10, 2017 at 1:46Ryan4,91811 gold badge3434 silver badges3636 bronze badgesansweredFeb 26, 2013 at 5:20tanweer alamtanweer alam43744 silver badges66 bronze badges\n\nA reference to a pointer is possible in C++, but the reverse is not possible means a pointer to a reference isn\'t possible. A reference to a pointer provides a cleaner syntax to modify the pointer.\nLook at this example:#include<iostream>\nusing namespace std;\n\nvoid swap(char * &str1, char * &str2)\n{\n  char *temp = str1;\n  str1 = str2;\n  str2 = temp;\n}\n\nint main()\n{\n  char *str1 = ""Hi"";\n  char *str2 = ""Hello"";\n  swap(str1, str2);\n  cout<<""str1 is ""<<str1<<endl;\n  cout<<""str2 is ""<<str2<<endl;\n  return 0;\n}And consider the C version of the above program. In C you have to use pointer to pointer (multiple indirection), and it leads to confusion and the program may look complicated.#include<stdio.h>\n/* Swaps strings by swapping pointers */\nvoid swap1(char **str1_ptr, char **str2_ptr)\n{\n  char *temp = *str1_ptr;\n  *str1_ptr = *str2_ptr;\n  *str2_ptr = temp;\n}\n\nint main()\n{\n  char *str1 = ""Hi"";\n  char *str2 = ""Hello"";\n  swap1(&str1, &str2);\n  printf(""str1 is %s, str2 is %s"", str1, str2);\n  return 0;\n}Visit the following for more information about reference to pointer:C++: Reference to PointerPointer-to-Pointer and Reference-to-PointerAs I said, a pointer to a reference isn\'t possible. Try the following program:#include <iostream>\nusing namespace std;\n\nint main()\n{\n   int x = 10;\n   int *ptr = &x;\n   int &*ptr1 = ptr;\n}ShareImprove this answerFolloweditedJul 8, 2015 at 9:06answeredFeb 9, 2015 at 13:17DestructorDestructor14.3k1111 gold badges6666 silver badges129129 bronze badges\n\nThere is one fundamental difference between pointers and references that I didn\'t see anyone had mentioned: references enable pass-by-reference semantics in function arguments. Pointers, although it is not visible at first do not: they only provide pass-by-value semantics. This has been very nicely described inthis article.Regards,\n&rzejShareImprove this answerFollowansweredFeb 6, 2012 at 8:59AndrzejAndrzej5,1072828 silver badges3737 bronze badges\n\nI use references unless I need either of these:Null pointers can be used as a\nsentinel value, often a cheap way to\navoid function overloading or use of\na bool.You can do arithmetic on a pointer.\nFor example,p += offset;ShareImprove this answerFolloweditedJul 7, 2015 at 21:22Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredSep 12, 2008 at 13:41AardvarkAardvark8,56377 gold badges4646 silver badges6464 bronze badges\n\nAt the risk of adding to confusion, I want to throw in some input, I\'m sure it mostly depends on how the compiler implements references, but in the case of gcc the idea that a reference can only point to a variable on the stack is not actually correct, take this for example:#include <iostream>\nint main(int argc, char** argv) {\n    // Create a string on the heap\n    std::string *str_ptr = new std::string(""THIS IS A STRING"");\n    // Dereference the string on the heap, and assign it to the reference\n    std::string &str_ref = *str_ptr;\n    // Not even a compiler warning! At least with gcc\n    // Now lets try to print it\'s value!\n    std::cout << str_ref << std::endl;\n    // It works! Now lets print and compare actual memory addresses\n    std::cout << str_ptr << "" : "" << &str_ref << std::endl;\n    // Exactly the same, now remember to free the memory on the heap\n    delete str_ptr;\n}Which outputs this:THIS IS A STRING\n0xbb2070 : 0xbb2070If you notice even the memory addresses are exactly the same, meaning the reference is successfully pointing to a variable on the heap! Now if you really want to get freaky, this also works:int main(int argc, char** argv) {\n    // In the actual new declaration let immediately de-reference and assign it to the reference\n    std::string &str_ref = *(new std::string(""THIS IS A STRING""));\n    // Once again, it works! (at least in gcc)\n    std::cout << str_ref;\n    // Once again it prints fine, however we have no pointer to the heap allocation, right? So how do we free the space we just ignorantly created?\n    delete &str_ref;\n    /*And, it works, because we are taking the memory address that the reference is\n    storing, and deleting it, which is all a pointer is doing, just we have to specify\n    the address with \'&\' whereas a pointer does that implicitly, this is sort of like\n    calling delete &(*str_ptr); (which also compiles and runs fine).*/\n}Which outputs this:THIS IS A STRINGTherefore a reference IS a pointer under the hood, they both are just storing a memory address, where the address is pointing to is irrelevant, what do you think would happen if I called std::cout << str_ref; AFTER calling delete &str_ref? Well, obviously it compiles fine, but causes a segmentation fault at runtime because it\'s no longer pointing at a valid variable, we essentially have a broken reference that still exists (until it falls out of scope), but is useless.In other words, a reference is nothing but a pointer that has the pointer mechanics abstracted away, making it safer and easier to use (no accidental pointer math, no mixing up \'.\' and \'->\', etc.), assuming you don\'t try any nonsense like my examples above ;)Nowregardlessof how a compiler handles references, it willalwayshave some kind of pointer under the hood, because a referencemustrefer to a specific variable at a specific memory address for it to work as expected, there is no getting around this (hence the term \'reference\').The only major rule that\'s important to remember with references is that they must be defined at the time of declaration (with the exception of a reference in a header, in that case it must be defined in the constructor, after the object it\'s contained in is constructed it\'s too late to define it).Remember, my examples above are just that, examples demonstrating what a reference is, you would never want to use a reference in those ways! For proper usage of a reference there are plenty of answers on here already that hit the nail on the headShareImprove this answerFollowansweredOct 14, 2014 at 21:38ToryTory47755 silver badges1010 bronze badges\n\nAnother difference is that you can have pointers to a void type (and it means pointer to anything) but references to void are forbidden.int a;\nvoid * p = &a; // ok\nvoid & p = a;  //  forbiddenI can\'t say I\'m really happy with this particular difference. I would much prefer it would be allowed with the meaning reference to anything with an address and otherwise the same behavior for references. It would allow to define some equivalents of C library functions like memcpy using references.ShareImprove this answerFolloweditedApr 29, 2015 at 15:00answeredJan 29, 2010 at 15:15krisskriss24k1717 gold badges100100 silver badges118118 bronze badges\n\nAlso, a reference that is a parameter to a function that is inlined may be handled differently than a pointer.void increment(int *ptrint) { (*ptrint)++; }\nvoid increment(int &refint) { refint++; }\nvoid incptrtest()\n{\n    int testptr=0;\n    increment(&testptr);\n}\nvoid increftest()\n{\n    int testref=0;\n    increment(testref);\n}Many compilers when inlining the pointer version one will actually force a write to memory (we are taking the address explicitly).  However, they will leave the reference in a register which is more optimal.Of course, for functions that are not inlined the pointer and reference generate the same code and it\'s always better to pass intrinsics by value than by reference if they are not modified and returned by the function.ShareImprove this answerFollowansweredOct 15, 2009 at 1:57AdisakAdisak6,84611 gold badge3939 silver badges4848 bronze badges\n\nAnother interesting use of references is to supply a default argument of a user-defined type:class UDT\n{\npublic:\n   UDT() : val_d(33) {};\n   UDT(int val) : val_d(val) {};\n   virtual ~UDT() {};\nprivate:\n   int val_d;\n};\n\nclass UDT_Derived : public UDT\n{\npublic:\n   UDT_Derived() : UDT() {};\n   virtual ~UDT_Derived() {};\n};\n\nclass Behavior\n{\npublic:\n   Behavior(\n      const UDT &udt = UDT()\n   )  {};\n};\n\nint main()\n{\n   Behavior b; // take default\n\n   UDT u(88);\n   Behavior c(u);\n\n   UDT_Derived ud;\n   Behavior d(ud);\n\n   return 1;\n}The default flavor uses the \'bind const reference to a temporary\' aspect of references.ShareImprove this answerFollowansweredSep 12, 2008 at 17:59Don WakefieldDon Wakefield8,79233 gold badges3737 silver badges5454 bronze badges\n\nThis program might help in comprehending the answer of the question. This is a simple program of a reference ""j"" and a pointer ""ptr"" pointing to variable ""x"".#include<iostream>\n\nusing namespace std;\n\nint main()\n{\nint *ptr=0, x=9; // pointer and variable declaration\nptr=&x; // pointer to variable ""x""\nint & j=x; // reference declaration; reference to variable ""x""\n\ncout << ""x="" << x << endl;\n\ncout << ""&x="" << &x << endl;\n\ncout << ""j="" << j << endl;\n\ncout << ""&j="" << &j << endl;\n\ncout << ""*ptr="" << *ptr << endl;\n\ncout << ""ptr="" << ptr << endl;\n\ncout << ""&ptr="" << &ptr << endl;\n    getch();\n}Run the program and have a look at the output and you\'ll understand.Also, spare 10 minutes and watch this video:https://www.youtube.com/watch?v=rlJrrGV0iOgShareImprove this answerFolloweditedMar 15, 2013 at 3:11answeredMar 15, 2013 at 3:03Arlene BatadaArlene Batada1,62522 gold badges1212 silver badges1111 bronze badges\n\nI feel like there is yet another point that hasn\'t been covered here.Unlike the pointers, references aresyntactically equivalentto the object they refer to, i.e. any operation that can be applied to an object works for a reference, and with the exact same syntax (the exception is of course the initialization).While this may appear superficial, I believe this property is crucial for a number of C++ features, for example:Templates. Since template parameters are duck-typed, syntactic properties of a type is all that matters, so often the same template can be used with bothTandT&.(orstd::reference_wrapper<T>which still relies on an implicit cast\ntoT&)Templates that cover bothT&andT&&are even more common.Lvalues. Consider the statementstr[0] = \'X\';Without references it would only work for c-strings (char* str). Returning the character by reference allows user-defined classes to have the same notation.Copy constructors. Syntactically it makes sense to pass objects to copy constructors, and not pointers to objects. But there is just no way for a copy constructor to take an object by value - it would result in a recursive call to the same copy constructor. This leaves references as the only option here.Operator overloads. With references it is possible to introduce indirection to an operator call - say,operator+(const T& a, const T& b)while retaining the same infix notation. This also works for regular overloaded functions.These points empower a considerable part of C++ and the standard library so this is quite a major property of references.ShareImprove this answerFollowansweredJul 6, 2017 at 19:48Ap31Ap313,27411 gold badge1919 silver badges2525 bronze badges\n\nThere is a very important non-technical difference between pointers and references: An argument passed to a function by pointer is much more visible than an argument passed to a function by non-const reference. For example:void fn1(std::string s);\nvoid fn2(const std::string& s);\nvoid fn3(std::string& s);\nvoid fn4(std::string* s);\n\nvoid bar() {\n    std::string x;\n    fn1(x);  // Cannot modify x\n    fn2(x);  // Cannot modify x (without const_cast)\n    fn3(x);  // CAN modify x!\n    fn4(&x); // Can modify x (but is obvious about it)\n}Back in C, a call that looks likefn(x)can only be passed by value, so it definitely cannot modifyx; to modify an argument you would need to pass a pointerfn(&x). So if an argument wasn\'t preceded by an&you knew it would not be modified. (The converse,&means modified, was not true because you would sometimes have to pass large read-only structures byconstpointer.)Some argue that this is such a useful feature when reading code, that pointer parameters should always be used for modifiable parameters rather than non-constreferences, even if the function never expects anullptr. That is, those people argue that function signatures likefn3()above should not be allowed.Google\'s C++ style guidelinesare an example of this.ShareImprove this answerFolloweditedJun 25, 2018 at 18:58Donald Duck8,7062323 gold badges7777 silver badges100100 bronze badgesansweredNov 2, 2017 at 11:16Arthur TaccaArthur Tacca9,61722 gold badges3434 silver badges5353 bronze badges\n\nA reference is a const pointer.int * const a = &bis the same asint& a = b. This is why there\'s is no such thing as a const reference, because it is already const, whereas a reference to const isconst int * const a. When you compile using -O0, the compiler will place the address of b on the stack in both situations, and as a member of a class, it will also be present in the object on the stack/heap identically to if you had declared a const pointer. With -Ofast, it is free to optimise this out. A const pointer and reference are both optimised away.Unlike a const pointer, there is no way to take the address of the reference itself, as it will be interpreted as the address of the variable it references. Because of this, on -Ofast, the const pointer representing the reference (the address of the variable being referenced) will always be optimised off the stack, but if the program absolutely needs the address of an actual const pointer (the address of the pointer itself, not the address it points to) i.e. you print the address of the const pointer, then the const pointer will be placed on the stack so that it has an address.Otherwise it is identical i.e. when you print the that address it points to:#include <iostream>\n\nint main() {\n  int a =1;\n  int* b = &a;\n  std::cout << b ;\n}\n\nint main() {\n  int a =1;\n  int& b = a;\n  std::cout << &b ;\n}they both have the same assembly output\n-Ofast:\nmain:\n        sub     rsp, 24\n        mov     edi, OFFSET FLAT:_ZSt4cout\n        lea     rsi, [rsp+12]\n        mov     DWORD PTR [rsp+12], 1\n        call    std::basic_ostream<char, std::char_traits<char> >& std::basic_ostream<char, std::char_traits<char> >::_M_insert<void const*>(void const*)\n        xor     eax, eax\n        add     rsp, 24\n        ret\n--------------------------------------------------------------------\n-O0:\nmain:\n        push    rbp\n        mov     rbp, rsp\n        sub     rsp, 16\n        mov     DWORD PTR [rbp-12], 1\n        lea     rax, [rbp-12]\n        mov     QWORD PTR [rbp-8], rax\n        mov     rax, QWORD PTR [rbp-8]\n        mov     rsi, rax\n        mov     edi, OFFSET FLAT:_ZSt4cout\n        call    std::basic_ostream<char, std::char_traits<char> >::operator<<(void const*)\n        mov     eax, 0\n        leave\n        retThe pointer has been optimised off the stack, and the pointer isn\'t even dereferenced on -Ofast in both cases, instead it uses a compile time value.As members of an object they are identical on -O0 through -Ofast.#include <iostream>\nint b=1;\nstruct A {int* i=&b; int& j=b;};\nA a;\nint main() {\n  std::cout << &a.j << &a.i;\n}\n\nThe address of b is stored twice in the object. \n\na:\n        .quad   b\n        .quad   bmov     rax, QWORD PTR a[rip+8] //&a.j\n        mov     esi, OFFSET FLAT:a //&a.iWhen you pass by reference, on -O0, you pass the address of the variable referenced, so it is identical to passing by pointer i.e. the address the const pointer contains. On -Ofast this is optimised out by the compiler in an inline call if the function can be inlined, as the dynamic scope is known, but in the function definition, the parameter is always dereferenced as a pointer (expecting the address of the variable being referenced by the reference) where it may be used by another translation unit and the dynamic  scope is unknown to the compiler, unless of course the function is declared as a static function, then it can\'t be used outside of the translation unit and then it passes by value so long as it isn\'t modified in the function by reference, then it will pass the address of the variable being referenced by the reference that you\'re passing, and on -Ofast this will be passed in a register and kept off of the stack if there are enough volatile registers in the calling convention.ShareImprove this answerFolloweditedSep 15, 2021 at 12:30answeredJun 4, 2020 at 15:59Lewis KelseyLewis Kelsey4,50711 gold badge3636 silver badges5353 bronze badges\n\nMaybe some metaphors will help; \nIn the context of your desktop screenspace -A reference requires you to specify an actual window.A pointer requires the location of a piece of space on screen that you assure it will contain zero or more instances of that window type.ShareImprove this answerFollowansweredDec 27, 2014 at 13:00George RGeorge R3,83433 gold badges3535 silver badges3939 bronze badges\n\nDifference between pointer and referenceA pointer can be initialized to 0 and a reference not. In fact, a reference must also refer to an object, but a pointer can be the null pointer:int* p = 0;But we can’t haveint& p = 0;and alsoint& p=5 ;.In fact to do it properly, we must have declared and defined an object at the first then we can make a reference to that object, so the correct implementation of the previous code will be:Int x = 0;\nInt y = 5;\nInt& p = x;\nInt& p1 = y;Another important point is that is we can make the declaration of the pointer without initialization however no such thing can be done in case of reference which must make a reference always to variable or object. However such use of a pointer is risky so generally we check if the pointer is actually is pointing to something or not. In case of a reference no such check is necessary, because we know already that referencing to an object during declaration is mandatory.Another difference is that pointer can point to another object however reference is always referencing to the same object, let’s take this example:Int a = 6, b = 5;\nInt& rf = a;\n\nCout << rf << endl; // The result we will get is 6, because rf is referencing to the value of a.\n\nrf = b;\ncout << a << endl; // The result will be 5 because the value of b now will be stored into the address of a so the former value of a will be erasedAnother point: When we have a template like an STL template such kind of a class template will always return a reference, not a pointer, to make easy reading or assigning new value using operator []:Std ::vector<int>v(10); // Initialize a vector with 10 elements\nV[5] = 5; // Writing the value 5 into the 6 element of our vector, so if the returned type of operator [] was a pointer and not a reference we should write this *v[5]=5, by making a reference we overwrite the element by using the assignment ""=""ShareImprove this answerFolloweditedJun 20, 2020 at 9:12CommunityBot111 silver badgeansweredJan 6, 2017 at 14:01dhokar.wdhokar.w43044 silver badges88 bronze badges\n\nSome key pertinent details about references and pointersPointersPointer variables are declared using theunary suffix declarator operator*Pointer objects are assigned an address value, for example, by assignment to an array object, the address of an object using the &unary prefix operator, or assignment to the value of another pointer objectA pointer can be reassigned any number of times, pointing to different objectsA pointer is a variable that holds the assigned address.  It takes up storage in memory equal to the size of the address for the target machine architectureA pointer can be mathematically manipulated, for instance, by the increment or addition operators.  Hence, one can iterate with a pointer, etc.To get or set the contents of the object referred to by a pointer, one must use theunary prefix operator* todereferenceitReferencesReferences must be initialized when they are declared.References are declared using theunary suffix declarator operator&.When initializing a reference, one uses the name of the object to which they will refer directly, without the need for theunary prefix operator&Once initialized, references cannot be pointed to something else by assignment or arithmetical manipulationThere is no need to dereference the reference to get or set the contents of the object it refers toAssignment operations on the reference manipulate the contents of the object it points to (after initialization), not the reference itself (does not change where it points to)Arithmetic operations on the reference manipulate the contents of the object it points to, not the reference itself (does not change where it points to)In pretty much all implementations, the reference is actually stored as an address in memory of the referred to object.  Hence, it takes up storage in memory equal to the size of the address for the target machine architecture just like a pointer objectEven though pointers and references are implemented in much the same way ""under-the-hood,"" the compiler treats them differently, resulting in all the differences described above.ArticleA recent article I wrote that goes into much greater detail than I can show here and should be very helpful for this question, especially about how things happen in memory:Arrays, Pointers and References Under the Hood In-Depth ArticleShareImprove this answerFolloweditedJun 20, 2020 at 9:12CommunityBot111 silver badgeansweredAug 1, 2019 at 8:02XitalogyXitalogy1,61222 gold badges1515 silver badges1717 bronze badges'}","{'title': ""Change an HTML input's placeholder color with CSS"", 'question': 'Chrome v4 supports theplaceholder attributeoninput[type=text]elements (others probably do too).However, the following CSS doesn\'t do anything to the placeholder\'s value:input[placeholder], [placeholder], *[placeholder] {\n    color: red !important;\n}<input type=""text"" placeholder=""Value"">Valuewill still remaingreyinstead ofred.Is there a way to change the color of the placeholder text?csshtmlplaceholderhtml-inputShareImprove this questionFolloweditedApr 18, 2023 at 16:29community wiki30 revs, 21 users 23%TylerH', 'answers': 'ImplementationThere are three different implementations: pseudo-elements, pseudo-classes, and nothing.WebKit, Blink (Safari, Google Chrome, Opera 15+) and Microsoft Edge are using a pseudo-element:::-webkit-input-placeholder.[Ref]Mozilla Firefox 4 to 18 is using a pseudo-class::-moz-placeholder(onecolon).[Ref]Mozilla Firefox 19+ is using a pseudo-element:::-moz-placeholder, but the old selector will still work for a while.[Ref]Internet Explorer 10 and 11 are using a pseudo-class::-ms-input-placeholder.[Ref]April 2017:Most modern browsers support the simple pseudo-element::placeholder[Ref]Internet Explorer 9 and lower does not support theplaceholderattribute at all, whileOpera 12 and lower do not supportany CSS selector for placeholders.The discussion about the best implementation is still going on. Note the pseudo-elements act like real elements in theShadow DOM. Apaddingon aninputwill not get the same background color as the pseudo-element.CSS selectorsUser agents are required to ignore a rule with an unknown selector. SeeSelectors Level 3:agroupof selectors containing an invalid selector is invalid.So we need separate rules for each browser. Otherwise the whole group would be ignored by all browsers.::-webkit-input-placeholder { /* WebKit, Blink, Edge */\n    color:    #909;\n}\n:-moz-placeholder { /* Mozilla Firefox 4 to 18 */\n   color:    #909;\n   opacity:  1;\n}\n::-moz-placeholder { /* Mozilla Firefox 19+ */\n   color:    #909;\n   opacity:  1;\n}\n:-ms-input-placeholder { /* Internet Explorer 10-11 */\n   color:    #909;\n}\n::-ms-input-placeholder { /* Microsoft Edge */\n   color:    #909;\n}\n\n::placeholder { /* Most modern browsers support this now. */\n   color:    #909;\n}<input placeholder=""Stack Snippets are awesome!"">Usage notesBe careful to avoid bad contrasts. Firefox\'s placeholder appears to be defaulting with a reduced opacity, so needs to useopacity: 1here.Note that placeholder text is just cut off if it doesn’t fit – size your input elements inemand test them with big minimum font size settings. Don’t forget translations: some languagesneed more roomfor the same word.Browsers with HTML support forplaceholderbut without CSS support for that (like Opera) should be tested too.Placeholders are no replacement for labels, so make sure you have a label, tooSome browsers use additional default CSS for someinputtypes (email,search). These might affect the rendering in unexpected ways. Use theproperties-webkit-appearanceand-moz-appearanceto change that. Example:[type=""search""] {\n        -moz-appearance:    textfield;\n        -webkit-appearance: textfield;\n        appearance: textfield;\n    }ShareImprove this answerFolloweditedJul 5, 2022 at 12:41Andy5,81122 gold badges3131 silver badges5151 bronze badgesansweredApr 9, 2010 at 20:36fuxiafuxia63.4k66 gold badges5555 silver badges6363 bronze badges\n\n/* do not group these rules */\r\n*::-webkit-input-placeholder {\r\n    color: red;\r\n}\r\n*:-moz-placeholder {\r\n    /* FF 4-18 */\r\n    color: red;\r\n    opacity: 1;\r\n}\r\n*::-moz-placeholder {\r\n    /* FF 19+ */\r\n    color: red;\r\n    opacity: 1;\r\n}\r\n*:-ms-input-placeholder {\r\n    /* IE 10+ */\r\n    color: red;\r\n}\r\n*::-ms-input-placeholder {\r\n    /* Microsoft Edge */\r\n    color: red;\r\n}\r\n*::placeholder {\r\n    /* modern browser */\r\n    color: red;\r\n}<input placeholder=""hello""/> <br />\r\n<textarea placeholder=""hello""></textarea>This will style allinputandtextareaplaceholders.Important Note:Do not group these rules. Instead, make a separate rule for every selector (one invalid selector in a group makes the whole group invalid).ShareImprove this answerFolloweditedJul 19, 2018 at 15:14community wiki23 revs, 9 users 65%brillout\n\nYou may also want to style textareas:input::-webkit-input-placeholder,\ntextarea::-webkit-input-placeholder {\n  color: #FF9900;\n}\n\ninput:-moz-placeholder,\ntextarea:-moz-placeholder {\n  color: #FF9900;\n}<textarea rows=""4"" cols=""50"" placeholder=""Stack Snippets are nice!"">\n</textarea>ShareImprove this answerFolloweditedDec 14, 2021 at 13:37community wiki8 revs, 8 users 42%Lars Flieger\n\nForBootstrapandLessusers, there is a mixin .placeholder:// Placeholder text\n// -------------------------\n.placeholder(@color: @placeholderText) {\n  &:-moz-placeholder {\n    color: @color;\n  }\n  &:-ms-input-placeholder {\n    color: @color;\n  }\n  &::-webkit-input-placeholder {\n    color: @color;\n  }\n}ShareImprove this answerFolloweditedSep 24, 2016 at 7:52Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJun 6, 2013 at 8:47EIIPIIEIIPII1,86111 gold badge1818 silver badges1010 bronze badges\n\nIn addition to toscho\'s answer I\'ve noticed some webkit inconsistencies between Chrome 9-10 and Safari 5 with the CSS properties supported that are worth noting.Specifically Chrome 9 and 10 do not supportbackground-color,border,text-decorationandtext-transformwhen styling the placeholder.The full cross-browser comparison ishere.ShareImprove this answerFolloweditedSep 25, 2013 at 13:04answeredFeb 9, 2011 at 16:44ajcwajcw23.8k66 gold badges3131 silver badges4848 bronze badges\n\nForSassusers:// Create placeholder mixin\n@mixin placeholder($color, $size:"""") {\n  &::-webkit-input-placeholder {\n    color: $color;\n    @if $size != """" {\n      font-size: $size;\n    }\n  }\n  &:-moz-placeholder {\n    color: $color;\n    @if $size != """" {\n      font-size: $size;\n    }\n  }\n  &::-moz-placeholder {\n    color: $color;\n    @if $size != """" {\n      font-size: $size;\n    }\n  }\n  &:-ms-input-placeholder {\n    color: $color;\n    @if $size != """" {\n      font-size: $size;\n    }\n  }\n}\n\n// Use placeholder mixin (the size parameter is optional)\n[placeholder] {\n  @include placeholder(red, 10px);\n}ShareImprove this answerFolloweditedNov 21, 2023 at 16:07community wiki4 revs, 3 users 64%Konst_\n\nThis will work fine.DEMO HERE:input::-webkit-input-placeholder,\r\ntextarea::-webkit-input-placeholder {\r\n  color: #666;\r\n}\r\ninput:-moz-placeholder,\r\ntextarea:-moz-placeholder {\r\n  color: #666;\r\n}\r\ninput::-moz-placeholder,\r\ntextarea::-moz-placeholder {\r\n  color: #666;\r\n}\r\ninput:-ms-input-placeholder,\r\ntextarea:-ms-input-placeholder {\r\n  color: #666;\r\n}<input type=""text"" placeholder=""Value"" />ShareImprove this answerFolloweditedSep 12, 2016 at 8:08user6696028answeredSep 14, 2013 at 12:52Love TrivediLove Trivedi4,02733 gold badges2020 silver badges2828 bronze badges\n\nCSS provides the::placeholderpseudo-element.Note that the .placeholder mixin fromBootstrapis deprecated in favor of this.Example:input::placeholder { color: black; }When usingautoprefixerthe above will be converted to the correct code for all browsers.ShareImprove this answerFolloweditedNov 21, 2023 at 16:16community wiki5 revs, 4 users 50%hitautodestruct\n\nIn Firefox and Internet\xa0Explorer, the normal input text color overrides the color property of placeholders. So, we need to::-webkit-input-placeholder { \n    color: red; text-overflow: ellipsis; \n}\n:-moz-placeholder { \n    color: #acacac !important; text-overflow: ellipsis; \n}\n::-moz-placeholder { \n    color: #acacac !important; text-overflow: ellipsis; \n} /* For the future */\n:-ms-input-placeholder { \n    color: #acacac !important; text-overflow: ellipsis; \n}ShareImprove this answerFolloweditedSep 24, 2016 at 7:48Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredFeb 14, 2013 at 21:11Dionysios ArvanitisDionysios Arvanitis1,18399 silver badges1111 bronze badges\n\nCross-browser solution:/* all elements */\n::-webkit-input-placeholder { color:#f00; }\n::-moz-placeholder { color:#f00; } /* firefox 19+ */\n:-ms-input-placeholder { color:#f00; } /* ie */\ninput:-moz-placeholder { color:#f00; }\n\n/* individual elements: webkit */\n#field2::-webkit-input-placeholder { color:#00f; }\n#field3::-webkit-input-placeholder { color:#090; background:lightgreen; text-transform:uppercase; }\n#field4::-webkit-input-placeholder { font-style:italic; text-decoration:overline; letter-spacing:3px; color:#999; }\n\n/* individual elements: mozilla */\n#field2::-moz-placeholder { color:#00f; }\n#field3::-moz-placeholder { color:#090; background:lightgreen; text-transform:uppercase; }\n#field4::-moz-placeholder { font-style:italic; text-decoration:overline; letter-spacing:3px; color:#999; }Credit:David WalshShareImprove this answerFolloweditedNov 21, 2023 at 16:17community wiki2 revs, 2 users 71%Kristian\n\nNow we have a standard way to apply CSS to an input\'s placeholder :::placeholderpseudo-element fromthisCSS Module Level 4 Draft.ShareImprove this answerFolloweditedAug 12, 2015 at 3:11community wiki2 revs, 2 users 86%user3790069\n\nI just realize something for Mozilla Firefox 19+ that the browser gives an opacity value for the placeholder, so the color will not be what you really want.input::-webkit-input-placeholder, textarea::-webkit-input-placeholder {\n    color: #eee; opacity:1;\n}\ninput:-moz-placeholder, textarea:-moz-placeholder {\n    color: #eee; opacity:1;\n}\ninput::-moz-placeholder, textarea::-moz-placeholder {\n    color: #eee; opacity:1;\n}\ninput:-ms-input-placeholder, textarea:-ms-input-placeholder {\n    color: #eee; opacity:1;\n}I overwrite theopacityfor 1, so it will be good to go.ShareImprove this answerFolloweditedAug 20, 2021 at 10:23community wiki4 revs, 4 users 54%Burak Tokak\n\nForBootstrapusers, if you are usingclass=""form-control"", there may be a CSS specificity issue. You should get a higher priority:.form-control::-webkit-input-placeholder {\n    color: red;\n}\n/* ... and other browsers */Or if you are usingLess:.form-control{\n    .placeholder(red);\n}ShareImprove this answerFolloweditedNov 21, 2023 at 16:31community wiki3 revs, 3 users 59%gfaceless\n\nI think this code will work because a placeholder is needed only for input type text. So this one line CSS will be enough for your need:input[type=""text""]::-webkit-input-placeholder {\n    color: red;\n}ShareImprove this answerFolloweditedSep 24, 2016 at 7:57Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJun 25, 2015 at 9:01Alias VargheseAlias Varghese2,16233 gold badges2525 silver badges5353 bronze badges\n\nI don\'t remember where I\'ve found this code snippet on the Internet (it wasn\'t written by me, don\'t remember where I\'ve found it, nor who wrote it).$(\'[placeholder]\').focus(function () {\n  var input = $(this);\n  if (input.val() == input.attr(\'placeholder\')) {\n    input.val(\'\');\n    input.removeClass(\'placeholder\');\n  }\n}).blur(function () {\n  var input = $(this);\n  if (input.val() == \'\' || input.val() == input.attr(\'placeholder\')) {\n    input.addClass(\'placeholder\');\n    input.val(input.attr(\'placeholder\'));\n  }\n}).blur();\n\n$(\'[placeholder]\').parents(\'form\').submit(function () {\n  $(this).find(\'[placeholder]\').each(function () {\n    var input = $(this);\n    if (input.val() == input.attr(\'placeholder\')) {\n      input.val(\'\');\n    }\n  })\n});Just load this JavaScript code and then edit your placeholder with CSS by calling this rule:form .placeholder {\n   color: #222;\n   font-size: 25px;\n   /* etc. */\n}ShareImprove this answerFolloweditedNov 21, 2023 at 23:01Samuel RIGAUD1,4881717 silver badges2525 bronze badgesansweredApr 14, 2013 at 2:28Dragos RizescuDragos Rizescu3,44855 gold badges3333 silver badges4343 bronze badges\n\nHow about this<input type=""text"" value=""placeholder text"" onfocus=""this.style.color=\'#000\'; \r\n    this.value=\'\';"" style=""color: #f00;"" />No CSS or placeholder, but you get the same functionality.ShareImprove this answerFolloweditedMay 15, 2019 at 16:15Mobarak Ali76055 silver badges1919 bronze badgesansweredOct 8, 2012 at 19:21user1729061user172906149733 silver badges44 bronze badges\n\nThis short and clean code:::-webkit-input-placeholder {color: red;}\n:-moz-placeholder           {color: red; /* For Firefox 18- */}\n::-moz-placeholder          {color: red; /* For Firefox 19+ */}\n:-ms-input-placeholder      {color: red;}ShareImprove this answerFolloweditedAug 20, 2021 at 10:24community wiki5 revs, 5 users 37%Banti Mathur\n\nIf you are usingBootstrapand couldn\'t get this working then probably you missed the fact that Bootstrap itself adds these selectors. This is Bootstrap v3.3 we are talking about.If you are trying to change the placeholder inside a.form-controlCSS class then you should override it like this:.form-control::-webkit-input-placeholder { /* WebKit, Blink, Edge */\n    color:    #777;\n}\n.form-control:-moz-placeholder { /* Mozilla Firefox 4 to 18 */\n    color:    #777;\n    opacity:  1;\n}\n.form-control::-moz-placeholder { /* Mozilla Firefox 19+ */\n    color:    #777;\n    opacity:  1;\n}\n.form-control:-ms-input-placeholder { /* Internet Explorer 10-11 */\n    color:    #777;\n}ShareImprove this answerFolloweditedNov 21, 2023 at 16:32community wiki3 revs, 3 users 68%mansoor.khan\n\nI have tried every combination here to change the color, on my mobile platform, and eventually it was:-webkit-text-fill-color: red;which did the trick.ShareImprove this answerFolloweditedSep 24, 2016 at 7:58community wiki2 revs, 2 users 80%aviram83\n\nAdding an actual very nice and simple possibility:CSS filters!It will style everything, including the placeholder.The following will set bothinputelements on the same palette, using the hue filter for color changes. It render very well now in browsers (except ie...)input {\n  filter: sepia(100%) saturate(400%) grayscale(0) contrast(200%) hue-rotate(68deg) invert(18%);\n}<input placeholder=""Hello world!"" />\n<input type=""date"" /><br>\n<input type=""range"" />\n<input type=""color"" />To allow users to change it dynamically, using an input type color for changes, or to find nuances, check out this snippet:From:Codepenfunction stylElem() {\n  stylo.dataset.hue = ((parseInt(stylo.value.substring(1), 16))/46666).toFixed(0)\n  Array.from(document.querySelectorAll(\'input, audio, video\')).forEach(function(e){\n      e.style.cssText += "";filter:sepia(100%) saturate(400%)grayscale(0)contrast(200%)hue-rotate(""+ stylo.dataset.hue+""deg)invert(""+(stylo.dataset.hue/3.6)+""%)""\n  out.innerText = e.style.cssText\n})()}\n\nstylElem()body {background: black; color: white}Choose a color!\n<input type=""color"" id=""stylo"" oninput=""stylElem()"">\n<br>\n<div id=""out""></div> <p>\n  <input placeholder=""Hello world!"" />\n  <input type=""date"" /><br>\n  <input type=""range"" />\n <br>\n<audio controls src=""#""></audio> <br><br> \n<video controls src=""#""></video>Css filters docs:https://developer.mozilla.org/en-US/docs/Web/CSS/filterShareImprove this answerFolloweditedDec 12, 2021 at 21:06community wiki6 revsNVRM\n\nFor SASS/SCSS user usingBourbon, it has a built-in function.//main.scss\n@import \'bourbon\';\n\ninput {\n  width: 300px;\n\n  @include placeholder {\n    color: red;\n  }\n}CSS Output, you can also grab this portion and paste into your code.//main.css\n\ninput {\n  width: 300px;\n}\n\ninput::-webkit-input-placeholder {\n  color: red;\n}\ninput:-moz-placeholder {\n  color: red;\n}\ninput::-moz-placeholder {\n  color: red;\n}\ninput:-ms-input-placeholder {\n  color: red;\n}ShareImprove this answerFollowansweredOct 4, 2016 at 7:50community wikitrungvose\n\ntry this code for different input element different styleyour css selector::-webkit-input-placeholder { /*for webkit */\n    color:#909090;\n    opacity:1;\n}\n your css selector:-moz-placeholder { /*for mozilla */\n    color:#909090;\n    opacity:1;\n}\n your css selector:-ms-input-placeholder { /*for for internet exprolar */ \n   color:#909090;\n   opacity:1;\n}example 1:input[type=""text""]::-webkit-input-placeholder { /*for webkit */\n    color: red;\n    opacity:1;\n}\n input[type=""text""]:-moz-placeholder { /*for mozilla */\n    color: red;\n    opacity:1;\n}\n input[type=""text""]:-ms-input-placeholder { /*for for internet exprolar */ \n   color: red;\n   opacity:1;\n}example 2:input[type=""email""]::-webkit-input-placeholder { /*for webkit */\n    color: gray;\n    opacity:1;\n}\n input[type=""email""]:-moz-placeholder { /*for mozilla */\n    color: gray;\n    opacity:1;\n}\n input[type=""email""]:-ms-input-placeholder { /*for for internet exprolar */ \n   color: gray;\n   }ShareImprove this answerFollowansweredOct 13, 2017 at 6:47community wikiMd. Abu Sayed\n\nHere is one more example:.form-control::-webkit-input-placeholder {\r\n  color: red;\r\n  width: 250px;\r\n}\r\nh1 {\r\n  color: red;\r\n}<div class=""col-sm-4"">\r\n  <input class=""form-control"" placeholder=""Enter text here.."" ng-model=""Email"" required/>\r\n</div>ShareImprove this answerFollowansweredMay 31, 2016 at 9:21community wikiMahendra Kulkarni\n\nYou can change an HTML5 input\'s placeholder color with CSS.  If by chance, your CSS conflict, this code note working , you can use (!important) like below.::-webkit-input-placeholder { /* WebKit, Blink, Edge */\n    color:#909 !important;\n}\n:-moz-placeholder { /* Mozilla Firefox 4 to 18 */\n   color:#909 !important;\n   opacity:1 !important;\n}\n::-moz-placeholder { /* Mozilla Firefox 19+ */\n   color:#909 !important;\n   opacity:1 !important;\n}\n:-ms-input-placeholder { /* Internet Explorer 10-11 */\n   color:#909 !important;\n}\n::-ms-input-placeholder { /* Microsoft Edge */\n   color:#909 !important;\n}\n\n<input placeholder=""Stack Snippets are awesome!"">Hope this will help.ShareImprove this answerFolloweditedDec 21, 2017 at 8:10community wiki2 revs, 2 users 93%Deepak Kumar\n\nThis is fine for most of the modern browsersinput::placeholder{\n  color: red; // css implementation\n}Just in case if you are using SCSSinput {\n  &::placeholder {\n    color: red; // scss\n  }\n}ShareImprove this answerFolloweditedNov 3, 2021 at 6:43community wiki2 revsIsmoil Shokirov\n\nOK, placeholders behave differently in different browsers, so you need using browser prefix in your CSS to make them identical, for example Firefox gives a transparency to placeholder by default, so need to add opacity 1 to your css, plus the color, it\'s not a big concern most of the times, but good to have them consistent:*::-webkit-input-placeholder { /* WebKit browsers */\n    color:    #ccc;\n}\n*:-moz-placeholder { /* Mozilla Firefox <18 */\n    color:    #ccc;\n    opacity:  1;\n}\n*::-moz-placeholder { /* Mozilla Firefox 19+ */\n    color:    #ccc;\n    opacity:  1;\n}\n*:-ms-input-placeholder { /* Internet Explorer 10-11 */\n    color:    #ccc;\n}ShareImprove this answerFollowansweredMay 11, 2017 at 12:41community wikiAlireza\n\n::placeholder{\n  color: red;\n}<input type=""text"" placeholder=""Value"">ShareImprove this answerFolloweditedAug 28, 2022 at 20:31community wiki2 revs, 2 users 93%Sarvesh\n\nYou can use this for input and focus style:input::-webkit-input-placeholder  { color:#666;}\ninput:-moz-placeholder  { color:#666;}\ninput::-moz-placeholder { color:#666;}\ninput:-ms-input-placeholder  { color:#666;}\n/* focus */\ninput:focus::-webkit-input-placeholder { color:#eee; }\ninput:focus:-moz-placeholder { color:#eee } /* FF 4-18 */\ninput:focus::-moz-placeholder { color:#eee } /* FF 19+ */\ninput:focus:-ms-input-placeholder { color:#eee } /* IE 10+ */ShareImprove this answerFolloweditedMay 13, 2018 at 15:19community wiki2 revs, 2 users 92%fraweb\n\nThe easiest way would be:#yourInput::placeholder {\n    color: red;/*As an example*/\n}\n/* if that would not work, you can always try styling the attribute itself: */\n#myInput[placeholder] {\n    color: red;\n}ShareImprove this answerFollowansweredOct 27, 2018 at 20:41community wikicodeWithMe\n\nHere is the solution withCSS selectors::-webkit-input-placeholder { /* WebKit, Blink, Edge */\n    color:    #909;\n}:-moz-placeholder { /* Mozilla Firefox 4 to 18 */\n   color:    #909;\n   opacity:  1;\n}::-moz-placeholder { /* Mozilla Firefox 19+ */\n   color:    #909;\n   opacity:  1;\n}::-ms-input-placeholder { /* Microsoft Edge */\n   color:    #909;\n}:-ms-input-placeholder { /* Internet Explorer 10-11 */\n   color:    #909;\n}WebKit, Blink(Safari, Google Chrome, Opera 15+)andMicrosoft Edgeare using a pseudo-element:::-webkit-input-placeholder.Mozilla Firefox 4 to 18is using a pseudo-class::-moz-placeholder (one colon).Mozilla Firefox 19+is using a pseudo-element:::-moz-placeholder, but the old selector will still work for a while.Internet Explorer 10 and 11are using a pseudo-class::-ms-input-placeholder.Internet Explorer 9and lower does not support the placeholder attribute at all, while Opera 12 and lower do not support any CSS selector for placeholders.ShareImprove this answerFollowansweredSep 4, 2019 at 6:09community wikiMohammad Ayoub Khan'}"
4,"{'title': 'How do I remove a property from a JavaScript object?', 'question': 'Given an object:let myObject = {\n  ""ircEvent"": ""PRIVMSG"",\n  ""method"": ""newURI"",\n  ""regex"": ""^http://.*""\n};How do I remove the propertyregexto end up with the followingmyObject?let myObject = {\n  ""ircEvent"": ""PRIVMSG"",\n  ""method"": ""newURI""\n};javascriptobjectpropertiesShareImprove this questionFolloweditedAug 29, 2022 at 10:25SuperStormer5,35755 gold badges2828 silver badges3838 bronze badgesaskedOct 16, 2008 at 10:57johnstokjohnstok97.7k1212 gold badges5555 silver badges7676 bronze badges', 'answers': 'To remove a property from an object (mutating the object), you can do it by using thedeletekeyword, like this:delete myObject.regex;\n// or,\ndelete myObject[\'regex\'];\n// or,\nvar prop = ""regex"";\ndelete myObject[prop];Demovar myObject = {\n  ""ircEvent"": ""PRIVMSG"",\n  ""method"": ""newURI"",\n  ""regex"": ""^http://.*""\n};\ndelete myObject.regex;\n\nconsole.log(myObject);For anyone interested in reading more about it, Stack Overflow userkangaxhas written an incredibly in-depth blog post about thedeletestatement on their blog,Understanding delete. It is highly recommended.If you\'d like anewobject with all the keys of the original except some, you could usedestructuring.Demolet myObject = {\n  ""ircEvent"": ""PRIVMSG"",\n  ""method"": ""newURI"",\n  ""regex"": ""^http://.*""\n};\n\n// assign the key regex to the variable _ indicating it will be unused\nconst { regex: _, ...newObj } = myObject;\n\nconsole.log(newObj);   // has no \'regex\' key\nconsole.log(myObject); // remains unchangedShareImprove this answerFolloweditedFeb 28 at 18:28aerotop7555 bronze badgesansweredOct 16, 2008 at 10:58nickfnickf543k198198 gold badges654654 silver badges723723 bronze badges\n\nObjects in JavaScript can be thought of as maps between keys and values. Thedeleteoperator is used to remove these keys, more commonly known as object properties, one at a time.var obj = {\r\n  myProperty: 1    \r\n}\r\nconsole.log(obj.hasOwnProperty(\'myProperty\')) // true\r\ndelete obj.myProperty\r\nconsole.log(obj.hasOwnProperty(\'myProperty\')) // falseThedeleteoperator does not directly free memory, and it differs from simply assigning the value ofnullorundefinedto a property, in that the propertyitselfis removed from the object. Note that if thevalueof a deleted property was a reference type (an object), and another part of your program still holds a reference to that object, then that object will, of course, not be garbage collected until all references to it have disappeared.deletewill only work on properties whose descriptor marks them as configurable.ShareImprove this answerFolloweditedApr 18, 2020 at 19:28Ben Aston55.2k6767 gold badges214214 silver badges341341 bronze badgesansweredFeb 12, 2014 at 17:48DanDan57.3k4343 gold badges122122 silver badges158158 bronze badges\n\nOld question, modern answer. Using object destructuring, anECMAScript\xa06feature, it\'s as simple as:const { a, ...rest } = { a: 1, b: 2, c: 3 };Or with the questions sample:const myObject = {""ircEvent"": ""PRIVMSG"", ""method"": ""newURI"", ""regex"": ""^http://.*""};\nconst { regex, ...newObject } = myObject;\nconsole.log(newObject);You can see it in action in the Babel try-out editor.Edit:To reassign to the same variable, use alet:let myObject = {""ircEvent"": ""PRIVMSG"", ""method"": ""newURI"", ""regex"": ""^http://.*""};\n({ regex, ...myObject } = myObject);\nconsole.log(myObject);ShareImprove this answerFolloweditedDec 1, 2016 at 20:51answeredNov 8, 2016 at 18:02Koen.Koen.26.5k77 gold badges8585 silver badges7979 bronze badges\n\nvar myObject = {""ircEvent"": ""PRIVMSG"", ""method"": ""newURI"", ""regex"": ""^http://.*""};\n    \ndelete myObject.regex;\n\nconsole.log(myObject.regex); // logs: undefinedThis works in Firefox and Internet\xa0Explorer, and I think it works in all others.ShareImprove this answerFolloweditedOct 31, 2023 at 12:50answeredOct 16, 2008 at 11:03redsquareredsquare78.4k2121 gold badges153153 silver badges159159 bronze badges\n\nThedeleteoperator is used to remove properties from objects.const obj = { foo: ""bar"" };\n\ndelete obj.foo;\nobj.hasOwnProperty(""foo""); // falseNote that, for arrays,this is not the same as removing an element. To remove an element from an array, useArray#spliceorArray#pop. For example:arr;             // [0, 1, 2, 3, 4]\narr.splice(3,1); // 3\narr;             // [0, 1, 2, 4]DetailsStrictly speaking, it\'s impossible to truly delete anything in JavaScript. Thedeleteoperator neither deletes objects nor frees memory. Rather, it sets its operand toundefinedand manipulates the parent object so that the member is gone.let parent = {\n    member: { str: ""Hello"" }\n};\nlet secondref = parent.member;\n\ndelete parent.member;\nparent.member;        // undefined\nsecondref;            // { str: ""Hello"" }Theobjectis not deleted. Only the reference is. Memory is only freed\nby the garbage collector when all references to an object are removed.Another important caveat is that thedeleteoperator will not reorganize structures for you, which has results that can seem counterintuitive. Deleting an array index, for example, will leave a ""hole"" in it.let array = [0, 1, 2, 3]; // [0, 1, 2, 3]\ndelete array[2];          // [0, 1, empty, 3]This is because arraysareobjects. So indices are the same as keys.let fauxarray = {0: 1, 1: 2, length: 2};\nfauxarray.__proto__ = [].__proto__;\nfauxarray.push(3);\nfauxarray;                // [1, 2, 3]\nArray.isArray(fauxarray); // false\nArray.isArray([1, 2, 3]); // trueDifferent built-in functions in JavaScript handle arrays with holes in them differently.for..instatements will skip the empty index completely.A naiveforloop will yieldundefinedfor the value at the index.Any method usingSymbol.iteratorwill returnundefinedfor the value at the index.forEach,mapandreducewill simply skip the missing index,but will not remove itExample:let array = [1, 2, 3]; // [1,2,3]\ndelete array[1];       // [1, empty, 3]\narray.map(x => 0);     // [0, empty, 0]So, thedeleteoperator should not be used for the common use-case of removing elements from an array. Arrays have a dedicated methods for removing elements and reallocating memory:Array#splice()andArray#pop.Array#splice(start[, deleteCount[, item1[, item2[, ...]]]])Array#splicemutates the array, and returns any removed indices.deleteCountelements are removed from indexstart, anditem1, item2... itemNare inserted into the array from indexstart. IfdeleteCountis omitted then elements from startIndex are removed to the end of the array.let a = [0,1,2,3,4]\na.splice(2,2) // returns the removed elements [2,3]\n// ...and `a` is now [0,1,4]There is also a similarly named, but different, function onArray.prototype:Array#slice.Array#slice([begin[, end]])Array#sliceis non-destructive, and returns a new array containing the indicated indices fromstarttoend. Ifendis left unspecified, it defaults to the end of the array. Ifendis positive, it specifies the zero-basednon-inclusiveindex to stop at. Ifendis negative it, it specifies the index to stop at by counting back from the end of the array (eg. -1 will omit the final index). Ifend <= start, the result is an empty array.let a = [0,1,2,3,4]\nlet slices = [\n    a.slice(0,2),\n    a.slice(2,2),\n    a.slice(2,3),\n    a.slice(2,5) ]\n\n//   a           [0,1,2,3,4]\n//   slices[0]   [0 1]- - -   \n//   slices[1]    - - - - -\n//   slices[2]    - -[3]- -\n//   slices[3]    - -[2 4 5]Array#popArray#popremoves the last element from an array, and returns that element. This operation changes the length of the array. The opposite operation ispushArray#shiftArray#shiftis similar topop, except it removes the first element. The opposite operation isunshift.ShareImprove this answerFolloweditedMay 14, 2022 at 3:01answeredSep 18, 2012 at 0:56Braden BestBraden Best8,95833 gold badges3333 silver badges4646 bronze badges\n\nSpread Syntax(ES6)To completeKoen\'s answer, in case you want to remove a dynamic variable using the spread syntax, you can do it like so:const key = \'a\';\n\nconst { [key]: foo, ...rest } = { a: 1, b: 2, c: 3 };\n\nconsole.log(foo);  // 1\nconsole.log(rest); // { b: 2, c: 3 }*foowill be a new variable with the value ofa(which is 1).Extended Answer 😇There are a few common ways to remove a property from an object (or to address it as such).Each one has its own pros and cons (check this performance comparison):Delete OperatorIt is readable and short. However, it might not be the best choice if you are operating on a large number of objects, as its performance is not optimized.delete obj[key];Re-AssignmentIn certain conditions, it can be handy. It is more than two times faster than adeleteoperator, but both key and value arenotdeleted and can be iterated (or skipped).obj[key] = null;\nobj[key] = false;\nobj[key] = undefined;Spread OperatorThisES6operator allows us to return a brand new object, excluding any properties, without mutating the existing object. The downside is that it has the worst performance out of the above and is not recommended for use when you need to remove many properties at a time.{ [key]: val, ...rest } = obj;ShareImprove this answerFolloweditedJan 11 at 1:20answeredSep 12, 2018 at 18:39Lior ElromLior Elrom20.5k1616 gold badges8181 silver badges9393 bronze badges\n\nAnother alternative is to use theUnderscore.jslibrary.Note that_.pick()and_.omit()both return a copy of the object and don\'t directly modify the original object. Assigning the result to the original object should do the trick (not shown).Reference:link_.pick(object, *keys)Return a copy of the object, filtered to only have values for the \nwhitelisted keys (or array of valid keys).var myJSONObject = \n{""ircEvent"": ""PRIVMSG"", ""method"": ""newURI"", ""regex"": ""^http://.*""};\n\n_.pick(myJSONObject, ""ircEvent"", ""method"");\n=> {""ircEvent"": ""PRIVMSG"", ""method"": ""newURI""};Reference:link_.omit(object, *keys)Return a copy of the object, filtered to omit the \nblacklisted keys (or array of keys).var myJSONObject = \n{""ircEvent"": ""PRIVMSG"", ""method"": ""newURI"", ""regex"": ""^http://.*""};\n\n_.omit(myJSONObject, ""regex"");\n=> {""ircEvent"": ""PRIVMSG"", ""method"": ""newURI""};For arrays,_.filter()and_.reject()can be used in a similar manner.ShareImprove this answerFolloweditedFeb 3, 2018 at 19:51answeredMay 24, 2014 at 18:53Thaddeus AlbersThaddeus Albers4,16455 gold badges3434 silver badges4343 bronze badges\n\nTo clone an object without a property:For example:let object = { a: 1, b: 2, c: 3 };And we need to deletea.With anexplicit prop key:const { a, ...rest } = object;\nobject = rest;With avariable prop key:const propKey = \'a\';\nconst { [propKey]: propValue, ...rest } = object;\nobject = rest;A coolarrow function😎:const removeProperty = (propKey, { [propKey]: propValue, ...rest }) => rest;\n\nobject = removeProperty(\'a\', object);Formultiple propertiesconst removeProperties = (object, ...keys) => (keys.length ? removeProperties(removeProperty(keys.pop(), object), ...keys) : object);Usageobject = removeProperties(object, \'a\', \'b\') // result => { c: 3 }Orconst propsToRemove = [\'a\', \'b\']\nobject = removeProperties(object, ...propsToRemove) // result => { c: 3 }ShareImprove this answerFolloweditedJun 10, 2022 at 6:39xXx1,15311 gold badge1111 silver badges2424 bronze badgesansweredMay 7, 2019 at 20:35YairTawilYairTawil4,06111 gold badge2323 silver badges2121 bronze badges\n\nThe term you have used in your question title,Remove a property from a JavaScript object, can be interpreted in some different ways. The one is to remove it for whole the memory and the list of object keys or the other is just to remove it from your object. As it has been mentioned in some other answers, thedeletekeyword is the main part. Let\'s say you have your object like:myJSONObject = {""ircEvent"": ""PRIVMSG"", ""method"": ""newURI"", ""regex"": ""^http://.*""};If you do:console.log(Object.keys(myJSONObject));the result would be:[""ircEvent"", ""method"", ""regex""]You can delete that specific key from your object keys like:delete myJSONObject[""regex""];Then your objects key usingObject.keys(myJSONObject)would be:[""ircEvent"", ""method""]But the point is if you care about memory and you want to whole the object gets removed from the memory, it is recommended to set it to null before you delete the key:myJSONObject[""regex""] = null;\ndelete myJSONObject[""regex""];The other important point here is to be careful about your other references to the same object. For instance, if you create a variable like:var regex = myJSONObject[""regex""];Or add it as a new pointer to another object like:var myOtherObject = {};\nmyOtherObject[""regex""] = myJSONObject[""regex""];Then even if you remove it from your objectmyJSONObject, that specific object won\'t get deleted from the memory, since theregexvariable andmyOtherObject[""regex""]still have their values. Then how could we remove the object from the memory for sure?The answer would be todelete all the references you have in your code, pointed to that very objectand alsonot usevarstatements to create new references to that object. This last point regardingvarstatements, is one of the most crucial issues that we are usually faced with, because usingvarstatements would prevent the created object from getting removed.Which means in this case you won\'t be able to remove that object because you have created theregexvariable via avarstatement, and if you do:delete regex; //FalseThe result would befalse, which means that your delete statement haven\'t been executed as you expected. But if you had not created that variable before, and you only hadmyOtherObject[""regex""]as your last existing reference, you could have done this just by removing it like:myOtherObject[""regex""] = null;\ndelete myOtherObject[""regex""];In other words, a JavaScript object is eligible to be killed as soon as there is no reference left in your code pointed to that object.Update:Thanks to @AgentME:Setting a property to null before deleting it doesn\'t accomplish\nanything (unless the object has been sealed by Object.seal and the\ndelete fails. That\'s not usually the case unless you specifically\ntry).To get more information onObject.seal:Object.seal()ShareImprove this answerFolloweditedNov 16, 2022 at 11:51answeredFeb 12, 2014 at 6:29Mehran HatamiMehran Hatami12.9k66 gold badges2929 silver badges3636 bronze badges\n\nECMAScript 2015 (or ES6) came with built-inReflectobject. It is possible to delete object property by callingReflect.deleteProperty()function with target object and property key as parameters:Reflect.deleteProperty(myJSONObject, \'regex\');which is equivalent to:delete myJSONObject[\'regex\'];But if the property of the object is not configurable it cannot be deleted neither with deleteProperty function nor delete operator:let obj = Object.freeze({ prop: ""value"" });\nlet success = Reflect.deleteProperty(obj, ""prop"");\nconsole.log(success); // false\nconsole.log(obj.prop); // valueObject.freeze()makes all properties of object not configurable (besides other things).deletePropertyfunction (as well asdelete operator) returnsfalsewhen tries to delete any of it\'s properties. If property is configurable it returnstrue, even if property does not exist.The difference betweendeleteanddeletePropertyis when using strict mode:""use strict"";\n\nlet obj = Object.freeze({ prop: ""value"" });\nReflect.deleteProperty(obj, ""prop""); // false\ndelete obj[""prop""];\n// TypeError: property ""prop"" is non-configurable and can\'t be deletedShareImprove this answerFolloweditedJan 25, 2016 at 17:22answeredJan 10, 2016 at 16:36madox2madox251.2k2020 gold badges102102 silver badges100100 bronze badges\n\nSuppose you have an object that looks like this:var Hogwarts = {\n    staff : [\n        \'Argus Filch\',\n        \'Filius Flitwick\',\n        \'Gilderoy Lockhart\',\n        \'Minerva McGonagall\',\n        \'Poppy Pomfrey\',\n        ...\n    ],\n    students : [\n        \'Hannah Abbott\',\n        \'Katie Bell\',\n        \'Susan Bones\',\n        \'Terry Boot\',\n        \'Lavender Brown\',\n        ...\n    ]\n};Deleting an object propertyIf you want to use the entirestaffarray, the proper way to do this, would be to do this:delete Hogwarts.staff;Alternatively, you could also do this:delete Hogwarts[\'staff\'];Similarly, removing the entire students array would be done by callingdelete Hogwarts.students;ordelete Hogwarts[\'students\'];.Deleting an array indexNow, if you want to remove a single staff member or student, the procedure is a bit different, because both properties are arrays themselves.If you know the index of your staff member, you could simply do this:Hogwarts.staff.splice(3, 1);If you do not know the index, you\'ll also have to do an index search:Hogwarts.staff.splice(Hogwarts.staff.indexOf(\'Minerva McGonnagall\') - 1, 1);NoteWhile you technically can usedeletefor an array, using it would result in getting incorrect results when calling for exampleHogwarts.staff.lengthlater on. In other words,deletewould remove the element, but it wouldn\'t update the value oflengthproperty. Usingdeletewould also mess up your indexing.So, when deleting values from an object, always first consider whether you\'re dealing with object properties or whether you\'re dealing with array values, and choose the appropriate strategy based on that.If you want to experiment with this, you can usethis Fiddleas a starting point.ShareImprove this answerFolloweditedNov 23, 2016 at 9:17answeredFeb 21, 2016 at 18:09John SlegersJohn Slegers46.5k2222 gold badges202202 silver badges170170 bronze badges\n\nI personally useUnderscore.jsorLodashfor object and array manipulation:myObject = _.omit(myObject, \'regex\');ShareImprove this answerFolloweditedJan 21, 2019 at 11:24answeredJan 22, 2016 at 2:29emilemil6,31444 gold badges3131 silver badges3838 bronze badges\n\nUsingdeletemethod is the best way to do that, as per MDN description, the delete operator removes a property from an object. So you can simply write:delete myObject.regex;\n// OR\ndelete myObject[\'regex\'];The delete operator removes a given property from an object. On\nsuccessful deletion, it will return true, else false will be returned.\nHowever, it is important to consider the following scenarios:If the property which you are trying to delete does not exist, delete\nwill not have any effect and will return trueIf a property with the same name exists on the object\'s prototype\nchain, then, after deletion, the object will use the property from the\nprototype chain (in other words, delete only has an effect on own\nproperties).Any property declared with var cannot be deleted from the global scope\nor from a function\'s scope.As such, delete cannot delete any functions in the global scope (whether this is part of a function definition or a function  (expression).Functions which are part of an object (apart from theglobal scope) can be deleted with delete.Any property declared with let or const cannot be deleted from the scope within which they were defined. Non-configurable properties cannot be removed. This includes properties of built-in objects like Math, Array, Object and properties that are created as non-configurable with methods like Object.defineProperty().The following snippet gives another simple example:var Employee = {\n  age: 28,\n  name: \'Alireza\',\n  designation: \'developer\'\n}\n\nconsole.log(delete Employee.name);   // returns true\nconsole.log(delete Employee.age);    // returns true\n\n// When trying to delete a property that does \n// not exist, true is returned \nconsole.log(delete Employee.salary); // returns trueFor more info about and seeing more examples visit the link below:https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/deleteShareImprove this answerFolloweditedJun 10, 2022 at 7:23xXx1,15311 gold badge1111 silver badges2424 bronze badgesansweredApr 7, 2017 at 16:16AlirezaAlireza103k2727 gold badges275275 silver badges173173 bronze badges\n\nThere are a few of ways of removing properties from an object:1) Remove using the dot property accessor (mutable)const myObject = {\n  ""ircEvent"": ""PRIVMSG"",\n  ""method"": ""newURI"",\n  ""regex"": ""^http://.*"",\n};\n\ndelete myObject.regex;\nconsole.log(myObject);2. Remove using square brackets property accessor (mutable)const myObject = {\n      ""ircEvent"": ""PRIVMSG"",\n      ""method"": ""newURI"",\n      ""regex"": ""^http://.*"",\n    };\n\ndelete myObject[\'regex\'];\nconsole.log(myObject);\n// or\nconst name = \'ircEvent\';\ndelete myObject[name];\nconsole.log(myObject);3) Removing without altering the original object is possible by using object destructuring and rest syntax (immutable)const myObject = {\n      ""ircEvent"": ""PRIVMSG"",\n      ""method"": ""newURI"",\n      ""regex"": ""^http://.*"",\n    };\n\nconst { regex, ...myObjectRest} = myObject;\nconsole.log(myObjectRest);ShareImprove this answerFolloweditedFeb 17 at 10:47answeredDec 18, 2021 at 17:05Ran TurnerRan Turner17.1k99 gold badges5555 silver badges5858 bronze badges\n\nAnother solution, usingArray#reduce.var myObject = {\r\n  ""ircEvent"": ""PRIVMSG"",\r\n  ""method"": ""newURI"",\r\n  ""regex"": ""^http://.*""\r\n};\r\n\r\nmyObject = Object.keys(myObject).reduce(function(obj, key) {\r\n  if (key != ""regex"") {           //key you want to remove\r\n    obj[key] = myObject[key];\r\n  }\r\n  return obj;\r\n}, {});\r\n\r\nconsole.log(myObject);However, it willmutatethe original object. If you want to create a new objectwithoutthe specified key, just assign the reduce function to a new variable, e.g.:(ES6)const myObject = {\r\n  ircEvent: \'PRIVMSG\',\r\n  method: \'newURI\',\r\n  regex: \'^http://.*\',\r\n};\r\n\r\nconst myNewObject = Object.keys(myObject).reduce((obj, key) => {\r\n  key !== \'regex\' ? obj[key] = myObject[key] : null;\r\n  return obj;\r\n}, {});\r\n\r\nconsole.log(myNewObject);ShareImprove this answerFolloweditedOct 24, 2017 at 9:58answeredMar 26, 2017 at 15:19kind userkind user41.6k88 gold badges6767 silver badges7878 bronze badges\n\nThere are a lot of good answers here but I just want to chime in that when using delete to remove a property in JavaScript, it is often wise to first check if that property exists to prevent errors.E.gvar obj = {""property"":""value"", ""property2"":""value""};\n\nif (obj && obj.hasOwnProperty(""property2"")) {\n  delete obj.property2;\n} else {\n  //error handling\n}Due to the dynamic nature of JavaScript there are often cases where you simply don\'t know if the property exists or not. Checking if obj exists before the && also makes sure you don\'t throw an error due to calling the hasOwnProperty() function on an undefined object.Sorry if this didn\'t add to your specific use case but I believe this to be a good design to adapt when managing objects and their properties.ShareImprove this answerFollowansweredSep 15, 2014 at 0:48WillemWillem1,10411 gold badge1212 silver badges2424 bronze badges\n\nThis post is very old and I find it very helpful so I decided to share the unset function I wrote in case someone else see this post and think why it\'s not so simple as it in PHP unset function.The reason for writing this newunsetfunction, is to keep the index of all other variables in this hash_map. Look at the following example, and see how the index of ""test2"" did not change after removing a value from the hash_map.function unset(unsetKey, unsetArr, resort) {\n  var tempArr = unsetArr;\n  var unsetArr = {};\n  delete tempArr[unsetKey];\n  if (resort) {\n    j = -1;\n  }\n  for (i in tempArr) {\n    if (typeof(tempArr[i]) !== \'undefined\') {\n      if (resort) {\n        j++;\n      } else {\n        j = i;\n      }\n      unsetArr[j] = tempArr[i];\n    }\n  }\n  return unsetArr;\n}\n\nvar unsetArr = [\'test\', \'deletedString\', \'test2\'];\n\nconsole.log(unset(\'1\', unsetArr, true)); // output Object {0: ""test"", 1: ""test2""}\nconsole.log(unset(\'1\', unsetArr, false)); // output Object {0: ""test"", 2: ""test2""}ShareImprove this answerFolloweditedJan 30, 2021 at 20:18CertainPerformance367k5454 gold badges336336 silver badges345345 bronze badgesansweredDec 1, 2014 at 7:33talsibonytalsibony8,65666 gold badges4848 silver badges4747 bronze badges\n\nUsingramda#dissocyou will get a new object without the attributeregex:const newObject = R.dissoc(\'regex\', myObject);\n// newObject !== myObjectYou can also use other functions to achieve the same effect - omit, pick, ...ShareImprove this answerFollowansweredNov 28, 2016 at 15:14Amio.ioAmio.io21.3k1515 gold badges8484 silver badges118118 bronze badges\n\nTry the following method. Assign theObjectproperty value toundefined. Thenstringifythe object andparse.var myObject = {""ircEvent"": ""PRIVMSG"", ""method"": ""newURI"", ""regex"": ""^http://.*""};\r\n\r\nmyObject.regex = undefined;\r\nmyObject = JSON.parse(JSON.stringify(myObject));\r\n\r\nconsole.log(myObject);ShareImprove this answerFolloweditedNov 22, 2016 at 22:12Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJul 6, 2016 at 14:51Mohammed SafeerMohammed Safeer21.3k88 gold badges7777 silver badges7979 bronze badges\n\nUsingLodashimport omit from \'lodash/omit\';\n\nconst prevObject = {test: false, test2: true};\n// Removes test2 key from previous object\nconst nextObject = omit(prevObject, \'test2\');Using RamdaR.omit([\'a\', \'d\'], {a: 1, b: 2, c: 3, d: 4}); //=> {b: 2, c: 3}ShareImprove this answerFolloweditedJul 19, 2021 at 12:09Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredSep 14, 2017 at 14:14johndavedecanojohndavedecano52255 silver badges1212 bronze badges\n\nIf you want to delete a property deeply nested in the object then you can use the following recursive function with path to the property as the second argument:var deepObjectRemove = function(obj, path_to_key){\n    if(path_to_key.length === 1){\n        delete obj[path_to_key[0]];\n        return true;\n    }else{\n        if(obj[path_to_key[0]])\n            return deepObjectRemove(obj[path_to_key[0]], path_to_key.slice(1));\n        else\n            return false;\n    }\n};Example:var a = {\n    level1:{\n        level2:{\n            level3: {\n                level4: ""yolo""\n            }\n        }\n    }\n};\n\ndeepObjectRemove(a, [""level1"", ""level2"", ""level3""]);\nconsole.log(a);\n\n//Prints {level1: {level2: {}}}ShareImprove this answerFollowansweredJun 23, 2016 at 9:38ayushgpayushgp5,0311010 gold badges4444 silver badges7878 bronze badges\n\nObject.assign() & Object.keys() & Array.map()const obj = {\r\n    ""Filters"":[\r\n        {\r\n            ""FilterType"":""between"",\r\n            ""Field"":""BasicInformationRow.A0"",\r\n            ""MaxValue"":""2017-10-01"",\r\n            ""MinValue"":""2017-09-01"",\r\n            ""Value"":""Filters value""\r\n        }\r\n    ]\r\n};\r\n\r\nlet new_obj1 = Object.assign({}, obj.Filters[0]);\r\nlet new_obj2 = Object.assign({}, obj.Filters[0]);\r\n\r\n/*\r\n\r\n// old version\r\n\r\nlet shaped_obj1 = Object.keys(new_obj1).map(\r\n    (key, index) => {\r\n        switch (key) {\r\n            case ""MaxValue"":\r\n                delete new_obj1[""MaxValue""];\r\n                break;\r\n            case ""MinValue"":\r\n                delete new_obj1[""MinValue""];\r\n                break;\r\n        }\r\n        return new_obj1;\r\n    }\r\n)[0];\r\n\r\n\r\nlet shaped_obj2 = Object.keys(new_obj2).map(\r\n    (key, index) => {\r\n        if(key === ""Value""){\r\n            delete new_obj2[""Value""];\r\n        }\r\n        return new_obj2;\r\n    }\r\n)[0];\r\n\r\n\r\n*/\r\n\r\n\r\n// new version!\r\n\r\nlet shaped_obj1 = Object.keys(new_obj1).forEach(\r\n    (key, index) => {\r\n        switch (key) {\r\n            case ""MaxValue"":\r\n                delete new_obj1[""MaxValue""];\r\n                break;\r\n            case ""MinValue"":\r\n                delete new_obj1[""MinValue""];\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n);\r\n\r\nlet shaped_obj2 = Object.keys(new_obj2).forEach(\r\n    (key, index) => {\r\n        if(key === ""Value""){\r\n            delete new_obj2[""Value""];\r\n        }\r\n    }\r\n);ShareImprove this answerFolloweditedNov 10, 2017 at 6:36answeredSep 19, 2017 at 8:37user8629798user8629798\n\nDan\'s assertionthat \'delete\' is very slow and the benchmark he posted were doubted. So I carried out the test myself in Chrome 59. It does seem that \'delete\' is about 30 times slower:var iterationsTotal = 10000000;  // 10 million\nvar o;\nvar t1 = Date.now(),t2;\nfor (let i=0; i<iterationsTotal; i++) {\n   o = {a:1,b:2,c:3,d:4,e:5};\n   delete o.a; delete o.b; delete o.c; delete o.d; delete o.e;\n}\nconsole.log ((t2=Date.now())-t1);  // 6135\nfor (let i=0; i<iterationsTotal; i++) {\n   o = {a:1,b:2,c:3,d:4,e:5};\n   o.a = o.b = o.c = o.d = o.e = undefined;\n}\nconsole.log (Date.now()-t2);  // 205Note that I purposely carried out more than one \'delete\' operations in one loop cycle to minimize the effect caused by the other operations.ShareImprove this answerFolloweditedJul 6, 2022 at 13:53answeredJul 26, 2017 at 7:19Chong Lip PhangChong Lip Phang9,12966 gold badges7171 silver badges108108 bronze badges\n\nProperty Removal in JavaScriptThere are many different options presented on this page, not because most of the options are wrong—or because the answers are duplicates—but because the appropriate technique depends on the situation you\'re in and the goals of the tasks you and/or you team are trying to fulfill. To answer you question unequivocally, one needs to know:The version of ECMAScript you\'re targetingThe range of object types you want to remove properties on and the type of property names you need to be able to omit (Strings only? Symbols? Weak references mapped from arbitrary objects? These have all been types of property pointers in JavaScript for years now)The programming ethos/patterns you and your team use. Do you favor functional approaches and mutation is verboten on your team, or do you employ wild west mutative object-oriented techniques?Are you looking to achieve this in pure JavaScript or are you willing & able to use a 3rd-party library?Once those four queries have been answered, there are essentially four categories of ""property removal"" in JavaScript to chose from in order to meet your goals. They are:Mutative object property deletion, unsafeThis category is for operating on object literals or object instances when you want to retain/continue to use the original reference and aren\'t using stateless functional principles in your code. An example piece of syntax in this category:\'use strict\'\nconst iLikeMutatingStuffDontI = { myNameIs: \'KIDDDDD!\', [Symbol.for(\'amICool\')]: true }\ndelete iLikeMutatingStuffDontI[Symbol.for(\'amICool\')] // true\nObject.defineProperty({ myNameIs: \'KIDDDDD!\', \'amICool\', { value: true, configurable: false })\ndelete iLikeMutatingStuffDontI[\'amICool\'] // throwsThis category is the oldest, most straightforward & most widely supported category of property removal. It supportsSymbol& array indexes in addition to strings and works in every version of JavaScript except for the very first release. However, it\'s mutative which violates some programming principles and has performance implications. It also can result in uncaught exceptions when used onnon-configurable properties in strict mode.Rest-based string property omissionThis category is for operating on plain object or array instances in newer ECMAScript flavors when a non-mutative approach is desired and you don\'t need to account for Symbol keys:const foo = { name: \'KIDDDDD!\', [Symbol.for(\'isCool\')]: true }\nconst { name, ...coolio } = foo // coolio doesn\'t have ""name""\nconst { isCool, ...coolio2 } = foo // coolio2 has everything from `foo` because `isCool` doesn\'t account for Symbols :(Mutative object property deletion, safeThis category is for operating on object literals or object instances when you want to retain/continue to use the original reference while guarding against exceptions being thrown on unconfigurable properties:\'use strict\'\nconst iLikeMutatingStuffDontI = { myNameIs: \'KIDDDDD!\', [Symbol.for(\'amICool\')]: true }\nReflect.deleteProperty(iLikeMutatingStuffDontI, Symbol.for(\'amICool\')) // true\nObject.defineProperty({ myNameIs: \'KIDDDDD!\', \'amICool\', { value: true, configurable: false })\nReflect.deleteProperty(iLikeMutatingStuffDontI, \'amICool\') // falseIn addition, while mutating objects in-place isn\'t stateless, you can use the functional nature ofReflect.deletePropertyto do partial application and other functional techniques that aren\'t possible withdeletestatements.Syntax-based string property omissionThis category is for operating on plain object or array instances in newer ECMAScript flavors when a non-mutative approach is desired and you don\'t need to account for Symbol keys:const foo = { name: \'KIDDDDD!\', [Symbol.for(\'isCool\')]: true }\nconst { name, ...coolio } = foo // coolio doesn\'t have ""name""\nconst { isCool, ...coolio2 } = foo // coolio2 has everything from `foo` because `isCool` doesn\'t account for Symbols :(Library-based property omissionThis category is generally allows for greater functional flexibility, including accounting for Symbols & omitting more than one property in one statement:const o = require(""lodash.omit"")\nconst foo = { [Symbol.for(\'a\')]: \'abc\', b: \'b\', c: \'c\' }\nconst bar = o(foo, \'a\') // ""\'a\' undefined""\nconst baz = o(foo, [ Symbol.for(\'a\'), \'b\' ]) // Symbol supported, more than one prop at a time, ""Symbol.for(\'a\') undefined""ShareImprove this answerFollowansweredDec 14, 2017 at 2:35james_womackjames_womack10.2k77 gold badges5757 silver badges7676 bronze badges\n\nHere\'s an ES6 way to remove the entry easily:let myObject = {\n  ""ircEvent"": ""PRIVMSG"",\n  ""method"": ""newURI"",\n  ""regex"": ""^http://.*""\n};\n\nconst removeItem = \'regex\';\n\nconst { [removeItem]: remove, ...rest } = myObject;\n\nconsole.log(remove); // ""^http://.*""\nconsole.log(rest); // Object { ircEvent: ""PRIVMSG"", method: ""newURI"" }ShareImprove this answerFolloweditedJun 23, 2021 at 20:34Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJan 18, 2021 at 15:54John DoeJohn Doe1,14233 gold badges1414 silver badges2929 bronze badges\n\n@johnstock, we can also use JavaScript\'s prototyping concept to add method to objects to delete any passed key available in calling object.Above answers are appreciated.var myObject = {\n  ""ircEvent"": ""PRIVMSG"",\n  ""method"": ""newURI"",\n  ""regex"": ""^http://.*""\n};\n\n// 1st and direct way \ndelete myObject.regex; // delete myObject[""regex""]\nconsole.log(myObject); // { ircEvent: \'PRIVMSG\', method: \'newURI\' }\n\n// 2 way -  by using the concept of JavaScript\'s prototyping concept\nObject.prototype.removeFromObjectByKey = function(key) {\n  // If key exists, remove it and return true\n  if (this[key] !== undefined) {\n    delete this[key]\n    return true;\n  }\n  // Else return false\n  return false;\n}\n\nvar isRemoved = myObject.removeFromObjectByKey(\'method\')\nconsole.log(myObject) // { ircEvent: \'PRIVMSG\' }\n\n// More examples\nvar obj = {\n  a: 45,\n  b: 56,\n  c: 67\n}\nconsole.log(obj) // { a: 45, b: 56, c: 67 }\n\n// Remove key \'a\' from obj\nisRemoved = obj.removeFromObjectByKey(\'a\')\nconsole.log(isRemoved); //true\nconsole.log(obj); // { b: 56, c: 67 }\n\n// Remove key \'d\' from obj which doesn\'t exist\nvar isRemoved = obj.removeFromObjectByKey(\'d\')\nconsole.log(isRemoved); // false\nconsole.log(obj); // { b: 56, c: 67 }ShareImprove this answerFolloweditedJan 30, 2021 at 20:19CertainPerformance367k5454 gold badges336336 silver badges345345 bronze badgesansweredMay 24, 2018 at 18:42hygullhygull8,65822 gold badges4545 silver badges5454 bronze badges\n\nYou can use a filter like belowvar myObject = {\n    ""ircEvent"": ""PRIVMSG"",\n    ""method"": ""newURI"",\n    ""regex"": ""^http://.*""\n};\n\n// Way 1\n\nlet filter1 = {}\n  Object.keys({...myObject}).filter(d => {\n  if(d !== \'regex\'){\n    filter1[d] = myObject[d];\n  }\n})\n\nconsole.log(filter1)\n\n// Way 2\n\nlet filter2 = Object.fromEntries(Object.entries({...myObject}).filter(d =>\nd[0] !== \'regex\'\n))\n\nconsole.log(filter2)ShareImprove this answerFolloweditedJun 23, 2021 at 20:43Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredSep 18, 2019 at 10:59ANIK ISLAM SHOJIBANIK ISLAM SHOJIB3,17233 gold badges2828 silver badges4444 bronze badges\n\nI have usedLodash ""unset""to make it happen for a nested object also... only this needs to write small logic to get the path of the property key which is expected by theomitmethod.Method which returns the property path as an arrayvar a = {""bool"":{""must"":[{""range"":{""price_index.final_price"":{""gt"":""450"", ""lt"":""500""}}}, {""bool"":{""should"":[{""term"":{""color_value.keyword"":""Black""}}]}}]}};\n\nfunction getPathOfKey(object,key,currentPath, t){\n    var currentPath = currentPath || [];\n\n    for(var i in object){\n        if(i == key){\n            t = currentPath;\n        }\n        else if(typeof object[i] == ""object""){\n            currentPath.push(i)\n            return getPathOfKey(object[i], key,currentPath)\n        }\n    }\n    t.push(key);\n    return t;\n}\ndocument.getElementById(""output"").innerHTML =JSON.stringify(getPathOfKey(a,""price_index.final_price""))<div id=""output"">\n\n</div>Then just usingLodash unsetmethod remove property from object.var unset = require(\'lodash.unset\');\nunset(a, getPathOfKey(a, ""price_index.final_price""));ShareImprove this answerFolloweditedJul 19, 2021 at 12:12Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredSep 29, 2017 at 8:03BEJGAM SHIVA PRASADBEJGAM SHIVA PRASAD2,23111 gold badge1818 silver badges2828 bronze badges\n\nlet myObject = {\n    ""ircEvent"": ""PRIVMSG"",\n    ""method"": ""newURI"",\n    ""regex"": ""^http://.*""\n};\n\n\nobj = Object.fromEntries(\n    Object.entries(myObject).filter(function (m){\n        return m[0] != ""regex""/*or whatever key to delete*/\n    }\n))\n\nconsole.log(obj)You can also just treat the object likea2darray usingObject.entries, and use splice to remove an element as you would in a normal array, or simply filter through the object, as one would an array, and assign the reconstructed object back to the original variableShareImprove this answerFolloweditedOct 20, 2020 at 3:36Derek Wang10.2k44 gold badges1919 silver badges4040 bronze badgesansweredSep 16, 2020 at 5:56B\'\'H Bi\'ezras -- Boruch HashemB\'\'H Bi\'ezras -- Boruch Hashem1\n\nIf you don\'t want to modify the original object.Remove a property without mutating the objectIf mutability is a concern, you can create a completely new object by copying all the properties from the old, except the one you want to remove.let myObject = {\n  ""ircEvent"": ""PRIVMSG"",\n  ""method"": ""newURI"",\n  ""regex"": ""^http://.*""\n};\n\nlet prop = \'regex\';\nconst updatedObject = Object.keys(myObject).reduce((object, key) => {\n  if (key !== prop) {\n    object[key] = myObject[key]\n  }\n  return object\n}, {})\n\nconsole.log(updatedObject);ShareImprove this answerFollowansweredNov 17, 2020 at 4:37akhtarvahidakhtarvahid9,70322 gold badges2929 silver badges3131 bronze badges'}","{'title': 'How do I merge two dictionaries in a single expression in Python?', 'question': ""I want to merge two dictionaries into a new dictionary.x = {'a': 1, 'b': 2}\ny = {'b': 3, 'c': 4}\nz = merge(x, y)\n\n>>> z\n{'a': 1, 'b': 3, 'c': 4}Whenever a keykis present in both dictionaries, only the valuey[k]should be kept.pythondictionarymergeShareImprove this questionFolloweditedFeb 12, 2023 at 7:03Muhammad Asadullah3,77311 gold badge2323 silver badges3838 bronze badgesaskedSep 2, 2008 at 7:44Carl MeyerCarl Meyer125k2020 gold badges108108 silver badges117117 bronze badges"", 'answers': 'How can I merge two Python dictionaries in a single expression?For dictionariesxandy, their shallowly-merged dictionaryztakes values fromy, replacing those fromx.In Python 3.9.0 or greater (released 17 October 2020,PEP-584,discussed here):z = x | yIn Python 3.5 or greater:z = {**x, **y}In Python 2, (or 3.4 or lower) write a function:def merge_two_dicts(x, y):\n    z = x.copy()   # start with keys and values of x\n    z.update(y)    # modifies z with keys and values of y\n    return zand now:z = merge_two_dicts(x, y)ExplanationSay you have two dictionaries and you want to merge them into a new dictionary without altering the original dictionaries:x = {\'a\': 1, \'b\': 2}\ny = {\'b\': 3, \'c\': 4}The desired result is to get a new dictionary (z) with the values merged, and the second dictionary\'s values overwriting those from the first.>>> z\n{\'a\': 1, \'b\': 3, \'c\': 4}A new syntax for this, proposed inPEP 448andavailable as of Python 3.5, isz = {**x, **y}And it is indeed a single expression.Note that we can merge in with literal notation as well:z = {**x, \'foo\': 1, \'bar\': 2, **y}and now:>>> z\n{\'a\': 1, \'b\': 3, \'foo\': 1, \'bar\': 2, \'c\': 4}It is now showing as implemented in therelease schedule for 3.5, PEP 478, and it has now made its way into theWhat\'s New in Python 3.5document.However, since many organizations are still on Python 2, you may wish to do this in a backward-compatible way. The classically Pythonic way, available in Python 2 and Python 3.0-3.4, is to do this as a two-step process:z = x.copy()\nz.update(y) # which returns None since it mutates zIn both approaches,ywill come second and its values will replacex\'s values, thusbwill point to3in our final result.Not yet on Python 3.5, but want asingle expressionIf you are not yet on Python 3.5 or need to write backward-compatible code, and you want this in asingle expression, the most performant while the correct approach is to put it in a function:def merge_two_dicts(x, y):\n    """"""Given two dictionaries, merge them into a new dict as a shallow copy.""""""\n    z = x.copy()\n    z.update(y)\n    return zand then you have a single expression:z = merge_two_dicts(x, y)You can also make a function to merge an arbitrary number of dictionaries, from zero to a very large number:def merge_dicts(*dict_args):\n    """"""\n    Given any number of dictionaries, shallow copy and merge into a new dict,\n    precedence goes to key-value pairs in latter dictionaries.\n    """"""\n    result = {}\n    for dictionary in dict_args:\n        result.update(dictionary)\n    return resultThis function will work in Python 2 and 3 for all dictionaries. e.g. given dictionariesatog:z = merge_dicts(a, b, c, d, e, f, g)and key-value pairs ingwill take precedence over dictionariesatof, and so on.Critiques of Other AnswersDon\'t use what you see in the formerly accepted answer:z = dict(x.items() + y.items())In Python 2, you create two lists in memory for each dict, create a third list in memory with length equal to the length of the first two put together, and then discard all three lists to create the dict.In Python 3, this will failbecause you\'re adding twodict_itemsobjects together, not two lists ->>> c = dict(a.items() + b.items())\nTraceback (most recent call last):\n  File ""<stdin>"", line 1, in <module>\nTypeError: unsupported operand type(s) for +: \'dict_items\' and \'dict_items\'and you would have to explicitly create them as lists, e.g.z = dict(list(x.items()) + list(y.items())). This is a waste of resources and computation power.Similarly, taking the union ofitems()in Python 3 (viewitems()in Python 2.7) will also fail when values are unhashable objects (like lists, for example). Even if your values are hashable,since sets are semantically unordered, the behavior is undefined in regards to precedence. So don\'t do this:>>> c = dict(a.items() | b.items())This example demonstrates what happens when values are unhashable:>>> x = {\'a\': []}\n>>> y = {\'b\': []}\n>>> dict(x.items() | y.items())\nTraceback (most recent call last):\n  File ""<stdin>"", line 1, in <module>\nTypeError: unhashable type: \'list\'Here\'s an example whereyshould have precedence, but instead the value fromxis retained due to the arbitrary order of sets:>>> x = {\'a\': 2}\n>>> y = {\'a\': 1}\n>>> dict(x.items() | y.items())\n{\'a\': 2}Another hack you should not use:z = dict(x, **y)This uses thedictconstructor and is very fast and memory-efficient (even slightly more so than our two-step process) but unless you know precisely what is happening here (that is, the second dict is being passed as keyword arguments to the dict constructor), it\'s difficult to read, it\'s not the intended usage, and so it is not Pythonic.Here\'s an example of the usage beingremediated in django.Dictionaries are intended to take hashable keys (e.g.frozensets or tuples), butthis method fails in Python 3 when keys are not strings.>>> c = dict(a, **b)\nTraceback (most recent call last):\n  File ""<stdin>"", line 1, in <module>\nTypeError: keyword arguments must be stringsFrom themailing list, Guido van Rossum, the creator of the language, wrote:I am fine with\ndeclaring dict({}, **{1:3}) illegal, since after all it is abuse of\nthe ** mechanism.andApparently dict(x, **y) is going around as ""cool hack"" for ""call\nx.update(y) and return x"". Personally, I find it more despicable than\ncool.It is my understanding (as well as the understanding of thecreator of the language) that the intended usage fordict(**y)is for creating dictionaries for readability purposes, e.g.:dict(a=1, b=10, c=11)instead of{\'a\': 1, \'b\': 10, \'c\': 11}Response to commentsDespite what Guido says,dict(x, **y)is in line with the dict specification, which btw. works for both Python 2 and 3. The fact that this only works for string keys is a direct consequence of how keyword parameters work and not a short-coming of dict. Nor is using the ** operator in this place an abuse of the mechanism, in fact, ** was designed precisely to pass dictionaries as keywords.Again, it doesn\'t work for 3 when keys are not strings. The implicit calling contract is that namespaces take ordinary dictionaries, while users must only pass keyword arguments that are strings. All other callables enforced it.dictbroke this consistency in Python 2:>>> foo(**{(\'a\', \'b\'): None})\nTraceback (most recent call last):\n  File ""<stdin>"", line 1, in <module>\nTypeError: foo() keywords must be strings\n>>> dict(**{(\'a\', \'b\'): None})\n{(\'a\', \'b\'): None}This inconsistency was bad given other implementations of Python (PyPy, Jython, IronPython). Thus it was fixed in Python 3, as this usage could be a breaking change.I submit to you that it is malicious incompetence to intentionally write code that only works in one version of a language or that only works given certain arbitrary constraints.More comments:dict(x.items() + y.items())is still the most readable solution for Python 2. Readability counts.My response:merge_two_dicts(x, y)actually seems much clearer to me, if we\'re actually concerned about readability. And it is not forward compatible, as Python 2 is increasingly deprecated.{**x, **y}does not seem to handle nested dictionaries. the contents of nested keys are simply overwritten, not merged [...] I ended up being burnt by these answers that do not merge recursively and I was surprised no one mentioned it. In my interpretation of the word ""merging"" these answers describe ""updating one dict with another"", and not merging.Yes. I must refer you back to the question, which is asking for ashallowmerge oftwodictionaries, with the first\'s values being overwritten by the second\'s - in a single expression.Assuming two dictionaries of dictionaries, one might recursively merge them in a single function, but you should be careful not to modify the dictionaries from either source, and the surest way to avoid that is to make a copy when assigning values. As keys must be hashable and are usually therefore immutable, it is pointless to copy them:from copy import deepcopy\n\ndef dict_of_dicts_merge(x, y):\n    z = {}\n    overlapping_keys = x.keys() & y.keys()\n    for key in overlapping_keys:\n        z[key] = dict_of_dicts_merge(x[key], y[key])\n    for key in x.keys() - overlapping_keys:\n        z[key] = deepcopy(x[key])\n    for key in y.keys() - overlapping_keys:\n        z[key] = deepcopy(y[key])\n    return zUsage:>>> x = {\'a\':{1:{}}, \'b\': {2:{}}}\n>>> y = {\'b\':{10:{}}, \'c\': {11:{}}}\n>>> dict_of_dicts_merge(x, y)\n{\'b\': {2: {}, 10: {}}, \'a\': {1: {}}, \'c\': {11: {}}}Coming up with contingencies for other value types is far beyond the scope of this question, so I will point you atmy answer to the canonical question on a ""Dictionaries of dictionaries merge"".Less Performant But Correct Ad-hocsThese approaches are less performant, but they will provide correct behavior.\nThey will bemuch lessperformant thancopyandupdateor the new unpacking because they iterate through each key-value pair at a higher level of abstraction, but theydorespect the order of precedence (latter dictionaries have precedence)You can also chain the dictionaries manually inside adict comprehension:{k: v for d in dicts for k, v in d.items()} # iteritems in Python 2.7or in Python 2.6 (and perhaps as early as 2.4 when generator expressions were introduced):dict((k, v) for d in dicts for k, v in d.items()) # iteritems in Python 2itertools.chainwill chain the iterators over the key-value pairs in the correct order:from itertools import chain\nz = dict(chain(x.items(), y.items())) # iteritems in Python 2Performance AnalysisI\'m only going to do the performance analysis of the usages known to behave correctly. (Self-contained so you can copy and paste yourself.)from timeit import repeat\nfrom itertools import chain\n\nx = dict.fromkeys(\'abcdefg\')\ny = dict.fromkeys(\'efghijk\')\n\ndef merge_two_dicts(x, y):\n    z = x.copy()\n    z.update(y)\n    return z\n\nmin(repeat(lambda: {**x, **y}))\nmin(repeat(lambda: merge_two_dicts(x, y)))\nmin(repeat(lambda: {k: v for d in (x, y) for k, v in d.items()}))\nmin(repeat(lambda: dict(chain(x.items(), y.items()))))\nmin(repeat(lambda: dict(item for d in (x, y) for item in d.items())))In Python 3.8.1, NixOS:>>> min(repeat(lambda: {**x, **y}))\n1.0804965235292912\n>>> min(repeat(lambda: merge_two_dicts(x, y)))\n1.636518670246005\n>>> min(repeat(lambda: {k: v for d in (x, y) for k, v in d.items()}))\n3.1779992282390594\n>>> min(repeat(lambda: dict(chain(x.items(), y.items()))))\n2.740647904574871\n>>> min(repeat(lambda: dict(item for d in (x, y) for item in d.items())))\n4.266070580109954$ uname -a\nLinux nixos 4.19.113 #1-NixOS SMP Wed Mar 25 07:06:15 UTC 2020 x86_64 GNU/LinuxResources on DictionariesMy explanation of Python\'sdictionary implementation, updated for 3.6.Answer on how to add new keys to a dictionaryMapping two lists into a dictionaryThe official Python docs on dictionariesThe Dictionary Even Mightier- talk by Brandon Rhodes at Pycon 2017Modern Python Dictionaries, A Confluence of Great Ideas- talk by Raymond Hettinger at Pycon 2017ShareImprove this answerFolloweditedMar 29, 2022 at 10:49Mateen Ulhaq26.6k2020 gold badges115115 silver badges147147 bronze badgesansweredNov 10, 2014 at 22:11Aaron Hall♦Aaron Hall388k9191 gold badges409409 silver badges336336 bronze badges\n\nIn your case, you can do:z = dict(list(x.items()) + list(y.items()))This will, as you want it, put the final dict inz, and make the value for keybbe properly overridden by the second (y) dict\'s value:>>> x = {\'a\': 1, \'b\': 2}\n>>> y = {\'b\': 10, \'c\': 11}\n>>> z = dict(list(x.items()) + list(y.items()))\n>>> z\n{\'a\': 1, \'c\': 11, \'b\': 10}If you use Python 2, you can even remove thelist()calls. To create z:>>> z = dict(x.items() + y.items())\n>>> z\n{\'a\': 1, \'c\': 11, \'b\': 10}If you use Python version 3.9.0a4 or greater, you can directly use:>>> x = {\'a\': 1, \'b\': 2}\n>>> y = {\'b\': 10, \'c\': 11}\n>>> z = x | y\n>>> z\n{\'a\': 1, \'c\': 11, \'b\': 10}ShareImprove this answerFolloweditedMar 2, 2023 at 16:18Erik Fubel68933 silver badges1616 bronze badgesansweredSep 2, 2008 at 7:50Thomas Vander SticheleThomas Vander Stichele36.4k1414 gold badges5656 silver badges6060 bronze badges\n\nAn alternative:z = x.copy()\nz.update(y)ShareImprove this answerFollowansweredSep 2, 2008 at 13:00Matthew SchinckelMatthew Schinckel35.4k66 gold badges8787 silver badges121121 bronze badges\n\nAnother, more concise, option:z = dict(x, **y)Note: this has become a popular answer, but it is important to point out that ifyhas any non-string keys, the fact that this works at all is an abuse of a CPython implementation detail, and it does not work in Python 3, or in PyPy, IronPython, or Jython. Also,Guido is not a fan. So I can\'t recommend this technique for forward-compatible or cross-implementation portable code, which really means it should be avoided entirely.ShareImprove this answerFolloweditedJan 21, 2016 at 6:43answeredSep 2, 2008 at 15:52Carl MeyerCarl Meyer125k2020 gold badges108108 silver badges117117 bronze badges\n\nThis probably won\'t be a popular answer, but you almost certainly do not want to do this.  If you want a copy that\'s a merge, then use copy (ordeepcopy, depending on what you want) and then update.  The two lines of code are much more readable - more Pythonic - than the single line creation with .items() + .items().  Explicit is better than implicit.In addition, when you use .items() (pre Python 3.0), you\'re creating a new list that contains the items from the dict.  If your dictionaries are large, then that is quite a lot of overhead (two large lists that will be thrown away as soon as the merged dict is created).  update() can work more efficiently, because it can run through the second dict item-by-item.In terms oftime:>>> timeit.Timer(""dict(x, **y)"", ""x = dict(zip(range(1000), range(1000)))\\ny=dict(zip(range(1000,2000), range(1000,2000)))"").timeit(100000)\n15.52571702003479\n>>> timeit.Timer(""temp = x.copy()\\ntemp.update(y)"", ""x = dict(zip(range(1000), range(1000)))\\ny=dict(zip(range(1000,2000), range(1000,2000)))"").timeit(100000)\n15.694622993469238\n>>> timeit.Timer(""dict(x.items() + y.items())"", ""x = dict(zip(range(1000), range(1000)))\\ny=dict(zip(range(1000,2000), range(1000,2000)))"").timeit(100000)\n41.484580039978027IMO the tiny slowdown between the first two is worth it for the readability.  In addition, keyword arguments for dictionary creation was only added in Python 2.3, whereas copy() and update() will work in older versions.ShareImprove this answerFolloweditedAug 5, 2014 at 23:56twasbrillig18.3k99 gold badges4444 silver badges6868 bronze badgesansweredSep 8, 2008 at 11:16Tony MeyerTony Meyer10.2k66 gold badges4242 silver badges4747 bronze badges\n\nIn a follow-up answer, you asked about the relative performance of these two alternatives:z1 = dict(x.items() + y.items())\nz2 = dict(x, **y)On my machine, at least (a fairly ordinary x86_64 running Python 2.5.2), alternativez2is not only shorter and simpler but also significantly faster.  You can verify this for yourself using thetimeitmodule that comes with Python.Example 1: identical dictionaries mapping 20 consecutive integers to themselves:% python -m timeit -s \'x=y=dict((i,i) for i in range(20))\' \'z1=dict(x.items() + y.items())\'\n100000 loops, best of 3: 5.67 usec per loop\n% python -m timeit -s \'x=y=dict((i,i) for i in range(20))\' \'z2=dict(x, **y)\' \n100000 loops, best of 3: 1.53 usec per loopz2wins by a factor of 3.5 or so.  Different dictionaries seem to yield quite different results, butz2always seems to come out ahead.  (If you get inconsistent results for thesametest, try passing in-rwith a number larger than the default 3.)Example 2: non-overlapping dictionaries mapping 252 short strings to integers and vice versa:% python -m timeit -s \'from htmlentitydefs import codepoint2name as x, name2codepoint as y\' \'z1=dict(x.items() + y.items())\'\n1000 loops, best of 3: 260 usec per loop\n% python -m timeit -s \'from htmlentitydefs import codepoint2name as x, name2codepoint as y\' \'z2=dict(x, **y)\'               \n10000 loops, best of 3: 26.9 usec per loopz2wins by about a factor of 10.  That\'s a pretty big win in my book!After comparing those two, I wondered ifz1\'s poor performance could be attributed to the overhead of constructing the two item lists, which in turn led me to wonder if this variation might work better:from itertools import chain\nz3 = dict(chain(x.iteritems(), y.iteritems()))A few quick tests, e.g.% python -m timeit -s \'from itertools import chain; from htmlentitydefs import codepoint2name as x, name2codepoint as y\' \'z3=dict(chain(x.iteritems(), y.iteritems()))\'\n10000 loops, best of 3: 66 usec per looplead me to conclude thatz3is somewhat faster thanz1, but not nearly as fast asz2.  Definitely not worth all the extra typing.This discussion is still missing something important, which is a performance comparison of these alternatives with the ""obvious"" way of merging two lists: using theupdatemethod.  To try to keep things on an equal footing with the expressions, none of which modify x or y, I\'m going to make a copy of x instead of modifying it in-place, as follows:z0 = dict(x)\nz0.update(y)A typical result:% python -m timeit -s \'from htmlentitydefs import codepoint2name as x, name2codepoint as y\' \'z0=dict(x); z0.update(y)\'\n10000 loops, best of 3: 26.9 usec per loopIn other words,z0andz2seem to have essentially identical performance.  Do you think this might be a coincidence?  I don\'t....In fact, I\'d go so far as to claim that it\'s impossible for pure Python code to do any better than this.  And if you can do significantly better in a C extension module, I imagine the Python folks might well be interested in incorporating your code (or a variation on your approach) into the Python core.  Python usesdictin lots of places; optimizing its operations is a big deal.You could also write this asz0 = x.copy()\nz0.update(y)as Tony does, but (not surprisingly) the difference in notation turns out not to have any measurable effect on performance.  Use whichever looks right to you.  Of course, he\'s absolutely correct to point out that the two-statement version is much easier to understand.ShareImprove this answerFolloweditedJan 10, 2015 at 2:32the Tin Man160k4444 gold badges218218 silver badges306306 bronze badgesansweredOct 23, 2008 at 2:38zaphodzaphod4,64133 gold badges2626 silver badges2626 bronze badges\n\nIn Python 3.0 and later, you can usecollections.ChainMapwhich groups multiple dicts or other mappings together to create a single, updateable view:>>> from collections import ChainMap\n>>> x = {\'a\':1, \'b\': 2}\n>>> y = {\'b\':10, \'c\': 11}\n>>> z = dict(ChainMap({}, y, x))\n>>> for k, v in z.items():\n        print(k, \'-->\', v)\n    \na --> 1\nb --> 10\nc --> 11Update for Python 3.5 and later: You can usePEP 448extended dictionary packing and unpacking.  This is fast and easy:>>> x = {\'a\':1, \'b\': 2}\n>>> y = {\'b\':10, \'c\': 11}\n>>> {**x, **y}\n{\'a\': 1, \'b\': 10, \'c\': 11}Update for Python 3.9 and later:  You can use thePEP 584union operator:>>> x = {\'a\':1, \'b\': 2}\n>>> y = {\'b\':10, \'c\': 11}\n>>> x | y\n{\'a\': 1, \'b\': 10, \'c\': 11}ShareImprove this answerFolloweditedDec 11, 2020 at 6:43answeredApr 28, 2013 at 3:15Raymond HettingerRaymond Hettinger223k6565 gold badges397397 silver badges494494 bronze badges\n\nI wanted something similar, but with the ability to specify how the values on duplicate keys were merged, so I hacked this out (but did not heavily test it).  Obviously this is not a single expression, but it is a single function call.def merge(d1, d2, merge_fn=lambda x,y:y):\n    """"""\n    Merges two dictionaries, non-destructively, combining \n    values on duplicate keys as defined by the optional merge\n    function.  The default behavior replaces the values in d1\n    with corresponding values in d2.  (There is no other generally\n    applicable merge strategy, but often you\'ll have homogeneous \n    types in your dicts, so specifying a merge technique can be \n    valuable.)\n\n    Examples:\n\n    >>> d1\n    {\'a\': 1, \'c\': 3, \'b\': 2}\n    >>> merge(d1, d1)\n    {\'a\': 1, \'c\': 3, \'b\': 2}\n    >>> merge(d1, d1, lambda x,y: x+y)\n    {\'a\': 2, \'c\': 6, \'b\': 4}\n\n    """"""\n    result = dict(d1)\n    for k,v in d2.iteritems():\n        if k in result:\n            result[k] = merge_fn(result[k], v)\n        else:\n            result[k] = v\n    return resultShareImprove this answerFolloweditedSep 13, 2014 at 19:56Rainy1,09688 silver badges1414 bronze badgesansweredSep 4, 2008 at 19:08rcreswickrcreswick16.7k1515 gold badges5959 silver badges7070 bronze badges\n\nRecursively/deep update a dictdef deepupdate(original, update):\n    """"""\n    Recursively update a dict.\n    Subdict\'s won\'t be overwritten but also updated.\n    """"""\n    for key, value in original.iteritems(): \n        if key not in update:\n            update[key] = value\n        elif isinstance(value, dict):\n            deepupdate(value, update[key]) \n    return updateDemonstration:pluto_original = {\n    \'name\': \'Pluto\',\n    \'details\': {\n        \'tail\': True,\n        \'color\': \'orange\'\n    }\n}\n\npluto_update = {\n    \'name\': \'Pluutoo\',\n    \'details\': {\n        \'color\': \'blue\'\n    }\n}\n\nprint deepupdate(pluto_original, pluto_update)Outputs:{\n    \'name\': \'Pluutoo\',\n    \'details\': {\n        \'color\': \'blue\',\n        \'tail\': True\n    }\n}Thanks rednaw for edits.ShareImprove this answerFolloweditedDec 18, 2015 at 11:19Dawid Gosławski2,08811 gold badge1818 silver badges2525 bronze badgesansweredNov 29, 2011 at 11:52StanStan4,19922 gold badges3333 silver badges4040 bronze badges\n\nI benchmarked the suggested withperfplotand found thatx | y   # Python 3.9+is the fastest solution together with the good old{**x, **y}andtemp = x.copy()\ntemp.update(y)Code to reproduce the plot:from collections import ChainMap\nfrom itertools import chain\nimport perfplot\n\n\ndef setup(n):\n    x = dict(zip(range(n), range(n)))\n    y = dict(zip(range(n, 2 * n), range(n, 2 * n)))\n    return x, y\n\n\ndef copy_update(x, y):\n    temp = x.copy()\n    temp.update(y)\n    return temp\n\n\ndef add_items(x, y):\n    return dict(list(x.items()) + list(y.items()))\n\n\ndef curly_star(x, y):\n    return {**x, **y}\n\n\ndef chain_map(x, y):\n    return dict(ChainMap({}, y, x))\n\n\ndef itertools_chain(x, y):\n    return dict(chain(x.items(), y.items()))\n\n\ndef python39_concat(x, y):\n    return x | y\n\n\nb = perfplot.bench(\n    setup=setup,\n    kernels=[\n        copy_update,\n        add_items,\n        curly_star,\n        chain_map,\n        itertools_chain,\n        python39_concat,\n    ],\n    labels=[\n        ""copy_update"",\n        ""dict(list(x.items()) + list(y.items()))"",\n        ""{**x, **y}"",\n        ""chain_map"",\n        ""itertools.chain"",\n        ""x | y"",\n    ],\n    n_range=[2 ** k for k in range(18)],\n    xlabel=""len(x), len(y)"",\n    equality_check=None,\n)\nb.save(""out.png"")\nb.show()ShareImprove this answerFolloweditedDec 30, 2022 at 0:36answeredJul 9, 2020 at 17:35Nico SchlömerNico Schlömer57.5k3232 gold badges210210 silver badges273273 bronze badges\n\nPython 3.5 (PEP 448) allows a nicer syntax option:x = {\'a\': 1, \'b\': 1}\ny = {\'a\': 2, \'c\': 2}\nfinal = {**x, **y} \nfinal\n# {\'a\': 2, \'b\': 1, \'c\': 2}Or evenfinal = {\'a\': 1, \'b\': 1, **x, **y}In Python 3.9 you also use | and |= with the below example from PEP 584d = {\'spam\': 1, \'eggs\': 2, \'cheese\': 3}\ne = {\'cheese\': \'cheddar\', \'aardvark\': \'Ethel\'}\nd | e\n# {\'spam\': 1, \'eggs\': 2, \'cheese\': \'cheddar\', \'aardvark\': \'Ethel\'}ShareImprove this answerFolloweditedMay 3, 2020 at 21:16answeredFeb 26, 2015 at 21:27Bilal Syed HussainBilal Syed Hussain9,0541111 gold badges3838 silver badges4444 bronze badges\n\nx = {\'a\':1, \'b\': 2}\ny = {\'b\':10, \'c\': 11}\nz = dict(x.items() + y.items())\nprint zFor items with keys in both dictionaries (\'b\'), you can control which one ends up in the output by putting that one last.ShareImprove this answerFollowansweredSep 2, 2008 at 7:49Greg HewgillGreg Hewgill979k187187 gold badges1.2k1.2k silver badges1.3k1.3k bronze badges\n\nThe best version I could think while not using copy would be:from itertools import chain\nx = {\'a\':1, \'b\': 2}\ny = {\'b\':10, \'c\': 11}\ndict(chain(x.iteritems(), y.iteritems()))It\'s faster thandict(x.items() + y.items())but not as fast asn = copy(a); n.update(b), at least on CPython. This version also works in Python 3 if you changeiteritems()toitems(), which is automatically done by the 2to3 tool.Personally I like this version best because it describes fairly good what I want in a single  functional syntax. The only minor problem is that it doesn\'t make completely obvious that values from y takes precedence over values from x, but I don\'t believe it\'s difficult to figure that out.ShareImprove this answerFollowansweredOct 14, 2010 at 18:55driaxdriax2,59811 gold badge2323 silver badges2121 bronze badges\n\nWhile the question has already been answered several times,\nthis simple solution to the problem has not been listed yet.x = {\'a\':1, \'b\': 2}\ny = {\'b\':10, \'c\': 11}\nz4 = {}\nz4.update(x)\nz4.update(y)It is as fast as z0 and the evil z2 mentioned above, but easy to understand and change.ShareImprove this answerFollowansweredOct 14, 2011 at 16:12phobiephobie2,55411 gold badge2020 silver badges2121 bronze badges\n\ndef dict_merge(a, b):\n  c = a.copy()\n  c.update(b)\n  return c\n\nnew = dict_merge(old, extras)Among such shady and dubious answers, this shining example is the one and only good way to merge dicts in Python, endorsed by dictator for lifeGuido van Rossumhimself!  Someone else suggested half of this, but did not put it in a function.print dict_merge(\n      {\'color\':\'red\', \'model\':\'Mini\'},\n      {\'model\':\'Ferrari\', \'owner\':\'Carl\'})gives:{\'color\': \'red\', \'owner\': \'Carl\', \'model\': \'Ferrari\'}ShareImprove this answerFolloweditedAug 6, 2012 at 9:30answeredAug 6, 2012 at 9:24Sam WatkinsSam Watkins8,17333 gold badges4242 silver badges4040 bronze badges\n\nBe Pythonic. Use acomprehension:z={k: v for d in [x,y] for k, v in d.items()}\n\n>>> print z\n{\'a\': 1, \'c\': 11, \'b\': 10}ShareImprove this answerFolloweditedSep 29, 2022 at 21:29Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJan 20, 2016 at 11:46RobinoRobino4,81933 gold badges3939 silver badges4444 bronze badges\n\nIf you think lambdas are evil then read no further.\nAs requested, you can write the fast and memory-efficient solution with one expression:x = {\'a\':1, \'b\':2}\ny = {\'b\':10, \'c\':11}\nz = (lambda a, b: (lambda a_copy: a_copy.update(b) or a_copy)(a.copy()))(x, y)\nprint z\n{\'a\': 1, \'c\': 11, \'b\': 10}\nprint x\n{\'a\': 1, \'b\': 2}As suggested above, using two lines or writing a function is probably a better way to go.ShareImprove this answerFolloweditedNov 23, 2011 at 18:20answeredNov 23, 2011 at 18:08EMSEMS1,05311 gold badge99 silver badges1212 bronze badges\n\nIn python3, theitemsmethodno longer returns a list, but rather aview, which acts like a set. In this case you\'ll need to take the set union since concatenating with+won\'t work:dict(x.items() | y.items())For python3-like behavior in version 2.7, theviewitemsmethod should work in place ofitems:dict(x.viewitems() | y.viewitems())I prefer this notation anyways since it seems more natural to think of it as a set union operation rather than concatenation (as the title shows).Edit:A couple more points for python 3. First, note that thedict(x, **y)trick won\'t work in python 3 unless the keys inyare strings.Also, Raymond Hettinger\'s Chainmapansweris pretty elegant, since it can take an arbitrary number of dicts as arguments, butfrom the docsit looks like it sequentially looks through a list of all the dicts for each lookup:Lookups search the underlying mappings successively until a key is found.This can slow you down if you have a lot of lookups in your application:In [1]: from collections import ChainMap\nIn [2]: from string import ascii_uppercase as up, ascii_lowercase as lo; x = dict(zip(lo, up)); y = dict(zip(up, lo))\nIn [3]: chainmap_dict = ChainMap(y, x)\nIn [4]: union_dict = dict(x.items() | y.items())\nIn [5]: timeit for k in union_dict: union_dict[k]\n100000 loops, best of 3: 2.15 µs per loop\nIn [6]: timeit for k in chainmap_dict: chainmap_dict[k]\n10000 loops, best of 3: 27.1 µs per loopSo about an order of magnitude slower for lookups. I\'m a fan of Chainmap, but looks less practical where there may be many lookups.ShareImprove this answerFolloweditedMay 23, 2017 at 12:34CommunityBot111 silver badgeansweredOct 9, 2013 at 18:09beardcbeardc20.9k1818 gold badges7979 silver badges9595 bronze badges\n\nTwo dictionariesdef union2(dict1, dict2):\n    return dict(list(dict1.items()) + list(dict2.items()))ndictionariesdef union(*dicts):\n    return dict(itertools.chain.from_iterable(dct.items() for dct in dicts))sumhas bad performance. Seehttps://mathieularose.com/how-not-to-flatten-a-list-of-lists-in-python/ShareImprove this answerFolloweditedOct 2, 2016 at 18:16answeredOct 17, 2012 at 2:09Mathieu LaroseMathieu Larose1,28811 gold badge1313 silver badges1616 bronze badges\n\nSimple solution using itertools that preserves order (latter dicts have precedence)# py2\nfrom itertools import chain, imap\nmerge = lambda *args: dict(chain.from_iterable(imap(dict.iteritems, args)))\n\n# py3\nfrom itertools import chain\nmerge = lambda *args: dict(chain.from_iterable(map(dict.items, args)))And it\'s usage:>>> x = {\'a\':1, \'b\': 2}\n>>> y = {\'b\':10, \'c\': 11}\n>>> merge(x, y)\n{\'a\': 1, \'b\': 10, \'c\': 11}\n\n>>> z = {\'c\': 3, \'d\': 4}\n>>> merge(x, y, z)\n{\'a\': 1, \'b\': 10, \'c\': 3, \'d\': 4}ShareImprove this answerFolloweditedSep 29, 2020 at 19:45answeredAug 4, 2015 at 14:54reubanoreubano5,29511 gold badge4242 silver badges4242 bronze badges\n\nAbuse leading to a one-expression solution forMatthew\'s answer:>>> x = {\'a\':1, \'b\': 2}\n>>> y = {\'b\':10, \'c\': 11}\n>>> z = (lambda f=x.copy(): (f.update(y), f)[1])()\n>>> z\n{\'a\': 1, \'c\': 11, \'b\': 10}You said you wanted one expression, so I abusedlambdato bind a name, and tuples to override lambda\'s one-expression limit. Feel free to cringe.You could also do this of course if you don\'t care about copying it:>>> x = {\'a\':1, \'b\': 2}\n>>> y = {\'b\':10, \'c\': 11}\n>>> z = (x.update(y), x)[1]\n>>> z\n{\'a\': 1, \'b\': 10, \'c\': 11}ShareImprove this answerFolloweditedMay 23, 2017 at 12:34CommunityBot111 silver badgeansweredAug 7, 2013 at 21:23ClaudiuClaudiu227k169169 gold badges499499 silver badges692692 bronze badges\n\nIf you don\'t mind mutatingx,x.update(y) or xSimple, readable, performant. Youknowupdate()always returnsNone, which is a false value. So the above expression will always evaluate tox, after updating it.Most mutating methods in the standard library (like.update()) returnNoneby convention, so this kind of pattern will work on those too. However, if you\'re using a dict subclass or some other method that doesn\'t follow this convention, thenormay return its left operand, which may not be what you want. Instead, you can use a tuple display and index, which works regardless of what the first element evaluates to (although it\'s not quite as pretty):(x.update(y), x)[-1]If you don\'t havexin a variable yet, you can uselambdato make a local without using an assignment statement. This amounts to usinglambdaas alet expression, which is a common technique in functional languages, but is maybe unpythonic.(lambda x: x.update(y) or x)({\'a\': 1, \'b\': 2})Although it\'s not that different from the following use of the new walrus operator (Python 3.8+ only),(x := {\'a\': 1, \'b\': 2}).update(y) or xespecially if you use a default argument:(lambda x={\'a\': 1, \'b\': 2}: x.update(y) or x)()If you do want a copy,PEP 584stylex | yis the most Pythonic on 3.9+. If you must support older versions,PEP 448style{**x, **y}is easiest for 3.5+. But if that\'s not available in your (even older) Python version, thelet expressionpattern works here too.(lambda z=x.copy(): z.update(y) or z)()(That is, of course, nearly equivalent to(z := x.copy()).update(y) or z, but if your Python version is new enough for that, then the PEP 448 style will be available.)ShareImprove this answerFolloweditedMay 29, 2021 at 6:33answeredSep 22, 2017 at 2:57gilchgilch11.4k11 gold badge2424 silver badges2828 bronze badges\n\nNewin Python 3.9:Use the union operator (|) to mergedicts similar tosets:>>> d = {\'a\': 1, \'b\': 2}\n>>> e = {\'a\': 9, \'c\': 3}\n>>> d | e\n{\'a\': 9, \'b\': 2, \'c\': 3}For matching keys, therightdicttakes precedence.This also works for|=to modify adictin-place:>>> e |= d    # e = e | d\n>>> e\n{\'a\': 1, \'c\': 3, \'b\': 2}ShareImprove this answerFolloweditedNov 29, 2020 at 21:49answeredJun 1, 2020 at 21:23xjclxjcl14.4k77 gold badges7676 silver badges9999 bronze badges\n\nThere will be a new option when Python 3.8 releases (scheduled for 20 October, 2019), thanks toPEP 572: Assignment Expressions. The new assignment expression operator:=allows you to assign the result of thecopyand still use it to callupdate, leaving the combined code a single expression, rather than two statements, changing:newdict = dict1.copy()\nnewdict.update(dict2)to:(newdict := dict1.copy()).update(dict2)while behaving identically in every way. If you must also return the resultingdict(you asked for an expression returning thedict; the above creates and assigns tonewdict, but doesn\'t return it, so you couldn\'t use it to pass an argument to a function as is, a lamyfunc((newdict := dict1.copy()).update(dict2))), then just addor newdictto the end (sinceupdatereturnsNone, which is falsy, it will then evaluate and returnnewdictas the result of the expression):(newdict := dict1.copy()).update(dict2) or newdictImportant caveat:In general, I\'d discourage this approach in favor of:newdict = {**dict1, **dict2}The unpacking approach is clearer (to anyone who knows about generalized unpacking in the first place,which you should), doesn\'t require a name for the result at all (so it\'s much more concise when constructing a temporary that is immediately passed to a function or included in alist/tupleliteral or the like), and is almost certainly faster as well, being (on CPython) roughly equivalent to:newdict = {}\nnewdict.update(dict1)\nnewdict.update(dict2)but done at the C layer, using the concretedictAPI, so no dynamic method lookup/binding or function call dispatch overhead is involved (where(newdict := dict1.copy()).update(dict2)is unavoidably identical to the original two-liner in behavior, performing the work in discrete steps, with dynamic lookup/binding/invocation of methods.It\'s also more extensible, as merging threedicts is obvious:newdict = {**dict1, **dict2, **dict3}where using assignment expressions won\'t scale like that; the closest you could get would be:(newdict := dict1.copy()).update(dict2), newdict.update(dict3)or without the temporary tuple ofNones, but with truthiness testing of eachNoneresult:(newdict := dict1.copy()).update(dict2) or newdict.update(dict3)either of which is obviously much uglier, and includes further inefficiencies (either a wasted temporarytupleofNones for comma separation, or pointless truthiness testing of eachupdate\'sNonereturn fororseparation).The only real advantage to the assignment expression approach occurs if:You have generic code that needs handle bothsets anddicts(both of them supportcopyandupdate, so the code works roughly as you\'d expect it to)You expect to receive arbitrary dict-like objects, not justdictitself,and must preserve the type and semantics of the left hand side(rather than ending up with a plaindict). Whilemyspecialdict({**speciala, **specialb})might work, it would involve an extra temporarydict, and ifmyspecialdicthas features plaindictcan\'t preserve (e.g. regulardicts now preserve order based on the first appearance of a key, and value based on the last appearance of a key; you might want one that preserves order based on thelastappearance of a key so updating a value also moves it to the end), then the semantics would be wrong. Since the assignment expression version uses the named methods (which are presumably overloaded to behave appropriately), it never creates adictat all (unlessdict1was already adict), preserving the original type (and original type\'s semantics), all while avoiding any temporaries.ShareImprove this answerFolloweditedDec 8, 2023 at 4:28Benjamin Loison5,47244 gold badges1818 silver badges3737 bronze badgesansweredFeb 28, 2019 at 17:16ShadowRangerShadowRanger152k1212 gold badges200200 silver badges295295 bronze badges\n\nDrawing on ideas here and elsewhere I\'ve comprehended a function:def merge(*dicts, **kv): \n      return { k:v for d in list(dicts) + [kv] for k,v in d.items() }Usage (tested in python 3):assert (merge({1:11,\'a\':\'aaa\'},{1:99, \'b\':\'bbb\'},foo=\'bar\')==\\\n    {1: 99, \'foo\': \'bar\', \'b\': \'bbb\', \'a\': \'aaa\'})\n\nassert (merge(foo=\'bar\')=={\'foo\': \'bar\'})\n\nassert (merge({1:11},{1:99},foo=\'bar\',baz=\'quux\')==\\\n    {1: 99, \'foo\': \'bar\', \'baz\':\'quux\'})\n\nassert (merge({1:11},{1:99})=={1: 99})You could use a lambda instead.ShareImprove this answerFollowansweredJul 19, 2013 at 5:49Bijou TrouvailleBijou Trouvaille9,19444 gold badges4040 silver badges4242 bronze badges\n\n(For Python\xa02.7* only; there are simpler solutions for Python\xa03*.)If you\'re not averse to importing a standard library module, you can dofrom functools import reduce\n\ndef merge_dicts(*dicts):\n    return reduce(lambda a, d: a.update(d) or a, dicts, {})(Theor abit in thelambdais necessary becausedict.updatealways returnsNoneon success.)ShareImprove this answerFolloweditedSep 29, 2022 at 21:29Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMar 28, 2016 at 13:13kjokjo34.7k5454 gold badges156156 silver badges281281 bronze badges\n\nThe problem I have with solutions listed to date is that, in the merged dictionary, the value for key ""b"" is 10 but, to my way of thinking, it should be 12.\nIn that light, I present the following:import timeit\n\nn=100000\nsu = """"""\nx = {\'a\':1, \'b\': 2}\ny = {\'b\':10, \'c\': 11}\n""""""\n\ndef timeMerge(f,su,niter):\n    print ""{:4f} sec for: {:30s}"".format(timeit.Timer(f,setup=su).timeit(n),f)\n\ntimeMerge(""dict(x, **y)"",su,n)\ntimeMerge(""x.update(y)"",su,n)\ntimeMerge(""dict(x.items() + y.items())"",su,n)\ntimeMerge(""for k in y.keys(): x[k] = k in x and x[k]+y[k] or y[k] "",su,n)\n\n#confirm for loop adds b entries together\nx = {\'a\':1, \'b\': 2}\ny = {\'b\':10, \'c\': 11}\nfor k in y.keys(): x[k] = k in x and x[k]+y[k] or y[k]\nprint ""confirm b elements are added:"",xResults:0.049465 sec for: dict(x, **y)\n0.033729 sec for: x.update(y)                   \n0.150380 sec for: dict(x.items() + y.items())   \n0.083120 sec for: for k in y.keys(): x[k] = k in x and x[k]+y[k] or y[k]\n\nconfirm b elements are added: {\'a\': 1, \'c\': 11, \'b\': 12}ShareImprove this answerFollowansweredDec 3, 2013 at 18:11upandacrossupandacross41744 silver badges77 bronze badges\n\nIt\'s so silly that.updatereturns nothing.I just use a simple helper function to solve the problem:def merge(dict1,*dicts):\n    for dict2 in dicts:\n        dict1.update(dict2)\n    return dict1Examples:merge(dict1,dict2)\nmerge(dict1,dict2,dict3)\nmerge(dict1,dict2,dict3,dict4)\nmerge({},dict1,dict2)  # this one returns a new copyShareImprove this answerFollowansweredMar 2, 2014 at 1:44GetFreeGetFree41.9k2020 gold badges8181 silver badges105105 bronze badges\n\nfrom collections import Counter\ndict1 = {\'a\':1, \'b\': 2}\ndict2 = {\'b\':10, \'c\': 11}\nresult = dict(Counter(dict1) + Counter(dict2))This should solve your problem.ShareImprove this answerFollowansweredNov 30, 2015 at 13:04reetesh11reetesh1169111 gold badge99 silver badges1616 bronze badges\n\nThis can be done with a single dict comprehension:>>> x = {\'a\':1, \'b\': 2}\n>>> y = {\'b\':10, \'c\': 11}\n>>> { key: y[key] if key in y else x[key]\n      for key in set(x) + set(y)\n    }In my view the best answer for the \'single expression\' part as no extra functions are needed, and it is short.ShareImprove this answerFollowansweredJul 17, 2015 at 14:47RemcoGerlichRemcoGerlich31k66 gold badges6464 silver badges8080 bronze badges'}","{'title': 'How do I read / convert an InputStream into a String in Java?', 'question': 'If you have ajava.io.InputStreamobject, how should you process that object and produce aString?Suppose I have anInputStreamthat contains text data, and I want to convert it to aString, so for example I can write that to a log file.What is the easiest way to take theInputStreamand convert it to aString?public String convertStreamToString(InputStream is) {\n// ???\n}javastringiostreaminputstreamShareImprove this questionFolloweditedSep 23, 2022 at 14:49Ramesh R7,05944 gold badges2525 silver badges3939 bronze badgesaskedNov 21, 2008 at 16:47Johnny MaelstromJohnny Maelstrom48.3k55 gold badges2222 silver badges1818 bronze badges', 'answers': 'To summarize the other answers, I found 11 main ways to do this (see below). And I wrote some performance tests (see results below):Ways to convert an InputStream to a String:UsingIOUtils.toString(Apache Utils)String result = IOUtils.toString(inputStream, StandardCharsets.UTF_8);UsingCharStreams(Guava)String result = CharStreams.toString(new InputStreamReader(\n       inputStream, Charsets.UTF_8));UsingScanner(JDK)Scanner s = new Scanner(inputStream).useDelimiter(""\\\\A"");\n String result = s.hasNext() ? s.next() : """";UsingStream API(Java 8).Warning: This solution converts different line breaks (like\\r\\n) to\\n.String result = new BufferedReader(new InputStreamReader(inputStream))\n   .lines().collect(Collectors.joining(""\\n""));Usingparallel Stream API(Java 8).Warning: This solution converts different line breaks (like\\r\\n) to\\n.String result = new BufferedReader(new InputStreamReader(inputStream))\n    .lines().parallel().collect(Collectors.joining(""\\n""));UsingInputStreamReaderandStringBuilder(JDK)int bufferSize = 1024;\n char[] buffer = new char[bufferSize];\n StringBuilder out = new StringBuilder();\n Reader in = new InputStreamReader(stream, StandardCharsets.UTF_8);\n for (int numRead; (numRead = in.read(buffer, 0, buffer.length)) > 0; ) {\n     out.append(buffer, 0, numRead);\n }\n return out.toString();UsingStringWriterandIOUtils.copy(Apache Commons)StringWriter writer = new StringWriter();\n IOUtils.copy(inputStream, writer, ""UTF-8"");\n return writer.toString();UsingByteArrayOutputStreamandinputStream.read(JDK)ByteArrayOutputStream result = new ByteArrayOutputStream();\n byte[] buffer = new byte[1024];\n for (int length; (length = inputStream.read(buffer)) != -1; ) {\n     result.write(buffer, 0, length);\n }\n // StandardCharsets.UTF_8.name() > JDK 7\n return result.toString(""UTF-8"");UsingBufferedReader(JDK).Warning:This solution converts different line breaks (like\\n\\r) toline.separatorsystem property (for example, in Windows to ""\\r\\n"").String newLine = System.getProperty(""line.separator"");\n BufferedReader reader = new BufferedReader(\n         new InputStreamReader(inputStream));\n StringBuilder result = new StringBuilder();\n for (String line; (line = reader.readLine()) != null; ) {\n     if (result.length() > 0) {\n         result.append(newLine);\n     }\n     result.append(line);\n }\n return result.toString();UsingBufferedInputStreamandByteArrayOutputStream(JDK)BufferedInputStream bis = new BufferedInputStream(inputStream);\nByteArrayOutputStream buf = new ByteArrayOutputStream();\nfor (int result = bis.read(); result != -1; result = bis.read()) {\n    buf.write((byte) result);\n}\n// StandardCharsets.UTF_8.name() > JDK 7\nreturn buf.toString(""UTF-8"");UsinginputStream.read()andStringBuilder(JDK).Warning: This solution has problems with Unicode, for example with Russian text (works correctly only with non-Unicode text)StringBuilder sb = new StringBuilder();\nfor (int ch; (ch = inputStream.read()) != -1; ) {\n    sb.append((char) ch);\n}\nreturn sb.toString();Warning:Solutions 4, 5 and 9 convert different line breaks to one.Solution 11 can\'t work correctly with Unicode textPerformance testsPerformance tests for smallString(length = 175), url ingithub(mode = Average Time, system = Linux, score 1,343 is the best):Benchmark                         Mode  Cnt   Score   Error  Units\n 8. ByteArrayOutputStream and read (JDK)        avgt   10   1,343 ± 0,028  us/op\n 6. InputStreamReader and StringBuilder (JDK)   avgt   10   6,980 ± 0,404  us/op\n10. BufferedInputStream, ByteArrayOutputStream  avgt   10   7,437 ± 0,735  us/op\n11. InputStream.read() and StringBuilder (JDK)  avgt   10   8,977 ± 0,328  us/op\n 7. StringWriter and IOUtils.copy (Apache)      avgt   10  10,613 ± 0,599  us/op\n 1. IOUtils.toString (Apache Utils)             avgt   10  10,605 ± 0,527  us/op\n 3. Scanner (JDK)                               avgt   10  12,083 ± 0,293  us/op\n 2. CharStreams (guava)                         avgt   10  12,999 ± 0,514  us/op\n 4. Stream Api (Java 8)                         avgt   10  15,811 ± 0,605  us/op\n 9. BufferedReader (JDK)                        avgt   10  16,038 ± 0,711  us/op\n 5. parallel Stream Api (Java 8)                avgt   10  21,544 ± 0,583  us/opPerformance tests for bigString(length = 50100), url ingithub(mode = Average Time, system = Linux, score 200,715 is the best):Benchmark                        Mode  Cnt   Score        Error  Units\n 8. ByteArrayOutputStream and read (JDK)        avgt   10   200,715 ±   18,103  us/op\n 1. IOUtils.toString (Apache Utils)             avgt   10   300,019 ±    8,751  us/op\n 6. InputStreamReader and StringBuilder (JDK)   avgt   10   347,616 ±  130,348  us/op\n 7. StringWriter and IOUtils.copy (Apache)      avgt   10   352,791 ±  105,337  us/op\n 2. CharStreams (guava)                         avgt   10   420,137 ±   59,877  us/op\n 9. BufferedReader (JDK)                        avgt   10   632,028 ±   17,002  us/op\n 5. parallel Stream Api (Java 8)                avgt   10   662,999 ±   46,199  us/op\n 4. Stream Api (Java 8)                         avgt   10   701,269 ±   82,296  us/op\n10. BufferedInputStream, ByteArrayOutputStream  avgt   10   740,837 ±    5,613  us/op\n 3. Scanner (JDK)                               avgt   10   751,417 ±   62,026  us/op\n11. InputStream.read() and StringBuilder (JDK)  avgt   10  2919,350 ± 1101,942  us/opGraphs (performance tests depending on Input Stream length in Windows 7 system)Performance test (Average Time) depending on Input Stream length in Windows 7 system:length  182    546     1092    3276    9828    29484   58968\n\n test8  0.38    0.938   1.868   4.448   13.412  36.459  72.708\n test4  2.362   3.609   5.573   12.769  40.74   81.415  159.864\n test5  3.881   5.075   6.904   14.123  50.258  129.937 166.162\n test9  2.237   3.493   5.422   11.977  45.98   89.336  177.39\n test6  1.261   2.12    4.38    10.698  31.821  86.106  186.636\n test7  1.601   2.391   3.646   8.367   38.196  110.221 211.016\n test1  1.529   2.381   3.527   8.411   40.551  105.16  212.573\n test3  3.035   3.934   8.606   20.858  61.571  118.744 235.428\n test2  3.136   6.238   10.508  33.48   43.532  118.044 239.481\n test10 1.593   4.736   7.527   20.557  59.856  162.907 323.147\n test11 3.913   11.506  23.26   68.644  207.591 600.444 1211.545ShareImprove this answerFolloweditedMay 18, 2023 at 23:30aakaasaraamanna6111 silver badge1010 bronze badgesansweredFeb 17, 2016 at 0:58Slava VedeninSlava Vedenin59.6k1313 gold badges4141 silver badges6060 bronze badges\n\nA nice way to do this is usingApache CommonsIOUtilsto copy theInputStreaminto aStringWriter... Something likeStringWriter writer = new StringWriter();\nIOUtils.copy(inputStream, writer, encoding);\nString theString = writer.toString();or even// NB: does not close inputStream, you\'ll have to use try-with-resources for that\nString theString = IOUtils.toString(inputStream, encoding);Alternatively, you could useByteArrayOutputStreamif you don\'t want to mix your Streams and Writers.ShareImprove this answerFolloweditedJan 20, 2023 at 1:21Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredNov 21, 2008 at 16:54Harry LimeHarry Lime29.6k44 gold badges3232 silver badges3838 bronze badges\n\nHere\'s a way using only the standard Java library (note that the stream is not closed, your mileage may vary).static String convertStreamToString(java.io.InputStream is) {\n    java.util.Scanner s = new java.util.Scanner(is).useDelimiter(""\\\\A"");\n    return s.hasNext() ? s.next() : """";\n}I learned this trick from""Stupid Scanner tricks""article. The reason it works is becauseScanneriterates over tokens in the stream, and in this case we separate tokens using ""beginning of the input boundary"" (\\A), thus giving us only one token for the entire contents of the stream.Note, if you need to be specific about the input stream\'s encoding, you can provide the second argument toScannerconstructor that indicates what character set to use (e.g. ""UTF-8"").Hat tip goes also toJacob, who once pointed me to the said article.ShareImprove this answerFolloweditedJan 5, 2019 at 10:33Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMar 26, 2011 at 20:40Pavel RepinPavel Repin30.9k22 gold badges3535 silver badges4141 bronze badges\n\nApache Commons allows:String myString = IOUtils.toString(myInputStream, ""UTF-8"");Of course, you could choose other character encodings besides UTF-8.Note: From Java versions 1.7 and upwards, you can useStandardCharsetsclass for charsets instead of hardcoding as""UTF-8"".(ex:StandardCharsets.UTF_8)Also see: (documentation)ShareImprove this answerFolloweditedJun 16 at 18:12Kasun Siyambalapitiya4,24688 gold badges4141 silver badges6060 bronze badgesansweredDec 8, 2008 at 20:13ChinneryChinnery10.2k22 gold badges2424 silver badges2525 bronze badges\n\nTaking into account file one should first get ajava.io.Readerinstance. This can then be read and added to aStringBuilder(we don\'t needStringBufferif we are not accessing it in multiple threads, andStringBuilderis faster). The trick here is that we work in blocks, and as such don\'t need other buffering streams. The block size is parameterized for run-time performance optimization.public static String slurp(final InputStream is, final int bufferSize) {\n    final char[] buffer = new char[bufferSize];\n    final StringBuilder out = new StringBuilder();\n    try (Reader in = new InputStreamReader(is, ""UTF-8"")) {\n        for (;;) {\n            int rsz = in.read(buffer, 0, buffer.length);\n            if (rsz < 0)\n                break;\n            out.append(buffer, 0, rsz);\n        }\n    }\n    catch (UnsupportedEncodingException ex) {\n        /* ... */\n    }\n    catch (IOException ex) {\n        /* ... */\n    }\n    return out.toString();\n}ShareImprove this answerFolloweditedJul 15, 2015 at 10:23community wiki11 revs, 8 users 39%Paul de Vrieze\n\nUse:InputStream in = /* Your InputStream */;\nStringBuilder sb = new StringBuilder();\nBufferedReader br = new BufferedReader(new InputStreamReader(in));\nString read;\n\nwhile ((read=br.readLine()) != null) {\n    //System.out.println(read);\n    sb.append(read);\n}\n\nbr.close();\nreturn sb.toString();ShareImprove this answerFolloweditedJan 5, 2019 at 10:35Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredAug 4, 2011 at 8:29sampathpremarathnasampathpremarathna4,06455 gold badges2727 silver badges3737 bronze badges\n\nFor completeness here isJava 9solution:public static String toString(InputStream input) throws IOException {\n    return new String(input.readAllBytes(), StandardCharsets.UTF_8);\n}This uses thereadAllBytesmethod which was added to Java 9.ShareImprove this answerFolloweditedNov 18, 2020 at 22:50M. Justin18.7k99 gold badges117117 silver badges146146 bronze badgesansweredSep 2, 2015 at 11:50Tagir ValeevTagir Valeev99.3k1919 gold badges230230 silver badges341341 bronze badges\n\nIf you are using Google-Collections/Guava you could do the following:InputStream stream = ...\nString content = CharStreams.toString(new InputStreamReader(stream, Charsets.UTF_8));\nCloseables.closeQuietly(stream);Note that the second parameter (i.e. Charsets.UTF_8) for theInputStreamReaderisn\'t necessary, but it is generally a good idea to specify the encoding if you know it (which you should!)ShareImprove this answerFolloweditedJan 30, 2013 at 16:35ralfoide2,93344 gold badges2525 silver badges2222 bronze badgesansweredJul 13, 2010 at 15:56SakurabaSakuraba2,64111 gold badge1919 silver badges1313 bronze badges\n\nThis is the best pure Java solution that fits perfectly for Android and any other JVM.This solution works amazingly well... it is simple, fast, and works on small and large streams just the same!! (see benchmark above..No. 8)public String readFullyAsString(InputStream inputStream, String encoding)\n        throws IOException {\n    return readFully(inputStream).toString(encoding);\n}\n\npublic byte[] readFullyAsBytes(InputStream inputStream)\n        throws IOException {\n    return readFully(inputStream).toByteArray();\n}\n\nprivate ByteArrayOutputStream readFully(InputStream inputStream)\n        throws IOException {\n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\n    byte[] buffer = new byte[1024];\n    int length = 0;\n    while ((length = inputStream.read(buffer)) != -1) {\n        baos.write(buffer, 0, length);\n    }\n    return baos;\n}ShareImprove this answerFolloweditedJul 23, 2019 at 20:38answeredMay 8, 2012 at 20:24TacB0sSTacB0sS10.2k1313 gold badges7777 silver badges119119 bronze badges\n\nUse:import java.io.BufferedInputStream;\nimport java.io.ByteArrayOutputStream;\nimport java.io.InputStream;\nimport java.io.IOException;\n\npublic static String readInputStreamAsString(InputStream in)\n    throws IOException {\n\n    BufferedInputStream bis = new BufferedInputStream(in);\n    ByteArrayOutputStream buf = new ByteArrayOutputStream();\n    int result = bis.read();\n    while(result != -1) {\n        byte b = (byte)result;\n        buf.write(b);\n        result = bis.read();\n    }\n    return buf.toString();\n}ShareImprove this answerFolloweditedNov 15, 2023 at 2:49Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJun 10, 2009 at 21:07Jon MooreJon Moore1,4001010 silver badges1111 bronze badges\n\nHere\'s the most elegant, pure-Java (no library) solution I came up with after some experimentation:public static String fromStream(InputStream in) throws IOException\n{\n    BufferedReader reader = new BufferedReader(new InputStreamReader(in));\n    StringBuilder out = new StringBuilder();\n    String newLine = System.getProperty(""line.separator"");\n    String line;\n    while ((line = reader.readLine()) != null) {\n        out.append(line);\n        out.append(newLine);\n    }\n    return out.toString();\n}ShareImprove this answerFolloweditedDec 7, 2013 at 16:39answeredJan 1, 2013 at 3:43Drew NoakesDrew Noakes308k167167 gold badges689689 silver badges756756 bronze badges\n\nI did a benchmark upon 14 distinct answers here (sorry for not providing credits but there are too many duplicates).The result is very surprising. It turns out that ApacheIOUtilsis the slowest andByteArrayOutputStreamis the fastest solutions:So first here is the best method:public String inputStreamToString(InputStream inputStream) throws IOException {\n    try(ByteArrayOutputStream result = new ByteArrayOutputStream()) {\n        byte[] buffer = new byte[1024];\n        int length;\n        while ((length = inputStream.read(buffer)) != -1) {\n            result.write(buffer, 0, length);\n        }\n\n        return result.toString(UTF_8);\n    }\n}Benchmark results, of 20 MB random bytes in 20 cyclesTime in millisecondsByteArrayOutputStreamTest: 194NioStream: 198Java9ISTransferTo: 201Java9ISReadAllBytes: 205BufferedInputStreamVsByteArrayOutputStream: 314ApacheStringWriter2: 574GuavaCharStreams: 589ScannerReaderNoNextTest: 614ScannerReader: 633ApacheStringWriter: 1544StreamApi: ErrorParallelStreamApi: ErrorBufferReaderTest: ErrorInputStreamAndStringBuilder: ErrorBenchmark source codeimport com.google.common.io.CharStreams;\nimport org.apache.commons.io.IOUtils;\n\nimport java.io.*;\nimport java.nio.ByteBuffer;\nimport java.nio.channels.Channels;\nimport java.nio.channels.ReadableByteChannel;\nimport java.nio.channels.WritableByteChannel;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.Random;\nimport java.util.stream.Collectors;\n\n/**\n * Created by Ilya Gazman on 2/13/18.\n */\npublic class InputStreamToString {\n\n\n    private static final String UTF_8 = ""UTF-8"";\n\n    public static void main(String... args) {\n        log(""App started"");\n        byte[] bytes = new byte[1024 * 1024];\n        new Random().nextBytes(bytes);\n        log(""Stream is ready\\n"");\n\n        try {\n            test(bytes);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private static void test(byte[] bytes) throws IOException {\n        List<Stringify> tests = Arrays.asList(\n                new ApacheStringWriter(),\n                new ApacheStringWriter2(),\n                new NioStream(),\n                new ScannerReader(),\n                new ScannerReaderNoNextTest(),\n                new GuavaCharStreams(),\n                new StreamApi(),\n                new ParallelStreamApi(),\n                new ByteArrayOutputStreamTest(),\n                new BufferReaderTest(),\n                new BufferedInputStreamVsByteArrayOutputStream(),\n                new InputStreamAndStringBuilder(),\n                new Java9ISTransferTo(),\n                new Java9ISReadAllBytes()\n        );\n\n        String solution = new String(bytes, ""UTF-8"");\n\n        for (Stringify test : tests) {\n            try (ByteArrayInputStream inputStream = new ByteArrayInputStream(bytes)) {\n                String s = test.inputStreamToString(inputStream);\n                if (!s.equals(solution)) {\n                    log(test.name() + "": Error"");\n                    continue;\n                }\n            }\n            long startTime = System.currentTimeMillis();\n            for (int i = 0; i < 20; i++) {\n                try (ByteArrayInputStream inputStream = new ByteArrayInputStream(bytes)) {\n                    test.inputStreamToString(inputStream);\n                }\n            }\n            log(test.name() + "": "" + (System.currentTimeMillis() - startTime));\n        }\n    }\n\n    private static void log(String message) {\n        System.out.println(message);\n    }\n\n    interface Stringify {\n        String inputStreamToString(InputStream inputStream) throws IOException;\n\n        default String name() {\n            return this.getClass().getSimpleName();\n        }\n    }\n\n    static class ApacheStringWriter implements Stringify {\n\n        @Override\n        public String inputStreamToString(InputStream inputStream) throws IOException {\n            StringWriter writer = new StringWriter();\n            IOUtils.copy(inputStream, writer, UTF_8);\n            return writer.toString();\n        }\n    }\n\n    static class ApacheStringWriter2 implements Stringify {\n\n        @Override\n        public String inputStreamToString(InputStream inputStream) throws IOException {\n            return IOUtils.toString(inputStream, UTF_8);\n        }\n    }\n\n    static class NioStream implements Stringify {\n\n        @Override\n        public String inputStreamToString(InputStream in) throws IOException {\n            ReadableByteChannel channel = Channels.newChannel(in);\n            ByteBuffer byteBuffer = ByteBuffer.allocate(1024 * 16);\n            ByteArrayOutputStream bout = new ByteArrayOutputStream();\n            WritableByteChannel outChannel = Channels.newChannel(bout);\n            while (channel.read(byteBuffer) > 0 || byteBuffer.position() > 0) {\n                byteBuffer.flip();  //make buffer ready for write\n                outChannel.write(byteBuffer);\n                byteBuffer.compact(); //make buffer ready for reading\n            }\n            channel.close();\n            outChannel.close();\n            return bout.toString(UTF_8);\n        }\n    }\n\n    static class ScannerReader implements Stringify {\n\n        @Override\n        public String inputStreamToString(InputStream is) throws IOException {\n            java.util.Scanner s = new java.util.Scanner(is).useDelimiter(""\\\\A"");\n            return s.hasNext() ? s.next() : """";\n        }\n    }\n\n    static class ScannerReaderNoNextTest implements Stringify {\n\n        @Override\n        public String inputStreamToString(InputStream is) throws IOException {\n            java.util.Scanner s = new java.util.Scanner(is).useDelimiter(""\\\\A"");\n            return s.next();\n        }\n    }\n\n    static class GuavaCharStreams implements Stringify {\n\n        @Override\n        public String inputStreamToString(InputStream is) throws IOException {\n            return CharStreams.toString(new InputStreamReader(\n                    is, UTF_8));\n        }\n    }\n\n    static class StreamApi implements Stringify {\n\n        @Override\n        public String inputStreamToString(InputStream inputStream) throws IOException {\n            return new BufferedReader(new InputStreamReader(inputStream))\n                    .lines().collect(Collectors.joining(""\\n""));\n        }\n    }\n\n    static class ParallelStreamApi implements Stringify {\n\n        @Override\n        public String inputStreamToString(InputStream inputStream) throws IOException {\n            return new BufferedReader(new InputStreamReader(inputStream)).lines()\n                    .parallel().collect(Collectors.joining(""\\n""));\n        }\n    }\n\n    static class ByteArrayOutputStreamTest implements Stringify {\n\n        @Override\n        public String inputStreamToString(InputStream inputStream) throws IOException {\n            try(ByteArrayOutputStream result = new ByteArrayOutputStream()) {\n                byte[] buffer = new byte[1024];\n                int length;\n                while ((length = inputStream.read(buffer)) != -1) {\n                    result.write(buffer, 0, length);\n                }\n\n                return result.toString(UTF_8);\n            }\n        }\n    }\n\n    static class BufferReaderTest implements Stringify {\n\n        @Override\n        public String inputStreamToString(InputStream inputStream) throws IOException {\n            String newLine = System.getProperty(""line.separator"");\n            BufferedReader reader = new BufferedReader(new InputStreamReader(inputStream));\n            StringBuilder result = new StringBuilder(UTF_8);\n            String line;\n            boolean flag = false;\n            while ((line = reader.readLine()) != null) {\n                result.append(flag ? newLine : """").append(line);\n                flag = true;\n            }\n            return result.toString();\n        }\n    }\n\n    static class BufferedInputStreamVsByteArrayOutputStream implements Stringify {\n\n        @Override\n        public String inputStreamToString(InputStream inputStream) throws IOException {\n            BufferedInputStream bis = new BufferedInputStream(inputStream);\n            ByteArrayOutputStream buf = new ByteArrayOutputStream();\n            int result = bis.read();\n            while (result != -1) {\n                buf.write((byte) result);\n                result = bis.read();\n            }\n\n            return buf.toString(UTF_8);\n        }\n    }\n\n    static class InputStreamAndStringBuilder implements Stringify {\n\n        @Override\n        public String inputStreamToString(InputStream inputStream) throws IOException {\n            int ch;\n            StringBuilder sb = new StringBuilder(UTF_8);\n            while ((ch = inputStream.read()) != -1)\n                sb.append((char) ch);\n            return sb.toString();\n        }\n    }\n\n    static class Java9ISTransferTo implements Stringify {\n\n        @Override\n        public String inputStreamToString(InputStream inputStream) throws IOException {\n            ByteArrayOutputStream bos = new ByteArrayOutputStream();\n            inputStream.transferTo(bos);\n            return bos.toString(UTF_8);\n        }\n    }\n\n    static class Java9ISReadAllBytes implements Stringify {\n\n        @Override\n        public String inputStreamToString(InputStream inputStream) throws IOException {\n            return new String(inputStream.readAllBytes(), UTF_8);\n        }\n    }\n\n}ShareImprove this answerFolloweditedJan 6, 2019 at 0:45Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredFeb 13, 2018 at 21:30Ilya GazmanIlya Gazman31.9k2424 gold badges142142 silver badges222222 bronze badges\n\nI\'d use some Java 8 tricks.public static String streamToString(final InputStream inputStream) throws Exception {\n    // buffering optional\n    try\n    (\n        final BufferedReader br\n           = new BufferedReader(new InputStreamReader(inputStream))\n    ) {\n        // parallel optional\n        return br.lines().parallel().collect(Collectors.joining(""\\n""));\n    } catch (final IOException e) {\n        throw new RuntimeException(e);\n        // whatever.\n    }\n}Essentially the same as some other answers except more succinct.ShareImprove this answerFolloweditedJul 15, 2015 at 11:03Ian2thedv2,70122 gold badges2727 silver badges4747 bronze badgesansweredJul 17, 2014 at 17:58Simon KuangSimon Kuang3,92044 gold badges2828 silver badges5353 bronze badges\n\nI ran some timing tests because time matters, always.I attempted to get the response into a String 3 different ways. (shown below)I left out try/catch blocks for the sake readability.To give context, this is the preceding code for all 3 approaches:String response;\n   String url = ""www.blah.com/path?key=value"";\n   GetMethod method = new GetMethod(url);\n   int status = client.executeMethod(method);1)response = method.getResponseBodyAsString();2)InputStream resp = method.getResponseBodyAsStream();\nInputStreamReader is=new InputStreamReader(resp);\nBufferedReader br=new BufferedReader(is);\nString read = null;\nStringBuffer sb = new StringBuffer();\nwhile((read = br.readLine()) != null) {\n    sb.append(read);\n}\nresponse = sb.toString();3)InputStream iStream  = method.getResponseBodyAsStream();\nStringWriter writer = new StringWriter();\nIOUtils.copy(iStream, writer, ""UTF-8"");\nresponse = writer.toString();So, after running 500 tests on each approach with the same request/response data, here are the numbers. Once again, these are my findings and your findings may not be exactly the same, but I wrote this to give some indication to others of the efficiency differences of these approaches.Ranks:Approach #1Approach #3 - 2.6% slower than #1Approach #2 - 4.3% slower than #1Any of these approaches is an appropriate solution for grabbing a response and creating a String from it.ShareImprove this answerFolloweditedOct 17, 2017 at 8:55martijnn20083,61055 gold badges3131 silver badges4242 bronze badgesansweredOct 12, 2011 at 17:23Brett HBrett H1,1691010 silver badges1414 bronze badges\n\nPure Java solution usingStreams, works since Java 8.import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.util.stream.Collectors;\n\n// ...\npublic static String inputStreamToString(InputStream is) throws IOException {\n    try (BufferedReader br = new BufferedReader(new InputStreamReader(is))) {\n        return br.lines().collect(Collectors.joining(System.lineSeparator()));\n    }\n}As mentioned by Christoffer Hammarström belowother answerit is safer to explicitly specify theCharset. I.e. The InputStreamReader constructor can be changes as follows:new InputStreamReader(is, Charset.forName(""UTF-8""))ShareImprove this answerFolloweditedMay 23, 2017 at 12:34CommunityBot111 silver badgeansweredFeb 26, 2015 at 18:39czernyczerny16.1k1414 gold badges7272 silver badges102102 bronze badges\n\nHere\'s more-or-lesssampath\'s answer, cleaned up a bit and represented as a function:String streamToString(InputStream in) throws IOException {\n  StringBuilder out = new StringBuilder();\n  BufferedReader br = new BufferedReader(new InputStreamReader(in));\n  for (String line = br.readLine(); line != null; line = br.readLine())\n    out.append(line);\n  br.close();\n  return out.toString();\n}ShareImprove this answerFolloweditedJul 5, 2023 at 10:26Dmitriy Popov2,30033 gold badges2525 silver badges3535 bronze badgesansweredMar 30, 2012 at 19:52TKHTKH83866 silver badges1111 bronze badges\n\nIf you were feeling adventurous, you could mix Scala and Java and end up with this:scala.io.Source.fromInputStream(is).mkString("""")Mixing Java and Scala code and libraries has it\'s benefits.See full description here:Idiomatic way to convert an InputStream to a String in ScalaShareImprove this answerFolloweditedMay 23, 2017 at 12:18CommunityBot111 silver badgeansweredMar 7, 2012 at 7:32JackJack16.6k2020 gold badges102102 silver badges169169 bronze badges\n\nIf you can\'t useCommons IO(FileUtils, IOUtils, and CopyUtils), here\'s an example using a BufferedReader to read the file line by line:public class StringFromFile {\n    public static void main(String[] args) /*throws UnsupportedEncodingException*/ {\n        InputStream is = StringFromFile.class.getResourceAsStream(""file.txt"");\n        BufferedReader br = new BufferedReader(new InputStreamReader(is/*, ""UTF-8""*/));\n        final int CHARS_PER_PAGE = 5000; //counting spaces\n        StringBuilder builder = new StringBuilder(CHARS_PER_PAGE);\n        try {\n            for(String line=br.readLine(); line!=null; line=br.readLine()) {\n                builder.append(line);\n                builder.append(\'\\n\');\n            }\n        }\n        catch (IOException ignore) { }\n\n        String text = builder.toString();\n        System.out.println(text);\n    }\n}Or if you want raw speed, I\'d propose a variation on whatPaul de Vrieze suggested(which avoids using a StringWriter (which uses a StringBuffer internally):public class StringFromFileFast {\n    public static void main(String[] args) /*throws UnsupportedEncodingException*/ {\n        InputStream is = StringFromFileFast.class.getResourceAsStream(""file.txt"");\n        InputStreamReader input = new InputStreamReader(is/*, ""UTF-8""*/);\n        final int CHARS_PER_PAGE = 5000; //counting spaces\n        final char[] buffer = new char[CHARS_PER_PAGE];\n        StringBuilder output = new StringBuilder(CHARS_PER_PAGE);\n        try {\n            for(int read = input.read(buffer, 0, buffer.length);\n                    read != -1;\n                    read = input.read(buffer, 0, buffer.length)) {\n                output.append(buffer, 0, read);\n            }\n        } catch (IOException ignore) { }\n\n        String text = output.toString();\n        System.out.println(text);\n    }\n}ShareImprove this answerFolloweditedApr 19, 2023 at 15:11Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMay 18, 2010 at 12:57DJDaveMarkDJDaveMark2,7892323 silver badges3838 bronze badges\n\nUse thejava.io.InputStream.transferTo(OutputStream)supported in Java 9 and theByteArrayOutputStream.toString(String)which takes the charset name:public static String gobble(InputStream in, String charsetName) throws IOException {\n    ByteArrayOutputStream bos = new ByteArrayOutputStream();\n    in.transferTo(bos);\n    return bos.toString(charsetName);\n}ShareImprove this answerFolloweditedNov 28, 2017 at 14:47answeredJan 28, 2016 at 15:55jmehrensjmehrens10.9k11 gold badge4040 silver badges4949 bronze badges\n\nThis one is nice because:It safely handles the Charset.You control the read buffer size.You can provision the length of the builder and it doesn\'t have to be an exact value.Is free from library dependencies.Is for Java 7 or higher.How to do itpublic static String convertStreamToString(InputStream is) throws IOException {\n   StringBuilder sb = new StringBuilder(2048); // Define a size if you have an idea of it.\n   char[] read = new char[128]; // Your buffer size.\n   try (InputStreamReader ir = new InputStreamReader(is, StandardCharsets.UTF_8)) {\n     for (int i; -1 != (i = ir.read(read)); sb.append(read, 0, i));\n   }\n   return sb.toString();\n}For JDK 9public static String inputStreamString(InputStream inputStream) throws IOException {\n    try (inputStream) {\n        return new String(inputStream.readAllBytes(), StandardCharsets.UTF_8);\n    }\n}ShareImprove this answerFolloweditedNov 15, 2023 at 2:24Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJun 8, 2014 at 7:46Daniel De LeónDaniel De León13.4k55 gold badges8989 silver badges7373 bronze badges\n\nThis is an answer adapted fromorg.apache.commons.io.IOUtilssource code, for those who want to have the Apache implementation, but do not want the whole library.private static final int BUFFER_SIZE = 4 * 1024;\n\npublic static String inputStreamToString(InputStream inputStream, String charsetName)\n        throws IOException {\n    StringBuilder builder = new StringBuilder();\n    InputStreamReader reader = new InputStreamReader(inputStream, charsetName);\n    char[] buffer = new char[BUFFER_SIZE];\n    int length;\n    while ((length = reader.read(buffer)) != -1) {\n        builder.append(buffer, 0, length);\n    }\n    return builder.toString();\n}ShareImprove this answerFolloweditedNov 15, 2023 at 2:41Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredAug 3, 2014 at 9:47Hai ZhangHai Zhang5,76311 gold badge4646 silver badges5353 bronze badges\n\nString inputStreamToString(InputStream inputStream, Charset charset) throws IOException {\n    try (\n            final StringWriter writer = new StringWriter();\n            final InputStreamReader reader = new InputStreamReader(inputStream, charset)\n        ) {\n        reader.transferTo(writer);\n        return writer.toString();\n    }\n}pure Java standard library solution - no libssince Java 10 -Reader#transferTo(java.io.Writer)loopless solutionno new line character handlingShareImprove this answerFollowansweredApr 5, 2020 at 0:03czernyczerny16.1k1414 gold badges7272 silver badges102102 bronze badges\n\nMake sure to close the streams at the end if you use Stream Readersprivate String readStream(InputStream iStream) throws IOException {\n\n    // Build a Stream Reader, it can read character by character\n    InputStreamReader iStreamReader = new InputStreamReader(iStream);\n\n    // Build a buffered Reader, so that I can read whole line at once\n    BufferedReader bReader = new BufferedReader(iStreamReader);\n    String line = null;\n    StringBuilder builder = new StringBuilder();\n    while((line = bReader.readLine()) != null) {  // Read till end\n        builder.append(line);\n        builder.append(""\\n""); // Append new line to preserve lines\n    }\n    bReader.close();         // Close all opened stuff\n    iStreamReader.close();\n    //iStream.close(); // Let the creator of the stream close it!\n                       // some readers may auto close the inner stream\n    return builder.toString();\n}On JDK 7+, you can use try-with-resources construct./**\n * Reads the stream into a string\n * @param iStream the input stream\n * @return the string read from the stream\n * @throws IOException when an IO error occurs\n */\nprivate String readStream(InputStream iStream) throws IOException {\n\n    // Buffered reader allows us to read line by line\n    try (BufferedReader bReader =\n                 new BufferedReader(new InputStreamReader(iStream))) {\n        StringBuilder builder = new StringBuilder();\n        String line;\n        while((line = bReader.readLine()) != null) {  // Read till end\n            builder.append(line);\n            builder.append(""\\n""); // Append new line to preserve lines\n        }\n        return builder.toString();\n    }\n}ShareImprove this answerFolloweditedNov 15, 2023 at 2:12Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredNov 17, 2012 at 12:39Thamme GowdaThamme Gowda11.6k55 gold badges5151 silver badges5757 bronze badges\n\nHere is the complete method for convertingInputStreamintoStringwithout using any third party library. UseStringBuilderfor single threaded environment otherwise useStringBuffer.public static String getString( InputStream is) throws IOException {\n    int ch;\n    StringBuilder sb = new StringBuilder();\n    while((ch = is.read()) != -1)\n        sb.append((char)ch);\n    return sb.toString();\n}ShareImprove this answerFolloweditedDec 16, 2015 at 9:20rtruszk3,9121313 gold badges3838 silver badges5353 bronze badgesansweredApr 9, 2014 at 10:37laksyslaksys3,22744 gold badges2828 silver badges3838 bronze badges\n\nAnother one, for all the Spring users:import java.nio.charset.StandardCharsets;\nimport org.springframework.util.FileCopyUtils;\n\npublic String convertStreamToString(InputStream is) throws IOException { \n    return new String(FileCopyUtils.copyToByteArray(is), StandardCharsets.UTF_8);\n}The utility methods inorg.springframework.util.StreamUtilsare similar to the ones inFileCopyUtils, but they leave the stream open when done.ShareImprove this answerFolloweditedJul 21, 2017 at 10:24answeredJul 29, 2016 at 20:58JamesJames12k77 gold badges5454 silver badges8383 bronze badges\n\nKotlin users simply do:println(InputStreamReader(is).readText())whereasreadText()is the Kotlin standard library’s built-in extension method.ShareImprove this answerFolloweditedNov 15, 2023 at 2:29Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredFeb 4, 2015 at 1:12AlexAlex8,37388 gold badges4747 silver badges5555 bronze badges\n\nHere\'s how to do it using just the JDK using byte array buffers. This is actually how the commons-ioIOUtils.copy()methods all work. You can replacebyte[]withchar[]if you\'re copying from aReaderinstead of anInputStream.import java.io.ByteArrayOutputStream;\nimport java.io.InputStream;\n\n...\n\nInputStream is = ....\nByteArrayOutputStream baos = new ByteArrayOutputStream(8192);\nbyte[] buffer = new byte[8192];\nint count = 0;\ntry {\n  while ((count = is.read(buffer)) != -1) {\n    baos.write(buffer, 0, count);\n  }\n}\nfinally {\n  try {\n    is.close();\n  }\n  catch (Exception ignore) {\n  }\n}\n\nString charset = ""UTF-8"";\nString inputStreamAsString = baos.toString(charset);ShareImprove this answerFolloweditedAug 13, 2014 at 4:30Matt63733 silver badges1010 bronze badgesansweredNov 2, 2012 at 12:37Matt ShannonMatt Shannon15911 silver badge22 bronze badges\n\nThe easiest way in JDK is with the following code snippets.String convertToString(InputStream in) {\n    String resource = new Scanner(in).useDelimiter(""\\\\Z"").next();\n    return resource;\n}ShareImprove this answerFolloweditedJul 5, 2023 at 10:27Dmitriy Popov2,30033 gold badges2525 silver badges3535 bronze badgesansweredAug 9, 2016 at 20:18Raghu K NairRaghu K Nair3,89411 gold badge3030 silver badges4747 bronze badges\n\nIn terms ofreduce, andconcatit can be expressed in Java 8 as:String fromFile = new BufferedReader(new   \nInputStreamReader(inputStream)).lines().reduce(String::concat).get();ShareImprove this answerFolloweditedJun 20, 2018 at 7:37Derlin9,84222 gold badges3232 silver badges5656 bronze badgesansweredJan 21, 2016 at 14:28libnull-devlibnull-dev88911 gold badge77 silver badges2020 bronze badges\n\nHere\'s myJava 8based solution, which uses thenew Stream APIto collect all lines from anInputStream:public static String toString(InputStream inputStream) {\n    BufferedReader reader = new BufferedReader(\n        new InputStreamReader(inputStream));\n    return reader.lines().collect(Collectors.joining(\n        System.getProperty(""line.separator"")));\n}ShareImprove this answerFollowansweredSep 2, 2015 at 11:19Christian RädelChristian Rädel59111 gold badge66 silver badges1313 bronze badges'}","{'title': ""Case insensitive 'Contains(string)'"", 'question': 'Is there a way to make the following return true?string title = ""ASTRINGTOTEST"";\ntitle.Contains(""string"");There doesn\'t seem to be an overload that allows me to set the case sensitivity. Currently I UPPERCASE them both, but that\'s just silly (by which I am referring to thei18nissues that come with up- and down casing).UPDATEThis question is ancient and since then I have realized I asked for a simple answer for a really vast and difficult topic if you care to investigate it fully.For most cases, in mono-lingual, English code basesthisanswer will suffice. I\'m suspecting because most people coming here fall in this category this is the most popular answer.Thisanswer however brings up the inherent problem that we can\'t compare text case insensitive until we know both texts are the same culture and we know  what that culture is. This is maybe a less popular answer, but I think it is more correct and that\'s why I marked it as such.c#stringcontainscase-insensitiveShareImprove this questionFolloweditedJan 28, 2022 at 12:44Uwe Keim40.3k6060 gold badges184184 silver badges298298 bronze badgesaskedJan 14, 2009 at 21:39Boris CallensBoris Callens92.6k8686 gold badges209209 silver badges308308 bronze badges', 'answers': 'You could use theString.IndexOfMethodand passStringComparison.OrdinalIgnoreCaseas the type of search to use:string title = ""STRING"";\nbool contains = title.IndexOf(""string"", StringComparison.OrdinalIgnoreCase) >= 0;Even better is defining a new extension method for string:public static class StringExtensions\n{\n    public static bool Contains(this string source, string toCheck, StringComparison comp)\n    {\n        return source?.IndexOf(toCheck, comp) >= 0;\n    }\n}Note, thatnull propagation?.is available since C# 6.0 (VS 2015), for older versions useif (source == null) return false;\nreturn source.IndexOf(toCheck, comp) >= 0;USAGE:string title = ""STRING"";\nbool contains = title.Contains(""string"", StringComparison.OrdinalIgnoreCase);ShareImprove this answerFolloweditedMay 27, 2021 at 14:44Andrew Truckle18.7k1717 gold badges7676 silver badges198198 bronze badgesansweredJan 14, 2009 at 21:44JaredParJaredPar748k150150 gold badges1.3k1.3k silver badges1.5k1.5k bronze badges\n\nTo test if the stringparagraphcontains the stringword(thanks @QuarterMeister)culture.CompareInfo.IndexOf(paragraph, word, CompareOptions.IgnoreCase) >= 0Wherecultureis the instance ofCultureInfodescribing the language that the text is written in.This solution is transparent aboutthe definition of case-insensitivity, which is language dependent. For example, the English language uses the charactersIandifor the upper and lower case versions of the ninth letter, whereas the Turkish language uses these characters for theeleventh and twelfth lettersof its 29 letter-long alphabet. The Turkish upper case version of \'i\' is the unfamiliar character \'İ\'.Thus the stringstinandTINare the same wordin English, but different wordsin Turkish. As I understand, one means \'spirit\' and the other is an onomatopoeia word. (Turks, please correct me if I\'m wrong, or suggest a better example)To summarise, you can only answer the question \'are these two strings the same but in different cases\'if you know what language the text is in. If you don\'t know, you\'ll have to take a punt. Given English\'s hegemony in software, you should probably resort toCultureInfo.InvariantCulture, because it will be wrong in familiar ways.ShareImprove this answerFolloweditedMay 7, 2021 at 0:40John Smith7,38366 gold badges5151 silver badges6363 bronze badgesansweredMar 17, 2013 at 18:22Colonel PanicColonel Panic136k9494 gold badges413413 silver badges474474 bronze badges\n\nYou can useIndexOf()like this:string title = ""STRING"";\n\nif (title.IndexOf(""string"", 0, StringComparison.OrdinalIgnoreCase) != -1)\n{\n    // The string exists in the original\n}Since 0 (zero) can be an index, you check against -1.Microsoft .NET Documentation:The zero-based index position of the value parameter from the start of the current instance if that string is found, or -1 if it is not. If value is Empty, the return value is startIndex.ShareImprove this answerFolloweditedAug 9, 2022 at 14:31answeredJan 14, 2009 at 21:48mkchandlermkchandler4,74833 gold badges2424 silver badges2525 bronze badges\n\n.NET Core 2.0+ (including .NET 5.0+).NET Core has had a pair of methods to deal with this since version 2.0 :String.Contains(Char,StringComparison)String.Contains(String,StringComparison)Example:""Test"".Contains(""test"", System.StringComparison.CurrentCultureIgnoreCase);It is now officially part of the .NET Standard 2.1, and therefore part of all the implementations of the Base Class Library that implement this version of the standard (or a higher one).ShareImprove this answerFolloweditedMay 27, 2021 at 17:30answeredOct 13, 2018 at 9:26Mathieu RendaMathieu Renda15k22 gold badges3636 silver badges3434 bronze badges\n\nAlternative solution using Regex:bool contains = Regex.IsMatch(""StRiNG to search"", Regex.Escape(""string""), RegexOptions.IgnoreCase);ShareImprove this answerFolloweditedDec 17, 2018 at 9:18marsze16.6k55 gold badges5353 silver badges6464 bronze badgesansweredJul 28, 2010 at 17:18JedJed10.8k2121 gold badges8585 silver badges129129 bronze badges\n\nYou could always just up or downcase the strings first.string title = ""string"":\ntitle.ToUpper().Contains(""STRING"")  // returns trueOops, just saw that last bit.  A case insensitive compare would*probably*do the same anyway, and if performance is not an issue, I don\'t see a problem with creating uppercase copies and comparing those.  I could have sworn that I once saw a case-insensitive compare once...ShareImprove this answerFolloweditedJan 14, 2009 at 21:54answeredJan 14, 2009 at 21:42Ed SwangrenEd Swangren124k2424 gold badges186186 silver badges268268 bronze badges\n\nOne issue with the answer is that it will throw an exception if a string is null. You can add that as a check so it won\'t:public static bool Contains(this string source, string toCheck, StringComparison comp)\n{\n    if (string.IsNullOrEmpty(toCheck) || string.IsNullOrEmpty(source))\n        return true;\n\n    return source.IndexOf(toCheck, comp) >= 0;\n}ShareImprove this answerFolloweditedJun 5, 2015 at 6:02fubo45.6k1919 gold badges106106 silver badges138138 bronze badgesansweredDec 7, 2010 at 21:11FeiBao  飞豹FeiBao  飞豹78366 silver badges66 bronze badges\n\nStringExtension class is the way forward, I\'ve combined a couple of the posts above to give a complete code example:public static class StringExtensions\n{\n    /// <summary>\n    /// Allows case insensitive checks\n    /// </summary>\n    public static bool Contains(this string source, string toCheck, StringComparison comp)\n    {\n        return source.IndexOf(toCheck, comp) >= 0;\n    }\n}ShareImprove this answerFolloweditedJan 25, 2011 at 6:58abatishchev99.6k8888 gold badges300300 silver badges439439 bronze badgesansweredNov 18, 2010 at 16:48AndrewAndrew10k1010 gold badges6565 silver badges104104 bronze badges\n\nOrdinalIgnoreCase, CurrentCultureIgnoreCase or InvariantCultureIgnoreCase?Since this is missing, here are some recommendations about when to use which one:DosUseStringComparison.OrdinalIgnoreCasefor comparisons\nas your safe default for culture-agnostic string matching.UseStringComparison.OrdinalIgnoreCasecomparisons\nfor increased speed.UseStringComparison.CurrentCulture-basedstring operations\nwhen displaying the output to the user.Switch current use of string operations based on the invariant\nculture to use the non-linguisticStringComparison.OrdinalorStringComparison.OrdinalIgnoreCasewhen the comparison islinguistically irrelevant (symbolic, for example).UseToUpperInvariantrather thanToLowerInvariantwhen\nnormalizing strings for comparison.Don\'tsUse overloads for string operations that don\'t explicitly\nor implicitly specify the string comparison mechanism.UseStringComparison.InvariantCulture-based stringoperations in most cases; one of the few exceptions would bepersisting linguistically meaningful but culturally-agnostic data.Based on these rules you should use:string title = ""STRING"";\nif (title.IndexOf(""string"", 0, StringComparison.[YourDecision]) != -1)\n{\n    // The string exists in the original\n}whereas [YourDecision] depends on the recommendations from above.link of source:http://msdn.microsoft.com/en-us/library/ms973919.aspxShareImprove this answerFolloweditedJul 23, 2015 at 10:30answeredJun 17, 2014 at 10:31Fabian BiglerFabian Bigler10.8k66 gold badges4949 silver badges7373 bronze badges\n\nThis is clean and simple.Regex.IsMatch(file, fileNamestr, RegexOptions.IgnoreCase)ShareImprove this answerFolloweditedJun 6, 2018 at 14:54Neuron5,63555 gold badges4242 silver badges6161 bronze badgesansweredNov 9, 2012 at 4:25takiralatakirala2,00122 gold badges1717 silver badges3636 bronze badges\n\nThese are the easiest solutions.By Index ofstring title = ""STRING"";\n\nif (title.IndexOf(""string"", 0, StringComparison.CurrentCultureIgnoreCase) != -1)\n{\n    // contains \n}By Changing casestring title = ""STRING"";\n\nbool contains = title.ToLower().Contains(""string"")By RegexRegex.IsMatch(title, ""string"", RegexOptions.IgnoreCase);ShareImprove this answerFollowansweredJul 12, 2018 at 9:25Lav VishwakarmaLav Vishwakarma1,4181515 silver badges2222 bronze badges\n\nAs simple and workstitle.ToLower().Contains(""String"".ToLower())ShareImprove this answerFollowansweredDec 10, 2019 at 22:32Pradeep AsankaPradeep Asanka41311 gold badge55 silver badges1111 bronze badges\n\nYou can use a string comparison parameter (available from .NET Core 2.1 and above)String.Contains Method.public bool Contains (string value, StringComparison comparisonType);Example:string title = ""ASTRINGTOTEST"";\ntitle.Contains(""string"", StringComparison.InvariantCultureIgnoreCase);ShareImprove this answerFolloweditedApr 11, 2022 at 9:47Andrew D. Bond1,14011 gold badge1515 silver badges1212 bronze badgesansweredJan 7, 2021 at 19:42dashraderdashrader34933 silver badges1515 bronze badges\n\nJust like this:string s=""AbcdEf"";\nif(s.ToLower().Contains(""def""))\n{\n    Console.WriteLine(""yes"");\n}ShareImprove this answerFolloweditedJul 19, 2016 at 19:23johnnyRose7,4601717 gold badges4141 silver badges6161 bronze badgesansweredJul 13, 2014 at 9:54cdytobycdytoby8491010 silver badges2626 bronze badges\n\nI know that this is not the C#, but in the framework (VB.NET) there is already such a functionDim str As String = ""UPPERlower""\nDim b As Boolean = InStr(str, ""UpperLower"")C# variant:string myString = ""Hello World"";\nbool contains = Microsoft.VisualBasic.Strings.InStr(myString, ""world"");ShareImprove this answerFolloweditedSep 9, 2011 at 13:55answeredSep 9, 2011 at 13:23serhioserhio28.4k6363 gold badges226226 silver badges382382 bronze badges\n\nTheInStrmethod from the VisualBasic assembly is the best if you have a concern about internationalization (or you could reimplement it).  Looking at in it dotNeetPeek shows that not only does it account for caps and lowercase, but also for kana type and full- vs. half-width characters (mostly relevant for Asian languages, although there are full-width versions of the Roman alphabet too).  I\'m skipping over some details, but check out the private methodInternalInStrText:private static int InternalInStrText(int lStartPos, string sSrc, string sFind)\n{\n  int num = sSrc == null ? 0 : sSrc.Length;\n  if (lStartPos > num || num == 0)\n    return -1;\n  if (sFind == null || sFind.Length == 0)\n    return lStartPos;\n  else\n    return Utils.GetCultureInfo().CompareInfo.IndexOf(sSrc, sFind, lStartPos, CompareOptions.IgnoreCase | CompareOptions.IgnoreKanaType | CompareOptions.IgnoreWidth);\n}ShareImprove this answerFollowansweredDec 6, 2013 at 14:11CaseyCasey3,33311 gold badge2727 silver badges4242 bronze badges\n\nUse this:string.Compare(""string"", ""STRING"", new System.Globalization.CultureInfo(""en-US""), System.Globalization.CompareOptions.IgnoreCase);ShareImprove this answerFolloweditedJul 8, 2013 at 8:10Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJul 11, 2011 at 7:53mr.martanmr.martan21533 silver badges22 bronze badges\n\nJust to build on the answer here, you can create a string extension method to make this a little more user-friendly:public static bool ContainsIgnoreCase(this string paragraph, string word)\n    {\n        return CultureInfo.CurrentCulture.CompareInfo.IndexOf(paragraph, word, CompareOptions.IgnoreCase) >= 0;\n    }ShareImprove this answerFolloweditedSep 22, 2019 at 4:42answeredFeb 14, 2019 at 8:53Christian FindlayChristian Findlay7,38955 gold badges5858 silver badges112112 bronze badges\n\nThis is quite similar to other example here, but I\'ve decided to simplify enum to bool, primary because other alternatives are normally not needed. Here is my example:public static class StringExtensions\n{\n    public static bool Contains(this string source, string toCheck, bool bCaseInsensitive )\n    {\n        return source.IndexOf(toCheck, bCaseInsensitive ? StringComparison.OrdinalIgnoreCase : StringComparison.Ordinal) >= 0;\n    }\n}And usage is something like:if( ""main String substring"".Contains(""SUBSTRING"", true) )\n....ShareImprove this answerFollowansweredOct 17, 2015 at 7:46TarmoPikaroTarmoPikaro5,06522 gold badges5555 silver badges6565 bronze badges\n\nUsing a RegEx is a straight way to do this:Regex.IsMatch(title, ""string"", RegexOptions.IgnoreCase);ShareImprove this answerFolloweditedJul 19, 2016 at 19:23johnnyRose7,4601717 gold badges4141 silver badges6161 bronze badgesansweredSep 18, 2013 at 13:08StendStend13711 silver badge44 bronze badges\n\nif you want to check if your passed string is in string then there is a simple method for that.string yourStringForCheck= ""abc"";\nstring stringInWhichWeCheck= ""Test abc abc"";\n\nbool isContained = stringInWhichWeCheck.ToLower().IndexOf(yourStringForCheck.ToLower()) > -1;This boolean value will return if the string is contained or notShareImprove this answerFolloweditedOct 12, 2019 at 8:00gusmally supports Monica34111 gold badge55 silver badges2121 bronze badgesansweredNov 16, 2017 at 12:23shaishav shuklashaishav shukla35866 silver badges1111 bronze badges\n\nSimilar to previous answers (using an extension method) but with two simple null checks (C# 6.0 and above):public static bool ContainsIgnoreCase(this string source, string substring)\n{\n    return source?.IndexOf(substring ?? """", StringComparison.OrdinalIgnoreCase) >= 0;\n}If source is null, return false (via null-propagation operator ?.)If substring is null, treat as an empty string and return true (via null-coalescing operator ??)The StringComparison can of course be sent as a parameter if needed.ShareImprove this answerFollowansweredJul 13, 2020 at 12:02Udi YUdi Y28833 silver badges1212 bronze badges\n\nThe top-rated several answers are all good and correct in their own ways, I write here to add more information, context, and perspective.For clarity, let us consider that string A contains string B if there is any subsequence of codepoints in A which is equal to B. If we accept this, the problem is reduced to the question of whether two strings are equal.The question of when strings are equal has been considered in detail for many decades.Much of the present state of knowledge is encapsulated in SQL collations. Unicode normal forms are close to a proper subset of this. But there is more beyond even SQL collations.For example, in SQL collations, you can beStrictly binary sensitive- so that different Unicode normalisation forms (e.g. precombined or combining accents) compare differently.For example,écan be represented as eitherU+00e9(precombined) orU+0065 U+0301(e with combining acute accent).Are these the same or different?Unicode normalised- In this case the above examples would be equal to each other, but not toÉore.accent insensitive, (for e.g. Spanish, German, Swedish etc. text). In this caseU+0065=U+0065 U+0301=U+00e9=é=ecase and accent insensitive, so that (for e.g. Spanish, German, Swedish etc. text). In this caseU+00e9=U+0065 U+0301=U+00c9=U+0045 U+0301=U+0049=U+0065=E=e=É=éKanatype sensitive or insensitive, i.e. you can consider Japanese Hiragana and Katakana as equivalent or different. The two syllabaries contain the same number of characters, organised and pronounced in the (mostly) the same way, but written differently and used for different purposes. For example katakana are used for loan words or foreign names, but hiragana are used for children\'s books, pronunciation guides (e.g. rubies), and where there is no kanji for a word (or perhaps where the writer does not know the kanji, or thinks the reader may not know it).Full-width or half-width sensitive- Japanese encodings include two representations of some characters for historical reasons - they were displayed  at different sizes.Ligatures considered equivalent or not: Seehttps://en.wikipedia.org/wiki/Ligature_(writing)Isæthe same asaeor not? They have different Unicode encodings, as do accented characters, but unlike accented characters they also look different.Which brings us to...Arabic presentation form equivalenceArabic writing has a culture of beautiful calligraphy, where particular sequences of adjacent letters have specific representations. Many of these have been encoded in the Unicode standard. I don\'t fully understand the rules, but they seem to me to be analogous to ligatures.Other scripts and systems:I have no knowledge whatsoever or Kannada, Malayalam, Sinhala, Thai, Gujarati, Tibetan, or almost all of the tens or hundreds of scripts not mentioned. I assume they have similar issues for the programmer, and given the number of issues mentioned so far and for so few scripts, they probably also have additional issues the programmer ought to consider.That gets us out of the ""encoding"" weeds.Now we must enter the ""meaning"" weeds.isBeijingequal to北京? If not, isBĕijīngequal to北京? If not, why not? It is the Pinyin romanisation.IsPekingequal to北京? If not, why not? It is the Wade-Giles romanisation.IsBeijingequal toPeking? If not, why not?Why are you doing this anyway?For example, if you want to know if it is possible that two strings (A and B) refer to the same geographical location, or same person, you might want to ask:Could these strings be either Wade-Giles or Pinyin representations of a set of sequences of Chinese characters? If so, is there any overlap between the corresponding sets?Could one of these strings be a Cyrillic transcription of a Chinese Character?could one of these strings be a Cyrillic transliteration of the Pinyin romanisation?Could one of these strings be a Cyrillic transliteration of a Pinyin romanisation of a Sinification of an English name?Clearly these are difficult questions, which don\'t have firm answers, and in any case, the answer may be different according to the purpose of the question.To finish with a concrete example.If you are delivering a letter or parcel, clearlyBeijing,Peking,Bĕijīngand北京are all equal. For that purpose, they are all equally good. No doubt the Chinese post-offices recognise many other options, such asPékinin French,Pequimin Portuguese,Bắc Kinhin Vietnamese, andБээжинin Mongolian.Words do not have fixed meanings.Words are tools we use to navigate the world, to accomplish our tasks, and to communicate with other people.While it looks like it would be helpful if words likeequality,Beijing, ormeaninghad fixed meanings, the sad fact is they do not.Yet we seem to muddle along somehow.TL;DR:If you are dealing with questions relating to reality, in all its nebulosity (cloudiness, uncertainty, lack of clear boundaries), there are basically three possible answers to every question:ProbablyProbably notMaybeShareImprove this answerFollowansweredSep 27, 2021 at 19:52BenBen35.4k66 gold badges7777 silver badges116116 bronze badges\n\nnew version of .net\nhas the feature to ignore the caseexamplestring.Contains(""exampleSTRING"", StringComparison.OrdinalIgnoreCase)ShareImprove this answerFollowansweredJun 20, 2023 at 13:51Mohamed SalahMohamed Salah31022 silver badges55 bronze badges\n\nif (""strcmpstring1"".IndexOf(Convert.ToString(""strcmpstring2""), StringComparison.CurrentCultureIgnoreCase) >= 0){return true;}else{return false;}ShareImprove this answerFollowansweredOct 26, 2016 at 14:34Tamilselvan KTamilselvan K1,1811111 silver badges1010 bronze badges\n\nYou can usestring.indexof ()function. This will be case insensitiveShareImprove this answerFolloweditedDec 11, 2016 at 13:41FelixSFD6,0821010 gold badges4444 silver badges121121 bronze badgesansweredDec 11, 2016 at 13:39Okan SARICAOkan SARICA35744 silver badges1616 bronze badges\n\nThe trick here is to look for the string, ignoring case, but to keep it exactly the same (with the same case).var s=""Factory Reset"";\n var txt=""reset"";\n int first = s.IndexOf(txt, StringComparison.InvariantCultureIgnoreCase) + txt.Length;\n var subString = s.Substring(first - txt.Length, txt.Length);Output is ""Reset""ShareImprove this answerFolloweditedOct 31, 2017 at 15:16Massimiliano Kraus3,79555 gold badges2828 silver badges4848 bronze badgesansweredMay 3, 2016 at 14:36Mr.BMr.B3,69933 gold badges3030 silver badges4040 bronze badges\n\nWell i came accross this post so i decided to make a benchmark of some of the popular answers and in shortJaredPar\'s answeris the fastest with 0 memory allocation andColonel Panic\'s answeris the slowestBenchmark InfoDate: 2023/05.NET SDK: 7.0.103BenchmarkDotNet: 0.13.5CPU: i3-8100OS: Arch LinuxCode Used[MemoryDiagnoser]\npublic class StringContains\n{\n    [Params(""How to install Arch Linux?"")]\n    public string Phrase { get; set; }\n    [Params(""How to"", ""arch"", ""blazor"", ""random long string to see if it effects the time needed"")]\n    public string search { get; set; }\n\n    [Benchmark(Baseline = true)]\n    public bool Contains() =>\n        Phrase.Contains(search, System.StringComparison.CurrentCultureIgnoreCase);\n\n    [Benchmark]\n    public bool toUpper() =>\n        Phrase.ToUpper().Contains(search.ToUpper());\n\n    [Benchmark]\n    public bool toLower() =>\n        Phrase.ToLower().Contains(search.ToLower());\n\n    [Benchmark]\n    public bool IndexeOf() =>\n        Phrase.IndexOf(search, StringComparison.OrdinalIgnoreCase) >= 0;\n\n    [Benchmark]\n    public bool CultureCompareInfo()\n    {\n        var culture = new CultureInfo(""en-US"");\n        return culture.CompareInfo.IndexOf(Phrase, search, CompareOptions.IgnoreCase) >= 0;\n    }\n}Resultsi deleted some columns because they don\'t really matterMethodPhrasesearchMeanRatioGen0AllocatedContainsHow t(...)inux? [26]How to46.887 ns1.00--toUpperHow t(...)inux? [26]How to88.386 ns1.890.0381120 BtoLowerHow t(...)inux? [26]How to87.196 ns1.860.0381120 BIndexeOfHow t(...)inux? [26]How to19.730 ns0.42--CultureCompareInfoHow t(...)inux? [26]How to166.691 ns3.560.0560176 BContainsHow t(...)inux? [26]arch98.794 ns1.00--toUpperHow t(...)inux? [26]arch86.692 ns0.880.0356112 BtoLowerHow t(...)inux? [26]arch70.534 ns0.710.025480 BIndexeOfHow t(...)inux? [26]arch26.405 ns0.27--CultureCompareInfoHow t(...)inux? [26]arch219.527 ns2.220.0560176 BContainsHow t(...)inux? [26]blazor118.889 ns1.00--toUpperHow t(...)inux? [26]blazor83.605 ns0.700.0381120 BtoLowerHow t(...)inux? [26]blazor67.559 ns0.570.025480 BIndexeOfHow t(...)inux? [26]blazor13.209 ns0.11--CultureCompareInfoHow t(...)inux? [26]blazor229.810 ns1.930.0560176 BContainsHow t(...)inux? [26]rando(...)eeded [55]95.442 ns1.00--toUpperHow t(...)inux? [26]rando(...)eeded [55]113.243 ns1.190.0688216 BtoLowerHow t(...)inux? [26]rando(...)eeded [55]86.116 ns0.900.025480 BIndexeOfHow t(...)inux? [26]rando(...)eeded [55]7.380 ns0.08--CultureCompareInfoHow t(...)inux? [26]rando(...)eeded [55]217.331 ns2.280.0560176 BLegendsPhrase      : Value of the \'Phrase\' parametersearch      : Value of the \'search\' parameterMean        : Arithmetic mean of all measurementsRatio       : Mean of the ratio distribution ([Current]/[Baseline])Gen0        : GC Generation 0 collects per 1000 operationsAllocated   : Allocated memory per single operation (managed only, inclusive, 1KB = 1024B)1 ns        : 1 Nanosecond (0.000000001 sec)ShareImprove this answerFollowansweredMay 24, 2023 at 21:15cabistecabiste38744 silver badges1414 bronze badges\n\npublic static class StringExtension\n{\n    #region Public Methods\n\n    public static bool ExContains(this string fullText, string value)\n    {\n        return ExIndexOf(fullText, value) > -1;\n    }\n\n    public static bool ExEquals(this string text, string textToCompare)\n    {\n        return text.Equals(textToCompare, StringComparison.OrdinalIgnoreCase);\n    }\n\n    public static bool ExHasAllEquals(this string text, params string[] textArgs)\n    {\n        for (int index = 0; index < textArgs.Length; index++)\n            if (ExEquals(text, textArgs[index]) == false) return false;\n        return true;\n    }\n\n    public static bool ExHasEquals(this string text, params string[] textArgs)\n    {\n        for (int index = 0; index < textArgs.Length; index++)\n            if (ExEquals(text, textArgs[index])) return true;\n        return false;\n    }\n\n    public static bool ExHasNoEquals(this string text, params string[] textArgs)\n    {\n        return ExHasEquals(text, textArgs) == false;\n    }\n\n    public static bool ExHasNotAllEquals(this string text, params string[] textArgs)\n    {\n        for (int index = 0; index < textArgs.Length; index++)\n            if (ExEquals(text, textArgs[index])) return false;\n        return true;\n    }\n\n    /// <summary>\n    /// Reports the zero-based index of the first occurrence of the specified string\n    /// in the current System.String object using StringComparison.InvariantCultureIgnoreCase.\n    /// A parameter specifies the type of search to use for the specified string.\n    /// </summary>\n    /// <param name=""fullText"">\n    /// The string to search inside.\n    /// </param>\n    /// <param name=""value"">\n    /// The string to seek.\n    /// </param>\n    /// <returns>\n    /// The index position of the value parameter if that string is found, or -1 if it\n    /// is not. If value is System.String.Empty, the return value is 0.\n    /// </returns>\n    /// <exception cref=""ArgumentNullException"">\n    /// fullText or value is null.\n    /// </exception>\n    public static int ExIndexOf(this string fullText, string value)\n    {\n        return fullText.IndexOf(value, StringComparison.OrdinalIgnoreCase);\n    }\n\n    public static bool ExNotEquals(this string text, string textToCompare)\n    {\n        return ExEquals(text, textToCompare) == false;\n    }\n\n    #endregion Public Methods\n}ShareImprove this answerFollowansweredJun 14, 2017 at 3:16Final HeavenFinal Heaven13477 bronze badges\n\nBased on the existing answers and on the documentation of Contains method I would recommend the creation of the following extension which also takes care of the corner cases:public static class VStringExtensions \n{\n    public static bool Contains(this string source, string toCheck, StringComparison comp) \n    {\n        if (toCheck == null) \n        {\n            throw new ArgumentNullException(nameof(toCheck));\n        }\n\n        if (source.Equals(string.Empty)) \n        {\n            return false;\n        }\n\n        if (toCheck.Equals(string.Empty)) \n        {\n            return true;\n        }\n\n        return source.IndexOf(toCheck, comp) >= 0;\n    }\n}ShareImprove this answerFollowansweredOct 29, 2020 at 10:06Valentin PetaValentin Peta5144 bronze badges'}","{'title': 'How can I prevent SQL injection in PHP?', 'question': 'This question\'s answers are acommunity effort. Edit existing answers to improve this post. It is not currently accepting new answers or interactions.If user input is inserted without modification into an SQL query, then the application becomes vulnerable toSQL injection, like in the following example:$unsafe_variable = $_POST[\'user_input\']; \n\nmysql_query(""INSERT INTO `table` (`column`) VALUES (\'$unsafe_variable\')"");That\'s because the user can input something likevalue\'); DROP TABLE table;--, and the query becomes:INSERT INTO `table` (`column`) VALUES(\'value\'); DROP TABLE table;--\')What can be done to prevent this from happening?phpmysqlsqlsecuritysql-injectionShareFolloweditedOct 1, 2016 at 8:08community wiki44 revs, 36 users 14%Andrew G. Johnson', 'answers': 'Answer recommended byPHPCollectiveThecorrectway to avoid SQL injection attacks, no matter which database you use, is toseparate the data from SQL, so that data stays data and willnever be interpretedas commands by the SQL parser. It is possible to create an SQL statement with correctly formatted data parts, but if you don\'tfullyunderstand the details, you should alwaysuse prepared statements and parameterized queries.These are SQL statements that are sent to and parsed by the database server separately from any parameters. This way it is impossible for an attacker to inject malicious SQL.You basically have two options to achieve this:UsingPDO(for any supported database driver):$stmt = $pdo->prepare(\'SELECT * FROM employees WHERE name = :name\');\n$stmt->execute([ \'name\' => $name ]);\n\nforeach ($stmt as $row) {\n    // Do something with $row\n}UsingMySQLi(for MySQL):Since PHP 8.2+we can make use ofexecute_query()which prepares, binds parameters, and executes SQL statement in one method:$result = $db->execute_query(\'SELECT * FROM employees WHERE name = ?\', [$name]);\n while ($row = $result->fetch_assoc()) {\n     // Do something with $row\n }Up to PHP8.1:$stmt = $db->prepare(\'SELECT * FROM employees WHERE name = ?\');\n $stmt->bind_param(\'s\', $name); // \'s\' specifies the variable type => \'string\'\n $stmt->execute();\n $result = $stmt->get_result();\n while ($row = $result->fetch_assoc()) {\n     // Do something with $row\n }If you\'re connecting to a database other than MySQL, there is a driver-specific second option that you can refer to (for example,pg_prepare()andpg_execute()for PostgreSQL). PDO is the universal option.Correctly setting up the connectionPDONote that when usingPDOto access a MySQL databaserealprepared statements arenot used by default. To fix this you have to disable the emulation of prepared statements. An example of creating a connection usingPDOis:$dbConnection = new PDO(\'mysql:dbname=dbtest;host=127.0.0.1;charset=utf8mb4\', \'user\', \'password\');\n\n$dbConnection->setAttribute(PDO::ATTR_EMULATE_PREPARES, false);\n$dbConnection->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);In the above example, the error mode isn\'t strictly necessary,but it is advised to add it. This way PDO will inform you of all MySQL errors by means of throwing thePDOException.What ismandatory, however, is the firstsetAttribute()line, which tells PDO to disable emulated prepared statements and userealprepared statements. This makes sure the statement and the values aren\'t parsed by PHP before sending it to the MySQL server (giving a possible attacker no chance to inject malicious SQL).Although you can set thecharsetin the options of the constructor, it\'s important to note that \'older\' versions of PHP (before 5.3.6)silently ignored the charset parameterin the DSN.MysqliFor mysqli we have to follow the same routine:mysqli_report(MYSQLI_REPORT_ERROR | MYSQLI_REPORT_STRICT); // error reporting\n$dbConnection = new mysqli(\'127.0.0.1\', \'username\', \'password\', \'test\');\n$dbConnection->set_charset(\'utf8mb4\'); // charsetExplanationThe SQL statement you pass toprepareis parsed and compiled by the database server. By specifying parameters (either a?or a named parameter like:namein the example above) you tell the database engine where you want to filter on. Then when you callexecute, the prepared statement is combined with the parameter values you specify.The important thing here is that the parameter values are combined with the compiled statement, not an SQL string. SQL injection works by tricking the script into including malicious strings when it creates SQL to send to the database. So by sending the actual SQL separately from the parameters, you limit the risk of ending up with something you didn\'t intend.Any parameters you send when using a prepared statement will just be treated as strings (although the database engine may do some optimization so parameters may end up as numbers too, of course). In the example above, if the$namevariable contains\'Sarah\'; DELETE FROM employeesthe result would simply be a search for the string""\'Sarah\'; DELETE FROM employees"", and you will not end up withan empty table.Another benefit of using prepared statements is that if you execute the same statement many times in the same session it will only be parsed and compiled once, giving you some speed gains.Oh, and since you asked about how to do it for an insert, here\'s an example (using PDO):$preparedStatement = $db->prepare(\'INSERT INTO table (column) VALUES (:column)\');\n\n$preparedStatement->execute([ \'column\' => $unsafeValue ]);Can prepared statements be used for dynamic queries?While you can still use prepared statements for the query parameters, the structure of the dynamic query itself cannot be parametrized and certain query features cannot be parametrized.For these specific scenarios, the best thing to do is use a whitelist filter that restricts the possible values.// Value whitelist\n// $dir can only be \'DESC\', otherwise it will be \'ASC\'\nif (empty($dir) || $dir !== \'DESC\') {\n   $dir = \'ASC\';\n}ShareImprove this answerFolloweditedJun 8, 2023 at 11:52community wiki55 revs, 35 users 20%Your Common Sense\n\nTo use the parameterized query, you need to use either Mysqli or PDO. To rewrite your example with mysqli, we would need something like the following.<?php\nmysqli_report(MYSQLI_REPORT_ERROR | MYSQLI_REPORT_STRICT);\n$mysqli = new mysqli(""server"", ""username"", ""password"", ""database_name"");\n\n$variable = $_POST[""user-input""];\n$stmt = $mysqli->prepare(""INSERT INTO table (column) VALUES (?)"");\n// ""s"" means the database expects a string\n$stmt->bind_param(""s"", $variable);\n$stmt->execute();The key function you\'ll want to read up on there would bemysqli::prepare.Also, as others have suggested, you may find it useful/easier to step up a layer of abstraction with something likePDO.Please note that the case you asked about is a fairly simple one and that more complex cases may require more complex approaches. In particular:If you want to alter the structure of the SQL based on user input, parameterized queries are not going to help, and the escaping required is not covered bymysql_real_escape_string. In this kind of case, you would be better off passing the user\'s input through a whitelist to ensure only \'safe\' values are allowed through.ShareImprove this answerFolloweditedMar 24, 2022 at 11:30community wiki21 revs, 16 users 57%Matt Sheppard\n\nEvery answer here covers only part of the problem.\nIn fact, there arefourdifferent query parts which we can add to SQL dynamically: -a stringa numberan identifiera syntax keywordAnd prepared statements cover only two of them.But sometimes we have to make our query even more dynamic, adding operators or identifiers as well.\nSo, we will need different protection techniques.In general, such a protection approach is based onwhitelisting.In this case, every dynamic parameter should be hardcoded in your script and chosen from that set.\nFor example, to do dynamic ordering:$orders  = array(""name"", ""price"", ""qty""); // Field names\n$key = array_search($_GET[\'sort\'], $orders)); // if we have such a name\n$orderby = $orders[$key]; // If not, first one will be set automatically. \n$query = ""SELECT * FROM `table` ORDER BY $orderby""; // Value is safeTo ease the process I wrote awhitelist helper functionthat does all the job in one line:$orderby = white_list($_GET[\'orderby\'], ""name"", [""name"",""price"",""qty""], ""Invalid field name"");\n$query  = ""SELECT * FROM `table` ORDER BY `$orderby`""; // sound and safeThere is another way to secure identifiers - escaping but I rather stick to whitelisting as a more robust and explicit approach. Yet as long as you have an identifier quoted, you can escape the quote character to make it safe. For example, by default for mysql you have todouble the quote character to escape it. For other other DBMS escaping rules would be different.Still, there is an issue with SQL syntax keywords (such asAND,DESCand such), but white-listing seems the only approach in this case.So, a general recommendation may be phrased asAny variable that represents an SQL data literal, (or, to put it simply - an SQL string, or a number) must be added through a prepared statement. No Exceptions.Any other query part, such as an SQL keyword, a table or a field name, or an operator - must be filtered through a white list.UpdateAlthough there is a general agreement on the best practices regarding SQL injection protection, there arestill many bad practices as well.And some of them too deeply rooted in the minds of PHP users. For instance, on this very page there are (although invisible to most visitors)more than 80 deleted answers- all removed by the community due to bad quality or promoting bad and outdated practices. Worse yet, some of the bad answers aren\'t deleted, but rather prospering.For example,there(1)are(2)still(3)many(4)answers(5), including thesecond most upvoted answersuggesting you manual string escaping - an outdated approach that is proven to be insecure.Or there is a slightly better answer that suggests justanother method of string formattingand even boasts it as the ultimate panacea. While of course, it is not. This method is no better than regular string formatting, yet it keeps all its drawbacks: it is applicable to strings only and, like any other manual formatting, it\'s essentially optional, non-obligatory measure, prone to human error of any sort.I think that all this because of one very old superstition, supported by such authorities likeOWASPorthe PHP manual, which proclaims equality between whatever ""escaping"" and protection from SQL injections.Regardless of what PHP manual said for ages,*_escape_stringby no means makes data safeand never has been intended to. Besides being useless for any SQL part other than string, manual escaping is wrong, because it is manual as opposite to automated.And OWASP makes it even worse, stressing on escapinguser inputwhich is an utter nonsense: there should be no such words in the context of injection protection. Every variable is potentially dangerous - no matter the source! Or, in other words - every variable has to be properly formatted to be put into a query - no matter the source again. It\'s the destination that matters. The moment a developer starts to separate the sheep from the goats (thinking whether some particular variable is ""safe"" or not) he/she takes his/her first step towards disaster. Not to mention that even the wording suggests bulk escaping at the entry point, resembling the very magic quotes feature - already despised, deprecated and removed.So, unlike whatever ""escaping"", prepared statementsisthe measure that indeed protects from SQL injection (when applicable).ShareImprove this answerFolloweditedJun 20, 2020 at 9:12community wiki10 revs, 6 users 67%Your Common Sense\n\nI\'d recommend usingPDO(PHP Data Objects) to run parameterized SQL queries.Not only does this protect against SQL injection, but it also speeds up queries.And by using PDO rather thanmysql_,mysqli_, andpgsql_functions, you make your application a little more abstracted from the database, in the rare occurrence that you have to switch database providers.ShareImprove this answerFolloweditedNov 17, 2023 at 19:24community wiki6 revs, 5 users 33%Kibbee\n\nUsePDOand prepared queries.($connis aPDOobject)$stmt = $conn->prepare(""INSERT INTO tbl VALUES(:id, :name)"");\n$stmt->bindValue(\':id\', $id);\n$stmt->bindValue(\':name\', $name);\n$stmt->execute();ShareImprove this answerFolloweditedMar 24, 2021 at 10:25community wiki3 revs, 3 users 78%Imran\n\nAs you can see, people suggest you use prepared statements at the most. It\'s not wrong, but when your query is executedjust onceper process, there would be a slight performance penalty.I was facing this issue, but I think I solved it inverysophisticated way - the way hackers use to avoid using quotes. I used this in conjunction with emulated prepared statements. I use it to preventallkinds of possible SQL injection attacks.My approach:If you expect input to be integer make sure it\'sreallyinteger. In a variable-type language like PHP it is thisveryimportant. You can use for example this very simple but powerful solution:sprintf(""SELECT 1,2,3 FROM table WHERE 4 = %u"", $input);If you expect anything else from integerhex it. If you hex it, you will perfectly escape all input. In C/C++ there\'s a function calledmysql_hex_string(), in PHP you can usebin2hex().Don\'t worry about that the escaped string will have a 2x size of its original length because even if you usemysql_real_escape_string, PHP has to allocate same capacity((2*input_length)+1), which is the same.This hex method is often used when you transfer binary data, but I see no reason why not use it on all data to prevent SQL injection attacks. Note that you have to prepend data with0xor use the MySQL functionUNHEXinstead.So, for example, the query:SELECT password FROM users WHERE name = \'root\';Will become:SELECT password FROM users WHERE name = 0x726f6f74;orSELECT password FROM users WHERE name = UNHEX(\'726f6f74\');Hex is the perfect escape. No way to inject.Difference between UNHEX function and 0x prefixThere was some discussion in comments, so I finally want to make it clear. These two approaches are very similar, but they are a little different in some ways:The0xprefix can only be used for data columns such aschar,varchar,text,block,binary, etc.Also, its use is a little complicated if you are about to insert an empty string. You\'ll have to entirely replace it with\'\', or you\'ll get an error.UNHEX()works onanycolumn; you do not have to worry about the empty string.Hex methods are often used as attacksNote that this hex method is often used as an SQL injection attack where integers are just like strings and escaped just withmysql_real_escape_string. Then you can avoid the use of quotes.For example, if you just do something like this:""SELECT title FROM article WHERE id = "" . mysql_real_escape_string($_GET[""id""])an attack can inject you veryeasily. Consider the following injected code returned from your script:SELECT ... WHERE id = -1 UNION ALL SELECT table_name FROM information_schema.tables;and now just extract table structure:SELECT ... WHERE id = -1 UNION ALL SELECT column_name FROM information_schema.column WHERE table_name = __0x61727469636c65__;And then just select whatever data ones want. Isn\'t it cool?But if the coder of an injectable site would hex it, no injection would be possible because the query would look like this:SELECT ... WHERE id = UNHEX(\'2d312075...3635\');ShareImprove this answerFolloweditedJun 12, 2020 at 3:31community wiki9 revs, 7 users 73%Zaffy\n\nDeprecated Warning:This answer\'s sample code (like the question\'s sample code) uses PHP\'sMySQLextension, which was deprecated in PHP 5.5.0 and removed entirely in PHP 7.0.0.Security Warning: This answer is not in line with security best practices.Escaping is inadequate to prevent SQL injection, useprepared statementsinstead. Use the strategy outlined below at your own risk. (Also,mysql_real_escape_string()was removed in PHP 7.)IMPORTANTThe best way to prevent SQL Injection is to usePrepared Statementsinstead of escaping, asthe accepted answerdemonstrates.There are libraries such asAura.SqlandEasyDBthat allow developers to use prepared statements easier. To learn more about why prepared statements are better atstopping SQL injection, refer tothismysql_real_escape_string()bypassandrecently fixed Unicode SQL Injection vulnerabilities in WordPress.Injection prevention -mysql_real_escape_string()PHP has a specially-made function to prevent these attacks. All you need to do is use the mouthful of a function,mysql_real_escape_string.mysql_real_escape_stringtakes a string that is going to be used in a MySQL query and return the same string with all SQL injection attempts safely escaped. Basically, it will replace those troublesome quotes(\') a user might enter with a MySQL-safe substitute, an escaped quote \\\'.NOTE:you must be connected to the database to use this function!// Connect to MySQL$name_bad = ""\' OR 1\'""; \n\n$name_bad = mysql_real_escape_string($name_bad);\n\n$query_bad = ""SELECT * FROM customers WHERE username = \'$name_bad\'"";\necho ""Escaped Bad Injection: <br />"" . $query_bad . ""<br />"";\n\n\n$name_evil = ""\'; DELETE FROM customers WHERE 1 or username = \'""; \n\n$name_evil = mysql_real_escape_string($name_evil);\n\n$query_evil = ""SELECT * FROM customers WHERE username = \'$name_evil\'"";\necho ""Escaped Evil Injection: <br />"" . $query_evil;You can find more details inMySQL - SQL Injection Prevention.ShareImprove this answerFolloweditedMay 9, 2019 at 3:05community wiki7 revs, 7 users 60%rahularyansharma\n\nSecurity Warning: This answer is not in line with security best practices.Escaping is inadequate to prevent SQL injection, useprepared statementsinstead. Use the strategy outlined below at your own risk.You could do something basic like this:$safe_variable = mysqli_real_escape_string($dbConnection, $_POST[""user-input""]);\nmysqli_query($dbConnection, ""INSERT INTO table (column) VALUES (\'"" . $safe_variable . ""\')"");This won\'t solve every problem, but it\'s a very good stepping stone. I left out obvious items such as checking the variable\'s existence, format (numbers, letters, etc.).ShareImprove this answerFolloweditedSep 1, 2022 at 14:26community wiki12 revs, 11 users 37%Kiran Maniya\n\nWhatever you do end up using, make sure that you check your input hasn\'t already been mangled bymagic_quotesor some other well-meaning rubbish, and if necessary, run it throughstripslashesor whatever to sanitize it.ShareImprove this answerFolloweditedDec 25, 2017 at 14:40community wiki2 revs, 2 users 67%Rob\n\nDeprecated Warning:This answer\'s sample code (like the question\'s sample code) uses PHP\'sMySQLextension, which was deprecated in PHP 5.5.0 and removed entirely in PHP 7.0.0.Security Warning: This answer is not in line with security best practices.Escaping is inadequate to prevent SQL injection, useprepared statementsinstead. Use the strategy outlined below at your own risk. (Also,mysql_real_escape_string()was removed in PHP 7.)Parameterized query AND input validation is the way to go. There are many scenarios under which SQL injection may occur, even thoughmysql_real_escape_string()has been used.Those examples are vulnerable to SQL injection:$offset = isset($_GET[\'o\']) ? $_GET[\'o\'] : 0;\n$offset = mysql_real_escape_string($offset);\nRunQuery(""SELECT userid, username FROM sql_injection_test LIMIT $offset, 10"");or$order = isset($_GET[\'o\']) ? $_GET[\'o\'] : \'userid\';\n$order = mysql_real_escape_string($order);\nRunQuery(""SELECT userid, username FROM sql_injection_test ORDER BY `$order`"");In both cases, you can\'t use\'to protect the encapsulation.Source:The Unexpected SQL Injection (When Escaping Is Not Enough)ShareImprove this answerFolloweditedMay 9, 2019 at 2:59community wiki5 revs, 4 users 77%Cedric\n\nIn my opinion, the best way to generally prevent SQL injection in your PHP application (or any web application, for that matter) is to think about your application\'s architecture. If the only way to protect against SQL injection is to remember to use a special method or function that does The Right Thing every time you talk to the database, you are doing it wrong. That way, it\'s just a matter of time until you forget to correctly format your query at some point in your code.Adopting the MVC pattern and a framework likeCakePHPorCodeIgniteris probably the right way to go: Common tasks like creating secure database queries have been solved and centrally implemented in such frameworks. They help you to organize your web application in a sensible way and make you think more about loading and saving objects than about securely constructing single SQL queries.ShareImprove this answerFolloweditedJul 16, 2014 at 2:05community wikiJohannes Fahrenkrug\n\nThere are many ways of preventing SQL injections and other SQL hacks. You can easily find it on the Internet (Google Search). Of coursePDO is one of the good solutions.But I would like to suggest you some good links prevention from SQL injection.What is SQL injection and how to preventPHP manual for SQL injectionMicrosoft explanation of SQL injection and prevention in PHPAnd some other likePreventing SQL injection with MySQL and PHP.Now,why you do you need to prevent your query from SQL injection?I would like to let you know: Why do we try for preventing SQL injection with a short example below:Query for login authentication match:$query=""select * from users where email=\'"".$_POST[\'email\'].""\' and password=\'"".$_POST[\'password\'].""\' "";Now, if someone (a hacker) puts$_POST[\'email\']=[email\xa0protected]\' OR \'1=1and password anything....The query will be parsed into the system only up to:$query=""select * from users where email=\'[email\xa0protected]\' OR \'1=1\';The other part will be discarded. So, what will happen? A non-authorized user (hacker) will be able to log in as administrator without having his/her password. Now, he/she can do anything that the administrator/email person can do. See, it\'s very dangerous if SQL injection is not prevented.ShareImprove this answerFolloweditedFeb 22, 2020 at 17:39community wiki7 revs, 5 users 56%Manish Shrivastava\n\nI favorstored procedures(MySQL has had stored procedures support since 5.0) from a security point of view - the advantages are -Most databases (includingMySQL) enable user access to be restricted to executing stored procedures. The fine-grained security access control is useful to prevent escalation of privileges attacks. This prevents compromised applications from being able to run SQL directly against the database.They abstract the raw SQL query from the application so less information of the database structure is available to the application. This makes it harder for people to understand the underlying structure of the database and design suitable attacks.They accept only parameters, so the advantages of parameterized queries are there. Of course - IMO you still need to sanitize your input - especially if you are using dynamic SQL inside the stored procedure.The disadvantages are -They (stored procedures) are tough to maintain and tend to multiply very quickly. This makes managing them an issue.They are not very suitable for dynamic queries - if they are built to accept dynamic code as parameters then a lot of the advantages are negated.ShareImprove this answerFolloweditedDec 25, 2017 at 14:43community wiki3 revs, 3 users 76%Nikhil\n\nI believe that if someone intends to utilize PHP along with MySQL or any other database server:Consider exploringPDO(PHP Data Objects) - an invaluable database access layer that offers a consistent approach to accessing various databases.Consider delving intoMySQLi, which is an excellent option for learning and utilizing MySQL databases.P.S:PDO has such advantages as support for twelve different database drivers and named parameters. From a security standpoint, both of them are safe as long as the developer uses them the way they are supposed to be usedShareImprove this answerFolloweditedJul 17, 2023 at 5:27community wiki6 revs, 4 users 51%RDK\n\nIf possible, cast the types of your parameters. But it\'s only working on simple types like int, bool, and float.$unsafe_variable = $_POST[\'user_id\'];\n\n$safe_variable = (int)$unsafe_variable ;\n\nmysqli_query($conn, ""INSERT INTO table (column) VALUES (\'"" . $safe_variable . ""\')"");ShareImprove this answerFolloweditedMay 1, 2018 at 16:51community wiki3 revs, 3 users 86%devOp\n\nFor those unsure of how to use PDO (coming from themysql_functions), I made avery, very simple PDO wrapperthat is a single file. It exists to show how easy it is to do all the common things applications need to be done. Works with PostgreSQL, MySQL, and SQLite.Basically, read itwhile you read the manualto see how to put the PDO functions to use in real life to make it simple to store and retrieve values in the formatyouwant.I want a single column$count = DB::column(\'SELECT COUNT(*) FROM `user`\');I want an array(key => value) results (i.e. for making a selectbox)$pairs = DB::pairs(\'SELECT `id`, `username` FROM `user`\');I want a single row result$user = DB::row(\'SELECT * FROM `user` WHERE `id` = ?\', array($user_id));I want an array of results$banned_users = DB::fetch(\'SELECT * FROM `user` WHERE `banned` = ?\', array(\'TRUE\'));ShareImprove this answerFolloweditedDec 4, 2021 at 15:43community wiki4 revs, 4 users 81%Xeoncross\n\nSecurity Warning: This answer is not in line with security best practices.Escaping is inadequate to prevent SQL injection, useprepared statementsinstead.A few guidelines for escaping special characters in SQL statements.Don\'t useMySQL. This extension is deprecated. UseMySQLiorPDOinstead.MySQLiFor manually escaping special characters in a string you can use themysqli_real_escape_stringfunction. The function will not work properly unless the correct character set is set withmysqli_set_charset.Example:$mysqli = new mysqli(\'host\', \'user\', \'password\', \'database\');\n$mysqli->set_charset(\'charset\');\n\n$string = $mysqli->real_escape_string($string);\n$mysqli->query(""INSERT INTO table (column) VALUES (\'$string\')"");For automatic escaping of values with prepared statements, usemysqli_prepare, andmysqli_stmt_bind_paramwhere types for the corresponding bind variables must be provided for an appropriate conversion:Example:$stmt = $mysqli->prepare(""INSERT INTO table (column1, column2) VALUES (?,?)"");\n\n$stmt->bind_param(""is"", $integer, $string);\n\n$stmt->execute();No matter if you use prepared statements ormysqli_real_escape_string, you always have to know the type of input data you\'re working with.So if you use a prepared statement, you must specify the types of the variables formysqli_stmt_bind_paramfunction.And the use ofmysqli_real_escape_stringis for, as the name says, escaping special characters in a string, so it will not make integers safe. The purpose of this function is to prevent breaking the strings in SQL statements, and the damage to the database that it could cause.mysqli_real_escape_stringis a useful function when used properly, especially when combined withsprintf.Example:$string = ""x\' OR name LIKE \'%John%"";\n$integer = \'5 OR id != 0\';\n\n$query = sprintf( ""SELECT id, email, pass, name FROM members WHERE email =\'%s\' AND id = %d"", $mysqli->real_escape_string($string), $integer);\n\necho $query;\n// SELECT id, email, pass, name FROM members WHERE email =\'x\\\' OR name LIKE \\\'%John%\' AND id = 5\n\n$integer = \'99999999999999999999\';\n$query = sprintf(""SELECT id, email, pass, name FROM members WHERE email =\'%s\' AND id = %d"", $mysqli->real_escape_string($string), $integer);\n\necho $query;\n// SELECT id, email, pass, name FROM members WHERE email =\'x\\\' OR name LIKE \\\'%John%\' AND id = 2147483647ShareImprove this answerFolloweditedMay 13, 2022 at 21:16community wiki7 revs, 5 users 77%Danijel\n\nSecurity Warning: This answer is not in line with security best practices.Escaping is inadequate to prevent SQL injection, useprepared statementsinstead. Use the strategy outlined below at your own risk. (Also,mysql_real_escape_string()was removed in PHP 7.)Warning: The mysql extension is removed at this time. we recommend using thePDO extensionUsing this PHP functionmysql_escape_string()you can get a good prevention in a fast way.For example:SELECT * FROM users WHERE name = \'"".mysql_escape_string($name_from_html_form).""\'mysql_escape_string— Escapes a string for use in a mysql_queryFor more prevention, you can add at the end ...wHERE 1=1   or  LIMIT 1Finally you get:SELECT * FROM users WHERE name = \'"".mysql_escape_string($name_from_html_form).""\' LIMIT 1ShareImprove this answerFolloweditedMay 13, 2022 at 21:15community wiki5 revs, 5 users 75%Nicolas Finelli\n\nThe simple alternative to this problem could be solved by granting appropriate permissions in the database itself.\nFor example: if you are using a MySQL database then enter into the database through terminal or the UI provided and just follow this command:GRANT SELECT, INSERT, DELETE ON database TO username@\'localhost\' IDENTIFIED BY \'password\';This will restrict the user to only get confined with the specified query\'s only. Remove the delete permission and so the data would never get deleted from the query fired from the PHP page.\nThe second thing to do is to flush the privileges so that the MySQL refreshes the permissions and updates.FLUSH PRIVILEGES;more information aboutflush.To see the current privileges for the user fire the following query.select * from mysql.user where User=\'username\';Learn more aboutGRANT.ShareImprove this answerFolloweditedNov 19, 2018 at 13:25community wiki8 revs, 8 users 48%Apurv Nerlekar\n\nRegarding many useful answers, I hope to add some value to this thread.SQL injection is an attack that can be done through user inputs (inputs that filled by a user and then used inside queries). The SQL injection patterns are correct query syntax while we can call it: bad queries for bad reasons, and we assume that there might be a bad person that try to get secret information (bypassing access control) that affect the three principles of security (confidentiality, integrity, and availability).Now, our point is to prevent security threats such as SQL injection attacks, the question asking (how to prevent an SQL injection attack using PHP), be more realistic, data filtering or clearing input data is the case when using user-input data inside such query, using PHP or any other programming language is not the case, or as recommended by more people to use modern technology such as prepared statement or any other tools that currently supporting SQL injection prevention, consider that these tools not available anymore? How do you secure your application?My approach against SQL injection is: clearing user-input data before sending it to the database (before using it inside any query).Data filtering for (converting unsafe data to safe data)Consider thatPDOandMySQLiare not available. How can you secure your application? Do you force me to use them? What about other languages other than PHP? I prefer to provide general ideas as it can be used for wider border, not just for a specific language.SQL user (limiting user privilege): most common SQL operations are (SELECT, UPDATE, INSERT), then, why give the UPDATE privilege to a user that does not require it? For example,login, and search pagesare only using SELECT, then, why use DB users in these pages with high privileges?RULE: do not create one database user for all privileges. For all SQL operations, you can create your scheme like (deluser, selectuser, updateuser) as usernames for easy usage.Seeprinciple of least privilege.Data filtering: before building any query user input, it should be validated and filtered. For programmers, it\'s important to define some properties for each user-input variables:data type, data pattern, and data length. A field that is a number between (x and y) must be exactly validated using the exact rule, and for a field that is a string (text): pattern is the case, for example, a username must contain only some characters, let’s say [a-zA-Z0-9_-.]. The length varies between (x and n) where x and n (integers, x <=n).Rule: creating exact filters and validation rules are best practices for me.Use other tools: Here, I will also agree with you that a prepared statement (parametrized query) and stored procedures. The disadvantages here is these ways require advanced skills which do not exist for most users. The basic idea here is to distinguish between the SQL query and the data that is used inside. Both approaches can be used even with unsafe data, because the user-input data here does not add anything to the original query, such as (any or x=x).For more information, please readOWASP SQL Injection Prevention Cheat Sheet.Now, if you are an advanced user, start using this defense as you like, but, for beginners, if they can\'t quickly implement a stored procedure and prepared the statement, it\'s better to filter input data as much they can.Finally, let\'s consider that a user sends this text below instead of entering his/her username:[1] UNION SELECT IF(SUBSTRING(Password,1,1)=\'2\',BENCHMARK(100000,SHA1(1)),0) User,Password FROM mysql.user WHERE User = \'root\'This input can be checked early without any prepared statement and stored procedures, but to be on the safe side, using them starts after user-data filtering and validation.The last point is detecting unexpected behavior which requires more effort and complexity; it\'s not recommended for normal web applications.Unexpected behavior in the above user input is SELECT, UNION, IF, SUBSTRING, BENCHMARK, SHA, and root. Once these words detected, you can avoid the input.UPDATE 1:A user commented that this post is useless, OK! Here is whatOWASP.ORG provided:Primary defenses:Option #1: Use of Prepared Statements (Parameterized Queries)Option #2: Use of Stored ProceduresOption #3: Escaping all User Supplied InputAdditional defenses:Also Enforce: Least PrivilegeAlso Perform: White List Input ValidationAs you may know, claiming an article should be supported by a valid argument, at least by one reference! Otherwise, it\'s considered as an attack and a bad claim!Update 2:From the PHP manual,PHP: Prepared Statements - Manual:Escaping and SQL injectionBound variables will be escaped automatically by the server. The\n  server inserts their escaped values at the appropriate places into the\n  statement template before execution. A hint must be provided to the\n  server for the type of bound variable, to create an appropriate\n  conversion. See the mysqli_stmt_bind_param() function for more\n  information.The automatic escaping of values within the server is sometimes\n  considered a security feature to prevent SQL injection. The same\n  degree of security can be achieved with non-prepared statements if\n  input values are escaped correctly.Update 3:I created test cases for knowing how PDO and MySQLi send the query to the MySQL server when using a prepared statement:PDO:$user = ""\'\'1\'\'""; // Malicious keyword\n$sql = \'SELECT * FROM awa_user WHERE userame =:username\';\n$sth = $dbh->prepare($sql, array(PDO::ATTR_CURSOR => PDO::CURSOR_FWDONLY));\n$sth->execute(array(\':username\' => $user));Query Log:189 Query SELECT * FROM awa_user WHERE userame =\'\\\'\\\'1\\\'\\\'\'\n    189 QuitMySQLi:$stmt = $mysqli->prepare(""SELECT * FROM awa_user WHERE username =?"")) {\n$stmt->bind_param(""s"", $user);\n$user = ""\'\'1\'\'"";\n$stmt->execute();Query Log:188 Prepare   SELECT * FROM awa_user WHERE username =?\n    188 Execute   SELECT * FROM awa_user WHERE username =\'\\\'\\\'1\\\'\\\'\'\n    188 QuitIt\'s clear that a prepared statement is also escaping the data, nothing else.As also mentioned in the above statement,The automatic escaping of values within the server is sometimes considered a security feature to prevent SQL injection. The same degree of security can be achieved with non-prepared statements, if input values are escaped correctlyTherefore, this proves that data validation such asintval()is a good idea for integer values before sending any query. In addition, preventing malicious user data before sending the query isa correct and valid approach.Please see this question for more detail:PDO sends raw query to MySQL while Mysqli sends prepared query, both produce the same resultReferences:SQL Injection Cheat SheetSQL InjectionInformation securitySecurity PrinciplesData validationShareImprove this answerFolloweditedJul 15, 2019 at 13:31community wiki18 revs, 8 users 53%user1646111\n\nSecurity Warning: This answer is not in line with security best practices.Escaping is inadequate to prevent SQL injection, useprepared statementsinstead. Use the strategy outlined below at your own risk. (Also,mysql_real_escape_string()was removed in PHP 7.)Deprecated Warning: The mysql extension is deprecated at this time. we recommend using thePDO extensionI use three different ways to prevent my web application from being vulnerable to SQL injection.Use ofmysql_real_escape_string(), which is a pre-defined function inPHP, and this code add backslashes to the following characters:\\x00,\\n,\\r,\\,\',""and\\x1a. Pass the input values as parameters to minimize the chance of SQL injection.The most advanced way is to use PDOs.I hope this will help you.Consider the following query:$iId = mysql_real_escape_string(""1 OR 1=1"");\n $sSql = ""SELECT * FROM table WHERE id = $iId"";mysql_real_escape_string() will not protect here. If you use single quotes (\' \') around your variables inside your query is what protects you against this. Here is an solution below for this:$iId = (int) mysql_real_escape_string(""1 OR 1=1"");\n $sSql = ""SELECT * FROM table WHERE id = $iId"";Thisquestionhas some good answers about this.I suggest, using PDO is the best option.Edit:mysql_real_escape_string()is deprecated as of PHP 5.5.0. Use either mysqli or PDO.An alternative to mysql_real_escape_string() isstring mysqli_real_escape_string ( mysqli $link , string $escapestr )Example:$iId = $mysqli->real_escape_string(""1 OR 1=1"");\n$mysqli->query(""SELECT * FROM table WHERE id = $iId"");ShareImprove this answerFolloweditedMay 9, 2019 at 3:00community wiki6 revs, 4 users 73%Soumalya Banerjee\n\nA simple way would be to use a PHP framework likeCodeIgniterorLaravelwhich have inbuilt features like filtering and active-record so that you don\'t have to worry about these nuances.ShareImprove this answerFolloweditedDec 25, 2017 at 14:50community wiki5 revs, 4 users 29%Deepak Thomas\n\nWarning: the approach described in this answer only applies to very specific scenarios and isn\'t secure since SQL injection attacks do not only rely on being able to injectX=Y.If the attackers are trying to hack into the form via PHP\'s$_GETvariable or with the URL\'s query string, you would be able to catch them if they\'re not secure.RewriteCond %{QUERY_STRING} ([0-9]+)=([0-9]+)\nRewriteRule ^(.*) ^/track.phpBecause1=1,2=2,1=2,2=1,1+1=2, etc... are the common questions to an SQL database of an attacker. Maybe also it\'s used by many hacking applications.But you must be careful, that you must not rewrite a safe query from your site. The code above is giving you a tip, to rewrite or redirect(it depends on you)that hacking-specific dynamic query string into a page that will store the attacker\'sIP address, or EVEN THEIR COOKIES, history, browser, or any other sensitive information, so you can deal with them later by banning their account or contacting authorities.ShareImprove this answerFolloweditedJul 15, 2019 at 13:40community wiki7 revs, 4 users 53%5ervant\n\nA good idea is to use anobject-relational mapperlikeIdiorm:$user = ORM::for_table(\'user\')\n->where_equal(\'username\', \'j4mie\')\n->find_one();\n\n$user->first_name = \'Jamie\';\n$user->save();\n\n$tweets = ORM::for_table(\'tweet\')\n    ->select(\'tweet.*\')\n    ->join(\'user\', array(\n        \'user.id\', \'=\', \'tweet.user_id\'\n    ))\n    ->where_equal(\'user.username\', \'j4mie\')\n    ->find_many();\n\nforeach ($tweets as $tweet) {\n    echo $tweet->text;\n}It not only saves you from SQL injections, but from syntax errors too! It also supports collections of models with method chaining to filter or apply actions to multiple results at once and multiple connections.ShareImprove this answerFolloweditedMar 29, 2020 at 15:35community wiki5 revs, 4 users 78%Thomas Ahle\n\nThere are so many answers forPHP and MySQL, but here is code forPHP and Oraclefor preventing SQL injection as well as regular use of oci8 drivers:$conn = oci_connect($username, $password, $connection_string);\n$stmt = oci_parse($conn, \'UPDATE table SET field = :xx WHERE ID = 123\');\noci_bind_by_name($stmt, \':xx\', $fieldval);\noci_execute($stmt);ShareImprove this answerFolloweditedMay 25, 2016 at 13:51community wiki4 revs, 4 users 56%Chintan Gor\n\nThis post is marked obsolete because the content is out of date. It is not currently accepting new interactions.Deprecated Warning:This answer\'s sample code (like the question\'s sample code) uses PHP\'sMySQLextension, which was deprecated in PHP 5.5.0 and removed entirely in PHP 7.0.0.Security Warning: This answer is not in line with security best practices.Escaping is inadequate to prevent SQL injection, useprepared statementsinstead. Use the strategy outlined below at your own risk. (Also,mysql_real_escape_string()was removed in PHP 7.)UsingPDOandMYSQLiis a good practice to prevent SQL injections, but if you really want to work with MySQL functions and queries, it would be better to usemysql_real_escape_string$unsafe_variable = mysql_real_escape_string($_POST[\'user_input\']);There are more abilities to prevent this: like identify - if the input is a string, number, char or array, there are so many inbuilt functions to detect this. Also, it would be better to use these functions to check input data.is_string$unsafe_variable = (is_string($_POST[\'user_input\']) ? $_POST[\'user_input\'] : \'\');is_numeric$unsafe_variable = (is_numeric($_POST[\'user_input\']) ? $_POST[\'user_input\'] : \'\');And it is so much better to use those functions to check input data withmysql_real_escape_string.ShareeditedNov 17, 2023 at 19:55community wiki5 revs, 4 users 74%Rakesh Sharma\n\nI\'ve written this little function several years ago:function sqlvprintf($query, $args)\n{\n    global $DB_LINK;\n    $ctr = 0;\n    ensureConnection(); // Connect to database if not connected already.\n    $values = array();\n    foreach ($args as $value)\n    {\n        if (is_string($value))\n        {\n            $value = ""\'"" . mysqli_real_escape_string($DB_LINK, $value) . ""\'"";\n        }\n        else if (is_null($value))\n        {\n            $value = \'NULL\';\n        }\n        else if (!is_int($value) && !is_float($value))\n        {\n            die(\'Only numeric, string, array and NULL arguments allowed in a query. Argument \'.($ctr+1).\' is not a basic type, it\\\'s type is \'. gettype($value). \'.\');\n        }\n        $values[] = $value;\n        $ctr++;\n    }\n    $query = preg_replace_callback(\n        \'/{(\\\\d+)}/\', \n        function($match) use ($values)\n        {\n            if (isset($values[$match[1]]))\n            {\n                return $values[$match[1]];\n            }\n            else\n            {\n                return $match[0];\n            }\n        },\n        $query\n    );\n    return $query;\n}\n\nfunction runEscapedQuery($preparedQuery /*, ...*/)\n{\n    $params = array_slice(func_get_args(), 1);\n    $results = runQuery(sqlvprintf($preparedQuery, $params)); // Run query and fetch results.   \n    return $results;\n}This allows running statements in an one-liner C#-ish String.Format like:runEscapedQuery(""INSERT INTO Whatever (id, foo, bar) VALUES ({0}, {1}, {2})"", $numericVar, $stringVar1, $stringVar2);It escapes considering the variable type. If you try to parameterize table, column names, it would fail as it puts every string in quotes which is an invalid syntax.SECURITY UPDATE: The previousstr_replaceversion allowed injections by adding {#} tokens into user data. Thispreg_replace_callbackversion doesn\'t cause problems if the replacement contains these tokens.ShareImprove this answerFolloweditedDec 25, 2017 at 14:55community wiki4 revs, 2 users 99%Calmarius'}","{'title': 'Why is the Android emulator so slow? How can we speed up the Android emulator?', 'question': ""Want to improve this post?Provide detailed answers to this question, including citations and an explanation of why your answer is correct. Answers without enough detail may be edited or deleted.I have got a2.67GHz Celeron processor, and1.21GB of RAM on ax86WindowsXPProfessional machine.My understanding is that theAndroid Emulatorshould start fairly quickly on such a machine, but for me, it doesn't. I have followed all the instructions in setting up the IDE, SDKs, JDKs and such and have had some success in starting the emulator quickly, but that is very rare. How can I, if possible, fix this problem?Even if it starts and loads the home screen, it is very sluggish. I have tried theEclipse IDEinversion 3.5(Galileo) and3.4(Ganymede).androidperformanceandroid-emulatorgenymotionqemuShareImprove this questionFolloweditedJul 29, 2020 at 1:23community wiki18 revs, 13 users 37%Peter Mortensen"", 'answers': 'UpdateYou can now enable the Quick Boot option for Android Emulator. That will save emulator state, and it will start the emulator quickly on the next boot.Click on Emulator edit button, then clickShow Advanced Setting. Then enableQuick Bootlike below screenshot.Android Development Tools (ADT) 9.0.0(or later) has a feature that allows you to save state of the AVD (emulator), and you can start your emulator instantly. You have to enable this feature while creating a new AVD or you can just create it later by editing the AVD.Also I have increased theDevice RAM Sizeto1024which results in a very fast emulator.Refer to the given below screenshots for more information.Creating a new AVD with the save snapshot feature.Launching the emulator from the snapshot.And for speeding up your emulator you can refer toSpeed up your Android Emulator!:Using ssd hard drive has too much impact and I recommend to use more suitable ram (8 or higher)ShareImprove this answerFolloweditedJan 11, 2021 at 8:48community wiki10 revs, 8 users 44%Vikas Patidar\n\nIMPORTANT NOTE: Pleasefirstrefer tothe Intel list about VTto make sure your CPU supports Intel VT.HAXM Speeds Up the Slow Android EmulatorHAXMstands for -""Intel Hardware Accelerated Execution Manager""Currently, it supports only Intel® VT (Intel Virtualization Technology).The Android emulator is based onQEMU. The interface between QEMU and the HAXM driver on the host system is designed to be vendor-agnostic.Steps for Configuring Your Android Development Environment for HAXMUpdate Eclipse:\nMake sure your Eclipse installation and the ADT plug-in are fully up-to-date.Update your Android Tools:\nAfter each Eclipse plug-in update, it is important to update your Android SDK Tools. To do this, launch the Android SDK Manager and update all the Android SDK components. To take advantage of HAXM, you must be on at least release version 17.Download thex86 Atom System Imagesand theIntel Hardware Accelerated Execution Manager Driver. Follow the image below:Install the HAXM Driver by running ""IntelHaxm.exe"". It will be located in one of the following locations:C:\\Program\nFiles\\Android\\android-sdk\\extras\\intel\\Hardware_Accelerated_Execution_ManagerC:\\Users\\<user>\\adt-bundle-windows-x86_64\\sdk\\extras\\intel\\Hardware_Accelerated_Execution_ManagerIf the installer fails with the message that Intel VT must be turned on, you need to enable this in theBIOS. See the description for how to do this inEnabling Intel VT (Virtualization Technology).Create anewx86 AVD: Follow the image below:Or as for new SDK,ShareImprove this answerFolloweditedMay 26, 2019 at 8:31community wiki10 revs, 9 users 58%Prashanth Sams\n\nTryAndroid x86. It\'s much faster than the Google Android emulator. Follow these steps:InstallVirtualBox.Download theISO filethat you need.Create a virtual machine as Linux 2.6/Other Linux, 512\xa0MB RAM, HD 2\xa0GB. Network: PCnet-Fast III, attached toNAT. You can also use a bridged adapter, but you need aDHCPserver in your environment.Install Android x86 on the emulator, run it.PressAlt+F1, typenetcfg, remember the IP address, pressAlt+F7.Run cmd on your Windows\xa0XP system, change the directory to your Android tools directory, typeadb connect <virtual_machine_IP>.Start Eclipse, open the ADT plugin, find the device, and enjoy!ShareImprove this answerFolloweditedDec 2, 2014 at 4:30community wiki8 revs, 5 users 35%Pehat\n\nUPDATE:The latest version of Android studio (2.x) made major improvements to the bundled emulator.  It\'s responsive and has a whole bunch of features.For those still interested:\nTry usingGenymotion.  You can download a version for Windows/Mac OS X/Linux after registering.  A plugin for Eclipse is also available:The installation of the plugin can be done by launching Eclipse and going to ""Help / Install New Software"" menu, then just add a new Update Site with the following URL:http://plugins.genymotion.com/eclipse. Follow the steps indicated by Eclipse.This emulator is fast and responsive.GenyMotion allows you to control various sensors of your device including the battery level, signal strength, and GPS. The latest version now also contains camera tools.ShareImprove this answerFolloweditedNov 27, 2018 at 8:37community wiki4 revs, 2 users 96%blaffie\n\nThe emulator included in your (old) version of Eclipse is very slow.Recent emulators are faster than they use to be in 2010. Update your SDK/IDE.Personally, I use a real phone to do my tests. It is faster and tests are more realistic. But if you want to test your application on a lot of different Android versions and don\'t want to buy several phones, you will have to use the emulator from time to time.ShareImprove this answerFolloweditedFeb 13, 2018 at 5:17community wiki9 revs, 3 users 73%Nicolas Raoul\n\nThe startup of the emulator is very slow.  The good thing is that you only need to start the emulator once.  If the emulator is already running and you run your app again, the emulator reinstalls the app relatively quickly.  Of course, if you want to know how fast it will run on a phone, it is best to test it on a real phone.ShareImprove this answerFollowansweredJan 12, 2010 at 14:55community wikiJay Askren\n\nIntel releasedrecommended installation instructions for the ICS emulatoron May 15, 2012.  This worked for me. The emulator is now fast and the UI is smooth.The first half of the instructions are detailed enough, so I will assume you were able to install the Intel x86 Atom System Image(s) using the Android SDK manager, as well as Intel HAXM.Now to ensure that everything else is set up so you can enjoy a highly performing emulator:Install Intel Hardware Accelerated Execution Manager (HAXM)And start it:sudo kextload -b com.intel.kext.intelhaxm (mac)If HAXM is working properly, you may see this message when launching the emulator:HAX is working and emulator runs in fast virtual modeOtherwise, you may see this error:HAX is not working and the emulator runs in emulation mode emulator:Failed to open the hax moduleUse GPU emulation.You cannot use the Snapshot option when using GPU emulation as of this writing.  Ensure that GPU emulation is set to ""yes"".Set the device memory to 1024\xa0 MB or more, but not more than the Intel HAXM setting. I use 1024\xa0 MB per device and 2048 for HAXM.Always double-check the settings after saving!The emulator is very picky about what it allows you to set, and it will revert configurations without telling you.With these settings the software keyboard no longer appears, nor do the on-screen back, menu, and recent keys. This appears to be a limitation of the current ICS Intel x86 system image. You will need to usethe keyboard shortcuts.On Mac OS you will need to holdfn+controlfor theF1-F12keys to work. Page up/down/left/right can be performed using control + arrow keys.ShareImprove this answerFolloweditedNov 27, 2018 at 8:38community wiki11 revs, 4 users 71%James Wald\n\nYou can create emulator.bat with following command to start the emulator. It will start faster.emulator.exe -cpu-delay 0 -no-boot-anim @<avd name>Or on Unix (Mac or Linux flavors):emulator -cpu-delay 0 -no-boot-anim @<avd name>ShareImprove this answerFolloweditedNov 29, 2017 at 16:10community wiki5 revs, 5 users 27%andgps\n\nI\'ve noticed that the emulator starts much faster if there\'s no Dalvik Debug Monitor Server (DDMS) connected. So if you start the emulator from Virtual Device Manager ""SDK Setup.exe"" and Eclipse is not started, the emulator works faster.If you start the emulator from Eclipse: DDMS is there, so sometimes the emulator is extremely slow, but sometimes it\'s faster.ShareImprove this answerFolloweditedDec 2, 2014 at 4:32community wiki3 revs, 2 users 67%Peter Mortensen\n\nEmulators are slow. There\'s really nothing you can do about it, but there are alternatives to the emulator.Genymotion - PreferredVirtualBoxBlueStacksYouWaveWindows Android EmulatorJar of BeansAndyTo make your emulator faster, you can host a GPU and use a lighter Android version (Android 2.3(Gingerbread)).\nDeveloping on a Mac would be better. Why use an emulator, BTW? Using a real phone makes more sense.ShareImprove this answerFolloweditedNov 29, 2017 at 15:50community wiki10 revs, 6 users 70%JRE.exe\n\nAs of Revision 17 of Android SDK Tools, the emulator can use graphic acceleration and CPU-provided extensions for better efficiency. The prerequisites and full configuration and user notes are at:http://developer.android.com/guide/developing/devices/emulator.html#accelerationFor enablingGPUaceleration, run the emulator from the command line or add ""-gpu on"" to the additional emulator command line options in the AVD configuration.emulator -avd <avd_name> -gpu onFor using the CPU machine extensions, you have to install the driver (caution because it can conflict with existingVirtualBoxorVMwaredrivers). Once it\'s installed it will be used automatically whenever you use an x86-based AVD.ShareImprove this answerFolloweditedDec 2, 2014 at 4:54community wiki3 revs, 2 users 67%Jokin\n\nTry to disable your antivirus. Maybe it will make emulator a little bit faster.ShareImprove this answerFollowansweredJan 8, 2010 at 3:57community wikiFedor\n\nAndroid SDK rev. 17 supports Virtual Machine Acceleration using AMD and Intel virtualization technologies.This feature can improve the emulator performance a lot!See the following section in the Android emulator documentation for more details:Configuring Virtual Machine AccelerationDon\'t forget to install the appropriate driver for your operating system:Configuring VM Acceleration on WindowsConfiguring VM Acceleration on MacConfiguring VM Acceleration on LinuxAfter you have installed the drivers and downloaded an Android X86 system image (as described in the documentation) you should be able to create a new AVD using the x86 image:For example:Target: Intel Atom x86 System Image - API Level 10CPU/ABI: Intel Atom (x86)ShareImprove this answerFollowansweredApr 6, 2012 at 22:10community wikimicha\n\nThe option-cpu-delay <delay>described inEmulator Startup Optionscan help.ShareImprove this answerFolloweditedMar 8, 2012 at 20:46community wiki2 revs, 2 users 75%Peter Mortensen\n\nThe emulator seems to slow itself down when idle. This is made apparent by rapidly mousing over the keys on the side and observing the light-up responses. As a workaround, I pass-icount autotoQEMUwhen starting the emulator. You can make a batch file calledmy_avd.batto do it for you:emulator @my_avd -no-boot-anim -qemu -icount auto@my_avd-- launch a virtual device named \'my_avd\'-no-boot-anim-- disable animation for faster boot-qemu args...-- pass arguments to qemu-icount [N|auto]-- enable virtual instruction counter with 2^N clock ticks per instructionThis made animations buttery smooth and sped upadb installtenfold.ShareImprove this answerFolloweditedMar 10, 2015 at 13:20community wiki8 revs, 3 users 77%Timothy003\n\nAndroid emulator release 9 has a new ""snapshot"" feature. You cansave the state of the emulator(make an image of the emulator) and avoid booting when you start the emulator.ShareImprove this answerFolloweditedMar 1, 2015 at 12:31community wiki2 revs, 2 users 73%androidev Alex\n\nYou can review the emulator issues on theGoogle I/O 2011: Android Development Toolstalk, starting a 0:40:20.The emulator runs slowly because the complete Android environment is running on emulated hardware and the instructions are executed on an emulated ARM processor as well.The main choking point is rendering since it\'s not running on any dedicated hardware but it\'s actually being performed through software rendering. Lowering the screen size will drastically improve emulator performance. Getting more/faster memory isn\'t going to help.They\'ve mentioned, at the time, that they\'re developing an interface that would allow the emulator to pipe certain instructions through the host hardware, so eventually, you\'ll be able to leverage emulator performances with the raw power of desktop hardware.ShareImprove this answerFolloweditedNov 27, 2018 at 8:39community wiki2 revs, 2 users 86%Filip Dupanović\n\nThe current (May 2011) version of the emulator is slow particularly withAndroid 3.0 (Honeycomb)primarily because the emulator does not support hardware GL -- this means that the GL code gets translated into software (ARM software, in fact) which then gets emulated in software inQEMU. This is crazy-slow. They\'re working on this problem and have it partially solved, but not with any sort of release quality.Check out the videoGoogle I/O 2011: Android Development Toolsto see it in action -- jump to about 44 minutes.ShareImprove this answerFolloweditedMar 8, 2012 at 21:07community wiki2 revs, 2 users 64%Peter Mortensen\n\nUse the Intel x86 Emulator AcceleratorFirst, install the Intel x86 Emulator Accelerator (HAXM). This can be downloaded directly from Intel or using Android SDK Manager.  In the SDK Manager, it\'s located under Extras.In the version of Android Studio I used (0.8.9), Android SDK Manager downloads HAXM but doesn\'t actually run the installer (I assume this will be fixed in later releases). To run the installer I had to go to C:\\Program Files (x86)\\Android\\android-studio\\sdk\\extras\\intel\\Hardware_Accelerated_Execution_Manager and manually launch intelhaxm.exe.HAXM works with Intel devices, so created a new Emulator with Intel CPU.Create a new AVD using Intel Atom x86This improved things considerably, but the emulator was still feeling a bit sluggish. The final step was selecting Use Host GPU in Android Virtual Device Manager (AVD).After these changes, Android Emulator was launching in 5-10 seconds and running without any noticeable lag.\nBe aware that these features are hardware dependent (CPU/GPU) and may not work on some systems.ShareImprove this answerFolloweditedNov 27, 2018 at 8:40community wiki3 revs, 3 users 79%Amin Rahkan\n\nTryGenymotionfor Android Studio. Blazing fast! Just needs one time installation. No more AVD pain.ShareImprove this answerFollowansweredNov 18, 2015 at 5:05community wikiVipul J\n\nTo add further information to this.I have recently upgraded my Ubuntu installation toUbuntu\xa010.04LTS (Lucid Lynx) which in turn updated my Java version to:Java version ""1.6.0_20""\nJava(TM) SE Runtime Environment (build 1.6.0_20-b02)\nJava HotSpot(TM) 64-Bit Server VM (build 16.3-b01, mixed mode)And now the emulator (although takes a while to start) seems to be running faster than previously.It might be worth people upgrading their JVM.ShareImprove this answerFolloweditedDec 2, 2014 at 5:04community wiki3 revs, 2 users 73%eggsy84\n\nA new option is theVisual Studio Emulator for Android--it\'s fast,Hyper-V, x86, andfree to download even without VS.ShareImprove this answerFolloweditedJul 22, 2015 at 18:59community wiki3 revs, 2 users 71%John Kemnetz\n\nHere\'s what I noticed nobody mentioned it at all.Assign all available processors to the emulatorHere\'s what you can try. It does speed up the emulator for me, especially during loading time. I noticed the emulator is only using a single core of the available CPU. I set it to use all available processors.I\'m using Windows 7.When the Android emulator is starting, open up the Task Manager, look under the Process tab, look for ""emulator-arm.exe"" or ""emulator-arm.exe *32""... Right click on it, select Processor Affinity and assign as much processor as you like to the emulator.ShareImprove this answerFolloweditedDec 2, 2014 at 5:06community wiki2 revs, 2 users 82%Harvey Darvey\n\nAfter developing for a while, my emulator became brutally slow. I chosewipe user data, and it was much much better. I am guessing that it takes time to load up eachAPKfile you\'ve deployed.ShareImprove this answerFolloweditedDec 2, 2014 at 5:05community wiki2 revs, 2 users 67%Peter Mortensen\n\nWell, since somebody suggested Android x86 as an alternative testing emulator, I\'ll also present my favorite. This might not be an alternative for everyone, but for me it\'s perfect!Use theBluestacks Player. It runs Android 2.3.4 and is very fluid and fast. Sometimes it is even faster than a normal device. The only downside is, that you can just test apps on the API Level 10 and just on one screen size, but it\'s perfect just for testing if it\'s working or not. Just connect the Player with theadbby runningadb connect 127.0.0.1After compiling, it installs instantly. It is very impressive, considering I have rather an average computer hardware (dual core with 4\xa0 GB of RAM).ShareImprove this answerFolloweditedNov 27, 2018 at 8:41community wiki6 revs, 3 users 75%Ahmad\n\nI had intermittent slow emulator (SDK v8.0) load times, up to three minutes on Intel Core i7 920 2.67\xa0GHz CPU running on Xubuntu 10.04VirtualBox3.2.12 guest with Eclipse (3.6.1) loaded. I changed the VirtualBox guest memory from 1024\xa0MB to 2048\xa0MB and from that point on, I never experienced the slowness again (load times consistent at 33 seconds, CPU load consistent at 20%). Both Eclipse and the emulator are memory hogs.ShareImprove this answerFolloweditedMar 1, 2015 at 12:06community wiki2 revs, 2 users 67%Stuart Rackham\n\nAndroid emulator is dead slow. It takes 800MB memory while running.\nIf you are on Windows, You can use Microsoft Android Emulator. It is superb, provides you functionalities more than Android Studio Emulator. And most important it is fast ( consumes 13MB only).\nIt comes with Visual Studio 2015 Technical Preview. I am using it and happy with it. I downloaded and installed entire VS pack, I need to look how we can install VS Emulator only.Visual Studio Emulator for AndroidEDIT:\nTryhttps://www.visualstudio.com/vs/msft-android-emulator/ShareImprove this answerFolloweditedAug 4, 2017 at 9:22community wiki5 revs, 3 users 87%Anil8753\n\nI noticed that the my emulator (Eclipseplugin) was significantly slowed by myNvidiagraphics card anti-aliasing settings. Removing 2x anti aliasing from the graphics menu and changing it to application controlled made it more responsive. It is still slow, but better than it used to be.ShareImprove this answerFolloweditedDec 2, 2014 at 5:07community wiki2 revs, 2 users 71%Peter Mortensen\n\nTo reduce your emulator start-up time you need to check the ""Disable Boot Animation"" before starting the emulator. Refer tothe Android documentation.If in case you don\'t know, you do not need to close the emulator every-time you run/debug your app. If you click run/debug when it\'s already open, your APK file will get uploaded to the emulator and start pretty much immediately. Emulator takes annoyingly long time only when it started the first time.Here are some tips to speed up the Android emulator:How to speed up the Android Emulator by up to 400%.ShareImprove this answerFolloweditedDec 2, 2014 at 5:14community wiki2 revs, 2 users 67%Vinayak B\n\nGood way to speed up Android Emulator and app testing is Install or Upgrade your Android Studio toAndroid Studio 2.0version and then go to app open Settings/Preferences, the go to Build, Execution, Deployment → Instant Run. Click on Enable Instant Run. And After That This will ensure you have the correct gradle plugin for your project to work with Instant Run.And Instant run will look like thisHowever Android Studio is right now in Preview you can try it now.ShareImprove this answerFolloweditedDec 29, 2015 at 12:38community wiki2 revsUmar'}","{'title': ""Change an HTML input's placeholder color with CSS"", 'question': 'Chrome v4 supports theplaceholder attributeoninput[type=text]elements (others probably do too).However, the following CSS doesn\'t do anything to the placeholder\'s value:input[placeholder], [placeholder], *[placeholder] {\n    color: red !important;\n}<input type=""text"" placeholder=""Value"">Valuewill still remaingreyinstead ofred.Is there a way to change the color of the placeholder text?csshtmlplaceholderhtml-inputShareImprove this questionFolloweditedApr 18, 2023 at 16:29community wiki30 revs, 21 users 23%TylerH', 'answers': 'ImplementationThere are three different implementations: pseudo-elements, pseudo-classes, and nothing.WebKit, Blink (Safari, Google Chrome, Opera 15+) and Microsoft Edge are using a pseudo-element:::-webkit-input-placeholder.[Ref]Mozilla Firefox 4 to 18 is using a pseudo-class::-moz-placeholder(onecolon).[Ref]Mozilla Firefox 19+ is using a pseudo-element:::-moz-placeholder, but the old selector will still work for a while.[Ref]Internet Explorer 10 and 11 are using a pseudo-class::-ms-input-placeholder.[Ref]April 2017:Most modern browsers support the simple pseudo-element::placeholder[Ref]Internet Explorer 9 and lower does not support theplaceholderattribute at all, whileOpera 12 and lower do not supportany CSS selector for placeholders.The discussion about the best implementation is still going on. Note the pseudo-elements act like real elements in theShadow DOM. Apaddingon aninputwill not get the same background color as the pseudo-element.CSS selectorsUser agents are required to ignore a rule with an unknown selector. SeeSelectors Level 3:agroupof selectors containing an invalid selector is invalid.So we need separate rules for each browser. Otherwise the whole group would be ignored by all browsers.::-webkit-input-placeholder { /* WebKit, Blink, Edge */\n    color:    #909;\n}\n:-moz-placeholder { /* Mozilla Firefox 4 to 18 */\n   color:    #909;\n   opacity:  1;\n}\n::-moz-placeholder { /* Mozilla Firefox 19+ */\n   color:    #909;\n   opacity:  1;\n}\n:-ms-input-placeholder { /* Internet Explorer 10-11 */\n   color:    #909;\n}\n::-ms-input-placeholder { /* Microsoft Edge */\n   color:    #909;\n}\n\n::placeholder { /* Most modern browsers support this now. */\n   color:    #909;\n}<input placeholder=""Stack Snippets are awesome!"">Usage notesBe careful to avoid bad contrasts. Firefox\'s placeholder appears to be defaulting with a reduced opacity, so needs to useopacity: 1here.Note that placeholder text is just cut off if it doesn’t fit – size your input elements inemand test them with big minimum font size settings. Don’t forget translations: some languagesneed more roomfor the same word.Browsers with HTML support forplaceholderbut without CSS support for that (like Opera) should be tested too.Placeholders are no replacement for labels, so make sure you have a label, tooSome browsers use additional default CSS for someinputtypes (email,search). These might affect the rendering in unexpected ways. Use theproperties-webkit-appearanceand-moz-appearanceto change that. Example:[type=""search""] {\n        -moz-appearance:    textfield;\n        -webkit-appearance: textfield;\n        appearance: textfield;\n    }ShareImprove this answerFolloweditedJul 5, 2022 at 12:41Andy5,81122 gold badges3131 silver badges5151 bronze badgesansweredApr 9, 2010 at 20:36fuxiafuxia63.4k66 gold badges5555 silver badges6363 bronze badges\n\n/* do not group these rules */\r\n*::-webkit-input-placeholder {\r\n    color: red;\r\n}\r\n*:-moz-placeholder {\r\n    /* FF 4-18 */\r\n    color: red;\r\n    opacity: 1;\r\n}\r\n*::-moz-placeholder {\r\n    /* FF 19+ */\r\n    color: red;\r\n    opacity: 1;\r\n}\r\n*:-ms-input-placeholder {\r\n    /* IE 10+ */\r\n    color: red;\r\n}\r\n*::-ms-input-placeholder {\r\n    /* Microsoft Edge */\r\n    color: red;\r\n}\r\n*::placeholder {\r\n    /* modern browser */\r\n    color: red;\r\n}<input placeholder=""hello""/> <br />\r\n<textarea placeholder=""hello""></textarea>This will style allinputandtextareaplaceholders.Important Note:Do not group these rules. Instead, make a separate rule for every selector (one invalid selector in a group makes the whole group invalid).ShareImprove this answerFolloweditedJul 19, 2018 at 15:14community wiki23 revs, 9 users 65%brillout\n\nYou may also want to style textareas:input::-webkit-input-placeholder,\ntextarea::-webkit-input-placeholder {\n  color: #FF9900;\n}\n\ninput:-moz-placeholder,\ntextarea:-moz-placeholder {\n  color: #FF9900;\n}<textarea rows=""4"" cols=""50"" placeholder=""Stack Snippets are nice!"">\n</textarea>ShareImprove this answerFolloweditedDec 14, 2021 at 13:37community wiki8 revs, 8 users 42%Lars Flieger\n\nForBootstrapandLessusers, there is a mixin .placeholder:// Placeholder text\n// -------------------------\n.placeholder(@color: @placeholderText) {\n  &:-moz-placeholder {\n    color: @color;\n  }\n  &:-ms-input-placeholder {\n    color: @color;\n  }\n  &::-webkit-input-placeholder {\n    color: @color;\n  }\n}ShareImprove this answerFolloweditedSep 24, 2016 at 7:52Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJun 6, 2013 at 8:47EIIPIIEIIPII1,86111 gold badge1818 silver badges1010 bronze badges\n\nIn addition to toscho\'s answer I\'ve noticed some webkit inconsistencies between Chrome 9-10 and Safari 5 with the CSS properties supported that are worth noting.Specifically Chrome 9 and 10 do not supportbackground-color,border,text-decorationandtext-transformwhen styling the placeholder.The full cross-browser comparison ishere.ShareImprove this answerFolloweditedSep 25, 2013 at 13:04answeredFeb 9, 2011 at 16:44ajcwajcw23.8k66 gold badges3131 silver badges4848 bronze badges\n\nForSassusers:// Create placeholder mixin\n@mixin placeholder($color, $size:"""") {\n  &::-webkit-input-placeholder {\n    color: $color;\n    @if $size != """" {\n      font-size: $size;\n    }\n  }\n  &:-moz-placeholder {\n    color: $color;\n    @if $size != """" {\n      font-size: $size;\n    }\n  }\n  &::-moz-placeholder {\n    color: $color;\n    @if $size != """" {\n      font-size: $size;\n    }\n  }\n  &:-ms-input-placeholder {\n    color: $color;\n    @if $size != """" {\n      font-size: $size;\n    }\n  }\n}\n\n// Use placeholder mixin (the size parameter is optional)\n[placeholder] {\n  @include placeholder(red, 10px);\n}ShareImprove this answerFolloweditedNov 21, 2023 at 16:07community wiki4 revs, 3 users 64%Konst_\n\nThis will work fine.DEMO HERE:input::-webkit-input-placeholder,\r\ntextarea::-webkit-input-placeholder {\r\n  color: #666;\r\n}\r\ninput:-moz-placeholder,\r\ntextarea:-moz-placeholder {\r\n  color: #666;\r\n}\r\ninput::-moz-placeholder,\r\ntextarea::-moz-placeholder {\r\n  color: #666;\r\n}\r\ninput:-ms-input-placeholder,\r\ntextarea:-ms-input-placeholder {\r\n  color: #666;\r\n}<input type=""text"" placeholder=""Value"" />ShareImprove this answerFolloweditedSep 12, 2016 at 8:08user6696028answeredSep 14, 2013 at 12:52Love TrivediLove Trivedi4,02733 gold badges2020 silver badges2828 bronze badges\n\nCSS provides the::placeholderpseudo-element.Note that the .placeholder mixin fromBootstrapis deprecated in favor of this.Example:input::placeholder { color: black; }When usingautoprefixerthe above will be converted to the correct code for all browsers.ShareImprove this answerFolloweditedNov 21, 2023 at 16:16community wiki5 revs, 4 users 50%hitautodestruct\n\nIn Firefox and Internet\xa0Explorer, the normal input text color overrides the color property of placeholders. So, we need to::-webkit-input-placeholder { \n    color: red; text-overflow: ellipsis; \n}\n:-moz-placeholder { \n    color: #acacac !important; text-overflow: ellipsis; \n}\n::-moz-placeholder { \n    color: #acacac !important; text-overflow: ellipsis; \n} /* For the future */\n:-ms-input-placeholder { \n    color: #acacac !important; text-overflow: ellipsis; \n}ShareImprove this answerFolloweditedSep 24, 2016 at 7:48Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredFeb 14, 2013 at 21:11Dionysios ArvanitisDionysios Arvanitis1,18399 silver badges1111 bronze badges\n\nCross-browser solution:/* all elements */\n::-webkit-input-placeholder { color:#f00; }\n::-moz-placeholder { color:#f00; } /* firefox 19+ */\n:-ms-input-placeholder { color:#f00; } /* ie */\ninput:-moz-placeholder { color:#f00; }\n\n/* individual elements: webkit */\n#field2::-webkit-input-placeholder { color:#00f; }\n#field3::-webkit-input-placeholder { color:#090; background:lightgreen; text-transform:uppercase; }\n#field4::-webkit-input-placeholder { font-style:italic; text-decoration:overline; letter-spacing:3px; color:#999; }\n\n/* individual elements: mozilla */\n#field2::-moz-placeholder { color:#00f; }\n#field3::-moz-placeholder { color:#090; background:lightgreen; text-transform:uppercase; }\n#field4::-moz-placeholder { font-style:italic; text-decoration:overline; letter-spacing:3px; color:#999; }Credit:David WalshShareImprove this answerFolloweditedNov 21, 2023 at 16:17community wiki2 revs, 2 users 71%Kristian\n\nNow we have a standard way to apply CSS to an input\'s placeholder :::placeholderpseudo-element fromthisCSS Module Level 4 Draft.ShareImprove this answerFolloweditedAug 12, 2015 at 3:11community wiki2 revs, 2 users 86%user3790069\n\nI just realize something for Mozilla Firefox 19+ that the browser gives an opacity value for the placeholder, so the color will not be what you really want.input::-webkit-input-placeholder, textarea::-webkit-input-placeholder {\n    color: #eee; opacity:1;\n}\ninput:-moz-placeholder, textarea:-moz-placeholder {\n    color: #eee; opacity:1;\n}\ninput::-moz-placeholder, textarea::-moz-placeholder {\n    color: #eee; opacity:1;\n}\ninput:-ms-input-placeholder, textarea:-ms-input-placeholder {\n    color: #eee; opacity:1;\n}I overwrite theopacityfor 1, so it will be good to go.ShareImprove this answerFolloweditedAug 20, 2021 at 10:23community wiki4 revs, 4 users 54%Burak Tokak\n\nForBootstrapusers, if you are usingclass=""form-control"", there may be a CSS specificity issue. You should get a higher priority:.form-control::-webkit-input-placeholder {\n    color: red;\n}\n/* ... and other browsers */Or if you are usingLess:.form-control{\n    .placeholder(red);\n}ShareImprove this answerFolloweditedNov 21, 2023 at 16:31community wiki3 revs, 3 users 59%gfaceless\n\nI think this code will work because a placeholder is needed only for input type text. So this one line CSS will be enough for your need:input[type=""text""]::-webkit-input-placeholder {\n    color: red;\n}ShareImprove this answerFolloweditedSep 24, 2016 at 7:57Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJun 25, 2015 at 9:01Alias VargheseAlias Varghese2,16233 gold badges2525 silver badges5353 bronze badges\n\nI don\'t remember where I\'ve found this code snippet on the Internet (it wasn\'t written by me, don\'t remember where I\'ve found it, nor who wrote it).$(\'[placeholder]\').focus(function () {\n  var input = $(this);\n  if (input.val() == input.attr(\'placeholder\')) {\n    input.val(\'\');\n    input.removeClass(\'placeholder\');\n  }\n}).blur(function () {\n  var input = $(this);\n  if (input.val() == \'\' || input.val() == input.attr(\'placeholder\')) {\n    input.addClass(\'placeholder\');\n    input.val(input.attr(\'placeholder\'));\n  }\n}).blur();\n\n$(\'[placeholder]\').parents(\'form\').submit(function () {\n  $(this).find(\'[placeholder]\').each(function () {\n    var input = $(this);\n    if (input.val() == input.attr(\'placeholder\')) {\n      input.val(\'\');\n    }\n  })\n});Just load this JavaScript code and then edit your placeholder with CSS by calling this rule:form .placeholder {\n   color: #222;\n   font-size: 25px;\n   /* etc. */\n}ShareImprove this answerFolloweditedNov 21, 2023 at 23:01Samuel RIGAUD1,4881717 silver badges2525 bronze badgesansweredApr 14, 2013 at 2:28Dragos RizescuDragos Rizescu3,44855 gold badges3333 silver badges4343 bronze badges\n\nHow about this<input type=""text"" value=""placeholder text"" onfocus=""this.style.color=\'#000\'; \r\n    this.value=\'\';"" style=""color: #f00;"" />No CSS or placeholder, but you get the same functionality.ShareImprove this answerFolloweditedMay 15, 2019 at 16:15Mobarak Ali76055 silver badges1919 bronze badgesansweredOct 8, 2012 at 19:21user1729061user172906149733 silver badges44 bronze badges\n\nThis short and clean code:::-webkit-input-placeholder {color: red;}\n:-moz-placeholder           {color: red; /* For Firefox 18- */}\n::-moz-placeholder          {color: red; /* For Firefox 19+ */}\n:-ms-input-placeholder      {color: red;}ShareImprove this answerFolloweditedAug 20, 2021 at 10:24community wiki5 revs, 5 users 37%Banti Mathur\n\nIf you are usingBootstrapand couldn\'t get this working then probably you missed the fact that Bootstrap itself adds these selectors. This is Bootstrap v3.3 we are talking about.If you are trying to change the placeholder inside a.form-controlCSS class then you should override it like this:.form-control::-webkit-input-placeholder { /* WebKit, Blink, Edge */\n    color:    #777;\n}\n.form-control:-moz-placeholder { /* Mozilla Firefox 4 to 18 */\n    color:    #777;\n    opacity:  1;\n}\n.form-control::-moz-placeholder { /* Mozilla Firefox 19+ */\n    color:    #777;\n    opacity:  1;\n}\n.form-control:-ms-input-placeholder { /* Internet Explorer 10-11 */\n    color:    #777;\n}ShareImprove this answerFolloweditedNov 21, 2023 at 16:32community wiki3 revs, 3 users 68%mansoor.khan\n\nI have tried every combination here to change the color, on my mobile platform, and eventually it was:-webkit-text-fill-color: red;which did the trick.ShareImprove this answerFolloweditedSep 24, 2016 at 7:58community wiki2 revs, 2 users 80%aviram83\n\nAdding an actual very nice and simple possibility:CSS filters!It will style everything, including the placeholder.The following will set bothinputelements on the same palette, using the hue filter for color changes. It render very well now in browsers (except ie...)input {\n  filter: sepia(100%) saturate(400%) grayscale(0) contrast(200%) hue-rotate(68deg) invert(18%);\n}<input placeholder=""Hello world!"" />\n<input type=""date"" /><br>\n<input type=""range"" />\n<input type=""color"" />To allow users to change it dynamically, using an input type color for changes, or to find nuances, check out this snippet:From:Codepenfunction stylElem() {\n  stylo.dataset.hue = ((parseInt(stylo.value.substring(1), 16))/46666).toFixed(0)\n  Array.from(document.querySelectorAll(\'input, audio, video\')).forEach(function(e){\n      e.style.cssText += "";filter:sepia(100%) saturate(400%)grayscale(0)contrast(200%)hue-rotate(""+ stylo.dataset.hue+""deg)invert(""+(stylo.dataset.hue/3.6)+""%)""\n  out.innerText = e.style.cssText\n})()}\n\nstylElem()body {background: black; color: white}Choose a color!\n<input type=""color"" id=""stylo"" oninput=""stylElem()"">\n<br>\n<div id=""out""></div> <p>\n  <input placeholder=""Hello world!"" />\n  <input type=""date"" /><br>\n  <input type=""range"" />\n <br>\n<audio controls src=""#""></audio> <br><br> \n<video controls src=""#""></video>Css filters docs:https://developer.mozilla.org/en-US/docs/Web/CSS/filterShareImprove this answerFolloweditedDec 12, 2021 at 21:06community wiki6 revsNVRM\n\nFor SASS/SCSS user usingBourbon, it has a built-in function.//main.scss\n@import \'bourbon\';\n\ninput {\n  width: 300px;\n\n  @include placeholder {\n    color: red;\n  }\n}CSS Output, you can also grab this portion and paste into your code.//main.css\n\ninput {\n  width: 300px;\n}\n\ninput::-webkit-input-placeholder {\n  color: red;\n}\ninput:-moz-placeholder {\n  color: red;\n}\ninput::-moz-placeholder {\n  color: red;\n}\ninput:-ms-input-placeholder {\n  color: red;\n}ShareImprove this answerFollowansweredOct 4, 2016 at 7:50community wikitrungvose\n\ntry this code for different input element different styleyour css selector::-webkit-input-placeholder { /*for webkit */\n    color:#909090;\n    opacity:1;\n}\n your css selector:-moz-placeholder { /*for mozilla */\n    color:#909090;\n    opacity:1;\n}\n your css selector:-ms-input-placeholder { /*for for internet exprolar */ \n   color:#909090;\n   opacity:1;\n}example 1:input[type=""text""]::-webkit-input-placeholder { /*for webkit */\n    color: red;\n    opacity:1;\n}\n input[type=""text""]:-moz-placeholder { /*for mozilla */\n    color: red;\n    opacity:1;\n}\n input[type=""text""]:-ms-input-placeholder { /*for for internet exprolar */ \n   color: red;\n   opacity:1;\n}example 2:input[type=""email""]::-webkit-input-placeholder { /*for webkit */\n    color: gray;\n    opacity:1;\n}\n input[type=""email""]:-moz-placeholder { /*for mozilla */\n    color: gray;\n    opacity:1;\n}\n input[type=""email""]:-ms-input-placeholder { /*for for internet exprolar */ \n   color: gray;\n   }ShareImprove this answerFollowansweredOct 13, 2017 at 6:47community wikiMd. Abu Sayed\n\nHere is one more example:.form-control::-webkit-input-placeholder {\r\n  color: red;\r\n  width: 250px;\r\n}\r\nh1 {\r\n  color: red;\r\n}<div class=""col-sm-4"">\r\n  <input class=""form-control"" placeholder=""Enter text here.."" ng-model=""Email"" required/>\r\n</div>ShareImprove this answerFollowansweredMay 31, 2016 at 9:21community wikiMahendra Kulkarni\n\nYou can change an HTML5 input\'s placeholder color with CSS.  If by chance, your CSS conflict, this code note working , you can use (!important) like below.::-webkit-input-placeholder { /* WebKit, Blink, Edge */\n    color:#909 !important;\n}\n:-moz-placeholder { /* Mozilla Firefox 4 to 18 */\n   color:#909 !important;\n   opacity:1 !important;\n}\n::-moz-placeholder { /* Mozilla Firefox 19+ */\n   color:#909 !important;\n   opacity:1 !important;\n}\n:-ms-input-placeholder { /* Internet Explorer 10-11 */\n   color:#909 !important;\n}\n::-ms-input-placeholder { /* Microsoft Edge */\n   color:#909 !important;\n}\n\n<input placeholder=""Stack Snippets are awesome!"">Hope this will help.ShareImprove this answerFolloweditedDec 21, 2017 at 8:10community wiki2 revs, 2 users 93%Deepak Kumar\n\nThis is fine for most of the modern browsersinput::placeholder{\n  color: red; // css implementation\n}Just in case if you are using SCSSinput {\n  &::placeholder {\n    color: red; // scss\n  }\n}ShareImprove this answerFolloweditedNov 3, 2021 at 6:43community wiki2 revsIsmoil Shokirov\n\nOK, placeholders behave differently in different browsers, so you need using browser prefix in your CSS to make them identical, for example Firefox gives a transparency to placeholder by default, so need to add opacity 1 to your css, plus the color, it\'s not a big concern most of the times, but good to have them consistent:*::-webkit-input-placeholder { /* WebKit browsers */\n    color:    #ccc;\n}\n*:-moz-placeholder { /* Mozilla Firefox <18 */\n    color:    #ccc;\n    opacity:  1;\n}\n*::-moz-placeholder { /* Mozilla Firefox 19+ */\n    color:    #ccc;\n    opacity:  1;\n}\n*:-ms-input-placeholder { /* Internet Explorer 10-11 */\n    color:    #ccc;\n}ShareImprove this answerFollowansweredMay 11, 2017 at 12:41community wikiAlireza\n\n::placeholder{\n  color: red;\n}<input type=""text"" placeholder=""Value"">ShareImprove this answerFolloweditedAug 28, 2022 at 20:31community wiki2 revs, 2 users 93%Sarvesh\n\nYou can use this for input and focus style:input::-webkit-input-placeholder  { color:#666;}\ninput:-moz-placeholder  { color:#666;}\ninput::-moz-placeholder { color:#666;}\ninput:-ms-input-placeholder  { color:#666;}\n/* focus */\ninput:focus::-webkit-input-placeholder { color:#eee; }\ninput:focus:-moz-placeholder { color:#eee } /* FF 4-18 */\ninput:focus::-moz-placeholder { color:#eee } /* FF 19+ */\ninput:focus:-ms-input-placeholder { color:#eee } /* IE 10+ */ShareImprove this answerFolloweditedMay 13, 2018 at 15:19community wiki2 revs, 2 users 92%fraweb\n\nThe easiest way would be:#yourInput::placeholder {\n    color: red;/*As an example*/\n}\n/* if that would not work, you can always try styling the attribute itself: */\n#myInput[placeholder] {\n    color: red;\n}ShareImprove this answerFollowansweredOct 27, 2018 at 20:41community wikicodeWithMe\n\nHere is the solution withCSS selectors::-webkit-input-placeholder { /* WebKit, Blink, Edge */\n    color:    #909;\n}:-moz-placeholder { /* Mozilla Firefox 4 to 18 */\n   color:    #909;\n   opacity:  1;\n}::-moz-placeholder { /* Mozilla Firefox 19+ */\n   color:    #909;\n   opacity:  1;\n}::-ms-input-placeholder { /* Microsoft Edge */\n   color:    #909;\n}:-ms-input-placeholder { /* Internet Explorer 10-11 */\n   color:    #909;\n}WebKit, Blink(Safari, Google Chrome, Opera 15+)andMicrosoft Edgeare using a pseudo-element:::-webkit-input-placeholder.Mozilla Firefox 4 to 18is using a pseudo-class::-moz-placeholder (one colon).Mozilla Firefox 19+is using a pseudo-element:::-moz-placeholder, but the old selector will still work for a while.Internet Explorer 10 and 11are using a pseudo-class::-ms-input-placeholder.Internet Explorer 9and lower does not support the placeholder attribute at all, while Opera 12 and lower do not support any CSS selector for placeholders.ShareImprove this answerFollowansweredSep 4, 2019 at 6:09community wikiMohammad Ayoub Khan'}","{'title': 'Setting ""checked"" for a checkbox with jQuery', 'question': 'I\'d like to do something like this to tick acheckboxusingjQuery:$("".myCheckBox"").checked(true);or$("".myCheckBox"").selected(true);Does such a thing exist?javascriptjquerycheckboxselectedcheckedShareImprove this questionFolloweditedMar 8, 2020 at 23:08Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesaskedJan 8, 2009 at 22:20tpowertpower56.7k1919 gold badges6969 silver badges101101 bronze badges', 'answers': 'Modern jQueryUse.prop():$(\'.myCheckbox\').prop(\'checked\', true);\n$(\'.myCheckbox\').prop(\'checked\', false);DOM APIIf you\'re working with just one element, you can always just access the underlyingHTMLInputElementand modify its.checkedproperty:$(\'.myCheckbox\')[0].checked = true;\n$(\'.myCheckbox\')[0].checked = false;The benefit to using the.prop()and.attr()methods instead of this is that they will operate on all matched elements.jQuery 1.5.x and belowThe.prop()method is not available, so you need to use.attr().$(\'.myCheckbox\').attr(\'checked\', true);\n$(\'.myCheckbox\').attr(\'checked\', false);Note that this isthe approach used by jQuery\'s unit tests prior to version 1.6and is preferable to using$(\'.myCheckbox\').removeAttr(\'checked\');since the latter will, if the box was initially checked, change the behaviour of a call to.reset()on any form that contains it – a subtle but probably unwelcome behaviour change.For more context, some incomplete discussion of the changes to the handling of thecheckedattribute/property in the transition from 1.5.x to 1.6 can be found in theversion 1.6 release notesand theAttributes vs. Propertiessection of the.prop()documentation.ShareImprove this answerFolloweditedAug 18, 2019 at 19:04MultiplyByZer06,87933 gold badges3333 silver badges4848 bronze badgesansweredJan 8, 2009 at 22:25XianXian76.4k1212 gold badges4444 silver badges4949 bronze badges\n\nUse:$("".myCheckbox"").attr(\'checked\', true); // Deprecated\n$("".myCheckbox"").prop(\'checked\', true);And if you want to check if a checkbox is checked or not:$(\'.myCheckbox\').is(\':checked\');ShareImprove this answerFolloweditedMar 18, 2015 at 18:34Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJan 8, 2009 at 22:25bchhunbchhun18.4k88 gold badges2929 silver badges3131 bronze badges\n\nThis is the correct way of checking and unchecking checkboxes with jQuery, as it is cross-platform standard, andwillallow form reposts.$(\'.myCheckBox\').each(function(){ this.checked = true; });\n\n$(\'.myCheckBox\').each(function(){ this.checked = false; });By doing this, you are using JavaScript standards for checking and unchecking checkboxes, so any browser that properly implements the ""checked"" property of the checkbox element will run this code flawlessly. Thisshouldbe all major browsers, but I am unable to test previous to Internet Explorer 9.The Problem(jQuery 1.6):Once a user clicks on a checkbox, that checkbox stops responding to the ""checked"" attribute changes.Here is an example of the checkbox attribute failing to do the job after someone hasclickedthe checkbox (this happens in Chrome).FiddleThe Solution:By using JavaScript\'s ""checked"" property on theDOMelements, we are able to solve the problem directly, instead of trying to manipulate the DOM into doing what wewantit to do.FiddleThis plugin will alter the checked property of any elements selected by jQuery, and successfully check and uncheck checkboxes under all circumstances. So, while this may seem like an over-bearing solution, it will make your site\'s user experience better, and help prevent user frustration.(function( $ ) {\n    $.fn.checked = function(value) {\n        if(value === true || value === false) {\n            // Set the value of the checkbox\n            $(this).each(function(){ this.checked = value; });\n        } \n        else if(value === undefined || value === \'toggle\') {\n            // Toggle the checkbox\n            $(this).each(function(){ this.checked = !this.checked; });\n        }\n\n        return this;\n    };\n})( jQuery );Alternatively, if you do not want to use a plugin, you can use the following code snippets:// Check\n$(\':checkbox\').prop(\'checked\', true);\n\n// Un-check\n$(\':checkbox\').prop(\'checked\', false);\n\n// Toggle\n$(\':checkbox\').prop(\'checked\', function (i, value) {\n    return !value;\n});ShareImprove this answerFolloweditedAug 24, 2021 at 13:19Yashwardhan Pauranik5,50855 gold badges4343 silver badges7373 bronze badgesansweredMay 6, 2011 at 19:31cwharriscwharris18k44 gold badges4545 silver badges6464 bronze badges\n\nYou can do$(\'.myCheckbox\').attr(\'checked\',true) //Standards compliantor$(""form #mycheckbox"").attr(\'checked\', true)If you have custom code in the onclick event for the checkbox that you want to fire, use this one instead:$(""#mycheckbox"").click();You can uncheck by removing the attribute entirely:$(\'.myCheckbox\').removeAttr(\'checked\')You can check all checkboxes like this:$("".myCheckbox"").each(function(){\n    $(""#mycheckbox"").click()\n});ShareImprove this answerFolloweditedDec 29, 2011 at 18:18Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJan 8, 2009 at 22:24MicahMicah114k8787 gold badges235235 silver badges329329 bronze badges\n\nYou can also extend the $.fn object with new methods:(function($)  {\n   $.fn.extend({\n      check : function()  {\n         return this.filter("":radio, :checkbox"").attr(""checked"", true);\n      },\n      uncheck : function()  {\n         return this.filter("":radio, :checkbox"").removeAttr(""checked"");\n      }\n   });\n}(jQuery));Then you can just do:$("":checkbox"").check();\n$("":checkbox"").uncheck();Or you may want to give them more unique names like mycheck() and myuncheck()  in case you use some other library that uses those names.ShareImprove this answerFollowansweredAug 20, 2010 at 18:19livefree75livefree7590366 silver badges22 bronze badges\n\n$(""#mycheckbox"")[0].checked = true;\n$(""#mycheckbox"").attr(\'checked\', true);\n$(""#mycheckbox"").click();The last one will fire the click event for the checkbox, the others will not.\nSo if you have custom code in the onclick event for the checkbox that you want to fire, use the last one.ShareImprove this answerFolloweditedFeb 3, 2009 at 17:06answeredJan 8, 2009 at 22:36Chris BrandsmaChris Brandsma11.7k55 gold badges4848 silver badges5959 bronze badges\n\nTo check a checkbox you should use$(\'.myCheckbox\').attr(\'checked\',true);or$(\'.myCheckbox\').attr(\'checked\',\'checked\');and to uncheck a check box you should always set it to false:$(\'.myCheckbox\').attr(\'checked\',false);If you do$(\'.myCheckbox\').removeAttr(\'checked\')it removes the attribute all together and therefore you will not be able to reset the form.BAD DEMO jQuery 1.6. I think this is broken. For 1.6 I am going to make a new post on that.NEW WORKING DEMO jQuery 1.5.2works in Chrome.Both demos use$(\'#tc\').click(function() {\n    if ( $(\'#myCheckbox\').attr(\'checked\')) {\n        $(\'#myCheckbox\').attr(\'checked\', false);\n    } else {\n        $(\'#myCheckbox\').attr(\'checked\', \'checked\');\n    }\n});ShareImprove this answerFolloweditedDec 29, 2011 at 18:21Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMar 23, 2011 at 15:22mcgrailmmcgrailm17.6k2222 gold badges8484 silver badges131131 bronze badges\n\nThis selects elements that have the specified attribute with a value containing the given substring ""ckbItem"":$(\'input[name *= ckbItem]\').prop(\'checked\', true);It will select all elements that contain ckbItem in its name attribute.ShareImprove this answerFolloweditedJul 18, 2018 at 13:44answeredSep 20, 2010 at 11:43Abou-EmishAbou-Emish2,28111 gold badge2222 silver badges2222 bronze badges\n\nAssuming that the question is...How do I check a checkbox-setBY VALUE?Remember that in a typical checkbox set, all input tags have the same name,they differ by the attributevalue:  there are no ID for each input of the set.Xian\'s answer can be extended with amore specific selector, using the following line of code:$(""input.myclass[name=\'myname\'][value=\'the_value\']"").prop(""checked"", true);ShareImprove this answerFolloweditedJun 9, 2014 at 15:07community wiki5 revs, 3 users 74%Peter Krauss\n\nI\'m missing the solution. I\'ll always use:if ($(\'#myCheckBox:checked\').val() !== undefined)\n{\n    //Checked\n}\nelse\n{\n    //Not checked\n}ShareImprove this answerFolloweditedDec 13, 2014 at 16:43Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJun 24, 2012 at 11:33OverbeekeOverbeeke2,02833 gold badges2222 silver badges2424 bronze badges\n\nTo check a checkbox usingjQuery 1.6or higher just do this:checkbox.prop(\'checked\', true);To uncheck, use:checkbox.prop(\'checked\', false);Here\' s what I like to use to toggle a checkbox using jQuery:checkbox.prop(\'checked\', !checkbox.prop(\'checked\'));If you\'re usingjQuery 1.5or lower:checkbox.attr(\'checked\', true);To uncheck, use:checkbox.attr(\'checked\', false);ShareImprove this answerFolloweditedMay 9, 2017 at 13:23answeredMar 14, 2013 at 9:40Ramon de JesusRamon de Jesus78866 silver badges1010 bronze badges\n\nHere is a way to do it without jQueryfunction addOrAttachListener(el, type, listener, useCapture) {\r\n  if (el.addEventListener) {\r\n    el.addEventListener(type, listener, useCapture);\r\n  } else if (el.attachEvent) {\r\n    el.attachEvent(""on"" + type, listener);\r\n  }\r\n};\r\n\r\naddOrAttachListener(window, ""load"", function() {\r\n  var cbElem = document.getElementById(""cb"");\r\n  var rcbElem = document.getElementById(""rcb"");\r\n  addOrAttachListener(cbElem, ""click"", function() {\r\n    rcbElem.checked = cbElem.checked;\r\n  }, false);\r\n}, false);<label>Click Me!\r\n  <input id=""cb"" type=""checkbox"" />\r\n</label>\r\n<label>Reflection:\r\n  <input id=""rcb"" type=""checkbox"" />\r\n</label>ShareImprove this answerFolloweditedMay 10, 2016 at 9:58answeredOct 23, 2012 at 0:41XitalogyXitalogy1,61222 gold badges1515 silver badges1717 bronze badges\n\nHere is code for checked and unchecked with a button:var set=1;\nvar unset=0;\njQuery( function() {\n    $( \'.checkAll\' ).live(\'click\', function() {\n        $( \'.cb-element\' ).each(function () {\n            if(set==1){ $( \'.cb-element\' ).attr(\'checked\', true) unset=0; }\n            if(set==0){ $( \'.cb-element\' ).attr(\'checked\', false); unset=1; }\n        });\n        set=unset;\n    });\n});Update: Here is the same code block using the newer Jquery 1.6+ prop method, which replaces attr:var set=1;\nvar unset=0;\njQuery( function() {\n    $( \'.checkAll\' ).live(\'click\', function() {\n        $( \'.cb-element\' ).each(function () {\n            if(set==1){ $( \'.cb-element\' ).prop(\'checked\', true) unset=0; }\n            if(set==0){ $( \'.cb-element\' ).prop(\'checked\', false); unset=1; }\n        });\n        set=unset;\n    });\n});ShareImprove this answerFolloweditedApr 11, 2017 at 15:55MrBoJangles12.2k1717 gold badges6363 silver badges8080 bronze badgesansweredOct 25, 2011 at 8:51starjahidstarjahid35733 silver badges22 bronze badges\n\nTry this:$(\'#checkboxid\').get(0).checked = true;  //For checking\n\n$(\'#checkboxid\').get(0).checked = false; //For uncheckingShareImprove this answerFolloweditedFeb 16, 2013 at 10:33Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredSep 10, 2012 at 10:26prashanthprashanth33933 silver badges22 bronze badges\n\nWe can useelementObjectwith jQuery for getting the attribute checked:$(objectElement).attr(\'checked\');We can use this for all jQuery versions without any error.Update: Jquery 1.6+ has the new prop method which replaces attr, e.g.:$(objectElement).prop(\'checked\');ShareImprove this answerFolloweditedApr 11, 2017 at 15:53MrBoJangles12.2k1717 gold badges6363 silver badges8080 bronze badgesansweredJun 24, 2011 at 8:27Prasanth PPrasanth P71522 gold badges99 silver badges2424 bronze badges\n\nIf you are usingPhoneGapdoing application development, and you have a value on the button that you want to show instantly, remember to do this$(\'span.ui-[controlname]\',$(\'[id]\')).text(""the value"");I found that without the span, the interface will not update no matter what you do.ShareImprove this answerFolloweditedFeb 16, 2013 at 10:32Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredApr 17, 2012 at 6:34Clement HoClement Ho32933 silver badges1010 bronze badges\n\nHere is the code and demo for how to check multiple check boxes...http://jsfiddle.net/tamilmani/z8TTt/$(""#check"").on(""click"", function () {\n\n    var chk = document.getElementById(\'check\').checked;\n    var arr = document.getElementsByTagName(""input"");\n\n    if (chk) {\n        for (var i in arr) {\n            if (arr[i].name == \'check\') arr[i].checked = true;\n        }\n    } else {\n        for (var i in arr) {\n            if (arr[i].name == \'check\') arr[i].checked = false;\n        }\n    }\n});ShareImprove this answerFolloweditedFeb 10, 2016 at 13:18Joaquinglezsantos1,5901717 silver badges2727 bronze badgesansweredAug 16, 2013 at 6:17tamilmanitamilmani59111 gold badge66 silver badges1313 bronze badges\n\nAnother possible solution:var c = $(""#checkboxid"");\n    if (c.is("":checked"")) {\n         $(\'#checkboxid\').prop(\'checked\', false);\n    } else {\n         $(\'#checkboxid\').prop(\'checked\', true);\n    }ShareImprove this answerFolloweditedJul 21, 2014 at 9:34Getz4,03366 gold badges3636 silver badges5252 bronze badgesansweredOct 12, 2013 at 8:23Muhammad Aamir AliMuhammad Aamir Ali20.9k1111 gold badges6767 silver badges5757 bronze badges\n\nAs @livefree75 said:jQuery 1.5.x and belowYou can also extend the $.fn object with new methods:(function($)  {\n   $.fn.extend({\n      check : function()  {\n         return this.filter("":radio, :checkbox"").attr(""checked"", true);\n      },\n      uncheck : function()  {\n         return this.filter("":radio, :checkbox"").removeAttr(""checked"");\n      }\n   });\n}(jQuery));But in new versions of jQuery, we have to use something like this:jQuery 1.6+(function($)  {\n       $.fn.extend({\n          check : function()  {\n             return this.filter("":radio, :checkbox"").prop(""checked"", true);\n          },\n          uncheck : function()  {\n             return this.filter("":radio, :checkbox"").prop(""checked"",false);\n          }\n       });\n    }(jQuery));Then you can just do:$("":checkbox"").check();\n    $("":checkbox"").uncheck();ShareImprove this answerFolloweditedMay 21, 2017 at 11:00Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredSep 23, 2016 at 18:43Ardalan ShahgholiArdalan Shahgholi12.3k2424 gold badges114114 silver badges150150 bronze badges\n\nFor jQuery 1.6+$(\'.myCheckbox\').prop(\'checked\', true);\n$(\'.myCheckbox\').prop(\'checked\', false);For jQuery 1.5.x and below$(\'.myCheckbox\').attr(\'checked\', true);\n$(\'.myCheckbox\').attr(\'checked\', false);To check,$(\'.myCheckbox\').removeAttr(\'checked\');ShareImprove this answerFollowansweredApr 21, 2015 at 10:29loganlogan8,1863737 gold badges118118 silver badges186186 bronze badges\n\nIf using mobile and you want the interface to update and show the checkbox as unchecked, use the following:$(""#checkbox1"").prop(\'checked\', false).checkboxradio(""refresh"");ShareImprove this answerFollowansweredJan 11, 2013 at 13:05Matt PeacockMatt Peacock19911 silver badge22 bronze badges\n\nTo check and uncheck$(\'.myCheckbox\').prop(\'checked\', true);\n$(\'.myCheckbox\').prop(\'checked\', false);ShareImprove this answerFolloweditedDec 3, 2013 at 2:18Theraot38.5k66 gold badges6161 silver badges9797 bronze badgesansweredNov 14, 2013 at 6:34jj2422jj242237266 silver badges2020 bronze badges\n\nBe aware of memory leaks in Internet\xa0Explorer prior toInternet\xa0Explorer\xa09, as thejQuery documentation states:In Internet Explorer prior to version 9, using .prop() to set a DOM\n  element property to anything other than a simple primitive value\n  (number, string, or boolean) can cause memory leaks if the property is\n  not removed (using .removeProp()) before the DOM element is removed\n  from the document. To safely set values on DOM objects without memory\n  leaks, use .data().ShareImprove this answerFolloweditedNov 22, 2014 at 15:33Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMay 22, 2013 at 7:25naornaor3,60033 gold badges1919 silver badges1313 bronze badges\n\n$(\'controlCheckBox\').click(function(){\n    var temp = $(this).prop(\'checked\');\n    $(\'controlledCheckBoxes\').prop(\'checked\', temp);\n});ShareImprove this answerFolloweditedJul 16, 2013 at 2:57answeredJul 16, 2013 at 2:10mahmohmahmoh79211 gold badge99 silver badges1515 bronze badges\n\nThis is probably the shortest and easiest solution:$("".myCheckBox"")[0].checked = true;or$("".myCheckBox"")[0].checked = false;Even shorter would be:$("".myCheckBox"")[0].checked = !0;\n$("".myCheckBox"")[0].checked = !1;Here isajsFiddleas well.ShareImprove this answerFolloweditedDec 13, 2014 at 16:46Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMay 27, 2014 at 15:11FriedrichFriedrich2,23022 gold badges2020 silver badges4242 bronze badges\n\nPlain JavaScript is very simple and much less overhead:var elements = document.getElementsByClassName(\'myCheckBox\');\nfor(var i = 0; i < elements.length; i++)\n{\n    elements[i].checked = true;\n}Example hereShareImprove this answerFolloweditedSep 23, 2013 at 1:12answeredSep 18, 2013 at 1:14Alex WAlex W37.8k1313 gold badges110110 silver badges111111 bronze badges\n\nWhen you checked a checkbox like;$(\'.className\').attr(\'checked\', \'checked\')it might not be enough. You should also call the function below;$(\'.className\').prop(\'checked\', \'true\')Especially when you removed the checkbox checked attribute.ShareImprove this answerFollowansweredMar 5, 2015 at 13:10Serhat KorogluSerhat Koroglu1,27544 gold badges1919 silver badges4141 bronze badges\n\nI couldn\'t get it working using:$(""#cb"").prop(\'checked\', \'true\');\n$(""#cb"").prop(\'checked\', \'false\');Both true and false would check the checkbox. What worked for me was:$(""#cb"").prop(\'checked\', \'true\'); // For checking\n$(""#cb"").prop(\'checked\', \'\');     // For uncheckingShareImprove this answerFolloweditedDec 15, 2014 at 18:44Mark Amery150k8787 gold badges415415 silver badges465465 bronze badgesansweredJan 5, 2012 at 13:26fredcrsfredcrs3,59177 gold badges3636 silver badges5656 bronze badges\n\nHere\'s the complete answerusing jQueryI test it and it works 100% :D// when the button (select_unit_button) is clicked it returns all the checed checkboxes values \n    $(""#select_unit_button"").on(""click"", function(e){\n\n             var arr = [];\n\n             $(\':checkbox:checked\').each(function(i){\n                 arr[i] = $(this).val(); // u can get id or anything else\n             });\n\n              //console.log(arr); // u can test it using this in google chrome\n    });ShareImprove this answerFollowansweredFeb 27, 2013 at 15:49user1477929user1477929\n\nIn jQuery,if($(""#checkboxId"").is(\':checked\')){\n    alert(""Checked"");\n}orif($(""#checkboxId"").attr(\'checked\')==true){\n    alert(""Checked"");\n}In JavaScript,if (document.getElementById(""checkboxID"").checked){\n    alert(""Checked"");\n}ShareImprove this answerFolloweditedApr 3, 2014 at 21:31Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJun 10, 2013 at 13:17ijarlaxijarlax51522 gold badges1212 silver badges1818 bronze badges'}","{'title': 'How do I iterate over the words of a string?', 'question': 'How do I iterate over the words of a string composed of words separated by whitespace?Note that I\'m not interested in C string functions or that kind of character manipulation/access. I prefer elegance over efficiency. My current solution:#include <iostream>\n#include <sstream>\n#include <string>\n\nusing namespace std;\n\nint main() {\n    string s = ""Somewhere down the road"";\n    istringstream iss(s);\n\n    do {\n        string subs;\n        iss >> subs;\n        cout << ""Substring: "" << subs << endl;\n    } while (iss);\n}c++stringsplitShareImprove this questionFolloweditedJul 4, 2022 at 21:01community wiki28 revs, 15 users 28%Ashwin Nanjappa', 'answers': 'I use this to split string by a delimiter. The first puts the results in a pre-constructed vector, the second returns a new vector.#include <string>\n#include <sstream>\n#include <vector>\n#include <iterator>\n\ntemplate <typename Out>\nvoid split(const std::string &s, char delim, Out result) {\n    std::istringstream iss(s);\n    std::string item;\n    while (std::getline(iss, item, delim)) {\n        *result++ = item;\n    }\n}\n\nstd::vector<std::string> split(const std::string &s, char delim) {\n    std::vector<std::string> elems;\n    split(s, delim, std::back_inserter(elems));\n    return elems;\n}Note that this solution does not skip empty tokens, so the following will find 4 items, one of which is empty:std::vector<std::string> x = split(""one:two::three"", \':\');ShareImprove this answerFolloweditedJan 31, 2023 at 0:09community wiki22 revs, 17 users 38%Evan Teran\n\nFor what it\'s worth, here\'s another way to extract tokens from an input string, relying only on standard library facilities. It\'s an example of the power and elegance behind the design of the STL.#include <iostream>\n#include <string>\n#include <sstream>\n#include <algorithm>\n#include <iterator>\n\nint main() {\n    using namespace std;\n    string sentence = ""And I feel fine..."";\n    istringstream iss(sentence);\n    copy(istream_iterator<string>(iss),\n         istream_iterator<string>(),\n         ostream_iterator<string>(cout, ""\\n""));\n}Instead of copying the extracted tokens to an output stream, one could insert them into a container, using the same genericcopyalgorithm.vector<string> tokens;\ncopy(istream_iterator<string>(iss),\n     istream_iterator<string>(),\n     back_inserter(tokens));... or create thevectordirectly:vector<string> tokens{istream_iterator<string>{iss},\n                      istream_iterator<string>{}};ShareImprove this answerFolloweditedAug 2, 2019 at 11:18community wiki9 revs, 9 users 70%Zunino\n\nA possible solution using Boost might be:#include <boost/algorithm/string.hpp>\nstd::vector<std::string> strs;\nboost::split(strs, ""string to split"", boost::is_any_of(""\\t ""));This approach might be even faster than thestringstreamapproach. And since this is a generic template function it can be used to split other types of strings (wchar, etc. or UTF-8) using all kinds of delimiters.See thedocumentationfor details.ShareImprove this answerFolloweditedAug 3, 2015 at 23:20community wiki3 revs, 3 users 67%ididak\n\n#include <vector>\n#include <string>\n#include <sstream>\n\nint main()\n{\n    std::string str(""Split me by whitespaces"");\n    std::string buf;                 // Have a buffer string\n    std::stringstream ss(str);       // Insert the string into a stream\n\n    std::vector<std::string> tokens; // Create vector to hold our words\n\n    while (ss >> buf)\n        tokens.push_back(buf);\n\n    return 0;\n}ShareImprove this answerFolloweditedMay 19, 2018 at 10:01community wiki2 revs, 2 users 82%kev\n\nAn efficient, small, and elegant solution using a template function:template <class ContainerT>\nvoid split(const std::string& str, ContainerT& tokens,\n           const std::string& delimiters = "" "", bool trimEmpty = false)\n{\n   std::string::size_type pos, lastPos = 0, length = str.length();\n   \n   using value_type = typename ContainerT::value_type;\n   using size_type = typename ContainerT::size_type;\n   \n   while (lastPos < length + 1)\n   {\n      pos = str.find_first_of(delimiters, lastPos);\n      if (pos == std::string::npos)\n         pos = length;\n\n      if (pos != lastPos || !trimEmpty)\n         tokens.emplace_back(value_type(str.data() + lastPos,\n               (size_type)pos - lastPos));\n\n      lastPos = pos + 1;\n   }\n}I usually choose to usestd::vector<std::string>types as my second parameter (ContainerT)... butlist<...>may sometimes be preferred overvector<...>.It also allows you to specify whether to trim empty tokens from the results via a last optional parameter.All it requires isstd::stringincluded via<string>. It does not use streams or the boost library explicitly but will be able to accept some of these types.Also since C++-17 you can usestd::vector<std::string_view>which is much faster and more memory-efficient than usingstd::string. Here is a revised version which also supports the container as a return type:#include <vector>\n#include <string_view>\n#include <utility>\n    \ntemplate < typename StringT,\n           typename DelimiterT = char,\n           typename ContainerT = std::vector<std::string_view> >\nContainerT split(StringT const& str, DelimiterT const& delimiters = \' \', bool trimEmpty = true, ContainerT&& tokens = {})\n{\n    typename StringT::size_type pos, lastPos = 0, length = str.length();\n\n    while (lastPos < length + 1)\n    {\n        pos = str.find_first_of(delimiters, lastPos);\n        if (pos == StringT::npos)\n            pos = length;\n\n      if (pos != lastPos || !trimEmpty)\n            tokens.emplace_back(str.data() + lastPos, pos - lastPos);\n\n        lastPos = pos + 1;\n    }\n\n    return std::forward<ContainerT>(tokens);\n}Care has been taken not to make any unneeded copies.This will allow for either:for (auto const& line : split(str, \'\\n\'))Or:auto& lines = split(str, \'\\n\');Both returning the default template container type ofstd::vector<std::string_view>.To get a specific container type back, or to pass an existing container, use thetokensinput parameter with either a typed initial container or an existing container variable:auto& lines = split(str, \'\\n\', false, std::vector<std::string>());Or:std::vector<std::string> lines;\nsplit(str, \'\\n\', false, lines);ShareImprove this answerFolloweditedJun 14, 2023 at 19:12community wiki18 revs, 5 users 90%Marius\n\nHere\'s another solution. It\'s compact and reasonably efficient:std::vector<std::string> split(const std::string &text, char sep) {\n  std::vector<std::string> tokens;\n  std::size_t start = 0, end = 0;\n  while ((end = text.find(sep, start)) != std::string::npos) {\n    tokens.push_back(text.substr(start, end - start));\n    start = end + 1;\n  }\n  tokens.push_back(text.substr(start));\n  return tokens;\n}It can easily be templatised to handle string separators, wide strings, etc.Note that splitting""""results in a single empty string and splitting"",""(ie. sep) results in two empty strings.It can also be easily expanded to skip empty tokens:std::vector<std::string> split(const std::string &text, char sep) {\n    std::vector<std::string> tokens;\n    std::size_t start = 0, end = 0;\n    while ((end = text.find(sep, start)) != std::string::npos) {\n        if (end != start) {\n          tokens.push_back(text.substr(start, end - start));\n        }\n        start = end + 1;\n    }\n    if (end != start) {\n       tokens.push_back(text.substr(start));\n    }\n    return tokens;\n}If splitting a string at multiple delimiters while skipping empty tokens is desired, this version may be used:std::vector<std::string> split(const std::string& text, const std::string& delims)\n{\n    std::vector<std::string> tokens;\n    std::size_t start = text.find_first_not_of(delims), end = 0;\n\n    while((end = text.find_first_of(delims, start)) != std::string::npos)\n    {\n        tokens.push_back(text.substr(start, end - start));\n        start = text.find_first_not_of(delims, end);\n    }\n    if(start != std::string::npos)\n        tokens.push_back(text.substr(start));\n\n    return tokens;\n}ShareImprove this answerFolloweditedOct 4, 2016 at 22:33community wiki13 revs, 7 users 48%Alec Thomas\n\nThis is my favorite way to iterate through a string. You can do whatever you want per word.string line = ""a line of text to iterate through"";\nstring word;\n\nistringstream iss(line, istringstream::in);\n\nwhile( iss >> word )     \n{\n    // Do something on `word` here...\n}ShareImprove this answerFolloweditedApr 12, 2018 at 11:37community wiki4 revs, 2 users 86%gnomed\n\nThis is similar to Stack\xa0Overflow questionHow do I tokenize a string in C++?.Requires Boost external library#include <iostream>\n#include <string>\n#include <boost/tokenizer.hpp>\n\nusing namespace std;\nusing namespace boost;\n\nint main(int argc, char** argv)\n{\n    string text = ""token  test\\tstring"";\n\n    char_separator<char> sep("" \\t"");\n    tokenizer<char_separator<char>> tokens(text, sep);\n    for (const string& t : tokens)\n    {\n        cout << t << ""."" << endl;\n    }\n}ShareImprove this answerFolloweditedOct 10, 2021 at 16:39community wiki6 revs, 5 users 76%Ferruccio\n\nI like the following because it puts the results into a vector, supports a string as a delim and gives control over keeping empty values. But, it doesn\'t look as good then.#include <ostream>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <iterator>\nusing namespace std;\n\nvector<string> split(const string& s, const string& delim, const bool keep_empty = true) {\n    vector<string> result;\n    if (delim.empty()) {\n        result.push_back(s);\n        return result;\n    }\n    string::const_iterator substart = s.begin(), subend;\n    while (true) {\n        subend = search(substart, s.end(), delim.begin(), delim.end());\n        string temp(substart, subend);\n        if (keep_empty || !temp.empty()) {\n            result.push_back(temp);\n        }\n        if (subend == s.end()) {\n            break;\n        }\n        substart = subend + delim.size();\n    }\n    return result;\n}\n\nint main() {\n    const vector<string> words = split(""So close no matter how far"", "" "");\n    copy(words.begin(), words.end(), ostream_iterator<string>(cout, ""\\n""));\n}Of course, Boost has asplit()that works partially like that. And, if by \'white-space\', you really do mean any type of white-space, using Boost\'s split withis_any_of()works great.ShareImprove this answerFolloweditedJan 8, 2017 at 4:33community wiki3 revs, 2 users 70%Shadow2531\n\nThe STL does not have such a method available already.However, you can either use C\'sstrtok()function by using thestd::string::c_str()member, or you can write your own. Here is a code sample I found after a quick Google search (""STL string split""):void Tokenize(const string& str,\n              vector<string>& tokens,\n              const string& delimiters = "" "")\n{\n    // Skip delimiters at beginning.\n    string::size_type lastPos = str.find_first_not_of(delimiters, 0);\n    // Find first ""non-delimiter"".\n    string::size_type pos     = str.find_first_of(delimiters, lastPos);\n\n    while (string::npos != pos || string::npos != lastPos)\n    {\n        // Found a token, add it to the vector.\n        tokens.push_back(str.substr(lastPos, pos - lastPos));\n        // Skip delimiters.  Note the ""not_of""\n        lastPos = str.find_first_not_of(delimiters, pos);\n        // Find next ""non-delimiter""\n        pos = str.find_first_of(delimiters, lastPos);\n    }\n}Taken from:http://oopweb.com/CPP/Documents/CPPHOWTO/Volume/C++Programming-HOWTO-7.htmlIf you have questions about the code sample, leave a comment and I will explain.And just because it does not implement atypedefcalled iterator or overload the<<operator does not mean it is bad code. I use C functions quite frequently. For example,printfandscanfboth are faster thanstd::cinandstd::cout(significantly), thefopensyntax is a lot more friendly for binary types, and they also tend to produce smaller EXEs.Don\'t get sold on this""Elegance over performance""deal.ShareImprove this answerFolloweditedApr 12, 2018 at 11:35community wiki3 revs, 2 users 82%user19302\n\nHere is a split function that:is genericuses standard C++ (no boost)accepts multiple delimitersignores empty tokens (can easily be changed)template<typename T>\nvector<T> \nsplit(const T & str, const T & delimiters) {\n    vector<T> v;\n    typename T::size_type start = 0;\n    auto pos = str.find_first_of(delimiters, start);\n    while(pos != T::npos) {\n        if(pos != start) // ignore empty tokens\n            v.emplace_back(str, start, pos - start);\n        start = pos + 1;\n        pos = str.find_first_of(delimiters, start);\n    }\n    if(start < str.length()) // ignore trailing delimiter\n        v.emplace_back(str, start, str.length() - start); // add what\'s left of the string\n    return v;\n}Example usage:vector<string> v = split<string>(""Hello, there; World"", "";,"");\n    vector<wstring> v = split<wstring>(L""Hello, there; World"", L"";,"");ShareImprove this answerFolloweditedMay 23, 2017 at 22:17community wiki6 revsMarco M.\n\nI have a 2 lines solution to this problem:char sep = \' \';\nstd::string s=""1 This is an example"";\n\nfor(size_t p=0, q=0; p!=s.npos; p=q)\n  std::cout << s.substr(p+(p!=0), (q=s.find(sep, p+1))-p-(p!=0)) << std::endl;Then instead of printing you can put it in a vector.ShareImprove this answerFolloweditedJan 15, 2013 at 0:12community wiki2 revs, 2 users 94%rhomu\n\nYet another flexible and fast waytemplate<typename Operator>\nvoid tokenize(Operator& op, const char* input, const char* delimiters) {\n  const char* s = input;\n  const char* e = s;\n  while (*e != 0) {\n    e = s;\n    while (*e != 0 && strchr(delimiters, *e) == 0) ++e;\n    if (e - s > 0) {\n      op(s, e - s);\n    }\n    s = e + 1;\n  }\n}To use it with a vector of strings (Edit: Since someone pointed out not to inherit STL classes... hrmf ;) ) :template<class ContainerType>\nclass Appender {\npublic:\n  Appender(ContainerType& container) : container_(container) {;}\n  void operator() (const char* s, unsigned length) { \n    container_.push_back(std::string(s,length));\n  }\nprivate:\n  ContainerType& container_;\n};\n\nstd::vector<std::string> strVector;\nAppender v(strVector);\ntokenize(v, ""A number of words to be tokenized"", "" \\t"");That\'s it! And that\'s just one way to use the tokenizer, like how to just \ncount words:class WordCounter {\npublic:\n  WordCounter() : noOfWords(0) {}\n  void operator() (const char*, unsigned) {\n    ++noOfWords;\n  }\n  unsigned noOfWords;\n};\n\nWordCounter wc;\ntokenize(wc, ""A number of words to be counted"", "" \\t""); \nASSERT( wc.noOfWords == 7 );Limited by imagination ;)ShareImprove this answerFolloweditedSep 11, 2013 at 8:11community wiki2 revsRobert\n\nHere\'s a simple solution that uses only the standard regex library#include <regex>\n#include <string>\n#include <vector>\n\nstd::vector<std::string> Tokenize( const string str, const std::regex regex )\n{\n    using namespace std;\n\n    std::vector<string> result;\n\n    sregex_token_iterator it( str.begin(), str.end(), regex, -1 );\n    sregex_token_iterator reg_end;\n\n    for ( ; it != reg_end; ++it ) {\n        if ( !it->str().empty() ) //token could be empty:check\n            result.emplace_back( it->str() );\n    }\n\n    return result;\n}The regex argument allows checking for multiple arguments (spaces, commas, etc.)I usually only check to split on spaces and commas, so I also have this default function:std::vector<std::string> TokenizeDefault( const string str )\n{\n    using namespace std;\n\n    regex re( ""[\\\\s,]+"" );\n\n    return Tokenize( str, re );\n}The""[\\\\s,]+""checks for spaces (\\\\s) and commas (,).Note, if you want to splitwstringinstead ofstring,change allstd::regextostd::wregexchange allsregex_token_iteratortowsregex_token_iteratorNote, you might also want to take the string argument by reference, depending on your compiler.ShareImprove this answerFolloweditedApr 30 at 13:50community wiki3 revs, 3 users 96%dk123\n\nUsingstd::stringstreamas you have works perfectly fine, and do exactly what you wanted. If you\'re just looking for different way of doing things though, you can usestd::find()/std::find_first_of()andstd::string::substr().Here\'s an example:#include <iostream>\n#include <string>\n\nint main()\n{\n    std::string s(""Somewhere down the road"");\n    std::string::size_type prev_pos = 0, pos = 0;\n\n    while( (pos = s.find(\' \', pos)) != std::string::npos )\n    {\n        std::string substring( s.substr(prev_pos, pos-prev_pos) );\n\n        std::cout << substring << \'\\n\';\n\n        prev_pos = ++pos;\n    }\n\n    std::string substring( s.substr(prev_pos, pos-prev_pos) ); // Last word\n    std::cout << substring << \'\\n\';\n\n    return 0;\n}ShareImprove this answerFolloweditedApr 12, 2018 at 11:42community wiki2 revs, 2 users 81%KTC\n\nIf you like to use boost, but want to use a whole string as delimiter (instead of single characters as in most of the previously proposed solutions), you can use theboost_split_iterator.Example code including convenient template:#include <iostream>\n#include <vector>\n#include <boost/algorithm/string.hpp>\n\ntemplate<typename _OutputIterator>\ninline void split(\n    const std::string& str, \n    const std::string& delim, \n    _OutputIterator result)\n{\n    using namespace boost::algorithm;\n    typedef split_iterator<std::string::const_iterator> It;\n\n    for(It iter=make_split_iterator(str, first_finder(delim, is_equal()));\n            iter!=It();\n            ++iter)\n    {\n        *(result++) = boost::copy_range<std::string>(*iter);\n    }\n}\n\nint main(int argc, char* argv[])\n{\n    using namespace std;\n\n    vector<string> splitted;\n    split(""HelloFOOworldFOO!"", ""FOO"", back_inserter(splitted));\n\n    // or directly to console, for example\n    split(""HelloFOOworldFOO!"", ""FOO"", ostream_iterator<string>(cout, ""\\n""));\n    return 0;\n}ShareImprove this answerFolloweditedFeb 9, 2012 at 9:32community wiki3 revs, 2 users 71%zerm\n\nC++20 finally blesses us with asplitfunction. Or rather, a range adapter.Godbolt link.#include <iostream>\n#include <ranges>\n#include <string_view>\n\nnamespace ranges = std::ranges;\nnamespace views = std::views;\n\nusing str = std::string_view;\n\nauto view =\n    ""Multiple words""\n    | views::split(\' \')\n    | views::transform([](auto &&r) -> str {\n        return str(r.begin(), r.end());\n    });\n\nauto main() -> int {\n    for (str &&sv : view) {\n        std::cout << sv << \'\\n\';\n    }\n}ShareImprove this answerFolloweditedMar 17, 2023 at 21:29community wiki2 revs, 2 users 91%J. Willus\n\nHeres a regex solution that only uses the standard regex library.  (I\'m a little rusty, so there may be a few syntax errors, but this is at least the general idea)#include <regex.h>\n#include <string.h>\n#include <vector.h>\n\nusing namespace std;\n\nvector<string> split(string s){\n    regex r (""\\\\w+""); //regex matches whole words, (greedy, so no fragment words)\n    regex_iterator<string::iterator> rit ( s.begin(), s.end(), r );\n    regex_iterator<string::iterator> rend; //iterators to iterate thru words\n    vector<string> result<regex_iterator>(rit, rend);\n    return result;  //iterates through the matches to fill the vector\n}ShareImprove this answerFollowansweredOct 29, 2012 at 16:15community wikiAJMansfield\n\nThere is a function namedstrtok.#include<string>\nusing namespace std;\n\nvector<string> split(char* str,const char* delim)\n{\n    char* saveptr;\n    char* token = strtok_r(str,delim,&saveptr);\n\n    vector<string> result;\n\n    while(token != NULL)\n    {\n        result.push_back(token);\n        token = strtok_r(NULL,delim,&saveptr);\n    }\n    return result;\n}ShareImprove this answerFolloweditedMay 2, 2014 at 14:49community wiki3 revs, 2 users 91%Pratik Deoghare\n\nUsingstd::string_viewand Eric Niebler\'srange-v3library:https://wandbox.org/permlink/kW5lwRCL1pxjp2pW#include <iostream>\n#include <string>\n#include <string_view>\n#include ""range/v3/view.hpp""\n#include ""range/v3/algorithm.hpp""\n\nint main() {\n    std::string s = ""Somewhere down the range v3 library"";\n    ranges::for_each(s  \n        |   ranges::view::split(\' \')\n        |   ranges::view::transform([](auto &&sub) {\n                return std::string_view(&*sub.begin(), ranges::distance(sub));\n            }),\n        [](auto s) {std::cout << ""Substring: "" << s << ""\\n"";}\n    );\n}By using a rangeforloop instead ofranges::for_eachalgorithm:#include <iostream>\n#include <string>\n#include <string_view>\n#include ""range/v3/view.hpp""\n\nint main()\n{\n    std::string str = ""Somewhere down the range v3 library"";\n    for (auto s : str | ranges::view::split(\' \')\n                      | ranges::view::transform([](auto&& sub) { return std::string_view(&*sub.begin(), ranges::distance(sub)); }\n                      ))\n    {\n        std::cout << ""Substring: "" << s << ""\\n"";\n    }\n}ShareImprove this answerFolloweditedMay 19, 2019 at 20:47community wiki2 revs, 2 users 66%Porsche9II\n\nThestringstreamcan be convenient if you need to parse the string by non-space symbols:string s = ""Name:JAck; Spouse:Susan; ..."";\nstring dummy, name, spouse;\n\nistringstream iss(s);\ngetline(iss, dummy, \':\');\ngetline(iss, name, \';\');\ngetline(iss, dummy, \':\');\ngetline(iss, spouse, \';\')ShareImprove this answerFolloweditedJun 22, 2015 at 17:02community wiki2 revs, 2 users 95%lukmac\n\nSo far I used the one inBoost, but I needed something that doesn\'t depends on it, so I came to this:static void Split(std::vector<std::string>& lst, const std::string& input, const std::string& separators, bool remove_empty = true)\n{\n    std::ostringstream word;\n    for (size_t n = 0; n < input.size(); ++n)\n    {\n        if (std::string::npos == separators.find(input[n]))\n            word << input[n];\n        else\n        {\n            if (!word.str().empty() || !remove_empty)\n                lst.push_back(word.str());\n            word.str("""");\n        }\n    }\n    if (!word.str().empty() || !remove_empty)\n        lst.push_back(word.str());\n}A good point is that inseparatorsyou can pass more than one character.ShareImprove this answerFolloweditedMay 22, 2011 at 23:02community wiki3 revs, 2 users 64%Goran\n\nShort and elegant#include <vector>\n#include <string>\nusing namespace std;\n\nvector<string> split(string data, string token)\n{\n    vector<string> output;\n    size_t pos = string::npos; // size_t to avoid improbable overflow\n    do\n    {\n        pos = data.find(token);\n        output.push_back(data.substr(0, pos));\n        if (string::npos != pos)\n            data = data.substr(pos + token.size());\n    } while (string::npos != pos);\n    return output;\n}can use any string as delimiter, also can be used with binary data (std::string supports binary data, including nulls)using:auto a = split(""this!!is!!!example!string"", ""!!"");output:this\nis\n!example!stringShareImprove this answerFolloweditedJul 14, 2016 at 20:17community wiki2 revs, 2 users 98%user1438233\n\nThis answer takes the string and puts it into a vector of strings. It uses the boost library.#include <boost/algorithm/string.hpp>\nstd::vector<std::string> strs;\nboost::split(strs, ""string to split"", boost::is_any_of(""\\t ""));ShareImprove this answerFollowansweredDec 9, 2017 at 21:14community wikiNL628\n\nI made this because I needed an easy way to split strings and C-based strings. Hopefully someone else can find it useful as well. Also, it doesn\'t rely on tokens, and you can use fields as delimiters, which is another key I needed.I\'m sure there are improvements that can be made to even further improve its elegance, and please do by all means.StringSplitter.hpp:#include <vector>\n#include <iostream>\n#include <string.h>\n\nusing namespace std;\n\nclass StringSplit\n{\nprivate:\n    void copy_fragment(char*, char*, char*);\n    void copy_fragment(char*, char*, char);\n    bool match_fragment(char*, char*, int);\n    int untilnextdelim(char*, char);\n    int untilnextdelim(char*, char*);\n    void assimilate(char*, char);\n    void assimilate(char*, char*);\n    bool string_contains(char*, char*);\n    long calc_string_size(char*);\n    void copy_string(char*, char*);\n\npublic:\n    vector<char*> split_cstr(char);\n    vector<char*> split_cstr(char*);\n    vector<string> split_string(char);\n    vector<string> split_string(char*);\n    char* String;\n    bool do_string;\n    bool keep_empty;\n    vector<char*> Container;\n    vector<string> ContainerS;\n\n    StringSplit(char * in)\n    {\n        String = in;\n    }\n\n    StringSplit(string in)\n    {\n        size_t len = calc_string_size((char*)in.c_str());\n        String = new char[len + 1];\n        memset(String, 0, len + 1);\n        copy_string(String, (char*)in.c_str());\n        do_string = true;\n    }\n\n    ~StringSplit()\n    {\n        for (int i = 0; i < Container.size(); i++)\n        {\n            if (Container[i] != NULL)\n            {\n                delete[] Container[i];\n            }\n        }\n        if (do_string)\n        {\n            delete[] String;\n        }\n    }\n};StringSplitter.cpp:#include <string.h>\n#include <iostream>\n#include <vector>\n#include ""StringSplit.hpp""\n\nusing namespace std;\n\nvoid StringSplit::assimilate(char*src, char delim)\n{\n    int until = untilnextdelim(src, delim);\n    if (until > 0)\n    {\n        char * temp = new char[until + 1];\n        memset(temp, 0, until + 1);\n        copy_fragment(temp, src, delim);\n        if (keep_empty || *temp != 0)\n        {\n            if (!do_string)\n            {\n                Container.push_back(temp);\n            }\n            else\n            {\n                string x = temp;\n                ContainerS.push_back(x);\n            }\n\n        }\n        else\n        {\n            delete[] temp;\n        }\n    }\n}\n\nvoid StringSplit::assimilate(char*src, char* delim)\n{\n    int until = untilnextdelim(src, delim);\n    if (until > 0)\n    {\n        char * temp = new char[until + 1];\n        memset(temp, 0, until + 1);\n        copy_fragment(temp, src, delim);\n        if (keep_empty || *temp != 0)\n        {\n            if (!do_string)\n            {\n                Container.push_back(temp);\n            }\n            else\n            {\n                string x = temp;\n                ContainerS.push_back(x);\n            }\n        }\n        else\n        {\n            delete[] temp;\n        }\n    }\n}\n\nlong StringSplit::calc_string_size(char* _in)\n{\n    long i = 0;\n    while (*_in++)\n    {\n        i++;\n    }\n    return i;\n}\n\nbool StringSplit::string_contains(char* haystack, char* needle)\n{\n    size_t len = calc_string_size(needle);\n    size_t lenh = calc_string_size(haystack);\n    while (lenh--)\n    {\n        if (match_fragment(haystack + lenh, needle, len))\n        {\n            return true;\n        }\n    }\n    return false;\n}\n\nbool StringSplit::match_fragment(char* _src, char* cmp, int len)\n{\n    while (len--)\n    {\n        if (*(_src + len) != *(cmp + len))\n        {\n            return false;\n        }\n    }\n    return true;\n}\n\nint StringSplit::untilnextdelim(char* _in, char delim)\n{\n    size_t len = calc_string_size(_in);\n    if (*_in == delim)\n    {\n        _in += 1;\n        return len - 1;\n    }\n\n    int c = 0;\n    while (*(_in + c) != delim && c < len)\n    {\n        c++;\n    }\n\n    return c;\n}\n\nint StringSplit::untilnextdelim(char* _in, char* delim)\n{\n    int s = calc_string_size(delim);\n    int c = 1 + s;\n\n    if (!string_contains(_in, delim))\n    {\n        return calc_string_size(_in);\n    }\n    else if (match_fragment(_in, delim, s))\n    {\n        _in += s;\n        return calc_string_size(_in);\n    }\n\n    while (!match_fragment(_in + c, delim, s))\n    {\n        c++;\n    }\n\n    return c;\n}\n\nvoid StringSplit::copy_fragment(char* dest, char* src, char delim)\n{\n    if (*src == delim)\n    {\n        src++;\n    }\n        \n    int c = 0;\n    while (*(src + c) != delim && *(src + c))\n    {\n        *(dest + c) = *(src + c);\n        c++;\n    }\n    *(dest + c) = 0;\n}\n\nvoid StringSplit::copy_string(char* dest, char* src)\n{\n    int i = 0;\n    while (*(src + i))\n    {\n        *(dest + i) = *(src + i);\n        i++;\n    }\n}\n\nvoid StringSplit::copy_fragment(char* dest, char* src, char* delim)\n{\n    size_t len = calc_string_size(delim);\n    size_t lens = calc_string_size(src);\n    \n    if (match_fragment(src, delim, len))\n    {\n        src += len;\n        lens -= len;\n    }\n    \n    int c = 0;\n    while (!match_fragment(src + c, delim, len) && (c < lens))\n    {\n        *(dest + c) = *(src + c);\n        c++;\n    }\n    *(dest + c) = 0;\n}\n\nvector<char*> StringSplit::split_cstr(char Delimiter)\n{\n    int i = 0;\n    while (*String)\n    {\n        if (*String != Delimiter && i == 0)\n        {\n            assimilate(String, Delimiter);\n        }\n        if (*String == Delimiter)\n        {\n            assimilate(String, Delimiter);\n        }\n        i++;\n        String++;\n    }\n\n    String -= i;\n    delete[] String;\n\n    return Container;\n}\n\nvector<string> StringSplit::split_string(char Delimiter)\n{\n    do_string = true;\n    \n    int i = 0;\n    while (*String)\n    {\n        if (*String != Delimiter && i == 0)\n        {\n            assimilate(String, Delimiter);\n        }\n        if (*String == Delimiter)\n        {\n            assimilate(String, Delimiter);\n        }\n        i++;\n        String++;\n    }\n\n    String -= i;\n    delete[] String;\n\n    return ContainerS;\n}\n\nvector<char*> StringSplit::split_cstr(char* Delimiter)\n{\n    int i = 0;\n    size_t LenDelim = calc_string_size(Delimiter);\n\n    while(*String)\n    {\n        if (!match_fragment(String, Delimiter, LenDelim) && i == 0)\n        {\n            assimilate(String, Delimiter);\n        }\n        if (match_fragment(String, Delimiter, LenDelim))\n        {\n            assimilate(String,Delimiter);\n        }\n        i++;\n        String++;\n    }\n\n    String -= i;\n    delete[] String;\n\n    return Container;\n}\n\nvector<string> StringSplit::split_string(char* Delimiter)\n{\n    do_string = true;\n    int i = 0;\n    size_t LenDelim = calc_string_size(Delimiter);\n\n    while (*String)\n    {\n        if (!match_fragment(String, Delimiter, LenDelim) && i == 0)\n        {\n            assimilate(String, Delimiter);\n        }\n        if (match_fragment(String, Delimiter, LenDelim))\n        {\n            assimilate(String, Delimiter);\n        }\n        i++;\n        String++;\n    }\n\n    String -= i;\n    delete[] String;\n\n    return ContainerS;\n}Examples:int main(int argc, char*argv[])\n{\n    StringSplit ss = ""This:CUT:is:CUT:an:CUT:example:CUT:cstring"";\n    vector<char*> Split = ss.split_cstr("":CUT:"");\n\n    for (int i = 0; i < Split.size(); i++)\n    {\n        cout << Split[i] << endl;\n    }\n\n    return 0;\n}Will output:Thisisanexamplecstringint main(int argc, char*argv[])\n{\n    StringSplit ss = ""This:is:an:example:cstring"";\n    vector<char*> Split = ss.split_cstr(\':\');\n\n    for (int i = 0; i < Split.size(); i++)\n    {\n        cout << Split[i] << endl;\n    }\n\n    return 0;\n}\n\nint main(int argc, char*argv[])\n{\n    string mystring = ""This[SPLIT]is[SPLIT]an[SPLIT]example[SPLIT]string"";\n    StringSplit ss = mystring;\n    vector<string> Split = ss.split_string(""[SPLIT]"");\n\n    for (int i = 0; i < Split.size(); i++)\n    {\n        cout << Split[i] << endl;\n    }\n\n    return 0;\n}\n\nint main(int argc, char*argv[])\n{\n    string mystring = ""This|is|an|example|string"";\n    StringSplit ss = mystring;\n    vector<string> Split = ss.split_string(\'|\');\n\n    for (int i = 0; i < Split.size(); i++)\n    {\n        cout << Split[i] << endl;\n    }\n\n    return 0;\n}To keep empty entries (by default empties will be excluded):StringSplit ss = mystring;\nss.keep_empty = true;\nvector<string> Split = ss.split_string("":DELIM:"");The goal was to make it similar to C#\'s Split() method where splitting a string is as easy as:String[] Split = \n    ""Hey:cut:what\'s:cut:your:cut:name?"".Split(new[]{"":cut:""}, StringSplitOptions.None);\n\nforeach(String X in Split)\n{\n    Console.Write(X);\n}I hope someone else can find this as useful as I do.ShareImprove this answerFolloweditedMar 7, 2023 at 19:37community wiki3 revs, 3 users 70%Steve Dell\n\nHere\'s another way of doing it..void split_string(string text,vector<string>& words)\n{\n  int i=0;\n  char ch;\n  string word;\n\n  while(ch=text[i++])\n  {\n    if (isspace(ch))\n    {\n      if (!word.empty())\n      {\n        words.push_back(word);\n      }\n      word = """";\n    }\n    else\n    {\n      word += ch;\n    }\n  }\n  if (!word.empty())\n  {\n    words.push_back(word);\n  }\n}ShareImprove this answerFolloweditedJan 8, 2010 at 3:27community wiki2 revsuser246110\n\nRecently I had to split a camel-cased word into subwords.  There are no delimiters, just upper characters.#include <string>\n#include <list>\n#include <locale> // std::isupper\n\ntemplate<class String>\nconst std::list<String> split_camel_case_string(const String &s)\n{\n    std::list<String> R;\n    String w;\n\n    for (String::const_iterator i = s.begin(); i < s.end(); ++i) {  {\n        if (std::isupper(*i)) {\n            if (w.length()) {\n                R.push_back(w);\n                w.clear();\n            }\n        }\n        w += *i;\n    }\n\n    if (w.length())\n        R.push_back(w);\n    return R;\n}For example, this splits ""AQueryTrades"" into ""A"", ""Query"" and ""Trades"".  The function works with narrow and wide strings. Because it respects the current locale it splits ""RaumfahrtÜberwachungsVerordnung"" into ""Raumfahrt"", ""Überwachungs"" and ""Verordnung"".Notestd::uppershould be really passed as function template argument. Then the more generalized from of this function can split at delimiters like"","","";""or"" ""too.ShareImprove this answerFolloweditedSep 14, 2011 at 9:47community wiki2 revsAndreas Spindler\n\nWhat about this:#include <string>\n#include <vector>\n\nusing namespace std;\n\nvector<string> split(string str, const char delim) {\n    vector<string> v;\n    string tmp;\n\n    for(string::const_iterator i; i = str.begin(); i <= str.end(); ++i) {\n        if(*i != delim && i != str.end()) {\n            tmp += *i; \n        } else {\n            v.push_back(tmp);\n            tmp = """"; \n        }   \n    }   \n\n    return v;\n}ShareImprove this answerFolloweditedDec 19, 2012 at 22:05community wiki3 revs, 3 users 89%gibbz\n\nI\'ve rolled my own using strtok and used boost to split a string.  The best method I have found is theC++ String Toolkit Library.  It is incredibly flexible and fast.#include <iostream>\n#include <vector>\n#include <string>\n#include <strtk.hpp>\n\nconst char *whitespace  = "" \\t\\r\\n\\f"";\nconst char *whitespace_and_punctuation  = "" \\t\\r\\n\\f;,="";\n\nint main()\n{\n    {   // normal parsing of a string into a vector of strings\n        std::string s(""Somewhere down the road"");\n        std::vector<std::string> result;\n        if( strtk::parse( s, whitespace, result ) )\n        {\n            for(size_t i = 0; i < result.size(); ++i )\n                std::cout << result[i] << std::endl;\n        }\n    }\n\n    {  // parsing a string into a vector of floats with other separators\n        // besides spaces\n\n        std::string s(""3.0, 3.14; 4.0"");\n        std::vector<float> values;\n        if( strtk::parse( s, whitespace_and_punctuation, values ) )\n        {\n            for(size_t i = 0; i < values.size(); ++i )\n                std::cout << values[i] << std::endl;\n        }\n    }\n\n    {  // parsing a string into specific variables\n\n        std::string s(""angle = 45; radius = 9.9"");\n        std::string w1, w2;\n        float v1, v2;\n        if( strtk::parse( s, whitespace_and_punctuation, w1, v1, w2, v2) )\n        {\n            std::cout << ""word "" << w1 << "", value "" << v1 << std::endl;\n            std::cout << ""word "" << w2 << "", value "" << v2 << std::endl;\n        }\n    }\n\n    return 0;\n}The toolkit has much more flexibility than this simple example shows but its utility in parsing a string into useful elements is incredible.ShareImprove this answerFollowansweredJan 7, 2014 at 20:28community wikiDannyK\n\nI cannot believe how overly complicated most of these answers were. Why didnt someone suggest something as simple as this?#include <iostream>\n#include <sstream>\n\nstd::string input = ""This is a sentence to read"";\nstd::istringstream ss(input);\nstd::string token;\n\nwhile(std::getline(ss, token, \' \')) {\n    std::cout << token << endl;\n}ShareImprove this answerFollowansweredFeb 21, 2022 at 14:26community wikiSam B'}","{'title': 'Set cellpadding and cellspacing in CSS?', 'question': 'In an HTML table, thecellpaddingandcellspacingcan be set like this:<table cellspacing=""1"" cellpadding=""1"">How can the same be accomplished using CSS?htmlcsshtml-tablealignmentShareImprove this questionFolloweditedJun 6, 2018 at 19:40lat9452111 gold badge55 silver badges2020 bronze badgesaskedDec 4, 2008 at 8:45kokoskokos43.4k55 gold badges3636 silver badges3232 bronze badges', 'answers': 'BasicsFor controlling ""cellpadding"" in CSS, you can simply usepaddingon table cells. E.g. for 10px of ""cellpadding"":td, th { /* table cells */\n    padding: 10px;\n}For ""cellspacing"", you can apply theborder-spacingCSS property to your table. E.g. for 10px of ""cellspacing"":table { \n    border-spacing: 10px;\n    border-collapse: separate;\n}This property will even allow separate horizontal and vertical spacing, something you couldn\'t do with old-school ""cellspacing"".Issues in IE ≤  7This will work in almost all popular browsers except for Internet\xa0Explorer up through Internet\xa0Explorer\xa07, where you\'re almost out of luck. I say ""almost"" because these browsers still support theborder-collapseproperty, which merges the borders of adjoining table cells. If you\'re trying to eliminate cellspacing (that is,cellspacing=""0"") thenborder-collapse:collapseshould have the same effect: no space between table cells. This support is buggy, though, as it does not override an existingcellspacingHTML attribute on the table element.In short: for non-Internet\xa0Explorer 5-7 browsers,border-spacinghandles you. For Internet\xa0Explorer, if your situation is just right (you want 0 cellspacing and your table doesn\'t have it defined already), you can useborder-collapse:collapse.table { \n    border-spacing: 0;\n    border-collapse: collapse;\n}Note: For a great overview of CSS properties that one can apply to tables and for which browsers, see thisfantastic Quirksmode page.ShareImprove this answerFolloweditedFeb 28 at 14:11Crissov1,0291212 silver badges1717 bronze badgesansweredJul 9, 2010 at 2:34Eric NguyenEric Nguyen40.5k44 gold badges2626 silver badges3232 bronze badges\n\nDefaultThe default behavior of the browser is equivalent to:table  {border-collapse: collapse;}\ntd, th {padding: 0px;}CellpaddingSets the amount of space between the contents of the cell and the cell walltable  {border-collapse: collapse;}\ntd, th {padding: 6px;}CellspacingControls the space between table cellstable  {border-spacing: 2px;}\ntd, th {padding: 0px;}Bothtable  {border-spacing: 2px;}\ntd, th {padding: 6px;}Both (special)table  {border-spacing: 8px 2px;}\ntd, th {padding: 6px;}Note:If there isborder-spacingset, it indicatesborder-collapseproperty of the table isseparate.Try it yourself!Hereyou can find the old HTML way of achieving this.ShareImprove this answerFolloweditedFeb 28 at 11:04Harrison2,1181212 gold badges1717 silver badges2828 bronze badgesansweredJun 12, 2012 at 10:24user669677user669677\n\ntable\n{\n    border-collapse: collapse; /* \'cellspacing\' equivalent */\n}\n\ntable td, table th\n{\n    padding: 0; /* \'cellpadding\' equivalent */\n}ShareImprove this answerFolloweditedJul 23, 2013 at 20:46Hemerson Varela25.2k1818 gold badges7171 silver badges6969 bronze badgesansweredAug 24, 2009 at 15:17PupPup10.4k66 gold badges4646 silver badges6969 bronze badges\n\nSetting margins on table cells doesn\'t really have any effect as far as I know. The true CSS equivalent forcellspacingisborder-spacing- but it doesn\'t work in Internet\xa0Explorer.You can useborder-collapse: collapseto reliably set cell spacing to 0 as mentioned, but for any other value I think the only cross-browser way is to keep using thecellspacingattribute.ShareImprove this answerFolloweditedAug 2, 2013 at 20:34Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredDec 4, 2008 at 9:18Will PrescottWill Prescott4,05322 gold badges1818 silver badges1515 bronze badges\n\nThis hack works for Internet\xa0Explorer\xa06 and later,Google Chrome, Firefox, andOpera:table {\n    border-collapse: separate;\n    border-spacing: 10px; /* cellspacing */\n    *border-collapse: expression(\'separate\', cellSpacing = \'10px\');\n}\n\ntable td, table th {\n    padding: 10px; /* cellpadding */\n}The*declaration is for Internet\xa0Explorer 6 and 7, and other browsers will properly ignore it.expression(\'separate\', cellSpacing = \'10px\')returns\'separate\', but both statements are run, as in JavaScript you can pass more arguments than expected and all of them will be evaluated.ShareImprove this answerFolloweditedOct 29, 2013 at 17:17James Donnelly128k3535 gold badges212212 silver badges222222 bronze badgesansweredDec 5, 2011 at 4:30Vitalii FedorenkoVitalii Fedorenko113k2929 gold badges150150 silver badges111111 bronze badges\n\nFor those who want a non-zero cellspacing value, the following CSS worked for me, but I\'m only able to test it in Firefox.See theQuirksmodelinkposted elsewherefor compatibility details. It seems it may not work with older Internet\xa0Explorer versions.table {\n    border-collapse: separate;\n    border-spacing: 2px;\n}ShareImprove this answerFolloweditedApr 7, 2019 at 9:55Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredAug 20, 2011 at 3:32MalvineousMalvineous26.7k1919 gold badges122122 silver badges158158 bronze badges\n\nThe simple solution to this problem is:table\n{\n    border: 1px solid #000000;\n    border-collapse: collapse;\n    border-spacing: 0px;\n}\ntable td\n{\n    padding: 8px 8px;\n}ShareImprove this answerFolloweditedJul 23, 2013 at 20:45Hemerson Varela25.2k1818 gold badges7171 silver badges6969 bronze badgesansweredDec 8, 2011 at 16:04George FilippakosGeorge Filippakos16.5k1515 gold badges8282 silver badges9393 bronze badges\n\nAlso, if you wantcellspacing=""0"", don\'t forget to addborder-collapse: collapsein yourtable\'s stylesheet.ShareImprove this answerFollowansweredDec 4, 2008 at 9:06matmat13.3k55 gold badges4343 silver badges4545 bronze badges\n\nWrap the contents of the cell with a div and you can do anything you want, but you have to wrap every cell in a column to get a uniform effect. For example, to just get wider left & right margins:So the CSS will be,div.cellwidener {\r\n  margin: 0px 15px 0px 15px;\r\n}\r\ntd.tight {\r\n  padding: 0px;\r\n}<table border=""0"">\r\n  <tr>\r\n    <td class=""tight"">\r\n      <div class=""cellwidener"">My content</div>\r\n    </td>\r\n  </tr>\r\n</table>Yes, it\'s a hassle. Yes, it works with Internet\xa0Explorer. In fact, I\'ve only tested this with Internet\xa0Explorer, because that\'s all we\'re allowed to use at work.ShareImprove this answerFolloweditedApr 7, 2019 at 9:58Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJun 19, 2012 at 14:57Robert WhiteRobert White71166 silver badges1212 bronze badges\n\nThis style is forfull reset for tables-cellpadding,cellspacingandborders.I had this style in my reset.css file:table{\n    border:0;          /* Replace border */\n    border-spacing: 0px; /* Replace cellspacing */\n    border-collapse: collapse; /* Patch for Internet Explorer 6 and Internet Explorer 7 */\n}\ntable td{\n    padding: 0px; /* Replace cellpadding */\n}ShareImprove this answerFolloweditedApr 7, 2019 at 10:01Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredApr 28, 2014 at 15:08Elad ShechterElad Shechter4,01511 gold badge2323 silver badges2222 bronze badges\n\nTBH. For all the fannying around with CSS you might as well just usecellpadding=""0""cellspacing=""0""since they are not deprecated...Anyone else suggesting margins on<td>\'s obviously has not tried this.ShareImprove this answerFolloweditedOct 15, 2013 at 23:54Josh Crozier239k5656 gold badges399399 silver badges311311 bronze badgesansweredFeb 26, 2010 at 11:25correctorcorrector32522 silver badges22 bronze badges\n\nSimply use CSS padding rules with table data:td { \n    padding: 20px;\n}And for border spacing:table { \n    border-spacing: 1px;\n    border-collapse: collapse;\n}However, it can create problems in older version of browsers like Internet\xa0Explorer because of the diff implementation of the box model.ShareImprove this answerFolloweditedJul 2, 2014 at 20:32Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMar 15, 2014 at 22:33Suraj RawatSuraj Rawat3,7352424 silver badges3333 bronze badges\n\nFrom what I understand from the W3C classifications is that<table>s are meant for displaying data \'only\'.Based on that I found it a lot easier to create a<div>with the backgrounds and all that and have a table with data floating over it usingposition: absolute;andbackground: transparent;...It works on Chrome, Internet\xa0Explorer (6 and later) and Mozilla Firefox (2 and later).Margins are used (or meant anyways) to create a spacer between container elements, like<table>,<div>and<form>, not<tr>,<td>,<span>or<input>. Using it for anything other than container elements will keep you busy adjusting your website for future browser updates.ShareImprove this answerFolloweditedApr 7, 2019 at 9:59Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJul 2, 2012 at 13:43RolanDecoyRolanDecoy19511 silver badge33 bronze badges\n\nCSS:selector{\n    padding:0 0 10px 0; // Top left bottom right \n}ShareImprove this answerFolloweditedJul 2, 2014 at 20:31Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredFeb 27, 2014 at 9:03Suraj RawatSuraj Rawat3,7352424 silver badges3333 bronze badges\n\nYou can easily set padding inside the table cells using the CSS padding property. It is a valid way to produce the same effect as the table\'s cellpadding attribute.table,\r\nth,\r\ntd {\r\n  border: 1px solid #666;\r\n}\r\n\r\ntable th,\r\ntable td {\r\n  padding: 10px;\r\n  /* Apply cell padding */\r\n}<!DOCTYPE html>\r\n<html lang=""en"">\r\n<head>\r\n\r\n  <meta charset=""utf-8"">\r\n  <title>Set Cellpadding in CSS</title>\r\n\r\n</head>\r\n\r\n<body>\r\n\r\n  <table>\r\n    <thead>\r\n      <tr>\r\n        <th>Row</th>\r\n        <th>First Name</th>\r\n        <th>Last Name</th>\r\n        <th>Email</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr>\r\n        <td>1</td>\r\n        <td>Clark</td>\r\n        <td>Kent</td>\r\n        <td>[email\xa0protected]</td>\r\n      </tr>\r\n      <tr>\r\n        <td>2</td>\r\n        <td>Peter</td>\r\n        <td>Parker</td>\r\n        <td>[email\xa0protected]</td>\r\n      </tr>\r\n      <tr>\r\n        <td>3</td>\r\n        <td>John</td>\r\n        <td>Rambo</td>\r\n        <td>[email\xa0protected]</td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n\r\n</body>\r\n</html>Similarly, you can use the CSS border-spacing property to apply the spacing between adjacent table cell borders like the cellspacing attribute. However, in order to work border-spacing the value of border-collapse property muse be separate, which is default.table {\r\n  border-collapse: separate;\r\n  border-spacing: 10px;\r\n  /* Apply cell spacing */\r\n}\r\n\r\ntable,\r\nth,\r\ntd {\r\n  border: 1px solid #666;\r\n}\r\n\r\ntable th,\r\ntable td {\r\n  padding: 5px;\r\n  /* Apply cell padding */\r\n}<!DOCTYPE html>\r\n<html lang=""en"">\r\n<head>\r\n\r\n  <meta charset=""utf-8"">\r\n  <title>Set Cellspacing in CSS</title>\r\n\r\n</head>\r\n\r\n<body>\r\n\r\n  <table>\r\n    <thead>\r\n      <tr>\r\n        <th>Row</th>\r\n        <th>First Name</th>\r\n        <th>Last Name</th>\r\n        <th>Email</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr>\r\n        <td>1</td>\r\n        <td>Clark</td>\r\n        <td>Kent</td>\r\n        <td>[email\xa0protected]</td>\r\n      </tr>\r\n      <tr>\r\n        <td>2</td>\r\n        <td>Peter</td>\r\n        <td>Parker</td>\r\n        <td>[email\xa0protected]</td>\r\n      </tr>\r\n      <tr>\r\n        <td>3</td>\r\n        <td>John</td>\r\n        <td>Rambo</td>\r\n        <td>[email\xa0protected]</td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n\r\n</body>\r\n</html>ShareImprove this answerFolloweditedApr 7, 2019 at 10:09Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredAug 2, 2017 at 9:52Rafiqul IslamRafiqul Islam9411111 silver badges1414 bronze badges\n\nTry this:table {\n    border-collapse: separate;\n    border-spacing: 10px;\n}\ntable td, table th {\n    padding: 10px;\n}Or try this:table {\n    border-collapse: collapse;\n}\ntable td, table th {\n    padding: 10px;\n}ShareImprove this answerFolloweditedOct 29, 2013 at 17:17James Donnelly128k3535 gold badges212212 silver badges222222 bronze badgesansweredJun 14, 2013 at 5:51Falguni PanchalFalguni Panchal8,93133 gold badges2828 silver badges3333 bronze badges\n\nI used!importantafter the border-collapse likeborder-collapse: collapse !important;and it works for me in IE7. It seems to override the cellspacing attribute.ShareImprove this answerFolloweditedOct 29, 2013 at 17:17James Donnelly128k3535 gold badges212212 silver badges222222 bronze badgesansweredFeb 14, 2013 at 15:41Håkan NilssonHåkan Nilsson15511 silver badge44 bronze badges\n\nSay that we want to assign a 10px ""cellpadding"" and a 15px ""cellspacing"" to our table, in a HTML5-compliant way. I will show here two methods giving really similar outputs.Two different sets of CSS properties apply to the same HTML markup for the table, but with opposite concepts:the first one uses the default value forborder-collapse(separate) and usesborder-spacingto provide the cellspacing,the second one switchesborder-collapsetocollapseand uses theborderproperty as the cellspacing.In both cases, the cellpadding is achieved by assigningpadding:10pxto thetds and, in both cases, thebackground-colorassigned to them is only for the sake of a clearer demo.First method:table{border-spacing:15px}\ntd{background-color:#00eb55;padding:10px;border:0}<table>\n<tr>\n<td>Header 1</td><td>Header 2</td>\n</tr>\n<tr>\n<td>1</td><td>2</td>\n</tr>\n<tr>\n<td>3</td><td>4</td>\n</tr>\n</table>Second method:table{border-collapse:collapse}\ntd{background-color:#00eb55;padding:10px;border:15px solid #fff}<table>\n<tr>\n<td>Header 1</td><td>Header 2</td>\n</tr>\n<tr>\n<td>1</td><td>2</td>\n</tr>\n<tr>\n<td>3</td><td>4</td>\n</tr>\n</table>ShareImprove this answerFollowansweredFeb 27, 2021 at 19:06MattAllegroMattAllegro7,09955 gold badges4949 silver badges5656 bronze badges\n\ntd {\n    padding: npx; /* For cellpadding */\n    margin: npx; /* For cellspacing */\n    border-collapse: collapse; /* For showing borders in a better shape. */\n}Ifmargindidn\'t work, try to setdisplayoftrtoblockand then margin will work.ShareImprove this answerFolloweditedApr 7, 2019 at 10:02Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredDec 24, 2014 at 13:33Majid SadrMajid Sadr1,0411010 silver badges1919 bronze badges'}"
5,"{'title': 'var functionName = function() {} vs function functionName() {}', 'question': ""I've recently started maintaining someone else's JavaScript code. I'm fixing bugs, adding features and also trying to tidy up the code and make it more consistent.The previous developer used two ways of declaring functions and I can't work out if there is a reason behind it or not.The two ways are:var functionOne = function() {\n    // Some code\n};And,function functionTwo() {\n    // Some code\n}What are the reasons for using these two different methods and what are the pros and cons of each? Is there anything that can be done with one method that can't be done with the other?javascriptfunctionmethodssyntaxShareImprove this questionFolloweditedFeb 14, 2023 at 7:44Richard GarsideaskedDec 3, 2008 at 11:31Richard GarsideRichard Garside88.8k1212 gold badges8484 silver badges9595 bronze badges"", 'answers': 'The difference is thatfunctionOneis afunction expressionand so only defined when that line is reached, whereasfunctionTwois afunction declarationand is defined as soon as its surrounding function or script is executed (due tohoisting).For example, a function expression:// TypeError: functionOne is not a function\nfunctionOne();\n\nvar functionOne = function() {\n  console.log(""Hello!"");\n};And, a function declaration:// Outputs: ""Hello!""\nfunctionTwo();\n\nfunction functionTwo() {\n  console.log(""Hello!"");\n}Historically, function declarations defined within blocks were handled inconsistently between browsers.Strict mode(introduced in ES5) resolved this by scoping function declarations to their enclosing block.\'use strict\';    \n{ // note this block!\n  function functionThree() {\n    console.log(""Hello!"");\n  }\n}\nfunctionThree(); // ReferenceErrorShareImprove this answerFolloweditedApr 23 at 15:08mikemaccana119k107107 gold badges416416 silver badges516516 bronze badgesansweredDec 3, 2008 at 11:37GregGreg320k5454 gold badges374374 silver badges337337 bronze badges\n\nFirst I want to correct Greg:function abc(){}is scoped too — the nameabcis defined in the scope where this definition is encountered. Example:function xyz(){\n  function abc(){};\n  // abc is defined here...\n}\n// ...but not hereSecondly, it is possible to combine both styles:var xyz = function abc(){};xyzis going to be defined as usual,abcis undefined in all browsers but Internet\xa0Explorer — do not rely on it being defined. But it will be defined inside its body:var xyz = function abc(){\n  // xyz is visible here\n  // abc is visible here\n}\n// xyz is visible here\n// abc is undefined hereIf you want to alias functions on all browsers, use this kind of declaration:function abc(){};\nvar xyz = abc;In this case, bothxyzandabcare aliases of the same object:console.log(xyz === abc); // prints ""true""One compelling reason to use the combined style is the ""name"" attribute of function objects (not supported by Internet\xa0Explorer). Basically when you define a function likefunction abc(){};\nconsole.log(abc.name); // prints ""abc""its name is automatically assigned. But when you define it likevar abc = function(){};\nconsole.log(abc.name); // prints """"its name is empty — we created an anonymous function and assigned it to some variable.Another good reason to use the combined style is to use a short internal name to refer to itself, while providing a long non-conflicting name for external users:// Assume really.long.external.scoped is {}\nreally.long.external.scoped.name = function shortcut(n){\n  // Let it call itself recursively:\n  shortcut(n - 1);\n  // ...\n  // Let it pass itself as a callback:\n  someFunction(shortcut);\n  // ...\n}In the example above we can do the same with an external name, but it\'ll be too unwieldy (and slower).(Another way to refer to itself is to usearguments.callee, which is still relatively long, and not supported in the strict mode.)Deep down, JavaScript treats both statements differently. This is a function declaration:function abc(){}abchere is defined everywhere in the current scope:// We can call it here\nabc(); // Works\n\n// Yet, it is defined down there.\nfunction abc(){}\n\n// We can call it again\nabc(); // WorksAlso, it hoisted through areturnstatement:// We can call it here\nabc(); // Works\nreturn;\nfunction abc(){}This is a function expression:var xyz = function(){};xyzhere is defined from the point of assignment:// We can\'t call it here\nxyz(); // UNDEFINED!!!\n\n// Now it is defined\nxyz = function(){}\n\n// We can call it here\nxyz(); // worksFunction declaration vs. function expression is the real reason why there is a difference demonstrated by Greg.Fun fact:var xyz = function abc(){};\nconsole.log(xyz.name); // Prints ""abc""Personally, I prefer the ""function expression"" declaration because this way I can control the visibility. When I define the function likevar abc = function(){};I know that I defined the function locally. When I define the function likeabc = function(){};I know that I defined it globally providing that I didn\'t defineabcanywhere in the chain of scopes. This style of definition is resilient even when used insideeval(). While the definitionfunction abc(){};depends on the context and may leave you guessing where it is actually defined, especially in the case ofeval()— the answer is: It depends on the browser.ShareImprove this answerFolloweditedOct 10, 2016 at 20:38Merlin4,91722 gold badges3434 silver badges5252 bronze badgesansweredDec 3, 2008 at 17:43Eugene LazutkinEugene Lazutkin43.9k88 gold badges5050 silver badges5656 bronze badges\n\nHere\'s the rundown on the standard forms that create functions:(Originally written for another question, but adapted after being moved into the canonical question.)Terms:ES5:ECMAScript 5th edition, 2009ES2015:ECMAScript 2015(also known as ""ES6"")The quick list:Function Declaration""Anonymous""functionExpression(which despite the term, sometimes create functions with names)NamedfunctionExpressionAccessor Function Initializer (ES5+)Arrow Function Expression (ES2015+)(which, like anonymous function expressions, don\'t involve an explicit name, and yet can create functions with names)Method Declaration in Object Initializer (ES2015+)Constructor and Method Declarations inclass(ES2015+)Function DeclarationThe first form is afunction declaration, which looks like this:function x() {\n    console.log(\'x\');\n}A function declaration is adeclaration; it\'s not a statement or expression. As such, you don\'t follow it with a;(although doing so is harmless).A function declaration is processed when execution enters the context in which it appears,beforeany step-by-step code is executed. The function it creates is given a proper name (xin the example above), and that name is put in the scope in which the declaration appears.Because it\'s processed before any step-by-step code in the same context, you can do things like this:x(); // Works even though it\'s above the declaration\nfunction x() {\n    console.log(\'x\');\n}Until ES2015, the spec didn\'t cover what a JavaScript engine should do if you put a function declaration inside a control structure liketry,if,switch,while, etc., like this:if (someCondition) {\n    function foo() {    // <===== HERE THERE\n    }                   // <===== BE DRAGONS\n}And since they\'re processedbeforestep-by-step code is run, it\'s tricky to know what to do when they\'re in a control structure.Although doing this wasn\'tspecifieduntil ES2015, it was anallowable extensionto support function declarations in blocks. Unfortunately (and inevitably), different engines did different things.As of ES2015, the specification says what to do. In fact, it gives three separate things to do:If in loose modenoton a web browser, the JavaScript engine is supposed to do one thingIf in loose mode on a web browser, the JavaScript engine is supposed to do something elseIf instrictmode (browser or not), the JavaScript engine is supposed to do yet another thingThe rules for the loose modes are tricky, but instrictmode, function declarations in blocks are easy: They\'re local to the block (they haveblock scope, which is also new in ES2015), and they\'re hoisted to the top of the block. So:""use strict"";\nif (someCondition) {\n    foo();               // Works just fine\n    function foo() {\n    }\n}\nconsole.log(typeof foo); // ""undefined"" (`foo` is not in scope here\n                         // because it\'s not in the same block)""Anonymous""functionExpressionThe second common form is called ananonymous function expression:var y = function () {\n    console.log(\'y\');\n};Like all expressions, it\'s evaluated when it\'s reached in the step-by-step execution of the code.In ES5, the function this creates has no name (it\'s anonymous). In ES2015, the function is assigned a name if possible by inferring it from context. In the example above, the name would bey. Something similar is done when the function is the value of a property initializer. (For details on when this happens and the rules, search forSetFunctionNamein thethe specification— it appearsall overthe place.)NamedfunctionExpressionThe third form is anamed function expression(""NFE""):var z = function w() {\n    console.log(\'zw\')\n};The function this creates has a proper name (win this case). Like all expressions, this is evaluated when it\'s reached in the step-by-step execution of the code. The name of the function isnotadded to the scope in which the expression appears; the nameisin scope within the function itself:var z = function w() {\n    console.log(typeof w); // ""function""\n};\nconsole.log(typeof w);     // ""undefined""Note that NFEs have frequently been a source of bugs for JavaScript implementations. IE8 and earlier, for instance, handle NFEscompletely incorrectly, creating two different functions at two different times. Early versions of Safari had issues as well. The good news is that current versions of browsers (IE9 and up, current Safari) don\'t have those issues any more. (But as of this writing, sadly, IE8 remains in widespread use, and so using NFEs with code for the web in general is still problematic.)Accessor Function Initializer (ES5+)Sometimes functions can sneak in largely unnoticed; that\'s the case withaccessor functions. Here\'s an example:var obj = {\n    value: 0,\n    get f() {\n        return this.value;\n    },\n    set f(v) {\n        this.value = v;\n    }\n};\nconsole.log(obj.f);         // 0\nconsole.log(typeof obj.f);  // ""number""Note that when I used the function, I didn\'t use()! That\'s because it\'s anaccessor functionfor a property. We get and set the property in the normal way, but behind the scenes, the function is called.You can also create accessor functions withObject.defineProperty,Object.defineProperties, and the lesser-known second argument toObject.create.Arrow Function Expression (ES2015+)ES2015 brings us thearrow function. Here\'s one example:var a = [1, 2, 3];\nvar b = a.map(n => n * 2);\nconsole.log(b.join("", "")); // 2, 4, 6See thatn => n * 2thing hiding in themap()call? That\'s a function.A couple of things about arrow functions:They don\'t have their ownthis. Instead, theyclose overthethisof the context where they\'re defined. (They also close overargumentsand, where relevant,super.) This means that thethiswithin them is the same as thethiswhere they\'re created, and cannot be changed.As you\'ll have noticed with the above, you don\'t use the keywordfunction; instead, you use=>.Then => n * 2example above is one form of them. If you have multiple arguments to pass the function, you use parens:var a = [1, 2, 3];\nvar b = a.map((n, i) => n * i);\nconsole.log(b.join("", "")); // 0, 2, 6(Remember thatArray#mappasses the entry as the first argument, and the index as the second.)In both cases, the body of the function is just an expression; the function\'s return value will automatically be the result of that expression (you don\'t use an explicitreturn).If you\'re doing more than just a single expression, use{}and an explicitreturn(if you need to return a value), as normal:var a = [\n  {first: ""Joe"", last: ""Bloggs""},\n  {first: ""Albert"", last: ""Bloggs""},\n  {first: ""Mary"", last: ""Albright""}\n];\na = a.sort((a, b) => {\n  var rv = a.last.localeCompare(b.last);\n  if (rv === 0) {\n    rv = a.first.localeCompare(b.first);\n  }\n  return rv;\n});\nconsole.log(JSON.stringify(a));The version without{ ... }is called an arrow function with anexpression bodyorconcise body. (Also: Aconcisearrow function.) The one with{ ... }defining the body is an arrow function with afunction body. (Also: Averbosearrow function.)Method Declaration in Object Initializer (ES2015+)ES2015 allows a shorter form of declaring a property that references a function called amethod definition; it looks like this:var o = {\n    foo() {\n    }\n};the almost-equivalent in ES5 and earlier would be:var o = {\n    foo: function foo() {\n    }\n};the difference (other than verbosity) is that a method can usesuper, but a function cannot. So for instance, if you had an object that defined (say)valueOfusing method syntax, it could usesuper.valueOf()to get the valueObject.prototype.valueOfwould have returned (before presumably doing something else with it), whereas the ES5 version would have to doObject.prototype.valueOf.call(this)instead.That also means that the method has a reference to the object it was defined on, so if that object is temporary (for instance, you\'re passing it intoObject.assignas one of the source objects), method syntaxcouldmean that the object is retained in memory when otherwise it could have been garbage collected (if the JavaScript engine doesn\'t detect that situation and handle it if none of the methods usessuper).Constructor and Method Declarations inclass(ES2015+)ES2015 brings usclasssyntax, including declared constructors and methods:class Person {\n    constructor(firstName, lastName) {\n        this.firstName = firstName;\n        this.lastName = lastName;\n    }\n\n    getFullName() {\n        return this.firstName + "" "" + this.lastName;\n    }\n}There are two function declarations above: One for the constructor, which gets the namePerson, and one forgetFullName, which is a function assigned toPerson.prototype.ShareImprove this answerFolloweditedJan 11, 2019 at 13:58answeredMar 4, 2014 at 13:35T.J. CrowderT.J. Crowder1.1m196196 gold badges2k2k silver badges1.9k1.9k bronze badges\n\nSpeaking about the global context, both, thevarstatement and aFunctionDeclarationat the end will create anon-deleteableproperty on the global object, but the value of bothcan be overwritten.The subtle difference between the two ways is that when theVariable Instantiationprocess runs (before the actual code execution) all identifiers declared withvarwill be initialized withundefined, and the ones used by theFunctionDeclaration\'s will be available since that moment, for example:alert(typeof foo); // \'function\', it\'s already available\n alert(typeof bar); // \'undefined\'\n function foo () {}\n var bar = function () {};\n alert(typeof bar); // \'function\'The assignment of thebarFunctionExpressiontakes place until runtime.A global property created by aFunctionDeclarationcan be overwritten without any problems just like a variable value, e.g.:function test () {}\n test = null;Another obvious difference between your two examples is that the first function doesn\'t have a name, but the second has it, which can be really useful when debugging (i.e. inspecting a call stack).About your edited first example (foo = function() { alert(\'hello!\'); };), it is an undeclared assignment, I would highly encourage you to always use thevarkeyword.With an assignment, without thevarstatement, if the referenced identifier is not found in the scope chain, it will become adeleteableproperty of the global object.Also, undeclared assignments throw aReferenceErroron ECMAScript 5 underStrict Mode.A must read:Named function expressions demystifiedNote: This answer has been merged fromanother question, in which the major doubt and misconception from the OP was that identifiers declared with aFunctionDeclaration, couldn\'t be overwritten which is not the case.ShareImprove this answerFolloweditedMay 23, 2017 at 12:10CommunityBot111 silver badgeansweredAug 8, 2010 at 19:32Christian C. SalvadóChristian C. Salvadó822k184184 gold badges924924 silver badges840840 bronze badges\n\nThe two code snippets you\'ve posted there will, for almost all purposes, behave the same way.However, the difference in behaviour is that with the first variant (var functionOne = function() {}), that function can only be called after that point in the code.With the second variant (function functionTwo()), the function is available to code that runs above where the function is declared.This is because with the first variant, the function is assigned to the variablefooat run time. In the second, the function is assigned to that identifier,foo, at parse time.More technical informationJavaScript has three ways of defining functions.Your first snippet shows afunction expression. This involves using the""function"" operatorto create a function - the result of that operator can be stored in any variable or object property. The function expression is powerful that way. The function expression is often called an ""anonymous function"", because it does not have to have a name,Your second example is afunction declaration. This uses the""function"" statementto create a function. The function is made available at parse time and can be called anywhere in that scope. You can still store it in a variable or object property later.The third way of defining a function is the""Function()"" constructor, which is not shown in your original post. It\'s not recommended to use this as it works the same way aseval(), which has its problems.ShareImprove this answerFolloweditedDec 28, 2015 at 19:47Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredApr 20, 2010 at 4:54thomasrutterthomasrutter116k3131 gold badges152152 silver badges168168 bronze badges\n\nA better explanation toGreg\'s answerfunctionTwo();\nfunction functionTwo() {\n}Why no error? We were always taught that expressions are executed from top to bottom(??)Because:Function declarations and variable declarations are always moved (hoisted) invisibly to the top of their containing scope by the JavaScript interpreter. Function parameters and language-defined names are, obviously, already there.ben cherryThis means that code like this:functionOne();                  ---------------      var functionOne;\n                                | is actually |      functionOne();\nvar functionOne = function(){   | interpreted |-->\n};                              |    like     |      functionOne = function(){\n                                ---------------      };Notice that the assignment portion of the declarations were not hoisted. Only the name is hoisted.But in the case with function declarations, the entire function body will be hoisted as well:functionTwo();              ---------------      function functionTwo() {\n                            | is actually |      };\nfunction functionTwo() {    | interpreted |-->\n}                           |    like     |      functionTwo();\n                            ---------------ShareImprove this answerFolloweditedJun 20, 2020 at 9:12CommunityBot111 silver badgeansweredAug 9, 2014 at 2:45suhailvssuhailvs21.3k1414 gold badges102102 silver badges100100 bronze badges\n\nOther commenters have already covered the semantic difference of the two variants above. I wanted to note a stylistic difference: Only the ""assignment"" variation can set a property of another object.I often build JavaScript modules with a pattern like this:(function(){\n    var exports = {};\n\n    function privateUtil() {\n            ...\n    }\n\n    exports.publicUtil = function() {\n            ...\n    };\n\n    return exports;\n})();With this pattern, your public functions will all use assignment, while your private functions use declaration.(Note also that assignment should require a semicolon after the statement, while declaration prohibits it.)ShareImprove this answerFolloweditedOct 19, 2014 at 22:24ROMANIA_engineer55.9k3030 gold badges206206 silver badges202202 bronze badgesansweredMar 3, 2011 at 19:19Sean McMillanSean McMillan10.1k66 gold badges5656 silver badges6565 bronze badges\n\nAn illustration of when to prefer the first method to the second one is when you need to avoid overriding a function\'s previous definitions.Withif (condition){\n    function myfunction(){\n        // Some code\n    }\n}, this definition ofmyfunctionwill override any previous definition, since it will be done at parse-time.Whileif (condition){\n    var myfunction = function (){\n        // Some code\n    }\n}does the correct job of definingmyfunctiononly whenconditionis met.ShareImprove this answerFolloweditedJun 29, 2017 at 14:08Alireza103k2727 gold badges275275 silver badges173173 bronze badgesansweredMar 29, 2013 at 13:26Mbengue AssaneMbengue Assane2,86511 gold badge1818 silver badges1414 bronze badges\n\nAn important reason is to add one and only one variable as the ""Root"" of your namespace...var MyNamespace = {}\nMyNamespace.foo= function() {\n\n}orvar MyNamespace = {\n  foo: function() {\n  },\n  ...\n}There are many techniques for namespacing. It\'s become more important with the plethora of JavaScript modules available.Also seeHow do I declare a namespace in JavaScript?ShareImprove this answerFolloweditedMay 23, 2017 at 11:55CommunityBot111 silver badgeansweredAug 8, 2010 at 19:44RobRob5,60311 gold badge2525 silver badges2626 bronze badges\n\nHoistingis the JavaScript interpreter’s action of moving all variable and function declarations to the top of the current scope.However, only the actual declarations are hoisted. by leaving assignments where they are.variable\'s/Function\'s declared inside the page are global can access anywhere in that page.variable\'s/Functions declared inside the function are having local scope. means they are available/accessed inside the function body (scope), they are not available outside the function body.VariableJavascript is called loosely typed language. Which means Javascript variables can hold value of anyData-Type. Javascript automatically takes care of changing the variable-type based on the value/literal provided during runtime.global_Page = 10;                                               var global_Page;      « undefined\n    « Integer literal, Number Type.   -------------------       global_Page = 10;     « Number         \nglobal_Page = \'Yash\';                 |   Interpreted   |       global_Page = \'Yash\'; « String\n    « String literal, String Type.    «       AS        «       global_Page = true;   « Boolean \nvar global_Page = true;               |                 |       global_Page = function (){          « function\n    « Boolean Type                    -------------------                 var local_functionblock;  « undefined\nglobal_Page = function (){                                                local_functionblock = 777;« Number\n    var local_functionblock = 777;                              };  \n    // Assigning function as a data.\n};Functionfunction Identifier_opt ( FormalParameterList_opt ) { \n      FunctionBody | sequence of statements\n\n      « return;  Default undefined\n      « return \'some data\';\n}functions declared inside the page are hoisted to top of the page having global access.functions declared inside the function-block are hoisted to top of the block.Default return value of function is \'undefined\',Variabledeclaration default value also \'undefined\'Scope with respect to function-block global. \nScope with respect to page undefined | not available.Function Declarationfunction globalAccess() {                                  function globalAccess() {      \n}                                  -------------------     }\nglobalAccess();                    |                 |     function globalAccess() { « Re-Defined / overridden.\nlocalAccess();                     «   Hoisted  As   «         function localAccess() {\nfunction globalAccess() {          |                 |         }\n     localAccess();                -------------------         localAccess(); « function accessed with in globalAccess() only.\n     function localAccess() {                              }\n     }                                                     globalAccess();\n}                                                          localAccess(); « ReferenceError as the function is not definedFunction Expression10;                 « literal\n       (10);                « Expression                (10).toString() -> \'10\'\nvar a;                      \n    a = 10;                 « Expression var              a.toString()  -> \'10\'\n(function invoke() {        « Expression Function\n console.log(\'Self Invoking\');                      (function () {\n});                                                               }) () -> \'Self Invoking\'\n\nvar f; \n    f = function (){        « Expression var Function\n    console.log(\'var Function\');                                   f ()  -> \'var Function\'\n    };Function assigned to variable Example:(function selfExecuting(){\n    console.log(\'IIFE - Immediately-Invoked Function Expression\');\n}());\n\nvar anonymous = function (){\n    console.log(\'anonymous function Expression\');\n};\n\nvar namedExpression = function for_InternalUSE(fact){\n    if(fact === 1){\n        return 1;\n    }\n\n    var localExpression = function(){\n        console.log(\'Local to the parent Function Scope\');\n    };\n    globalExpression = function(){ \n        console.log(\'creates a new global variable, then assigned this function.\');\n    };\n\n    //return; //undefined.\n    return fact * for_InternalUSE( fact - 1);   \n};\n\nnamedExpression();\nglobalExpression();javascript interpreted asvar anonymous;\nvar namedExpression;\nvar globalExpression;\n\nanonymous = function (){\n    console.log(\'anonymous function Expression\');\n};\n\nnamedExpression = function for_InternalUSE(fact){\n    var localExpression;\n\n    if(fact === 1){\n        return 1;\n    }\n    localExpression = function(){\n        console.log(\'Local to the parent Function Scope\');\n    };\n    globalExpression = function(){ \n        console.log(\'creates a new global variable, then assigned this function.\');\n    };\n\n    return fact * for_InternalUSE( fact - 1);    // DEFAULT UNDEFINED.\n};\n\nnamedExpression(10);\nglobalExpression();You can check function declaration, expression test over different browser\'s usingjsperf Test RunnerES5 Constructor Function Classes: Function objects created using Function.prototype.bindJavaScript treats functions as first-class objects, so being an object, you can assign properties to a function.function Shape(id) { // Function Declaration\n    this.id = id;\n};\n    // Adding a prototyped method to a function.\n    Shape.prototype.getID = function () {\n        return this.id;\n    };\n    Shape.prototype.setID = function ( id ) {\n        this.id = id;\n    };\n\nvar expFn = Shape; // Function Expression\n\nvar funObj = new Shape( ); // Function Object\nfunObj.hasOwnProperty(\'prototype\'); // false\nfunObj.setID( 10 );\nconsole.log( funObj.getID() ); // 10ES6 introducedArrow function: An arrow function expression has a shorter syntax, they are best suited for non-method functions, and they cannot be used as constructors.ArrowFunction : ArrowParameters => ConciseBody.const fn = (item) => { return item & 1 ? \'Odd\' : \'Even\'; };\nconsole.log( fn(2) ); // Even\nconsole.log( fn(3) ); // OddShareImprove this answerFolloweditedSep 28, 2017 at 6:35answeredJan 25, 2016 at 14:46YashYash9,47022 gold badges7272 silver badges7777 bronze badges\n\n𝗧𝗵𝗲𝗿𝗲 𝗮𝗿𝗲 𝗳𝗼𝘂𝗿 𝗻𝗼𝘁𝗲𝘄𝗼𝗿𝘁𝗵𝘆 𝗰𝗼𝗺𝗽𝗮𝗿𝗶𝘀𝗼𝗻𝘀 𝗯𝗲𝘁𝘄𝗲𝗲𝗻 𝘁𝗵𝗲 𝘁𝘄𝗼 𝗱𝗶𝗳𝗳𝗲𝗿𝗲𝗻𝘁 𝗱𝗲𝗰𝗹𝗮𝗿𝗮𝘁𝗶𝗼𝗻𝘀 𝗼𝗳 𝗳𝘂𝗻𝗰𝘁𝗶𝗼𝗻𝘀 𝗮𝘀 𝗹𝗶𝘀𝘁𝗲𝗱 𝗯𝗲𝗹𝗼𝘄.Availability (scope) of the functionThe following works becausefunction add()is scoped to the nearest block:try {\n  console.log(""Success: "", add(1, 1));\n} catch(e) {\n  console.log(""ERROR: "" + e);\n}\n\nfunction add(a, b){\n  return a + b;\n}The following does not work because the variable is called before a function value is assigned to the variableadd.try {\n  console.log(""Success: "", add(1, 1));\n} catch(e) {\n  console.log(""ERROR: "" + e);\n}\n\nvar add=function(a, b){\n  return a + b;\n}The above code is identical in functionality to the code below. Note that explicitly assigningadd = undefinedis superfluous because simply doingvar add;is the exact same asvar add=undefined.var add = undefined;\n\ntry {\n  console.log(""Success: "", add(1, 1));\n} catch(e) {\n  console.log(""ERROR: "" + e);\n}\n\nadd = function(a, b){\n  return a + b;\n}The following does not work becausevar add=begins an expression and causes the followingfunction add()to be an expression instead of a block. Named functions are only visible to themselves and their surrounding block. Asfunction add()is an expression here, it has no surrounding block, so it is only visible to itself.try {\n  console.log(""Success: "", add(1, 1));\n} catch(e) {\n  console.log(""ERROR: "" + e);\n}\n\nvar add=function add(a, b){\n  return a + b;\n}(function).nameThe name of a functionfunction thefuncname(){}isthefuncnamewhen it is declared this way.function foobar(a, b){}\n\nconsole.log(foobar.name);var a = function foobar(){};\n\nconsole.log(a.name);Otherwise, if a function is declared asfunction(){}, thefunction.name is the first variable used to store the function.var a = function(){};\nvar b = (function(){ return function(){} });\n\nconsole.log(a.name);\nconsole.log(b.name);If there are no variables set to the function, then the functions name is the empty string ("""").console.log((function(){}).name === """");Lastly, while the variable the function is assigned to initially sets the name, successive variables set to the function do not change the name.var a = function(){};\nvar b = a;\nvar c = b;\n\nconsole.log(a.name);\nconsole.log(b.name);\nconsole.log(c.name);PerformanceIn Google\'s V8 and Firefox\'s Spidermonkey there might be a few microsecond JIT compilation difference, but ultimately the result is the exact same. To prove this, let\'s examine the efficiency of JSPerf at micro-benchmarks by comparing the speed of two blank code snippets. TheJSPerf tests are found here. And, thejsben.ch tests are  found here. As you can see, there is a noticeable difference when there should be none. If you are really a performance freak like me, then it might be more worth your while trying to reduce the number of variables and functions in the scope and especially eliminating polymorphism (such as using the same variable to store two different types).Variable MutabilityWhen you use thevarkeyword to declare a variable, you can then reassign a different value to the variable like so.(function(){\n    ""use strict"";\n    var foobar = function(){}; // initial value\n    try {\n        foobar = ""Hello World!""; // new value\n        console.log(""[no error]"");\n    } catch(error) {\n        console.log(""ERROR: "" + error.message);\n    }\n    console.log(foobar, window.foobar);\n})();However, when we use the const-statement, the variable reference becomes immutable. This means that we cannot assign a new value to the variable. Please note, however, that this does not make the contents of the variable immutable: if you doconst arr = [], then you can still doarr[10] = ""example"". Only doing something likearr = ""new value""orarr = []would throw an error as seen below.(function(){\n    ""use strict"";\n    const foobar = function(){}; // initial value\n    try {\n        foobar = ""Hello World!""; // new value\n        console.log(""[no error]"");\n    } catch(error) {\n        console.log(""ERROR: "" + error.message);\n    }\n    console.log(foobar, window.foobar);\n})();Interestingly, if we declare the variable asfunction funcName(){}, then the immutability of the variable is the same as declaring it withvar.(function(){\n    ""use strict"";\n    function foobar(){}; // initial value\n    try {\n        foobar = ""Hello World!""; // new value\n        console.log(""[no error]"");\n    } catch(error) {\n        console.log(""ERROR: "" + error.message);\n    }\n    console.log(foobar, window.foobar);\n})();𝗪𝗵𝗮𝘁 𝗜𝘀 𝗧𝗵𝗲 ""𝗡𝗲𝗮𝗿𝗲𝘀𝘁 𝗕𝗹𝗼𝗰𝗸""The ""nearest block"" is the nearest ""function,"" (including asynchronous functions, generator functions, and asynchronous generator functions). However, interestingly, afunction functionName() {}behaves like avar functionName = function() {}when in a non-closure block to items outside said closure. Observe.Normalvar add=function(){}try {\n  // typeof will simply return ""undefined"" if the variable does not exist\n  if (typeof add !== ""undefined"") {\n    add(1, 1); // just to prove it\n    console.log(""Not a block"");\n  }else if(add===undefined){ // this throws an exception if add doesn\'t exist\n    console.log(\'Behaves like var add=function(a,b){return a+b}\');\n  }\n} catch(e) {\n  console.log(""Is a block"");\n}\nvar add=function(a, b){return a + b}Normalfunction add(){}try {\n  // typeof will simply return ""undefined"" if the variable does not exist\n  if (typeof add !== ""undefined"") {\n    add(1, 1); // just to prove it\n    console.log(""Not a block"");\n  }else if(add===undefined){ // this throws an exception if add doesn\'t exist\n    console.log(\'Behaves like var add=function(a,b){return a+b}\')\n  }\n} catch(e) {\n  console.log(""Is a block"");\n}\nfunction add(a, b){\n  return a + b;\n}Functiontry {\n  // typeof will simply return ""undefined"" if the variable does not exist\n  if (typeof add !== ""undefined"") {\n    add(1, 1); // just to prove it\n    console.log(""Not a block"");\n  }else if(add===undefined){ // this throws an exception if add doesn\'t exist\n    console.log(\'Behaves like var add=function(a,b){return a+b}\')\n  }\n} catch(e) {\n  console.log(""Is a block"");\n}\n(function () {\n    function add(a, b){\n      return a + b;\n    }\n})();Statement (such asif,else,for,while,try/catch/finally,switch,do/while,with)try {\n  // typeof will simply return ""undefined"" if the variable does not exist\n  if (typeof add !== ""undefined"") {\n    add(1, 1); // just to prove it\n    console.log(""Not a block"");\n  }else if(add===undefined){ // this throws an exception if add doesn\'t exist\n    console.log(\'Behaves like var add=function(a,b){return a+b}\')\n  }\n} catch(e) {\n  console.log(""Is a block"");\n}\n{\n    function add(a, b){\n      return a + b;\n    }\n}Arrow Function withvar add=function()try {\n  // typeof will simply return ""undefined"" if the variable does not exist\n  if (typeof add !== ""undefined"") {\n    add(1, 1); // just to prove it\n    console.log(""Not a block"");\n  }else if(add===undefined){ // this throws an exception if add doesn\'t exist\n    console.log(\'Behaves like var add=function(a,b){return a+b}\')\n  }\n} catch(e) {\n  console.log(""Is a block"");\n}\n(() => {\n    var add=function(a, b){\n      return a + b;\n    }\n})();Arrow Function Withfunction add()try {\n  // typeof will simply return ""undefined"" if the variable does not exist\n  if (typeof add !== ""undefined"") {\n    add(1, 1); // just to prove it\n    console.log(""Not a block"");\n  }else if(add===undefined){ // this throws an exception if add doesn\'t exist\n    console.log(\'Behaves like var add=function(a,b){return a+b}\')\n  }\n} catch(e) {\n  console.log(""Is a block"");\n}\n(() => {\n    function add(a, b){\n      return a + b;\n    }\n})();ShareImprove this answerFolloweditedNov 26, 2021 at 16:54answeredJan 15, 2018 at 1:55Jack GJack G4,86822 gold badges4343 silver badges5252 bronze badges\n\nI\'m adding my own answer just because everyone else has covered the hoisting part thoroughly.I\'ve wondered about which way is better for a long while now, and thanks tohttp://jsperf.comnow I know :)Function declarationsare faster, and that\'s what really matters in web dev right? ;)ShareImprove this answerFollowansweredMay 1, 2015 at 15:06Leon GabanLeon Gaban38.8k119119 gold badges344344 silver badges544544 bronze badges\n\nA function declaration and a function expression assigned to a variable behave the same once the binding is established.There is a difference however athowandwhenthe function object is actually associated with its variable. This difference is due to the mechanism calledvariable hoistingin JavaScript.Basically, all function declarations and variable declarations are hoisted to the top of thefunctionin which the declaration occurs (this is why we say that JavaScript hasfunction scope).When a function declaration is hoisted, the function body ""follows""\nso when the function body is evaluated, the variable will immediately\nbe bound to a function object.When a variable declaration is hoisted, the initialization doesnotfollow, but is ""left behind"". The variable is initialized toundefinedat the start of the function body, and will beassigneda value at its original location in the code. (Actually, it will be assigned a value ateverylocation where a declaration of a variable with the same name occurs.)The order of hoisting is also important: function declarations take precedence over variable declarations with the same name, and the last function declaration takes precedence over previous function declarations with the same name.Some examples...var foo = 1;\nfunction bar() {\n  if (!foo) {\n    var foo = 10 }\n  return foo; }\nbar() // 10Variablefoois hoisted to the top of the function, initialized toundefined, so that!fooistrue, sofoois assigned10. Thefoooutside ofbar\'s scope plays no role and is untouched.function f() {\n  return a; \n  function a() {return 1}; \n  var a = 4;\n  function a() {return 2}}\nf()() // 2\n\nfunction f() {\n  return a;\n  var a = 4;\n  function a() {return 1};\n  function a() {return 2}}\nf()() // 2Function declarations take precedence over variable declarations, and the last function declaration ""sticks"".function f() {\n  var a = 4;\n  function a() {return 1}; \n  function a() {return 2}; \n  return a; }\nf() // 4In this exampleais initialized with the function object resulting from evaluating the second function declaration, and then is assigned4.var a = 1;\nfunction b() {\n  a = 10;\n  return;\n  function a() {}}\nb();\na // 1Here the function declaration is hoisted first, declaring and initializing variablea. Next, this variable is assigned10. In other words: the assignment does not assign to outer variablea.ShareImprove this answerFollowansweredFeb 6, 2013 at 16:29eljensoeljenso16.9k66 gold badges5858 silver badges6363 bronze badges\n\nThe first example is a function declaration:function abc(){}The second example is a function expression:var abc = function() {};The main difference is how they are hoisted (lifted and declared). In the first example, the whole function declaration is hoisted. In the second example only the var \'abc\' is hoisted, its value (the function) will be undefined, and the function itself remains at the position that it is declared.To put it simply://this will work\nabc(param);\nfunction abc(){}\n\n//this would fail\nabc(param);\nvar abc = function() {}To study more about this topic I strongly recommend you thislinkShareImprove this answerFolloweditedMay 9, 2015 at 9:37answeredJun 5, 2014 at 8:28sla55ersla55er81111 gold badge1010 silver badges1717 bronze badges\n\nIn terms of code maintenance cost, named functions are more preferable:Independent from the place where they are declared (but still limited by scope).More resistant to mistakes like conditional initialization (you are still able to override if wanted to).The code becomes more readable by allocating local functions separately of scope functionality. Usually in the scope the functionality goes first, followed by declarations of local functions.In a debugger you will clearly see the function name on the call stack instead of an ""anonymous/evaluated"" function.I suspect more PROS for named functions are follow. And what is listed as an advantage of named functions is a disadvantage for anonymous ones.Historically, anonymous functions appeared from the inability of JavaScript as a language to list members with named functions:{\n    member:function() { /* How do I make ""this.member"" a named function? */\n    }\n}ShareImprove this answerFolloweditedDec 28, 2015 at 19:44Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJan 23, 2010 at 20:32Sasha FirsovSasha Firsov69788 silver badges99 bronze badges\n\nGreg\'s Answeris good enough, but I still would like to add something to it that I learned just now watchingDouglas Crockford\'svideos.Function expression:var foo = function foo() {};Function statement:function foo() {};The function statement is just a shorthand forvarstatement with afunctionvalue.Sofunction foo() {};expands tovar foo = function foo() {};Which expands further to:var foo = undefined;\nfoo = function foo() {};And they are both hoisted to the top of the code.ShareImprove this answerFolloweditedMay 23, 2017 at 12:18CommunityBot111 silver badgeansweredJul 21, 2015 at 7:45RohanRohan13.7k2222 gold badges8383 silver badges158158 bronze badges\n\nIn computer science terms, we talk about anonymous functions and named functions. I think the most important difference is that an anonymous function is not bound to a name, hence the name anonymous function. In JavaScript it is a first class object dynamically declared at runtime.For more information on anonymous functions and lambda calculus, Wikipedia is a good start:Anonymous Functions.ShareImprove this answerFolloweditedApr 22, 2021 at 5:26stuckoverflow68222 gold badges77 silver badges2626 bronze badgesansweredDec 18, 2008 at 19:30KafkaKafka48033 silver badges44 bronze badges\n\nI use the variable approach in my code for a very specific reason, the theory of which has been covered in an abstract way above, but an example might help some people like me, with limited JavaScript expertise.I have code that I need to run with 160 independently-designed brandings. Most of the code is in shared files, but branding-specific stuff is in a separate file, one for each branding.Some brandings require specific functions, and some do not. Sometimes I have to add new functions to do new branding-specific things. I am happy to change the shared coded, but I don\'t want to have to change all 160 sets of branding files.By using the variable syntax, I can declare the variable (a function pointer essentially) in the shared code and either assign a trivial stub function, or set to null.The one or two brandings that need a specific implementation of the function can then define their version of the function and assign this to the variable if they want, and the rest do nothing. I can test for a null function before I execute it in the shared code.From people\'s comments above, I gather it may be possible to redefine a static function too, but I think the variable solution is nice and clear.ShareImprove this answerFolloweditedDec 28, 2015 at 20:26Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredNov 29, 2012 at 11:28HercHerc52744 silver badges99 bronze badges\n\n@EugeneLazutkingives an example where henames an assigned function to be able to useshortcut()as an internal reference to itself.John Resiggives another example -copying a recursive function assigned to another objectin hisLearning Advanced Javascripttutorial. While assigning functions to properties isn\'t strictly the question here, I recommend actively trying the tutorial out - run the code by clicking the button in the upper right corner, and double click the code to edit to your liking.Examples from the tutorial: recursive calls inyell():Tests fail when the original ninja object is removed.(page 13)function assert(predicate, message) { if(!predicate) { throw new Error(message); } }\n\nvar ninja = {\n  yell: function(n){\nreturn n > 0 ? ninja.yell(n-1) + ""a"" : ""hiy"";\n  }\n};\nassert( ninja.yell(4) == ""hiyaaaa"", ""A single object isn\'t too bad, either."" ); \n\nvar samurai = { yell: ninja.yell };\nvar ninja = null;\n\ntry {\n  samurai.yell(4);\n} catch(e){\n  assert( false, ""Uh, this isn\'t good! Where\'d ninja.yell go?"" );\n}If you name the function that will be called recursively, the tests will pass.(page 14)function assert(predicate, message) { if(!predicate) { throw new Error(message); } }\n\nvar ninja = {\n  yell: function yell(n){\nreturn n > 0 ? yell(n-1) + ""a"" : ""hiy"";\n  }\n};\nassert( ninja.yell(4) == ""hiyaaaa"", ""Works as we would expect it to!"" );\n \nvar samurai = { yell: ninja.yell };\nvar ninja = {};\nassert( samurai.yell(4) == ""hiyaaaa"", ""The method correctly calls itself."" );\n\nconsole.log(samurai.yell(4));ShareImprove this answerFolloweditedJun 19, 2022 at 16:14answeredAug 4, 2012 at 15:24Joel PurraJoel Purra24.9k88 gold badges6161 silver badges6161 bronze badges\n\nAnother difference that is not mentioned in the other answers is that if you use the anonymous function and use that as a constructor as invar functionOne = function() {\n    // Some code\n};\n\nvar one = new functionOne();\n\nconsole.log(one.constructor.name);thenone.constructor.namewill not be defined.Function.nameis non-standard but is supported by Firefox, Chrome, other Webkit-derived browsers and IE 9+.Withfunction functionTwo() {\n    // Some code\n}\ntwo = new functionTwo();it is possible to retrieve the name of the constructor as a string withtwo.constructor.name.ShareImprove this answerFolloweditedSep 4, 2023 at 13:33user384017027.5k44 gold badges3535 silver badges7070 bronze badgesansweredOct 15, 2012 at 10:42Ingo KegelIngo Kegel47.4k1010 gold badges7272 silver badges103103 bronze badges\n\nThe first one (function doSomething(x)) should be part of an object notation.The second one (var doSomething = function(x){ alert(x);}) is simply creating an anonymous function and assigning it to a variable,doSomething. So doSomething() will call the function.You may want to know what afunction declarationandfunction expressionis.A function declaration defines a named function variable without requiring variable assignment. Function declarations occur as standalone constructs and cannot be nested within non-function blocks.function foo() {\n    return 3;\n}ECMA 5 (13.0) defines the syntax asfunction Identifier ( FormalParameterListopt) { FunctionBody }In above condition the function name is visible within its scope and the scope of its parent (otherwise it would be unreachable).And in a function expressionA function expression defines a function as a part of a larger expression syntax (typically a variable assignment ). Functions defined via functions expressions can be named or anonymous. Function expressions should not start with “function”.// Anonymous function expression\nvar a = function() {\n    return 3;\n}\n\n// Named function expression\nvar a = function foo() {\n    return 3;\n}\n\n// Self-invoking function expression\n(function foo() {\n    alert(""hello!"");\n})();ECMA 5 (13.0) defines the syntax asfunction Identifieropt( FormalParameterListopt) { FunctionBody }ShareImprove this answerFolloweditedDec 28, 2015 at 20:29Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJan 5, 2013 at 18:37NullPoiиteяNullPoiиteя57.2k2323 gold badges127127 silver badges146146 bronze badges\n\nI\'m listing out the differences below:A function declaration can be placed anywhere in the code. Even if it is invoked before the definition appears in code, it gets executed as function declaration is committed to memory or in a way it is hoisted up, before any other code in the page starts execution.Take a look at the function below:function outerFunction() {\n    function foo() {\n       return 1;\n    }\n    return foo();\n    function foo() {\n       return 2;\n    }\n}\nalert(outerFunction()); // Displays 2This is because, during execution, it looks like:-function foo() {  // The first function declaration is moved to top\n    return 1;\n}\nfunction foo() {  // The second function declaration is moved to top\n    return 2;\n}\nfunction outerFunction() {\n    return foo();\n}\nalert(outerFunction()); //So executing from top to bottom,\n                        //the last foo() returns 2 which gets displayedA function expression, if not defined before calling it, will result in an error. Also, here the function definition itself is not moved to the top or committed to memory like in the function declarations. But the variable to which we assign the function gets hoisted up andundefinedgets assigned to it.Same function using function expressions:function outerFunction() {\n    var foo = function() {\n       return 1;\n    }\n    return foo();\n    var foo = function() {\n       return 2;\n    }\n}\nalert(outerFunction()); // Displays 1This is because during execution, it looks like:function outerFunction() {\n   var foo = undefined;\n   var foo = undefined;\n\n   foo = function() {\n      return 1;\n   };\n   return foo ();\n   foo = function() {   // This function expression is not reachable\n      return 2;\n   };\n}\nalert(outerFunction()); // Displays 1It is not safe to write function declarations in non-function blocks likeifbecause they won\'t be accessible.if (test) {\n    function x() { doSomething(); }\n}Named function expression like the one below, may not work in Internet\xa0Explorer browsers prior to version 9.var today = function today() {return new Date()}ShareImprove this answerFolloweditedDec 28, 2015 at 20:35Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredSep 9, 2015 at 10:30varnavarna92988 silver badges1212 bronze badges\n\nAbout performance:New versions ofV8introduced several under-the-hood optimizations and so didSpiderMonkey.There is almost no difference now between expression and declaration.Function expressionappears to be fasternow.Chrome 62.0.3202FireFox 55Chrome Canary 63.0.3225Anonymousfunction expressionsappear to have better performanceagainstNamedfunction expression.FirefoxChrome CanaryChromeShareImprove this answerFolloweditedSep 28, 2017 at 5:13answeredSep 28, 2017 at 4:34Panos KalatzantonakisPanos Kalatzantonakis12.7k88 gold badges6767 silver badges8686 bronze badges\n\nIf you would use those functions to create objects, you would get:var objectOne = new functionOne();\nconsole.log(objectOne.__proto__); // prints ""Object {}"" because constructor is an anonymous function\n\nvar objectTwo = new functionTwo();\nconsole.log(objectTwo.__proto__); // prints ""functionTwo {}"" because constructor is a named functionShareImprove this answerFollowansweredOct 25, 2013 at 16:38Pawel FurmaniakPawel Furmaniak4,76633 gold badges3131 silver badges3434 bronze badges\n\nNamed Functions Vs. Anonymous FunctionsThe first function syntax isAnonymous Function Expression:var functionOne = function() {\n  // do something...\n};While, the second one isFunction Declaration:function functionTwo () {\n  // do something...\n}The main difference between both is the function name sinceAnonymous Functionshave no name to call.\nAnonymous functions are quick and easy to declare, and many libraries and tools tend to encourage this idiomatic style of code. However, anonymous functions have somedrawbacks:Readability:anonymous functions omit a name which could cause less readable code.Debugging:anonymous functions have no name in stack traces, which can make debugging more difficult.Self-Reference:what if the function needs to refer to itself, for recursion for example.Naming Function ExpressionProviding a name for your function expression quite effectively addresses all these drawbacks, and has no tangible downsides. The best practice is to always name your function expressions:setTimeout(function timeHandler() { // <-- look, a name here!\n  console.log(""I\'ve waited 1 second"");\n}, 1000);Naming IIFEs (Immediate Invoked Function Expression)(function IIFE(str) { // <-- look, always name IIFEs!\n  console.log(str); // ""Hello!""\n})(\'Hello!\');For functions assigned to a variable, naming the function, in this case, is not very common and may cause confusion, in this case, the arrow function may be a better choice.ShareImprove this answerFolloweditedJun 8, 2022 at 18:00answeredDec 17, 2018 at 16:58Anas Abu FarrajAnas Abu Farraj1,59044 gold badges2323 silver badges3232 bronze badges\n\nIn JavaScript there are two ways to create functions:Function declaration:function fn(){\n  console.log(""Hello"");\n}\nfn();This is very basic, self-explanatory, used in many languages and standard across C family of languages. We declared a function defined it and executed it by calling it.What you should be knowing is that functions are actually objects in JavaScript; internally we have created an object for above function and given it a name called fn or the reference to the object is stored in fn. Functions are objects in JavaScript; an instance of function is actually an object instance.Function expression:var fn=function(){\n  console.log(""Hello"");\n}\nfn();JavaScript has first-class functions, that is, create a function and assign it to a variable just like you create a string or number and assign it to a variable. Here, the fn variable is assigned to a function. The reason for this concept is functions are objects in JavaScript; fn is pointing to the object instance of the above function. We have initialized a function and assigned it to a variable. It\'s not executing the function and assigning the result.Reference:JavaScript function declaration syntax: var fn = function() {} vs function fn() {}ShareImprove this answerFolloweditedApr 9, 2017 at 7:13Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredAug 14, 2016 at 9:13Anoop RaiAnoop Rai48955 silver badges66 bronze badges\n\nIn light of the ""named functions show up in stack traces"" argument, modern JavaScript engines are actually quite capable of representing anonymous functions.As of this writing, V8, SpiderMonkey, Chakra and Nitro always refer to named functions by their names. They almost always refer to an anonymous function by its identifier if it has one.SpiderMonkey can figure out the name of an anonymous function returned from another function. The rest can\'t.If you really, really wanted your iterator and success callbacks to show up in the trace, you could name those too...[].forEach(function iterator() {});But for the most part it\'s not worth stressing over.Harness (Fiddle)\'use strict\';\n\nvar a = function () {\n    throw new Error();\n},\n    b = function b() {\n        throw new Error();\n    },\n    c = function d() {\n        throw new Error();\n    },\n    e = {\n        f: a,\n        g: b,\n        h: c,\n        i: function () {\n            throw new Error();\n        },\n        j: function j() {\n            throw new Error();\n        },\n        k: function l() {\n            throw new Error();\n        }\n    },\n    m = (function () {\n        return function () {\n            throw new Error();\n        };\n    }()),\n    n = (function () {\n        return function n() {\n            throw new Error();\n        };\n    }()),\n    o = (function () {\n        return function p() {\n            throw new Error();\n        };\n    }());\n\nconsole.log([a, b, c].concat(Object.keys(e).reduce(function (values, key) {\n    return values.concat(e[key]);\n}, [])).concat([m, n, o]).reduce(function (logs, func) {\n\n    try {\n        func();\n    } catch (error) {\n        return logs.concat(\'func.name: \' + func.name + \'\\n\' +\n                           \'Trace:\\n\' +\n                           error.stack);\n        // Need to manually log the error object in Nitro.\n    }\n\n}, []).join(\'\\n\\n\'));V8func.name: \nTrace:\nError\n    at a (http://localhost:8000/test.js:4:11)\n    at http://localhost:8000/test.js:47:9\n    at Array.reduce (native)\n    at http://localhost:8000/test.js:44:27\n\nfunc.name: b\nTrace:\nError\n    at b (http://localhost:8000/test.js:7:15)\n    at http://localhost:8000/test.js:47:9\n    at Array.reduce (native)\n    at http://localhost:8000/test.js:44:27\n\nfunc.name: d\nTrace:\nError\n    at d (http://localhost:8000/test.js:10:15)\n    at http://localhost:8000/test.js:47:9\n    at Array.reduce (native)\n    at http://localhost:8000/test.js:44:27\n\nfunc.name: \nTrace:\nError\n    at a (http://localhost:8000/test.js:4:11)\n    at http://localhost:8000/test.js:47:9\n    at Array.reduce (native)\n    at http://localhost:8000/test.js:44:27\n\nfunc.name: b\nTrace:\nError\n    at b (http://localhost:8000/test.js:7:15)\n    at http://localhost:8000/test.js:47:9\n    at Array.reduce (native)\n    at http://localhost:8000/test.js:44:27\n\nfunc.name: d\nTrace:\nError\n    at d (http://localhost:8000/test.js:10:15)\n    at http://localhost:8000/test.js:47:9\n    at Array.reduce (native)\n    at http://localhost:8000/test.js:44:27\n\nfunc.name: \nTrace:\nError\n    at e.i (http://localhost:8000/test.js:17:19)\n    at http://localhost:8000/test.js:47:9\n    at Array.reduce (native)\n    at http://localhost:8000/test.js:44:27\n\nfunc.name: j\nTrace:\nError\n    at j (http://localhost:8000/test.js:20:19)\n    at http://localhost:8000/test.js:47:9\n    at Array.reduce (native)\n    at http://localhost:8000/test.js:44:27\n\nfunc.name: l\nTrace:\nError\n    at l (http://localhost:8000/test.js:23:19)\n    at http://localhost:8000/test.js:47:9\n    at Array.reduce (native)\n    at http://localhost:8000/test.js:44:27\n\nfunc.name: \nTrace:\nError\n    at http://localhost:8000/test.js:28:19\n    at http://localhost:8000/test.js:47:9\n    at Array.reduce (native)\n    at http://localhost:8000/test.js:44:27\n\nfunc.name: n\nTrace:\nError\n    at n (http://localhost:8000/test.js:33:19)\n    at http://localhost:8000/test.js:47:9\n    at Array.reduce (native)\n    at http://localhost:8000/test.js:44:27\n\nfunc.name: p\nTrace:\nError\n    at p (http://localhost:8000/test.js:38:19)\n    at http://localhost:8000/test.js:47:9\n    at Array.reduce (native)\n    at http://localhost:8000/test.js:44:27 test.js:42SpiderMonkeyfunc.name: \nTrace:\na@http://localhost:8000/test.js:4:5\n@http://localhost:8000/test.js:47:9\n@http://localhost:8000/test.js:54:1\n\n\nfunc.name: b\nTrace:\nb@http://localhost:8000/test.js:7:9\n@http://localhost:8000/test.js:47:9\n@http://localhost:8000/test.js:54:1\n\n\nfunc.name: d\nTrace:\nd@http://localhost:8000/test.js:10:9\n@http://localhost:8000/test.js:47:9\n@http://localhost:8000/test.js:54:1\n\n\nfunc.name: \nTrace:\na@http://localhost:8000/test.js:4:5\n@http://localhost:8000/test.js:47:9\n@http://localhost:8000/test.js:54:1\n\n\nfunc.name: b\nTrace:\nb@http://localhost:8000/test.js:7:9\n@http://localhost:8000/test.js:47:9\n@http://localhost:8000/test.js:54:1\n\n\nfunc.name: d\nTrace:\nd@http://localhost:8000/test.js:10:9\n@http://localhost:8000/test.js:47:9\n@http://localhost:8000/test.js:54:1\n\n\nfunc.name: \nTrace:\ne.i@http://localhost:8000/test.js:17:13\n@http://localhost:8000/test.js:47:9\n@http://localhost:8000/test.js:54:1\n\n\nfunc.name: j\nTrace:\nj@http://localhost:8000/test.js:20:13\n@http://localhost:8000/test.js:47:9\n@http://localhost:8000/test.js:54:1\n\n\nfunc.name: l\nTrace:\nl@http://localhost:8000/test.js:23:13\n@http://localhost:8000/test.js:47:9\n@http://localhost:8000/test.js:54:1\n\n\nfunc.name: \nTrace:\nm</<@http://localhost:8000/test.js:28:13\n@http://localhost:8000/test.js:47:9\n@http://localhost:8000/test.js:54:1\n\n\nfunc.name: n\nTrace:\nn@http://localhost:8000/test.js:33:13\n@http://localhost:8000/test.js:47:9\n@http://localhost:8000/test.js:54:1\n\n\nfunc.name: p\nTrace:\np@http://localhost:8000/test.js:38:13\n@http://localhost:8000/test.js:47:9\n@http://localhost:8000/test.js:54:1Chakrafunc.name: undefined\nTrace:\nError\n   at a (http://localhost:8000/test.js:4:5)\n   at Anonymous function (http://localhost:8000/test.js:47:9)\n   at Global code (http://localhost:8000/test.js:42:1)\n\n\nfunc.name: undefined\nTrace:\nError\n   at b (http://localhost:8000/test.js:7:9)\n   at Anonymous function (http://localhost:8000/test.js:47:9)\n   at Global code (http://localhost:8000/test.js:42:1)\n\n\nfunc.name: undefined\nTrace:\nError\n   at d (http://localhost:8000/test.js:10:9)\n   at Anonymous function (http://localhost:8000/test.js:47:9)\n   at Global code (http://localhost:8000/test.js:42:1)\n\n\nfunc.name: undefined\nTrace:\nError\n   at a (http://localhost:8000/test.js:4:5)\n   at Anonymous function (http://localhost:8000/test.js:47:9)\n   at Global code (http://localhost:8000/test.js:42:1)\n\n\nfunc.name: undefined\nTrace:\nError\n   at b (http://localhost:8000/test.js:7:9)\n   at Anonymous function (http://localhost:8000/test.js:47:9)\n   at Global code (http://localhost:8000/test.js:42:1)\n\n\nfunc.name: undefined\nTrace:\nError\n   at d (http://localhost:8000/test.js:10:9)\n   at Anonymous function (http://localhost:8000/test.js:47:9)\n   at Global code (http://localhost:8000/test.js:42:1)\n\n\nfunc.name: undefined\nTrace:\nError\n   at e.i (http://localhost:8000/test.js:17:13)\n   at Anonymous function (http://localhost:8000/test.js:47:9)\n   at Global code (http://localhost:8000/test.js:42:1)\n\n\nfunc.name: undefined\nTrace:\nError\n   at j (http://localhost:8000/test.js:20:13)\n   at Anonymous function (http://localhost:8000/test.js:47:9)\n   at Global code (http://localhost:8000/test.js:42:1)\n\n\nfunc.name: undefined\nTrace:\nError\n   at l (http://localhost:8000/test.js:23:13)\n   at Anonymous function (http://localhost:8000/test.js:47:9)\n   at Global code (http://localhost:8000/test.js:42:1)\n\n\nfunc.name: undefined\nTrace:\nError\n   at Anonymous function (http://localhost:8000/test.js:28:13)\n   at Anonymous function (http://localhost:8000/test.js:47:9)\n   at Global code (http://localhost:8000/test.js:42:1)\n\n\nfunc.name: undefined\nTrace:\nError\n   at n (http://localhost:8000/test.js:33:13)\n   at Anonymous function (http://localhost:8000/test.js:47:9)\n   at Global code (http://localhost:8000/test.js:42:1)\n\n\nfunc.name: undefined\nTrace:\nError\n   at p (http://localhost:8000/test.js:38:13)\n   at Anonymous function (http://localhost:8000/test.js:47:9)\n   at Global code (http://localhost:8000/test.js:42:1)Nitrofunc.name: \nTrace:\na@http://localhost:8000/test.js:4:22\nhttp://localhost:8000/test.js:47:13\nreduce@[native code]\nglobal code@http://localhost:8000/test.js:44:33\n\nfunc.name: b\nTrace:\nb@http://localhost:8000/test.js:7:26\nhttp://localhost:8000/test.js:47:13\nreduce@[native code]\nglobal code@http://localhost:8000/test.js:44:33\n\nfunc.name: d\nTrace:\nd@http://localhost:8000/test.js:10:26\nhttp://localhost:8000/test.js:47:13\nreduce@[native code]\nglobal code@http://localhost:8000/test.js:44:33\n\nfunc.name: \nTrace:\na@http://localhost:8000/test.js:4:22\nhttp://localhost:8000/test.js:47:13\nreduce@[native code]\nglobal code@http://localhost:8000/test.js:44:33\n\nfunc.name: b\nTrace:\nb@http://localhost:8000/test.js:7:26\nhttp://localhost:8000/test.js:47:13\nreduce@[native code]\nglobal code@http://localhost:8000/test.js:44:33\n\nfunc.name: d\nTrace:\nd@http://localhost:8000/test.js:10:26\nhttp://localhost:8000/test.js:47:13\nreduce@[native code]\nglobal code@http://localhost:8000/test.js:44:33\n\nfunc.name: \nTrace:\ni@http://localhost:8000/test.js:17:30\nhttp://localhost:8000/test.js:47:13\nreduce@[native code]\nglobal code@http://localhost:8000/test.js:44:33\n\nfunc.name: j\nTrace:\nj@http://localhost:8000/test.js:20:30\nhttp://localhost:8000/test.js:47:13\nreduce@[native code]\nglobal code@http://localhost:8000/test.js:44:33\n\nfunc.name: l\nTrace:\nl@http://localhost:8000/test.js:23:30\nhttp://localhost:8000/test.js:47:13\nreduce@[native code]\nglobal code@http://localhost:8000/test.js:44:33\n\nfunc.name: \nTrace:\nhttp://localhost:8000/test.js:28:30\nhttp://localhost:8000/test.js:47:13\nreduce@[native code]\nglobal code@http://localhost:8000/test.js:44:33\n\nfunc.name: n\nTrace:\nn@http://localhost:8000/test.js:33:30\nhttp://localhost:8000/test.js:47:13\nreduce@[native code]\nglobal code@http://localhost:8000/test.js:44:33\n\nfunc.name: p\nTrace:\np@http://localhost:8000/test.js:38:30\nhttp://localhost:8000/test.js:47:13\nreduce@[native code]\nglobal code@http://localhost:8000/test.js:44:33ShareImprove this answerFolloweditedJan 13, 2015 at 3:24answeredOct 12, 2014 at 0:58Jackson Ray HamiltonJackson Ray Hamilton9,37666 gold badges5353 silver badges7979 bronze badges\n\nBoth are different ways of defining a function. The difference is how the browser interprets and loads them into an execution context.The first case is of function expressions which loads only when the interpreter reaches that line of code. So if you do it like the following, you will get an error that thefunctionOne is not a function.functionOne();\nvar functionOne = function() {\n    // Some code\n};The reason is that on the first line no value is assigned to functionOne, and hence it is undefined. We are trying to call it as a function, and hence we are getting an error.On the second line we are assigning the reference of an anonymous function to functionOne.The second case is of function declarations that loads before any code is executed. So if you do like the following you won\'t get any error as the declaration loads before code execution.functionOne();\nfunction functionOne() {\n   // Some code\n}ShareImprove this answerFolloweditedDec 28, 2015 at 20:42Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredDec 28, 2015 at 20:18Nitin9791Nitin97911,14411 gold badge1414 silver badges1818 bronze badges\n\nThey are pretty similar with some small differences, first one is a variable which assigned to an anonymous function (Function Declaration) and second one is the normal way to create a function in JavaScript(Anonymous function Declaration), both has usage, cons and pros:1. Function Expressionvar functionOne = function() {\n    // Some code\n};A Function Expression defines a function as a part of a larger\n  expression syntax (typically a variable assignment ). Functions\n  defined via Functions Expressions can be named or anonymous. Function\n  Expressions must not start with “function” (hence the parentheses\n  around the self invoking example below).Assign a variable to a function, means no Hoisting, as we know functions in JavaScript can Hoist, means they can be called before they get declared, while variables need to be declared before getting access to them, so means in this case we can not access the function before where it\'s declared, also it could be a way that you write your functions, for the functions which return another function, this kind of declaration could make sense, also in ECMA6 & above you can assign this to an arrow function which can be used to call anonymous functions, also this way of declaring is a better way to create Constructor functions in JavaScript.2. Function Declarationfunction functionTwo() {\n    // Some code\n}A Function Declaration defines a named function variable without\n  requiring variable assignment. Function Declarations occur as\n  standalone constructs and cannot be nested within non-function blocks.\n  It’s helpful to think of them as siblings of Variable Declarations.\n  Just as Variable Declarations must start with “var”, Function\n  Declarations must begin with “function”.This is the normal way of calling a function in JavaScript, this function can be called before you even declare it as in JavaScript all functions get Hoisted, but if you have \'use strict\' this won\'t Hoist as expected, it\'s a good way to call all normal functions which are not big in lines and neither are a  constructor function.Also, if you need more info about how hoisting works in JavaScript, visit the link below:https://developer.mozilla.org/en-US/docs/Glossary/HoistingShareImprove this answerFolloweditedJul 30, 2017 at 4:30answeredMay 9, 2017 at 13:56AlirezaAlireza103k2727 gold badges275275 silver badges173173 bronze badges\n\nThis is just two possible ways of declaring functions, and in the second way, you can use the function before declaration.ShareImprove this answerFolloweditedDec 28, 2015 at 20:32Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJun 24, 2015 at 10:08TaoTao58166 silver badges66 bronze badges'}","{'title': 'What are metaclasses in Python?', 'question': 'What aremetaclasses? What are they used for?pythonoopmetaclasspython-classpython-datamodelShareImprove this questionFolloweditedFeb 8, 2023 at 4:49Mateen Ulhaq26.6k2020 gold badges115115 silver badges147147 bronze badgesaskedSep 19, 2008 at 6:10Bite codeBite code591k116116 gold badges308308 silver badges334334 bronze badges', 'answers': 'Classes as objectsPrior to delving into metaclasses, a solid grasp of Python classes is beneficial. Python holds a particularly distinctive concept of classes, a notion it adopts from the Smalltalk language.In most languages, classes are just pieces of code that describe how to produce an object. That is somewhat true in Python too:>>> class ObjectCreator(object):\n...     pass\n\n>>> my_object = ObjectCreator()\n>>> print(my_object)\n    <__main__.ObjectCreator object at 0x8974f2c>But classes are more than that in Python.Classes are objects too.Yes, objects.When a Python script runs, every line of code is executed from top to bottom. When the Python interpreter encounters theclasskeyword, Python creates anobjectout of the ""description"" of the class that follows. Thus, the following instruction>>> class ObjectCreator(object):\n...     pass...creates anobjectwith the nameObjectCreator!This object (the class) is itself capable of creating objects (calledinstances).But still, it\'s an object. Therefore, like all objects:you can assign it to a variable1JustAnotherVariable = ObjectCreatoryou can attach attributes to itObjectCreator.class_attribute = \'foo\'you can pass it as a function parameterprint(ObjectCreator)1Note that merely assigning it to another variable doesn\'t change the class\'s__name__, i.e.,>>> print(JustAnotherVariable)\n    <class \'__main__.ObjectCreator\'>\n\n>>> print(JustAnotherVariable())\n    <__main__.ObjectCreator object at 0x8997b4c>Creating classes dynamicallySince classes are objects, you can create them on the fly, like any object.First, you can create a class in a function usingclass:>>> def choose_class(name):\n...     if name == \'foo\':\n...         class Foo(object):\n...             pass\n...         return Foo # return the class, not an instance\n...     else:\n...         class Bar(object):\n...             pass\n...         return Bar\n\n>>> MyClass = choose_class(\'foo\')\n\n>>> print(MyClass) # the function returns a class, not an instance\n    <class \'__main__.Foo\'>\n\n>>> print(MyClass()) # you can create an object from this class\n    <__main__.Foo object at 0x89c6d4c>But it\'s not so dynamic, since you still have to write the whole class yourself.Since classes are objects, they must be generated by something.When you use theclasskeyword, Python creates this object automatically. But as\nwith most things in Python, it gives you a way to do it manually.Remember the functiontype? The good old function that lets you know what\ntype an object is:>>> print(type(1))\n    <class \'int\'>\n\n>>> print(type(""1""))\n    <class \'str\'>\n\n>>> print(type(ObjectCreator))\n    <class \'type\'>\n\n>>> print(type(ObjectCreator()))\n    <class \'__main__.ObjectCreator\'>Well,typehas also a completely different ability: it can create classes on the fly.typecan take the description of a class as parameters,\nand return a class.(I  know, it\'s silly that the same function can have two completely different uses according to the parameters you pass to it. It\'s an issue due to backward\ncompatibility in Python)typeworks this way:type(name, bases, attrs)Where:name: name of the classbases: tuple of the parent class (for inheritance, can be empty)attrs: dictionary containing attributes names and valuese.g.:>>> class MyShinyClass(object):\n...     passcan be created manually this way:>>> MyShinyClass = type(\'MyShinyClass\', (), {}) # returns a class object\n>>> print(MyShinyClass)\n    <class \'__main__.MyShinyClass\'>\n\n>>> print(MyShinyClass()) # create an instance with the class\n    <__main__.MyShinyClass object at 0x8997cec>You\'ll notice that we useMyShinyClassas the name of the class\nand as the variable to hold the class reference. They can be different,\nbut there is no reason to complicate things.typeaccepts a dictionary to define the attributes of the class. So:>>> class Foo(object):\n...     bar = TrueCan be translated to:>>> Foo = type(\'Foo\', (), {\'bar\':True})And used as a normal class:>>> print(Foo)\n    <class \'__main__.Foo\'>\n\n>>> print(Foo.bar)\n    True\n\n>>> f = Foo()\n>>> print(f)\n    <__main__.Foo object at 0x8a9b84c>\n\n>>> print(f.bar)\n    TrueAnd of course, you can inherit from it, so:>>> class FooChild(Foo):\n...     passwould be:>>> FooChild = type(\'FooChild\', (Foo,), {})\n>>> print(FooChild)\n    <class \'__main__.FooChild\'>\n\n>>> print(FooChild.bar) # bar is inherited from Foo\n    TrueEventually, you\'ll want to add methods to your class. Just define a function\nwith the proper signature and assign it as an attribute.>>> def echo_bar(self):\n...     print(self.bar)\n\n>>> FooChild = type(\'FooChild\', (Foo,), {\'echo_bar\': echo_bar})\n\n>>> hasattr(Foo, \'echo_bar\')\n    False\n\n>>> hasattr(FooChild, \'echo_bar\')\n    True\n\n>>> my_foo = FooChild()\n>>> my_foo.echo_bar()\n    TrueAnd you can add even more methods after you dynamically create the class, just like adding methods to a normally created class object.>>> def echo_bar_more(self):\n...     print(\'yet another method\')\n\n>>> FooChild.echo_bar_more = echo_bar_more\n>>> hasattr(FooChild, \'echo_bar_more\')\n    TrueYou see where we are going: in Python, classes are objects, and you can create a class on the fly, dynamically.This is what Python does when you use the keywordclass, and it does so by using a metaclass.What are metaclasses (finally)Metaclasses are the \'stuff\' that creates classes.You define classes in order to create objects, right?But we learned that Python classes are objects.Well, metaclasses are what create these objects. They are the classes\' classes,\nyou can picture them this way:MyClass = MetaClass()\nmy_object = MyClass()You\'ve seen thattypelets you do something like this:MyClass = type(\'MyClass\', (), {})It\'s because the functiontypeis in fact a metaclass.typeis the\nmetaclass Python uses to create all classes behind the scenes.Now you wonder ""why the heck is it written in lowercase, and notType?""Well, I guess it\'s a matter of consistency withstr, the class that creates\nstrings objects, andintthe class that creates integer objects.typeis\njust the class that creates class objects.You see that by checking the__class__attribute.Everything, and I mean everything, is an object in Python. That includes integers,\nstrings, functions and classes. All of them are objects. And all of them have\nbeen created from a class:>>> age = 35\n>>> age.__class__\n    <type \'int\'>\n\n>>> name = \'bob\'\n>>> name.__class__\n    <type \'str\'>\n\n>>> def foo(): pass\n>>> foo.__class__\n    <type \'function\'>\n\n>>> class Bar(object): pass\n>>> b = Bar()\n>>> b.__class__\n    <class \'__main__.Bar\'>Now, what is the__class__of any__class__?>>> age.__class__.__class__\n    <type \'type\'>\n\n>>> name.__class__.__class__\n    <type \'type\'>\n\n>>> foo.__class__.__class__\n    <type \'type\'>\n\n>>> b.__class__.__class__\n    <type \'type\'>So, a metaclass is just the stuff that creates class objects.You can call it a \'class factory\' if you wish.typeis the built-in metaclass Python uses, but of course, you can create your\nown metaclass.The__metaclass__attributeIn Python 2, you can add a__metaclass__attribute when you write a class (see next section for the Python 3 syntax):class Foo(object):\n    __metaclass__ = something...\n    [...]If you do so, Python will use the metaclass to create the classFoo.Careful, it\'s tricky.You writeclass Foo(object)first, but the class objectFoois not created\nin memory yet.Python will look for__metaclass__in the class definition. If it finds it,\nit will use it to create the object classFoo. If it doesn\'t, it will usetypeto create the class.Read that several times.When you do:class Foo(Bar):\n    passPython does the following:Is there a__metaclass__attribute inFoo?If yes, create in-memory a class object (I said a class object, stay with me here), with the nameFooby using what is in__metaclass__.If Python can\'t find__metaclass__, it will look for a__metaclass__at the MODULE level, and try to do the same (but only for classes that don\'t inherit anything, basically old-style classes).Then if it can\'t find any__metaclass__at all, it will use theBar\'s (the first parent) own metaclass (which might be the defaulttype) to create the class object.Be careful here that the__metaclass__attribute will not be inherited, the metaclass of the parent (Bar.__class__) will be. IfBarused a__metaclass__attribute that createdBarwithtype()(and nottype.__new__()), the subclasses will not inherit that behavior.Now the big question is, what can you put in__metaclass__?The answer is something that can create a class.And what can create a class?type, or anything that subclasses or uses it.Metaclasses in Python 3The syntax to set the metaclass has been changed in Python 3:class Foo(object, metaclass=something):\n    ...i.e. the__metaclass__attribute is no longer used, in favor of a keyword argument in the list of base classes.The behavior of metaclasses however stayslargely the same.One thing added to metaclasses in Python 3 is that you can also pass attributes as keyword-arguments into a metaclass, like so:class Foo(object, metaclass=something, kwarg1=value1, kwarg2=value2):\n    ...Read the section below for how Python handles this.Custom metaclassesThe main purpose of a metaclass is to change the class automatically,\nwhen it\'s created.You usually do this for APIs, where you want to create classes matching the\ncurrent context.Imagine a stupid example, where you decide that all classes in your module\nshould have their attributes written in uppercase. There are several ways to\ndo this, but one way is to set__metaclass__at the module level.This way, all classes of this module will be created using this metaclass,\nand we just have to tell the metaclass to turn all attributes to uppercase.Luckily,__metaclass__can actually be any callable, it doesn\'t need to be a\nformal class (I know, something with \'class\' in its name doesn\'t need to be\na class, go figure... but it\'s helpful).So we will start with a simple example, by using a function.# the metaclass will automatically get passed the same argument\n# that you usually pass to `type`\ndef upper_attr(future_class_name, future_class_parents, future_class_attrs):\n    """"""\n      Return a class object, with the list of its attribute turned\n      into uppercase.\n    """"""\n    # pick up any attribute that doesn\'t start with \'__\' and uppercase it\n    uppercase_attrs = {\n        attr if attr.startswith(""__"") else attr.upper(): v\n        for attr, v in future_class_attrs.items()\n    }\n\n    # let `type` do the class creation\n    return type(future_class_name, future_class_parents, uppercase_attrs)\n\n__metaclass__ = upper_attr # this will affect all classes in the module\n\nclass Foo(): # global __metaclass__ won\'t work with ""object"" though\n    # but we can define __metaclass__ here instead to affect only this class\n    # and this will work with ""object"" children\n    bar = \'bip\'Let\'s check:>>> hasattr(Foo, \'bar\')\n    False\n\n>>> hasattr(Foo, \'BAR\')\n    True\n\n>>> Foo.BAR\n    \'bip\'Now, let\'s do exactly the same, but using a real class for a metaclass:# remember that `type` is actually a class like `str` and `int`\n# so you can inherit from it\nclass UpperAttrMetaclass(type):\n    # __new__ is the method called before __init__\n    # it\'s the method that creates the object and returns it\n    # while __init__ just initializes the object passed as parameter\n    # you rarely use __new__, except when you want to control how the object\n    # is created.\n    # here the created object is the class, and we want to customize it\n    # so we override __new__\n    # you can do some stuff in __init__ too if you wish\n    # some advanced use involves overriding __call__ as well, but we won\'t\n    # see this\n    def __new__(\n        upperattr_metaclass,\n        future_class_name,\n        future_class_parents,\n        future_class_attrs\n    ):\n        uppercase_attrs = {\n            attr if attr.startswith(""__"") else attr.upper(): v\n            for attr, v in future_class_attrs.items()\n        }\n        return type(future_class_name, future_class_parents, uppercase_attrs)Let\'s rewrite the above, but with shorter and more realistic variable names now that we know what they mean:class UpperAttrMetaclass(type):\n    def __new__(cls, clsname, bases, attrs):\n        uppercase_attrs = {\n            attr if attr.startswith(""__"") else attr.upper(): v\n            for attr, v in attrs.items()\n        }\n        return type(clsname, bases, uppercase_attrs)You may have noticed the extra argumentcls. There is\nnothing special about it:__new__always receives the class it\'s defined in, as the first parameter. Just like you haveselffor ordinary methods which receive the instance as the first parameter, or the defining class for class methods.But this is not proper OOP. We are callingtypedirectly and we aren\'t overriding or calling the parent\'s__new__. Let\'s do that instead:class UpperAttrMetaclass(type):\n    def __new__(cls, clsname, bases, attrs):\n        uppercase_attrs = {\n            attr if attr.startswith(""__"") else attr.upper(): v\n            for attr, v in attrs.items()\n        }\n        return type.__new__(cls, clsname, bases, uppercase_attrs)We can make it even cleaner by usingsuper, which will ease inheritance (because yes, you can have metaclasses, inheriting from metaclasses, inheriting from type):class UpperAttrMetaclass(type):\n    def __new__(cls, clsname, bases, attrs):\n        uppercase_attrs = {\n            attr if attr.startswith(""__"") else attr.upper(): v\n            for attr, v in attrs.items()\n        }\n\n        # Python 2 requires passing arguments to super:\n        return super(UpperAttrMetaclass, cls).__new__(\n            cls, clsname, bases, uppercase_attrs)\n\n        # Python 3 can use no-arg super() which infers them:\n        return super().__new__(cls, clsname, bases, uppercase_attrs)Oh, and in Python 3 if you do this call with keyword arguments, like this:class Foo(object, metaclass=MyMetaclass, kwarg1=value1):\n    ...It translates to this in the metaclass to use it:class MyMetaclass(type):\n    def __new__(cls, clsname, bases, dct, kwargs1=default):\n        ...That\'s it. There is really nothing more about metaclasses.The reason behind the complexity of the code using metaclasses is not because\nof metaclasses, it\'s because you usually use metaclasses to do twisted stuff\nrelying on introspection, manipulating inheritance, vars such as__dict__, etc.Indeed, metaclasses are especially useful to do black magic, and therefore\ncomplicated stuff. But by themselves, they are simple:intercept a class creationmodify the classreturn the modified classWhy would you use metaclasses classes instead of functions?Since__metaclass__can accept any callable, why would you use a class\nsince it\'s obviously more complicated?There are several reasons to do so:The intention is clear. When you readUpperAttrMetaclass(type), you know\nwhat\'s going to followYou can use OOP. Metaclass can inherit from metaclass, override parent methods. Metaclasses can even use metaclasses.Subclasses of a class will be instances of its metaclass if you specified a metaclass-class, but not with a metaclass-function.You can structure your code better. You never use metaclasses for something as trivial as the above example. It\'s usually for something complicated. Having the ability to make several methods and group them in one class is very useful to make the code easier to read.You can hook on__new__,__init__and__call__. Which will allow you to do different stuff, Even if usually you can do it all in__new__,\nsome people are just more comfortable using__init__.These are called metaclasses, damn it! It must mean something!Why would you use metaclasses?Now the big question. Why would you use some obscure error-prone feature?Well, usually you don\'t:Metaclasses are deeper magic that\n99% of users should never worry about it.\nIf you wonder whether you need them,\nyou don\'t (the people who actually\nneed them know with certainty that\nthey need them, and don\'t need an\nexplanation about why).Python Guru Tim PetersThe main use case for a metaclass is creating an API. A typical example of this is the Django ORM. It allows you to define something like this:class Person(models.Model):\n    name = models.CharField(max_length=30)\n    age = models.IntegerField()But if you do this:person = Person(name=\'bob\', age=\'35\')\nprint(person.age)It won\'t return anIntegerFieldobject. It will return anint, and can even take it directly from the database.This is possible becausemodels.Modeldefines__metaclass__and\nit uses some magic that will turn thePersonyou just defined with simple statements\ninto a complex hook to a database field.Django makes something complex look simple by exposing a simple API\nand using metaclasses, recreating code from this API to do the real job\nbehind the scenes.The last wordFirst, you know that classes are objects that can create instances.Well, in fact, classes are themselves instances. Of metaclasses.>>> class Foo(object): pass\n>>> id(Foo)\n    142630324Everything is an object in Python, and they are all either instance of classes\nor instances of metaclasses.Except fortype.typeis actually its own metaclass. This is not something you could\nreproduce in pure Python, and is done by cheating a little bit at the implementation\nlevel.Secondly, metaclasses are complicated. You may not want to use them for\nvery simple class alterations. You can change classes by using two different techniques:monkey patchingclass decorators99% of the time you need class alteration, you are better off using these.But 98% of the time, you don\'t need class alteration at all.ShareImprove this answerFolloweditedFeb 28 at 14:12community wiki69 revs, 52 users 63%Bite code\n\nA metaclass is the class of a class. A class defines how an instance of the class (i.e. an object) behaves while a metaclass defines how a class behaves. A class is an instance of a metaclass.While in Python you can use arbitrary callables for metaclasses (likeJerubshows), the better approach is to make it an actual class itself.typeis the usual metaclass in Python.typeis itself a class, and it is its own type. You won\'t be able to recreate something liketypepurely in Python, but Python cheats a little. To create your own metaclass in Python you really just want to subclasstype.A metaclass is most commonly used as a class-factory. When you create an object by calling the class, Python creates a new class (when it executes the \'class\' statement) by calling the metaclass. Combined with the normal__init__and__new__methods, metaclasses therefore allow you to do \'extra things\' when creating a class, like registering the new class with some registry or replace the class with something else entirely.When theclassstatement is executed, Python first executes the body of theclassstatement as a normal block of code. The resulting namespace (a dict) holds the attributes of the class-to-be. The metaclass is determined by looking at the baseclasses of the class-to-be (metaclasses are inherited), at the__metaclass__attribute of the class-to-be (if any) or the__metaclass__global variable. The metaclass is then called with the name, bases and attributes of the class to instantiate it.However, metaclasses actually define thetypeof a class, not just a factory for it, so you can do much more with them. You can, for instance, define normal methods on the metaclass. These metaclass-methods are like classmethods in that they can be called on the class without an instance, but they are also not like classmethods in that they cannot be called on an instance of the class.type.__subclasses__()is an example of a method on thetypemetaclass. You can also define the normal \'magic\' methods, like__add__,__iter__and__getattr__, to implement or change how the class behaves.Here\'s an aggregated example of the bits and pieces:def make_hook(f):\n    """"""Decorator to turn \'foo\' method into \'__foo__\'""""""\n    f.is_hook = 1\n    return f\n\nclass MyType(type):\n    def __new__(mcls, name, bases, attrs):\n\n        if name.startswith(\'None\'):\n            return None\n\n        # Go over attributes and see if they should be renamed.\n        newattrs = {}\n        for attrname, attrvalue in attrs.iteritems():\n            if getattr(attrvalue, \'is_hook\', 0):\n                newattrs[\'__%s__\' % attrname] = attrvalue\n            else:\n                newattrs[attrname] = attrvalue\n\n        return super(MyType, mcls).__new__(mcls, name, bases, newattrs)\n\n    def __init__(self, name, bases, attrs):\n        super(MyType, self).__init__(name, bases, attrs)\n\n        # classregistry.register(self, self.interfaces)\n        print ""Would register class %s now."" % self\n\n    def __add__(self, other):\n        class AutoClass(self, other):\n            pass\n        return AutoClass\n        # Alternatively, to autogenerate the classname as well as the class:\n        # return type(self.__name__ + other.__name__, (self, other), {})\n\n    def unregister(self):\n        # classregistry.unregister(self)\n        print ""Would unregister class %s now."" % self\n\nclass MyObject:\n    __metaclass__ = MyType\n\n\nclass NoneSample(MyObject):\n    pass\n\n# Will print ""NoneType None""\nprint type(NoneSample), repr(NoneSample)\n\nclass Example(MyObject):\n    def __init__(self, value):\n        self.value = value\n    @make_hook\n    def add(self, other):\n        return self.__class__(self.value + other.value)\n\n# Will unregister the class\nExample.unregister()\n\ninst = Example(10)\n# Will fail with an AttributeError\n#inst.unregister()\n\nprint inst + inst\nclass Sibling(MyObject):\n    pass\n\nExampleSibling = Example + Sibling\n# ExampleSibling is now a subclass of both Example and Sibling (with no\n# content of its own) although it will believe it\'s called \'AutoClass\'\nprint ExampleSibling\nprint ExampleSibling.__mro__ShareImprove this answerFolloweditedMar 4, 2019 at 21:34Cameron Savage722 bronze badgesansweredSep 19, 2008 at 7:01Thomas WoutersThomas Wouters132k2323 gold badges150150 silver badges123123 bronze badges\n\nNote, this answer is for Python 2.x as it was written in 2008, metaclasses are slightly different in 3.x.Metaclasses are the secret sauce that make \'class\' work. The default metaclass for a new style object is called \'type\'.class type(object)\n  |  type(object) -> the object\'s type\n  |  type(name, bases, dict) -> a new typeMetaclasses take 3 args. \'name\', \'bases\' and \'dict\'Here is where the secret starts. Look for where name, bases and the dict come from in this example class definition.class ThisIsTheName(Bases, Are, Here):\n    All_the_code_here\n    def doesIs(create, a):\n        dictLets define a metaclass that will demonstrate how \'class:\' calls it.def test_metaclass(name, bases, dict):\n    print \'The Class Name is\', name\n    print \'The Class Bases are\', bases\n    print \'The dict has\', len(dict), \'elems, the keys are\', dict.keys()\n\n    return ""yellow""\n\nclass TestName(object, None, int, 1):\n    __metaclass__ = test_metaclass\n    foo = 1\n    def baz(self, arr):\n        pass\n\nprint \'TestName = \', repr(TestName)\n\n# output => \nThe Class Name is TestName\nThe Class Bases are (<type \'object\'>, None, <type \'int\'>, 1)\nThe dict has 4 elems, the keys are [\'baz\', \'__module__\', \'foo\', \'__metaclass__\']\nTestName =  \'yellow\'And now, an example that actually means something, this will automatically make the variables in the list ""attributes"" set on the class, and set to None.def init_attributes(name, bases, dict):\n    if \'attributes\' in dict:\n        for attr in dict[\'attributes\']:\n            dict[attr] = None\n\n    return type(name, bases, dict)\n\nclass Initialised(object):\n    __metaclass__ = init_attributes\n    attributes = [\'foo\', \'bar\', \'baz\']\n\nprint \'foo =>\', Initialised.foo\n# output=>\nfoo => NoneNote that the magic behaviour thatInitialisedgains by having the metaclassinit_attributesis not passed onto a subclass ofInitialised.Here is an even more concrete example, showing how you can subclass \'type\' to make a metaclass that performs an action when the class is created. This is quite tricky:class MetaSingleton(type):\n    instance = None\n    def __call__(cls, *args, **kw):\n        if cls.instance is None:\n            cls.instance = super(MetaSingleton, cls).__call__(*args, **kw)\n        return cls.instance\n\nclass Foo(object):\n    __metaclass__ = MetaSingleton\n\na = Foo()\nb = Foo()\nassert a is bShareImprove this answerFolloweditedNov 6, 2019 at 7:57ralh2,56411 gold badge1414 silver badges1919 bronze badgesansweredSep 19, 2008 at 6:26JerubJerub42.4k1515 gold badges7474 silver badges9090 bronze badges\n\nOthers have explained how metaclasses work and how they fit into the Python type system. Here\'s an example of what they can be used for. In a testing framework I wrote, I wanted to keep track of the order in which classes were defined, so that I could later instantiate them in this order. I found it easiest to do this using a metaclass.class MyMeta(type):\n\n    counter = 0\n\n    def __init__(cls, name, bases, dic):\n        type.__init__(cls, name, bases, dic)\n        cls._order = MyMeta.counter\n        MyMeta.counter += 1\n\nclass MyType(object):              # Python 2\n    __metaclass__ = MyMeta\n\nclass MyType(metaclass=MyMeta):    # Python 3\n    passAnything that\'s a subclass ofMyTypethen gets a class attribute_orderthat records the order in which the classes were defined.ShareImprove this answerFolloweditedNov 28, 2016 at 18:04answeredJun 21, 2011 at 16:30kindallkindall183k3636 gold badges286286 silver badges315315 bronze badges\n\nOne use for metaclasses is adding new properties and methods to an instance automatically.For example, if you look atDjango models, their definition looks a bit confusing. It looks as if you are only defining class properties:class Person(models.Model):\n    first_name = models.CharField(max_length=30)\n    last_name = models.CharField(max_length=30)However, at runtime the Person objects are filled with all sorts of useful methods. See thesourcefor some amazing metaclassery.ShareImprove this answerFollowansweredSep 19, 2008 at 6:45Antti RasinenAntti Rasinen10.1k22 gold badges2323 silver badges1818 bronze badges\n\nI think the ONLamp introduction to metaclass programming is well written and gives a really good introduction to the topic despite being several years old already.http://www.onlamp.com/pub/a/python/2003/04/17/metaclasses.html(archived athttps://web.archive.org/web/20080206005253/http://www.onlamp.com/pub/a/python/2003/04/17/metaclasses.html)In short: A class is a blueprint for the creation of an instance, a metaclass is a blueprint for the creation of a class. It can be easily seen that in Python classes need to be first-class objects too to enable this behavior.I\'ve never written one myself, but I think one of the nicest uses of metaclasses can be seen in theDjango framework. The model classes use a metaclass approach to enable a declarative style of writing new models or form classes. While the metaclass is creating the class, all members get the possibility to customize the class itself.Creating a new modelThe metaclass enabling thisThe thing that\'s left to say is: If you don\'t know what metaclasses are, the probability that youwill not need themis 99%.ShareImprove this answerFolloweditedAug 13, 2018 at 4:53Yet Another User2,81533 gold badges1919 silver badges2828 bronze badgesansweredSep 19, 2008 at 6:32Matthias KestenholzMatthias Kestenholz3,33011 gold badge2222 silver badges2626 bronze badges\n\nWhat are metaclasses? What do you use them for?TLDR: A metaclass instantiates and defines behavior for a class just like a class instantiates and defines behavior for an instance.Pseudocode:>>> Class(...)\ninstanceThe above should look familiar. Well, where doesClasscome from? It\'s an instance of a metaclass (also pseudocode):>>> Metaclass(...)\nClassIn real code, we can pass the default metaclass,type, everything we need to instantiate a class and we get a class:>>> type(\'Foo\', (object,), {}) # requires a name, bases, and a namespace\n<class \'__main__.Foo\'>Putting it differentlyA class is to an instance as a metaclass is to a class.When we instantiate an object, we get an instance:>>> object()                          # instantiation of class\n<object object at 0x7f9069b4e0b0>     # instanceLikewise, when we define a class explicitly with the default metaclass,type, we instantiate it:>>> type(\'Object\', (object,), {})     # instantiation of metaclass\n<class \'__main__.Object\'>             # instancePut another way, a class is an instance of a metaclass:>>> isinstance(object, type)\nTruePut a third way, a metaclass is a class\'s class.>>> type(object) == type\nTrue\n>>> object.__class__\n<class \'type\'>When you write a class definition and Python executes it, it uses a metaclass to instantiate the class object (which will, in turn, be used to instantiate instances of that class).Just as we can use class definitions to change how custom object instances behave, we can use a metaclass class definition to change the way a class object behaves.What can they be used for? From thedocs:The potential uses for metaclasses are boundless. Some ideas that have been explored include logging, interface checking, automatic delegation, automatic property creation, proxies, frameworks, and automatic resource locking/synchronization.Nevertheless, it is usually encouraged for users to avoid using metaclasses unless absolutely necessary.You use a metaclass every time you create a class:When you write a class definition, for example, like this,class Foo(object): \n    \'demo\'You instantiate a class object.>>> Foo\n<class \'__main__.Foo\'>\n>>> isinstance(Foo, type), isinstance(Foo, object)\n(True, True)It is the same as functionally callingtypewith the appropriate arguments and assigning the result to a variable of that name:name = \'Foo\'\nbases = (object,)\nnamespace = {\'__doc__\': \'demo\'}\nFoo = type(name, bases, namespace)Note, some things automatically get added to the__dict__, i.e., the namespace:>>> Foo.__dict__\ndict_proxy({\'__dict__\': <attribute \'__dict__\' of \'Foo\' objects>, \n\'__module__\': \'__main__\', \'__weakref__\': <attribute \'__weakref__\' \nof \'Foo\' objects>, \'__doc__\': \'demo\'})Themetaclassof the object we created, in both cases, istype.(A side-note on the contents of the class__dict__:__module__is there because classes must know where they are defined, and__dict__and__weakref__are there because we don\'t define__slots__- if wedefine__slots__we\'ll save a bit of space in the instances, as we can disallow__dict__and__weakref__by excluding them. For example:>>> Baz = type(\'Bar\', (object,), {\'__doc__\': \'demo\', \'__slots__\': ()})\n>>> Baz.__dict__\nmappingproxy({\'__doc__\': \'demo\', \'__slots__\': (), \'__module__\': \'__main__\'})... but I digress.)We can extendtypejust like any other class definition:Here\'s the default__repr__of classes:>>> Foo\n<class \'__main__.Foo\'>One of the most valuable things we can do by default in writing a Python object is to provide it with a good__repr__. When we callhelp(repr)we learn that there\'s a good test for a__repr__that also requires a test for equality -obj == eval(repr(obj)). The following simple implementation of__repr__and__eq__for class instances of our type class provides us with a demonstration that may improve on the default__repr__of classes:class Type(type):\n    def __repr__(cls):\n        """"""\n        >>> Baz\n        Type(\'Baz\', (Foo, Bar,), {\'__module__\': \'__main__\', \'__doc__\': None})\n        >>> eval(repr(Baz))\n        Type(\'Baz\', (Foo, Bar,), {\'__module__\': \'__main__\', \'__doc__\': None})\n        """"""\n        metaname = type(cls).__name__\n        name = cls.__name__\n        parents = \', \'.join(b.__name__ for b in cls.__bases__)\n        if parents:\n            parents += \',\'\n        namespace = \', \'.join(\': \'.join(\n          (repr(k), repr(v) if not isinstance(v, type) else v.__name__))\n               for k, v in cls.__dict__.items())\n        return \'{0}(\\\'{1}\\\', ({2}), {{{3}}})\'.format(metaname, name, parents, namespace)\n    def __eq__(cls, other):\n        """"""\n        >>> Baz == eval(repr(Baz))\n        True            \n        """"""\n        return (cls.__name__, cls.__bases__, cls.__dict__) == (\n                other.__name__, other.__bases__, other.__dict__)So now when we create an object with this metaclass, the__repr__echoed on the command line provides a much less ugly sight than the default:>>> class Bar(object): pass\n>>> Baz = Type(\'Baz\', (Foo, Bar,), {\'__module__\': \'__main__\', \'__doc__\': None})\n>>> Baz\nType(\'Baz\', (Foo, Bar,), {\'__module__\': \'__main__\', \'__doc__\': None})With a nice__repr__defined for the class instance, we have a stronger ability to debug our code. However, much further checking witheval(repr(Class))is unlikely (as functions would be rather impossible to eval from their default__repr__\'s).An expected usage:__prepare__a namespaceIf, for example, we want to know in what order a class\'s methods are created in, we could provide an ordered dict as the namespace of the class. We would do this with__prepare__whichreturns the namespace dict for the class if it is implemented in Python 3:from collections import OrderedDict\n\nclass OrderedType(Type):\n    @classmethod\n    def __prepare__(metacls, name, bases, **kwargs):\n        return OrderedDict()\n    def __new__(cls, name, bases, namespace, **kwargs):\n        result = Type.__new__(cls, name, bases, dict(namespace))\n        result.members = tuple(namespace)\n        return resultAnd usage:class OrderedMethodsObject(object, metaclass=OrderedType):\n    def method1(self): pass\n    def method2(self): pass\n    def method3(self): pass\n    def method4(self): passAnd now we have a record of the order in which these methods (and other class attributes) were created:>>> OrderedMethodsObject.members\n(\'__module__\', \'__qualname__\', \'method1\', \'method2\', \'method3\', \'method4\')Note, this example was adapted from thedocumentation- the newenum in the standard librarydoes this.So what we did was instantiate a metaclass by creating a class. We can also treat the metaclass as we would any other class. It has a method resolution order:>>> inspect.getmro(OrderedType)\n(<class \'__main__.OrderedType\'>, <class \'__main__.Type\'>, <class \'type\'>, <class \'object\'>)And it has approximately the correctrepr(which we can no longer eval unless we can find a way to represent our functions.):>>> OrderedMethodsObject\nOrderedType(\'OrderedMethodsObject\', (object,), {\'method1\': <function OrderedMethodsObject.method1 at 0x0000000002DB01E0>, \'members\': (\'__module__\', \'__qualname__\', \'method1\', \'method2\', \'method3\', \'method4\'), \'method3\': <function OrderedMet\nhodsObject.method3 at 0x0000000002DB02F0>, \'method2\': <function OrderedMethodsObject.method2 at 0x0000000002DB0268>, \'__module__\': \'__main__\', \'__weakref__\': <attribute \'__weakref__\' of \'OrderedMethodsObject\' objects>, \'__doc__\': None, \'__d\nict__\': <attribute \'__dict__\' of \'OrderedMethodsObject\' objects>, \'method4\': <function OrderedMethodsObject.method4 at 0x0000000002DB0378>})ShareImprove this answerFolloweditedAug 30, 2017 at 3:19answeredAug 10, 2015 at 23:28Aaron Hall♦Aaron Hall388k9191 gold badges409409 silver badges336336 bronze badges\n\nPython 3 updateThere are (at this point) two key methods in a metaclass:__prepare__, and__new____prepare__lets you supply a custom mapping (such as anOrderedDict) to be used as the namespace while the class is being created.  You must return an instance of whatever namespace you choose.  If you don\'t implement__prepare__a normaldictis used.__new__is responsible for the actual creation/modification of the final class.A bare-bones, do-nothing-extra metaclass would like:class Meta(type):\n\n    def __prepare__(metaclass, cls, bases):\n        return dict()\n\n    def __new__(metacls, cls, bases, clsdict):\n        return super().__new__(metacls, cls, bases, clsdict)A simple example:Say you want some simple validation code to run on your attributes -- like it must always be anintor astr.  Without a metaclass, your class would look something like:class Person:\n    weight = ValidateType(\'weight\', int)\n    age = ValidateType(\'age\', int)\n    name = ValidateType(\'name\', str)As you can see, you have to repeat the name of the attribute twice.  This makes typos possible along with irritating bugs.A simple metaclass can address that problem:class Person(metaclass=Validator):\n    weight = ValidateType(int)\n    age = ValidateType(int)\n    name = ValidateType(str)This is what the metaclass would look like (not using__prepare__since it is not needed):class Validator(type):\n    def __new__(metacls, cls, bases, clsdict):\n        # search clsdict looking for ValidateType descriptors\n        for name, attr in clsdict.items():\n            if isinstance(attr, ValidateType):\n                attr.name = name\n                attr.attr = \'_\' + name\n        # create final class and return it\n        return super().__new__(metacls, cls, bases, clsdict)A sample run of:p = Person()\np.weight = 9\nprint(p.weight)\np.weight = \'9\'produces:9\nTraceback (most recent call last):\n  File ""simple_meta.py"", line 36, in <module>\n    p.weight = \'9\'\n  File ""simple_meta.py"", line 24, in __set__\n    (self.name, self.type, value))\nTypeError: weight must be of type(s) <class \'int\'> (got \'9\')Note:  This example is simple enough it could have also been accomplished with a class decorator, but presumably an actual metaclass would be doing much more.The \'ValidateType\' class for reference:class ValidateType:\n    def __init__(self, type):\n        self.name = None  # will be set by metaclass\n        self.attr = None  # will be set by metaclass\n        self.type = type\n    def __get__(self, inst, cls):\n        if inst is None:\n            return self\n        else:\n            return inst.__dict__[self.attr]\n    def __set__(self, inst, value):\n        if not isinstance(value, self.type):\n            raise TypeError(\'%s must be of type(s) %s (got %r)\' %\n                    (self.name, self.type, value))\n        else:\n            inst.__dict__[self.attr] = valueShareImprove this answerFollowansweredMar 1, 2016 at 19:48Ethan FurmanEthan Furman67.4k2121 gold badges169169 silver badges245245 bronze badges\n\nRole of a metaclass\'__call__()method when creating a class instanceIf you\'ve done Python programming for more than a few months you\'ll eventually stumble upon code that looks like this:# define a class\nclass SomeClass(object):\n    # ...\n    # some definition here ...\n    # ...\n\n# create an instance of it\ninstance = SomeClass()\n\n# then call the object as if it\'s a function\nresult = instance(\'foo\', \'bar\')The latter is possible when you implement the__call__()magic method on the class.class SomeClass(object):\n    # ...\n    # some definition here ...\n    # ...\n\n    def __call__(self, foo, bar):\n        return bar + fooThe__call__()method is invoked when an instance of a class is used as a callable. But as we\'ve seen from previous answers a class itself is an instance of a metaclass, so when we use the class as a callable (i.e. when we create an instance of it) we\'re actually calling its metaclass\'__call__()method. At this point most Python programmers are a bit confused because they\'ve been told that when creating an instance like thisinstance = SomeClass()you\'re calling its__init__()method. Some who\'ve dug a bit deeper know that before__init__()there\'s__new__(). Well, today another layer of truth is being revealed, before__new__()there\'s the metaclass\'__call__().Let\'s study the method call chain from specifically the perspective of creating an instance of a class.This is a metaclass that logs exactly the moment before an instance is created and the moment it\'s about to return it.class Meta_1(type):\n    def __call__(cls):\n        print ""Meta_1.__call__() before creating an instance of "", cls\n        instance = super(Meta_1, cls).__call__()\n        print ""Meta_1.__call__() about to return instance.""\n        return instanceThis is a class that uses that metaclassclass Class_1(object):\n\n    __metaclass__ = Meta_1\n\n    def __new__(cls):\n        print ""Class_1.__new__() before creating an instance.""\n        instance = super(Class_1, cls).__new__(cls)\n        print ""Class_1.__new__() about to return instance.""\n        return instance\n\n    def __init__(self):\n        print ""entering Class_1.__init__() for instance initialization.""\n        super(Class_1,self).__init__()\n        print ""exiting Class_1.__init__().""And now let\'s create an instance ofClass_1instance = Class_1()\n# Meta_1.__call__() before creating an instance of <class \'__main__.Class_1\'>.\n# Class_1.__new__() before creating an instance.\n# Class_1.__new__() about to return instance.\n# entering Class_1.__init__() for instance initialization.\n# exiting Class_1.__init__().\n# Meta_1.__call__() about to return instance.Observe that the code above doesn\'t actually do anything more than logging the tasks. Each method delegates the actual work to its parent\'s implementation, thus keeping the default behavior. SincetypeisMeta_1\'s parent class (typebeing the default parent metaclass) and considering the ordering sequence of the output above, we now have a clue as to what would be the pseudo implementation oftype.__call__():class type:\n    def __call__(cls, *args, **kwarg):\n\n        # ... maybe a few things done to cls here\n\n        # then we call __new__() on the class to create an instance\n        instance = cls.__new__(cls, *args, **kwargs)\n\n        # ... maybe a few things done to the instance here\n\n        # then we initialize the instance with its __init__() method\n        instance.__init__(*args, **kwargs)\n\n        # ... maybe a few more things done to instance here\n\n        # then we return it\n        return instanceWe can see that the metaclass\'__call__()method is the one that\'s called first. It then delegates creation of the instance to the class\'s__new__()method and initialization to the instance\'s__init__(). It\'s also the one that ultimately returns the instance.From the above it stems that the metaclass\'__call__()is also given the opportunity to decide whether or not a call toClass_1.__new__()orClass_1.__init__()will eventually be made. Over the course of its execution it could actually return an object that hasn\'t been touched by either of these methods. Take for example this approach to the singleton pattern:class Meta_2(type):\n    singletons = {}\n\n    def __call__(cls, *args, **kwargs):\n        if cls in Meta_2.singletons:\n            # we return the only instance and skip a call to __new__()\n            # and __init__()\n            print (""{} singleton returning from Meta_2.__call__(), ""\n                   ""skipping creation of new instance."".format(cls))\n            return Meta_2.singletons[cls]\n\n        # else if the singleton isn\'t present we proceed as usual\n        print ""Meta_2.__call__() before creating an instance.""\n        instance = super(Meta_2, cls).__call__(*args, **kwargs)\n        Meta_2.singletons[cls] = instance\n        print ""Meta_2.__call__() returning new instance.""\n        return instance\n\nclass Class_2(object):\n\n    __metaclass__ = Meta_2\n\n    def __new__(cls, *args, **kwargs):\n        print ""Class_2.__new__() before creating instance.""\n        instance = super(Class_2, cls).__new__(cls)\n        print ""Class_2.__new__() returning instance.""\n        return instance\n\n    def __init__(self, *args, **kwargs):\n        print ""entering Class_2.__init__() for initialization.""\n        super(Class_2, self).__init__()\n        print ""exiting Class_2.__init__().""Let\'s observe what happens when repeatedly trying to create an object of typeClass_2a = Class_2()\n# Meta_2.__call__() before creating an instance.\n# Class_2.__new__() before creating instance.\n# Class_2.__new__() returning instance.\n# entering Class_2.__init__() for initialization.\n# exiting Class_2.__init__().\n# Meta_2.__call__() returning new instance.\n\nb = Class_2()\n# <class \'__main__.Class_2\'> singleton returning from Meta_2.__call__(), skipping creation of new instance.\n\nc = Class_2()\n# <class \'__main__.Class_2\'> singleton returning from Meta_2.__call__(), skipping creation of new instance.\n\na is b is c # TrueShareImprove this answerFolloweditedAug 27, 2018 at 17:21answeredOct 13, 2016 at 9:21Michael EkokaMichael Ekoka19.7k1212 gold badges8181 silver badges8282 bronze badges\n\nAmetaclassis a class that tells how (some) other class should be created.This is a case where I sawmetaclassas a solution to my problem:\nI had a really complicated problem, that probably could have been solved differently, but I chose to solve it using ametaclass.  Because of the complexity, it is one of the few modules I have written where the comments in the module surpass the amount of code that has been written.  Here it is...#!/usr/bin/env python\n\n# Copyright (C) 2013-2014 Craig Phillips.  All rights reserved.\n\n# This requires some explaining.  The point of this metaclass excercise is to\n# create a static abstract class that is in one way or another, dormant until\n# queried.  I experimented with creating a singlton on import, but that did\n# not quite behave how I wanted it to.  See now here, we are creating a class\n# called GsyncOptions, that on import, will do nothing except state that its\n# class creator is GsyncOptionsType.  This means, docopt doesn\'t parse any\n# of the help document, nor does it start processing command line options.\n# So importing this module becomes really efficient.  The complicated bit\n# comes from requiring the GsyncOptions class to be static.  By that, I mean\n# any property on it, may or may not exist, since they are not statically\n# defined; so I can\'t simply just define the class with a whole bunch of\n# properties that are @property @staticmethods.\n#\n# So here\'s how it works:\n#\n# Executing \'from libgsync.options import GsyncOptions\' does nothing more\n# than load up this module, define the Type and the Class and import them\n# into the callers namespace.  Simple.\n#\n# Invoking \'GsyncOptions.debug\' for the first time, or any other property\n# causes the __metaclass__ __getattr__ method to be called, since the class\n# is not instantiated as a class instance yet.  The __getattr__ method on\n# the type then initialises the class (GsyncOptions) via the __initialiseClass\n# method.  This is the first and only time the class will actually have its\n# dictionary statically populated.  The docopt module is invoked to parse the\n# usage document and generate command line options from it.  These are then\n# paired with their defaults and what\'s in sys.argv.  After all that, we\n# setup some dynamic properties that could not be defined by their name in\n# the usage, before everything is then transplanted onto the actual class\n# object (or static class GsyncOptions).\n#\n# Another piece of magic, is to allow command line options to be set in\n# in their native form and be translated into argparse style properties.\n#\n# Finally, the GsyncListOptions class is actually where the options are\n# stored.  This only acts as a mechanism for storing options as lists, to\n# allow aggregation of duplicate options or options that can be specified\n# multiple times.  The __getattr__ call hides this by default, returning the\n# last item in a property\'s list.  However, if the entire list is required,\n# calling the \'list()\' method on the GsyncOptions class, returns a reference\n# to the GsyncListOptions class, which contains all of the same properties\n# but as lists and without the duplication of having them as both lists and\n# static singlton values.\n#\n# So this actually means that GsyncOptions is actually a static proxy class...\n#\n# ...And all this is neatly hidden within a closure for safe keeping.\ndef GetGsyncOptionsType():\n    class GsyncListOptions(object):\n        __initialised = False\n\n    class GsyncOptionsType(type):\n        def __initialiseClass(cls):\n            if GsyncListOptions._GsyncListOptions__initialised: return\n\n            from docopt import docopt\n            from libgsync.options import doc\n            from libgsync import __version__\n\n            options = docopt(\n                doc.__doc__ % __version__,\n                version = __version__,\n                options_first = True\n            )\n\n            paths = options.pop(\'<path>\', None)\n            setattr(cls, ""destination_path"", paths.pop() if paths else None)\n            setattr(cls, ""source_paths"", paths)\n            setattr(cls, ""options"", options)\n\n            for k, v in options.iteritems():\n                setattr(cls, k, v)\n\n            GsyncListOptions._GsyncListOptions__initialised = True\n\n        def list(cls):\n            return GsyncListOptions\n\n        def __getattr__(cls, name):\n            cls.__initialiseClass()\n            return getattr(GsyncListOptions, name)[-1]\n\n        def __setattr__(cls, name, value):\n            # Substitut option names: --an-option-name for an_option_name\n            import re\n            name = re.sub(r\'^__\', """", re.sub(r\'-\', ""_"", name))\n            listvalue = []\n\n            # Ensure value is converted to a list type for GsyncListOptions\n            if isinstance(value, list):\n                if value:\n                    listvalue = [] + value\n                else:\n                    listvalue = [ None ]\n            else:\n                listvalue = [ value ]\n\n            type.__setattr__(GsyncListOptions, name, listvalue)\n\n    # Cleanup this module to prevent tinkering.\n    import sys\n    module = sys.modules[__name__]\n    del module.__dict__[\'GetGsyncOptionsType\']\n\n    return GsyncOptionsType\n\n# Our singlton abstract proxy class.\nclass GsyncOptions(object):\n    __metaclass__ = GetGsyncOptionsType()ShareImprove this answerFolloweditedApr 1, 2022 at 19:47community wiki4 revs, 3 users 69%Craig\n\nThe tl;dr versionThetype(obj)function gets you the type of an object.Thetype()of a class is itsmetaclass.To use a metaclass:class Foo(object):\n    __metaclass__ = MyMetaClasstypeis its own metaclass. The class of a class is a metaclass-- the body of a class is the arguments passed to the metaclass that is used to construct the class.Hereyou can read about how to use metaclasses to customize class construction.ShareImprove this answerFolloweditedDec 5, 2019 at 16:27answeredDec 27, 2016 at 2:21noɥʇʎԀʎzɐɹƆnoɥʇʎԀʎzɐɹƆ10.5k22 gold badges5151 silver badges6767 bronze badges\n\ntypeis actually ametaclass-- a class that creates another classes.\nMostmetaclassare the subclasses oftype. Themetaclassreceives thenewclass as its first argument and provide access to class object with details as mentioned below:>>> class MetaClass(type):\n...     def __init__(cls, name, bases, attrs):\n...         print (\'class name: %s\' %name )\n...         print (\'Defining class %s\' %cls)\n...         print(\'Bases %s: \' %bases)\n...         print(\'Attributes\')\n...         for (name, value) in attrs.items():\n...             print (\'%s :%r\' %(name, value))\n... \n\n>>> class NewClass(object, metaclass=MetaClass):\n...    get_choch=\'dairy\'\n... \nclass name: NewClass\nBases <class \'object\'>: \nDefining class <class \'NewClass\'>\nget_choch :\'dairy\'\n__module__ :\'builtins\'\n__qualname__ :\'NewClass\'Note:Notice that the class was not instantiated at any time; the simple act of creating the class triggered execution of themetaclass.ShareImprove this answerFolloweditedAug 29, 2017 at 5:23Chankey Pathak21.6k1212 gold badges8787 silver badges135135 bronze badgesansweredAug 9, 2016 at 18:49Mushahid KhanMushahid Khan2,83411 gold badge2020 silver badges3232 bronze badges\n\nPython classes are themselves objects - as in instance - of their meta-class.The default metaclass, which is applied when when you determine classes as:class foo:\n    ...meta class are used to apply some rule to an entire set of classes. For example, suppose you\'re building an ORM to access a database, and you want records from each table to be of a class mapped to that table (based on fields, business rules, etc..,), a possible use of metaclass is for instance, connection pool logic, which is share by all classes of record from all tables. Another use is logic to to support foreign keys, which involves multiple classes of records.when you define metaclass, you subclass type, and can overrided the following magic methods to insert your logic.class somemeta(type):\n    __new__(mcs, name, bases, clsdict):\n      """"""\n  mcs: is the base metaclass, in this case type.\n  name: name of the new class, as provided by the user.\n  bases: tuple of base classes \n  clsdict: a dictionary containing all methods and attributes defined on class\n\n  you must return a class object by invoking the __new__ constructor on the base metaclass. \n ie: \n    return type.__call__(mcs, name, bases, clsdict).\n\n  in the following case:\n\n  class foo(baseclass):\n        __metaclass__ = somemeta\n\n  an_attr = 12\n\n  def bar(self):\n      ...\n\n  @classmethod\n  def foo(cls):\n      ...\n\n      arguments would be : ( somemeta, ""foo"", (baseclass, baseofbase,..., object), {""an_attr"":12, ""bar"": <function>, ""foo"": <bound class method>}\n\n      you can modify any of these values before passing on to type\n      """"""\n      return type.__call__(mcs, name, bases, clsdict)\n\n\n    def __init__(self, name, bases, clsdict):\n      """""" \n      called after type has been created. unlike in standard classes, __init__ method cannot modify the instance (cls) - and should be used for class validaton.\n      """"""\n      pass\n\n\n    def __prepare__():\n        """"""\n        returns a dict or something that can be used as a namespace.\n        the type will then attach methods and attributes from class definition to it.\n\n        call order :\n\n        somemeta.__new__ ->  type.__new__ -> type.__init__ -> somemeta.__init__ \n        """"""\n        return dict()\n\n    def mymethod(cls):\n        """""" works like a classmethod, but for class objects. Also, my method will not be visible to instances of cls.\n        """"""\n        passanyhow, those two are the most commonly used hooks. metaclassing is powerful, and above is nowhere near and exhaustive list of uses for metaclassing.ShareImprove this answerFolloweditedJul 13, 2017 at 8:18answeredJul 13, 2017 at 7:58Xingzhou LiuXingzhou Liu1,55999 silver badges1212 bronze badges\n\nThe type() function can return the type of an object or create a new type,for example, we can create a Hi class with the type() function and do not  need to use this way with class Hi(object):def func(self, name=\'mike\'):\n    print(\'Hi, %s.\' % name)\n\nHi = type(\'Hi\', (object,), dict(hi=func))\nh = Hi()\nh.hi()\nHi, mike.\n\ntype(Hi)\ntype\n\ntype(h)\n__main__.HiIn addition to using type() to create classes dynamically, you can control creation behavior of class and use metaclass.According to the Python object model, the class is the object, so the class must be an instance of another certain class.\nBy default, a Python class is instance of the type class. That is, type is metaclass of most of the built-in classes and metaclass of user-defined classes.class ListMetaclass(type):\n    def __new__(cls, name, bases, attrs):\n        attrs[\'add\'] = lambda self, value: self.append(value)\n        return type.__new__(cls, name, bases, attrs)\n\nclass CustomList(list, metaclass=ListMetaclass):\n    pass\n\nlst = CustomList()\nlst.add(\'custom_list_1\')\nlst.add(\'custom_list_2\')\n\nlst\n[\'custom_list_1\', \'custom_list_2\']Magic will take effect when we passed keyword arguments in metaclass, it indicates the Python interpreter to create the CustomList through ListMetaclass.new(), at this point, we can modify the class definition, for example, and add a new method and then return the revised definition.ShareImprove this answerFolloweditedJan 12, 2018 at 9:30answeredJan 12, 2018 at 9:16binbjzbinbjz84111 gold badge1111 silver badges1515 bronze badges\n\nIn addition to the published answers I can say that ametaclassdefines the behaviour for a class. So, you can explicitly set your metaclass. Whenever Python gets a keywordclassthen it starts searching for themetaclass. If it\'s not found – the default metaclass type is used to create the class\'s object. Using the__metaclass__attribute, you can setmetaclassof your class:class MyClass:\n   __metaclass__ = type\n   # write here other method\n   # write here one more method\n\nprint(MyClass.__metaclass__)It\'ll produce the output like this:class \'type\'And, of course, you can create your ownmetaclassto define the behaviour of any class that are created using your class.For doing that, your defaultmetaclasstype class must be inherited as this is the mainmetaclass:class MyMetaClass(type):\n   __metaclass__ = type\n   # you can write here any behaviour you want\n\nclass MyTestClass:\n   __metaclass__ = MyMetaClass\n\nObj = MyTestClass()\nprint(Obj.__metaclass__)\nprint(MyMetaClass.__metaclass__)The output will be:class \'__main__.MyMetaClass\'\nclass \'type\'ShareImprove this answerFolloweditedSep 15, 2018 at 13:17answeredSep 15, 2018 at 12:41Andy JazzAndy Jazz55.4k1818 gold badges152152 silver badges240240 bronze badges\n\nNote that in python 3.6 a new dunder method__init_subclass__(cls, **kwargs)was introduced to replace a lot of common use cases for metaclasses. Is is called when a subclass of the defining class is created. Seepython docs.ShareImprove this answerFollowansweredMar 3, 2020 at 10:06LarsLars1,93922 gold badges1414 silver badges2626 bronze badges\n\nHere\'s another example of what it can be used for:You can use themetaclassto change the function of its instance (the class).class MetaMemberControl(type):\n    __slots__ = ()\n\n    @classmethod\n    def __prepare__(mcs, f_cls_name, f_cls_parents,  # f_cls means: future class\n                    meta_args=None, meta_options=None):  # meta_args and meta_options is not necessarily needed, just so you know.\n        f_cls_attr = dict()\n        if not ""do something or if you want to define your cool stuff of dict..."":\n            return dict(make_your_special_dict=None)\n        else:\n            return f_cls_attr\n\n    def __new__(mcs, f_cls_name, f_cls_parents, f_cls_attr,\n                meta_args=None, meta_options=None):\n\n        original_getattr = f_cls_attr.get(\'__getattribute__\')\n        original_setattr = f_cls_attr.get(\'__setattr__\')\n\n        def init_getattr(self, item):\n            if not item.startswith(\'_\'):  # you can set break points at here\n                alias_name = \'_\' + item\n                if alias_name in f_cls_attr[\'__slots__\']:\n                    item = alias_name\n            if original_getattr is not None:\n                return original_getattr(self, item)\n            else:\n                return super(eval(f_cls_name), self).__getattribute__(item)\n\n        def init_setattr(self, key, value):\n            if not key.startswith(\'_\') and (\'_\' + key) in f_cls_attr[\'__slots__\']:\n                raise AttributeError(f""you can\'t modify private members:_{key}"")\n            if original_setattr is not None:\n                original_setattr(self, key, value)\n            else:\n                super(eval(f_cls_name), self).__setattr__(key, value)\n\n        f_cls_attr[\'__getattribute__\'] = init_getattr\n        f_cls_attr[\'__setattr__\'] = init_setattr\n\n        cls = super().__new__(mcs, f_cls_name, f_cls_parents, f_cls_attr)\n        return cls\n\n\nclass Human(metaclass=MetaMemberControl):\n    __slots__ = (\'_age\', \'_name\')\n\n    def __init__(self, name, age):\n        self._name = name\n        self._age = age\n\n    def __getattribute__(self, item):\n        """"""\n        is just for IDE recognize.\n        """"""\n        return super().__getattribute__(item)\n\n    """""" with MetaMemberControl then you don\'t have to write as following\n    @property\n    def name(self):\n        return self._name\n\n    @property\n    def age(self):\n        return self._age\n    """"""\n\n\ndef test_demo():\n    human = Human(\'Carson\', 27)\n    # human.age = 18  # you can\'t modify private members:_age  <-- this is defined by yourself.\n    # human.k = 18  # \'Human\' object has no attribute \'k\'  <-- system error.\n    age1 = human._age  # It\'s OK, although the IDE will show some warnings. (Access to a protected member _age of a class)\n\n    age2 = human.age  # It\'s OK! see below:\n    """"""\n    if you do not define `__getattribute__` at the class of Human,\n    the IDE will show you: Unresolved attribute reference \'age\' for class \'Human\'\n    but it\'s ok on running since the MetaMemberControl will help you.\n    """"""\n\n\nif __name__ == \'__main__\':\n    test_demo()Themetaclassis powerful, there are many things (such as monkey magic) you can do with it, but be careful this may only be known to you.ShareImprove this answerFollowansweredDec 20, 2019 at 11:03CarsonCarson7,16622 gold badges5151 silver badges5151 bronze badges\n\nThe top answer is correct.But readers may be coming here searching answers about similarly named inner classes. They are present in popular libraries, such asDjangoandWTForms.As DavidW points out in the comments beneath this answer,these arelibrary-specificfeatures and are not to be confused with the advanced, unrelatedPython languagefeature with a similar name.Rather, these are namespaces within classes\' dicts. They are constructed using inner classes for sake of readability.In this example special field,abstractis visibly separate from fields of Author model.from django.db import models\n\nclass Author(models.Model):\n    name = models.CharField(max_length=50)\n    email = models.EmailField()\n\n    class Meta:\n        abstract = TrueAnother example is from the documentation forWTForms:from wtforms.form import Form\nfrom wtforms.csrf.session import SessionCSRF\nfrom wtforms.fields import StringField\n\nclass MyBaseForm(Form):\n    class Meta:\n        csrf = True\n        csrf_class = SessionCSRF\n\n    name = StringField(""name"")This syntax does not get special treatment in the python programming language.Metais not a keyword here, and does not trigger metaclass behavior. Rather, third-party library code in packages likeDjangoandWTFormsreads this property in the constructors of certain classes, and elsewhere.The presence of these declarations modifies the behavior of the classes that have these declarations. For example,WTFormsreadsself.Meta.csrfto determine if the form needs acsrffield.ShareImprove this answerFolloweditedSep 21, 2021 at 11:49Alex Waygood7,19333 gold badges2828 silver badges4949 bronze badgesansweredJul 17, 2021 at 5:18ManukumarManukumar22522 silver badges33 bronze badges\n\nIn object-oriented programming, a metaclass is a class whose instances are classes. Just as an ordinary class defines the behavior of certain objects, a metaclass defines the behavior of certain class and their instances\nThe term metaclass simply means something used to create classes. In other words, it is the class of a class. The metaclass is used to create the class so like the object being an instance of a class, a class is an instance of a metaclass. In python classes are also considered objects.ShareImprove this answerFolloweditedJul 9, 2019 at 5:45answeredJul 9, 2019 at 5:37Venu Gopal TewariVenu Gopal Tewari5,8184444 silver badges4141 bronze badges\n\nA class, in Python, is an object, and just like any other object, it is an instance of ""something"". This ""something"" is what is termed as a Metaclass. This metaclass is a special type of class that creates other class\'s objects. Hence, metaclass is responsible for making new classes. This allows the programmer to customize the way classes are generated.To create a metaclass, overriding ofnew() andinit() methods is usually done.new() can be overridden to change the way objects are created, whileinit() can be overridden to change the way of initializing the object. Metaclass can be created by a number of ways. One of the ways is to use type() function. type() function, when called with 3 parameters, creates a metaclass. The parameters are :-Class NameTuple having base classes inherited by classA dictionary having all class methods and class variablesAnother way of creating a metaclass comprises of \'metaclass\' keyword. Define the metaclass as a simple class. In the parameters of inherited class, pass metaclass=metaclass_nameMetaclass can be specifically used in the following situations :-when a particular effect has to be applied to all the subclassesAutomatic change of class (on creation) is requiredBy API developersShareImprove this answerFollowansweredJan 20, 2020 at 6:59Swati SrivastavaSwati Srivastava1,12211 gold badge1212 silver badges1919 bronze badges\n\nI saw an interesting use case for metaclasses in a package calledclassutilities. It checks if all class variables are in upper case format (it is convenient to have unified logic for configuration classes), and checks if there are no instance level methods in class.\nAnother interesting example for metaclases was deactivation of unittests based on complex conditions (checking values of multiple environmental variables).ShareImprove this answerFolloweditedJul 12, 2021 at 22:53Arthur MacMillan9177 bronze badgesansweredJul 12, 2021 at 22:51Emma BrownEmma Brown18511 silver badge88 bronze badges\n\nIn Python, a metaclass is a subclass of a subclass that determines how a subclass behaves. A class is an instance of another metaclass. In Python, a class specifies how the class\'s instance will behave.Since metaclasses are in charge of class generation, you can\xa0write your own custom metaclasses to change how classes are created by performing additional actions or injecting code. Custom metaclasses aren\'t always important, but they can be.ShareImprove this answerFollowansweredApr 21, 2021 at 18:41DrosnickXDrosnickX44555 silver badges1010 bronze badges\n\nlook this:Python 3.10.0rc2 (tags/v3.10.0rc2:839d789, Sep  7 2021, 18:51:45) [MSC v.1929 64 bit (AMD64)] on win32\nType ""help"", ""copyright"", ""credits"" or ""license"" for more information.\n>>> class Object:\n...     pass\n... \n>>> class Meta(type):\n...     test = \'Worked!!!\'\n...     def __repr__(self):\n...             return \'This is ""Meta"" metaclass\'\n... \n>>> class ObjectWithMetaClass(metaclass=Meta):\n...     pass\n... \n>>> Object or type(Object())\n<class \'__main__.Object\'>\n>>> ObjectWithMetaClass or type(ObjectWithMetaClass())\nThis is ""Meta"" metaclass\n>>> Object.test\nAttributeError: ...\n>>> ObjectWithMetaClass.test\n\'Worked!!!\'\n>>> type(Object)\n<class \'type\'>\n>>> type(ObjectWithMetaClass)\n<class \'__main__.Meta\'>\n>>> type(type(ObjectWithMetaClass))\n<class \'type\'>\n>>> Object.__bases__\n(<class \'object\'>,)\n>>> ObjectWithMetaClass.__bases__\n(<class \'object\'>,)\n>>> type(ObjectWithMetaClass).__bases__\n(<class \'type\'>,)\n>>> Object.__mro__\n(<class \'__main__.Object\'>, <class \'object\'>)\n>>> ObjectWithMetaClass.__mro__\n(This is ""Meta"" metaclass, <class \'object\'>)\n>>>In other words, when an object was not created (type of object), we looking MetaClass.ShareImprove this answerFollowansweredOct 3, 2021 at 16:06DeltaDelta37011 silver badge99 bronze badges\n\ni want to add a little on whytype.__new__()overtype()first, take a look at following classesIn [1]: class MyMeta(type):\n   ...:     def __new__(cls, cls_name, bases, attrs):\n   ...:         print(cls, cls_name, bases, attrs)\n   ...:         return super().__new__(cls, cls_name, bases, attrs)\n   ...:\n\nIn [2]: class AClass(metaclass=MyMeta):\n   ...:     pass\n   ...:\n<class \'__main__.MyMeta\'> AClass () {\'__module__\': \'__main__\', \'__qualname__\': \'AClass\'}\n\nIn [3]: class BClass:\n   ...:     pass\n   ...:\n\nIn [4]: AClass.__class__\nOut[4]: __main__.MyMeta\n\nIn [5]: BClass.__class__\nOut[5]: type\n\nIn [6]: class SubAClass(AClass):\n   ...:     pass\n   ...:\n<class \'__main__.MyMeta\'> SubAClass (<class \'__main__.AClass\'>,) {\'__module__\': \'__main__\', \'__qualname__\': \'SubAClass\'}type.__new__just assignedMyMetatoAClass.__class__.how?type.__new__would take the first parameter cls, whichis MyMeta, and executeAClass.__class__ = MyMeta.when we tried to create SubAClass a subclass of AClass, Python wouldtake a look at the metaclass we designated to be used to create SubAClassand in this case, we did not pass a metaclass for SubAClass, so Python got a None for metaclass.then Python would try to pick up the metaclass of the first base class of SubAClass, apparently it gotMyMeta.if you calledtype()instead oftype.__new__, then wewould haveAClass.__class__to betype. why?type()still callstype.__new__but passestypeas the first parameter implicitly.that means AClass would be equivalent of BClass, both of them have typeas their__class__attrhow the searching of metaclass works in C code?it works pretty much like what we\'ve just mentionedthe functionbuiltin___build_class__would be called when you defined a classand code is just so straightforwardstatic PyObject *\nbuiltin___build_class__(PyObject *self, PyObject *const *args, Py_ssize_t nargs,\n                        PyObject *kwnames){\n\n    if (meta == NULL) {\n        /* if there are no bases, use type: */\n        if (PyTuple_GET_SIZE(bases) == 0) {\n            meta = (PyObject *) (&PyType_Type);\n        }\n        /* else get the type of the first base */\n        else {\n            PyObject *base0 = PyTuple_GET_ITEM(bases, 0);\n            meta = (PyObject *)Py_TYPE(base0);\n        }\n        Py_INCREF(meta);\n        isclass = 1;  /* meta is really a class */\n    }\n\n    PyObject *margs[3] = {name, bases, ns};\n    cls = PyObject_VectorcallDict(meta, margs, 3, mkw);\n}basically,meta = (PyObject *)Py_TYPE(base0);is everything we want to knowit can be translated to bemeta = Py_TYPE(AClass) = MyMeta = AClass.__class__ShareImprove this answerFolloweditedMay 8, 2023 at 4:07answeredFeb 11, 2023 at 7:55user3197067user31970674155 bronze badges\n\nIf you are similiar with meta-programing. you should known meta-programing is a kind of programing that controls programing.In Python, metaclass is a way of meta-programing.You can use metaclass to create class.Follow rules:Metaclass is used tocreateclass.Python build-in the metaclass. calledtypeYou can customize own metaclass by inheritingtypeBy setting a class\'s metaclass, you can change itsdefault behavior.Code example:# create class A by \'type\'\nA = type(\'A\', (), {\'val\': 5})\nprint(\'A val is\', A().val)\n\n# create class B by \'type\' and add attr is call val\nB = type(\'B\', (A,), {\'val\': 10})\nprint(\'B val is\', B().val)\n\n\n# customize own metaclass\nclass CustomizeMetaclass(type):\n    def __new__(mcs, name, bases, attrs):\n        # All class created by CustomizeMetaclass has add attr val\n        attrs[\'val\'] = 20\n        return super(CustomizeMetaclass, mcs).__new__(\n            mcs, name, bases, attrs)\n\n    def __init__(cls, name, bases, attrs):\n        super(CustomizeMetaclass, cls).__init__(\n            name, bases, attrs)\n\n\nC = CustomizeMetaclass(\'C\', (), {})\nprint(\'C val is\', C().val)\n\n\nclass D(object, metaclass=CustomizeMetaclass):\n    pass\n\n\nprint(\'D val is\', D().val)output:A val is 5\nB val is 10\nC val is 20\nD val is 20ShareImprove this answerFollowansweredMay 19 at 8:45hupohupo4133 bronze badges\n\nIn Python or in any other language we have a type for every variable or object we declare. For getting type of anything(variable,object,etc.) in Python we can use type() function.Bypassing the metaclass keyword in the class definition we can customize the class creation process.class meta(type):\n    pass\nclass baseclass(metaclass=meta): # This is Mestaclass\n    pass\nclass derivedclass(baseclass):\n    pass\nprint(type(meta))\nprint(type(baseclass))\nprint(type(derivedclass))When defining a new class if no metaclass is defined the default type metaclass is used. If a given metaclass is not the object(instance) of type(), in that situation it is used directly as a metaclass.ShareImprove this answerFollowansweredFeb 4, 2023 at 6:35Neha SharmaNeha Sharma3644 bronze badges'}","{'title': 'How do I generate random integers within a specific range in Java?', 'question': 'How do I generate a randomintvalue in a specific range?The following methods have bugs related to integer overflow:randomNum = minimum + (int)(Math.random() * maximum);\n// Bug: `randomNum` can be bigger than `maximum`.Random rn = new Random();\nint n = maximum - minimum + 1;\nint i = rn.nextInt() % n;\nrandomNum =  minimum + i;\n// Bug: `randomNum` can be smaller than `minimum`.javarandomintegerShareImprove this questionFolloweditedDec 2, 2022 at 14:06Mahozad22.4k1717 gold badges146146 silver badges168168 bronze badgesaskedDec 12, 2008 at 18:20user42155user4215549.4k2727 gold badges6161 silver badges6060 bronze badges', 'answers': 'InJava 1.7 or later, the standard way to do this (generate a basic non-cryptographically secure random integer in the range[min, max]) is as follows:import java.util.concurrent.ThreadLocalRandom;\n\n// nextInt is normally exclusive of the top value,\n// so add 1 to make it inclusive\nint randomNum = ThreadLocalRandom.current().nextInt(min, max + 1);Seethe relevant JavaDoc.  This approach has the advantage of not needing to explicitly initialize ajava.util.Randominstance, which can be a source of confusion and error if used inappropriately.However, conversely withThreadLocalRandomthere is no way to explicitly set the seed so it can be difficult to reproduce results in situations where that is useful such as testing or saving game states or similar.As ofJava 17, the psuedorandom number generating classes in the standard library implement theRandomGeneratorinterface.  See the linked JavaDoc for more information.  For example, if a cryptographically strong random number generator is desired, theSecureRandomclass can be used.Before Java 1.7, the standard way to do this is as follows:import java.util.Random;\n\n/**\n * Returns a pseudo-random number between min and max, inclusive.\n * The difference between min and max can be at most\n * <code>Integer.MAX_VALUE - 1</code>.\n *\n * @param min Minimum value\n * @param max Maximum value.  Must be greater than min.\n * @return Integer between min and max, inclusive.\n * @see java.util.Random#nextInt(int)\n */\npublic static int randInt(int min, int max) {\n\n    // NOTE: This will (intentionally) not run as written so that folks\n    // copy-pasting have to think about how to initialize their\n    // Random instance.  Initialization of the Random instance is outside\n    // the main scope of the question, but some decent options are to have\n    // a field that is initialized once and then re-used as needed or to\n    // use ThreadLocalRandom (if using at least Java 1.7).\n    // \n    // In particular, do NOT do \'Random rand = new Random()\' here or you\n    // will get not very good / not very random results.\n    Random rand;\n\n    // nextInt is normally exclusive of the top value,\n    // so add 1 to make it inclusive\n    int randomNum = rand.nextInt((max - min) + 1) + min;\n\n    return randomNum;\n}Seethe relevant JavaDoc.  In practice, thejava.util.Randomclass is often preferable tojava.lang.Math.random().In particular, there is no need to reinvent the random integer generation wheel when there is a straightforward API within the standard library to accomplish the task.ShareImprove this answerFolloweditedMay 31 at 1:37answeredDec 12, 2008 at 18:25Greg CaseGreg Case47.3k33 gold badges2828 silver badges2121 bronze badges\n\nNote that this approach is more biased and less efficient than anextIntapproach,https://stackoverflow.com/a/738651/360211One standard pattern for accomplishing this is:Min + (int)(Math.random() * ((Max - Min) + 1))TheJavaMath library function Math.random() generates a double value in the range[0,1). Notice this range does not include the 1.In order to get a specific range of values first, you need to multiply by the magnitude of the range of values you want covered.Math.random() * ( Max - Min )This returns a value in the range[0,Max-Min), where \'Max-Min\' is not included.For example, if you want[5,10), you need to cover five integer values so you useMath.random() * 5This would return a value in the range[0,5), where 5 is not included.Now you need to shift this range up to the range that you are targeting. You do this by adding the Min value.Min + (Math.random() * (Max - Min))You now will get a value in the range[Min,Max). Following our example, that means[5,10):5 + (Math.random() * (10 - 5))But, this still doesn\'t includeMaxand you are getting a double value. In order to get theMaxvalue included, you need to add 1 to your range parameter(Max - Min)and then truncate the decimal part by casting to an int. This is accomplished via:Min + (int)(Math.random() * ((Max - Min) + 1))And there you have it. A random integer value in the range[Min,Max], or per the example[5,10]:5 + (int)(Math.random() * ((10 - 5) + 1))ShareImprove this answerFolloweditedFeb 8, 2019 at 14:13Martijn Pieters1.1m313313 gold badges4.2k4.2k silver badges3.4k3.4k bronze badgesansweredDec 12, 2008 at 18:35TJ_FischerTJ_Fischer16k22 gold badges2424 silver badges2020 bronze badges\n\nUse:Random ran = new Random();\nint x = ran.nextInt(6) + 5;The integerxis now the random number that has a possible outcome of5-10.ShareImprove this answerFolloweditedFeb 8, 2019 at 14:14Martijn Pieters1.1m313313 gold badges4.2k4.2k silver badges3.4k3.4k bronze badgesansweredSep 4, 2009 at 4:23jacksonjackson\n\nUse:minValue + rn.nextInt(maxValue - minValue + 1)ShareImprove this answerFolloweditedJun 30, 2022 at 5:17learner12111 silver badge1111 bronze badgesansweredDec 12, 2008 at 18:25krosenvoldkrosenvold76.5k3333 gold badges155155 silver badges208208 bronze badges\n\nWithJava 8they introduced the methodints(int randomNumberOrigin, int randomNumberBound)in theRandomclass.For example if you want to generate five random integers (or a single one) in the range [0, 10], just do:Random r = new Random();\nint[] fiveRandomNumbers = r.ints(5, 0, 11).toArray();\nint randomNumber = r.ints(1, 0, 11).findFirst().getAsInt();The first parameter indicates just the size of theIntStreamgenerated (which is the overloaded method of the one that produces an unlimitedIntStream).If you need to do multiple separate calls, you can create an infinite primitive iterator from the stream:public final class IntRandomNumberGenerator {\n\n    private PrimitiveIterator.OfInt randomIterator;\n\n    /**\n     * Initialize a new random number generator that generates\n     * random numbers in the range [min, max]\n     * @param min - the min value (inclusive)\n     * @param max - the max value (inclusive)\n     */\n    public IntRandomNumberGenerator(int min, int max) {\n        randomIterator = new Random().ints(min, max + 1).iterator();\n    }\n\n    /**\n     * Returns a random number in the range (min, max)\n     * @return a random number in the range (min, max)\n     */\n    public int nextInt() {\n        return randomIterator.nextInt();\n    }\n}You can also do it fordoubleandlongvalues.ShareImprove this answerFolloweditedOct 25, 2023 at 3:18M. Justin18.7k99 gold badges117117 silver badges146146 bronze badgesansweredNov 26, 2014 at 18:29Alexis C.Alexis C.93.1k2121 gold badges171171 silver badges178178 bronze badges\n\nYou can edit your second code example to:Random rn = new Random();\nint range = maximum - minimum + 1;\nint randomNum =  rn.nextInt(range) + minimum;ShareImprove this answerFolloweditedFeb 8, 2019 at 13:02answeredDec 12, 2008 at 18:31Bill the LizardBill the Lizard403k210210 gold badges570570 silver badges886886 bronze badges\n\nJust a small modification of your first solution would suffice.Random rand = new Random();\nrandomNum = minimum + rand.nextInt((maximum - minimum) + 1);See more here for implementation ofRandomShareImprove this answerFolloweditedFeb 8, 2019 at 14:14Martijn Pieters1.1m313313 gold badges4.2k4.2k silver badges3.4k3.4k bronze badgesansweredMar 12, 2015 at 22:44hexabunnyhexabunny1,41511 gold badge1111 silver badges1212 bronze badges\n\nThreadLocalRandomequivalent of classjava.util.Randomfor multithreaded environment. Generating a random number is carried out locally in each of the threads. So we have a better performance by reducing the conflicts.int rand = ThreadLocalRandom.current().nextInt(x,y);x,y- intervals e.g. (1,10)ShareImprove this answerFolloweditedMar 23, 2020 at 20:50Ihor Patsian1,30222 gold badges1717 silver badges2727 bronze badgesansweredFeb 12, 2013 at 23:19andrewandrew3,12144 gold badges2525 silver badges2929 bronze badges\n\nTheMath.Randomclass inJavais 0-based. So, if you write something like this:Random rand = new Random();\nint x = rand.nextInt(10);xwill be between0-9inclusive.So, given the following array of25items, the code to generate a random number between0(the base of the array) andarray.lengthwould be:String[] i = new String[25];\nRandom rand = new Random();\nint index = 0;\n\nindex = rand.nextInt( i.length );Sincei.lengthwill return25, thenextInt( i.length )will return a number between the range of0-24. The other option is going withMath.Randomwhich works in the same way.index = (int) Math.floor(Math.random() * i.length);For a better understanding, check out forum postRandom Intervals (archive.org).ShareImprove this answerFolloweditedFeb 8, 2019 at 14:14Martijn Pieters1.1m313313 gold badges4.2k4.2k silver badges3.4k3.4k bronze badgesansweredJan 8, 2009 at 15:04Matt RMatt R2,59777 gold badges3030 silver badges4646 bronze badges\n\nIt can be done by simply doing the statement:Randomizer.generate(0, 10); // Minimum of zero and maximum of tenBelow is its source code.FileRandomizer.javapublic class Randomizer {\n    public static int generate(int min, int max) {\n        return min + (int)(Math.random() * ((max - min) + 1));\n    }\n}It is just clean and simple.ShareImprove this answerFolloweditedApr 22, 2022 at 14:01Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredSep 1, 2013 at 2:53Abel CallejoAbel Callejo14.5k1010 gold badges7272 silver badges9191 bronze badges\n\nForgive me for being fastidious, but the solution suggested by the majority, i.e.,min + rng.nextInt(max - min + 1)), seems perilous due to the fact that:rng.nextInt(n)cannot reachInteger.MAX_VALUE.(max - min)may cause overflow whenminis negative.A foolproof solution would return correct results for anymin <= maxwithin [Integer.MIN_VALUE,Integer.MAX_VALUE]. Consider the following naive implementation:int nextIntInRange(int min, int max, Random rng) {\n   if (min > max) {\n      throw new IllegalArgumentException(""Cannot draw random int from invalid range ["" + min + "", "" + max + ""]."");\n   }\n   int diff = max - min;\n   if (diff >= 0 && diff != Integer.MAX_VALUE) {\n      return (min + rng.nextInt(diff + 1));\n   }\n   int i;\n   do {\n      i = rng.nextInt();\n   } while (i < min || i > max);\n   return i;\n}Although inefficient, note that the probability of success in thewhileloop will always be 50% or higher.ShareImprove this answerFolloweditedApr 23, 2018 at 5:21Azeem13.5k44 gold badges3232 silver badges4545 bronze badgesansweredJan 10, 2011 at 13:19Joel SjöstrandJoel Sjöstrand65555 silver badges44 bronze badges\n\nI wonder if any of the random number generating methods provided by anApache Commons Mathlibrary would fit the bill.For example:RandomDataGenerator.nextIntorRandomDataGenerator.nextLongShareImprove this answerFolloweditedNov 16, 2016 at 12:08beat1,97711 gold badge2323 silver badges3838 bronze badgesansweredDec 12, 2008 at 18:27ChinneryChinnery10.2k22 gold badges2424 silver badges2525 bronze badges\n\nI use this:/**\n   * @param min - The minimum.\n   * @param max - The maximum.\n   * @return A random double between these numbers (inclusive the minimum and maximum).\n   */\n public static double getRandom(double min, double max) {\n   return (Math.random() * (max + 1 - min)) + min;\n }You can cast it to an Integer if you want.ShareImprove this answerFolloweditedAug 1, 2019 at 6:25answeredMay 28, 2017 at 14:30SimonSimon2,90633 gold badges3333 silver badges4646 bronze badges\n\nAs of Java 7, you should no longer useRandom. For most uses, the\nrandom number generator of choice is nowThreadLocalRandom.For fork join pools and parallel\nstreams, useSplittableRandom.Joshua Bloch. Effective Java. Third Edition.Starting from Java 8For fork join pools and parallel streams, useSplittableRandom(it implementsSplittableGeneratorinterface, see Java 17 notes below) that is usually faster, has a better statistical independence and uniformity properties in comparison withRandom.To generate a randomintin the range[0, 1_000]:int n = new SplittableRandom().nextInt(0, 1_001);To generate a randomint[100]array of values in the range[0, 1_000]:int[] a = new SplittableRandom().ints(100, 0, 1_001).parallel().toArray();To return a Stream of random values:IntStream stream = new SplittableRandom().ints(100, 0, 1_001);Java 17It is recommended that multithreaded applications\nuse eitherThreadLocalRandomor (preferably) pseudorandom number\ngenerators that implement theRandomGenerator.SplittableGeneratororRandomGenerator.JumpableGeneratorinterface.RandomGenerator1documentation.1 - RandomGenerator is a modern interface that was introduced in Java 17. It is a common protocol for objects that generate random or pseudorandom sequences of numbers and has more features and methods than Random.ShareImprove this answerFolloweditedSep 9, 2023 at 21:53answeredApr 11, 2018 at 21:54Oleksandr PyrohovOleksandr Pyrohov15.6k66 gold badges6868 silver badges9595 bronze badges\n\nrand.nextInt((max+1) - min) + min;ShareImprove this answerFolloweditedDec 20, 2017 at 19:34Youcef LAIDANI59k1919 gold badges102102 silver badges165165 bronze badgesansweredDec 12, 2008 at 18:25Michael Myers♦Michael Myers191k4747 gold badges292292 silver badges294294 bronze badges\n\nLet us take an example.Suppose I wish to generate a number between5-10:int max = 10;\nint min = 5;\nint diff = max - min;\nRandom rn = new Random();\nint i = rn.nextInt(diff + 1);\ni += min;\nSystem.out.print(""The Random Number is "" + i);Let us understand this...Initialize max with highest value and min with the lowest value.Now, we need to determine how many possible values can be obtained. For this example, it would be:5, 6, 7, 8, 9, 10So, count of this would be max - min + 1.i.e. 10 - 5 + 1 = 6The random number will generate a number between0-5.i.e. 0, 1, 2, 3, 4, 5Adding theminvalue to the random number would produce:5, 6, 7, 8, 9, 10Hence we obtain the desired range.ShareImprove this answerFolloweditedFeb 8, 2019 at 14:14Martijn Pieters1.1m313313 gold badges4.2k4.2k silver badges3.4k3.4k bronze badgesansweredAug 3, 2014 at 3:07Sunil ChawlaSunil Chawla35133 silver badges66 bronze badges\n\nGenerate a random number for the difference of min and max by using thenextint(n)method and then add min number to the result:Random rn = new Random();\nint result = rn.nextInt(max - min + 1) + min;\nSystem.out.println(result);ShareImprove this answerFolloweditedFeb 8, 2019 at 14:15Martijn Pieters1.1m313313 gold badges4.2k4.2k silver badges3.4k3.4k bronze badgesansweredMay 27, 2015 at 10:43gifpifgifpif4,72744 gold badges3333 silver badges4747 bronze badges\n\nTo generate a random number ""in between two numbers"", use the following code:Random r = new Random();\nint lowerBound = 1;\nint upperBound = 11;\nint result = r.nextInt(upperBound-lowerBound) + lowerBound;This gives you a random number in between 1 (inclusive) and 11 (exclusive), so initialize the upperBound value by adding 1. For example, if you want to generate random number between 1 to 10 then initialize the upperBound number with 11 instead of 10.ShareImprove this answerFolloweditedFeb 8, 2019 at 14:09Martijn Pieters1.1m313313 gold badges4.2k4.2k silver badges3.4k3.4k bronze badgesansweredNov 2, 2017 at 6:38Lawakush KurmiLawakush Kurmi2,90611 gold badge1717 silver badges2929 bronze badges\n\nJust use theRandomclass:Random ran = new Random();\n// Assumes max and min are non-negative.\nint randomInt = min + ran.nextInt(max - min + 1);ShareImprove this answerFolloweditedFeb 8, 2019 at 14:15Martijn Pieters1.1m313313 gold badges4.2k4.2k silver badges3.4k3.4k bronze badgesansweredDec 24, 2013 at 13:33Prof MoProf Mo48355 silver badges99 bronze badges\n\nThese methods might be convenient to use:This method will return a random numberbetweenthe provided minimum and maximum value:public static int getRandomNumberBetween(int min, int max) {\n    Random foo = new Random();\n    int randomNumber = foo.nextInt(max - min) + min;\n    if (randomNumber == min) {\n        // Since the random number is between the min and max values, simply add 1\n        return min + 1;\n    } else {\n        return randomNumber;\n    }\n}and this method will return a random numberfromthe provided minimum and maximum value (so the generated number could also be the minimum or maximum number):public static int getRandomNumberFrom(int min, int max) {\n    Random foo = new Random();\n    int randomNumber = foo.nextInt((max + 1) - min) + min;\n\n    return randomNumber;\n}ShareImprove this answerFolloweditedApr 22, 2022 at 13:58Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredAug 12, 2012 at 15:01Luke TaylorLuke Taylor9,5411313 gold badges4343 silver badges7373 bronze badges\n\nIn case of rolling a dice it would be random number between 1 to 6 (not 0 to 6), so:face = 1 + randomNumbers.nextInt(6);ShareImprove this answerFolloweditedApr 21, 2016 at 6:01GAMITG3,82077 gold badges3333 silver badges5151 bronze badgesansweredFeb 16, 2010 at 8:50samsam21722 silver badges22 bronze badges\n\nint random = minimum + Double.valueOf(Math.random()*(maximum-minimum )).intValue();Or take a look to RandomUtils fromApache Commons.ShareImprove this answerFolloweditedFeb 8, 2019 at 14:11Martijn Pieters1.1m313313 gold badges4.2k4.2k silver badges3.4k3.4k bronze badgesansweredDec 12, 2008 at 18:28user2427user24277,9221919 gold badges6262 silver badges7171 bronze badges\n\nYou can achieve that concisely in Java 8:Random random = new Random();\n\nint max = 10;\nint min = 5;\nint totalNumber = 10;\n\nIntStream stream = random.ints(totalNumber, min, max);\nstream.forEach(System.out::println);ShareImprove this answerFolloweditedFeb 8, 2019 at 14:14Martijn Pieters1.1m313313 gold badges4.2k4.2k silver badges3.4k3.4k bronze badgesansweredJun 20, 2017 at 12:39user5150135user5150135\n\nHere\'s a helpful class to generate randomintsin a range with any combination of inclusive/exclusive bounds:import java.util.Random;\n\npublic class RandomRange extends Random {\n    public int nextIncInc(int min, int max) {\n        return nextInt(max - min + 1) + min;\n    }\n\n    public int nextExcInc(int min, int max) {\n        return nextInt(max - min) + 1 + min;\n    }\n\n    public int nextExcExc(int min, int max) {\n        return nextInt(max - min - 1) + 1 + min;\n    }\n\n    public int nextIncExc(int min, int max) {\n        return nextInt(max - min) + min;\n    }\n}ShareImprove this answerFollowansweredFeb 15, 2012 at 16:19Garrett HallGarrett Hall29.9k1010 gold badges6262 silver badges7777 bronze badges\n\nAnother option is just usingApache Commons:import org.apache.commons.math.random.RandomData;\nimport org.apache.commons.math.random.RandomDataImpl;\n\npublic void method() {\n    RandomData randomData = new RandomDataImpl();\n    int number = randomData.nextInt(5, 10);\n    // ...\n }ShareImprove this answerFolloweditedApr 23, 2018 at 5:22Azeem13.5k44 gold badges3232 silver badges4545 bronze badgesansweredJan 18, 2012 at 16:15gerardwgerardw6,2174949 silver badges4040 bronze badges\n\nI found this exampleGenerate random numbers:This example generates random integers in a specific range.import java.util.Random;\n\n/** Generate random integers in a certain range. */\npublic final class RandomRange {\n\n  public static final void main(String... aArgs){\n    log(""Generating random integers in the range 1..10."");\n\n    int START = 1;\n    int END = 10;\n    Random random = new Random();\n    for (int idx = 1; idx <= 10; ++idx){\n      showRandomInteger(START, END, random);\n    }\n\n    log(""Done."");\n  }\n\n  private static void showRandomInteger(int aStart, int aEnd, Random aRandom){\n    if ( aStart > aEnd ) {\n      throw new IllegalArgumentException(""Start cannot exceed End."");\n    }\n    //get the range, casting to long to avoid overflow problems\n    long range = (long)aEnd - (long)aStart + 1;\n    // compute a fraction of the range, 0 <= frac < range\n    long fraction = (long)(range * aRandom.nextDouble());\n    int randomNumber =  (int)(fraction + aStart);    \n    log(""Generated : "" + randomNumber);\n  }\n\n  private static void log(String aMessage){\n    System.out.println(aMessage);\n  }\n}An example run of this class :Generating random integers in the range 1..10.\nGenerated : 9\nGenerated : 3\nGenerated : 3\nGenerated : 9\nGenerated : 4\nGenerated : 1\nGenerated : 3\nGenerated : 9\nGenerated : 10\nGenerated : 10\nDone.ShareImprove this answerFolloweditedFeb 8, 2019 at 14:14Martijn Pieters1.1m313313 gold badges4.2k4.2k silver badges3.4k3.4k bronze badgesansweredJun 7, 2012 at 10:38HospesHospes41944 silver badges1010 bronze badges\n\npublic static Random RANDOM = new Random(System.nanoTime());\n\npublic static final float random(final float pMin, final float pMax) {\n    return pMin + RANDOM.nextFloat() * (pMax - pMin);\n}ShareImprove this answerFolloweditedFeb 8, 2019 at 14:15Martijn Pieters1.1m313313 gold badges4.2k4.2k silver badges3.4k3.4k bronze badgesansweredJul 13, 2011 at 11:31AZ_AZ_21.8k2525 gold badges146146 silver badges192192 bronze badges\n\nHere is a simple sample that shows how to generate random number from closed[min, max]range, whilemin <= max is trueYou can reuse it as field in hole class, also having allRandom.classmethods in one placeResults example:RandomUtils random = new RandomUtils();\nrandom.nextInt(0, 0); // returns 0\nrandom.nextInt(10, 10); // returns 10\nrandom.nextInt(-10, 10); // returns numbers from -10 to 10 (-10, -9....9, 10)\nrandom.nextInt(10, -10); // throws assertSources:import junit.framework.Assert;\nimport java.util.Random;\n\npublic class RandomUtils extends Random {\n\n    /**\n     * @param min generated value. Can\'t be > then max\n     * @param max generated value\n     * @return values in closed range [min, max].\n     */\n    public int nextInt(int min, int max) {\n        Assert.assertFalse(""min can\'t be > then max; values:["" + min + "", "" + max + ""]"", min > max);\n        if (min == max) {\n            return max;\n        }\n\n        return nextInt(max - min + 1) + min;\n    }\n}ShareImprove this answerFolloweditedNov 28, 2014 at 0:58answeredNov 28, 2014 at 0:50Yakiv MospanYakiv Mospan8,20433 gold badges3232 silver badges3535 bronze badges\n\nIt\'s better to useSecureRandomrather than just Random.public static int generateRandomInteger(int min, int max) {\n    SecureRandom rand = new SecureRandom();\n    rand.setSeed(new Date().getTime());\n    int randomNum = rand.nextInt((max - min) + 1) + min;\n    return randomNum;\n}ShareImprove this answerFolloweditedJul 6, 2016 at 19:19Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMar 26, 2015 at 13:02grepgrep5,5851212 gold badges6363 silver badges113113 bronze badges\n\nTheint nextInt(int origin, int bound)method was added in Java 17 as part of theRandomGeneratorinterface.  This will generate a random integer in a given range:// Returns a random int between minimum (inclusive) & maximum (exclusive)\nint randomNum = RandomGenerator.getDefault().nextInt(minimum, maximum);This interface is used for new random generation algorithms added in Java 17:RandomGenerator.getDefault().nextInt(minimum, maximum);\nRandomGenerator.of(""L128X1024MixRandom"").nextInt(minimum, maximum);\nRandomGenerator.of(""Xoroshiro128PlusPlus"").nextInt(minimum, maximum);\n// ...TheRandomGeneratorinterface was also added to the existing random generation classes (Random,SecureRandom,SplittableRandom, andThreadLocalRandom).  Therefore, as of Java 17, those four classes also have this boundednextIntmethod:new Random().nextInt(minimum, maximum);\nnew SecureRandom().nextInt(minimum, maximum);\nnew SplittableRandom().nextInt(minimum, maximum);\nnew ThreadLocalRandom().nextInt(minimum, maximum);This method is new toRandomandSecureRandomas of Java 17.  Prior to Java 17,ThreadLocalRandomandSplittableRandomalready had this method, though it was not specified by a shared interface.ShareImprove this answerFolloweditedJul 3, 2023 at 20:17answeredDec 30, 2021 at 8:30M. JustinM. Justin18.7k99 gold badges117117 silver badges146146 bronze badges'}","{'title': 'How do I generate a random integer in C#?', 'question': 'How do I generate a random integer in C#?c#randomShareImprove this questionFolloweditedJun 21, 2022 at 21:20ADJenks3,2142929 silver badges4343 bronze badgesaskedApr 24, 2010 at 23:09RellaRella66.3k111111 gold badges371371 silver badges641641 bronze badges', 'answers': 'TheRandomclassis used to create random numbers. (Pseudo-random that is of course.).Example:Random rnd = new Random();\nint month  = rnd.Next(1, 13);  // creates a number between 1 and 12\nint dice   = rnd.Next(1, 7);   // creates a number between 1 and 6\nint card   = rnd.Next(52);     // creates a number between 0 and 51If you are going to create more than one random number, you should keep theRandominstance and reuse it. If you create new instances too close in time, they will produce the same series of random numbers as the random generator is seeded from the system clock.ShareImprove this answerFolloweditedFeb 27, 2022 at 2:11answeredApr 24, 2010 at 23:19GuffaGuffa696k109109 gold badges748748 silver badges1k1k bronze badges\n\nThe question looks very simple but the answer is  bit complicated. If you see almost everyone has suggested to use the Random class and some have suggested to use the RNG crypto class. But then when to choose what.For that we need to first understand the term RANDOMNESS and the philosophy behind it.I would encourage you to watch this video that I made which goes in depth in the philosophy of RANDOMNESS using C#https://www.youtube.com/watch?v=tCYxc-2-3fYFirst thing let us understand the philosophy of RANDOMNESS.  When we tell a person to choose between RED,  GREEN and YELLOW  what happens internally. What makes a person choose RED or YELLOW or GREEN?Some initial thought goes into the persons mind which decides his choice, it can be favorite color , lucky color and so on. In other words some initial trigger which we term in RANDOM as SEED.This SEED is the beginning point, the trigger which instigates him to select the RANDOM value.Now if a SEED is easy to guess then those kind of random numbers are termed asPSEUDOand when a seed is difficult to guess those random numbers are termedSECUREDrandom numbers.For example a person chooses is color depending on weather and sound combination then  it would be difficult to guess the initial seed.Now let me make an important statement:-*“Random” class generates only PSEUDO random number and to generate SECURE random number we need to use “RNGCryptoServiceProvider” class.Random class takes seed values from your CPU clock which is very much predictable.  So in other words RANDOM class of C# generates pseudo random numbers , below is the code for the same.Random random = new Random();\nint randomNumber = random.Next();While theRNGCryptoServiceProviderclass uses OS entropy to generate seeds. OS entropy is a random value which is generated using sound, mouse click, and keyboard timings, thermal temp etc. Below goes the code for the same.using (RNGCryptoServiceProvider rg = new RNGCryptoServiceProvider()) \n{ \n    byte[] rno = new byte[5];    \n    rg.GetBytes(rno);    \n    int randomvalue = BitConverter.ToInt32(rno, 0); \n}To understand OS entropy see this video of mine starting at 14:30https://www.youtube.com/watch?v=tCYxc-2-3fYwhere the logic of OS entropy is explained. So putting in simple words RNG Crypto generates SECURE random numbers.ShareImprove this answerFolloweditedDec 21, 2022 at 3:22Henry Ecker♦35.2k1919 gold badges4444 silver badges6262 bronze badgesansweredJun 14, 2016 at 6:27Shivprasad KoiralaShivprasad Koirala28.3k77 gold badges8686 silver badges7575 bronze badges\n\nEvery time you donew Random()it is initialized. This means that in a tight loop you get the same value lots of times. You should keep a singleRandominstance and keep usingNexton the same instance.//Function to get random number\nprivate static readonly Random getrandom = new Random();\n\npublic static int GetRandomNumber(int min, int max)\n{\n    lock(getrandom) // synchronize\n    {\n        return getrandom.Next(min, max);\n    }\n}ShareImprove this answerFolloweditedNov 11, 2021 at 10:36shA.t16.9k55 gold badges5757 silver badges119119 bronze badgesansweredOct 4, 2010 at 11:52Pankaj MishraPankaj Mishra20.3k1616 gold badges6666 silver badges103103 bronze badges\n\nBeware thatnew Random()is seeded on current timestamp.If you want to generatejust one numberyou can use:new Random().Next( int.MinValue, int.MaxValue )For more information, look at theRandomclass, though please note:However, because the clock has finite resolution, using the parameterless constructor to create different Random objects in close succession creates random number generators that produce identical sequences of random numbersSo do not use this code to generate a series of random number.ShareImprove this answerFolloweditedDec 22, 2017 at 22:03answeredApr 24, 2010 at 23:10Fyodor SoikinFyodor Soikin80k1010 gold badges130130 silver badges177177 bronze badges\n\nRandom r = new Random();\nint n = r.Next();ShareImprove this answerFollowansweredApr 24, 2010 at 23:10JorenJoren14.7k33 gold badges5151 silver badges5454 bronze badges\n\nI wanted to add a cryptographically secure version:RNGCryptoServiceProvider Class (MSDNordotnetperls)It implements IDisposable.using (RNGCryptoServiceProvider rng = new RNGCryptoServiceProvider())\n{\n   byte[] randomNumber = new byte[4];//4 for int32\n   rng.GetBytes(randomNumber);\n   int value = BitConverter.ToInt32(randomNumber, 0);\n}ShareImprove this answerFollowansweredDec 18, 2015 at 21:02joordan831joordan83172055 silver badges66 bronze badges\n\ncreate a Random objectRandom rand = new Random();and use itint randomNumber = rand.Next(min, max);you don\'t have to initializenew Random()every time you need a random number, initiate one Random then use it as many times as you need inside a loop or whateverShareImprove this answerFolloweditedJun 2, 2020 at 16:33answeredNov 1, 2015 at 12:30Mohamed AliMohamed Ali3,94711 gold badge3636 silver badges4141 bronze badges\n\nAs described in other answers, a good secured approach would be to use a secure cryptographic generator. All examples here show the usage ofRNGCryptoServiceProviderwhich is writing a long code compared to the solution I suggest.UseRandomNumberGeneratorwhich is written on top of cryptography API’s. It is as secure asRNGCryptoServiceProviderand same randomness.// Gives a random number for the integer range.\n// You can simply update the parameters as your needs.\nRandomNumberGenerator.GetInt32(int.MinValue, int.MaxValue);ShareImprove this answerFollowansweredDec 19, 2021 at 16:55Misha ZaslavskyMisha Zaslavsky9,2741212 gold badges7878 silver badges121121 bronze badges\n\nYou could use Jon Skeet\'sStaticRandommethod inside the MiscUtil class library that he built for a pseudo-random number.using MiscUtil;\n...\n\nfor (int i = 0; i < 100; \n    Console.WriteLine(StaticRandom.Next());ShareImprove this answerFolloweditedFeb 15, 2020 at 20:47Lee Grissom9,88377 gold badges4040 silver badges4848 bronze badgesansweredApr 24, 2010 at 23:31mbcrumpmbcrump97433 gold badges77 silver badges1515 bronze badges\n\nI\'ve tried all of these solutions excluding the COBOL answer... lolNone of these solutions were good enough. I needed randoms in a fast for int loop and I was getting tons of duplicate values even in very wide ranges. After settling for kind of random results far too long I decided to finally tackle this problem once and for all.It\'s all about the seed.I create a random integer by parsing out the non-digits from Guid, then I use that to instantiate my Random class.public int GenerateRandom(int min, int max)\n{\n    var seed = Convert.ToInt32(Regex.Match(Guid.NewGuid().ToString(), @""\\d+"").Value);\n    return new Random(seed).Next(min, max);\n}Update: Seeding isn\'t necessary if you instantiate the Random class once. So it\'d be best to create a static class and call a method off that.public static class IntUtil\n{\n   private static Random random;\n\n   private static void Init()\n   {\n      if (random == null) random = new Random();\n   }\n\n   public static int Random(int min, int max)\n   {\n      Init();\n      return random.Next(min, max);\n   }\n}Then you can use the static class like so..for(var i = 0; i < 1000; i++)\n{\n   int randomNumber = IntUtil.Random(1,100);\n   Console.WriteLine(randomNumber); \n}I admit I like this approach better.ShareImprove this answerFolloweditedAug 20, 2016 at 4:50answeredMay 19, 2015 at 21:19ProximoProximo6,4631111 gold badges5252 silver badges6868 bronze badges\n\nThe numbers generated by the inbuiltRandomclass (System.Random) generates pseudo random numbers.If you want true random numbers, the closest we can get is ""secure Pseudo Random Generator"" which can be generated by using the Cryptographic classes in C# such asRNGCryptoServiceProvider.Even so, if you still needtruerandom numbers you will need to use an external source such as devices accounting for radioactive decay as a seed for an random number generator. Since, by definition, any number generated by purely algorithmic means cannot be truly random.ShareImprove this answerFollowansweredJul 22, 2015 at 15:40Anshita AryaAnshita Arya18111 silver badge66 bronze badges\n\nModified answer fromhere.If you have access to an Intel Secure Key compatible CPU, you can generate real random numbers and strings using these libraries:https://github.com/JebteK/RdRandandhttps://www.rdrand.com/Just download the latest version fromhere, include Jebtek.RdRand and add a using statement for it. Then, all you need to do is this:// Check to see if this is a compatible CPU\nbool isAvailable = RdRandom.GeneratorAvailable();\n\n// Generate 10 random characters\nstring key       = RdRandom.GenerateKey(10);\n\n // Generate 64 random characters, useful for API keys \nstring apiKey    = RdRandom.GenerateAPIKey();\n\n// Generate an array of 10 random bytes\nbyte[] b         = RdRandom.GenerateBytes(10);\n\n// Generate a random unsigned int\nuint i           = RdRandom.GenerateUnsignedInt();If you don\'t have a compatible CPU to execute the code on, just use the RESTful services at rdrand.com. With the RdRandom wrapper library included in your project, you would just need to do this (you get 1000 free calls when you signup):string ret = Randomizer.GenerateKey(<length>, ""<key>"");\nuint ret   = Randomizer.GenerateUInt(""<key>"");\nbyte[] ret = Randomizer.GenerateBytes(<length>, ""<key>"");ShareImprove this answerFolloweditedMay 3, 2019 at 7:41Matt26.4k1818 gold badges122122 silver badges192192 bronze badgesansweredMar 27, 2014 at 19:36JebaDaHutJebaDaHut54155 silver badges1111 bronze badges\n\nIn .NET 6 you can useRandom.Shared:int random = Random.Shared.Next();And in .NET 8 preview this class was added with many new missing methods, e.g. Shuffle array randomly, etc.ShareImprove this answerFollowansweredMar 8, 2023 at 10:47Misha ZaslavskyMisha Zaslavsky9,2741212 gold badges7878 silver badges121121 bronze badges\n\nJust as a note for future reference.If you\'re using .NET Core, multiple Random instances aren\'t as dangerous as before. I\'m aware that this question is from 2010, but since this question is old but has some attraction, I think it\'s a good thing to document the change.You may refer to this question I made a while back:Did Microsoft change Random default seed?Basically, they have changed the default seed fromEnvironment.TickCounttoGuid.NewGuid().GetHashCode(), so if you create 2 instances of Random it shouldn\'t display the same numbers (1:4 billion).You can see the file diffs from .NET Framework/.NET Core (2.0.0+) here:https://github.com/dotnet/coreclr/pull/2192/commits/9f6a0b675e5ac0065a268554de49162c539ff66dIt isn\'t as safe as RNGCryptoServiceProvider, but at least it won\'t give you weird results.By @Enigmativity:This is now out-of-date. There was a considerable backlash against using Guids. The code is now Interop.GetRandomBytes((byte*)&result, sizeof(int));ShareImprove this answerFolloweditedApr 19, 2022 at 5:35answeredSep 26, 2019 at 15:17Lucca FerriLucca Ferri1,3271212 silver badges2424 bronze badges\n\nWhile this is okay:Random random = new Random();\nint randomNumber = random.Next()You\'d want to control the limit (min and max mumbers) most of the time. So you need to specify where the random number starts and ends.TheNext()method accepts two parameters, min and max.So if i want my random number to be between say 5 and 15, I\'d just doint randomNumber = random.Next(5, 16)ShareImprove this answerFolloweditedJul 26, 2016 at 16:57Gordon Bell13.6k33 gold badges4646 silver badges6565 bronze badgesansweredAug 22, 2014 at 10:24Ojonugwa Jude OchalifuOjonugwa Jude Ochalifu27.1k2626 gold badges123123 silver badges136136 bronze badges\n\nThis is the class I use. Works likeRandomNumber.GenerateRandom(1, 666)internal static class RandomNumber\n{\n    private static Random r = new Random();\n    private static object l = new object();\n    private static Random globalRandom = new Random();\n    [ThreadStatic]\n    private static Random localRandom;\n    public static int GenerateNewRandom(int min, int max)\n    {\n        return new Random().Next(min, max);\n    }\n    public static int GenerateLockedRandom(int min, int max)\n    {\n        int result;\n        lock (RandomNumber.l)\n        {\n            result = RandomNumber.r.Next(min, max);\n        }\n        return result;\n    }\n    public static int GenerateRandom(int min, int max)\n    {\n        Random random = RandomNumber.localRandom;\n        if (random == null)\n        {\n            int seed;\n            lock (RandomNumber.globalRandom)\n            {\n                seed = RandomNumber.globalRandom.Next();\n            }\n            random = (RandomNumber.localRandom = new Random(seed));\n        }\n        return random.Next(min, max);\n    }\n}ShareImprove this answerFolloweditedFeb 11, 2018 at 17:10MechMK13,35077 gold badges3939 silver badges5959 bronze badgesansweredDec 7, 2014 at 8:15AskethZAskethZ8711 silver badge11 bronze badge\n\nI wanted to demonstrate what happens when a new random generator is used every time. Suppose you have two methods or two classes each requiring a random number. And naively you code them like:public class A\n{\n    public A()\n    {\n        var rnd=new Random();\n        ID=rnd.Next();\n    }\n    public int ID { get; private set; }\n}\npublic class B\n{\n    public B()\n    {\n        var rnd=new Random();\n        ID=rnd.Next();\n    }\n    public int ID { get; private set; }\n}Do you think you will get two different IDs?NOPEclass Program\n{\n    static void Main(string[] args)\n    {\n        A a=new A();\n        B b=new B();\n\n        int ida=a.ID, idb=b.ID;\n        // ida = 1452879101\n        // idb = 1452879101\n    }\n}The solution is toalwaysuse a single static random generator. Like this:public static class Utils\n{\n    public static readonly Random random=new Random();\n}\n\npublic class A\n{\n    public A()\n    {\n        ID=Utils.random.Next();\n    }\n    public int ID { get; private set; }\n}\npublic class B\n{\n    public B()\n    {\n        ID=Utils.random.Next();\n    }\n    public int ID { get; private set; }\n}ShareImprove this answerFollowansweredApr 8, 2016 at 19:24John AlexiouJohn Alexiou29k1111 gold badges8080 silver badges134134 bronze badges\n\nNumbers calculated by a computer through a deterministic process, cannot, by definition, be random.If you want a genuine random numbers, the randomness comes from atmospheric noise or radioactive decay.You can try for example RANDOM.ORG (it reduces performance)ShareImprove this answerFollowansweredMar 14, 2016 at 13:58Stefano LonatiStefano Lonati70466 silver badges1515 bronze badges\n\nRandom rand = new Random();\nint name = rand.Next()Put whatever values you want in the second parentheses\nmake sure you have set a name by writing prop and double tab to generate the codeShareImprove this answerFolloweditedJul 27, 2016 at 9:33shA.t16.9k55 gold badges5757 silver badges119119 bronze badgesansweredJun 25, 2014 at 2:28user3773367user37733678111 bronze badge\n\nFor strong random seed I always use CryptoRNG and not Time.using System;\nusing System.Security.Cryptography;\n\npublic class Program\n{\n    public static void Main()\n    {\n        var random = new Random(GetSeed());\n        Console.WriteLine(random.Next());\n    }\n\n    public static int GetSeed() \n    {\n        using (var rng = new RNGCryptoServiceProvider())\n        {\n            var intBytes = new byte[4];\n            rng.GetBytes(intBytes);\n            return BitConverter.ToInt32(intBytes, 0);\n        }\n    }\n}ShareImprove this answerFollowansweredMay 25, 2018 at 17:53Davit TvildianiDavit Tvildiani1,95533 gold badges1919 silver badges2929 bronze badges\n\nIf you want a CSRNG to generate random numbers between a min and max, this is for you. It will initializeRandomclasses with secure random seeds.class SecureRandom : Random\n    {\n        public static byte[] GetBytes(ulong length)\n        {\n            RNGCryptoServiceProvider RNG = new RNGCryptoServiceProvider();\n            byte[] bytes = new byte[length];\n            RNG.GetBytes(bytes);\n            RNG.Dispose();\n            return bytes;\n        }\n        public SecureRandom() : base(BitConverter.ToInt32(GetBytes(4), 0))\n        {\n\n        }\n        public int GetRandomInt(int min, int max)\n        {\n            int treashold = max - min;\n            if(treashold != Math.Abs(treashold))\n            {\n                throw new ArithmeticException(""The minimum value can\'t exceed the maximum value!"");\n            }\n            if (treashold == 0)\n            {\n                throw new ArithmeticException(""The minimum value can\'t be the same as the maximum value!"");\n            }\n            return min + (Next() % treashold);\n        }\n        public static int GetRandomIntStatic(int min, int max)\n        {\n            int treashold = max - min;\n            if (treashold != Math.Abs(treashold))\n            {\n                throw new ArithmeticException(""The minimum value can\'t exceed the maximum value!"");\n            }\n            if(treashold == 0)\n            {\n                throw new ArithmeticException(""The minimum value can\'t be the same as the maximum value!"");\n            }\n            return min + (BitConverter.ToInt32(GetBytes(4), 0) % treashold);\n        }\n    }ShareImprove this answerFollowansweredOct 28, 2019 at 0:38Jessie LesbianJessie Lesbian1,4061111 silver badges1414 bronze badges\n\nRandom random = new Random ();\nint randomNumber = random.Next (lowerBound,upperBound);ShareImprove this answerFolloweditedJun 14, 2018 at 11:26Andrius Naruševičius8,48888 gold badges5050 silver badges8383 bronze badgesansweredMar 17, 2017 at 2:59ReRouteReRoute37111 silver badge1313 bronze badges\n\nSorry, OP indeed requires a randomintvalue, but for the simple purpose to share knowledge if you want a randomBigIntegervalue you can use following statement:BigInteger randomVal = BigInteger.Abs(BigInteger.Parse(Guid.NewGuid().ToString().Replace(""-"",""""), NumberStyles.AllowHexSpecifier));ShareImprove this answerFolloweditedDec 10, 2018 at 12:19answeredDec 8, 2018 at 14:38Ciro CorvinoCiro Corvino2,10866 gold badges2323 silver badges3434 bronze badges\n\nThere are a number utility functions or services that are better cached in the same way that System.Random should be, so it lends itself to a generic implementation:static public class CachedService<T> where T : new() {\n    static public T Get { get; } = new T();\n}To use for random (or similar):CachedService<System.Random>.Get.Next(999);ShareImprove this answerFollowansweredJul 18, 2020 at 8:16Matt ParkinsMatt Parkins24.6k99 gold badges5151 silver badges6060 bronze badges\n\nI will assume that you want a uniformly distributed random number generator like below. Random number in most of programming language including C# and C++ is not properly shuffled before using them. This means that you will get the same number over and over, which isn\'t really random.  To avoid to draw the same number over and over, you need a seed. Typically, ticks in time is ok for this task. Remember that you will get the same number over and over if you are using the same seed every time. So try to use varying seed always. Time is a good source for seed because they chage always.int GetRandomNumber(int min, int max)\n{\n    Random rand = new Random((int)DateTime.Now.Ticks);\n    return rand.Next(min, max);\n}if you are looking for random number generator for normal distribution, you might use a Box-Muller transformation. Check the answer by yoyoyoyosef in Random Gaussian Variable Question. Since you want integer, you have to cast double value to integer at the end.Random rand = new Random(); //reuse this if you are generating many\ndouble u1 = 1.0-rand.NextDouble(); //uniform(0,1] random doubles\ndouble u2 = 1.0-rand.NextDouble();\ndouble randStdNormal = Math.Sqrt(-2.0 * Math.Log(u1)) *\n         Math.Sin(2.0 * Math.PI * u2); //random normal(0,1)\ndouble randNormal =\n         mean + stdDev * randStdNormal; //random normal(mean,stdDev^2)Random Gaussian VariablesShareImprove this answerFolloweditedMay 22, 2018 at 13:18answeredMay 14, 2018 at 21:52auto9817auto981715311 gold badge33 silver badges1212 bronze badges\n\nUse one instance of Random repeatedly// Somewhat better code...\nRandom rng = new Random();\nfor (int i = 0; i < 100; i++)\n{\n    Console.WriteLine(GenerateDigit(rng));\n}\n...\nstatic int GenerateDigit(Random rng)\n{\n    // Assume there\'d be more logic here really\n    return rng.Next(10);\n}This article takes a look at why randomness causes so many problems, and how to address them.http://csharpindepth.com/Articles/Chapter12/Random.aspxShareImprove this answerFolloweditedJun 14, 2018 at 12:30answeredJun 14, 2018 at 12:08Ankit AgarwalAnkit Agarwal6144 bronze badges\n\nTry these simple steps to create random numbers:Create function:private int randomnumber(int min, int max)\n{\n    Random rnum = new Random();\n    return rnum.Next(min, max);\n}Use the above function in a location where you want to use random numbers. Suppose you want to use it in a text box.textBox1.Text = randomnumber(0, 999).ToString();0 is min and 999 is max. You can change the values to whatever you want.ShareImprove this answerFolloweditedNov 6, 2018 at 15:56glennsl28.9k1212 gold badges5858 silver badges7777 bronze badgesansweredSep 9, 2015 at 1:16Hani MehdiHani Mehdi19744 silver badges99 bronze badges\n\nI always have methods that generate random numbers which help for various purposes. I hope this may help you too:public class RandomGenerator  \n{  \n    public int RandomNumber(int min, int max)  \n    {  \n        var random = new Random();  \n        return random.Next(min, max);  \n    }  \n\n    public string RandomString(int size, bool lowerCase)  \n    {  \n        var builder = new StringBuilder();  \n        var random  = new Random();  \n        char ch;  \n\n        for (int i = 0; i < size; i++)  \n        {  \n            ch = Convert.ToChar(Convert.ToInt32(Math.Floor(26 * random.NextDouble() + 65)));  \n            builder.Append(ch);  \n        }  \n\n        if (lowerCase)  \n            return builder.ToString().ToLower();  \n        return builder.ToString();  \n    }  \n}ShareImprove this answerFolloweditedMar 17, 2019 at 11:24AustinWBryan3,31933 gold badges2626 silver badges4343 bronze badgesansweredMay 15, 2018 at 7:50PatsonLeanerPatsonLeaner1,2521616 silver badges2626 bronze badges\n\nRandom r=new Random();\nint Numbers=r.next(min value, max value);ShareImprove this answerFollowansweredFeb 16, 2022 at 18:27MasihaMasiha122 bronze badges\n\nTheRandomclass is used for generating a pseudo-random number.\nAn example could be like this:public int GenRandom(int minimum, int maximum)\n{\n    Random random = new Random();\n    int result = random.Next(minimum - 1, maximum + 1);\n    return result;\n}Iadded1to the minimum and maximum because theNext(int, int)function can never reachminimumandmaximum.Also look at this, would be a random number guesser:class Program\n{\n    static void Main(string[] args)\n    {\n        int i = 0;\n        while (true)\n        {\n            if (i < 1)\n            {\n                Console.Write(""Minimum value: "");\n                int min = int.Parse(Console.ReadLine());\n                Console.Write(""Maximum value: "");\n                int max = int.Parse(Console.ReadLine());\n                Random random = new Random();\n            }\n            int randomNumber = random.Next(min, max);\n            Console.Write(""Enter a guess: "");\n            if (int.Parse(Console.ReadLine()) == randomNumber)\n            {\n                Console.WriteLine(""Congrats! You won!"");\n                Console.ReadKey();\n                return;\n            }\n            else\n                Console.WriteLine(""Hmm, give it another guess!""); return;\n        }\n    }\n}ShareImprove this answerFollowansweredMar 8, 2023 at 9:34user21327910user21327910'}","{'title': 'How do I check if a string contains a specific word?', 'question': ""This question's answers are acommunity effort. Edit existing answers to improve this post. It is not currently accepting new answers or interactions.Consider:$a = 'How are you?';\n\nif ($a contains 'are')\n    echo 'true';Suppose I have the code above, what is the correct way to write the statementif ($a contains 'are')?phpstringsubstringcontainsstring-matchingShareFolloweditedMay 1, 2018 at 10:30community wikiCharles Yeung"", 'answers': 'Answer recommended byPHPCollectiveNow with PHP 8 you can do this usingstr_contains:if (str_contains(\'How are you\', \'are\')) { \n    echo \'true\';\n}Please note: Thestr_containsfunction will always return true if the $needle (the substring to search for in your string) is empty.$haystack = \'Hello\';\n$needle   = \'\';\n\nif (str_contains($haystack, $needle)) {\n    echo ""This returned true!"";\n}You should first make sure the $needle (your substring) is not empty.$haystack = \'How are you?\';\n$needle   = \'\';\n\nif ($needle !== \'\' && str_contains($haystack, $needle)) {\n    echo ""This returned true!"";\n} else {\n    echo ""This returned false!"";\n}Output:This returned false!It\'s also worth noting that the newstr_containsfunction is case-sensitive.$haystack = \'How are you?\';\n$needle   = \'how\';\n\nif ($needle !== \'\' && str_contains($haystack, $needle)) {\n    echo ""This returned true!"";\n} else {\n    echo ""This returned false!"";\n}Output:This returned false!RFCBefore PHP 8You can use thestrpos()function which is used to find the occurrence of one string inside another one:$haystack = \'How are you?\';\n$needle   = \'are\';\n\nif (strpos($haystack, $needle) !== false) {\n    echo \'true\';\n}Note that the use of!== falseis deliberate (neither!= falsenor=== truewill return the desired result);strpos()returns either the offset at which the needle string begins in the haystack string, or the booleanfalseif the needle isn\'t found. Since 0 is a valid offset and 0 is ""falsey"", we can\'t use simpler constructs like!strpos($a, \'are\').ShareImprove this answerFolloweditedAug 17, 2023 at 17:39community wiki22 revs, 18 users 41%SeniorDeveloper\n\nYou could use regular expressions as it\'s better for word matching compared tostrpos, as mentioned by other users. Astrposcheck forarewill also return true for strings such as: fare, care, stare, etc. These unintended matches can simply be avoided in regular expression by using word boundaries.A simple match forarecould look something like this:$a = \'How are you?\';\n\nif (preg_match(\'/\\bare\\b/\', $a)) {\n    echo \'true\';\n}On the performance side,strposis about three times faster. When I did one million compares at once, it tookpreg_match1.5 seconds to finish and forstrposit took 0.5 seconds.Edit:\nIn order to search any part of the string, not just word by word, I would recommend using a regular expression like$a = \'How are you?\';\n$search = \'are y\';\nif(preg_match(""/{$search}/i"", $a)) {\n    echo \'true\';\n}Theiat the end of regular expression changes regular expression to be case-insensitive, if you do not want that, you can leave it out.Now, this can be quite problematic in some cases as the $search string isn\'t sanitized in any way, I mean, it might not pass the check in some cases as if$searchis a user input they can add some string that might behave like some different regular expression...Also, here\'s a great tool for testing and seeing explanations of various regular expressionsRegex101To combine both sets of functionality into a single multi-purpose function (including with selectable case sensitivity), you could use something like this:function FindString($needle,$haystack,$i,$word)\n{   // $i should be """" or ""i"" for case insensitive\n    if (strtoupper($word)==""W"")\n    {   // if $word is ""W"" then word search instead of string in string search.\n        if (preg_match(""/\\b{$needle}\\b/{$i}"", $haystack)) \n        {\n            return true;\n        }\n    }\n    else\n    {\n        if(preg_match(""/{$needle}/{$i}"", $haystack)) \n        {\n            return true;\n        }\n    }\n    return false;\n    // Put quotes around true and false above to return them as strings instead of as bools/ints.\n}One more thing to take in mind, is that\\bwill not work in different languages other than english.The explanation for this and the solution is taken from here:\\brepresents the beginning or end of a word (Word Boundary). This\nregex would match apple in an apple pie, but wouldn’t match apple in\npineapple, applecarts or bakeapples.How about “café”? How can we extract the word “café” in regex?\nActually, \\bcafé\\b wouldn’t work. Why? Because “café” contains\nnon-ASCII character: é. \\b can’t be simply used with Unicode such as\nसमुद्र, 감사, месяц and 😉 .When you want to extract Unicode characters, you should directly\ndefine characters which represent word boundaries.The answer:(?<=[\\s,.:;""\']|^)UNICODE_WORD(?=[\\s,.:;""\']|$)So in order to use the answer in PHP, you can use this function:function contains($str, array $arr) {\n    // Works in Hebrew and any other unicode characters\n    // Thanks https://medium.com/@shiba1014/regex-word-boundaries-with-unicode-207794f6e7ed\n    // Thanks https://www.phpliveregex.com/\n    if (preg_match(\'/(?<=[\\s,.:;""\\\']|^)\' . $word . \'(?=[\\s,.:;""\\\']|$)/\', $str)) return true;\n}And if you want to search for array of words, you can use this:function arrayContainsWord($str, array $arr)\n{\n    foreach ($arr as $word) {\n        // Works in Hebrew and any other unicode characters\n        // Thanks https://medium.com/@shiba1014/regex-word-boundaries-with-unicode-207794f6e7ed\n        // Thanks https://www.phpliveregex.com/\n        if (preg_match(\'/(?<=[\\s,.:;""\\\']|^)\' . $word . \'(?=[\\s,.:;""\\\']|$)/\', $str)) return true;\n    }\n    return false;\n}As of PHP 8.0.0 you can now usestr_contains<?php\n    if (str_contains(\'abc\', \'\')) {\n        echo ""Checking the existence of the empty string will always""\n        return true;\n    }ShareImprove this answerFolloweditedJun 6 at 19:35community wiki19 revs, 13 users 31%Elron\n\nHere is a little utility function that is useful in situations like this// returns true if $needle is a substring of $haystack\nfunction contains($needle, $haystack)\n{\n    return strpos($haystack, $needle) !== false;\n}ShareImprove this answerFollowansweredAug 18, 2011 at 18:54community wikiejunker\n\nTo determine whether a string contains another string you can use the PHP functionstrpos().int strpos ( string $haystack , mixed $needle [, int $offset = 0 ] )`<?php\n\n$haystack = \'how are you\';\n$needle = \'are\';\n\nif (strpos($haystack,$needle) !== false) {\n    echo ""$haystack contains $needle"";\n}\n\n?>CAUTION:If the needle you are searching for is at the beginning of the haystack it will return position 0, if you do a==compare that will not work, you will need to do a===A==sign is a comparison and tests whether the variable / expression / constant to the left has the same value as the variable / expression / constant to the right.A===sign is a comparison to see whether two variables / expresions / constants are equalANDhave the same type - i.e. both are strings or both are integers.One of the advantages of using this approach is that every PHP version supports this function, unlikestr_contains().ShareImprove this answerFolloweditedJan 25, 2023 at 14:27community wiki5 revs, 5 users 74%Jose Vega\n\nWhile most of these answers will tell you if a substring appears in your string, that\'s usually not what you want if you\'re looking for a particularword, and not asubstring.What\'s the difference?  Substrings can appear within other words:The ""are"" at the beginning of ""area""The ""are"" at the end of ""hare""The ""are"" in the middle of ""fares""One way to mitigate this would be to use a regular expression coupled withword boundaries(\\b):function containsWord($str, $word)\n{\n    return !!preg_match(\'#\\\\b\' . preg_quote($word, \'#\') . \'\\\\b#i\', $str);\n}This method doesn\'t have the same false positives noted above, but it does have some edge cases of its own.  Word boundaries match on non-word characters (\\W), which are going to be anything that isn\'ta-z,A-Z,0-9, or_.  That means digits and underscores are going to be counted as word characters and scenarios like this will fail:The ""are"" in ""What _are_ you thinking?""The ""are"" in ""lol u dunno wut those are4?""If you want anything more accurate than this, you\'ll have to start doing English language syntax parsing, and that\'s a pretty big can of worms (and assumes proper use of syntax, anyway, which isn\'t always a given).ShareImprove this answerFolloweditedJan 22, 2017 at 14:39community wikiFtDRbwLXw6\n\nLook atstrpos():<?php\n$mystring = \'abc\';\n$findme   = \'a\';\n$pos = strpos($mystring, $findme);\n\n// Note our use of ===. Simply, == would not work as expected\n// because the position of \'a\' was the 0th (first) character.\nif ($pos === false) {\n    echo ""The string \'$findme\' was not found in the string \'$mystring\'."";\n} else {\n    echo ""The string \'$findme\' was found in the string \'$mystring\',"";\n    echo "" and exists at position $pos."";\n}ShareImprove this answerFolloweditedJan 25, 2023 at 14:29community wiki3 revs, 3 users 55%Haim Evgi\n\nUsingstrstr()orstristr()if your search should be case insensitive would be another option.ShareImprove this answerFolloweditedSep 24, 2013 at 18:31community wikiglutorange\n\nPeer to SamGoody and Lego Stormtroopr comments.If you are looking for a PHP algorithm torank search results based on proximity/relevanceof multiple words\nhere comes a quick and easy way of generating search results with PHP only:Issues with the other boolean search methods such asstrpos(),preg_match(),strstr()orstristr()can\'t search for multiple wordsresults are unrankedPHP method based onVector Space Modelandtf-idf (term frequency–inverse document frequency):It sounds difficult but is surprisingly easy.If we want to search for multiple words in a string the core problem is how we assign a weight to each one of them?If we could weight the terms in a string based on how representative they are of the string as a whole, \nwe could order our results by the ones that best match the query.This is the idea of the vector space model,not far from how SQL full-text search works:function get_corpus_index($corpus = array(), $separator=\' \') {\n\n    $dictionary = array();\n\n    $doc_count = array();\n\n    foreach($corpus as $doc_id => $doc) {\n\n        $terms = explode($separator, $doc);\n\n        $doc_count[$doc_id] = count($terms);\n\n        // tf–idf, short for term frequency–inverse document frequency, \n        // according to wikipedia is a numerical statistic that is intended to reflect \n        // how important a word is to a document in a corpus\n\n        foreach($terms as $term) {\n\n            if(!isset($dictionary[$term])) {\n\n                $dictionary[$term] = array(\'document_frequency\' => 0, \'postings\' => array());\n            }\n            if(!isset($dictionary[$term][\'postings\'][$doc_id])) {\n\n                $dictionary[$term][\'document_frequency\']++;\n\n                $dictionary[$term][\'postings\'][$doc_id] = array(\'term_frequency\' => 0);\n            }\n\n            $dictionary[$term][\'postings\'][$doc_id][\'term_frequency\']++;\n        }\n\n        //from http://phpir.com/simple-search-the-vector-space-model/\n\n    }\n\n    return array(\'doc_count\' => $doc_count, \'dictionary\' => $dictionary);\n}\n\nfunction get_similar_documents($query=\'\', $corpus=array(), $separator=\' \'){\n\n    $similar_documents=array();\n\n    if($query!=\'\'&&!empty($corpus)){\n\n        $words=explode($separator,$query);\n\n        $corpus=get_corpus_index($corpus, $separator);\n\n        $doc_count=count($corpus[\'doc_count\']);\n\n        foreach($words as $word) {\n\n            if(isset($corpus[\'dictionary\'][$word])){\n\n                $entry = $corpus[\'dictionary\'][$word];\n\n\n                foreach($entry[\'postings\'] as $doc_id => $posting) {\n\n                    //get term frequency–inverse document frequency\n                    $score=$posting[\'term_frequency\'] * log($doc_count + 1 / $entry[\'document_frequency\'] + 1, 2);\n\n                    if(isset($similar_documents[$doc_id])){\n\n                        $similar_documents[$doc_id]+=$score;\n\n                    }\n                    else{\n\n                        $similar_documents[$doc_id]=$score;\n\n                    }\n                }\n            }\n        }\n\n        // length normalise\n        foreach($similar_documents as $doc_id => $score) {\n\n            $similar_documents[$doc_id] = $score/$corpus[\'doc_count\'][$doc_id];\n\n        }\n\n        // sort from  high to low\n\n        arsort($similar_documents);\n\n    }   \n\n    return $similar_documents;\n}CASE 1$query = \'are\';\n\n$corpus = array(\n    1 => \'How are you?\',\n);\n\n$match_results=get_similar_documents($query,$corpus);\necho \'<pre>\';\n    print_r($match_results);\necho \'</pre>\';RESULTArray\n(\n    [1] => 0.52832083357372\n)CASE 2$query = \'are\';\n\n$corpus = array(\n    1 => \'how are you today?\',\n    2 => \'how do you do\',\n    3 => \'here you are! how are you? Are we done yet?\'\n);\n\n$match_results=get_similar_documents($query,$corpus);\necho \'<pre>\';\n    print_r($match_results);\necho \'</pre>\';RESULTSArray\n(\n    [1] => 0.54248125036058\n    [3] => 0.21699250014423\n)CASE 3$query = \'we are done\';\n\n$corpus = array(\n    1 => \'how are you today?\',\n    2 => \'how do you do\',\n    3 => \'here you are! how are you? Are we done yet?\'\n);\n\n$match_results=get_similar_documents($query,$corpus);\necho \'<pre>\';\n    print_r($match_results);\necho \'</pre>\';RESULTSArray\n(\n    [3] => 0.6813781191217\n    [1] => 0.54248125036058\n)There are plenty of improvements to be made\nbut the model provides a way of getting good results from natural queries, \nwhich don\'t have boolean operators such asstrpos(),preg_match(),strstr()orstristr().NOTA BENEOptionally eliminating redundancy prior to search the wordsthereby reducing index size and resulting in less storage requirementless disk I/Ofaster indexing and a consequently faster search.1. NormalisationConvert all text to lower case2. Stopword eliminationEliminate words from the text which carry no real meaning (like \'and\', \'or\', \'the\', \'for\', etc.)3. Dictionary substitutionReplace words with others which have an identical or similar meaning. \n(ex:replace instances of \'hungrily\' and \'hungry\' with \'hunger\')Further algorithmic measures (snowball) may be performed to further reduce words to their essential meaning.The replacement of colour names with their hexadecimal equivalentsThe reduction of numeric values by reducing precision are other ways of normalising the text.RESOURCEShttp://linuxgazette.net/164/sephton.htmlhttp://snowball.tartarus.org/MySQL Fulltext Search Score Explainedhttp://dev.mysql.com/doc/internals/en/full-text-search.htmlhttp://en.wikipedia.org/wiki/Vector_space_modelhttp://en.wikipedia.org/wiki/Tf%E2%80%93idfhttp://phpir.com/simple-search-the-vector-space-model/ShareImprove this answerFolloweditedDec 24, 2017 at 11:14community wikiRafaSashi\n\nMake use of substring matching usingstrpos():if (strpos($string,$stringToSearch) !== false) {\n    echo \'true\';\n}ShareImprove this answerFolloweditedApr 25, 2023 at 18:00community wiki4 revs, 3 users 75%Shankar Narayana Damodaran\n\nIf you want to avoid the ""falsey"" and ""truthy"" problem, you can use substr_count:if (substr_count($a, \'are\') > 0) {\n    echo ""at least one \'are\' is present!"";\n}It\'s a bit slower than strpos but it avoids the comparison problems.ShareImprove this answerFollowansweredJul 9, 2013 at 8:38community wikiAlan Piralla\n\nif (preg_match(\'/(are)/\', $a)) {\n   echo \'true\';\n}ShareImprove this answerFolloweditedOct 14, 2018 at 20:46community wiki4 revs, 2 users 88%joan16v\n\nAnother option is to use thestrstr()function. Something like:if (strlen(strstr($haystack,$needle))>0) {\n// Needle Found\n}Point to note: The strstr() function is case-sensitive. For a case-insensitive search, use thestristr()function.ShareImprove this answerFollowansweredAug 20, 2012 at 16:20community wikiYashG99\n\nI\'m a bit impressed that none of the answers here that usedstrpos,strstrand similar functions mentionedMultibyte String Functionsyet (2015-05-08).Basically, if you\'rehaving trouble finding words with characters specific to some languages, such as German, French, Portuguese, Spanish, etc. (e.g.:ä,é,ô,ç,º,ñ), you may want to precede the functions withmb_. Therefore, the accepted answer would usemb_strposormb_stripos(for case-insensitive matching) instead:if (mb_strpos($a,\'are\') !== false) {\n    echo \'true\';\n}If you cannot guarantee thatall your data is 100% in UTF-8, you may want to use themb_functions.A good article to understand why isThe Absolute Minimum Every Software Developer Absolutely, Positively Must Know About Unicode and Character Sets (No Excuses!)byJoel Spolsky.ShareImprove this answerFolloweditedMay 23, 2017 at 12:34community wikiArmfoot\n\nIn PHP, the best way to verify if a string contains a certain substring, is to use a simple helper function like this:function contains($haystack, $needle, $caseSensitive = false) {\n    return $caseSensitive ?\n            (strpos($haystack, $needle) === FALSE ? FALSE : TRUE):\n            (stripos($haystack, $needle) === FALSE ? FALSE : TRUE);\n}Explanation:strposfinds the position of the first occurrence of a case-sensitive substring in a string.striposfinds the position of the first occurrence of a case-insensitive substring in a string.myFunction($haystack, $needle) === FALSE ? FALSE : TRUEensures thatmyFunctionalways returns a boolean and fixes unexpected behavior when the index of the substring is 0.$caseSensitive ? A : Bselects eitherstrposorstriposto do the work, depending on the value of$caseSensitive.Output:var_dump(contains(\'bare\',\'are\'));            // Outputs: bool(true)\nvar_dump(contains(\'stare\', \'are\'));          // Outputs: bool(true)\nvar_dump(contains(\'stare\', \'Are\'));          // Outputs: bool(true)\nvar_dump(contains(\'stare\', \'Are\', true));    // Outputs: bool(false)\nvar_dump(contains(\'hair\', \'are\'));           // Outputs: bool(false)\nvar_dump(contains(\'aren\\\'t\', \'are\'));        // Outputs: bool(true)\nvar_dump(contains(\'Aren\\\'t\', \'are\'));        // Outputs: bool(true)\nvar_dump(contains(\'Aren\\\'t\', \'are\', true));  // Outputs: bool(false)\nvar_dump(contains(\'aren\\\'t\', \'Are\'));        // Outputs: bool(true)\nvar_dump(contains(\'aren\\\'t\', \'Are\', true));  // Outputs: bool(false)\nvar_dump(contains(\'broad\', \'are\'));          // Outputs: bool(false)\nvar_dump(contains(\'border\', \'are\'));         // Outputs: bool(false)ShareImprove this answerFolloweditedDec 12, 2017 at 16:48community wikiJohn Slegers\n\nYou can use thestrstrfunction:$haystack = ""I know programming"";\n$needle   = ""know"";\n$flag = strstr($haystack, $needle);\n\nif ($flag){\n\n    echo ""true"";\n}Without using an inbuilt function:$haystack  = ""hello world"";\n$needle = ""llo"";\n\n$i = $j = 0;\n\nwhile (isset($needle[$i])) {\n    while (isset($haystack[$j]) && ($needle[$i] != $haystack[$j])) {\n        $j++;\n        $i = 0;\n    }\n    if (!isset($haystack[$j])) {\n        break;\n    }\n    $i++;\n    $j++;\n\n}\nif (!isset($needle[$i])) {\n    echo ""YES"";\n}\nelse{\n    echo ""NO "";\n}ShareImprove this answerFolloweditedMay 21, 2017 at 11:26community wikiArshid KV\n\nThe function below also works and does not depend on any other function; it uses only native PHP string manipulation. Personally, I do not recommend this, but you can see how it works:<?php\n\nif (!function_exists(\'is_str_contain\')) {\n  function is_str_contain($string, $keyword)\n  {\n    if (empty($string) || empty($keyword)) return false;\n    $keyword_first_char = $keyword[0];\n    $keyword_length = strlen($keyword);\n    $string_length = strlen($string);\n\n    // case 1\n    if ($string_length < $keyword_length) return false;\n\n    // case 2\n    if ($string_length == $keyword_length) {\n      if ($string == $keyword) return true;\n      else return false;\n    }\n\n    // case 3\n    if ($keyword_length == 1) {\n      for ($i = 0; $i < $string_length; $i++) {\n\n        // Check if keyword\'s first char == string\'s first char\n        if ($keyword_first_char == $string[$i]) {\n          return true;\n        }\n      }\n    }\n\n    // case 4\n    if ($keyword_length > 1) {\n      for ($i = 0; $i < $string_length; $i++) {\n        /*\n        the remaining part of the string is equal or greater than the keyword\n        */\n        if (($string_length + 1 - $i) >= $keyword_length) {\n\n          // Check if keyword\'s first char == string\'s first char\n          if ($keyword_first_char == $string[$i]) {\n            $match = 1;\n            for ($j = 1; $j < $keyword_length; $j++) {\n              if (($i + $j < $string_length) && $keyword[$j] == $string[$i + $j]) {\n                $match++;\n              }\n              else {\n                return false;\n              }\n            }\n\n            if ($match == $keyword_length) {\n              return true;\n            }\n\n            // end if first match found\n          }\n\n          // end if remaining part\n        }\n        else {\n          return false;\n        }\n\n        // end for loop\n      }\n\n      // end case4\n    }\n\n    return false;\n  }\n}Test:var_dump(is_str_contain(""test"", ""t"")); //true\nvar_dump(is_str_contain(""test"", """")); //false\nvar_dump(is_str_contain(""test"", ""test"")); //true\nvar_dump(is_str_contain(""test"", ""testa"")); //flase\nvar_dump(is_str_contain(""a----z"", ""a"")); //true\nvar_dump(is_str_contain(""a----z"", ""z"")); //true \nvar_dump(is_str_contain(""mystringss"", ""strings"")); //trueShareImprove this answerFolloweditedMay 18, 2015 at 10:45community wikiJason OOO\n\nLot of answers that usesubstr_countchecks if the result is>0. But since theifstatement considers zero thesame as false, you can avoid that check and write directly:if (substr_count($a, \'are\')) {To check ifnotpresent, add the!operator:if (!substr_count($a, \'are\')) {ShareImprove this answerFolloweditedDec 21, 2017 at 11:21community wikiT30\n\nI had some trouble with this, and finally I chose to create my own solution. Without usingregular expressionengine:function contains($text, $word)\n{\n    $found = false;\n    $spaceArray = explode(\' \', $text);\n\n    $nonBreakingSpaceArray = explode(chr(160), $text);\n\n    if (in_array($word, $spaceArray) ||\n        in_array($word, $nonBreakingSpaceArray)\n       ) {\n\n        $found = true;\n    }\n    return $found;\n }You may notice that the previous solutions are not an answer for the word being used as a prefix for another. In order to use your example:$a = \'How are you?\';\n$b = ""a skirt that flares from the waist"";\n$c = ""are"";With the samples above, both$aand$bcontains$c, but you may want your function to tell you that only$acontains$c.ShareImprove this answerFolloweditedJun 25, 2016 at 19:30community wikiDecebal\n\nAnother option to finding the occurrence of a word from a string usingstrstr()andstristr()is like the following:<?php\n    $a = \'How are you?\';\n    if (strstr($a,\'are\'))  // Case sensitive\n        echo \'true\';\n    if (stristr($a,\'are\'))  // Case insensitive\n        echo \'true\';\n?>ShareImprove this answerFolloweditedJun 25, 2016 at 19:30community wikiSadikhasan\n\nIt can be done in three different ways:$a = \'How are you?\';1- stristr()if (strlen(stristr($a,""are""))>0) {\n    echo ""true""; // are Found\n }2- strpos()if (strpos($a, ""are"") !== false) {\n   echo ""true""; // are Found\n }3- preg_match()if( preg_match(""are"",$a) === 1) {\n   echo ""true""; // are Found\n }ShareImprove this answerFolloweditedDec 28, 2015 at 4:28community wikiShashank Singh\n\nDo not usepreg_match()if you only want to check if one string is contained in another string. Usestrpos()orstrstr()instead as they will be faster. (https://www.php.net/preg_match)if (strpos($text, \'string_name\') !== false){\n   echo \'get the string\';\n}ShareImprove this answerFolloweditedNov 17, 2023 at 19:53community wiki3 revs, 2 users 78%Vinod Joshi\n\nThe short-hand version$result = false!==strpos($a, \'are\');ShareImprove this answerFolloweditedMar 20, 2016 at 17:38community wikiSomwang Souksavatd\n\nIn order to find a \'word\', rather than the occurrence of a series of letters that could in fact be a part of another word, the following would be a good solution.$string = \'How are you?\';\n$array = explode("" "", $string);\n\nif (in_array(\'are\', $array) ) {\n    echo \'Found the word\';\n}ShareImprove this answerFolloweditedJun 25, 2016 at 19:25community wikiDJC\n\nYou should use case Insensitive format,so if the entered value is insmallorcapsit wont matter.<?php\n$grass = ""This is pratik joshi"";\n$needle = ""pratik"";\nif (stripos($grass,$needle) !== false) { \n\n /*If i EXCLUDE : !== false then if string is found at 0th location, \n   still it will say STRING NOT FOUND as it will return \'0\' and it      \n   will goto else and will say NOT Found though it is found at 0th location.*/\n    echo \'Contains word\';\n}else{\n    echo ""does NOT contain word"";\n}\n?>Here stripos finds needle in heystackwithoutconsidering case (small/caps).PHPCode Sample with outputShareImprove this answerFolloweditedSep 8, 2015 at 11:00community wikiPratik Joshi\n\nMaybe you could use something like this:<?php\n    findWord(\'Test all OK\');\n\n    function findWord($text) {\n        if (strstr($text, \'ok\')) {\n            echo \'Found a word\';\n        }\n        else\n        {\n            echo \'Did not find a word\';\n        }\n    }\n?>ShareImprove this answerFolloweditedJun 25, 2016 at 19:26community wikiMathias Stavrou\n\nIf you want to check if the string contains several specifics words, you can do:$badWords = array(""dette"", ""capitale"", ""rembourser"", ""ivoire"", ""mandat"");\n\n$string = ""a string with the word ivoire"";\n\n$matchFound = preg_match_all(""/\\b("" . implode($badWords,""|"") . "")\\b/i"", $string, $matches);\n\nif ($matchFound) {\n    echo ""a bad word has been found"";\n}\nelse {\n    echo ""your string is okay"";\n}This is useful to avoid spam when sending emails for example.ShareImprove this answerFolloweditedJun 25, 2016 at 19:17community wikiJulien\n\nThe strpos function works fine, but if you want to docase-insensitivechecking for a word in a paragraph then you can make use of thestriposfunction ofPHP.For example,$result = stripos(""I love PHP, I love PHP too!"", ""php"");\nif ($result === false) {\n    // Word does not exist\n}\nelse {\n    // Word exists\n}Find the position of the first occurrence of a case-insensitive substring in a string.If the word doesn\'t exist in the string then it will return false else it will return the position of the word.ShareImprove this answerFolloweditedJan 5, 2017 at 14:16community wikiAkshay Khale\n\nA string can be checked with the below function:function either_String_existor_not($str, $character) {\n    return strpos($str, $character) !== false;\n}ShareImprove this answerFolloweditedApr 9, 2021 at 7:11community wiki4 revs, 4 users 53%M Razwan\n\nYou need to use identical/not identical operators because strpos can return 0 as it\'s index value. If you like ternary operators, consider using the following (seems a little backwards I\'ll admit):echo FALSE === strpos($a,\'are\') ? \'false\': \'true\';ShareImprove this answerFolloweditedFeb 21, 2016 at 18:25community wikiShapeshifter\n\nCheck if string contains specific words?This means the string has to be resolved into words (see note below).One way to do this and to specify the separators is usingpreg_split(doc):<?php\n\nfunction contains_word($str, $word) {\n  // split string into words\n  // separators are substrings of at least one non-word character\n  $arr = preg_split(\'/\\W+/\', $str, NULL, PREG_SPLIT_NO_EMPTY);\n\n  // now the words can be examined each\n  foreach ($arr as $value) {\n    if ($value === $word) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction test($str, $word) {\n  if (contains_word($str, $word)) {\n    echo ""string \'"" . $str . ""\' contains word \'"" . $word . ""\'\\n"";\n  } else {\n    echo ""string \'"" . $str . ""\' does not contain word \'"" . $word . ""\'\\n"" ;\n  }\n}\n\n$a = \'How are you?\';\n\ntest($a, \'are\');\ntest($a, \'ar\');\ntest($a, \'hare\');\n\n?>A run gives$ php -f test.php                   \nstring \'How are you?\' contains word \'are\' \nstring \'How are you?\' does not contain word \'ar\'\nstring \'How are you?\' does not contain word \'hare\'Note:Here we do not mean word for every sequence of symbols.A practical definition of word is in the sense the PCRE regular expression engine, where words are substrings consisting of word characters only, being separated by non-word characters.A ""word"" character is any letter or digit or the underscore character,\n  that is, any character which can be part of a Perl "" word "". The\n  definition of letters and digits is controlled by PCRE\'s character\n  tables, and may vary if locale-specific matching is taking place (..)ShareImprove this answerFolloweditedSep 23, 2015 at 23:37community wikimvw'}","{'title': 'How can I save an activity state using the save instance state?', 'question': 'I\'ve been working on the Android SDK platform, and it is a little unclear how to save an application\'s state. So given this minor re-tooling of the \'Hello, Android\' example:package com.android.hello;\n\nimport android.app.Activity;\nimport android.os.Bundle;\nimport android.widget.TextView;\n\npublic class HelloAndroid extends Activity {\n\n  private TextView mTextView = null;\n\n  /** Called when the activity is first created. */\n  @Override\n  public void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n    mTextView = new TextView(this);\n\n    if (savedInstanceState == null) {\n       mTextView.setText(""Welcome to HelloAndroid!"");\n    } else {\n       mTextView.setText(""Welcome back."");\n    }\n\n    setContentView(mTextView);\n  }\n}I thought it would be enough for the simplest case, but it always responds with the first message, no matter how I navigate away from the app.I\'m sure the solution is as simple as overridingonPauseor something like that, but I\'ve been poking away in the documentation for 30 minutes or so and haven\'t found anything obvious.androidandroid-activityapplication-stateShareImprove this questionFolloweditedSep 13, 2022 at 14:18Ramesh R7,05944 gold badges2525 silver badges3939 bronze badgesaskedSep 30, 2008 at 4:41BernardBernard45.5k1818 gold badges5454 silver badges7070 bronze badges', 'answers': 'You need to overrideonSaveInstanceState(Bundle savedInstanceState)and write the application state values you want to change to theBundleparameter like this:@Override\npublic void onSaveInstanceState(Bundle savedInstanceState) {\n  super.onSaveInstanceState(savedInstanceState);\n  // Save UI state changes to the savedInstanceState.\n  // This bundle will be passed to onCreate if the process is\n  // killed and restarted.\n  savedInstanceState.putBoolean(""MyBoolean"", true);\n  savedInstanceState.putDouble(""myDouble"", 1.9);\n  savedInstanceState.putInt(""MyInt"", 1);\n  savedInstanceState.putString(""MyString"", ""Welcome back to Android"");\n  // etc.\n}The Bundle is essentially a way of storing a NVP (""Name-Value Pair"") map, and it will get passed in toonCreate()and alsoonRestoreInstanceState()where you would then extract the values from activity like this:@Override\npublic void onRestoreInstanceState(Bundle savedInstanceState) {\n  super.onRestoreInstanceState(savedInstanceState);\n  // Restore UI state from the savedInstanceState.\n  // This bundle has also been passed to onCreate.\n  boolean myBoolean = savedInstanceState.getBoolean(""MyBoolean"");\n  double myDouble = savedInstanceState.getDouble(""myDouble"");\n  int myInt = savedInstanceState.getInt(""MyInt"");\n  String myString = savedInstanceState.getString(""MyString"");\n}Or from a fragment.@Override\npublic void onViewStateRestored(@Nullable Bundle savedInstanceState) {\n    super.onViewStateRestored(savedInstanceState);\n    // Restore UI state from the savedInstanceState.\n    // This bundle has also been passed to onCreate.\n    boolean myBoolean = savedInstanceState.getBoolean(""MyBoolean"");\n    double myDouble = savedInstanceState.getDouble(""myDouble"");\n    int myInt = savedInstanceState.getInt(""MyInt"");\n    String myString = savedInstanceState.getString(""MyString"");\n}You would usually use this technique to store instance values for your application (selections, unsaved text, etc.).ShareImprove this answerFolloweditedSep 13, 2022 at 14:21Ramesh R7,05944 gold badges2525 silver badges3939 bronze badgesansweredSep 30, 2008 at 6:12Reto MeierReto Meier96.8k1818 gold badges100100 silver badges7272 bronze badges\n\nThesavedInstanceStateis only for saving state associated with a current instance of an Activity, for example current navigation or selection info, so that if Android destroys and recreates an Activity, it can come back as it was before.  See the documentation foronCreateandonSaveInstanceStateFor more long lived state, consider using a SQLite database, a file, or preferences.  SeeSaving Persistent State.ShareImprove this answerFolloweditedMar 13, 2012 at 0:24Benoit Duffez12.2k1212 gold badges7878 silver badges128128 bronze badgesansweredSep 30, 2008 at 5:03David LDavid L44.5k1111 gold badges6363 silver badges6262 bronze badges\n\nNote that it isnotsafe to useonSaveInstanceStateandonRestoreInstanceStatefor persistent data, according tothe documentation on Activity.The document states (in the \'Activity Lifecycle\' section):Note that it is important to save\npersistent data inonPause()instead\nofonSaveInstanceState(Bundle)because the later is not part of the\nlifecycle callbacks, so will not be\ncalled in every situation as described\nin its documentation.In other words, put your save/restore code for persistent data inonPause()andonResume()!For further clarification, here\'s theonSaveInstanceState()documentation:This method is called before an activity may be killed so that when it\ncomes back some time in the future it can restore its state. For\nexample, if activity B is launched in front of activity A, and at some\npoint activity A is killed to reclaim resources, activity A will have\na chance to save the current state of its user interface via this\nmethod so that when the user returns to activity A, the state of the\nuser interface can be restored viaonCreate(Bundle)oronRestoreInstanceState(Bundle).ShareImprove this answerFolloweditedJul 22, 2021 at 10:05Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMay 25, 2010 at 23:22Steve MoseleySteve Moseley5,85722 gold badges2020 silver badges2222 bronze badges\n\nMy colleague wrote an article explaining application state on Android devices, including explanations on activity lifecycle and state information, how to store state information, and saving to stateBundleandSharedPreferences.Take a look at it here.The article covers three approaches:Store local variable/UI control data for application lifetime (i.e. temporarily) using an instance state bundle[Code sample – Store state in state bundle]\n@Override\npublic void onSaveInstanceState(Bundle savedInstanceState)\n{\n  // Store UI state to the savedInstanceState.\n  // This bundle will be passed to onCreate on next call.  EditText txtName = (EditText)findViewById(R.id.txtName);\n  String strName = txtName.getText().toString();\n\n  EditText txtEmail = (EditText)findViewById(R.id.txtEmail);\n  String strEmail = txtEmail.getText().toString();\n\n  CheckBox chkTandC = (CheckBox)findViewById(R.id.chkTandC);\n  boolean blnTandC = chkTandC.isChecked();\n\n  savedInstanceState.putString(“Name”, strName);\n  savedInstanceState.putString(“Email”, strEmail);\n  savedInstanceState.putBoolean(“TandC”, blnTandC);\n\n  super.onSaveInstanceState(savedInstanceState);\n}Store local variable/UI control data between application instances (i.e. permanently) using shared preferences[Code sample – store state in SharedPreferences]\n@Override\nprotected void onPause()\n{\n  super.onPause();\n\n  // Store values between instances here\n  SharedPreferences preferences = getPreferences(MODE_PRIVATE);\n  SharedPreferences.Editor editor = preferences.edit();  // Put the values from the UI\n  EditText txtName = (EditText)findViewById(R.id.txtName);\n  String strName = txtName.getText().toString();\n\n  EditText txtEmail = (EditText)findViewById(R.id.txtEmail);\n  String strEmail = txtEmail.getText().toString();\n\n  CheckBox chkTandC = (CheckBox)findViewById(R.id.chkTandC);\n  boolean blnTandC = chkTandC.isChecked();\n\n  editor.putString(“Name”, strName); // value to store\n  editor.putString(“Email”, strEmail); // value to store\n  editor.putBoolean(“TandC”, blnTandC); // value to store\n  // Commit to storage\n  editor.commit();\n}Keeping object instances alive in memory between activities within application lifetime using a retained non-configuration instance[Code sample – store object instance]\nprivate cMyClassType moInstanceOfAClass; // Store the instance of an object\n@Override\npublic Object onRetainNonConfigurationInstance()\n{\n  if (moInstanceOfAClass != null) // Check that the object exists\n      return(moInstanceOfAClass);\n  return super.onRetainNonConfigurationInstance();\n}ShareImprove this answerFolloweditedJul 22, 2021 at 10:07Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredAug 27, 2010 at 13:54Martin Belcher - AtWrkMartin Belcher - AtWrk4,56944 gold badges3434 silver badges4141 bronze badges\n\nThis is a classic \'gotcha\' of Android development. There are two issues here:There is a subtle Android Framework bug which greatly complicates application stack management during development, at least on legacy versions (not entirely sure if/when/how it was fixed). I\'ll discuss this bug below.The \'normal\' or intended way to manage this issue is, itself, rather complicated with the duality of onPause/onResume and onSaveInstanceState/onRestoreInstanceStateBrowsing across all these threads, I suspect that much of the time developers are talking about these two different issues simultaneously ... hence all the confusion and reports of ""this doesn\'t work for me"".First, to clarify the \'intended\' behavior: onSaveInstance and onRestoreInstance are fragile and only for transient state. The intended usage (as far as I can tell) is to handle Activity recreation when the phone is rotated (orientation change). In other words, the intended usage is when your Activity is still logically \'on top\', but still must be reinstantiated by the system. The saved Bundle is not persisted outside of the process/memory/GC, so you cannot really rely on this if your activity goes to the background. Yes, perhaps your Activity\'s memory will survive its trip to the background and escape GC, but this is not reliable (nor is it predictable).So if you have a scenario where there is meaningful \'user progress\' or state that should be persisted between \'launches\' of your application, the guidance is to use onPause and onResume. You must choose and prepare a persistent store yourself.But- there is a very confusing bug which complicates all of this. Details are here:Activity stack behaves incorrectly during the first run of an app when started from Eclipse(#36907463)Marketplace / browser app installer allows second instance off app(#36911210)Basically, if your application is launched with the SingleTask flag, and then later on you launch it from the home screen or launcher menu, then that subsequent invocation will create a NEW task ... you\'ll effectively have two different instances of your app inhabiting the same stack ... which gets very strange very fast. This seems to happen when you launch your app during development (i.e. fromEclipseorIntelliJ), so developers run into this a lot. But also through some of the app store update mechanisms (so it impacts your users as well).I battled through these threads for hours before I realized that my main issue was this bug, not the intended framework behavior. A great write-up andworkaround(UPDATE: see below) seems to be from user @kaciula in this answer:Home key press behaviourUPDATE June 2013: Months later, I have finally found the \'correct\' solution. You don\'t need to manage any stateful startedApp flags yourself. You can detect this from the framework and bail appropriately. I use this near the beginning of my LauncherActivity.onCreate:if (!isTaskRoot()) {\n    Intent intent = getIntent();\n    String action = intent.getAction();\n    if (intent.hasCategory(Intent.CATEGORY_LAUNCHER) && action != null && action.equals(Intent.ACTION_MAIN)) {\n        finish();\n        return;\n    }\n}ShareImprove this answerFolloweditedJul 22, 2021 at 10:15Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredOct 19, 2012 at 23:47Mike RepassMike Repass6,90255 gold badges3939 silver badges3535 bronze badges\n\nonSaveInstanceStateis called when the system needs memory and kills an application. It is not called when the user just closes the application. So I think application state should also be saved inonPause.It should be saved to some persistent storage likePreferencesor SQLite.ShareImprove this answerFolloweditedJul 22, 2021 at 11:27Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMay 7, 2010 at 0:21FedorFedor43.4k1111 gold badges8181 silver badges9191 bronze badges\n\nBoth methods are useful and valid and both are best suited for different scenarios:The user terminates the application and re-opens it at a later date, but the application needs to reload data from the last session – this requires a persistent storage approach such as using SQLite.The user switches application and then comes back to the original and wants to pick up where they left off -  save and restore bundle data (such as application state data) inonSaveInstanceState()andonRestoreInstanceState()is usually adequate.If you save the state data in a persistent manner, it can be reloaded in anonResume()oronCreate()(or actually on any lifecycle call). This may or may not be desired behaviour. If you store it in a bundle in anInstanceState, then it is transient and is only suitable for storing data for use in the same user ‘session’ (I use the term session loosely) but not between ‘sessions’.It is not that one approach is better than the other, like everything, it is just important to understand what behaviour you require and to select the most appropriate approach.ShareImprove this answerFolloweditedJul 12, 2011 at 23:34Amanda S3,29444 gold badges3434 silver badges4545 bronze badgesansweredJun 27, 2011 at 16:17DavidDavid79166 silver badges22 bronze badges\n\nSaving state is a kludge at best as far as I\'m concerned. If you need to save persistent data, just use anSQLitedatabase. Android makes itSOOOeasy.Something like this:import java.util.Date;\nimport android.content.Context;\nimport android.database.Cursor;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.database.sqlite.SQLiteOpenHelper;\n\npublic class dataHelper {\n\n    private static final String DATABASE_NAME = ""autoMate.db"";\n    private static final int DATABASE_VERSION = 1;\n\n    private Context context;\n    private SQLiteDatabase db;\n    private OpenHelper oh ;\n\n    public dataHelper(Context context) {\n        this.context = context;\n        this.oh = new OpenHelper(this.context);\n        this.db = oh.getWritableDatabase();\n    }\n\n    public void close() {\n        db.close();\n        oh.close();\n        db = null;\n        oh = null;\n        SQLiteDatabase.releaseMemory();\n    }\n\n\n    public void setCode(String codeName, Object codeValue, String codeDataType) {\n        Cursor codeRow = db.rawQuery(""SELECT * FROM code WHERE codeName = \'""+  codeName + ""\'"", null);\n        String cv = """" ;\n\n        if (codeDataType.toLowerCase().trim().equals(""long"") == true){\n            cv = String.valueOf(codeValue);\n        }\n        else if (codeDataType.toLowerCase().trim().equals(""int"") == true)\n        {\n            cv = String.valueOf(codeValue);\n        }\n        else if (codeDataType.toLowerCase().trim().equals(""date"") == true)\n        {\n            cv = String.valueOf(((Date)codeValue).getTime());\n        }\n        else if (codeDataType.toLowerCase().trim().equals(""boolean"") == true)\n        {\n            String.valueOf(codeValue);\n        }\n        else\n        {\n            cv = String.valueOf(codeValue);\n        }\n\n        if(codeRow.getCount() > 0) //exists-- update\n        {\n            db.execSQL(""update code set codeValue = \'"" + cv +\n                ""\' where codeName = \'"" + codeName + ""\'"");\n        }\n        else // does not exist, insert\n        {\n            db.execSQL(""INSERT INTO code (codeName, codeValue, codeDataType) VALUES("" +\n                    ""\'"" + codeName + ""\',"" +\n                    ""\'"" + cv + ""\',"" +\n                    ""\'"" + codeDataType + ""\')"" );\n        }\n    }\n\n    public Object getCode(String codeName, Object defaultValue){\n\n        //Check to see if it already exists\n        String codeValue = """";\n        String codeDataType = """";\n        boolean found = false;\n        Cursor codeRow  = db.rawQuery(""SELECT * FROM code WHERE codeName = \'""+  codeName + ""\'"", null);\n        if (codeRow.moveToFirst())\n        {\n            codeValue = codeRow.getString(codeRow.getColumnIndex(""codeValue""));\n            codeDataType = codeRow.getString(codeRow.getColumnIndex(""codeDataType""));\n            found = true;\n        }\n\n        if (found == false)\n        {\n            return defaultValue;\n        }\n        else if (codeDataType.toLowerCase().trim().equals(""long"") == true)\n        {\n            if (codeValue.equals("""") == true)\n            {\n                return (long)0;\n            }\n            return Long.parseLong(codeValue);\n        }\n        else if (codeDataType.toLowerCase().trim().equals(""int"") == true)\n        {\n            if (codeValue.equals("""") == true)\n            {\n                return (int)0;\n            }\n            return Integer.parseInt(codeValue);\n        }\n        else if (codeDataType.toLowerCase().trim().equals(""date"") == true)\n        {\n            if (codeValue.equals("""") == true)\n            {\n                return null;\n            }\n            return new Date(Long.parseLong(codeValue));\n        }\n        else if (codeDataType.toLowerCase().trim().equals(""boolean"") == true)\n        {\n            if (codeValue.equals("""") == true)\n            {\n                return false;\n            }\n            return Boolean.parseBoolean(codeValue);\n        }\n        else\n        {\n            return (String)codeValue;\n        }\n    }\n\n\n    private static class OpenHelper extends SQLiteOpenHelper {\n\n        OpenHelper(Context context) {\n            super(context, DATABASE_NAME, null, DATABASE_VERSION);\n        }\n\n        @Override\n        public void onCreate(SQLiteDatabase db) {\n            db.execSQL(""CREATE TABLE IF  NOT EXISTS code"" +\n            ""(id INTEGER PRIMARY KEY, codeName TEXT, codeValue TEXT, codeDataType TEXT)"");\n        }\n\n        @Override\n        public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n        }\n    }\n}A simple call after thatdataHelper dh = new dataHelper(getBaseContext());\nString status = (String) dh.getCode(""appState"", ""safetyDisabled"");\nDate serviceStart = (Date) dh.getCode(""serviceStartTime"", null);\ndh.close();\ndh = null;ShareImprove this answerFolloweditedMar 11, 2019 at 16:00Elio Lako1,35322 gold badges1818 silver badges2727 bronze badgesansweredJun 23, 2011 at 17:07Mike A.Mike A.1,4681313 silver badges1111 bronze badges\n\nI think I found the answer. Let me tell what I have done in simple words:Suppose I have two activities, activity1 and activity2 and I am navigating from activity1 to activity2 (I have done some works in activity2) and again back to activity 1 by clicking on a button in activity1. Now at this stage I wanted to go back to activity2 and I want to see my activity2 in the same condition when I last left activity2.For the above scenario what I have done is that in the manifest I made some changes like this:<activity android:name="".activity2""\n          android:alwaysRetainTaskState=""true""      \n          android:launchMode=""singleInstance"">\n</activity>And in the activity1 on the button click event I have done like this:Intent intent = new Intent();\nintent.setFlags(Intent.FLAG_ACTIVITY_REORDER_TO_FRONT);\nintent.setClassName(this,""com.mainscreen.activity2"");\nstartActivity(intent);And in activity2 on button click event I have done like this:Intent intent=new Intent();\nintent.setClassName(this,""com.mainscreen.activity1"");\nstartActivity(intent);Now what will happen is that whatever the changes we have made in the activity2 will not be lost, and we can view activity2 in the same state as we left previously.I believe this is the answer and this works fine for me. Correct me if I am wrong.ShareImprove this answerFolloweditedOct 31, 2014 at 19:01Stephen Tetreault77711 gold badge88 silver badges2727 bronze badgesansweredFeb 5, 2012 at 11:35roy mathewroy mathew7,80244 gold badges3030 silver badges4141 bronze badges\n\nonSaveInstanceState()for transient data (restored inonCreate()/onRestoreInstanceState()),onPause()for persistent data (restored inonResume()).\nFrom Android technical resources:onSaveInstanceState()is called by Android if the Activity is being stopped and may be killed before it is resumed! This means it should store any state necessary to re-initialize to the same condition when the Activity is restarted. It is the counterpart to the onCreate() method, and in fact the savedInstanceState Bundle passed in to onCreate() is the same Bundle that you construct as outState in the onSaveInstanceState() method.onPause()andonResume()are also complimentary methods. onPause() is always called when the Activity ends, even if we instigated that (with a finish() call for example). We will use this to save the current note back to the database. Good practice is to release any resources that can be released during an onPause() as well, to take up less resources when in the passive state.ShareImprove this answerFolloweditedJun 20, 2020 at 9:12CommunityBot111 silver badgeansweredJan 17, 2012 at 18:28UserUser32.1k4040 gold badges136136 silver badges236236 bronze badges\n\nReallyonSaveInstanceState()is called when the Activity goes to background.Quote from the docs:\n""This method is called before an activity may be killed so that when it comes back sometime in the future it can restore its state.""SourceShareImprove this answerFolloweditedSep 13, 2022 at 14:21Ramesh R7,05944 gold badges2525 silver badges3939 bronze badgesansweredMay 23, 2010 at 22:32u-fokau-foka65766 silver badges44 bronze badges\n\nTo help reduce boilerplate I use the followinginterfaceandclassto read/write to aBundlefor saving instance state.First, create an interface that will be used to annotate your instance variables:import java.lang.annotation.Documented;\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n@Documented\n@Retention(RetentionPolicy.RUNTIME)\n@Target({\n        ElementType.FIELD\n})\npublic @interface SaveInstance {\n\n}Then, create a class where reflection will be used to save values to the bundle:import android.app.Activity;\nimport android.app.Fragment;\nimport android.os.Bundle;\nimport android.os.Parcelable;\nimport android.util.Log;\n\nimport java.io.Serializable;\nimport java.lang.reflect.Field;\n\n/**\n * Save and load fields to/from a {@link Bundle}. All fields should be annotated with {@link\n * SaveInstance}.</p>\n */\npublic class Icicle {\n\n    private static final String TAG = ""Icicle"";\n\n    /**\n     * Find all fields with the {@link SaveInstance} annotation and add them to the {@link Bundle}.\n     *\n     * @param outState\n     *         The bundle from {@link Activity#onSaveInstanceState(Bundle)} or {@link\n     *         Fragment#onSaveInstanceState(Bundle)}\n     * @param classInstance\n     *         The object to access the fields which have the {@link SaveInstance} annotation.\n     * @see #load(Bundle, Object)\n     */\n    public static void save(Bundle outState, Object classInstance) {\n        save(outState, classInstance, classInstance.getClass());\n    }\n\n    /**\n     * Find all fields with the {@link SaveInstance} annotation and add them to the {@link Bundle}.\n     *\n     * @param outState\n     *         The bundle from {@link Activity#onSaveInstanceState(Bundle)} or {@link\n     *         Fragment#onSaveInstanceState(Bundle)}\n     * @param classInstance\n     *         The object to access the fields which have the {@link SaveInstance} annotation.\n     * @param baseClass\n     *         Base class, used to get all superclasses of the instance.\n     * @see #load(Bundle, Object, Class)\n     */\n    public static void save(Bundle outState, Object classInstance, Class<?> baseClass) {\n        if (outState == null) {\n            return;\n        }\n        Class<?> clazz = classInstance.getClass();\n        while (baseClass.isAssignableFrom(clazz)) {\n            String className = clazz.getName();\n            for (Field field : clazz.getDeclaredFields()) {\n                if (field.isAnnotationPresent(SaveInstance.class)) {\n                    field.setAccessible(true);\n                    String key = className + ""#"" + field.getName();\n                    try {\n                        Object value = field.get(classInstance);\n                        if (value instanceof Parcelable) {\n                            outState.putParcelable(key, (Parcelable) value);\n                        } else if (value instanceof Serializable) {\n                            outState.putSerializable(key, (Serializable) value);\n                        }\n                    } catch (Throwable t) {\n                        Log.d(TAG, ""The field \'"" + key + ""\' was not added to the bundle"");\n                    }\n                }\n            }\n            clazz = clazz.getSuperclass();\n        }\n    }\n\n    /**\n     * Load all saved fields that have the {@link SaveInstance} annotation.\n     *\n     * @param savedInstanceState\n     *         The saved-instance {@link Bundle} from an {@link Activity} or {@link Fragment}.\n     * @param classInstance\n     *         The object to access the fields which have the {@link SaveInstance} annotation.\n     * @see #save(Bundle, Object)\n     */\n    public static void load(Bundle savedInstanceState, Object classInstance) {\n        load(savedInstanceState, classInstance, classInstance.getClass());\n    }\n\n    /**\n     * Load all saved fields that have the {@link SaveInstance} annotation.\n     *\n     * @param savedInstanceState\n     *         The saved-instance {@link Bundle} from an {@link Activity} or {@link Fragment}.\n     * @param classInstance\n     *         The object to access the fields which have the {@link SaveInstance} annotation.\n     * @param baseClass\n     *         Base class, used to get all superclasses of the instance.\n     * @see #save(Bundle, Object, Class)\n     */\n    public static void load(Bundle savedInstanceState, Object classInstance, Class<?> baseClass) {\n        if (savedInstanceState == null) {\n            return;\n        }\n        Class<?> clazz = classInstance.getClass();\n        while (baseClass.isAssignableFrom(clazz)) {\n            String className = clazz.getName();\n            for (Field field : clazz.getDeclaredFields()) {\n                if (field.isAnnotationPresent(SaveInstance.class)) {\n                    String key = className + ""#"" + field.getName();\n                    field.setAccessible(true);\n                    try {\n                        Object fieldVal = savedInstanceState.get(key);\n                        if (fieldVal != null) {\n                            field.set(classInstance, fieldVal);\n                        }\n                    } catch (Throwable t) {\n                        Log.d(TAG, ""The field \'"" + key + ""\' was not retrieved from the bundle"");\n                    }\n                }\n            }\n            clazz = clazz.getSuperclass();\n        }\n    }\n\n}Example usage:public class MainActivity extends Activity {\n\n    @SaveInstance\n    private String foo;\n\n    @SaveInstance\n    private int bar;\n\n    @SaveInstance\n    private Intent baz;\n\n    @SaveInstance\n    private boolean qux;\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        Icicle.load(savedInstanceState, this);\n    }\n\n    @Override\n    public void onSaveInstanceState(Bundle outState) {\n        super.onSaveInstanceState(outState);\n        Icicle.save(outState, this);\n    }\n\n}Note:This code was adapted from a library project namedAndroidAutowirewhich is licensed under theMIT license.ShareImprove this answerFollowansweredAug 20, 2015 at 2:04Jared RummlerJared Rummler38k2020 gold badges135135 silver badges148148 bronze badges\n\nMeanwhile I do in general no more useBundle savedInstanceState & CoThe life cycle is for most activities too complicated and not necessary.And Google states itself, it is NOT even reliable.My way is to save any changes immediately in the preferences:SharedPreferences p;\n p.edit().put(..).commit()In some way SharedPreferences work similar like Bundles.\nAnd naturally and at first such values have to be read from preferences.In the case of complex data you may use SQLite instead of using preferences.When applying this concept, the activity just continues to use the last saved state, regardless of whether it was an initial open with reboots in between or a reopen due to the back stack.ShareImprove this answerFolloweditedJan 26, 2019 at 16:17Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMar 31, 2012 at 13:36stefan bachertstefan bachert9,52844 gold badges3434 silver badges4141 bronze badges\n\nTo answer the original question directly. savedInstancestate is null because your Activity is never being re-created.Your Activity will only be re-created with a state bundle when:Configuration changes such as changing the orientation or phone language which may requires a new activity instance to be created.You return to the app from the background after the OS has destroyed the activity.Android will destroy background activities when under memory pressure or after they\'ve been in the background for an extended period of time.When testing your hello world example there are a few ways to leave and return to the Activity.When you press the back button the Activity is finished. Re-launching the app is a brand new instance. You aren\'t resuming from the background at all.When you press the home button or use the task switcher the Activity will go into the background. When navigating back to the application onCreate will only be called if the Activity had to be destroyed.In most cases if you\'re just pressing home and then launching the app again the activity won\'t need to be re-created. It already exists in memory so onCreate() won\'t be called.There is an option under Settings -> Developer Options called ""Don\'t keep activities"". When it\'s enabled Android will always destroy activities and recreate them when they\'re backgrounded. This is a great option to leave enabled when developing because it simulates the worst case scenario. ( A low memory device recycling your activities all the time ).The other answers are valuable in that they teach you the correct ways to store state but I didn\'t feel they really answered WHY your code wasn\'t working in the way you expected.ShareImprove this answerFollowansweredJan 21, 2015 at 2:19Jared KellsJared Kells6,95244 gold badges3939 silver badges4444 bronze badges\n\nTheonSaveInstanceState(bundle)andonRestoreInstanceState(bundle)methods are useful for data persistence merely while rotating the screen (orientation change).They are not even good while switching between applications (since theonSaveInstanceState()method is called butonCreate(bundle)andonRestoreInstanceState(bundle)is not invoked again.For more persistence use shared preferences.read this articleShareImprove this answerFolloweditedDec 18, 2012 at 4:04Mxyk10.7k1616 gold badges5959 silver badges7676 bronze badgesansweredSep 5, 2012 at 8:27MahoradMahorad1,25811 gold badge1515 silver badges2222 bronze badges\n\nMy problem was that I needed persistence only during the application lifetime (i.e. a single execution including starting other sub-activities within the same app and rotating the device etc). I tried various combinations of the above answers but did not get what I wanted in all situations. In the end what worked for me was to obtain a reference to the savedInstanceState during onCreate:mySavedInstanceState=savedInstanceState;and use that to obtain the contents of my variable when I needed it, along the lines of:if (mySavedInstanceState !=null) {\n   boolean myVariable = mySavedInstanceState.getBoolean(""MyVariable"");\n}I useonSaveInstanceStateandonRestoreInstanceStateas suggested above but I guess i could also or alternatively use my method to save the variable when it changes (e.g. usingputBoolean)ShareImprove this answerFollowansweredApr 16, 2014 at 17:11torwalkertorwalker35122 silver badges55 bronze badges\n\nAlthough the accepted answer is correct, there is a faster and easier method to save the Activity state on Android using a library calledIcepick. Icepick is an annotation processor that takes care of all the boilerplate code used in saving and restoring state for you.Doing something like this with Icepick:class MainActivity extends Activity {\n  @State String username; // These will be automatically saved and restored\n  @State String password;\n  @State int age;\n\n  @Override public void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    Icepick.restoreInstanceState(this, savedInstanceState);\n  }\n\n  @Override public void onSaveInstanceState(Bundle outState) {\n    super.onSaveInstanceState(outState);\n    Icepick.saveInstanceState(this, outState);\n  }\n}Is the same as doing this:class MainActivity extends Activity {\n  String username;\n  String password;\n  int age;\n\n  @Override\n  public void onSaveInstanceState(Bundle savedInstanceState) {\n    super.onSaveInstanceState(savedInstanceState);\n    savedInstanceState.putString(""MyString"", username);\n    savedInstanceState.putString(""MyPassword"", password);\n    savedInstanceState.putInt(""MyAge"", age); \n    /* remember you would need to actually initialize these variables before putting it in the\n    Bundle */\n  }\n\n  @Override\n  public void onRestoreInstanceState(Bundle savedInstanceState) {\n    super.onRestoreInstanceState(savedInstanceState);\n    username = savedInstanceState.getString(""MyString"");\n    password = savedInstanceState.getString(""MyPassword"");\n    age = savedInstanceState.getInt(""MyAge"");\n  }\n}Icepick will work with any object that saves its state with aBundle.ShareImprove this answerFollowansweredJan 26, 2016 at 3:07Kevin CronlyKevin Cronly1,38811 gold badge1313 silver badges1818 bronze badges\n\nWhen an activity is created it\'s  onCreate() method is called.@Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n    }savedInstanceState is an object of Bundle class which is null for the first time, but it contains values when it is recreated. To save Activity\'s state you have to override onSaveInstanceState().@Override\n    protected void onSaveInstanceState(Bundle outState) {\n      outState.putString(""key"",""Welcome Back"")\n        super.onSaveInstanceState(outState);       //save state\n    }put your values in ""outState"" Bundle object like outState.putString(""key"",""Welcome Back"") and save by calling super.\nWhen activity will be destroyed it\'s state get saved in Bundle object and can be restored after recreation in onCreate() or onRestoreInstanceState(). Bundle received in onCreate() and onRestoreInstanceState() are same.@Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n          //restore activity\'s state\n         if(savedInstanceState!=null){\n          String reStoredString=savedInstanceState.getString(""key"");\n            }\n    }or//restores activity\'s saved state\n @Override\n    protected void onRestoreInstanceState(Bundle savedInstanceState) {\n      String restoredMessage=savedInstanceState.getString(""key"");\n    }ShareImprove this answerFollowansweredJan 23, 2017 at 10:29Mansuu....Mansuu....1,2261414 silver badges2727 bronze badges\n\nThere are basically two ways to implement this change.usingonSaveInstanceState()andonRestoreInstanceState().In manifestandroid:configChanges=""orientation|screenSize"".I really do not recommend to use second method. Since in one of my experience it was causing half of the device screen black while rotating from portrait to landscape and vice versa.Using first method mentioned above , we can persist data when orientation is changed or any config change happens.\nI know a way in which you can store any type of data inside savedInstance state object.Example: Consider a case if you want to persist Json object.\ncreate a model class with getters and setters .class MyModel extends Serializable{\nJSONObject obj;\n\nsetJsonObject(JsonObject obj)\n{\nthis.obj=obj;\n}\n\nJSONObject getJsonObject()\nreturn this.obj;\n} \n}Now in your activity in onCreate and onSaveInstanceState method do the following. It will look something like this:@override\nonCreate(Bundle savedInstaceState){\nMyModel data= (MyModel)savedInstaceState.getSerializable(""yourkey"")\nJSONObject obj=data.getJsonObject();\n//Here you have retained JSONObject and can use.\n}\n\n\n@Override\nprotected void onSaveInstanceState(Bundle outState) {\nsuper.onSaveInstanceState(outState);\n//Obj is some json object \nMyModel dataToSave= new MyModel();\ndataToSave.setJsonObject(obj);\noustate.putSerializable(""yourkey"",dataToSave); \n\n}ShareImprove this answerFolloweditedApr 22, 2016 at 5:48Mr Robot1,74766 gold badges3636 silver badges6868 bronze badgesansweredDec 18, 2015 at 11:43Krishna Satwaji KhandagaleKrishna Satwaji Khandagale2,2601717 silver badges2525 bronze badges\n\nHere is a comment fromSteve Moseley\'s answer (byToolmakerSteve) that puts things into perspective (in the whole onSaveInstanceState vs onPause, east cost vs west cost saga)@VVK - I partially disagree. Some ways of exiting an app don\'t trigger\n  onSaveInstanceState (oSIS). This limits the usefulness of oSIS. Its\n  worth supporting, for minimal OS resources, but if an app wants to\n  return the user to the state they were in, no matter how the app was\n  exited, it is necessary to use a persistent storage approach instead.I use onCreate to check for bundle, and if it is missing, then checkpersistent storage.This centralizes the decision making. I can\n  recover from a crash, or back button exit or custom menu item Exit, or\n  get back to screen user was on many days later. – ToolmakerSteve Sep\n  19 \'15 at 10:38ShareImprove this answerFolloweditedFeb 7, 2017 at 16:02answeredFeb 7, 2017 at 15:56samussamus6,17266 gold badges3636 silver badges7272 bronze badges\n\nKotlin code:save:override fun onSaveInstanceState(outState: Bundle) {\n    super.onSaveInstanceState(outState.apply {\n        putInt(""intKey"", 1)\n        putString(""stringKey"", ""String Value"")\n        putParcelable(""parcelableKey"", parcelableObject)\n    })\n}and then inonCreate()oronRestoreInstanceState()val restoredInt = savedInstanceState?.getInt(""intKey"") ?: 1 //default int\n    val restoredString = savedInstanceState?.getString(""stringKey"") ?: ""default string""\n    val restoredParcelable = savedInstanceState?.getParcelable<ParcelableClass>(""parcelableKey"") ?: ParcelableClass() //default parcelableAdd default values if you don\'t want to have OptionalsShareImprove this answerFollowansweredFeb 12, 2018 at 19:42RafolsRafols1,3191414 silver badges1212 bronze badges\n\nTo get activity state data stored inonCreate(), first you have to save data in savedInstanceState by overridingSaveInstanceState(Bundle savedInstanceState)method.When activity destroySaveInstanceState(Bundle savedInstanceState)method gets called and there you save data you want to save. And you get same inonCreate()when activity restart.(savedInstanceState wont be null since you have saved some data in it before activity get destroyed)ShareImprove this answerFolloweditedJan 3, 2018 at 12:02Rahul Sharma2,89322 gold badges2828 silver badges4141 bronze badgesansweredSep 28, 2016 at 11:46iamabhaykmriamabhaykmr1,96133 gold badges3030 silver badges5656 bronze badges\n\n#Kotlin#\nYou must overrideonSaveInstanceStateandonRestoreInstanceStateto store and retrieve your variables you want to be persistentLife cycle graphImage from hereStore variablespublic override fun onSaveInstanceState(savedInstanceState: Bundle) {\n    super.onSaveInstanceState(savedInstanceState)\n\n    // prepare variables here\n    savedInstanceState.putInt(""kInt"", 10)\n    savedInstanceState.putBoolean(""kBool"", true)\n    savedInstanceState.putDouble(""kDouble"", 4.5)\n    savedInstanceState.putString(""kString"", ""Hello Kotlin"")\n}###Retrieve variablespublic override fun onRestoreInstanceState(savedInstanceState: Bundle) {\n    super.onRestoreInstanceState(savedInstanceState)\n\n    val myInt = savedInstanceState.getInt(""kInt"")\n    val myBoolean = savedInstanceState.getBoolean(""kBool"")\n    val myDouble = savedInstanceState.getDouble(""kDouble"")\n    val myString = savedInstanceState.getString(""kString"")\n    // use variables here\n}ShareImprove this answerFolloweditedApr 27 at 17:01Machavity♦31.4k2727 gold badges9595 silver badges103103 bronze badgesansweredJun 1, 2019 at 7:05Sazzad Hissain KhanSazzad Hissain Khan39.5k3939 gold badges205205 silver badges288288 bronze badges\n\nNot sure if my solution is frowned upon or not, but I use a bound service to persist ViewModel state. Whether you store it in memory in the service or persist and retrieve it from a SQLite database depends on your requirements. This is what services of any flavor do, they provide services such as maintaining application state and abstract common business logic.Because of memory and processing constraints inherent on mobile devices, I treat Android views in a similar way to a web page. The page does not maintain state, it is purely a presentation layer component whose only purpose is to present application state and accept user input. Recent trends in web app architecture employ the use of the age-old Model, View, Controller (MVC) pattern, where the page is the View, domain data is the model, and the controller sits behind a web service. The same pattern can be employed in Android with the View being, well ... the View, the model is your domain data, and the Controller is implemented as an Android bound service. Whenever you want a view to interact with the controller, bind to it on start/resume and unbind on stop/pause.This approach gives you the added bonus of enforcing the Separation of Concern design principle in that all of you application business logic can be moved into your service which reduces duplicated logic across multiple views and allows the view to enforce another important design principle, Single Responsibility.ShareImprove this answerFolloweditedDec 28, 2018 at 3:39Pang9,914146146 gold badges8585 silver badges123123 bronze badgesansweredAug 9, 2016 at 12:57ComeInComeIn1,5991818 silver badges1313 bronze badges\n\nSimple quick to solve this problem is usingIcePickFirst, setup the library inapp/build.gradlerepositories {\n  maven {url ""https://clojars.org/repo/""}\n}\ndependencies {\n  compile \'frankiesardo:icepick:3.2.0\'\n  provided \'frankiesardo:icepick-processor:3.2.0\'\n}Now, let\'s check this example below how to save state in Activitypublic class ExampleActivity extends Activity {\n  @State String username; // This will be automatically saved and restored\n\n  @Override public void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    Icepick.restoreInstanceState(this, savedInstanceState);\n  }\n\n  @Override public void onSaveInstanceState(Bundle outState) {\n    super.onSaveInstanceState(outState);\n    Icepick.saveInstanceState(this, outState);\n  }\n}It works for Activities, Fragments or any object that needs to serialize its state on a Bundle (e.g. mortar\'s ViewPresenters)Icepick can also generate the instance state code for custom Views:class CustomView extends View {\n  @State int selectedPosition; // This will be automatically saved and restored\n\n  @Override public Parcelable onSaveInstanceState() {\n    return Icepick.saveInstanceState(this, super.onSaveInstanceState());\n  }\n\n  @Override public void onRestoreInstanceState(Parcelable state) {\n    super.onRestoreInstanceState(Icepick.restoreInstanceState(this, state));\n  }\n\n  // You can put the calls to Icepick into a BaseCustomView and inherit from it\n  // All Views extending this CustomView automatically have state saved/restored\n}ShareImprove this answerFolloweditedSep 14, 2016 at 2:26answeredAug 8, 2016 at 2:07THANN PhearumTHANN Phearum2,0392323 silver badges2020 bronze badges\n\nNow Android providesViewModelsfor saving state, you should try to use that instead of saveInstanceState.ShareImprove this answerFollowansweredAug 27, 2018 at 11:51M Abdul SamiM Abdul Sami1,52211 gold badge1212 silver badges1616 bronze badges\n\nThere is a way to make Android save the states without implementing any method. Just add this line to your Manifest in Activity declaration:android:configChanges=""orientation|screenSize""It should look like this:<activity\n    android:name="".activities.MyActivity""\n    android:configChanges=""orientation|screenSize"">\n</activity>Hereyou can find more information about this property.It\'s recommended to let Android handle this for you than the manually handling.ShareImprove this answerFollowansweredOct 21, 2019 at 11:32IgniteCodersIgniteCoders4,92233 gold badges4545 silver badges6363 bronze badges\n\nKotlin Solution:For custom class save inonSaveInstanceStateyou can be converted your class toJSONstring and restore it withGsonconvertion and for singleString, Double, Int, Longvalue save and restore as following. The following example is forFragmentandActivity:For Activity:For put data insaveInstanceState:override fun onSaveInstanceState(outState: Bundle) {\n        super.onSaveInstanceState(outState)\n\n        //for custom class-----\n        val gson = Gson()\n        val json = gson.toJson(your_custom_class)\n        outState.putString(""CUSTOM_CLASS"", json)\n\n        //for single value------\n        outState.putString(""MyString"", stringValue)\n        outState.putBoolean(""MyBoolean"", true)\n        outState.putDouble(""myDouble"", doubleValue)\n        outState.putInt(""MyInt"", intValue)\n    }Restore data:override fun onRestoreInstanceState(savedInstanceState: Bundle) {\n    super.onRestoreInstanceState(savedInstanceState)\n\n    //for custom class restore\n    val json = savedInstanceState?.getString(""CUSTOM_CLASS"")\n    if (!json!!.isEmpty()) {\n        val gson = Gson()\n        testBundle = gson.fromJson(json, Session::class.java)\n    }\n\n  //for single value restore\n\n   val myBoolean: Boolean = savedInstanceState?.getBoolean(""MyBoolean"")\n   val myDouble: Double = savedInstanceState?.getDouble(""myDouble"")\n   val myInt: Int = savedInstanceState?.getInt(""MyInt"")\n   val myString: String = savedInstanceState?.getString(""MyString"")\n }You can restore it on ActivityonCreatealso.For fragment:For put class insaveInstanceState:override fun onSaveInstanceState(outState: Bundle) {\n        super.onSaveInstanceState(outState)\n        val gson = Gson()\n        val json = gson.toJson(customClass)\n        outState.putString(""CUSTOM_CLASS"", json)\n    }Restore data:override fun onActivityCreated(savedInstanceState: Bundle?) {\n        super.onActivityCreated(savedInstanceState)\n\n        //for custom class restore\n        if (savedInstanceState != null) {\n            val json = savedInstanceState.getString(""CUSTOM_CLASS"")\n            if (!json!!.isEmpty()) {\n                val gson = Gson()\n                val customClass: CustomClass = gson.fromJson(json, CustomClass::class.java)\n            }\n        }\n\n      // for single value restore\n      val myBoolean: Boolean = savedInstanceState.getBoolean(""MyBoolean"")\n      val myDouble: Double = savedInstanceState.getDouble(""myDouble"")\n      val myInt: Int = savedInstanceState.getInt(""MyInt"")\n      val myString: String = savedInstanceState.getString(""MyString"")\n    }ShareImprove this answerFolloweditedJun 14, 2020 at 11:05answeredJun 14, 2020 at 6:00Jamil Hasnine TamimJamil Hasnine Tamim4,4403030 silver badges4444 bronze badges\n\nusing Android ViewModel & SavedStateHandle to persist the serializable datapublic class MainActivity extends AppCompatActivity {\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        ActivityMainBinding binding = ActivityMainBinding.inflate(getLayoutInflater());\n        binding.setViewModel(new ViewModelProvider(this).get(ViewModel.class));\n        binding.setLifecycleOwner(this);\n        setContentView(binding.getRoot());\n    }\n\n    public static class ViewModel extends AndroidViewModel {\n\n        //This field SURVIVE the background process reclaim/killing & the configuration change\n        public final SavedStateHandle savedStateHandle;\n\n        //This field NOT SURVIVE the background process reclaim/killing but SURVIVE the configuration change\n        public final MutableLiveData<String> inputText2 = new MutableLiveData<>();\n\n\n        public ViewModel(@NonNull Application application, SavedStateHandle savedStateHandle) {\n            super(application);\n            this.savedStateHandle = savedStateHandle;\n        }\n    }\n}in layout file<?xml version=""1.0"" encoding=""utf-8""?>\n<layout xmlns:android=""http://schemas.android.com/apk/res/android"">\n\n    <data>\n\n        <variable\n            name=""viewModel""\n            type=""com.xxx.viewmodelsavedstatetest.MainActivity.ViewModel"" />\n    </data>\n\n    <LinearLayout xmlns:tools=""http://schemas.android.com/tools""\n        android:layout_width=""match_parent""\n        android:layout_height=""match_parent""\n        android:orientation=""vertical""\n        tools:context="".MainActivity"">\n\n\n        <EditText\n            android:layout_width=""match_parent""\n            android:layout_height=""wrap_content""\n            android:autofillHints=""""\n            android:hint=""This field SURVIVE the background process reclaim/killing &amp; the configuration change""\n            android:text=\'@={(String)viewModel.savedStateHandle.getLiveData(""activity_main/inputText"", """")}\' />\n\n        <SeekBar\n            android:layout_width=""match_parent""\n            android:layout_height=""wrap_content""\n            android:max=""100""\n            android:progress=\'@={(Integer)viewModel.savedStateHandle.getLiveData(""activity_main/progress"", 50)}\' />\n\n        <EditText\n            android:layout_width=""match_parent""\n            android:layout_height=""wrap_content""\n            android:hint=""This field SURVIVE the background process reclaim/killing &amp; the configuration change""\n            android:text=\'@={(String)viewModel.savedStateHandle.getLiveData(""activity_main/inputText"", """")}\' />\n\n        <SeekBar\n            android:layout_width=""match_parent""\n            android:layout_height=""wrap_content""\n            android:max=""100""\n            android:progress=\'@={(Integer)viewModel.savedStateHandle.getLiveData(""activity_main/progress"", 50)}\' />\n\n        <EditText\n            android:layout_width=""match_parent""\n            android:layout_height=""wrap_content""\n            android:hint=""This field NOT SURVIVE the background process reclaim/killing but SURVIVE the configuration change""\n            android:text=\'@={viewModel.inputText2}\' />\n\n    </LinearLayout>\n</layout>Test:1. start the test activity\n2. press home key to go home\n3. adb shell kill <the test activity process>\n4. open recent app list and restart the test activityShareImprove this answerFolloweditedJan 7, 2021 at 10:47answeredJan 4, 2021 at 9:33YessyYessy1,27211 gold badge1212 silver badges1515 bronze badges\n\nWhat to save and what not to?Ever wondered why the text in theEditTextgets saved automatically while an orientation change? Well, this answer is for you.When an instance of an Activity gets destroyed and the System recreates a new instance (for example, configuration change). It tries to recreate it using a set of saved data of old Activity State (instance state).Instance state is a collection ofkey-valuepairs stored in aBundleobject.By default System saves the View objects in the Bundle for example.Text inEditTextScroll position in aListView, etc.If you need another variable to be saved as a part of instance state you shouldOVERRIDEonSavedInstanceState(Bundle savedinstaneState)method.For example,int currentScorein a GameActivityMore detail about the onSavedInstanceState(Bundle savedinstaneState) while saving data@Override\npublic void onSaveInstanceState(Bundle savedInstanceState) {\n    // Save the user\'s current game state\n    savedInstanceState.putInt(STATE_SCORE, mCurrentScore);\n\n    // Always call the superclass so it can save the view hierarchy state\n    super.onSaveInstanceState(savedInstanceState);\n}So by mistake if you forget to callsuper.onSaveInstanceState(savedInstanceState);the default behavior\n  will not work ie Text in EditText will not save.Which to choose for restoring Activity state?onCreate(Bundle savedInstanceState)ORonRestoreInstanceState(Bundle savedInstanceState)Both methods get the same Bundle object, so it does not really matter where you write your restoring logic. The only difference is that inonCreate(Bundle savedInstanceState)method you will have to give a null check while it is not needed in the latter case. Other answers have already code snippets. You can refer them.More detail about the onRestoreInstanceState(Bundle savedinstaneState)@Override\npublic void onRestoreInstanceState(Bundle savedInstanceState) {\n    // Always call the superclass so it can restore the view hierarchy\n    super.onRestoreInstanceState(savedInstanceState);\n\n    // Restore state members from the saved instance\n    mCurrentScore = savedInstanceState.getInt(STATE_SCORE);\n}Always callsuper.onRestoreInstanceState(savedInstanceState);so that System restore the View hierarchy by defaultBonusTheonSaveInstanceState(Bundle savedInstanceState)is invoked by the system only when the user intends to come back to the Activity. For example, you are using App X and suddenly you get a call. You move to the caller app and come back to the app X. In this case theonSaveInstanceState(Bundle savedInstanceState)method will be invoked.But consider this if a user presses the back button. It is assumed that the user does not intend to come back to the Activity, hence in this caseonSaveInstanceState(Bundle savedInstanceState)will not be invoked by the system.\nPoint being you should consider all the scenarios while saving data.Relevant links:Demo on default behaviorAndroid Official Documentation.ShareImprove this answerFolloweditedFeb 19, 2019 at 4:41answeredJan 10, 2019 at 8:48Rohit SinghRohit Singh18k88 gold badges9595 silver badges9494 bronze badges'}","{'title': 'Which ""href"" value should I use for JavaScript links, ""#"" or ""javascript:void(0)""?', 'question': 'The following are two methods of building a link that has the sole purpose of running JavaScript code. Which is better, in terms of functionality, page load speed, validation purposes, etc.?function myJsFunc() {\r\n    alert(""myJsFunc"");\r\n}<a href=""#"" onclick=""myJsFunc();"">Run JavaScript Code</a>orfunction myJsFunc() {\r\n    alert(""myJsFunc"");\r\n}<a href=""javascript:void(0)"" onclick=""myJsFunc();"">Run JavaScript Code</a>javascripthtmlperformanceoptimizationhrefShareImprove this questionFolloweditedFeb 19, 2017 at 8:58community wiki18 revs, 12 users 36%Peter Mortensen', 'answers': 'I usejavascript:void(0).Three reasons. Encouraging the use of#amongst a team of developers inevitably leads to some using the return value of the function called like this:function doSomething() {\n    //Some code\n    return false;\n}But then they forget to usereturn doSomething()in the onclick and just usedoSomething().A second reason for avoiding#is that the finalreturn false;will not execute if the called function throws an error. Hence the developers have to also remember to handle any error appropriately in the called function.A third reason is that there are cases where theonclickevent property is assigned dynamically.  I prefer to be able to call a function or assign it dynamically without having to code the function specifically for one method of attachment or another. Hence myonclick(or on anything) in HTML markup look like this:onclick=""someFunc.call(this)""ORonclick=""someFunc.apply(this, arguments)""Usingjavascript:void(0)avoids all of the above headaches, and I haven\'t found any examples of a downside.So if you\'re a lone developer then you can clearly make your own choice, but if you work as a team you have to either state:Usehref=""#"", make sureonclickalways containsreturn false;at the end, that any called function does not throw an error and if you attach a function dynamically to theonclickproperty make sure that as well as not throwing an error it returnsfalse.ORUsehref=""javascript:void(0)""The second is clearly much easier to communicate.ShareImprove this answerFolloweditedFeb 20, 2016 at 2:02community wiki6 revs, 5 users 76%AnthonyWJones\n\nNeither.If you can have an actual URL that makes sense use that as the HREF.  The onclick won\'t fire if someone middle-clicks on your link to open a new tab or if they have JavaScript disabled.If that is not possible, then you should at least inject the anchor tag into the document with JavaScript and the appropriate click event handlers.I realize this isn\'t always possible, but in my opinion it should be striven for in developing any public website.Check outUnobtrusive JavaScriptandProgressive enhancement(both Wikipedia).ShareImprove this answerFolloweditedMar 11, 2012 at 8:30community wiki3 revs, 2 users 76%Aaron Wagner\n\nDoing<a href=""#"" onclick=""myJsFunc();"">Link</a>or<a href=""javascript:void(0)"" onclick=""myJsFunc();"">Link</a>or whatever else that contains anonclickattribute - was okay back five years ago, though now it can be a bad practice. Here\'s why:It promotes the practice of obtrusive JavaScript - which has turned out to be difficult to maintain and difficult to scale. More on this inUnobtrusive JavaScript.You\'re spending your time writing incredibly overly verbose code - which has very little (if any) benefit to your codebase.There are now better, easier, and more maintainable and scalable ways of accomplishing the desired result.The unobtrusive JavaScript wayJust don\'t have ahrefattribute at all! Any good CSS reset would take care of the missing default cursor style, so that is a non-issue. Then attach your JavaScript functionality using graceful and unobtrusive  best practices - which are more maintainable as your JavaScript logic stays in JavaScript, instead of in your markup - which is essential when you start developing large scale JavaScript applications which require your logic to be split up into blackboxed components and templates. More on this inLarge-scale JavaScript Application ArchitectureSimple code example// Cancel click event\r\n$(\'.cancel-action\').click(function(){\r\n    alert(\'Cancel action occurs!\');\r\n});\r\n\r\n// Hover shim for Internet Explorer 6 and Internet Explorer 7.\r\n$(document.body).on(\'hover\',\'a\',function(){\r\n    $(this).toggleClass(\'hover\');\r\n});a { cursor: pointer; color: blue; }\r\na:hover,a.hover { text-decoration: underline; }<script src=""https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js""></script>\r\n<a class=""cancel-action"">Cancel this action</a>A blackboxedBackbone.jsexampleFor a scalable, blackboxed, Backbone.js component example -see this working jsfiddle example here. Notice how we utilize unobtrusive JavaScript practices, and in a tiny amount of code have a component that can be repeated across the page multiple times without side-effects or conflicts between the different component instances. Amazing!NotesOmitting thehrefattribute on theaelement will cause the element to not be accessible usingtabkey navigation. If you wish for those elements to be accessible via thetabkey, you can set thetabindexattribute, or usebuttonelements instead. You can easily style button elements to look like normal links as mentioned inTracker1\'s answer.Omitting thehrefattribute on theaelement will causeInternet\xa0Explorer\xa06andInternet\xa0Explorer\xa07to not take on thea:hoverstyling, which is why we have added a simple JavaScript shim to accomplish this viaa.hoverinstead. Which is perfectly okay, as if you don\'t have a href attribute and no graceful degradation then your link won\'t work anyway - and you\'ll have bigger issues to worry about.If you want your action to still work with JavaScript disabled, then using anaelement with ahrefattribute that goes to some URL that will perform the action manually instead of via an Ajax request or whatever should be the way to go. If you are doing this, then you want to ensure you do anevent.preventDefault()on your click call to make sure when the button is clicked it does not follow the link. This option is called graceful degradation.ShareImprove this answerFolloweditedMay 23, 2017 at 12:10community wiki17 revs, 5 users 69%balupton\n\n\'#\'will take the user back to the top of the page, so I usually go withvoid(0).javascript:;also behaves likejavascript:void(0);ShareImprove this answerFolloweditedMay 11, 2017 at 4:33community wiki4 revs, 4 users 43%Gabe Rogan\n\nI would honestly suggest neither.  I would use a stylized<button></button>for that behavior.button.link {\r\n  display: inline-block;\r\n  position: relative;\r\n  background-color: transparent;\r\n  cursor: pointer;\r\n  border: 0;\r\n  padding: 0;\r\n  color: #00f;\r\n  text-decoration: underline;\r\n  font: inherit;\r\n}<p>A button that looks like a <button type=""button"" class=""link"">link</button>.</p>This way you can assign your onclick.  I also suggest binding via script, not using theonclickattribute on the element tag.  The only gotcha is the psuedo 3d text effect in older IEs that cannot be disabled.If youMUSTuse an A element, usejavascript:void(0);for reasons already mentioned.Will always intercept in case your onclick event fails.Will not have errant load calls happen, or trigger other events based on a hash changeThe hash tag can cause unexpected behavior if the click falls through (onclick throws), avoid it unless it\'s an appropriate fall-through behavior, and you want to change the navigation history.NOTE: You can replace the0with a string such asjavascript:void(\'Delete record 123\')which can serve as an extra indicator that will show what the click will actually do.ShareImprove this answerFolloweditedMay 6, 2018 at 20:40community wiki5 revs, 4 users 58%Tracker1\n\nThe first one, ideally with a real link to follow in case the user has JavaScript disabled. Just make sure to return false to prevent the click event from firing if the JavaScript executes.<a href=""#"" onclick=""myJsFunc(); return false;"">Link</a>If you use Angular2, this way works:<a [routerLink]="""" (click)=""passTheSalt()"">Click me</a>.See herehttps://stackoverflow.com/a/45465728/2803344ShareImprove this answerFolloweditedOct 12, 2017 at 12:00community wiki3 revs, 2 users 55%Belter\n\nNeither if you ask me;If your ""link"" has the sole purpose of running some JavaScript code it doesn\'t qualify as a link; rather a piece of text with a JavaScript function coupled to it. I would recommend to use a<span>tag with anonclick handlerattached to it and some basic CSS to immitate a link. Links are made for navigation, and if your JavaScript code isn\'t for navigation it should not be an<a>tag.Example:function callFunction() { console.log(""function called""); }.jsAction {\r\n    cursor: pointer;\r\n    color: #00f;\r\n    text-decoration: underline;\r\n}<p>I want to call a JavaScript function <span class=""jsAction"" onclick=""callFunction();"">here</span>.</p>ShareImprove this answerFolloweditedNov 5, 2017 at 13:52community wiki4 revs, 4 users 52%fijter\n\nIdeally you\'d do this:<a href=""javascriptlessDestination.html"" onclick=""myJSFunc(); return false;"">Link text</a>Or, even better, you\'d have the default action link in the HTML, and you\'d add the onclick event to the element unobtrusively via JavaScript after the DOM renders, thus ensuring that if JavaScript is not present/utilized you don\'t have useless event handlers riddling your code and potentially obfuscating (or at least distracting from) your actual content.ShareImprove this answerFolloweditedMay 31, 2011 at 8:04community wiki2 revs, 2 users 80%Steve Paulo\n\nUsing just#makes some funny movements, so I would recommend to use#selfif you would like to save on typing efforts ofJavaScript bla, bla,.ShareImprove this answerFolloweditedNov 10, 2015 at 4:10community wiki3 revs, 3 users 40%Spammer Joe\n\nI use the following<a href=""javascript:;"" onclick=""myJsFunc();"">Link</a>instead<a href=""javascript:void(0);"" onclick=""myJsFunc();"">Link</a>ShareImprove this answerFolloweditedAug 9, 2018 at 11:14community wiki4 revs, 4 users 70%se_pavel\n\nI recommend using a<button>element instead,especiallyif the control is supposed to produce a change in the data. (Something like a POST.)It\'s even better if you inject the elements unobtrusively, a type of progressive enhancement. (Seethis comment.)ShareImprove this answerFolloweditedNov 29, 2019 at 8:14community wiki3 revs, 2 users 93%treat your mods well\n\nI agree with suggestions elsewhere stating that you should use regular URL inhrefattribute, then call some JavaScript function in onclick. The flaw is, that they automaticaly addreturn falseafter the call.The problem with this approach is, that if the function will not work or if there will be any problem, the link will become unclickable. Onclick event will always returnfalse, so the normal URL will not be called.There\'s very simple solution. Let function returntrueif it works correctly. Then use the returned value to determine if the click should be cancelled or not:JavaScriptfunction doSomething() {\n    alert( \'you clicked on the link\' );\n    return true;\n}HTML<a href=""path/to/some/url"" onclick=""return !doSomething();"">link text</a>Note, that I negate the result of thedoSomething()function. If it works, it will returntrue, so it will be negated (false) and thepath/to/some/URLwill not be called. If the function will returnfalse(for example, the browser doesn\'t support something used within the function or anything else goes wrong), it is negated totrueand thepath/to/some/URLis called.ShareImprove this answerFolloweditedMar 11, 2012 at 8:36community wiki2 revs, 2 users 93%Fczbkk\n\n#is better thanjavascript:anything, but the following is even better:HTML:<a href=""/gracefully/degrading/url/with/same/functionality.ext"" class=""some-selector"">For great justice</a>JavaScript:$(function() {\n    $("".some-selector"").click(myJsFunc);\n});You should always strive for graceful degradation (in the event that the user doesn\'t have JavaScript enabled...and when it is with specs. and budget).  Also, it is considered bad form to use JavaScript attributes and protocol directly in HTML.ShareImprove this answerFollowansweredNov 23, 2009 at 20:38community wikiJustin Johnson\n\nUnless you\'re writing out the link using JavaScript (so that you know it\'s enabled in the browser), you should ideally be providing a proper link for people who are browsing with JavaScript disabled and then prevent the default action of the link in your onclick event handler. This way those with JavaScript enabled will run the function and those with JavaScript disabled will jump to an appropriate page (or location within the same page) rather than just clicking on the link and having nothing happen.ShareImprove this answerFollowansweredSep 25, 2008 at 18:02community wikiSimon Forrest\n\nDefinitely hash (#) is better because in JavaScript it is a pseudoscheme:pollutes historyinstantiates new copy of engineruns in global scope and doesn\'t respect event system.Of course ""#"" with an onclick handler which prevents default action is [much] better. Moreover, a link that has the sole purpose to run JavaScript is not really ""a link"" unless you are sending user to some sensible anchor on the page (just # will send to top) when something goes wrong. You can simply simulate look and feel of link with stylesheet and forget about href at all.In addition, regarding cowgod\'s suggestion, particularly this:...href=""javascript_required.html"" onclick=""...This is good approach, but it doesn\'t distinguish between ""JavaScript disabled"" and ""onclick fails"" scenarios.ShareImprove this answerFolloweditedFeb 20, 2017 at 6:52community wiki5 revs, 4 users 45%Free Consulting\n\nI usually go for<a href=""javascript:;"" onclick=""yourFunction()"">Link description</a>It\'s shorter than javascript:void(0) and does the same.ShareImprove this answerFollowansweredAug 13, 2015 at 1:01community wikidnetix\n\nI choose usejavascript:void(0), because use this could prevent right click to open the content menu. Butjavascript:;is shorter and does the same thing.ShareImprove this answerFolloweditedAug 9, 2018 at 11:16community wiki3 revs, 3 users 40%user564706\n\nI would use:<a href=""#"" onclick=""myJsFunc();return false;"">Link</a>Reasons:This makes thehrefsimple, search engines need it. If you use anything else ( such as a string), it may cause a404 not founderror.When mouse hovers over the link, it doesn\'t show that it is a script.By usingreturn false;, the page doesn\'t jump to the top or break thebackbutton.ShareImprove this answerFolloweditedAug 22, 2013 at 11:37community wiki2 revs, 2 users 73%Eric Yin\n\nDon\'t use links for the sole purpose of running JavaScript.The use of href=""#"" scrolls the page to the top; the use of void(0) creates navigational problems within the browser.Instead, use an element other than a link:<span onclick=""myJsFunc()"" class=""funcActuator"">myJsFunc</span>And style it with CSS:.funcActuator { \n  cursor: default;\n}\n\n.funcActuator:hover { \n  color: #900;\n}ShareImprove this answerFollowansweredJan 26, 2016 at 19:54community wikiGarrett\n\nSo, when you are doing some JavaScript things with an<a />tag and if you puthref=""#""as well, you can addreturn falseat the end of the event(in case of inline event binding)like:<a href=""#"" onclick=""myJsFunc(); return false;"">Run JavaScript Code</a>Or you can change thehrefattribute with JavaScript like:<a href=""javascript://"" onclick=""myJsFunc();"">Run JavaScript Code</a>or<a href=""javascript:void(0)"" onclick=""myJsFunc();"">Run JavaScript Code</a>But semantically, all the above ways to achieve this are wrong(it works fine though). If any element is not created to navigate the page and that have some JavaScript things associated with it, then it should not be a<a>tag.You can simply use a<button />instead to do things or any other element like b, span or whatever fits there as per your need, because you are allowed to add events on all the elements.So,there is one benefitto use<a href=""#"">. You get the cursor pointer by default on that element when you doa href=""#"". For that, I think you can use CSS for this likecursor:pointer;which solves this problem also.And at the end, if you are binding the event from the JavaScript code itself, there you can doevent.preventDefault()to achieve this if you are using<a>tag, but if you are not using a<a>tag for this, there you get an advantage, you don\'t need to do this.So, if you see, it\'s better not to use a tag for this kind of stuff.ShareImprove this answerFolloweditedOct 26, 2014 at 12:32community wiki2 revs, 2 users 84%Ashish Kumar\n\nUsually, you should always have a fallback link to make sure that clients with JavaScript disabled still have some functionality. This concept is called unobtrusive JavaScript.Example... Let\'s say you have the following search link:<a href=""search.php"" id=""searchLink"">Search</a>You can always do the following:var link = document.getElementById(\'searchLink\');\n\nlink.onclick = function() {\n    try {\n        // Do Stuff Here        \n    } finally {\n        return false;\n    }\n};That way, people with JavaScript disabled are directed tosearch.phpwhile your viewers with JavaScript view your enhanced functionality.ShareImprove this answerFolloweditedMay 28, 2023 at 19:13community wiki4 revs, 4 users 84%Andrew Moore\n\nIt would be better to use jQuery,$(document).ready(function() {\n    $(""a"").css(""cursor"", ""pointer"");\n});and omit bothhref=""#""andhref=""javascript:void(0)"".The anchor tag markup will be like<a onclick=""hello()"">Hello</a>Simple enough!ShareImprove this answerFolloweditedMar 9, 2014 at 10:43community wiki3 revs, 3 users 88%naveen\n\nIf you happen to be usingAngularJS, you can use the following:<a href="""">Do some fancy JavaScript</a>Which will not do anything.In additionIt will not take you to the top of the page, as with (#)Therefore, you don\'t need to explicitly returnfalsewith JavaScriptIt is short an conciseShareImprove this answerFolloweditedJul 30, 2013 at 10:45community wiki2 revswhirlwin\n\nDepending on what you want to accomplish, you could forget the onclick and just use the href:<a href=""javascript:myJsFunc()"">Link Text</a>It gets around the need to return false. I don\'t like the#option because, as mentioned, it will take the user to the top of the page. If you have somewhere else to send the user if they don\'t have JavaScript enabled (which is rare where I work, but a very good idea), then Steve\'s proposed method works great.<a href=""javascriptlessDestination.html"" onclick=""myJSFunc(); return false;"">Link text</a>Lastly, you can usejavascript:void(0)if you do not want anyone to go anywhere and if you don\'t want to call a JavaScript function. It works great if you have an image you want a mouseover event to happen with, but there\'s not anything for the user to click on.ShareImprove this answerFolloweditedMar 11, 2012 at 8:57community wiki3 revs, 3 users 80%Will Read\n\nI believe you are presenting a false dichotomy. These are not the only two options.I agree with Mr. D4V360 who suggested that, even though you are using the anchor tag, you do not truly have an anchor here. All you have is a special section of a document that should behave slightly differently. A<span>tag is far more appropriate.ShareImprove this answerFolloweditedMay 28, 2023 at 19:16community wiki3 revs, 3 users 67%CleverPatrick\n\nI personally use them in combination. For example:HTML<a href=""#"">Link</a>with little bit of jQuery$(\'a[href=""#""]\').attr(\'href\',\'javascript:void(0);\');or$(\'a[href=""#""]\').click(function(e) {\n   e.preventDefault();\n});But I\'m using that just for preventing the page jumping to the top when the user clicks on an empty anchor. I\'m rarely using onClick and otheronevents directly in HTML.My suggestion would be to use<span>element with theclassattribute instead of\nan anchor. For example:<span class=""link"">Link</span>Then assign the function to.linkwith a script wrapped in the body and just before the</body>tag or in an external JavaScript document.<script>\n    (function($) {\n        $(\'.link\').click(function() {\n            // do something\n        });\n    })(jQuery);\n</script>*Note:For dynamically created elements, use:$(\'.link\').on(\'click\', function() {\n    // do something\n});And for dynamically created elements which are created with dynamically created elements, use:$(document).on(\'click\',\'.link\', function() {\n    // do something\n});Then you can style the span element to look like an anchor with a little CSS:.link {\n    color: #0000ee;\n    text-decoration: underline;\n    cursor: pointer;\n}\n.link:active {\n    color: red;\n}Here\'sa jsFiddleexample of above aforementioned.ShareImprove this answerFolloweditedJan 24, 2019 at 23:25community wiki4 revs, 3 users 82%mdesdev\n\nWhen I\'ve got several faux-links, I prefer to give them a class of \'no-link\'.Then in jQuery, I add the following code:$(function(){\n   $(\'.no-link\').click(function(e){\n       e.preventDefault();\n   });\n});And for the HTML, the link is simply<a href=""/"" class=""no-link"">Faux-Link</a>I don\'t like using Hash-Tags unless they\'re used for anchors, and I only do the above when I\'ve got more than two faux-links, otherwise I go with javascript:void(0).<a href=""javascript:void(0)"" class=""no-link"">Faux-Link</a>Typically, I like to just avoid using a link at all and just wrap something around in a span and use that as a way to active some JavaScript code, like a pop-up or a content-reveal.ShareImprove this answerFolloweditedOct 26, 2014 at 12:28community wiki2 revs, 2 users 88%Stacks on Stacks on Stacks\n\nI tried both in google chrome with the developer tools, and theid=""#""took 0.32 seconds. While thejavascript:void(0)method took only 0.18 seconds. So in google chrome,javascript:void(0)works better and faster.ShareImprove this answerFolloweditedFeb 20, 2017 at 15:46community wiki2 revs, 2 users 67%user6460587\n\nOn a modern website the use of href should be avoided if the element is only doing JavaScript functionality (not a real link).Why?\nThe presence of this element tells the browser that this is a link with a destination. \nWith that, the browser will show the Open In New Tab / Window function (also triggered when you use shift+click). \nDoing so will result in opening the same page without the desired function triggered (resulting in user frustration).In regards to IE:\nAs of IE8,  element styling (including hover) works if the doctype is set. Other versions of IE are not really to worry about anymore.Only Drawback:\nRemoving HREF removes the tabindex.\nTo overcome this, you can use a button that\'s styled as a link or add a tabindex attribute using JS.ShareImprove this answerFolloweditedFeb 6, 2019 at 1:32community wiki2 revsdjpalme\n\nIt\'s nice to have your site be accessible by users with JavaScript disabled, in which case the href points to a page that performs the same action as the JavaScript being executed. Otherwise I use ""#"" with a ""return false;"" to prevent the default action (scroll to top of the page) as others have mentioned.Googling for ""javascript:void(0)"" provides a lot of information on this topic. Some of them, likethis onemention reasons toNOT use void(0).ShareImprove this answerFolloweditedAug 15, 2018 at 9:38community wiki4 revs, 4 users 42%Peter Mortensen'}","{'title': 'Is there an ""exists"" function for jQuery?', 'question': 'How can I check the existence of an element in jQuery?The current code that I have is this:if ($(selector).length > 0) {\n    // Do something\n}Is there a more elegant way to approach this? Perhaps a plugin or a function?javascriptjqueryShareImprove this questionFolloweditedDec 16, 2017 at 11:29René6,13644 gold badges2424 silver badges4141 bronze badgesaskedAug 27, 2008 at 19:49Jake McGrawJake McGraw56k1010 gold badges5050 silver badges6363 bronze badges', 'answers': 'In JavaScript, everything is \'truthy\' or \'falsy\', and for numbers0meansfalse, everything elsetrue. So you could write:if ($(selector).length)You don\'t need that>0part.ShareImprove this answerFolloweditedJun 22, 2020 at 7:57MartinNajemi55533 silver badges2222 bronze badgesansweredFeb 25, 2009 at 19:16Tim BütheTim Büthe63.4k1717 gold badges9494 silver badges130130 bronze badges\n\nYes!jQuery.fn.exists = function(){ return this.length > 0; }\n\nif ($(selector).exists()) {\n    // Do something\n}This is in response to:Herding Code podcast with Jeff AtwoodShareImprove this answerFolloweditedFeb 13, 2017 at 22:37user719662answeredAug 27, 2008 at 19:50Jake McGrawJake McGraw56k1010 gold badges5050 silver badges6363 bronze badges\n\nIf you usedjQuery.fn.exists = function(){return ($(this).length > 0);}\nif ($(selector).exists()) { }you would imply that chaining was possible when it is not.This would be better:jQuery.exists = function(selector) {return ($(selector).length > 0);}\nif ($.exists(selector)) { }Alternatively,from the FAQ:if ( $(\'#myDiv\').length ) { /* Do something */ }You could also use the following. If there are no values in the jQuery object array then getting the first item in the array would return undefined.if ( $(\'#myDiv\')[0] ) { /* Do something */ }ShareImprove this answerFolloweditedJun 30, 2015 at 8:09R3tep12.8k1010 gold badges5050 silver badges7676 bronze badgesansweredJan 14, 2009 at 19:46Jon EricksonJon Erickson114k4545 gold badges138138 silver badges177177 bronze badges\n\nThe fastest and most semantically self-explaining way to check for existence is actually by using plain JavaScript:if (document.getElementById(\'element_id\')) {\n    // Do something\n}It is a bit longer to write than the jQuery length alternative, but executes faster since it is a native JS method.And it is better than the alternative of writing your own jQuery function. That alternative is slower, for the reasons @snover stated. But it would also give other programmers the impression that theexists()function is something inherent to jQuery. JavaScript would/should be understood by others editing your code, without increased knowledge debt.NB: Notice the lack of an#before theelement_id(since this is plain JS, not jQuery).ShareImprove this answerFolloweditedFeb 22 at 13:49answeredJan 11, 2012 at 12:27MagneMagne17k1111 gold badges7272 silver badges9595 bronze badges\n\nYou can save a few bytes by writing:if ($(selector)[0]) { ... }This works because each jQuery object also masquerades as an array, so we can use the array dereferencing operator to get the first item from thearray. It returnsundefinedif there is no item at the specified index.ShareImprove this answerFollowansweredJan 18, 2014 at 9:04Salman ArshadSalman Arshad270k8383 gold badges436436 silver badges528528 bronze badges\n\nYou can use:if ($(selector).is(\'*\')) {\n  // Do something\n}Alittlemore elegant, perhaps.ShareImprove this answerFollowansweredSep 17, 2008 at 17:53DevonDevon5,78455 gold badges3939 silver badges4646 bronze badges\n\nThis plugin can be used in anifstatement likeif ($(ele).exist()) { /* DO WORK */ }or using a callback.Plugin;;(function($) {\n    if (!$.exist) {\n        $.extend({\n            exist: function() {\n                var ele, cbmExist, cbmNotExist;\n                if (arguments.length) {\n                    for (x in arguments) {\n                        switch (typeof arguments[x]) {\n                            case \'function\':\n                                if (typeof cbmExist == ""undefined"") cbmExist = arguments[x];\n                                else cbmNotExist = arguments[x];\n                                break;\n                            case \'object\':\n                                if (arguments[x] instanceof jQuery) ele = arguments[x];\n                                else {\n                                    var obj = arguments[x];\n                                    for (y in obj) {\n                                        if (typeof obj[y] == \'function\') {\n                                            if (typeof cbmExist == ""undefined"") cbmExist = obj[y];\n                                            else cbmNotExist = obj[y];\n                                        }\n                                        if (typeof obj[y] == \'object\' && obj[y] instanceof jQuery) ele = obj[y];\n                                        if (typeof obj[y] == \'string\') ele = $(obj[y]);\n                                    }\n                                }\n                                break;\n                            case \'string\':\n                                ele = $(arguments[x]);\n                                break;\n                        }\n                    }\n                }\n\n                if (typeof cbmExist == \'function\') {\n                    var exist =  ele.length > 0 ? true : false;\n                    if (exist) {\n                        return ele.each(function(i) { cbmExist.apply(this, [exist, ele, i]); });\n                    }\n                    else if (typeof cbmNotExist == \'function\') {\n                        cbmNotExist.apply(ele, [exist, ele]);\n                        return ele;\n                    }\n                    else {\n                        if (ele.length <= 1) return ele.length > 0 ? true : false;\n                        else return ele.length;\n                    }\n                }\n                else {\n                    if (ele.length <= 1) return ele.length > 0 ? true : false;\n                    else return ele.length;\n                }\n\n                return false;\n            }\n        });\n        $.fn.extend({\n            exist: function() {\n                var args = [$(this)];\n                if (arguments.length) for (x in arguments) args.push(arguments[x]);\n                return $.exist.apply($, args);\n            }\n        });\n    }\n})(jQuery);jsFiddleYou may specify one or two callbacks. The first one will fire if the element exists, the second one will fire if the element doesnotexist. However, if you choose to pass only one function, it will only fire when the element exists. Thus, the chain will die if the selected element doesnotexist. Of course, if it does exist, the first function will fire and the chain will continue.Keep in mind that using thecallback variant helps maintain chainability– the element is returned and you can continue chaining commands as with any other jQuery method!Example Usesif ($.exist(\'#eleID\')) {    /*    DO WORK    */ }        //    param as STRING\nif ($.exist($(\'#eleID\'))) { /*    DO WORK    */ }        //    param as jQuery OBJECT\nif ($(\'#eleID\').exist()) {  /*    DO WORK    */ }        //    enduced on jQuery OBJECT\n\n$.exist(\'#eleID\', function() {            //    param is STRING && CALLBACK METHOD\n    /*    DO WORK    */\n    /*    This will ONLY fire if the element EXIST    */\n}, function() {            //    param is STRING && CALLBACK METHOD\n    /*    DO WORK    */\n    /*    This will ONLY fire if the element DOES NOT EXIST    */\n})\n\n$(\'#eleID\').exist(function() {            //    enduced on jQuery OBJECT with CALLBACK METHOD\n    /*    DO WORK    */\n    /*    This will ONLY fire if the element EXIST    */\n})\n\n$.exist({                        //    param is OBJECT containing 2 key|value pairs: element = STRING, callback = METHOD\n    element: \'#eleID\',\n    callback: function() {\n        /*    DO WORK    */\n        /*    This will ONLY fire if the element EXIST    */\n    }\n})ShareImprove this answerFolloweditedJun 12, 2016 at 9:10community wiki22 revs, 6 users 64%SpYk3HH\n\nI see most of the answers here arenot accurateas they should be, they check element length, it can beOKin many cases, butnot 100%, imagine if number pass to the function instead, so I prototype a function which check all conditions and return the answer as it should be:$.fn.exists = $.fn.exists || function() { \n  return !!(this.length && (this[0] instanceof HTMLDocument || this[0] instanceof HTMLElement)); \n}This will check both length and type, Now you can check it this way:$(1980).exists(); //return false\n$([1,2,3]).exists(); //return false\n$({name: \'stackoverflow\', url: \'http://www.stackoverflow.com\'}).exists(); //return false\n$([{nodeName: \'foo\'}]).exists() // returns false\n$(\'div\').exists(); //return true\n$(\'.header\').exists(); //return true\n$(document).exists(); //return true\n$(\'body\').exists(); //return trueShareImprove this answerFolloweditedJul 17, 2019 at 11:59answeredMay 20, 2017 at 9:21AlirezaAlireza103k2727 gold badges275275 silver badges173173 bronze badges\n\nThere\'s no need for jQuery really. With plain JavaScript it\'s easier and semantically correct to check for:if(document.getElementById(""myElement"")) {\n    //Do something...\n}If for any reason you don\'t want to put an id to the element, you can still use any other JavaScript method designed to access the DOM.jQuery is really cool, but don\'t let pure JavaScript fall into oblivion...ShareImprove this answerFolloweditedMay 10, 2013 at 7:48Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredNov 14, 2011 at 14:20amypellegriniamypellegrini1,02699 silver badges1313 bronze badges\n\nThe reason all of the previous answers require the.lengthparameter is that they are mostly using jquery\'s$()selector which has querySelectorAll behind the curtains (or they are using it directly).  This method is rather slow because it needs to parse the entire DOM tree looking forallmatches to that selector and populating an array with them.The [\'length\'] parameter is not needed or useful and the code will be a lot faster if you directly usedocument.querySelector(selector)instead, because it returns the first element it matches or null if not found.function elementIfExists(selector){  //named this way on purpose, see below\n    return document.querySelector(selector);\n}\n/* usage: */\nvar myelement = elementIfExists(""#myid"") || myfallbackelement;However this method leaves us with the actual object being returned; which is fine if it isn\'t going to be saved as variable and used repeatedly (thus keeping the reference around if we forget).var myel=elementIfExists(""#myid"");\n// now we are using a reference to the element which will linger after removal\nmyel.getParentNode.removeChild(myel);\nconsole.log(elementIfExists(""#myid"")); /* null */\nconsole.log(myel); /* giant table lingering around detached from document */\nmyel=null; /* now it can be garbage collected */In some cases this may be desired.  It can be used in a for loop like this:/* locally scoped myel gets garbage collected even with the break; */\nfor (var myel; myel = elementIfExist(sel); myel.getParentNode.removeChild(myel))\n    if (myel == myblacklistedel) break;If you don\'t actually need the element and want to get/store just a true/false, just double not it !!  It works for shoes that come untied, so why knot here?function elementExists(selector){\n    return !!document.querySelector(selector);\n}\n/* usage: */\nvar hastables = elementExists(""table"");  /* will be true or false */\nif (hastables){\n    /* insert css style sheet for our pretty tables */\n}\nsetTimeOut(function (){if (hastables && !elementExists(""#mytablecss""))\n                           alert(""bad table layouts"");},3000);ShareImprove this answerFolloweditedAug 13, 2014 at 5:24answeredAug 11, 2014 at 23:42technosaurustechnosaurus7,74211 gold badge3131 silver badges5353 bronze badges\n\nIs$.contains()what you want?jQuery.contains( container, contained )The$.contains()method returns true if the DOM element provided by the second argument is a descendant of the DOM element provided by the first argument, whether it is a direct child or nested more deeply. Otherwise, it returns false. Only element nodes are supported; if the second argument is a text or comment node,$.contains()will return false.Note: The first argument must be a DOM element, not a jQuery object or plain JavaScript object.ShareImprove this answerFolloweditedJun 20, 2020 at 9:12CommunityBot111 silver badgeansweredOct 23, 2013 at 5:46hiwayhiway3,9641111 gold badges3535 silver badges5757 bronze badges\n\nI have foundif ($(selector).length) {}to be insufficient. It will silently break your app whenselectoris an empty object{}.var $target = $({});        \nconsole.log($target, $target.length);\n\n// Console output:\n// -------------------------------------\n// [▼ Object              ] 1\n//    ► __proto__: ObjectMy only suggestion is to perform an additional check for{}.if ($.isEmptyObject(selector) || !$(selector).length) {\n    throw new Error(\'Unable to work with the given selector.\');\n}I\'m still looking for a better solution though as this one is a bit heavy.Edit:WARNING!This doesn\'t work in IE whenselectoris a string.$.isEmptyObject(\'hello\') // FALSE in Chrome and TRUE in IEShareImprove this answerFolloweditedFeb 7, 2012 at 17:43answeredFeb 6, 2012 at 20:37OlegOleg9,36522 gold badges4444 silver badges5959 bronze badges\n\nChecking for existence of an elementis documented neatly in the official jQuery website itself!Use the.lengthproperty of the jQuery collection returned by your\n  selector:if ($(""#myDiv"").length) {\n    $(""#myDiv"").show();\n}Note that it isn\'t always necessary to test whether an element exists.\n  The following code will show the element if it exists, and do nothing\n  (with no errors) if it does not:$(""#myDiv"").show();ShareImprove this answerFolloweditedSep 10, 2017 at 10:31Palec13.3k88 gold badges7474 silver badges141141 bronze badgesansweredMar 22, 2017 at 14:32Tilak MadichettiTilak Madichetti4,26855 gold badges3636 silver badges5656 bronze badges\n\nNo need for jQuery (basic solution)if(document.querySelector(\'.a-class\')) {\n  // do something\n}Much more performant option below (notice the lack of a dot beforea-class).if(document.getElementsByClassName(\'a-class\')[0]) {\n  // do something\n}querySelectoruses a proper matching engine like$()(sizzle) in jQuery and uses more computing power but in 99% of cases will do just fine. The second option is more explicit and tells the code exactly what to do. It\'s much faster according to JSBenchhttps://jsbench.me/65l2up3t8iShareImprove this answerFolloweditedMay 6, 2022 at 21:30tagurit52555 silver badges1515 bronze badgesansweredNov 28, 2016 at 10:43PawelPawel17.7k55 gold badges7676 silver badges7575 bronze badges\n\nInspired byhiway\'s answerI came up with the following:$.fn.exists = function() {\n    return $.contains( document.documentElement, this[0] );\n}jQuery.containstakes two DOM elements and checks whether the first one contains the second one.Usingdocument.documentElementas the first argument fulfills the semantics of theexistsmethod when we want to apply it solely to check the existence of an element in the current document.Below, I\'ve put together a snippet that comparesjQuery.exists()against the$(sel)[0]and$(sel).lengthapproaches which both returntruthyvalues for$(4)while$(4).exists()returnsfalse. In the context ofchecking for existenceof an element in the DOM this seems to be thedesired result.$.fn.exists = function() {\r\n    return $.contains(document.documentElement, this[0]); \r\n  }\r\n  \r\n  var testFuncs = [\r\n    function(jq) { return !!jq[0]; },\r\n    function(jq) { return !!jq.length; },\r\n    function(jq) { return jq.exists(); },\r\n  ];\r\n    \r\n  var inputs = [\r\n    [""$()"",$()],\r\n    [""$(4)"",$(4)],\r\n    [""$(\'#idoexist\')"",$(\'#idoexist\')],\r\n    [""$(\'#idontexist\')"",$(\'#idontexist\')]\r\n  ];\r\n  \r\n  for( var i = 0, l = inputs.length, tr, input; i < l; i++ ) {\r\n    input = inputs[i][1];\r\n    tr = ""<tr><td>"" + inputs[i][0] + ""</td><td>""\r\n          + testFuncs[0](input) + ""</td><td>""\r\n          + testFuncs[1](input) + ""</td><td>""\r\n          + testFuncs[2](input) + ""</td></tr>"";\r\n    $(""table"").append(tr);\r\n  }td { border: 1px solid black }<script src=""https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js""></script>\r\n<div id=""idoexist"">#idoexist</div>\r\n<table style>\r\n<tr>\r\n  <td>Input</td><td>!!$(sel)[0]</td><td>!!$(sel).length</td><td>$(sel).exists()</td>\r\n</tr>\r\n</table>\r\n<script>\r\n  \r\n  $.fn.exists = function() {\r\n    return $.contains(document.documentElement, this[0]); \r\n  }\r\n  \r\n</script>ShareImprove this answerFolloweditedMay 23, 2017 at 11:47CommunityBot111 silver badgeansweredOct 13, 2015 at 20:01OliverOliver9,40099 gold badges7474 silver badges100100 bronze badges\n\nI just like to use plain vanilla javascript to do this.function isExists(selector){\n  return document.querySelectorAll(selector).length>0;\n}ShareImprove this answerFollowansweredJun 18, 2016 at 22:37Sanu Uthaiah BolleraSanu Uthaiah Bollera9391010 silver badges1313 bronze badges\n\nI had a case where I wanted to see if an object exists inside of another so I added something to the first answer to check for a selector inside the selector..// Checks if an object exists.\n// Usage:\n//\n//     $(selector).exists()\n//\n// Or:\n// \n//     $(selector).exists(anotherSelector);\njQuery.fn.exists = function(selector) {\n    return selector ? this.find(selector).length : this.length;\n};ShareImprove this answerFollowansweredApr 5, 2012 at 21:02jcreamer898jcreamer8988,16955 gold badges4242 silver badges5757 bronze badges'}","{'title': 'What does the explicit keyword mean?', 'question': 'What does theexplicitkeyword mean in C++?c++constructorexplicitc++-faqexplicit-constructorShareImprove this questionFolloweditedJan 24, 2018 at 22:44Ronny Brendel4,82555 gold badges3636 silver badges5555 bronze badgesaskedSep 23, 2008 at 13:58SkizzSkizz70.5k1010 gold badges7272 silver badges109109 bronze badges', 'answers': 'The compiler is allowed to make one implicit conversion to resolve the parameters to a function. This means that the compiler can use constructors callable with asingle parameterto convert from one type to another in order to get the right type for a parameter.Here\'s an example withconverting constructorsthat shows how it works:struct Foo {\n    // Single parameter constructor, can be used as an implicit conversion.\n    // Such a constructor is called ""converting constructor"".\n    Foo(int x) {}\n};\nstruct Faz {\n    // Also a converting constructor.\n    Faz(Foo foo) {}\n};\n\n// The parameter is of type Foo, not of type int, so it looks like\n// we have to pass a Foo.\nvoid bar(Foo foo) {};\n\nint main() {\n    // However, the converting constructor allows us to pass an int.\n    bar(42);\n    // Also allowed thanks to the converting constructor.\n    Foo foo = 42;\n    // Error! This would require two conversions (int -> Foo -> Faz).\n    Faz faz = 42;\n}Prefixing theexplicitkeyword to the constructor prevents the compiler from using that constructor for implicit conversions. Adding it to the above class will create a compiler error at the function callbar(42).  It is now necessary to call for conversion explicitly withbar(Foo(42))The reason you might want to do this is to avoid accidental construction that can hide bugs.Contrived example:You have aMyStringclass with a constructor that constructs a string of the given size.  You have a functionprint(const MyString&)(as well as an overloadprint (char *string)), and you callprint(3)(when youactuallyintended to callprint(""3"")).  You expect it to print ""3"", but it prints an empty string of length 3 instead.ShareImprove this answerFolloweditedMay 30 at 21:19community wiki25 revs, 20 users 45%Skizz\n\nSuppose, you have a classString:class String {\npublic:\n    String(int n); // allocate n bytes to the String object\n    String(const char *p); // initializes object with char *p\n};Now, if you try:String mystring = \'x\';The character\'x\'will be implicitly converted tointand then theString(int)constructor will be called. But, this is not what the user might have intended. So, to prevent such conditions, we shall define the constructor asexplicit:class String {\npublic:\n    explicit String (int n); //allocate n bytes\n    String(const char *p); // initialize sobject with string p\n};ShareImprove this answerFolloweditedApr 20, 2018 at 9:28Azeem13.5k44 gold badges3232 silver badges4545 bronze badgesansweredSep 23, 2008 at 14:09EddieEddie13.6k11 gold badge1616 silver badges66 bronze badges\n\nIn C++, a constructor with only one required parameter is considered an implicit conversion function.  It converts the parameter type to the class type.  Whether this is a good thing or not depends on the semantics of the constructor.For example, if you have a string class with constructorString(const char* s), that\'s probably exactly what you want.  You can pass aconst char*to a function expecting aString, and the compiler will automatically construct a temporaryStringobject for you.On the other hand, if you have a buffer class whose constructorBuffer(int size)takes the size of the buffer in bytes, you probably don\'t want the compiler to quietly turnints intoBuffers.  To prevent that, you declare the constructor with theexplicitkeyword:class Buffer { explicit Buffer(int size); ... }That way,void useBuffer(Buffer& buf);\nuseBuffer(4);becomes a compile-time error.  If you want to pass a temporaryBufferobject, you have to do so explicitly:useBuffer(Buffer(4));In summary, if your single-parameter constructor converts the parameter into an object of your class, you probably don\'t want to use theexplicitkeyword.  But if you have a constructor that simply happens to take a single parameter, you should declare it asexplicitto prevent the compiler from surprising you with unexpected conversions.ShareImprove this answerFollowansweredSep 23, 2008 at 16:37cjmcjm61.9k99 gold badges130130 silver badges177177 bronze badges\n\nThe keywordexplicitaccompanies eithera constructor of class X that cannot be used to implicitly convert the first (any only) parameter to type XC++ [class.conv.ctor]1) A constructor declared without the function-specifier explicit specifies a conversion from the types of its parameters to the type of its class. Such a constructor is called a converting constructor.2) An explicit constructor constructs objects just like non-explicit constructors, but does so only where the direct-initialization syntax (8.5) or where casts (5.2.9, 5.4) are explicitly used. A default constructor may be an explicit constructor; such a constructor will be used to perform default-initialization or valueinitialization\n  (8.5).or a conversion function that is only considered for direct initialization and explicit conversion.C++ [class.conv.fct]2) A conversion function may be explicit (7.1.2), in which case it is only considered as a user-defined conversion for direct-initialization (8.5). Otherwise, user-defined conversions are not restricted to use in assignments\n  and initializations.OverviewExplicit conversion functions and constructors can only be used for explicit conversions (direct initialization or explicit cast operation) while non-explicit constructors and conversion functions can be used for implicit as well as explicit conversions./*\n                                 explicit conversion          implicit conversion\n\n explicit constructor                    yes                          no\n\n constructor                             yes                          yes\n\n explicit conversion function            yes                          no\n\n conversion function                     yes                          yes\n\n*/Example using structuresX, Y, Zand functionsfoo, bar, baz:Let\'s look at a small setup of structures and functions to see the difference betweenexplicitand non-explicitconversions.struct Z { };\n\nstruct X { \n  explicit X(int a); // X can be constructed from int explicitly\n  explicit operator Z (); // X can be converted to Z explicitly\n};\n\nstruct Y{\n  Y(int a); // int can be implicitly converted to Y\n  operator Z (); // Y can be implicitly converted to Z\n};\n\nvoid foo(X x) { }\nvoid bar(Y y) { }\nvoid baz(Z z) { }Examples regarding constructor:Conversion of a function argument:foo(2);                     // error: no implicit conversion int to X possible\nfoo(X(2));                  // OK: direct initialization: explicit conversion\nfoo(static_cast<X>(2));     // OK: explicit conversion\n\nbar(2);                     // OK: implicit conversion via Y(int) \nbar(Y(2));                  // OK: direct initialization\nbar(static_cast<Y>(2));     // OK: explicit conversionObject initialization:X x2 = 2;                   // error: no implicit conversion int to X possible\nX x3(2);                    // OK: direct initialization\nX x4 = X(2);                // OK: direct initialization\nX x5 = static_cast<X>(2);   // OK: explicit conversion \n\nY y2 = 2;                   // OK: implicit conversion via Y(int)\nY y3(2);                    // OK: direct initialization\nY y4 = Y(2);                // OK: direct initialization\nY y5 = static_cast<Y>(2);   // OK: explicit conversionExamples regarding conversion functions:X x1{ 0 };\nY y1{ 0 };Conversion of a function argument:baz(x1);                    // error: X not implicitly convertible to Z\nbaz(Z(x1));                 // OK: explicit initialization\nbaz(static_cast<Z>(x1));    // OK: explicit conversion\n\nbaz(y1);                    // OK: implicit conversion via Y::operator Z()\nbaz(Z(y1));                 // OK: direct initialization\nbaz(static_cast<Z>(y1));    // OK: explicit conversionObject initialization:Z z1 = x1;                  // error: X not implicitly convertible to Z\nZ z2(x1);                   // OK: explicit initialization\nZ z3 = Z(x1);               // OK: explicit initialization\nZ z4 = static_cast<Z>(x1);  // OK: explicit conversion\n\nZ z1 = y1;                  // OK: implicit conversion via Y::operator Z()\nZ z2(y1);                   // OK: direct initialization\nZ z3 = Z(y1);               // OK: direct initialization\nZ z4 = static_cast<Z>(y1);  // OK: explicit conversionWhy useexplicitconversion functions or constructors?Conversion constructors and non-explicit conversion functions may introduce ambiguity.Consider a structureV, convertible toint, a structureUimplicitly constructible fromVand a functionfoverloaded forUandboolrespectively.struct V {\n  operator bool() const { return true; }\n};\n\nstruct U { U(V) { } };\n\nvoid f(U) { }\nvoid f(bool) {  }A call tofis ambiguous if passing an object of typeV.V x;\nf(x);  // error: call of overloaded \'f(V&)\' is ambiguousThe compiler does not know wether to use the constructor ofUor the conversion function to convert theVobject into a type for passing tof.If either the constructor ofUor the conversion function ofVwould beexplicit, there would be no ambiguity since only the non-explicit conversion would be considered. If both are explicit the call tofusing an object of typeVwould have to be done using an explicit conversion or cast operation.Conversion constructors and non-explicit conversion functions may lead to unexpected behaviour.Consider a function printing some vector:void print_intvector(std::vector<int> const &v) { for (int x : v) std::cout << x << \'\\n\'; }If the size-constructor of the vector would not be explicit it would be possible to call the function like this:print_intvector(3);What would one expect from such a call? One line containing3or three lines containing0? (Where the second one is what happens.)Using the explicit keyword in a class interface enforces the user of the interface to be explicit about a desired conversion.As Bjarne Stroustrup  puts it (in ""The C++ Programming Language"", 4th Ed., 35.2.1, pp. 1011) on the question whystd::durationcannot be implicitly constructed from a plain number:If you know what you mean, be explicit about it.ShareImprove this answerFolloweditedJul 12, 2015 at 11:29answeredJul 10, 2015 at 23:48PixelchemistPixelchemist24.7k88 gold badges4949 silver badges7171 bronze badges\n\nThis answer is about object creation with/without an explicit constructor since it is not covered in the other answers.Consider the following class without an explicit constructor:class Foo\n{\npublic:\n    Foo(int x) : m_x(x)\n    {\n    }\n\nprivate:\n    int m_x;\n};Objects of class Foo can be created in 2 ways:Foo bar1(10);\n\nFoo bar2 = 20;Depending upon the implementation, the second manner of instantiating class Foo may be confusing, or not what the programmer intended. Prefixing theexplicitkeyword to the constructor would generate a compiler error atFoo bar2 = 20;.It isusuallygood practice to declare single-argument constructors asexplicit, unless your implementation specifically prohibits it.Note also that constructors withdefault arguments for all parameters, ordefault arguments for the second parameter onwardscan both be used as single-argument constructors. So you may want to make these alsoexplicit.An example when you would deliberatelynotwant to make your single-argument constructor explicit is if you\'re creating a functor (look at the \'add_x\' struct declared inthisanswer). In such a case, creating an object asadd_x add30 = 30;would probably make sense.Hereis a good write-up on explicit constructors.ShareImprove this answerFolloweditedMay 23, 2017 at 11:47CommunityBot111 silver badgeansweredOct 8, 2013 at 14:43GautamGautam1,0991515 silver badges2424 bronze badges\n\nTheexplicitkeyword makes a conversion constructor to non-conversion constructor. As a result, the code is less error prone.ShareImprove this answerFolloweditedFeb 14, 2013 at 16:40SaiyanGirl16.8k1212 gold badges4444 silver badges5757 bronze badgesansweredNov 21, 2012 at 2:36SankararaoMajjiSankararaoMajji51944 silver badges33 bronze badges\n\nTheexplicit-keyword can be used to enforce a constructor to be calledexplicitly.class C {\npublic:\n    explicit C() =default;\n};\n\nint main() {\n    C c;\n    return 0;\n}theexplicit-keyword in front of the constructorC()tells the compiler that only explicit call to this constructor is allowed.Theexplicit-keyword can also be used in user-defined type cast operators:class C{\npublic:\n    explicit inline operator bool() const {\n        return true;\n    }\n};\n\nint main() {\n    C c;\n    bool b = static_cast<bool>(c);\n    return 0;\n}Here,explicit-keyword enforces only explicit casts to be valid, sobool b = c;would be an invalid cast in this case. In situations like theseexplicit-keyword can help programmer to avoid implicit, unintended casts. This usage has been standardized inC++11.ShareImprove this answerFolloweditedNov 18, 2021 at 22:40JDługosz5,59433 gold badges2525 silver badges4545 bronze badgesansweredMay 14, 2013 at 9:28HelixirrHelixirr93199 silver badges1818 bronze badges\n\nCpp Reference is always helpful!!! Details about explicit specifier can be foundhere.  You may need to look atimplicit conversionsandcopy-initializationtoo.Quick lookThe explicit specifier specifies that a constructor or conversion function (since C++11) doesn\'t allow implicit conversions or copy-initialization.Example as follows:struct A\n{\n    A(int) { }      // converting constructor\n    A(int, int) { } // converting constructor (C++11)\n    operator bool() const { return true; }\n};\n\nstruct B\n{\n    explicit B(int) { }\n    explicit B(int, int) { }\n    explicit operator bool() const { return true; }\n};\n\nint main()\n{\n    A a1 = 1;      // OK: copy-initialization selects A::A(int)\n    A a2(2);       // OK: direct-initialization selects A::A(int)\n    A a3 {4, 5};   // OK: direct-list-initialization selects A::A(int, int)\n    A a4 = {4, 5}; // OK: copy-list-initialization selects A::A(int, int)\n    A a5 = (A)1;   // OK: explicit cast performs static_cast\n    if (a1) cout << ""true"" << endl; // OK: A::operator bool()\n    bool na1 = a1; // OK: copy-initialization selects A::operator bool()\n    bool na2 = static_cast<bool>(a1); // OK: static_cast performs direct-initialization\n\n//  B b1 = 1;      // error: copy-initialization does not consider B::B(int)\n    B b2(2);       // OK: direct-initialization selects B::B(int)\n    B b3 {4, 5};   // OK: direct-list-initialization selects B::B(int, int)\n//  B b4 = {4, 5}; // error: copy-list-initialization does not consider B::B(int,int)\n    B b5 = (B)1;   // OK: explicit cast performs static_cast\n    if (b5) cout << ""true"" << endl; // OK: B::operator bool()\n//  bool nb1 = b2; // error: copy-initialization does not consider B::operator bool()\n    bool nb2 = static_cast<bool>(b2); // OK: static_cast performs direct-initialization\n}ShareImprove this answerFollowansweredAug 20, 2016 at 12:45selfbootselfboot1,5101818 silver badges2323 bronze badges\n\nIt is always a good coding practice to make your one argument constructors (including those with default values forarg2,arg3,...) as already stated. \nLike always with C++: if you don\'t - you\'ll wish you did...Another good practice for classes is to make copy construction and assignment private (a.k.a. disable it) unless you really need to implement it. This avoids having eventual copies of pointers when using the methods that C++ will create for you by default. An other way to do this is derive fromboost::noncopyable.ShareImprove this answerFolloweditedMay 11, 2020 at 12:46NAND67711 gold badge1010 silver badges2222 bronze badgesansweredOct 1, 2009 at 22:00fmueckefmuecke8,72411 gold badge2121 silver badges2525 bronze badges\n\nConstructors append implicit conversion. To suppress this implicit conversion it is required to declare a constructor with a parameter explicit.In C++11 you can also specify an ""operator type()"" with such keywordhttp://en.cppreference.com/w/cpp/language/explicitWith such specification you can use operator in terms of explicit conversions, and direct initialization of object.P.S. When using transformations defined BY USER (via constructors and type conversion operator) it is allowed only one level of implicit conversions used.\nBut you can combine this conversions with other language conversionsup integral ranks (char to int, float to double);standart conversions (int to double);convert pointers of objects to base class and to void*;ShareImprove this answerFollowansweredJan 23, 2015 at 9:26Konstantin BurlachenkoKonstantin Burlachenko5,49333 gold badges4545 silver badges4141 bronze badges\n\nOther answers are missing one important factor which I am going to mention here.Along with ""delete"" keyword, ""explicit"" allows you to control the way compiler is going to generate special member functions - default constructor, copy constructor, copy-assignment operator, destructor, move constructor and move-assignment.Referhttps://learn.microsoft.com/en-us/cpp/cpp/explicitly-defaulted-and-deleted-functionsShareImprove this answerFollowansweredApr 19, 2022 at 13:47Manojkumar KhoteleManojkumar Khotele1,0071212 silver badges2626 bronze badges'}","{'title': 'How do I disable the resizable property of a textarea?', 'question': 'I want to disable the resizable property of atextarea.Currently, I can resize atextareaby clicking on the bottom right corner of thetextareaand dragging the mouse. How can I disable this?htmlcsstextareaShareImprove this questionFolloweditedOct 21, 2022 at 13:33Sunderam Dubey8,7091212 gold badges2222 silver badges4040 bronze badgesaskedMar 8, 2011 at 16:15user549757user54975733.6k44 gold badges2020 silver badges2020 bronze badges', 'answers': 'The following CSS rule disables resizing behavior fortextareaelements:textarea {\n  resize: none;\n}To disable it for some (but not all)textareas, there are acouple of options.You can useclassattribute in your tag(<textarea class=""textarea1"">):.textarea1 {\n  resize: none;\n}To disable a specifictextareawith thenameattribute set tofoo(i.e.,<textarea name=""foo""></textarea>):textarea[name=foo] {\n  resize: none;\n}Or, using anidattribute (i.e.,<textarea id=""foo""></textarea>):#foo {\n  resize: none;\n}TheW3C pagelists possible values for resizing restrictions: none, both, horizontal, vertical, and inherit:textarea {\n  resize: vertical; /* user can resize vertically, but width is fixed */\n}Review a decentcompatibility pageto see what browsers currently support this feature. As Jon Hulka has commented, the dimensions can befurther restrainedin CSS using max-width, max-height, min-width, and min-height.Super important to know:This property does nothing unless the overflow property is something other than visible, which is the default for most elements. So generally to use this, you\'ll have to set something like overflow: scroll;Quote by Sara Cope,http://css-tricks.com/almanac/properties/r/resize/ShareImprove this answerFolloweditedMay 22, 2021 at 5:07JSman2259633 silver badges1616 bronze badgesansweredMar 8, 2011 at 16:17DonutDonut112k2020 gold badges135135 silver badges147147 bronze badges\n\nIn CSS:textarea {\n    resize: none;\n}ShareImprove this answerFolloweditedNov 21, 2023 at 18:28Michael M.10.8k1111 gold badges2020 silver badges4040 bronze badgesansweredMar 8, 2011 at 16:17Jeff ParkerJeff Parker7,45711 gold badge2323 silver badges2525 bronze badges\n\nI found two things:Firsttextarea{resize: none}This is a CSS\xa03,which is not released yet, compatible withFirefox 4 (and later), Chrome, and Safari.Another format feature is tooverflow: autoto get rid of the right scrollbar, taking into account thedirattribute.Code and different browsersBasic HTML<!DOCTYPE html>\n<html>\n<head>\n</head>\n<body>\n    <textarea style=""overflow:auto;resize:none"" rows=""13"" cols=""20""></textarea>\n</body>\n</html>Some browsersInternet\xa0Explorer\xa08Firefox 17.0.1ChromeShareImprove this answerFolloweditedJun 20, 2020 at 9:12CommunityBot111 silver badgeansweredDec 27, 2012 at 20:58Rami JamlehRami Jamleh1,89911 gold badge1313 silver badges1111 bronze badges\n\nCSS\xa03 has a new property for UI elements that will allow you to do this. The property is theresize property. So you would add the following to your stylesheet to disable resizing of all textarea elements:textarea { resize: none; }This is a CSS\xa03 property; use acompatibility chartto see browser compatibility.Personally, I would find it very annoying to have resizing disabled on textarea elements. This is one of those situations where the designer is trying to ""break"" the user\'s client. If your design can\'t accommodate a larger textarea, you might want to reconsider how your design works. Any user can addtextarea { resize: both !important; }to their user stylesheet to override your preference.ShareImprove this answerFolloweditedSep 26, 2019 at 9:24Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMar 8, 2011 at 16:35James SumnersJames Sumners14.7k1111 gold badges6060 silver badges7777 bronze badges\n\n<textarea style=""resize:none"" rows=""10"" placeholder=""Enter Text"" ></textarea>ShareImprove this answerFollowansweredNov 6, 2013 at 9:19Imtiaz Ali BaigalImtiaz Ali Baigal38133 silver badges22 bronze badges\n\nIf you need deep support, you can use an old school technique:textarea {\n    max-width: /* desired fixed width */ px;\n    min-width: /* desired fixed width */ px;\n    min-height: /* desired fixed height */ px;\n    max-height: /* desired fixed height */ px;\n    resize: none; /* If you wnt to hide the handle in the lower right corner */;\n}ShareImprove this answerFolloweditedNov 21, 2023 at 23:07Samuel RIGAUD1,4881717 silver badges2525 bronze badgesansweredFeb 12, 2015 at 12:14yevgeniyyevgeniy76899 silver badges1515 bronze badges\n\nThis can be done in HTML easily:<textarea name=""textinput"" draggable=""false""></textarea>This works for me. The default value istruefor thedraggableattribute.ShareImprove this answerFolloweditedSep 26, 2019 at 9:32Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJul 21, 2015 at 5:18Thusitha WickramasingheThusitha Wickramasinghe1,09322 gold badges1515 silver badges3030 bronze badges\n\nYou simply use:resize: none;in yourCSS.Theresizeproperty specifies whether or not an element is resizable\nby the user.Note:The resize property applies to elements whose computed overflow\nvalue is something other than ""visible"".Alsoresizenot supported inInternet\xa0Explorerat the moment.Here are different properties for resize:No Resize:textarea {\n  resize: none;\n}Resize both ways (vertically & horizontally):textarea {\n  resize: both;\n}Resize vertically:textarea {\n  resize: vertical;\n}Resize horizontally:textarea {\n  resize: horizontal;\n}Also if you havewidthandheightin your CSS or HTML, it will prevent your textarea be resized, with a broader browsers support.ShareImprove this answerFolloweditedOct 11, 2023 at 8:52answeredJun 1, 2017 at 13:11AlirezaAlireza103k2727 gold badges275275 silver badges173173 bronze badges\n\nUse this propertyresize: none;textarea {\n  resize: none;\n}ShareImprove this answerFolloweditedMar 30, 2022 at 12:43Ismoil Shokirov2,75244 gold badges2222 silver badges3737 bronze badgesansweredAug 16, 2021 at 7:22Priya MaheshwariPriya Maheshwari47355 silver badges88 bronze badges\n\nYou can simplydisable the textareaproperty like this:textarea {\n    resize: none;\n}To disableverticalorhorizontalresizing, useresize: vertical;orresize: horizontal;ShareImprove this answerFolloweditedSep 26, 2019 at 9:40Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMay 28, 2018 at 7:09user7122338user7122338\n\nTo disable the resize property, use the following CSS property:resize: none;You can either apply this as an inline style property like so:<textarea style=""resize: none;""></textarea>or in between<style>...</style>element tags like so:textarea {\n    resize: none;\n}ShareImprove this answerFolloweditedMay 10, 2018 at 13:19Quentin935k131131 gold badges1.2k1.2k silver badges1.4k1.4k bronze badgesansweredJun 12, 2016 at 10:43WebengWebeng7,14044 gold badges3434 silver badges6060 bronze badges\n\nyou need to set the below CSS code in yourcomponent.csstextarea {\n    resize: none;\n}ShareImprove this answerFolloweditedAug 6, 2022 at 18:37Geeky Quentin2,50022 gold badges99 silver badges3131 bronze badgesansweredAug 6, 2022 at 6:51Umer BabaUmer Baba32333 silver badges55 bronze badges\n\ntextarea {\n  resize: none;\n}The code above will disable the resizable property of all<textarea/>elements in your project. If you want that that is fine, otherwise you would want to use a specific class for your textarea elements..not-resizable {\n   resize: none;\n}In your HTML<textarea class=""not-resizable""></textarea>ShareImprove this answerFolloweditedJan 2, 2022 at 16:56answeredJul 21, 2021 at 9:38Ismoil ShokirovIsmoil Shokirov2,75244 gold badges2222 silver badges3737 bronze badges\n\nI have created a small demo to show how resize properties work. I hope it will help you and others as well..resizeable {\r\n  resize: both;\r\n}\r\n\r\n.noResizeable {\r\n  resize: none;\r\n}\r\n\r\n.resizeable_V {\r\n  resize: vertical;\r\n}\r\n\r\n.resizeable_H {\r\n  resize: horizontal;\r\n}<textarea class=""resizeable"" rows=""5"" cols=""20"" name=""resizeable"" title=""This is Resizable."">\r\nThis is Resizable. Lorem ipsum, or lipsum as it is sometimes known, is dummy text used in laying out print, graphic or web designs. The passage is attributed to an unknown typesetter in the 15th century who is thought to have scrambled parts of Cicero\'s De Finibus Bonorum et Malorum for use in a type specimen book.\r\n</textarea>\r\n\r\n<textarea class=""noResizeable"" rows=""5"" title=""This will not Resizable. "" cols=""20"" name=""resizeable"">\r\nThis will not Resizable. Lorem ipsum, or lipsum as it is sometimes known, is dummy text used in laying out print, graphic or web designs. The passage is attributed to an unknown typesetter in the 15th century who is thought to have scrambled parts of Cicero\'s De Finibus Bonorum et Malorum for use in a type specimen book.\r\n</textarea>\r\n\r\n<textarea class=""resizeable_V"" title=""This is Vertically Resizable."" rows=""5"" cols=""20"" name=""resizeable"">\r\nThis is Vertically Resizable. Lorem ipsum, or lipsum as it is sometimes known, is dummy text used in laying out print, graphic or web designs. The passage is attributed to an unknown typesetter in the 15th century who is thought to have scrambled parts of Cicero\'s De Finibus Bonorum et Malorum for use in a type specimen book.\r\n</textarea>\r\n\r\n<textarea class=""resizeable_H"" title=""This is Horizontally Resizable."" rows=""5"" cols=""20"" name=""resizeable"">\r\nThis is Horizontally Resizable. Lorem ipsum, or lipsum as it is sometimes known, is dummy text used in laying out print, graphic or web designs. The passage is attributed to an unknown typesetter in the 15th century who is thought to have scrambled parts of Cicero\'s De Finibus Bonorum et Malorum for use in a type specimen book.\r\n</textarea>ShareImprove this answerFollowansweredJun 13, 2019 at 5:18Ambuj KhannaAmbuj Khanna1,19333 gold badges1313 silver badges3434 bronze badges\n\nCSS\xa03 can solve this problem. Unfortunately it\'s only supported on60% of used browsersnowadays.For Internet\xa0Explorer and iOS you can\'t turn off resizing, but you can limit thetextareadimension by setting itswidthandheight./* One can also turn on/off specific axis. Defaults to both on. */\ntextarea { resize:vertical; } /* none|horizontal|vertical|both */See DemoShareImprove this answerFolloweditedSep 26, 2019 at 9:33Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredOct 30, 2015 at 23:26OriolOriol12.4k55 gold badges3737 silver badges3737 bronze badges\n\nTo disable resize for alltextareas:textarea {\n    resize: none;\n}To disable resize for a specifictextarea, add an attribute,name, or anidand set it to something. In this case, it is namednoresizeHTML<textarea name=\'noresize\' id=\'noresize\'> </textarea>CSS/* Using the attribute name */\ntextarea[name=noresize] {\n    resize: none;\n}\n/* Or using the id */\n\n#noresize {\n    resize: none;\n}ShareImprove this answerFolloweditedSep 26, 2019 at 9:35Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredOct 25, 2016 at 8:19AbkAbk2,21311 gold badge2424 silver badges3333 bronze badges\n\nYou can disable resizeable property of textarea usingtextarea {resize: none;}textarea {\n   resize: none;\n}DemoShareImprove this answerFollowansweredFeb 10, 2023 at 4:49KabeerKabeer11511 silver badge44 bronze badges\n\nWith@style, you can give it a custom size and disable the resize feature(resize: none;).@Html.TextAreaFor(model => model.YourProperty, new { @style = ""width: 90%; height: 180px; resize: none;"" })ShareImprove this answerFolloweditedAug 30, 2018 at 19:21Baptiste Mille-Mathias2,15444 gold badges3131 silver badges3838 bronze badgesansweredAug 30, 2018 at 16:00Carlos de Jesus BaezCarlos de Jesus Baez38533 silver badges66 bronze badges\n\nYou can try with jQuery also$(\'textarea\').css(""resize"", ""none"");ShareImprove this answerFolloweditedDec 15, 2016 at 8:15answeredDec 15, 2016 at 8:08Santosh KhalseSantosh Khalse12.5k33 gold badges3636 silver badges3636 bronze badges\n\nAdding!importantmakes it work:width:325px !important; height:120px !important; outline:none !important;outlineis just to avoid the blue outline on certain browsers.ShareImprove this answerFolloweditedSep 26, 2019 at 9:29Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredFeb 3, 2014 at 19:07kaeldskaelds32722 silver badges33 bronze badges\n\nIf anyone is looking for a way to this in plain Javascript:textArea = document.createElement(""textarea"");\ntextArea_input.setAttribute(""style"",""resize:none"");Note: Setting the style property this way will overwrite all your prior css style declarations.ShareImprove this answerFollowansweredJun 2, 2023 at 6:43eternalchimeseternalchimes1122 bronze badges\n\nYes, you can disable the resizable property of a textarea using CSS. The following code will disable the resizable property of a textarea with the idmy-textarea:CSS Code:-textarea#my-textarea {\n  resize: none;\n}You can also disable the resizable property of alltextareason a page by adding the following code to your CSS stylesheet:CSS Code:-textarea {\n  resize: none;\n}Theresizeproperty can have three values:none: The textarea cannot be resized.horizontal: The text area can only be resized horizontally.vertical: The text area can only be resized vertically.The default value of theresizeproperty isnone.In addition to using CSS, you can also disable the resizable property of a textarea using JavaScript. The following code will disable the resizable property of a textarea with the idmy-textarea:JavaScript Code:-const textarea = document.getElementById(\'my-textarea\');\ntextarea.style.resize = \'none\';This code will overwrite any CSS styles that have been applied to the textarea.To reduce the size of a textarea, you can use therowsandcolsattributes in the HTML code. The rows attribute specifies the number ofrowsin the textarea, and thecolsattribute specifies the number of columns. For example, the following code will create a textarea with 10 rows and 50 columns:HTML Code:-<textarea rows=""10"" cols=""50""></textarea>You can also use CSS to set the size of a textarea. The following code will set the height and width of a textarea with the idmy-textareato 100px and 200px, respectively:CSS Code:-textarea#my-textarea {\n  height: 100px;\n  width: 200px;\n}ShareImprove this answerFollowansweredAug 29, 2023 at 11:23Parth RavalParth Raval4,29533 gold badges2424 silver badges3838 bronze badges'}"
6,"{'title': 'How to check whether a string contains a substring in JavaScript?', 'question': ""This question's answers are acommunity effort. Edit existing answers to improve this post. It is not currently accepting new answers or interactions.Usually I would expect aString.contains()method, but there doesn't seem to be one.What is a reasonable way to check for this?javascriptstringsubstringstring-matchingShareFolloweditedApr 3, 2019 at 13:17community wiki29 revs, 19 users 18%Peter O."", 'answers': 'ECMAScript\xa06  introducedString.prototype.includes:const string = ""foo"";\nconst substring = ""oo"";\n\nconsole.log(string.includes(substring)); // trueString.prototype.includesiscase-sensitiveandisnotsupported by Internet\xa0Explorerwithout apolyfill.In ECMAScript\xa05 or older environments, useString.prototype.indexOf, which returns -1 when a substring cannot be found:var string = ""foo"";\nvar substring = ""oo"";\n\nconsole.log(string.indexOf(substring) !== -1); // trueShareImprove this answerFolloweditedOct 18, 2022 at 6:47community wiki48 revs, 39 users 16%Ry-\n\nThere is aString.prototype.includesin ES6:""potato"".includes(""to"");\n> trueNote that thisdoes not work in Internet Explorer or some other old browserswith no or incomplete ES6 support. To make it work in old browsers, you may wish to use a transpiler likeBabel, a shim library likees6-shim, or thispolyfill from MDN:if (!String.prototype.includes) {\n  String.prototype.includes = function(search, start) {\n    \'use strict\';\n    if (typeof start !== \'number\') {\n      start = 0;\n    }\n\n    if (start + search.length > this.length) {\n      return false;\n    } else {\n      return this.indexOf(search, start) !== -1;\n    }\n  };\n}ShareImprove this answerFolloweditedSep 9, 2022 at 11:50Zoe - Save the data dump♦28k2222 gold badges127127 silver badges157157 bronze badgesansweredJan 7, 2013 at 10:23eliocseliocs18.8k77 gold badges4141 silver badges5252 bronze badges\n\nAnother alternative isKMP(Knuth–Morris–Pratt).The KMP algorithm searches for a length-msubstring in a length-nstring in worst-case O(n+m) time, compared to a worst-case of O(n⋅m) for the naive algorithm, so using KMP may be reasonable if you care about worst-case time complexity.Here\'s a JavaScript implementation by Project Nayuki, taken fromhttps://www.nayuki.io/res/knuth-morris-pratt-string-matching/kmp-string-matcher.js:// Searches for the given pattern string in the given text string using the Knuth-Morris-Pratt string matching algorithm.\n// If the pattern is found, this returns the index of the start of the earliest match in \'text\'. Otherwise -1 is returned.function kmpSearch(pattern, text) {\n  if (pattern.length == 0)\n    return 0; // Immediate match\n\n  // Compute longest suffix-prefix table\n  var lsp = [0]; // Base case\n  for (var i = 1; i < pattern.length; i++) {\n    var j = lsp[i - 1]; // Start by assuming we\'re extending the previous LSP\n    while (j > 0 && pattern[i] !== pattern[j])\n      j = lsp[j - 1];\n    if (pattern[i] === pattern[j])\n      j++;\n    lsp.push(j);\n  }\n\n  // Walk through text string\n  var j = 0; // Number of chars matched in pattern\n  for (var i = 0; i < text.length; i++) {\n    while (j > 0 && text[i] != pattern[j])\n      j = lsp[j - 1]; // Fall back in the pattern\n    if (text[i]  == pattern[j]) {\n      j++; // Next char matched, increment position\n      if (j == pattern.length)\n        return i - (j - 1);\n    }\n  }\n  return -1; // Not found\n}\n\nconsole.log(kmpSearch(\'ays\', \'haystack\') != -1) // true\nconsole.log(kmpSearch(\'asdf\', \'haystack\') != -1) // falseShareImprove this answerFolloweditedJun 8, 2022 at 13:33community wiki11 revs, 7 users 47%Mark Amery'}","{'title': ""How to access the index value in a 'for' loop?"", 'question': 'How do I access the index while iterating over a sequence with aforloop?xs = [8, 23, 45]\n\nfor x in xs:\n    print(""item #{} = {}"".format(index, x))Desired output:item #1 = 8\nitem #2 = 23\nitem #3 = 45pythonloopslistShareImprove this questionFolloweditedDec 9, 2023 at 20:22Rob Bednark27.3k2424 gold badges8484 silver badges126126 bronze badgesaskedFeb 6, 2009 at 22:47Joan VengeJoan Venge326k218218 gold badges489489 silver badges699699 bronze badges', 'answers': 'Use the built-in functionenumerate():for idx, x in enumerate(xs):\n    print(idx, x)It isnon-pythonicto manually index viafor i in range(len(xs)): x = xs[i]or manually manage an additional state variable.Check outPEP 279for more.ShareImprove this answerFolloweditedApr 10, 2022 at 12:44Mateen Ulhaq26.6k2020 gold badges115115 silver badges147147 bronze badgesansweredFeb 6, 2009 at 22:52Mike HordeckiMike Hordecki95.6k33 gold badges2828 silver badges2727 bronze badges\n\nUsing a for loop, how do I access the loop index, from 1 to 5 in this case?Useenumerateto get the index with the element as you iterate:for index, item in enumerate(items):\n    print(index, item)And note that Python\'s indexes start at zero, so you would get 0 to 4 with the above. If you want the count, 1 to 5, do this:count = 0 # in case items is empty and you need it after the loop\nfor count, item in enumerate(items, start=1):\n    print(count, item)Unidiomatic control flowWhat you are asking for is the Pythonic equivalent of the following, which is the algorithm most programmers of lower-level languages would use:index = 0            # Python\'s indexing starts at zero\nfor item in items:   # Python\'s for loops are a ""for each"" loop \n    print(index, item)\n    index += 1Or in languages that do not have a for-each loop:index = 0\nwhile index < len(items):\n    print(index, items[index])\n    index += 1or sometimes more commonly (but unidiomatically) found in Python:for index in range(len(items)):\n    print(index, items[index])Use the Enumerate FunctionPython\'senumeratefunctionreduces the visual clutter by hiding the accounting for the indexes, and encapsulating the iterable into another iterable (anenumerateobject) that yields a two-item tuple of the index and the item that the original iterable would provide. That looks like this:for index, item in enumerate(items, start=0):   # default is zero\n    print(index, item)This code sample is fairly well thecanonicalexample of the difference between code that is idiomatic of Python and code that is not. Idiomatic code is sophisticated (but not complicated) Python, written in the way that it was intended to be used. Idiomatic code is expected by the designers of the language, which means that usually this code is not just more readable, but also more efficient.Getting a countEven if you don\'t need indexes as you go, but you need a count of the iterations (sometimes desirable) you can start with1and the final number will be your count.count = 0 # in case items is empty\nfor count, item in enumerate(items, start=1):   # default is zero\n    print(item)\n\nprint(\'there were {0} items printed\'.format(count))The count seems to be more what you intend to ask for (as opposed to index) when you said you wanted from 1 to 5.Breaking it down - a step by step explanationTo break these examples down, say we have a list of items that we want to iterate over with an index:items = [\'a\', \'b\', \'c\', \'d\', \'e\']Now we pass this iterable to enumerate, creating an enumerate object:enumerate_object = enumerate(items) # the enumerate objectWe can pull the first item out of this iterable that we would get in a loop with thenextfunction:iteration = next(enumerate_object) # first iteration from enumerate\nprint(iteration)And we see we get a tuple of0, the first index, and\'a\', the first item:(0, \'a\')we can use what is referred to as ""sequence unpacking"" to extract the elements from this two-tuple:index, item = iteration\n#   0,  \'a\' = (0, \'a\') # essentially this.and when we inspectindex, we find it refers to the first index, 0, anditemrefers to the first item,\'a\'.>>> print(index)\n0\n>>> print(item)\naConclusionPython indexes start at zeroTo get these indexes from an iterable as you iterate over it, use the enumerate functionUsing enumerate in the idiomatic way (along with tuple unpacking) creates code that is more readable and maintainable:So do this:for index, item in enumerate(items, start=0):   # Python indexes start at zero\n    print(index, item)ShareImprove this answerFolloweditedAug 20, 2021 at 4:31answeredJan 21, 2015 at 17:11Aaron Hall♦Aaron Hall388k9191 gold badges409409 silver badges336336 bronze badges\n\nIt\'s pretty simple to start it from1other than0:for index, item in enumerate(iterable, start=1):\n   print index, item  # Used to print in python<3.x\n   print(index, item) # Migrate to print() after 3.x+ShareImprove this answerFolloweditedJun 23, 2022 at 23:40SuperStormer5,35755 gold badges2828 silver badges3838 bronze badgesansweredMay 27, 2014 at 10:04A.J.A.J.8,8951212 gold badges6565 silver badges9090 bronze badges\n\nTested on Python 3.12Here are twelve examples of how you can access the indices with their corresponding array\'s elements usingfor loops,while loopsand somelooping functions. Note that array indices always start from zero by default (seeexample 4to change this).1. Looping elements with counter and+=operator.items = [8, 23, 45, 12, 78]\ncounter = 0\n\nfor value in items:\n    print(counter, value)\n    counter += 1Result:\n\n#    0 8\n#    1 23\n#    2 45\n#    3 12\n#    4 782. Iterating elements usingenumerate()built-in function.items = [8, 23, 45, 12, 78]\n\nfor i in enumerate(items):\n    print(""index/value"", i)Result:\n\n#    index/value (0, 8)\n#    index/value (1, 23)\n#    index/value (2, 45)\n#    index/value (3, 12)\n#    index/value (4, 78)3. Getting list\'s element and its index separately.items = [8, 23, 45, 12, 78]\n\nfor index, value in enumerate(items):\n    print(""index"", index, ""for value"", value)Result:\n\n#    index 0 for value 8\n#    index 1 for value 23\n#    index 2 for value 45\n#    index 3 for value 12\n#    index 4 for value 784. You can change theindexvalue to any increment.items = [8, 23, 45, 12, 78]\n\nfor i, item in enumerate(items, start=100):\n    print(i, item)Result:\n\n#    100 8\n#    101 23\n#    102 45\n#    103 12\n#    104 785. Automatic counter incrementation withrange(len(...))methods.items = [8, 23, 45, 12, 78]\n\nfor i in range(len(items)):\n    print(""Index:"", i, ""Value:"", items[i])Result:\n\n#    (\'Index:\', 0, \'Value:\', 8)\n#    (\'Index:\', 1, \'Value:\', 23)\n#    (\'Index:\', 2, \'Value:\', 45)\n#    (\'Index:\', 3, \'Value:\', 12)\n#    (\'Index:\', 4, \'Value:\', 78)6. Usingforloop inside function.items = [8, 23, 45, 12, 78]\n\ndef enum(items, start=0):\n    counter = start\n\n    for value in items:\n        print(counter, value)\n        counter += 1\n    \nenum(items)Result:\n\n#    0 8\n#    1 23\n#    2 45\n#    3 12\n#    4 787. Of course, we can\'t forget aboutwhileloop.items = [8, 23, 45, 12, 78]\ncounter = 0\n\nwhile counter < len(items):\n    print(counter, items[counter])\n    counter += 1Result:\n\n#    0 8\n#    1 23\n#    2 45\n#    3 12\n#    4 788.yieldstatement returning a generator object.def createGenerator():        \n    items = [8, 23, 45, 12, 78]\n\n    for (j, k) in enumerate(items):\n        yield (j, k)\n        \n\ngenerator = createGenerator()\n\nfor i in generator:\n    print(i)Result:\n\n#    (0, 8)\n#    (1, 23)\n#    (2, 45)\n#    (3, 12)\n#    (4, 78)9. Inline expression withforloop andlambda.items = [8, 23, 45, 12, 78]\n\nxerox = lambda upperBound: [(i, items[i]) for i in range(0, upperBound)]\nprint(xerox(5))Result:\n\n#    [(0, 8), (1, 23), (2, 45), (3, 12), (4, 78)]10. Iterate over two lists at once using Python\'szip()function.items = [8, 23, 45, 12, 78]\nindices = []\n\nfor index in range(len(items)):\n    indices.append(index)\n\nfor item, index in zip(items, indices):\n    print(""{}: {}"".format(index, item))Result:\n\n#    0: 8\n#    1: 23\n#    2: 45\n#    3: 12\n#    4: 7811. Loop over 2 lists with awhileloop anditer()&next()methods.items = [8, 23, 45, 12, 78]\nindices = range(len(items))\n\niterator1 = iter(indices)\niterator2 = iter(items)\n  \ntry:\n    while True:\n        i = next(iterator1)\n        element = next(iterator2)\n        print(i, element)\nexcept StopIteration:\n    passResult:\n\n#    0  8\n#    1  23\n#    2  45\n#    3  12\n#    4  7812. Also, it\'s nice to iterate list\'s elements inside class\'Static Method.items = [8, 23, 45, 12, 78]\n\nclass ElementPlus:\n    @staticmethod                            # decorator\n    def indexForEachOfMy(iterable):\n        for pair in enumerate(iterable):\n            print pair\n\nElementPlus.indexForEachOfMy(items)Result:\n\n#    (0, 8)\n#    (1, 23)\n#    (2, 45)\n#    (3, 12)\n#    (4, 78)ShareImprove this answerFolloweditedMay 10, 2023 at 10:31answeredJan 17, 2019 at 1:07Andy JazzAndy Jazz55.4k1818 gold badges152152 silver badges240240 bronze badges\n\nfor i in range(len(ints)):\n   print(i, ints[i]) # print updated to print() in Python 3.x+ShareImprove this answerFolloweditedApr 22, 2021 at 10:04mhhabib3,04111 gold badge1616 silver badges3333 bronze badgesansweredFeb 6, 2009 at 22:49David HanakDavid Hanak10.9k33 gold badges3232 silver badges3939 bronze badges\n\nAs is the norm in Python, there are several ways to do this. In all examples assume:lst = [1, 2, 3, 4, 5]Using enumerate (considered most idiomatic)for index, element in enumerate(lst):\n    # Do the things that need doing hereThis is also the safest option in my opinion because the chance of going into infinite recursion has been eliminated. Both the item and its index are held in variables and there is no need to write any further code to access the item.Creating a variable to hold the index (usingfor)for index in range(len(lst)):   # or xrange\n    # you will have to write extra code to get the elementCreating a variable to hold the index (usingwhile)index = 0\nwhile index < len(lst):\n    # You will have to write extra code to get the element\n    index += 1  # escape infinite recursionThere is always another wayAs explained before, there are other ways to do this that have not been explained here and they may even apply more in other situations.For example, usingitertools.chainwith for. It handles nested loops better than the other examples.ShareImprove this answerFolloweditedApr 20, 2022 at 11:55Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredAug 15, 2017 at 2:17CharitooCharitoo1,8541818 silver badges2222 bronze badges\n\nAccessing indexes & Performance Benchmarking of approachesThe fastest way to access indexes of list within loop inPython 3.7is to use theenumerate methodfor small, medium and huge lists.Please seedifferent approacheswhich can be used to iterate over list and access index value andtheir performance metrics(which I suppose would be useful for you) in code samples below:# Using range\ndef range_loop(iterable):\n    for i in range(len(iterable)):\n        1 + iterable[i]\n\n# Using enumerate\ndef enumerate_loop(iterable):\n    for i, val in enumerate(iterable):\n        1 + val\n\n# Manual indexing\ndef manual_indexing_loop(iterable):\n    index = 0\n    for item in iterable:\n        1 + item\n        index += 1See performance metrics for each method below:from timeit import timeit\n\ndef measure(l, number=10000):\n    print(""Measure speed for list with %d items"" % len(l))\n    print(""range: "", timeit(lambda :range_loop(l), number=number))\n    print(""enumerate: "", timeit(lambda :enumerate_loop(l), number=number))\n    print(""manual_indexing: "", timeit(lambda :manual_indexing_loop(l), number=number))\n\n# Measure speed for list with 1000 items\nmeasure(range(1000))\n# range:  1.161622366\n# enumerate:  0.5661940879999996\n# manual_indexing:  0.610455682\n\n# Measure speed for list with 100000 items\nmeasure(range(10000))\n# range:  11.794482958\n# enumerate:  6.197628574000001\n# manual_indexing:  6.935181098000001\n\n# Measure speed for list with 10000000 items\nmeasure(range(10000000), number=100)\n# range:  121.416859069\n# enumerate:  62.718909123\n# manual_indexing:  69.59575057400002As the result, usingenumeratemethod is the fastest method for iteration when the index needed.Adding some useful links below:What is the difference between range and xrange functions in Python 2.X?What is faster for loop using enumerate or for loop using xrange in Python?range(len(list)) or enumerate(list)?ShareImprove this answerFolloweditedJun 20, 2020 at 9:12CommunityBot111 silver badgeansweredAug 4, 2016 at 9:49Andriy IvaneykoAndriy Ivaneyko21.6k77 gold badges6464 silver badges8686 bronze badges\n\nOld fashioned way:for ix in range(len(ints)):\n    print(ints[ix])List comprehension:[ (ix, ints[ix]) for ix in range(len(ints))]\n\n>>> ints\n[1, 2, 3, 4, 5]\n>>> for ix in range(len(ints)): print ints[ix]\n... \n1\n2\n3\n4\n5\n>>> [ (ix, ints[ix]) for ix in range(len(ints))]\n[(0, 1), (1, 2), (2, 3), (3, 4), (4, 5)]\n>>> lc = [ (ix, ints[ix]) for ix in range(len(ints))]\n>>> for tup in lc:\n...     print(tup)\n... \n(0, 1)\n(1, 2)\n(2, 3)\n(3, 4)\n(4, 5)\n>>>ShareImprove this answerFolloweditedApr 22, 2021 at 10:06mhhabib3,04111 gold badge1616 silver badges3333 bronze badgesansweredFeb 6, 2009 at 22:52Charlie MartinCharlie Martin112k2626 gold badges195195 silver badges264264 bronze badges\n\nYou can useenumerateand embed expressions inside string literals to obtain the solution.This is a simple way:a=[4,5,6,8]\nfor b, val in enumerate(a):\n    print(\'item #{} = {}\'.format(b+1, val))ShareImprove this answerFolloweditedDec 19, 2021 at 22:13Lars1,04411 gold badge99 silver badges3030 bronze badgesansweredDec 18, 2021 at 16:05KofiKofi1,31411 gold badge1111 silver badges2222 bronze badges\n\nFirst of all, the indexes will be from 0 to 4. Programming languages start counting from 0; don\'t forget that or you will come across an index-out-of-bounds exception. All you need in theforloop is a variable counting from 0 to 4 like so:for x in range(0, 5):Keep in mind that I wrote 0 to 5 because the loop stops one number before the maximum. :)To get the value of an index, uselist[index]ShareImprove this answerFolloweditedApr 20, 2022 at 11:53Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMay 25, 2015 at 15:08rassa45rassa453,51611 gold badge3232 silver badges4444 bronze badges\n\nYou can do it with this code:ints = [8, 23, 45, 12, 78]\nindex = 0\n\nfor value in (ints):\n    index +=1\n    print index, valueUse this code if you need to reset the index value at the end of the loop:ints = [8, 23, 45, 12, 78]\nindex = 0\n\nfor value in (ints):\n    index +=1\n    print index, value\n    if index >= len(ints)-1:\n        index = 0ShareImprove this answerFolloweditedMay 26, 2015 at 10:39answeredMay 25, 2015 at 15:26LiamLiam6,27955 gold badges4040 silver badges5555 bronze badges\n\nAccording to this discussion:object\'s list indexLoop counter iterationThe current idiom for looping over the indices makes use of the built-inrangefunction:for i in range(len(sequence)):\n    # Work with index iLooping over both elements and indices can be achieved either by the old idiom or by using the newzipbuilt-in function:for i in range(len(sequence)):\n    e = sequence[i]\n    # Work with index i and element eorfor i, e in zip(range(len(sequence)), sequence):\n    # Work with index i and element eviaPEP 212 – Loop Counter Iteration.ShareImprove this answerFolloweditedApr 20, 2022 at 11:42Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMay 5, 2012 at 7:10thinker007thinker00753544 silver badges66 bronze badges\n\nIn your question, you write""how do I access the loop index, from 1 to 5 in this case?""However, the index for a list runs from zero.  So, then we need to know if what you actually want is the index and item for each item in a list, or whether you really want numbers starting from 1.  Fortunately, in Python, it is easy to do either or both.First, to clarify, theenumeratefunction iteratively returns the index and corresponding item for each item in a list.alist = [1, 2, 3, 4, 5]\n\nfor n, a in enumerate(alist):\n    print(""%d %d"" % (n, a))The output for the above is then,0 1\n1 2\n2 3\n3 4\n4 5Notice that the index runs from 0. This kind of indexing is common among modern programming languages including Python and C.If you want your loop to span a part of the list, you can use the standard Python syntax for a part of the list. For example, to loop from the second item in a list up to but not including the last item, you could usefor n, a in enumerate(alist[1:-1]):\n    print(""%d %d"" % (n, a))Note that once again, the output index runs from 0,0 2\n1 3\n2 4That brings us to thestart=nswitch forenumerate().  This simply offsets the index, you can equivalently simply add a number to the index inside the loop.for n, a in enumerate(alist, start=1):\n    print(""%d %d"" % (n, a))for which the output is1 1\n2 2\n3 3\n4 4\n5 5ShareImprove this answerFolloweditedMay 22, 2019 at 15:10Georgy13.4k77 gold badges6666 silver badges7575 bronze badgesansweredAug 15, 2018 at 17:52DrMDrM2,47511 gold badge1616 silver badges3030 bronze badges\n\nIf I were to iteratenums = [1, 2, 3, 4, 5]I would dofor i, num in enumerate(nums, start=1):\n    print(i, num)Or get the length asl = len(nums)for i in range(l):\n    print(i+1, nums[i])ShareImprove this answerFolloweditedMay 26, 2020 at 1:51so232233 silver badges1313 bronze badgesansweredJun 4, 2018 at 2:10Ankur KothariAnkur Kothari89299 silver badges1111 bronze badges\n\nYou can also try this:data = [\'itemA.ABC\', \'itemB.defg\', \'itemC.drug\', \'itemD.ashok\']\nx = []\nfor (i, item) in enumerate(data):\n      a = (i, str(item).split(\'.\'))\n      x.append(a)\nfor index, value in x:\n     print(index, value)The output is0 [\'itemA\', \'ABC\']\n1 [\'itemB\', \'defg\']\n2 [\'itemC\', \'drug\']\n3 [\'itemD\', \'ashok\']ShareImprove this answerFollowansweredFeb 7, 2018 at 14:04Ashok Kumar JayaramanAshok Kumar Jayaraman3,02733 gold badges3333 silver badges4242 bronze badges\n\nIf there is no duplicate value in the list:for i in ints:\n    indx = ints.index(i)\n    print(i, indx)ShareImprove this answerFolloweditedMay 22, 2019 at 15:02Georgy13.4k77 gold badges6666 silver badges7575 bronze badgesansweredJun 10, 2018 at 3:59RIshuRIshu21733 silver badges1111 bronze badges\n\nA simple answer using awhileloop:arr = [8, 23, 45, 12, 78]\ni = 0\nwhile i < len(arr):\n    print(""Item "", i + 1, "" = "", arr[i])\n    i += 1Output:Item  1  =  8\nItem  2  =  23\nItem  3  =  45\nItem  4  =  12\nItem  5  =  78ShareImprove this answerFolloweditedApr 20, 2022 at 13:24answeredApr 18, 2020 at 20:25Amar KumarAmar Kumar2,61022 gold badges2828 silver badges3434 bronze badges\n\nYet another way to run a counter in a for loop is to useitertools.count.from itertools import count\n\nmy_list = [\'a\', \'b\', \'a\']\nfor i, item in zip(count(), my_list):\n    print(i, item)This is useful especially if you want the counters to be fractional numbers. In the following example, the ""index"" starts from 1.0 and is incremented by 0.5 in each iteration.my_list = [\'a\', \'b\', \'a\']\n\nfor i, item in zip(count(start=1., step=0.5), my_list):\n    print(f""loc={i}, item={item}"")\n    \n# loc=1.0, item=a\n# loc=1.5, item=b\n# loc=2.0, item=aAnother method is to uselist.index()inside a loop. However, in contrast to other answers on this page mentioning this method (1,2,3), the starting point of the index search (which is the second argument) must be passed to thelist.index()method. This lets you achieve 2 things: (1) Doesn\'t expensively loop over the list from the beginning again; (2) Can find the index of all values, even duplicates.my_list = [\'a\', \'b\', \'a\']\nidx = -1\nfor item in my_list:\n    idx = my_list.index(item, idx+1)\n    #                         ^^^^^   <---- start the search from the next index\n    print(f""index={idx}, item={item}"")\n    \n# index=0, item=a\n# index=1, item=b\n# index=2, item=aIn terms of performance, if you want all/most of the indices,enumerate()is the fastest option. If you were looking for only specific indices, thenlist.index()may bemoreefficient. Below are two examples wherelist.index()is more efficient.Example #1: Index of specific valuesSuppose you want to find all indices where a specific value appears in a list (e.g. highest value). For example, in the following case, we want to find all indices that 2 appears in. This is a one-liner usingenumerate(). However, we can also search for the indices of 2 by using thelist.index()method in a while-loop; as mentioned before, in each iteration, we start the index search from where we left off in the previous iteration.lst = [0, 2, 1, 2]\ntarget = 2\n\nresult = []\npos = -1\nwhile True:\n    try:\n        pos = lst.index(target, pos+1)\n        result.append(pos)\n    except ValueError:\n        break\n        \nprint(result)      # [1, 3]In fact, in certain cases, it\'s much faster thanenumerate()option that produces the same output especially if the list is long.Example #2: Index of the first number that is smaller than a targetAnother common exercise where index is often needed in a loop is to find the index of the first item in a list that satisfies some condition (e.g. greater/smaller than some target value). In the following example, we want to find the index of the first value that exceeds 2.5. This is a one-liner usingenumerate()but usinglist.index()is more efficient because getting indices that won\'t be used as inenumerate()has a cost (whichlist.index()doesn\'t incur).my_list = [1, 2, 3, 4]\ntarget = 2.5\n\nfor item in my_list:\n    if item > target:\n        idx = my_list.index(item)\n        breakor as a one-liner:idx = next(my_list.index(item) for item in my_list if item > target)Code used to produce the plot of runtime speed ratios:import random\nimport matplotlib.pyplot as plt\nimport perfplot\n\n\ndef enumerate_1(lst, target=3):\n    return [i for i, v in enumerate(lst) if v == target]\n\n\ndef list_index_1(lst, target=3):\n    result = []\n    pos = -1\n    while True:\n        try:\n            pos = lst.index(target, pos+1)\n            result.append(pos)\n        except ValueError:\n            break\n    return result\n\n\ndef list_index_2(lst, target):\n    for item in lst:\n        if item > target:\n            return lst.index(item)\n\n\ndef enumerate_2(lst, target):\n    return next(i for i, item in enumerate(lst) if item > target)\n\n\nsetups = [lambda n: [random.randint(1, 10) for _ in range(n)], \n          lambda n: (list(range(n)), n-1.5)]\nkernels_list = [[enumerate_1, list_index_1], [enumerate_2, list_index_2]]\ntitles = [\'Get indices of a value\', \'Get index that satisfies a condition\']\nn_range = [2**k for k in range(1,21)]\nlabels = [\'enumerate\', \'list.index\']\nxlabel = \'list length\'\n\nfig, axs = plt.subplots(1, 2, figsize=(10, 5), facecolor=\'white\', dpi=60)\nfor i, (ax, su, ks, t) in enumerate(zip(axs, setups, kernels_list, titles)):\n    plt.sca(ax)\n    perfplot.plot(ks, n_range, su, None, labels, xlabel, t, relative_to=1)\n    ax.xaxis.set_tick_params(labelsize=13)\nplt.setp(axs, ylim=(0.7, 2.4), yticks=[i*0.25 + 0.75 for i in range(7)], \n         xlim=(1, 1100000), xscale=\'log\', xticks=[1, 100, 10000, 1000000])\nfig.tight_layout();ShareImprove this answerFolloweditedAug 25, 2023 at 18:21answeredAug 21, 2023 at 19:21cottontailcottontail19.5k2222 gold badges111111 silver badges9797 bronze badges\n\nYou can use theindexmethod:ints = [8, 23, 45, 12, 78]\ninds = [ints.index(i) for i in ints]It is highlighted in a comment that this method doesn’t work if there are duplicates inints. The method below should work for any values inints:ints = [8, 8, 8, 23, 45, 12, 78]\ninds = [tup[0] for tup in enumerate(ints)]Or alternativelyints = [8, 8, 8, 23, 45, 12, 78]\ninds = [tup for tup in enumerate(ints)]if you want to get both the index and the value inintsas a list of tuples.It uses the method ofenumeratein the selected answer to this question, but with list comprehension, making it faster with less code.ShareImprove this answerFolloweditedApr 20, 2022 at 12:49Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMay 30, 2018 at 21:34PyRsquaredPyRsquared7,1901414 gold badges5757 silver badges8888 bronze badges\n\nYou can simply use a variable such ascountto count the number of elements in the list:ints = [8, 23, 45, 12, 78]\ncount = 0\nfor i in ints:\n    count = count + 1\n    print(\'item #{} = {}\'.format(count, i))ShareImprove this answerFolloweditedJul 21, 2021 at 11:38Sam2177 bronze badgesansweredMay 9, 2021 at 19:19RahulRahul17922 silver badges44 bronze badges\n\nTo print a tuple of (index, value) in a list comprehension using aforloop:ints = [8, 23, 45, 12, 78]\nprint [(i,ints[i]) for i in range(len(ints))]Output:[(0, 8), (1, 23), (2, 45), (3, 12), (4, 78)]ShareImprove this answerFolloweditedApr 20, 2022 at 12:09Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredApr 24, 2018 at 10:53lolalola11522 silver badges66 bronze badges\n\n1.) Using enumerate()for index, item in enumerate(items):\n    print(index, item)2.) Using while loopa = [1,2,3,4,5]\ni = 0\nwhile i < len(a):\n    print(i + 1,a[i])\n    i += 1ShareImprove this answerFollowansweredFeb 23 at 5:56ishaanishaan69411 silver badge99 bronze badges\n\nIn addition to all the excellent answers above, here is a solution to this problem when working with pandas Series objects. In many cases, pandas Series have custom/unique indices (for example, unique identifier strings) that can\'t be accessed with theenumerate()function.xs = pd.Series([8, 23, 45])\n\nxs.index = [\'G923002\', \'G923004\', \'G923005\']\n\nprint(xs)Output:#    G923002     8\n#    G923004    23\n#    G923005    45\n#    dtype: int64We can see below thatenumerate()doesn\'t give us the desired result:for id, x in enumerate(xs):\n    print(""id #{} = {}"".format(id, x))Output:#    id #0 = 8\n#    id #1 = 23\n#    id #2 = 45We can access the indices of a pandas Series in a for loop using.items():for id, x in xs.items():\n    print(""id #{} = {}"".format(id, x))Output:#    id #G923002 = 8\n#    id #G923004 = 23\n#    id #G923005 = 45ShareImprove this answerFollowansweredOct 16, 2022 at 3:20jgladjglad15222 gold badges22 silver badges1515 bronze badges\n\nOne-liner lovers:[index for index, datum in enumerate(data) if \'a\' in datum]Explaination:>>> data = [\'a\',\'ab\',\'bb\',\'ba\',\'alskdhkjl\',\'hkjferht\',\'lal\']\n>>> data\n[\'a\', \'ab\', \'bb\', \'ba\', \'alskdhkjl\', \'hkjferht\', \'lal\']\n>>> [index for index, datum in enumerate(data) if \'a\' in datum]\n[0, 1, 3, 4, 6]\n>>> [index for index, datum in enumerate(data) if \'b\' in datum]\n[1, 2, 3]\n>>>Points to take:Pythonlistdoesn\'t provide an index; if you are usingforIf youenumeratealistit will return you ANOTHERlistBUT that list will have a different typeit will wrap each and every element with an index astuplewe can access tuples as variables, separated with comma(,)Thanks. Keep me in your prayers.ShareImprove this answerFollowansweredNov 4, 2022 at 16:47Maifee Ul AsadMaifee Ul Asad4,34399 gold badges4444 silver badges106106 bronze badges\n\nYou can userange(len(some_list))and then lookup the index like thisxs = [8, 23, 45]\nfor i in range(len(xs)):\n    print(""item #{} = {}"".format(i + 1, xs[i]))Or use the Python’s built-inenumeratefunction which allows you to loop over a list and retrieve the index and the value of each item in the listxs = [8, 23, 45]\nfor idx, val in enumerate(xs, start=1):\n    print(""item #{} = {}"".format(idx, val))ShareImprove this answerFolloweditedJun 8, 2022 at 8:55answeredJun 8, 2022 at 8:43Ran TurnerRan Turner17.1k99 gold badges5555 silver badges5858 bronze badges\n\nIt can be achieved with the following code:xs = [8, 23, 45]\nfor x, n in zip(xs, range(1, len(xs)+1)):\n    print(""item #{} = {}"".format(n, x))Here, range(1, len(xs)+1); If you expect the output to start from 1 instead of 0, you need to start the range from 1 and add 1 to the total length estimated since python starts indexing the number from 0 by default.Final Output:\nitem #1 = 8\nitem #2 = 23\nitem #3 = 45ShareImprove this answerFollowansweredMay 12, 2022 at 13:41kamalesh dkamalesh d1711 silver badge44 bronze badges\n\nA loop with a ""counter"" variable set as an initialiser that will be a parameter, in formatting the string, as the item number.Theforloop accesses the ""listos"" variable which is the list. As we access the list by ""i"", ""i"" is formatted as the item price (or whatever it is).listos = [8, 23, 45, 12, 78]\ncounter = 1\nfor i in listos:\n    print(\'Item #{} = {}\'.format(counter, i))\n    counter += 1Output:Item #1 = 8\nItem #2 = 23\nItem #3 = 45\nItem #4 = 12\nItem #5 = 78ShareImprove this answerFolloweditedApr 20, 2022 at 13:23Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJan 5, 2022 at 15:19LunaticXXD10LunaticXXD1042944 silver badges1010 bronze badges\n\nThis serves the purpose well enough:list1 = [10, \'sumit\', 43.21, \'kumar\', \'43\', \'test\', 3]\nfor x in list1:\n    print(\'index:\', list1.index(x), \'value:\', x)ShareImprove this answerFolloweditedApr 20, 2022 at 12:06Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredApr 24, 2018 at 10:45Sumit KumarSumit Kumar12111 silver badge66 bronze badges'}","{'title': 'Proper use cases for Android UserManager.isUserAGoat()?', 'question': 'Want to improve this post?Provide detailed answers to this question, including citations and an explanation of why your answer is correct. Answers without enough detail may be edited or deleted.I was looking at the new APIs introduced inAndroid 4.2.\nWhile looking at theUserManagerclass I came across the following method:public boolean isUserAGoat()Used to determine whether the user making this call is subject to teleportations.Returns whether the user making this call is a goat.How and when should this be used?javaandroidusermanagerShareImprove this questionFolloweditedSep 7, 2018 at 8:21Luca Kiebel10k77 gold badges3131 silver badges4545 bronze badgesaskedNov 14, 2012 at 8:34Ovidiu LatcuOvidiu Latcu72.2k1515 gold badges7777 silver badges8686 bronze badges', 'answers': 'Android R Update:From Android R, this method always returns false. Google says that this is done ""to protect goat privacy"":/**\n * Used to determine whether the user making this call is subject to\n * teleportations.\n *\n * <p>As of {@link android.os.Build.VERSION_CODES#LOLLIPOP}, this method can\n * now automatically identify goats using advanced goat recognition technology.</p>\n *\n * <p>As of {@link android.os.Build.VERSION_CODES#R}, this method always returns\n * {@code false} in order to protect goat privacy.</p>\n *\n * @return Returns whether the user making this call is a goat.\n */\npublic boolean isUserAGoat() {\n    if (mContext.getApplicationInfo().targetSdkVersion >= Build.VERSION_CODES.R) {\n        return false;\n    }\n    return mContext.getPackageManager()\n            .isPackageAvailable(""com.coffeestainstudios.goatsimulator"");\n}Previous answer:From theirsource, the method used to returnfalseuntil it was changed in API 21./**\n * Used to determine whether the user making this call is subject to\n * teleportations.\n * @return whether the user making this call is a goat \n */\npublic boolean isUserAGoat() {\n    return false;\n}It looks like the method has no real use for us as developers. Someone has previously stated that it might be anEaster egg.In API 21 the implementation was changed to check if there is an installed app with the packagecom.coffeestainstudios.goatsimulator/**\n * Used to determine whether the user making this call is subject to\n * teleportations.\n *\n * <p>As of {@link android.os.Build.VERSION_CODES#LOLLIPOP}, this method can\n * now automatically identify goats using advanced goat recognition technology.</p>\n *\n * @return Returns true if the user making this call is a goat.\n */\npublic boolean isUserAGoat() {\n    return mContext.getPackageManager()\n            .isPackageAvailable(""com.coffeestainstudios.goatsimulator"");\n}Here is thesourceand thechange.ShareImprove this answerFolloweditedDec 17, 2020 at 16:56Wrichik Basu1,25311 gold badge1818 silver badges3434 bronze badgesansweredNov 14, 2012 at 8:40mehmeh22.4k88 gold badges4848 silver badges5959 bronze badges\n\nI don\'t know if this was ""the"" official use case, but the following produces a warning in Java (that can further produce compile errors if mixed withreturnstatements, leading to unreachable code):while (1 == 2) { // Note that ""if"" is treated differently\n    System.out.println(""Unreachable code"");\n}However this is legal:while (isUserAGoat()) {\n    System.out.println(""Unreachable but determined at runtime, not at compile time"");\n}So I often find myself writing a silly utility method for the quickest way to dummy out a code block, then in completing debugging find all calls to it, so provided the implementation doesn\'t change this can be used for that.JLSpoints outif (false)does not trigger ""unreachable code"" for the specific reason that this would break support for debug flags, i.e., basically this use case (h/t @auselen). (static final boolean DEBUG = false;for instance).I replacedwhileforif, producing a more obscure use case. Ibelieveyou can trip up your IDE, like Eclipse, with this behavior, but this edit is 4 years into the future, and I don\'t have an Eclipse environment to play with.ShareImprove this answerFolloweditedFeb 12, 2018 at 21:13Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredNov 14, 2012 at 14:47djechlindjechlin60.3k3636 gold badges168168 silver badges294294 bronze badges\n\nThis appears to be an inside joke at Google. It\'s also featured in the Google Chrome task manager. It has no purpose, other than some engineers finding it amusing. Which is a purpose by itself, if you will.In Chrome, open the Task Manager withShift+Esc.Right click to add theGoats Teleportedcolumn.Wonder.There is even a huge Chromium bug report abouttoo many teleported goats.The following Chromiumsource code snippetis stolen from theHNcomments.int TaskManagerModel::GetGoatsTeleported(int index) const {\n  int seed = goat_salt_ * (index + 1);\n  return (seed >> 16) & 255;\n}ShareImprove this answerFolloweditedNov 15, 2012 at 1:06answeredNov 14, 2012 at 9:03user479870user479870\n\nComplementing the @djechlinanswer(good answer by the way!), this function call could bealsoused as dummy code to hold a breakpoint in an IDE when you want to stop in some specific iteration or a particular recursive call, for example:isUserAGoat()could be used instead of a dummy variable declaration that will be shown in the IDE as a warning and, in Eclipse particular case, will clog the breakpoint mark, making it difficult to enable/disable it. If the method is used as a convention, all the invocations could be later filtered by some script (during commit phase maybe?).Google guys are heavy Eclipse users (they provide several of their projects as Eclipse plugins: Android SDK, GAE, etc), so the @djechlin answer and this complementary answer make a lot of sense (at least for me).ShareImprove this answerFolloweditedMay 23, 2017 at 12:02CommunityBot111 silver badgeansweredNov 21, 2012 at 16:55higuarohiguaro15.9k44 gold badges3737 silver badges4343 bronze badges\n\nThere\'s a funny named method/constant/whatever in each version of Android.The only practical use I ever saw was in the Last Call forGoogle I/OContest where they asked what it was for a particular version, to see if contestants read the API diff report for each release. The contest had programming problems too, but generally some trivia that could be graded automatically first to get the number of submissions down to reasonable amounts that would be easier to check.ShareImprove this answerFolloweditedDec 10, 2012 at 2:46answeredNov 14, 2012 at 17:26Lance NanekLance Nanek6,38722 gold badges2525 silver badges1919 bronze badges\n\nIn the discipline of speech recognition, users are divided intogoatsandsheeps.For instance, hereon page 89:Sheeps are people for whom speech recognition works exceptionally well, and goats are people for whom it works exceptionally poorly. Only the voice recognizer knows what separates them. People can\'t predict whose voice will be recognized easily and whose won\'t. The best policy is to design the interface so it can handle all kinds of voices in all kinds of environmentsMaybe, it is planned to mark Android users as goats in the future to be able to configure the speech recognition engine for goats\' needs. ;-)ShareImprove this answerFolloweditedFeb 12, 2018 at 21:16Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMay 31, 2013 at 9:33rainer198rainer1983,23322 gold badges2828 silver badges4545 bronze badges\n\nAs of API 21 (the first Android 5.0/Lollipop SDK), this detects whether theGoat Simulatorapp is installed:/**\n * Used to determine whether the user making this call is subject to\n * teleportations.\n *\n * <p>As of {@link android.os.Build.VERSION_CODES#LOLLIPOP}, this method can\n * now automatically identify goats using advanced goat recognition technology.</p>\n *\n * @return Returns true if the user making this call is a goat.\n */\npublic boolean isUserAGoat() {\n    return mContext.getPackageManager()\n            .isPackageAvailable(""com.coffeestainstudios.goatsimulator"");\n}This should make it clear thatdjechlin\'s suggestionof using it as a warning-freeif (false)is a potentially disastrous strategy. What previously returnedfalsefor every device now returns a seemingly random value: if this was buried deep enough in your code it could take alongtime to figure out where your new bugs are coming from.Bottom line: if you don\'t control the implementation of a method and decide to use it for purposes other than stated in the API documentation, you\'re heading for trouble.ShareImprove this answerFolloweditedSep 20, 2017 at 10:30answeredOct 20, 2014 at 10:00Mark WhitakerMark Whitaker8,54588 gold badges4545 silver badges7070 bronze badges\n\nGoogle has a serious liking for goats and goat basedEaster eggs. There has even beenprevious Stack\xa0Overflow posts about it.As has been mentioned in previous posts, it also exists within the Chrome task manager (it first appeared in the wild in 2009):<message name=""IDS_TASK_MANAGER_GOATS_TELEPORTED_COLUMN"" desc=""The goats teleported column"">\n    Goats Teleported\n</message>And then in Windows, Linux and Mac versions of Chrome early 2010). The number of ""Goats Teleported"" is in factrandom:int TaskManagerModel::GetGoatsTeleported(int index) const {\n     int seed = goat_salt_ * (index + 1);\n     return (seed >> 16) & 255;\n }Other Google references to goats include:Mowing with goatsThe goats are baaaahkThe earliest correlation of goats and Google belongs in the original ""Mowing with goats"" blog post, as far as I can tell.We can safely assume that it\'s merely an Easter egg and has no real-world use, except for returningfalse.ShareImprove this answerFolloweditedMay 23, 2017 at 11:47CommunityBot111 silver badgeansweredNov 15, 2012 at 10:33rickyduckrickyduck4,0681414 gold badges5959 silver badges9494 bronze badges\n\nThere is a similar call,isUserAMonkey(), that returns true if theMonkeyRunner toolis being used. The SDK explanation is just as curious as this one.public static boolean isUserAMonkey(){}Returnstrueif the user interface is currently being messed with by a monkey.Hereis the source.I expect that this was added in anticipation of a newSDKtool named something with a goat and willactuallybe functional to test for the presence of that tool.Also see a similar question,Strange function in ActivityManager: isUserAMonkey. What does this mean, what is its use?.ShareImprove this answerFolloweditedMay 23, 2017 at 12:26CommunityBot111 silver badgeansweredNov 16, 2012 at 21:33KDExKDEx3,59744 gold badges3232 silver badges3939 bronze badges\n\nFunny Easter Egg.In Ubuntu version of Chrome, in Task Manager (shift+esc), with right-click you can add a sci-fi column that in italian version is ""Capre Teletrasportate"" (Teleported Goats).A funny theory about it ishere.ShareImprove this answerFolloweditedApr 21, 2016 at 11:38GAMITG3,82077 gold badges3333 silver badges5151 bronze badgesansweredFeb 6, 2014 at 10:35j.cj.c2,86333 gold badges3131 silver badges4545 bronze badges\n\nIt\'s important from a usability and accessibility angle to know whether or not your user is a Goat.Goats actually have very different needs from their software if they are going to truly benefit from all the information age has to offer.I think it wonderful that some kind developer was concerned about ALL of us users, not just the fashionable ones.ShareImprove this answerFollowansweredMay 9, 2022 at 23:05Nobody Tells The TruthNobody Tells The Truth32122 silver badges1010 bronze badges\n\nIt\'s not an inside jokeApparently it\'s just an application checker forGoat Simulator - by Coffee Stain StudiosIf you have Goat Simulator installed, you\'re a goat.\nIf you don\'t have it installed, you\'re not a goat.I imagine it was more of a personal experiment by one of the developers, most likely to find people with a common interest.ShareImprove this answerFolloweditedDec 4, 2019 at 10:49Manaus40755 silver badges99 bronze badgesansweredNov 17, 2018 at 19:11Empire of EEmpire of E61877 silver badges1313 bronze badges'}","{'title': 'Catch multiple exceptions at once?', 'question': 'It is discouraged to catchSystem.Exceptionerrors. Instead, only the ""known"" exceptions should be caught.This sometimes leads to unnecessary repetitive code, for example:try\n{\n    WebId = new Guid(queryString[""web""]);\n}\ncatch (FormatException)\n{\n    WebId = Guid.Empty;\n}\ncatch (OverflowException)\n{\n    WebId = Guid.Empty;\n}Is there a way to catch both exceptions and only setWebId = Guid.Emptyonce?The given example is rather simple, as it\'s only aGUID, but imagine code where you modify an object multiple times, and if one of the manipulations fails as expected, you want to ""reset"" the object. However, if there is an unexpected exception, I still want to throw that higher.c#.netexceptionShareImprove this questionFolloweditedApr 18 at 13:15TylerH21.1k7272 gold badges7878 silver badges105105 bronze badgesaskedSep 25, 2008 at 20:56Michael StumMichael Stum180k118118 gold badges403403 silver badges538538 bronze badges', 'answers': 'CatchSystem.Exceptionand switch on the typescatch (Exception ex)            \n{                \n    if (ex is FormatException || ex is OverflowException)\n    {\n        WebId = Guid.Empty;\n    }\n    else\n        throw;\n}ShareImprove this answerFolloweditedNov 12, 2023 at 9:48Mahdi Ataollahi5,04455 gold badges3131 silver badges4040 bronze badgesansweredSep 25, 2008 at 21:01Joseph DaigleJoseph Daigle48.1k1010 gold badges4949 silver badges7373 bronze badges\n\nEDIT:I do concur with others who are saying that, as of C# 6.0, exception filters are now a perfectly fine way to go:catch (Exception ex) when (ex is ... || ex is ... )Except that I still kind of hate the one-long-line layout and would personally lay the code out like the following. I think this is as functional as it is aesthetic, since I believe it improves comprehension. Some may disagree:catch (Exception ex) when (\n    ex is ...\n    || ex is ...\n    || ex is ...\n)ORIGINAL:I know I\'m a little late to the party here, but holy smoke...Cutting straight to the chase, this kind of duplicates an earlier answer, but if you really want to perform a common action for several exception types and keep the whole thing neat and tidy within the scope of the one method, why not just use a lambda/closure/inline function to do something like the following?  I mean, chances are pretty good that you\'ll end up realizing that you just want to make that closure a separate method that you can utilize all over the place. But then it will be super easy to do that without actually changing the rest of the code structurally.  Right?private void TestMethod ()\n{\n    Action<Exception> errorHandler = ( ex ) => {\n        // write to a log, whatever...\n    };\n\n    try\n    {\n        // try some stuff\n    }\n    catch ( FormatException  ex ) { errorHandler ( ex ); }\n    catch ( OverflowException ex ) { errorHandler ( ex ); }\n    catch ( ArgumentNullException ex ) { errorHandler ( ex ); }\n}I can\'t help but wonder (warning:a little irony/sarcasm ahead) why on earth go to all this effort to basically just replace the following:try\n{\n    // try some stuff\n}\ncatch( FormatException ex ){}\ncatch( OverflowException ex ){}\ncatch( ArgumentNullException ex ){}...with some crazy variation of this next code smell, I mean example, only to pretend that you\'re saving a few keystrokes.// sorta sucks, let\'s be honest...\ntry\n{\n    // try some stuff\n}\ncatch( Exception ex )\n{\n    if (ex is FormatException ||\n        ex is OverflowException ||\n        ex is ArgumentNullException)\n    {\n        // write to a log, whatever...\n        return;\n    }\n    throw;\n}Because it certainly isn\'t automatically more readable.Granted, I left the three identical instances of/* write to a log, whatever... */ return;out of the first example.But that\'s sort of my point.  Y\'all have heard of functions/methods, right?  Seriously.  Write a commonErrorHandlerfunction and, like, call it from each catch block.If you ask me, the second example (with theifandiskeywords) is both significantly less readable, and simultaneously significantly more error-prone during the maintenance phase of your project.The maintenance phase, for anyone who might be relatively new to programming, is going to compose 98.7% or more of the overall lifetime of your project, and the poor schmuck doing the maintenance is almost certainly going to be someone other than you. And there is a very good chance they will spend 50% of their time on the job cursing your name.And of course FxCop barks at you and so you have toalsoadd an attribute to your code that has precisely zip to do with the running program, and is only there to tell FxCop to ignore an issue that in 99.9% of cases it is totally correct in flagging. And, sorry, I might be mistaken, but doesn\'t that ""ignore"" attribute end up actually compiled into your app?Would putting the entireiftest on one line make it more readable? I don\'t think so.  I mean, I did have another programmer vehemently argue once long ago that putting more code on one line would make it ""run faster.""  But of course he was stark raving nuts. Trying to explain to him (with a straight face--which was challenging) how the interpreter or compiler would break that long line apart into discrete one-instruction-per-line statements--essentially identical to the result if he had gone ahead and just made the code readable instead of trying to out-clever the compiler--had no effect on him whatsoever.  But I digress.How muchlessreadable does this get when you add three more exception types, a month or two from now?  (Answer: it gets alotless readable).One of the major points, really, is that most of the point of formatting the textual source code that we\'re all looking at every day is to make it really, really obvious to other human beings what is actually happening when the code runs.  Because the compiler turns the source code into something totally different and couldn\'t care less about your code formatting style.  So all-on-one-line totally sucks, too.Just saying...// super sucks...\ncatch( Exception ex )\n{\n    if ( ex is FormatException || ex is OverflowException || ex is ArgumentNullException )\n    {\n        // write to a log, whatever...\n        return;\n    }\n    throw;\n}ShareImprove this answerFolloweditedMar 1, 2021 at 1:40Peter Duniho70.1k77 gold badges109109 silver badges145145 bronze badgesansweredOct 12, 2013 at 0:24Craig TullisCraig Tullis10.2k22 gold badges2222 silver badges2222 bronze badges\n\nAs others have pointed out, you can have anifstatement inside your catch block to determine what is going on. C#6 supports Exception Filters, so the following will work:try { … }\ncatch (Exception e) when (MyFilter(e))\n{\n    …\n}TheMyFiltermethod could then look something like this:private bool MyFilter(Exception e)\n{\n  return e is ArgumentNullException || e is FormatException;\n}Alternatively, this can be all done inline (the right hand side of the when statement just has to be a boolean expression).try { … }\ncatch (Exception e) when (e is ArgumentNullException || e is FormatException)\n{\n    …\n}This is different from using anifstatement from within thecatchblock, using exception filterswill notunwind the stack.You can downloadVisual Studio 2015to check this out.If you want to continue using Visual Studio 2013, you can install the following nuget package:Install-Package Microsoft.Net.CompilersAt time of writing, this will include support for C# 6.Referencing this package will cause the project to be built using the\n  specific version of the C# and Visual Basic compilers contained in the\n  package, as opposed to any system installed version.ShareImprove this answerFolloweditedOct 6, 2015 at 18:11answeredApr 4, 2014 at 13:59JoeJoe7,22111 gold badge3030 silver badges3434 bronze badges\n\nNot in C# unfortunately, as you\'d need an exception filter to do it and C# doesn\'t expose that feature of MSIL. VB.NET does have this capability though, e.g.Catch ex As Exception When TypeOf ex Is FormatException OrElse TypeOf ex Is OverflowExceptionWhat you could do is use an anonymous function to encapsulate your on-error code, and then call it in those specific catch blocks:Action onError = () => WebId = Guid.Empty;\ntry\n{\n    // something\n}\ncatch (FormatException)\n{\n    onError();\n}\ncatch (OverflowException)\n{\n    onError();\n}ShareImprove this answerFollowansweredSep 25, 2008 at 21:03Greg BeechGreg Beech136k4444 gold badges208208 silver badges250250 bronze badges\n\nException filters are now available in c# 6+. You can dotry\n{\n       WebId = new Guid(queryString[""web""]);\n}\ncatch (Exception ex) when(ex is FormatException || ex is OverflowException)\n{\n     WebId = Guid.Empty;\n}In C# 7.0+, you can combine this with pattern matching tootry\n{\n   await Task.WaitAll(tasks);\n}\ncatch (Exception ex) when( ex is AggregateException ae &&\n                           ae.InnerExceptions.Count > tasks.Count/2)\n{\n   //More than half of the tasks failed maybe..? \n}ShareImprove this answerFolloweditedJul 11, 2019 at 14:05answeredJul 11, 2018 at 13:12Mat JMat J5,54266 gold badges4343 silver badges5858 bronze badges\n\nFor the sake of completeness, since.NET 4.0the code can rewritten as:Guid.TryParse(queryString[""web""], out WebId);TryParsenever throws exceptions and returns false if format is wrong, setting WebId toGuid.Empty.SinceC# 7you can avoid introducing a variable on a separate line:Guid.TryParse(queryString[""web""], out Guid webId);You can also create methods for parsing returning tuples, which aren\'t available in .NET Framework yet as of version 4.6:(bool success, Guid result) TryParseGuid(string input) =>\n    (Guid.TryParse(input, out Guid result), result);And use them like this:WebId = TryParseGuid(queryString[""web""]).result;\n// or\nvar tuple = TryParseGuid(queryString[""web""]);\nWebId = tuple.success ? tuple.result : DefaultWebId;Next useless update to this useless answer comes when deconstruction of out-parameters is implemented in C# 12. :)ShareImprove this answerFolloweditedMar 18, 2017 at 12:40answeredApr 13, 2013 at 12:18AthariAthari34.1k1717 gold badges108108 silver badges149149 bronze badges\n\nIf you can upgrade your application to C# 6 you are lucky. The new C# version has implemented Exception filters. So you can write this:catch (Exception ex) when (ex is FormatException || ex is OverflowException) {\n    WebId = Guid.Empty;\n}Some people think this code is the same ascatch (Exception ex) {                \n    if (ex is FormatException || ex is OverflowException) {\n        WebId = Guid.Empty;\n    }\n    else {\n        throw;\n    }\n}But it´s not. Actually this is the only new feature in C# 6 that is not possible to emulate in prior versions. First, a re-throw means more overhead than skipping the catch. Second, it is not semantically equivalent. The new feature preserves the stack intact when you are debugging your code. Without this feature the crash dump is less useful or even useless.See adiscussion about this on CodePlex. And anexample showing the difference.ShareImprove this answerFolloweditedJun 26 at 1:27ipodtouch02181,84311 gold badge66 silver badges1818 bronze badgesansweredApr 1, 2015 at 12:29ManieroManiero10.9k66 gold badges4242 silver badges8888 bronze badges\n\nUpdate for C# 9Using thenew pattern matching enhancementsmade in C# 9, you can shorten the expression in the exception filter. Now, catching multiple exceptions is a simple is this:try\n{\n    WebId = new Guid(queryString[""web""]);\n}\ncatch (Exception e) when (e is FormatException or OverflowException)\n{\n    WebId = Guid.Empty;\n}ShareImprove this answerFollowansweredJan 6, 2021 at 20:12Nechemia HoffmannNechemia Hoffmann2,34822 gold badges1313 silver badges2222 bronze badges\n\nWith C# 7the answer from Michael Stumcan be improved while keeping the readability of a switch statement:catch (Exception ex)\n{\n    switch (ex)\n    {\n        case FormatException _:\n        case OverflowException _:\n            WebId = Guid.Empty;\n            break;\n        default:\n            throw;\n    }\n}Thanks toOracecomment this can be simplified with C# 8 by omitting the discard variable:catch (Exception ex)\n{\n    switch (ex)\n    {\n        case FormatException:\n        case OverflowException:\n            WebId = Guid.Empty;\n            break;\n        default:\n            throw;\n    }\n}And with C# 8 as switch expression:catch (Exception ex)\n{\n    WebId = ex switch\n    {\n        _ when ex is FormatException || ex is OverflowException => Guid.Empty,\n        _ => throw ex\n    };\n}AsNechemia Hoffmannpointed out. The latter example will cause a loss of the stacktrace. This can be prevented by using the extension method described byJürgen Steinblockto capture the stacktrace before throwing:catch (Exception ex)\n{\n    WebId = ex switch\n    {\n        _ when ex is FormatException || ex is OverflowException => Guid.Empty,\n        _ => throw ex.Capture()\n    };\n}\n\npublic static Exception Capture(this Exception ex)\n{\n    ExceptionDispatchInfo.Capture(ex).Throw();\n    return ex;\n}Both styles can be simplified with the pattern matching enhancements of C# 9:catch (Exception ex)\n{\n    switch (ex)\n    {\n        case FormatException or OverflowException:\n            WebId = Guid.Empty;\n            break;\n        default:\n            throw;\n    }\n} \n\ncatch (Exception ex)\n{\n    WebId = ex switch\n    {\n        _ when ex is FormatException or OverflowException => Guid.Empty,\n        _ => throw ex.Capture()\n    };\n}ShareImprove this answerFolloweditedNov 26, 2021 at 12:41answeredJan 5, 2018 at 11:43FabianFabian1,1401212 silver badges1414 bronze badges\n\ncatch (Exception ex) when (ex is FormatException or OverflowException)\n{\n    WebId = Guid.Empty;\n}orcatch (Exception ex)\n{\n    if (ex is not FormatException and not OverflowException)\n        throw;\n\n    WebId = Guid.Empty;\n}ShareImprove this answerFolloweditedOct 1, 2021 at 14:32answeredJan 7, 2009 at 8:07Konstantin SpirinKonstantin Spirin21.1k1515 gold badges7373 silver badges9191 bronze badges\n\nIf you don\'t want to use anifstatement within thecatchscopes,inC# 6.0you can useException Filterssyntaxwhich was already supported by the CLR in previews versions but existed only inVB.NET/MSIL:try\n{\n    WebId = new Guid(queryString[""web""]);\n}\ncatch (Exception exception) when (exception is FormatException || ex is OverflowException)\n{\n    WebId = Guid.Empty;\n}This code will catch theExceptiononly when it\'s aInvalidDataExceptionorArgumentNullException.Actually, you can put basically any condition inside thatwhenclause:static int a = 8;\n\n...\n\ncatch (Exception exception) when (exception is InvalidDataException && a == 8)\n{\n    Console.WriteLine(""Catch"");\n}Note that as opposed to anifstatement inside thecatch\'s scope,Exception Filterscannot throwExceptions, and when they do, or when the condition is nottrue, the nextcatchcondition will be evaluated instead:static int a = 7;\n\nstatic int b = 0;\n\n...\n\ntry\n{\n    throw new InvalidDataException();\n}\ncatch (Exception exception) when (exception is InvalidDataException && a / b == 2)\n{\n    Console.WriteLine(""Catch"");\n}\ncatch (Exception exception) when (exception is InvalidDataException || exception is ArgumentException)\n{\n    Console.WriteLine(""General catch"");\n}Output: General catch.When there is more then onetrueException Filter- the first one will be accepted:static int a = 8;\n\nstatic int b = 4;\n\n...\n\ntry\n{\n    throw new InvalidDataException();\n}\ncatch (Exception exception) when (exception is InvalidDataException && a / b == 2)\n{\n    Console.WriteLine(""Catch"");\n}\ncatch (Exception exception) when (exception is InvalidDataException || exception is ArgumentException)\n{\n    Console.WriteLine(""General catch"");\n}Output: Catch.And as you can see in theMSILthe code is not translated toifstatements, but toFilters, andExceptionscannot be throw from within the areas marked withFilter 1andFilter 2but the filter throwing theExceptionwill fail instead, also the last comparison value pushed to the stack before theendfiltercommand will determine the success/failure of the filter (Catch 1XORCatch 2will execute accordingly):Also, specificallyGuidhas theGuid.TryParsemethod.ShareImprove this answerFolloweditedOct 7, 2015 at 18:37answeredOct 7, 2015 at 17:31Tamir VeredTamir Vered10.3k55 gold badges4646 silver badges5757 bronze badges\n\nThe accepted answer seems acceptable, except that CodeAnalysis/FxCopwill complain about the fact that it\'s catching a general exception type.Also, it seems the ""is"" operator might degrade performance slightly.CA1800: Do not cast unnecessarilysays to ""consider testing the result of the \'as\' operator instead"", but if you do that, you\'ll be writing more code than if you catch each exception separately.Anyhow, here\'s what I would do:bool exThrown = false;\n\ntry\n{\n    // Something\n}\ncatch (FormatException) {\n    exThrown = true;\n}\ncatch (OverflowException) {\n    exThrown = true;\n}\n\nif (exThrown)\n{\n    // Something else\n}ShareImprove this answerFolloweditedApr 9, 2015 at 14:09Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJul 30, 2010 at 17:09MattMatt90488 silver badges88 bronze badges\n\nin C# 6 the recommended approach is to use Exception Filters, here is an example:try\n {\n      throw new OverflowException();\n }\n catch(Exception e ) when ((e is DivideByZeroException) || (e is OverflowException))\n {\n       // this will execute iff e is DividedByZeroEx or OverflowEx\n       Console.WriteLine(""E"");\n }ShareImprove this answerFolloweditedOct 7, 2015 at 7:53answeredOct 4, 2015 at 7:51SHMSHM1,9342020 silver badges4848 bronze badges\n\nJoseph Daigle\'s Answeris a good solution, but I found the following structure to be a bit tidier and less error prone.catch(Exception ex)\n{   \n    if (!(ex is SomeException || ex is OtherException)) throw;\n\n    // Handle exception\n}There are a few advantages of inverting the expression:A return statement is not necessaryThe code isn\'t nestedThere\'s no risk of forgetting the \'throw\' or \'return\' statements that in Joseph\'s solution are separated from the expression.It can even be compacted to a single line (though not very pretty)catch(Exception ex) { if (!(ex is SomeException || ex is OtherException)) throw;\n\n    // Handle exception\n}Edit:Theexception filteringin C# 6.0 will make the syntax a bit cleaner and comes with anumber of other benefitsover any current solution. (most notably leaving the stack unharmed)Here is how the same problem would look using C# 6.0 syntax:catch(Exception ex) when (ex is SomeException || ex is OtherException)\n{\n    // Handle exception\n}ShareImprove this answerFolloweditedMay 23, 2017 at 10:31CommunityBot111 silver badgeansweredDec 8, 2014 at 20:31DayantoDayanto43644 silver badges99 bronze badges\n\nThis is a variant of Matt\'s answer (I feel that this is a bit cleaner)...use a method:public void TryCatch(...)\n{\n    try\n    {\n       // something\n       return;\n    }\n    catch (FormatException) {}\n    catch (OverflowException) {}\n\n    WebId = Guid.Empty;\n}Any other exceptions will be thrown and the codeWebId = Guid.Empty;won\'t be hit. If you don\'t want other exceptions to crash your program, just add this AFTER the other two catches:...\ncatch (Exception)\n{\n     // something, if anything\n     return; // only need this if you follow the example I gave and put it all in a method\n}ShareImprove this answerFolloweditedOct 11, 2013 at 20:52answeredAug 31, 2012 at 20:51bsarabsara8,15033 gold badges3030 silver badges4747 bronze badges\n\n@MichealSlightly revised version of your code:catch (Exception ex)\n{\n   Type exType = ex.GetType();\n   if (exType == typeof(System.FormatException) || \n       exType == typeof(System.OverflowException)\n   {\n       WebId = Guid.Empty;\n   } else {\n      throw;\n   }\n}String comparisons are ugly and slow.ShareImprove this answerFolloweditedSep 25, 2008 at 21:16Michael Stum180k118118 gold badges403403 silver badges538538 bronze badgesansweredSep 25, 2008 at 21:01FlySwatFlySwat175k7575 gold badges247247 silver badges313313 bronze badges\n\nHow abouttry\n{\n    WebId = Guid.Empty;\n    WebId = new Guid(queryString[""web""]);\n}\ncatch (FormatException)\n{\n}\ncatch (OverflowException)\n{\n}ShareImprove this answerFolloweditedMar 22, 2013 at 15:58Sepster4,8292121 silver badges3939 bronze badgesansweredSep 25, 2008 at 20:57MauriceMaurice27.6k55 gold badges5050 silver badges6262 bronze badges\n\nCautioned and Warned:Yet another kind, functional style.What is in the link doesn\'t answer your question directly, but it\'s trivial to extend it to look like:static void Main() \n{ \n    Action body = () => { ...your code... };\n\n    body.Catch<InvalidOperationException>() \n        .Catch<BadCodeException>() \n        .Catch<AnotherException>(ex => { ...handler... })(); \n}(Basically provide another emptyCatchoverload which returns itself)The bigger question to this iswhy. I do not think the cost outweighs the gain here :)ShareImprove this answerFolloweditedJun 20, 2020 at 9:12CommunityBot111 silver badgeansweredMay 18, 2013 at 11:28nawfalnawfal72.3k5757 gold badges335335 silver badges375375 bronze badges\n\nUpdate 2015-12-15: Seehttps://stackoverflow.com/a/22864936/1718702for C#6. It\'s a cleaner and now standard in the language.Geared for people that want amore elegant solutionto catch once and filter exceptions, I use an extension method as demonstrated below.I already had this extension in my library, originally written for other purposes, but it worked just perfectly fortypechecking on exceptions.  Plus, imho, it looks cleaner than a bunch of||statements.  Also, unlike the accepted answer, I prefer explicit exception handling soex is ...had undesireable behaviour as derrived classes are assignable to there parent types).Usageif (ex.GetType().IsAnyOf(\n    typeof(FormatException),\n    typeof(ArgumentException)))\n{\n    // Handle\n}\nelse\n    throw;IsAnyOf.cs Extension (See Full Error Handling Example for Dependancies)namespace Common.FluentValidation\n{\n    public static partial class Validate\n    {\n        /// <summary>\n        /// Validates the passed in parameter matches at least one of the passed in comparisons.\n        /// </summary>\n        /// <typeparam name=""T""></typeparam>\n        /// <param name=""p_parameter"">Parameter to validate.</param>\n        /// <param name=""p_comparisons"">Values to compare against.</param>\n        /// <returns>True if a match is found.</returns>\n        /// <exception cref=""ArgumentNullException""></exception>\n        public static bool IsAnyOf<T>(this T p_parameter, params T[] p_comparisons)\n        {\n            // Validate\n            p_parameter\n                .CannotBeNull(""p_parameter"");\n            p_comparisons\n                .CannotBeNullOrEmpty(""p_comparisons"");\n\n            // Test for any match\n            foreach (var item in p_comparisons)\n                if (p_parameter.Equals(item))\n                    return true;\n\n            // Return no matches found\n            return false;\n        }\n    }\n}Full Error Handling Example (Copy-Paste to new Console app)using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing Common.FluentValidation;\n\nnamespace IsAnyOfExceptionHandlerSample\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            // High Level Error Handler (Log and Crash App)\n            try\n            {\n                Foo();\n            }\n            catch (OutOfMemoryException ex)\n            {\n                Console.WriteLine(""FATAL ERROR! System Crashing. "" + ex.Message);\n                Console.ReadKey();\n            }\n        }\n\n        static void Foo()\n        {\n            // Init\n            List<Action<string>> TestActions = new List<Action<string>>()\n            {\n                (key) => { throw new FormatException(); },\n                (key) => { throw new ArgumentException(); },\n                (key) => { throw new KeyNotFoundException();},\n                (key) => { throw new OutOfMemoryException(); },\n            };\n\n            // Run\n            foreach (var FooAction in TestActions)\n            {\n                // Mid-Level Error Handler (Appends Data for Log)\n                try\n                {\n                    // Init\n                    var SomeKeyPassedToFoo = ""FooParam"";\n\n                    // Low-Level Handler (Handle/Log and Keep going)\n                    try\n                    {\n                        FooAction(SomeKeyPassedToFoo);\n                    }\n                    catch (Exception ex)\n                    {\n                        if (ex.GetType().IsAnyOf(\n                            typeof(FormatException),\n                            typeof(ArgumentException)))\n                        {\n                            // Handle\n                            Console.WriteLine(""ex was {0}"", ex.GetType().Name);\n                            Console.ReadKey();\n                        }\n                        else\n                        {\n                            // Add some Debug info\n                            ex.Data.Add(""SomeKeyPassedToFoo"", SomeKeyPassedToFoo.ToString());\n                            throw;\n                        }\n                    }\n                }\n                catch (KeyNotFoundException ex)\n                {\n                    // Handle differently\n                    Console.WriteLine(ex.Message);\n\n                    int Count = 0;\n                    if (!Validate.IsAnyNull(ex, ex.Data, ex.Data.Keys))\n                        foreach (var Key in ex.Data.Keys)\n                            Console.WriteLine(\n                                ""[{0}][\\""{1}\\"" = {2}]"",\n                                Count, Key, ex.Data[Key]);\n\n                    Console.ReadKey();\n                }\n            }\n        }\n    }\n}\n\nnamespace Common.FluentValidation\n{\n    public static partial class Validate\n    {\n        /// <summary>\n        /// Validates the passed in parameter matches at least one of the passed in comparisons.\n        /// </summary>\n        /// <typeparam name=""T""></typeparam>\n        /// <param name=""p_parameter"">Parameter to validate.</param>\n        /// <param name=""p_comparisons"">Values to compare against.</param>\n        /// <returns>True if a match is found.</returns>\n        /// <exception cref=""ArgumentNullException""></exception>\n        public static bool IsAnyOf<T>(this T p_parameter, params T[] p_comparisons)\n        {\n            // Validate\n            p_parameter\n                .CannotBeNull(""p_parameter"");\n            p_comparisons\n                .CannotBeNullOrEmpty(""p_comparisons"");\n\n            // Test for any match\n            foreach (var item in p_comparisons)\n                if (p_parameter.Equals(item))\n                    return true;\n\n            // Return no matches found\n            return false;\n        }\n\n        /// <summary>\n        /// Validates if any passed in parameter is equal to null.\n        /// </summary>\n        /// <param name=""p_parameters"">Parameters to test for Null.</param>\n        /// <returns>True if one or more parameters are null.</returns>\n        public static bool IsAnyNull(params object[] p_parameters)\n        {\n            p_parameters\n                .CannotBeNullOrEmpty(""p_parameters"");\n\n            foreach (var item in p_parameters)\n                if (item == null)\n                    return true;\n\n            return false;\n        }\n    }\n}\n\nnamespace Common.FluentValidation\n{\n    public static partial class Validate\n    {\n        /// <summary>\n        /// Validates the passed in parameter is not null, throwing a detailed exception message if the test fails.\n        /// </summary>\n        /// <param name=""p_parameter"">Parameter to validate.</param>\n        /// <param name=""p_name"">Name of tested parameter to assist with debugging.</param>\n        /// <exception cref=""ArgumentNullException""></exception>\n        public static void CannotBeNull(this object p_parameter, string p_name)\n        {\n            if (p_parameter == null)\n                throw\n                    new\n                        ArgumentNullException(\n                        string.Format(""Parameter \\""{0}\\"" cannot be null."",\n                        p_name), default(Exception));\n        }\n    }\n}\n\nnamespace Common.FluentValidation\n{\n    public static partial class Validate\n    {\n        /// <summary>\n        /// Validates the passed in parameter is not null or an empty collection, throwing a detailed exception message if the test fails.\n        /// </summary>\n        /// <typeparam name=""T""></typeparam>\n        /// <param name=""p_parameter"">Parameter to validate.</param>\n        /// <param name=""p_name"">Name of tested parameter to assist with debugging.</param>\n        /// <exception cref=""ArgumentNullException""></exception>\n        /// <exception cref=""ArgumentOutOfRangeException""></exception>\n        public static void CannotBeNullOrEmpty<T>(this ICollection<T> p_parameter, string p_name)\n        {\n            if (p_parameter == null)\n                throw new ArgumentNullException(""Collection cannot be null.\\r\\nParameter_Name: "" + p_name, default(Exception));\n\n            if (p_parameter.Count <= 0)\n                throw new ArgumentOutOfRangeException(""Collection cannot be empty.\\r\\nParameter_Name: "" + p_name, default(Exception));\n        }\n\n        /// <summary>\n        /// Validates the passed in parameter is not null or empty, throwing a detailed exception message if the test fails.\n        /// </summary>\n        /// <param name=""p_parameter"">Parameter to validate.</param>\n        /// <param name=""p_name"">Name of tested parameter to assist with debugging.</param>\n        /// <exception cref=""ArgumentException""></exception>\n        public static void CannotBeNullOrEmpty(this string p_parameter, string p_name)\n        {\n            if (string.IsNullOrEmpty(p_parameter))\n                throw new ArgumentException(""String cannot be null or empty.\\r\\nParameter_Name: "" + p_name, default(Exception));\n        }\n    }\n}Two Sample NUnit Unit TestsMatching behaviour forExceptiontypes is exact (ie. A child IS NOT a match for any of its parent types).using System;\nusing System.Collections.Generic;\nusing Common.FluentValidation;\nusing NUnit.Framework;\n\nnamespace UnitTests.Common.Fluent_Validations\n{\n    [TestFixture]\n    public class IsAnyOf_Tests\n    {\n        [Test, ExpectedException(typeof(ArgumentNullException))]\n        public void IsAnyOf_ArgumentNullException_ShouldNotMatch_ArgumentException_Test()\n        {\n            Action TestMethod = () => { throw new ArgumentNullException(); };\n\n            try\n            {\n                TestMethod();\n            }\n            catch (Exception ex)\n            {\n                if (ex.GetType().IsAnyOf(\n                    typeof(ArgumentException), /*Note: ArgumentNullException derrived from ArgumentException*/\n                    typeof(FormatException),\n                    typeof(KeyNotFoundException)))\n                {\n                    // Handle expected Exceptions\n                    return;\n                }\n\n                //else throw original\n                throw;\n            }\n        }\n\n        [Test, ExpectedException(typeof(OutOfMemoryException))]\n        public void IsAnyOf_OutOfMemoryException_ShouldMatch_OutOfMemoryException_Test()\n        {\n            Action TestMethod = () => { throw new OutOfMemoryException(); };\n\n            try\n            {\n                TestMethod();\n            }\n            catch (Exception ex)\n            {\n                if (ex.GetType().IsAnyOf(\n                    typeof(OutOfMemoryException),\n                    typeof(StackOverflowException)))\n                    throw;\n\n                /*else... Handle other exception types, typically by logging to file*/\n            }\n        }\n    }\n}ShareImprove this answerFolloweditedMay 23, 2017 at 10:31CommunityBot111 silver badgeansweredNov 27, 2013 at 21:53HodlDwonHodlDwon1,15122 gold badges1616 silver badges3030 bronze badges\n\nSince I felt like these answers just touched the surface, I attempted to dig a bit deeper.So what we would really want to do is something that doesn\'t compile, say:// Won\'t compile... damn\npublic static void Main()\n{\n    try\n    {\n        throw new ArgumentOutOfRangeException();\n    }\n    catch (ArgumentOutOfRangeException)\n    catch (IndexOutOfRangeException) \n    {\n        // ... handle\n    }The reason we want this is because we don\'t want the exception handler to catch things that we need later on in the process. Sure, we can catch an Exception and check with an \'if\' what to do, but let\'s be honest, we don\'t really want that. (FxCop, debugger issues, uglyness)So why won\'t this code compile - and how can we hack it in such a way that it will?If we look at the code, what we really would like to do is forward the call. However, according to the MS Partition II, IL exception handler blocks won\'t work like this, which in this case makes sense because that would imply that the \'exception\' object can have different types.Or to write it in code, we ask the compiler to do something like this (well it\'s not entirely correct, but it\'s the closest possible thing I guess):// Won\'t compile... damn\ntry\n{\n    throw new ArgumentOutOfRangeException();\n}\ncatch (ArgumentOutOfRangeException e) {\n    goto theOtherHandler;\n}\ncatch (IndexOutOfRangeException e) {\ntheOtherHandler:\n    Console.WriteLine(""Handle!"");\n}The reason that this won\'t compile is quite obvious: what type and value would the \'$exception\' object have (which are here stored in the variables \'e\')? The way we want the compiler to handle this is to note that the common base type of both exceptions is \'Exception\', use that for a variable to contain both exceptions, and then handle only the two exceptions that are caught. The way this is implemented in IL is as \'filter\', which is available in VB.Net.To make it work in C#, we need a temporary variable with the correct \'Exception\' base type. To control the flow of the code, we can add some branches. Here goes:Exception ex;\n    try\n    {\n        throw new ArgumentException(); // for demo purposes; won\'t be caught.\n        goto noCatch;\n    }\n    catch (ArgumentOutOfRangeException e) {\n        ex = e;\n    }\n    catch (IndexOutOfRangeException e) {\n        ex = e;\n    }\n\n    Console.WriteLine(""Handle the exception \'ex\' here :-)"");\n    // throw ex ?\n\nnoCatch:\n    Console.WriteLine(""We\'re done with the exception handling."");The obvious disadvantages for this are that we cannot re-throw properly, and -well let\'s be honest- that it\'s quite the ugly solution. The uglyness can be fixed a bit by performing branch elimination, which makes the solution slightly better:Exception ex = null;\ntry\n{\n    throw new ArgumentException();\n}\ncatch (ArgumentOutOfRangeException e)\n{\n    ex = e;\n}\ncatch (IndexOutOfRangeException e)\n{\n    ex = e;\n}\nif (ex != null)\n{\n    Console.WriteLine(""Handle the exception here :-)"");\n}That leaves just the \'re-throw\'. For this to work, we need to be able to perform the handling inside the \'catch\' block - and the only way to make this work is by an catching \'Exception\' object.At this point, we can add a separate function that handles the different types of Exceptions using overload resolution, or to handle the Exception. Both have disadvantages. To start, here\'s the way to do it with a helper function:private static bool Handle(Exception e)\n{\n    Console.WriteLine(""Handle the exception here :-)"");\n    return true; // false will re-throw;\n}\n\npublic static void Main()\n{\n    try\n    {\n        throw new OutOfMemoryException();\n    }\n    catch (ArgumentException e)\n    {\n        if (!Handle(e)) { throw; }\n    }\n    catch (IndexOutOfRangeException e)\n    {\n        if (!Handle(e)) { throw; }\n    }\n\n    Console.WriteLine(""We\'re done with the exception handling."");And the other solution is to catch the Exception object and handle it accordingly. The most literal translation for this, based on the context above is this:try\n{\n    throw new ArgumentException();\n}\ncatch (Exception e)\n{\n    Exception ex = (Exception)(e as ArgumentException) ?? (e as IndexOutOfRangeException);\n    if (ex != null)\n    {\n        Console.WriteLine(""Handle the exception here :-)"");\n        // throw ?\n    }\n    else \n    {\n        throw;\n    }\n}So to conclude:If we don\'t want to re-throw, we might consider catching the right exceptions, and storing them in a temporary.If the handler is simple, and we want to re-use code, the best solution is probably to introduce a helper function.If we want to re-throw, we have no choice but to put the code in a \'Exception\' catch handler, which will break FxCop and your debugger\'s uncaught exceptions.ShareImprove this answerFollowansweredOct 21, 2014 at 9:44atlasteatlaste30.9k33 gold badges5959 silver badges9090 bronze badges\n\nNote that I did find one way to do it, but this looks more like material forThe Daily WTF:catch (Exception ex)\n{\n    switch (ex.GetType().Name)\n    {\n        case ""System.FormatException"":\n        case ""System.OverflowException"":\n            WebId = Guid.Empty;\n            break;\n        default:\n            throw;\n    }\n}ShareImprove this answerFolloweditedApr 9, 2015 at 14:07community wiki3 revs, 3 users 61%Michael Stum\n\nThis is a classic problem every C# developer faces eventually.Let me break your question into 2 questions.  The first,Can I catch multiple exceptions at once?In short, no.Which leads to the next question,How do I avoid writing duplicate code given that I can\'t catch multiple exception types in the same catch() block?Given your specific sample, where the fall-back value is cheap to construct, I like to follow these steps:Initialize WebId to the fall-back value.Construct a new Guid in a temporary variable.Set WebId to the fully constructed temporary variable.  Make this the final statement of the try{} block.So the code looks like:try\n{\n    WebId = Guid.Empty;\n    Guid newGuid = new Guid(queryString[""web""]);\n    // More initialization code goes here like \n    // newGuid.x = y;\n    WebId = newGuid;\n}\ncatch (FormatException) {}\ncatch (OverflowException) {}If any exception is thrown, then WebId is never set to the half-constructed value, and remains Guid.Empty.If constructing the fall-back value is expensive, and resetting a value is much cheaper, then I would move the reset code into its own function:try\n{\n    WebId = new Guid(queryString[""web""]);\n    // More initialization code goes here.\n}\ncatch (FormatException) {\n    Reset(WebId);\n}\ncatch (OverflowException) {\n    Reset(WebId);\n}ShareImprove this answerFollowansweredNov 15, 2017 at 20:27Jeffrey RennieJeffrey Rennie3,37311 gold badge1919 silver badges2121 bronze badges\n\nSo you´re repeating lots of code within every exception-switch? Sounds like extracting a method would be god idea, doesn´t it?So your code comes down to this:MyClass instance;\ntry { instance = ... }\ncatch(Exception1 e) { Reset(instance); }\ncatch(Exception2 e) { Reset(instance); }\ncatch(Exception) { throw; }\n\nvoid Reset(MyClass instance) { /* reset the state of the instance */ }I wonder why no-one noticed that code-duplication.From C#6 you furthermore have theexception-filtersas already mentioned by others. So you can modify the code above to this:try { ... }\ncatch(Exception e) when(e is Exception1 || e is Exception2)\n{ \n    Reset(instance); \n}ShareImprove this answerFolloweditedMay 23, 2017 at 11:47CommunityBot111 silver badgeansweredSep 22, 2016 at 11:40MakePeaceGreatAgainMakePeaceGreatAgain36.6k66 gold badges6262 silver badges118118 bronze badges\n\nWanted to added my short answer to this already long thread.  Something that hasn\'t been mentioned is the order of precedence of the catch statements, more specifically you need to be aware of the scope of each type of exception you are trying to catch.For example if you use a ""catch-all"" exception asExceptionit will preceed all other catch statements and you will obviously get compiler errors however if you reverse the order you can chain up your catch statements (bit of an anti-pattern I think) you can put the catch-allExceptiontype at the bottom and this will be capture any exceptions that didn\'t cater for higher up in your try..catch block:try\n            {\n                // do some work here\n            }\n            catch (WebException ex)\n            {\n                // catch a web excpetion\n            }\n            catch (ArgumentException ex)\n            {\n                // do some stuff\n            }\n            catch (Exception ex)\n            {\n                // you should really surface your errors but this is for example only\n                throw new Exception(""An error occurred: "" + ex.Message);\n            }I highly recommend folks review this MSDN document:Exception HierarchyShareImprove this answerFollowansweredApr 16, 2017 at 15:51TrevorTrevor1,56911 gold badge2020 silver badges2828 bronze badges\n\nMaybe try to keep your code simple such as putting the common code in a method, as you would do in any other part of the code that is not inside a catch clause?E.g.:try\n{\n    // ...\n}\ncatch (FormatException)\n{\n    DoSomething();\n}\ncatch (OverflowException)\n{\n    DoSomething();\n}\n\n// ...\n\nprivate void DoSomething()\n{\n    // ...\n}Just how I would do it, trying to find thesimple is beautifulpatternShareImprove this answerFollowansweredJan 23, 2018 at 14:02ŻubrówkaŻubrówka72011 gold badge1010 silver badges2525 bronze badges\n\nIt is worth mentioning here. You can respond to the multiple combinations (Exception error and exception.message).I ran into a use case scenario when trying to cast control object in a datagrid, with either content as TextBox, TextBlock or CheckBox. In this case the returned Exception was the same, but the message varied.try\n{\n //do something\n}\ncatch (Exception ex) when (ex.Message.Equals(""the_error_message1_here""))\n{\n//do whatever you like\n} \ncatch (Exception ex) when (ex.Message.Equals(""the_error_message2_here""))\n{\n//do whatever you like\n}ShareImprove this answerFollowansweredDec 7, 2018 at 15:14GeorgeGeorge67377 silver badges1818 bronze badges\n\nI want to suggest shortest answer (one morefunctional style):Catch<FormatException, OverflowException>(() =>\n            {\n                WebId = new Guid(queryString[""web""]);\n            },\n            exception =>\n            {\n                WebId = Guid.Empty;\n            });For this you need to create several ""Catch"" method overloads, similar to System.Action:[DebuggerNonUserCode]\n    public static void Catch<TException1, TException2>(Action tryBlock,\n        Action<Exception> catchBlock)\n    {\n        CatchMany(tryBlock, catchBlock, typeof(TException1), typeof(TException2));\n    }\n\n    [DebuggerNonUserCode]\n    public static void Catch<TException1, TException2, TException3>(Action tryBlock,\n        Action<Exception> catchBlock)\n    {\n        CatchMany(tryBlock, catchBlock, typeof(TException1), typeof(TException2), typeof(TException3));\n    }and so on as many as you wish. But you need to do it once and you can use it in all your projects (or, if you created a nuget package we could use it too).And CatchMany implementation:[DebuggerNonUserCode]\n    public static void CatchMany(Action tryBlock, Action<Exception> catchBlock,\n        params Type[] exceptionTypes)\n    {\n        try\n        {\n            tryBlock();\n        }\n        catch (Exception exception)\n        {\n            if (exceptionTypes.Contains(exception.GetType())) catchBlock(exception);\n            else throw;\n        }\n    }p.s. I haven\'t put null checks for code simplicity, consider to add parameter validations.p.s.2 \nIf you want to return a value from the catch, it\'s necessary to do same Catch methods, but with returns and Func instead of Action in parameters.ShareImprove this answerFollowansweredMay 27, 2019 at 14:18Evgeny GorbovoyEvgeny Gorbovoy77333 silver badges2020 bronze badges\n\ntry\n           {\n                WebId = new Guid(queryString[""web""]);\n           }\n           catch (Exception ex)\n           {\n                string ExpTyp = ex.GetType().Name;\n                if (ExpTyp == ""FormatException"")\n                {\n                     WebId = Guid.Empty;\n                }\n                else if (ExpTyp == ""OverflowException"")\n                {\n                     WebId = Guid.Empty;\n                }\n           }ShareImprove this answerFollowansweredNov 21, 2021 at 3:11Saleem KalroSaleem Kalro1,10499 silver badges1313 bronze badges\n\nIn c# 6.0,Exception Filters is improvements for exception handlingtry\n{\n    DoSomeHttpRequest();\n}\ncatch (System.Web.HttpException e)\n{\n    switch (e.GetHttpCode())\n    {\n        case 400:\n            WriteLine(""Bad Request"");\n        case 500:\n            WriteLine(""Internal Server Error"");\n        default:\n            WriteLine(""Generic Error"");\n    }\n}ShareImprove this answerFollowansweredMay 20, 2015 at 7:48KashifKashif2,99444 gold badges2121 silver badges2020 bronze badges'}","{'title': ""When should I use 'self' over '$this'?"", 'question': 'In PHP 5, what is the difference between usingselfand$this?When is each appropriate?phpclassoopscopeShareImprove this questionFolloweditedSep 2, 2021 at 23:14Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesaskedSep 30, 2008 at 6:23Casey WatsonCasey Watson52.3k1010 gold badges3434 silver badges3030 bronze badges', 'answers': 'Answer recommended byPHPCollectiveShort AnswerUse$thisto refer to the current\n  object. Useselfto refer to the\n  current class. In other words, use$this->memberfor non-static members,\n  useself::$memberfor static members.Full AnswerHere is an example ofcorrectusage of$thisandselffor non-static and static member variables:<?php\nclass X {\n    private $non_static_member = 1;\n    private static $static_member = 2;\n\n    function __construct() {\n        echo $this->non_static_member . \' \'\n           . self::$static_member;\n    }\n}\n\nnew X();\n?>Here is an example ofincorrectusage of$thisandselffor non-static and static member variables:<?php\nclass X {\n    private $non_static_member = 1;\n    private static $static_member = 2;\n\n    function __construct() {\n        echo self::$non_static_member . \' \'\n           . $this->static_member;\n    }\n}\n\nnew X();\n?>Here is an example ofpolymorphismwith$thisfor member functions:<?php\nclass X {\n    function foo() {\n        echo \'X::foo()\';\n    }\n\n    function bar() {\n        $this->foo();\n    }\n}\n\nclass Y extends X {\n    function foo() {\n        echo \'Y::foo()\';\n    }\n}\n\n$x = new Y();\n$x->bar();\n?>Here is an example ofsuppressing polymorphic behaviourby usingselffor member functions:<?php\nclass X {\n    function foo() {\n        echo \'X::foo()\';\n    }\n\n    function bar() {\n        self::foo();\n    }\n}\n\nclass Y extends X {\n    function foo() {\n        echo \'Y::foo()\';\n    }\n}\n\n$x = new Y();\n$x->bar();\n?>The idea is that$this->foo()calls thefoo()member function of whatever  is the exact type of the current object. If the object is oftype X, it thus callsX::foo(). If the object is oftype Y, it callsY::foo(). But with self::foo(),X::foo()is always called.Fromhttp://www.phpbuilder.com/board/showthread.php?t=10354489:Byhttp://board.phpbuilder.com/member.php?145249-laserlightShareImprove this answerFolloweditedOct 16, 2018 at 15:23allen9077 bronze badgesansweredSep 30, 2008 at 6:29John MillikinJohn Millikin199k4040 gold badges214214 silver badges227227 bronze badges\n\nThe keyword self doesNOTrefer merely to the \'current class\', at least not in a way that restricts you to static members.  Within the context of a non-static member,selfalso provides a way of bypassing the vtable (see wiki on vtable) for the current object.  Just as you can useparent::methodName()to call the parents version of a function, so you can callself::methodName()to call the current classes implementation of a method.class Person {\n    private $name;\n\n    public function __construct($name) {\n        $this->name = $name;\n    }\n\n    public function getName() {\n        return $this->name;\n    }\n\n    public function getTitle() {\n        return $this->getName()."" the person"";\n    }\n\n    public function sayHello() {\n        echo ""Hello, I\'m "".$this->getTitle().""<br/>"";\n    }\n\n    public function sayGoodbye() {\n        echo ""Goodbye from "".self::getTitle().""<br/>"";\n    }\n}\n\nclass Geek extends Person {\n    public function __construct($name) {\n        parent::__construct($name);\n    }\n\n    public function getTitle() {\n        return $this->getName()."" the geek"";\n    }\n}\n\n$geekObj = new Geek(""Ludwig"");\n$geekObj->sayHello();\n$geekObj->sayGoodbye();This will output:Hello, I\'m Ludwig the geekGoodbye from Ludwig the personsayHello()uses the$thispointer, so the vtable is invoked to callGeek::getTitle().sayGoodbye()usesself::getTitle(), so the vtable is not used, andPerson::getTitle()is called.  In both cases, we are dealing with the method of an instantiated object, and have access to the$thispointer within the called functions.ShareImprove this answerFolloweditedNov 10, 2014 at 8:37Marcin Orlowski75.2k1111 gold badges126126 silver badges147147 bronze badgesansweredJul 27, 2009 at 18:00nbeaglenbeagle7,66911 gold badge1616 silver badges22 bronze badges\n\nDo not useself::. Usestatic::*There is another aspect of self:: that is worth mentioning. Annoyingly,self::refers to the scope at the point of definition, not at the point of execution. Consider this simple class with two methods:class Person\n{\n\n    public static function status()\n    {\n        self::getStatus();\n    }\n\n    protected static function getStatus()\n    {\n           echo ""Person is alive"";\n    }\n\n}If we callPerson::status()we will see ""Person is alive"" . Now consider what happens when we make a class that inherits from this:class Deceased extends Person\n{\n\n    protected static function getStatus()\n    {\n           echo ""Person is deceased"";\n    }\n\n}CallingDeceased::status()we would expect to see ""Person is deceased"". However, we see ""Person is alive"" as the scope contains the original method definition when the call toself::getStatus()was defined.PHP 5.3 has a solution. Thestatic::resolution operator implements ""late static binding"" which is a fancy way of saying that it\'s bound to the scope of the class called. Change the line instatus()tostatic::getStatus()and the results are what you would expect. In older versions of PHP you will have to find a kludge to do this.SeePHP DocumentationSo to answer the question not as asked...$this->refers to the current object (an instance of a class), whereasstatic::refers to a class.ShareImprove this answerFolloweditedSep 2, 2021 at 23:23Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJul 24, 2011 at 15:08SqooSqoo5,23522 gold badges1818 silver badges1818 bronze badges\n\nTo really understand what we\'re talking about when we talk aboutselfversus$this, we need to actually dig into what\'s going on at a conceptual and a practical level. I don\'t really feel any of the answers do this appropriately, so here\'s my attempt.Let\'s start off by talking about what aclassand anobjectis.Classes And Objects, ConceptuallySo, whatisaclass? A lot of people define it as ablueprintor atemplatefor an object. In fact, you can read moreAbout Classes In PHP Here. And to some extent that\'s what it really is. Let\'s look at a class:class Person {\n    public $name = \'my name\';\n    public function sayHello() {\n        echo ""Hello"";\n    }\n}As you can tell, there is a property on that class called$nameand a method (function) calledsayHello().It\'sveryimportant to note that theclassis a static structure. Which means that the classPerson, once defined, is always the same everywhere you look at it.An object on the other hand is what\'s called aninstanceof a Class. What that means is that we take the ""blueprint"" of the class, and use it to make a dynamic copy. This copy is now specifically tied to the variable it\'s stored in. Therefore, any changes to aninstanceis local to that instance.$bob = new Person;\n$adam = new Person;\n$bob->name = \'Bob\';\necho $adam->name; // ""my name""We create newinstancesof a class using thenewoperator.Therefore, we say that a Class is a global structure, and an Object is a local structure. Don\'t worry about that funny->syntax, we\'re going to go into that in a little bit.One other thing we should talk about, is that we cancheckif an instance is aninstanceofa particular class:$bob instanceof Personwhich returns a boolean if the$bobinstance was made using thePersonclass,ora child ofPerson.Defining StateSo let\'s dig a bit into what a class actually contains. There are 5 types of ""things"" that a class contains:Properties- Think of these as variables that each instance will contain.class Foo {\n    public $bar = 1;\n}Static Properties- Think of these as variables that are shared at the class level. Meaning that they are never copied by each instance.class Foo {\n    public static $bar = 1;\n}Methods- These are functions which each instance will contain (and operate on instances).class Foo {\n    public function bar() {}\n}Static Methods- These are functions which are shared across the entire class. They donotoperate on instances, but instead on the static properties only.class Foo {\n    public static function bar() {}\n}Constants- Class resolved constants. Not going any deeper here, but adding for completeness:class Foo {\n    const BAR = 1;\n}So basically, we\'re storing information on the class and object container using ""hints"" aboutstaticwhich identify whether the information is shared (and hence static) or not (and hence dynamic).State and MethodsInside of a method, an object\'s instance is represented by the$thisvariable. The current state of that object is there, and mutating (changing) any property will result in a change to that instance (but not others).If a method is called statically, the$thisvariableis not defined. This is because there\'s no instance associated with a static call.The interesting thing here is how static calls are made. So let\'s talk about how we access the state:Accessing StateSo now that we have stored that state, we need to access it. This can get a bit tricky (orwaymore than a bit), so let\'s split this into two viewpoints: from outside of an instance/class (say from a normal function call, or from the global scope), and inside of an instance/class (from within a method on the object).From Outside Of An Instance/ClassFrom the outside of an instance/class, our rules are quite simple and predictable. We have two operators, and each tells us immediately if we\'re dealing with an instance or a class static:->-object-operator- This is always used when we\'re accessing an instance.$bob = new Person;\necho $bob->name;It\'s important to note that callingPerson->foodoes not make sense (sincePersonis a class, not an instance). Therefore, that is a parse error.::-scope-resolution-operator- This is always used to access a Class static property or method.echo Foo::bar()Additionally, we can call a static method on an object in the same way:echo $foo::bar()It\'sextremelyimportant to note that when we do thisfrom outside, the object\'s instance is hidden from thebar()method. Meaning that it\'s the exact same as running:$class = get_class($foo);\n$class::bar();Therefore,$thisis not defined in the static call.From Inside Of An Instance/ClassThings change a bit here. The same operators are used, but their meaning becomes significantly blurred.Theobject-operator->is still used to make calls to the object\'s instance state.class Foo {\n    public $a = 1;\n    public function bar() {\n        return $this->a;\n    }\n}Calling thebar()method on$foo(an instance ofFoo) using the object-operator:$foo->bar()will result in the instance\'s version of$a.So that\'s how we expect.The meaning of the::operator though changes. It depends on the context of the call to the current function:Within a static contextWithin a static context, any calls made using::will also be static. Let\'s look at an example:class Foo {\n    public function bar() {\n        return Foo::baz();\n    }\n    public function baz() {\n        return isset($this);\n    }\n}CallingFoo::bar()will call thebaz()method statically, and hence$thiswillnotbe populated. It\'s worth noting that in recent versions of PHP (5.3+) this will trigger anE_STRICTerror, because we\'re calling non-static methods statically.Within an instance contextWithin an instance context on the other hand, calls made using::depend on the receiver of the call (the method we\'re calling). If the method is defined asstatic, then it will use a static call. If it\'s not, it will forward the instance information.So, looking at the above code, calling$foo->bar()will returntrue, since the ""static"" call happens inside of an instance context.Make sense? Didn\'t think so. It\'s confusing.Short-Cut KeywordsBecause tying everything together using class names is rather dirty, PHP provides 3 basic ""shortcut"" keywords to make scope resolving easier.self- This refers to the current class name. Soself::baz()is the same asFoo::baz()within theFooclass (any method on it).parent- This refers to the parent of the current class.static- This refers to the called class. Thanks to inheritance, child classes can override methods and static properties. So calling them usingstaticinstead of a class name allows us to resolve where the call came from, rather than the current level.ExamplesThe easiest way to understand this is to start looking at some examples. Let\'s pick a class:class Person {\n    public static $number = 0;\n    public $id = 0;\n    public function __construct() {\n        self::$number++;\n        $this->id = self::$number;\n    }\n    public $name = """";\n    public function getName() {\n        return $this->name;\n    }\n    public function getId() {\n        return $this->id;\n    }\n}\n\nclass Child extends Person {\n    public $age = 0;\n    public function __construct($age) {\n        $this->age = $age;\n        parent::__construct();\n    }\n    public function getName() {\n        return \'child: \' . parent::getName();\n    }\n}Now, we\'re also looking at inheritance here. Ignore for a moment that this is a bad object model, but let\'s look at what happens when we play with this:$bob = new Person;\n$bob->name = ""Bob"";\n$adam = new Person;\n$adam->name = ""Adam"";\n$billy = new Child;\n$billy->name = ""Billy"";\nvar_dump($bob->getId()); // 1\nvar_dump($adam->getId()); // 2\nvar_dump($billy->getId()); // 3So the ID counter is shared across both instances and the children (because we\'re usingselfto access it. If we usedstatic, we could override it in a child class).var_dump($bob->getName()); // Bob\nvar_dump($adam->getName()); // Adam\nvar_dump($billy->getName()); // child: BillyNote that we\'re executing thePerson::getName()instancemethod every time. But we\'re using theparent::getName()to do it in one of the cases (the child case). This is what makes this approach powerful.Word Of Caution #1Note that the calling context is what determines if an instance is used. Therefore:class Foo {\n    public function isFoo() {\n        return $this instanceof Foo;\n    }\n}Is notalwaystrue.class Bar {\n    public function doSomething() {\n        return Foo::isFoo();\n    }\n}\n$b = new Bar;\nvar_dump($b->doSomething()); // bool(false)Now it isreallyweird here. We\'re calling a different class, but the$thisthat gets passed to theFoo::isFoo()method is the instance of$bar.This can cause all sorts of bugs and conceptual WTF-ery. So I\'d highly suggest avoiding the::operator from within instance methods on anything except those three virtual ""short-cut"" keywords (static,self, andparent).Word Of Caution #2Note that static methods and properties are shared by everyone. That makes them basically global variables. With all the same problems that come with globals. So I would be really hesitant to store information in static methods/properties unless you\'re comfortable with it being truly global.Word Of Caution #3In general you\'ll want to use what\'s known as Late-Static-Binding by usingstaticinstead ofself. But note that they are not the same thing, so saying ""always usestaticinstead ofselfis really short-sighted. Instead, stop and think about the call you want to make and think if you want child classes to be able to override thatstatic resolvedcall.TL/DRToo bad, go back and read it. It may be too long, but it\'s that long because this is a complex topicTL/DR #2Ok, fine. In short,selfis used to referencethe current class namewithin a class, where as$thisrefers to the current objectinstance. Note thatselfis a copy/paste short-cut. You can safely replace it with your class name, and it\'ll work fine. But$thisis a dynamic variable that can\'t be determined ahead of time (and may not even be your class).TL/DR #3If the object-operator is used (->), then youalwaysknow you\'re dealing with an instance. If the scope-resolution-operator is used (::), you need more information about the context (are we in an object-context already? Are we outside of an object? etc).ShareImprove this answerFolloweditedMay 23, 2017 at 11:33CommunityBot111 silver badgeansweredJun 10, 2013 at 15:21ircmaxellircmaxell164k3535 gold badges267267 silver badges315315 bronze badges\n\nself(not $self) refers to thetypeof class, whereas$thisrefers to the currentinstanceof the class.selfis for use in static member functions to allow you to access static member variables.$thisis used in non-static member functions, and is a reference to the instance of the class on which the member function was called.Becausethisis an object, you use it like:$this->memberBecauseselfis not an object, it\'s basically a type that automatically refers to the current class. You use it like:self::memberShareImprove this answerFolloweditedSep 2, 2021 at 23:18Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredSep 30, 2008 at 7:26Zebra NorthZebra North11.5k77 gold badges3838 silver badges5050 bronze badges\n\n$this->is used to refer to a specific instance of a class\'s variables (member variables) or methods.Example: \n$derek = new Person();$derek is now a specific instance of Person.\nEvery Person has a first_name and a last_name, but $derek has a specific first_name and last_name (Derek Martin). Inside the $derek instance, we can refer to those as $this->first_name and $this->last_nameClassName:: is used to refer to that type of class, and its static variables, static methods. If it helps, you can mentally replace the word ""static"" with ""shared"".    Because they are shared, they cannot refer to $this, which refers to a specific instance (not shared). Static Variables (i.e. static $db_connection) can be shared among all instances of a type of object. For example, all database objects share a single connection (static $connection).Static Variables Example:Pretend we have a database class with a single member variable: static $num_connections;\nNow, put this in the constructor:function __construct()\n{\n    if(!isset $num_connections || $num_connections==null)\n    {\n        $num_connections=0;\n    }\n    else\n    {\n        $num_connections++;\n    }\n}Just as objects have constructors, they also have destructors, which are executed when the object dies or is unset:function __destruct()\n{\n    $num_connections--;\n}Every time we create a new instance, it will increase our connection counter by one. Every time we destroy or stop using an instance, it will decrease the connection counter by one.   In this way, we can monitor the number of instances of the database object we have in use with:echo DB::num_connections;Because $num_connections is static (shared), it will reflect the total number of active database objects. You may have seen this technique used to share database connections among all instances of a database class. This is done because creating the database connection takes a long time, so it\'s best to create just one, and share it (this is called a Singleton Pattern).Static Methods (i.e. public static View::format_phone_number($digits)) can be used WITHOUT first instantiating one of those objects (i.e. They do not internally refer to $this).Static Method Example:public static function prettyName($first_name, $last_name)\n{\n    echo ucfirst($first_name).\' \'.ucfirst($last_name);\n}\n\necho Person::prettyName($derek->first_name, $derek->last_name);As you can see, public static function prettyName knows nothing about the object. It\'s just working with the parameters you pass in, like a normal function that\'s not part of an object. Why bother, then, if we could just have it not as part of the object?First, attaching functions to objects helps you keep things organized, so you know where to find them.Second, it prevents naming conflicts. In a big project, you\'re likely to have two developers create getName() functions. If one creates a ClassName1::getName(), and the other creates ClassName2::getName(), it\'s no problem at all. No conflict. Yay static methods!SELF::If you are codingoutsidethe object that has the static method you want to refer to, you must call it using the object\'s name View::format_phone_number($phone_number);\nIf you are codinginsidethe object that has the static method you want to refer to, you caneitheruse the object\'s name View::format_phone_number($pn), OR you can use the self::format_phone_number($pn)  shortcutThe same goes for static variables:Example:View::templates_path versus self::templates_pathInside the DB class, if we were referring to a static method of some other object, we would use the object\'s name:Example:Session::getUsersOnline();But if the DB class wanted to refer to its own static variable, it would just say self:Example:self::connection;ShareImprove this answerFolloweditedDec 24, 2022 at 22:09starball41k2020 gold badges130130 silver badges695695 bronze badgesansweredOct 22, 2008 at 17:52lo_fyelo_fye6,84044 gold badges3333 silver badges4949 bronze badges\n\nFromthis blog post:selfrefers to the current classselfcan be used to call static functions and reference static member variablesselfcan be used inside static functionsselfcan also turn off polymorphic behavior by bypassing the vtable$thisrefers to the current object$thiscan be used to call static functions$thisshould not be used to call static member variables.  Useselfinstead.$thiscan not be used inside static functionsShareImprove this answerFolloweditedJan 24, 2014 at 15:46Amal Murali76.3k1818 gold badges132132 silver badges153153 bronze badgesansweredMay 10, 2013 at 12:00okconfusedokconfused3,61744 gold badges2525 silver badges3838 bronze badges\n\nIn PHP, you use the self keyword to access static properties and methods.The problem is that you can replace$this->method()withself::method()anywhere, regardless ifmethod()is declared static or not. So which one should you use?Consider this code:class ParentClass {\n    function test() {\n        self::who();    // will output \'parent\'\n        $this->who();   // will output \'child\'\n    }\n\n    function who() {\n        echo \'parent\';\n    }\n}\n\nclass ChildClass extends ParentClass {\n    function who() {\n        echo \'child\';\n    }\n}\n\n$obj = new ChildClass();\n$obj->test();In this example,self::who()will always output ‘parent’, while$this->who()will depend on what class the object has.Now we can see that self refers to the class in which it is called, while$thisrefers to theclass of the current object.So, you should use self only when$thisis not available, or when you don’t want to allow descendant classes to overwrite the current method.ShareImprove this answerFolloweditedJun 28, 2017 at 17:06Akib Bagwan13811 gold badge22 silver badges1414 bronze badgesansweredDec 29, 2014 at 13:20ramin rostamiramin rostami31533 silver badges55 bronze badges\n\nselfrefers to the current class (in which it is called),$thisrefers to the current object.\nYou can use static instead of self.See the example:class ParentClass {\n    function test() {\n        self::which();    // Outputs \'parent\'\n        $this->which();   // Outputs \'child\'\n    }\n\n    function which() {\n        echo \'parent\';\n    }\n}\n\nclass ChildClass extends ParentClass {\n    function which() {\n        echo \'child\';\n    }\n}\n\n$obj = new ChildClass();\n$obj->test();Output:parent\n childShareImprove this answerFolloweditedSep 2, 2021 at 23:30Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJan 1, 2016 at 6:36Kabir HossainKabir Hossain3,06511 gold badge3030 silver badges3434 bronze badges\n\nInside a class definition,$thisrefers to the current object, whileselfrefers to the current class.It is necessary to refer to a class element usingself, and refer to an object element using$this.self::STAT // refer to a constant value\nself::$stat // static variable\n$this->stat // refer to an object variableShareImprove this answerFolloweditedNov 22, 2019 at 8:38Yousha Aleayoub5,20444 gold badges5555 silver badges6565 bronze badgesansweredMay 8, 2013 at 6:58Tarun SinghalTarun Singhal1,00799 silver badges1111 bronze badges\n\nHere is an example of correct usage of $this and self for non-static\n  and static member variables:<?php\nclass X {\n    private $non_static_member = 1;\n    private static $static_member = 2;\n\n    function __construct() {\n        echo $this->non_static_member . \' \'\n           . self::$static_member;\n    }\n}\n\nnew X();\n?>ShareImprove this answerFollowansweredDec 6, 2011 at 11:26Mohit BumbMohit Bumb2,47355 gold badges3333 silver badges5454 bronze badges\n\nThe object pointer$thisto refers to the current object.The class valuestaticrefers to the current object.The class valueselfrefers to the exact class it was defined in.The class valueparentrefers to the parent of the exact class it was defined in.See the following example which shows overloading.<?php\n\nclass A {\n\n    public static function newStaticClass()\n    {\n        return new static;\n    }\n\n    public static function newSelfClass()\n    {\n        return new self;\n    }\n\n    public function newThisClass()\n    {\n        return new $this;\n    }\n}\n\nclass B extends A\n{\n    public function newParentClass()\n    {\n        return new parent;\n    }\n}\n\n\n$b = new B;\n\nvar_dump($b::newStaticClass()); // B\nvar_dump($b::newSelfClass()); // A because self belongs to ""A""\nvar_dump($b->newThisClass()); // B\nvar_dump($b->newParentClass()); // A\n\n\nclass C extends B\n{\n    public static function newSelfClass()\n    {\n        return new self;\n    }\n}\n\n\n$c = new C;\n\nvar_dump($c::newStaticClass()); // C\nvar_dump($c::newSelfClass()); // C because self now points to ""C"" class\nvar_dump($c->newThisClass()); // C\nvar_dump($b->newParentClass()); // A because parent was defined *way back* in class ""B""Most of the time you want to refer to the current class which is why you usestaticor$this. However, there are times when youneedselfbecause you want the original class regardless of what extends it. (Very, Very seldom)ShareImprove this answerFolloweditedNov 22, 2019 at 8:40Yousha Aleayoub5,20444 gold badges5555 silver badges6565 bronze badgesansweredMar 22, 2013 at 15:24XeoncrossXeoncross56.6k8080 gold badges268268 silver badges368368 bronze badges\n\nAccording toStatic Keyword, there isn\'t any$self. There is only$this, for referring to the current instance of the class (the object), andself, which can be used to refer to static members of a class. The difference between an object instance and a class comes into play here.ShareImprove this answerFolloweditedSep 2, 2021 at 23:17Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredSep 30, 2008 at 6:29cruizercruizer6,14122 gold badges2828 silver badges3434 bronze badges\n\nI believe the question was not whether you can call the static member of the class by callingClassName::staticMember. The question was what\'s the difference between usingself::classmemberand$this->classmember.For example, both of the following examples work without any errors, whether you useself::or$this->class Person{\n    private $name;\n    private $address;\n\n    public function __construct($new_name,$new_address){\n        $this->name = $new_name;\n        $this->address = $new_address;\n    }\n}\n\nclass Person{\n    private $name;\n    private $address;\n    public function __construct($new_name,$new_address){\n        self::$name = $new_name;\n        self::$address = $new_address;\n    }\n}ShareImprove this answerFolloweditedSep 2, 2021 at 23:20Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMay 18, 2009 at 19:42dr evildr evil\n\nHere is a small benchmark (7.2.24 onrepl.it):Speed (in seconds)  Percentage\n$this->     0.91760206222534    100\nself::      1.0047659873962     109.49909865716\nstatic::    0.98066782951355    106.87288857386Results for 4 000 000 runs. Conclusion: it doesn\'t matter. And here is the code I used:<?php\n\nclass Foo\n{\n  public function calling_this() { $this->called(); }\n  public function calling_self() { self::called(); }\n  public function calling_static() { static::called(); }\n  public static function called() {}\n}\n\n$foo = new Foo();\n$n = 4000000;\n$times = [];\n\n// warmup\nfor ($i = 0; $i < $n; $i++) { $foo->calling_this(); }\nfor ($i = 0; $i < $n; $i++) { $foo->calling_self(); }\nfor ($i = 0; $i < $n; $i++) { $foo->calling_static(); }\n\n$start = microtime(true);\nfor ($i = 0; $i < $n; $i++) { $foo->calling_this(); }\n$times[""this""] = microtime(true)-$start;\n\n$start = microtime(true);\nfor ($i = 0; $i < $n; $i++) { $foo->calling_self(); }\n$times[""self""] = microtime(true)-$start;\n\n$start = microtime(true);\nfor ($i = 0; $i < $n; $i++) { $foo->calling_static(); }\n$times[""static""] = microtime(true)-$start;\n\n$min = min($times);\necho $times[""this""] . ""\\t"" . ($times[""this""] / $min)*100 . ""\\n"";\necho $times[""self""] . ""\\t"" . ($times[""self""] / $min)*100 . ""\\n"";\necho $times[""static""] . ""\\t"" . ($times[""static""] / $min)*100 . ""\\n"";ShareImprove this answerFolloweditedOct 14, 2020 at 14:25answeredMay 31, 2015 at 7:09tlebtleb4,51533 gold badges2626 silver badges3535 bronze badges\n\nWhenselfis used with the::operator it refers to the current class, which can be done both in static and non-static contexts.$thisrefers to the object itself. In addition, it is perfectly legal to use$thisto call static methods (but not to refer to fields).ShareImprove this answerFolloweditedMar 22, 2013 at 15:34Holger Just54.9k1414 gold badges120120 silver badges129129 bronze badgesansweredMar 22, 2013 at 15:13mrDjoukmrDjouk27155 silver badges88 bronze badges\n\nI ran into the same question and the simple answer was:$thisrequires an instance of the classself::doesn\'tWhenever you are usingstatic methodsorstatic attributesand want to call them without having an object of the class instantiated, you need to useself:to call them, because$thisalways requires an object to be created.ShareImprove this answerFolloweditedSep 2, 2021 at 23:31Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMay 19, 2018 at 15:23MikeMike53255 silver badges1414 bronze badges\n\nAdditionally since$this::has not been discussed yet.For informational purposes only, as of PHP 5.3 when dealing with instantiated objects to get the current scope value, as opposed to usingstatic::, one can alternatively use$this::like so.http://ideone.com/7etRHyclass Foo\n{\n    const NAME = \'Foo\';\n\n    //Always Foo::NAME (Foo) due to self\n    protected static $staticName = self::NAME;\n\n    public function __construct()\n    {\n        echo $this::NAME;\n    }\n\n    public function getStaticName()\n    {\n       echo $this::$staticName;\n    }\n}\n\nclass Bar extends Foo\n{\n    const NAME = \'FooBar\';\n\n    /**\n     * override getStaticName to output Bar::NAME\n     */\n    public function getStaticName()\n    {\n        $this::$staticName = $this::NAME;\n        parent::getStaticName();\n    }\n}\n\n$foo = new Foo; //outputs Foo\n$bar = new Bar; //outputs FooBar\n$foo->getStaticName(); //outputs Foo\n$bar->getStaticName(); //outputs FooBar\n$foo->getStaticName(); //outputs FooBarUsing the code above is not common or recommended practice, but is simply to illustrate its usage, and is to act as more of a ""Did you know?"" in reference to the original poster\'s question.It also represents the usage of$object::CONSTANTfor exampleecho $foo::NAME;as opposed to$this::NAME;ShareImprove this answerFolloweditedOct 14, 2015 at 17:02answeredSep 29, 2014 at 19:28Will B.Will B.18.3k55 gold badges7070 silver badges7070 bronze badges\n\n$thisrefers to the current class object, andselfrefers to the current class (Not object). The class is the blueprint of the object. So you define a class, but you construct objects.So in other words, useself for staticandthis for none-static members or methods.Also in a child/parent scenario,self / parentis mostly used to identify child and parent class members and methods.ShareImprove this answerFolloweditedSep 2, 2021 at 23:27Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredSep 15, 2014 at 6:36Rakesh SinghRakesh Singh1,25099 silver badges88 bronze badges\n\nUseselfif you want to call a method of a class without creating an object/instance of that class, thus savingRAM(sometimes use self for that purpose). In other words, it is actually calling a method statically. Usethisfor object perspective.ShareImprove this answerFolloweditedFeb 16, 2018 at 14:12Rotimi4,80544 gold badges1919 silver badges2828 bronze badgesansweredApr 10, 2013 at 15:13anwaranwar40866 silver badges1010 bronze badges\n\nself::A keyword used for the current class and basically it is used to access static members, methods, and constants. But in case of$this, you cannot call the static member, method, and functions.You can use theself::keyword in another class and access the static members, method, and constants. When it will be extended from the parent class and the same in case of the$thiskeyword. You can access the non-static members, method and function in another class when it will be extended from the parent class.The code given below is an example of theself::and$thiskeywords. Just copy and paste the code in your code file and see the output.class cars{\n    var $doors = 4;\n    static $car_wheel = 4;\n\n    public function car_features(){\n        echo $this->doors . "" Doors <br>"";\n        echo self::$car_wheel . "" Wheels <br>"";\n    }\n}\n\nclass spec extends cars{\n    function car_spec(){\n        print(self::$car_wheel . "" Doors <br>"");\n        print($this->doors . "" Wheels <br>"");\n    }\n}\n\n/********Parent class output*********/\n\n$car = new cars;\nprint_r($car->car_features());\n\necho ""------------------------<br>"";\n\n/********Extend class from another class output**********/\n\n\n$car_spec_show = new spec;\n\nprint($car_spec_show->car_spec());ShareImprove this answerFolloweditedSep 2, 2021 at 23:34Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredApr 16, 2020 at 19:19Deepak SyalDeepak Syal13711 silver badge77 bronze badges\n\nCase 1: Useselfcan be used for class constantsclass classA { \n     const FIXED_NUMBER = 4; \n     self::POUNDS_TO_KILOGRAMS\n}If you want to call it outside of the class, useclassA::POUNDS_TO_KILOGRAMSto access the constantsCase 2: For static propertiesclass classC {\n     public function __construct() { \n     self::$_counter++; $this->num = self::$_counter;\n   }\n}ShareImprove this answerFolloweditedFeb 2, 2016 at 21:14perror7,2881616 gold badges6060 silver badges8686 bronze badgesansweredFeb 2, 2016 at 20:51li bing zhaoli bing zhao1,4081414 silver badges1212 bronze badges\n\nAccording to php.net there are three special keywords in this context:self,parentandstatic. They are used to access properties or methods from inside the class definition.$this, on the other hand, is used to call an instance and methods of any class as long as that class is accessible.ShareImprove this answerFolloweditedDec 7, 2015 at 12:26trincot340k3535 gold badges262262 silver badges306306 bronze badgesansweredDec 7, 2015 at 10:21FilFil8,6251717 gold badges6262 silver badges8989 bronze badges\n\nThough this is an old question, as a newbie, I find the following comparison useful. Esp. the rules and syntax needed to use withselfand$this.// A. Definitions\n   \n// Three classes bar1 for parallel use, and bar2 and bar3 for linear use;\n\nclass bar1 {\n    // Class bar1 to use the object method ""$this"",\n    // to create multiple parallel instances;\n    \n    public $foo = 111; // Property ""$foo"" set without ""static"" keyword; \n    // because we will be using the object method ""$this"",\n    // to create multiple (unique and fresh) instances;\n    \n    public function getfoo() {\n        return $this->foo; // Function ""getfoo"" returns the value of property ""foo"";\n        // While calling the property using ""$this"", no ""$"" symbol is used; \n        // By calling our class ""bar1"" using ""$this"" instead of ""self"", \n        // we can use on multiple instances;\n    }\n    public function setfoo($foo) {\n        $this->foo = $foo; // Function ""setfoo"" sets the value of property ""foo""; \n        // While calling the property using ""$this"", no ""$"" symbol is used; \n        // By calling our class ""bar1"" using ""$this"" instead of ""self"", \n        // we can use on multiple instances;\n    }\n}\n\nclass bar2 {\n    // Class bar2 to use the static method ""self"" to use as single linear instance;\n    // Note the use of ""::"" (scope resolution operator) instead of object call ""->"" \n    \n    public static $foo = 111; // Property ""$foo"" set with ""static"" keyword; \n        // because we will be using the static method ""self"" to use as single instance;\n    \n    public static function getfoo() {\n        return self::$foo; // Function ""getfoo"" returns the value of property ""foo""; \n        // While calling the property using ""self"", ""$"" symbol is necessary; \n        // We are calling our class ""bar2"" using ""self"" instead of ""$this"", \n        // because we are using static method ""self"" to use as single instance;\n    }\n    public static function setfoo($foo) {\n        self::$foo = $foo; // Function ""setfoo"" sets the value of property ""foo""; \n        // While calling the property using ""self"", ""$"" symbol is necessary; \n        // We are calling our class ""bar2"" using ""self"" instead of $this, \n        // because we are using static method ""self"" to use as single instance;\n    }\n}\n\nclass bar3 {\n    // Class bar3 is same as bar2 and uses the static method ""self"", \n    // except it sets the property ""$foo"" using ""__construct"" constructor method;\n    // so it can be used as a single linear instance,\n    // which can be optionally reset/reinitialized;\n    \n    public static $foo; // Property ""$foo"" initialized with ""static"" keyword;\n        // No value is set here because we are setting it using ""__construct"" instead;\n        \n    public function __construct() { // ""__construct"" will set the property values\n        self::$foo = 111;\n    }\n    \n    public static function getfoo() {\n        return self::$foo;\n    }\n    public static function setfoo($foo) {\n        self::$foo = $foo;\n    }\n}\n\n// B. Tests\n\n\n// B.1 Object method; Parallel instances $x and $y;\n\n$x = new bar1(); // Fresh instance $x\necho $x->getfoo().PHP_EOL; // Output: 111 \n$x->setfoo(123); // Updated instance $x\necho $x->getfoo().PHP_EOL.PHP_EOL; // Output: 123\n\n$y = new bar1(); // Fresh instance $y\necho $y->getfoo().PHP_EOL; // Output: 111 \n$y->setfoo(143); // Updated instance $y\necho $y->getfoo().PHP_EOL.PHP_EOL; // Output: 143\n\n\n// B.2 Static method; Single linear instance;\n\nnew bar2(); // Not a fresh instance; Can be omitted;\necho bar2::getfoo().PHP_EOL; // Output: 111 \nbar2::setfoo(123); // Updated the same static instance\necho bar2::getfoo().PHP_EOL.PHP_EOL; // Output: 123 \n\nnew bar2(); // Not a fresh instance; Can be omitted;\necho bar2::getfoo().PHP_EOL; // Output: 123\nbar2::setfoo(143); // Updated the same static instance\necho bar2::getfoo().PHP_EOL.PHP_EOL; // Output: 143\n\n\n// B.3 Static method using __construct; Single linear yet re-settable instance;\n\nnew bar3(); // Resets into a fresh instance; Omitting this line will reuse old instance;\necho bar3::getfoo().PHP_EOL; // Output: 111 \nbar3::setfoo(123); // Updated the same static instance\necho bar3::getfoo().PHP_EOL.PHP_EOL; // Output: 123 \n\nnew bar3(); // Resets into a fresh instance; Omitting this line will reuse old instance;\necho bar3::getfoo().PHP_EOL; // Output: 111\nbar3::setfoo(143); // Updated the same static instance\necho bar3::getfoo().PHP_EOL.PHP_EOL; // Output: 143ShareImprove this answerFolloweditedJun 10, 2023 at 23:15answeredJun 10, 2023 at 18:04Ajay SinghAjay Singh73399 silver badges2121 bronze badges'}","{'title': 'How to stop EditText from gaining focus when an activity starts in Android?', 'question': ""I have anActivityin Android, with two elements:EditTextListViewWhen myActivitystarts, theEditTextimmediately has the input focus (flashing cursor). I don't want any control to have input focus at startup. I tried:EditText.setSelected(false);\nEditText.setFocusable(false);No luck. How can I convince theEditTextto not select itself when theActivitystarts?androidlistviewandroid-activityandroid-edittextfocusShareImprove this questionFolloweditedJul 25, 2022 at 11:27Ramesh R7,05944 gold badges2525 silver badges3939 bronze badgesaskedOct 12, 2009 at 15:03MarkMark39.8k1515 gold badges4242 silver badges4747 bronze badges"", 'answers': 'Adding the tagsandroid:focusableInTouchMode=""true""andandroid:focusable=""true""to the parent layout (e.g.LinearLayoutorConstraintLayout) like in the following example, will fix the problem.<!-- Dummy item to prevent AutoCompleteTextView from receiving focus -->\n<LinearLayout\n    android:focusable=""true"" \n    android:focusableInTouchMode=""true""\n    android:layout_width=""0px"" \n    android:layout_height=""0px""/>\n\n<!-- :nextFocusUp and :nextFocusLeft have been set to the id of this component\nto prevent the dummy from receiving focus again -->\n<AutoCompleteTextView android:id=""@+id/autotext""\n    android:layout_width=""fill_parent"" \n    android:layout_height=""wrap_content""\n    android:nextFocusUp=""@id/autotext"" \n    android:nextFocusLeft=""@id/autotext""/>ShareImprove this answerFolloweditedSep 13, 2022 at 14:31Ramesh R7,05944 gold badges2525 silver badges3939 bronze badgesansweredNov 2, 2009 at 15:49Morgan ChristianssonMorgan Christiansson29.4k11 gold badge2020 silver badges1414 bronze badges\n\nIs the actual problem that you just don\'t want it to have focus at all?  Or you don\'t want it to show the virtual keyboard as a result of focusing on theEditText?  I don\'t really see an issue with theEditTexthaving a focus on the start, but it\'s definitely a problem to have the softInput window open when the user did not explicitly request to focus on theEditText(and open the keyboard as a result).If it\'s the problem of the virtual keyboard, see theAndroidManifest.xml<activity> elementdocumentation.android:windowSoftInputMode=""stateHidden""- always hide it when entering the activity.orandroid:windowSoftInputMode=""stateUnchanged""- don\'t change it (e.g. don\'tshowit if it isn\'t already shown, but if it was open when entering the activity, leave it open).ShareImprove this answerFolloweditedMay 11, 2021 at 7:31Rahul3,33122 gold badges3434 silver badges4444 bronze badgesansweredApr 9, 2010 at 21:22JoeJoe42.1k1313 gold badges4747 silver badges6262 bronze badges\n\nA simpler solution exists. Set these attributes in your parent layout:<RelativeLayout xmlns:android=""http://schemas.android.com/apk/res/android""\n    android:id=""@+id/mainLayout""\n    android:descendantFocusability=""beforeDescendants""\n    android:focusableInTouchMode=""true"" >And now, when the activity starts this main layout will get focus by default.Also, we can remove focus from child views at runtime (e.g., after finishing child editing) by giving the focus to the main layout again, like this:findViewById(R.id.mainLayout).requestFocus();Good commentfromGuillaume Perrot:android:descendantFocusability=""beforeDescendants""seems to be the\ndefault (integer value is 0). It works just by addingandroid:focusableInTouchMode=""true"".Really, we can see that thebeforeDescendantsis set as default in theViewGroup.initViewGroup()method (Android 2.2.2). But not equal to 0.ViewGroup.FOCUS_BEFORE_DESCENDANTS = 0x20000;Thanks to Guillaume.ShareImprove this answerFolloweditedJan 17 at 17:17answeredDec 26, 2011 at 23:35SilverSilver12.5k22 gold badges1515 silver badges1111 bronze badges\n\nThe only solution I\'ve found is:Create aLinearLayout(I don\'t know if other kinds of Layout will work)Set the attributesandroid:focusable=""true""andandroid:focusableInTouchMode=""true""And theEditTextwon\'t get the focus after starting the activityShareImprove this answerFolloweditedJul 25, 2022 at 11:30Ramesh R7,05944 gold badges2525 silver badges3939 bronze badgesansweredOct 23, 2009 at 8:12LucLuc4,57911 gold badge1515 silver badges33 bronze badges\n\nThe problem seems to come from a property that I can only see in theXML formof the layout.Make sure to remove this line at the end of the declaration within theEditTextXML tags:<requestFocus />That should give something like that :<EditText\n   android:id=""@+id/emailField""\n   android:layout_width=""fill_parent""\n   android:layout_height=""wrap_content""\n   android:inputType=""textEmailAddress"">\n\n   //<requestFocus /> /* <-- without this line */\n</EditText>ShareImprove this answerFolloweditedJul 25, 2022 at 11:38Ramesh R7,05944 gold badges2525 silver badges3939 bronze badgesansweredMar 13, 2012 at 9:57floydaddictfloydaddict1,19611 gold badge77 silver badges55 bronze badges\n\nusing the information provided by other posters, I used the following solution:in the layout XML<!-- Dummy item to prevent AutoCompleteTextView from receiving focus -->\n<LinearLayout\n    android:id=""@+id/linearLayout_focus""\n    android:focusable=""true""\n    android:focusableInTouchMode=""true""\n    android:layout_width=""0px""\n    android:layout_height=""0px""/>\n\n<!-- AUTOCOMPLETE -->\n<AutoCompleteTextView\n    android:id=""@+id/autocomplete""\n    android:layout_width=""200dip""\n    android:layout_height=""wrap_content""\n    android:layout_marginTop=""20dip""\n    android:inputType=""textNoSuggestions|textVisiblePassword""/>in onCreate()private AutoCompleteTextView mAutoCompleteTextView;\nprivate LinearLayout mLinearLayout;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.mylayout);\n\n    //get references to UI components\n    mAutoCompleteTextView = (AutoCompleteTextView) findViewById(R.id.autocomplete);\n    mLinearLayout = (LinearLayout) findViewById(R.id.linearLayout_focus);\n}and finally, in onResume()@Override\nprotected void onResume() {\n    super.onResume();\n\n    //do not give the editbox focus automatically when activity starts\n    mAutoCompleteTextView.clearFocus();\n    mLinearLayout.requestFocus();\n}ShareImprove this answerFolloweditedApr 24, 2015 at 22:21Ziem6,68788 gold badges5656 silver badges8686 bronze badgesansweredMay 26, 2011 at 21:07Someone SomewhereSomeone Somewhere23.7k1212 gold badges121121 silver badges168168 bronze badges\n\nTryclearFocus()instead ofsetSelected(false).  Every view in Android has both focusability and selectability, and I think that you want to just clear the focus.ShareImprove this answerFolloweditedOct 22, 2017 at 5:09Keet Sugathadasa12.9k99 gold badges7474 silver badges8484 bronze badgesansweredOct 12, 2009 at 19:02Eric MillEric Mill3,49511 gold badge2626 silver badges2626 bronze badges\n\nThe following will stopEditTextfrom taking focus when created but grab it when you touch them.<EditText\n    android:id=""@+id/et_bonus_custom""\n    android:focusable=""false"" />So you set focusable to false in the xml, but the key is in the java, which you add the following listener:etBonus.setOnTouchListener(new View.OnTouchListener() {\n    @Override\n    public boolean onTouch(View v, MotionEvent event) {\n        v.setFocusable(true);\n        v.setFocusableInTouchMode(true);\n        return false;\n    }\n});Because you are returning false, i.e. not consuming the event, the focusing behavior will proceed like normal.ShareImprove this answerFolloweditedJul 25, 2022 at 11:48Ramesh R7,05944 gold badges2525 silver badges3939 bronze badgesansweredJun 15, 2012 at 4:45MinceManMinceMan7,56233 gold badges3939 silver badges4242 bronze badges\n\nI had tried several answers individually but the focus is still at the EditText. I only managed to solve it by using two of the below solution together.<RelativeLayout xmlns:android=""http://schemas.android.com/apk/res/android""\n  android:id=""@+id/mainLayout""\n  android:descendantFocusability=""beforeDescendants""\n  android:focusableInTouchMode=""true"" >( Reference from Silverhttps://stackoverflow.com/a/8639921/15695)and remove<requestFocus />at EditText( Reference fromfloydaddicthttps://stackoverflow.com/a/9681809)ShareImprove this answerFolloweditedJul 25, 2022 at 11:36Ramesh R7,05944 gold badges2525 silver badges3939 bronze badgesansweredNov 28, 2012 at 10:32Lee Yi HongLee Yi Hong1,3401313 silver badges1717 bronze badges\n\nLate but simplest answer, just add this in the parent layout of the XML.android:focusable=""true"" \nandroid:focusableInTouchMode=""true""Upvote if it helped you! Happy Coding :)ShareImprove this answerFolloweditedJul 25, 2022 at 11:34Ramesh R7,05944 gold badges2525 silver badges3939 bronze badgesansweredApr 18, 2018 at 6:14Rishabh SaxenaRishabh Saxena1,7951616 silver badges2626 bronze badges\n\nNone of these solutions worked for me. The way I fix the autofocus was:<activity android:name="".android.InviteFriendsActivity""\n android:windowSoftInputMode=""adjustPan"">\n    <intent-filter >\n    </intent-filter>\n</activity>ShareImprove this answerFolloweditedJul 25, 2022 at 11:57Ramesh R7,05944 gold badges2525 silver badges3939 bronze badgesansweredNov 30, 2011 at 16:37rallatrallat1,30511 gold badge1010 silver badges1616 bronze badges\n\nSimple solution:\nInAndroidManifestinActivitytag useandroid:windowSoftInputMode=""stateAlwaysHidden""ShareImprove this answerFolloweditedSep 27, 2016 at 10:05Piyush18.9k55 gold badges3333 silver badges6464 bronze badgesansweredMar 17, 2014 at 15:42Sergey ShelegSergey Sheleg76066 silver badges66 bronze badges\n\nYou can just set""focusable""and""focusable in touch mode""to value true on the firstTextViewof thelayout. In this way when the activity starts theTextViewwill be focused but, due to its nature, you will see nothing focused on the screen and, of course, there will benokeyboard displayed...ShareImprove this answerFolloweditedJul 25, 2022 at 11:53Ramesh R7,05944 gold badges2525 silver badges3939 bronze badgesansweredNov 6, 2011 at 16:49ZeusZeus46144 silver badges22 bronze badges\n\nThe following worked for me inManifest. Write,<activity\nandroid:name="".MyActivity""\nandroid:windowSoftInputMode=""stateAlwaysHidden""/>ShareImprove this answerFolloweditedJul 25, 2022 at 11:44Ramesh R7,05944 gold badges2525 silver badges3939 bronze badgesansweredApr 8, 2014 at 11:48Babar SanahBabar Sanah55311 gold badge77 silver badges1313 bronze badges\n\nI needed to clearly focus on all fields programmatically. I just added the following two statements to my main layout definition.myLayout.setDescendantFocusability(ViewGroup.FOCUS_BEFORE_DESCENDANTS);\nmyLayout.setFocusableInTouchMode(true);That\'s it. Fixed my problem instantly. Thanks, Silver, for pointing me in the right direction.ShareImprove this answerFolloweditedJul 25, 2022 at 11:56Ramesh R7,05944 gold badges2525 silver badges3939 bronze badgesansweredSep 27, 2012 at 23:35jakeneffjakeneff52355 silver badges77 bronze badges\n\nAddandroid:windowSoftInputMode=""stateAlwaysHidden""in the activity tag of theManifest.xmlfile.SourceShareImprove this answerFolloweditedSep 27, 2016 at 10:04Piyush18.9k55 gold badges3333 silver badges6464 bronze badgesansweredJun 24, 2015 at 9:19prgmrDevprgmrDev92611 gold badge1111 silver badges2222 bronze badges\n\nIf you have another view on your activity like aListView, you can also do:ListView.requestFocus();in youronResume()to grab focus from theeditText.I know this question has been answered but just providing an alternative solution that worked for me :)ShareImprove this answerFolloweditedSep 27, 2013 at 18:11bofredo2,34866 gold badges3333 silver badges5252 bronze badgesansweredMar 7, 2011 at 19:37SidSid9,53655 gold badges4040 silver badges6060 bronze badges\n\nTry this before your first editable field:<TextView  \n        android:id=""@+id/dummyfocus"" \n        android:layout_width=""fill_parent""\n        android:layout_height=""wrap_content"" \n        android:text=""@string/foo""\n        />findViewById(R.id.dummyfocus).setFocusableInTouchMode(true);\nfindViewById(R.id.dummyfocus).requestFocus();ShareImprove this answerFolloweditedJul 25, 2022 at 11:58Ramesh R7,05944 gold badges2525 silver badges3939 bronze badgesansweredJun 11, 2011 at 21:17Jack SlaterJack Slater28133 silver badges33 bronze badges\n\nAdd following inonCreatemethod:this.getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_HIDDEN);ShareImprove this answerFolloweditedSep 27, 2016 at 10:04Piyush18.9k55 gold badges3333 silver badges6464 bronze badgesansweredDec 21, 2015 at 15:33Vishal RajVishal Raj1,76522 gold badges1717 silver badges3636 bronze badges\n\nWrite this line in your Parent Layout...android:focusableInTouchMode=""true""ShareImprove this answerFolloweditedAug 16, 2022 at 12:39answeredJul 26, 2017 at 9:52Vishal VaishnavVishal Vaishnav3,41433 gold badges2828 silver badges5858 bronze badges\n\nBeing that I don\'t like to pollute the XML with something that is related to functionality, I created this method that ""transparently"" steals the focus from the first focusable view and then makes sure to remove itself when necessary!public static View preventInitialFocus(final Activity activity)\n{\n    final ViewGroup content = (ViewGroup)activity.findViewById(android.R.id.content);\n    final View root = content.getChildAt(0);\n    if (root == null) return null;\n    final View focusDummy = new View(activity);\n    final View.OnFocusChangeListener onFocusChangeListener = new View.OnFocusChangeListener()\n    {\n        @Override\n        public void onFocusChange(View view, boolean b)\n        {\n            view.setOnFocusChangeListener(null);\n            content.removeView(focusDummy);\n        }\n    };\n    focusDummy.setFocusable(true);\n    focusDummy.setFocusableInTouchMode(true);\n    content.addView(focusDummy, 0, new LinearLayout.LayoutParams(0, 0));\n    if (root instanceof ViewGroup)\n    {\n        final ViewGroup _root = (ViewGroup)root;\n        for (int i = 1, children = _root.getChildCount(); i < children; i++)\n        {\n            final View child = _root.getChildAt(i);\n            if (child.isFocusable() || child.isFocusableInTouchMode())\n            {\n                child.setOnFocusChangeListener(onFocusChangeListener);\n                break;\n            }\n        }\n    }\n    else if (root.isFocusable() || root.isFocusableInTouchMode())\n        root.setOnFocusChangeListener(onFocusChangeListener);\n\n    return focusDummy;\n}ShareImprove this answerFollowansweredApr 24, 2013 at 13:26workingkillsworkingkills2,7162525 silver badges3030 bronze badges\n\nLate, but maybe helpful. Create a dummy EditText at the top of your layout then callmyDummyEditText.requestFocus()inonCreate()<EditText android:id=""@+id/dummyEditTextFocus"" \nandroid:layout_width=""0px""\nandroid:layout_height=""0px"" />That seems to behave as I expect. No need to handle configuration changes, etc. I needed this for an Activity with a lengthy TextView (instructions).ShareImprove this answerFolloweditedJul 25, 2022 at 11:58Ramesh R7,05944 gold badges2525 silver badges3939 bronze badgesansweredFeb 13, 2011 at 1:58JimJim18911 silver badge22 bronze badges\n\nYeah, I did the same thing - create a \'dummy\' linear layout which gets the initial focus. Furthermore, I set the \'next\' focus IDs so the user can\'t focus it anymore after scrolling once:<LinearLayout \'dummy\'>\n<EditText et>\n\ndummy.setNextFocusDownId(et.getId());\n \ndummy.setNextFocusUpId(et.getId());\n \net.setNextFocusUpId(et.getId());a lot of work just to get rid of focus on a view.ThanksShareImprove this answerFolloweditedJul 25, 2022 at 11:54Ramesh R7,05944 gold badges2525 silver badges3939 bronze badgesansweredOct 23, 2009 at 14:23markmark1,72733 gold badges1414 silver badges1414 bronze badges\n\nFor me, what worked on all devices is this:<!-- fake first focusable view, to allow stealing the focus to itself when clearing the focus from others -->\n\n    <View\n    android:layout_width=""0px""\n    android:layout_height=""0px""\n    android:focusable=""true""\n    android:focusableInTouchMode=""true"" />Just put this as a view before the problematic focused view, and that\'s it.ShareImprove this answerFollowansweredMay 14, 2014 at 8:02android developerandroid developer116k157157 gold badges764764 silver badges1.3k1.3k bronze badges\n\n<TextView\n    android:id=""@+id/textView01""\n    android:layout_width=""fill_parent""\n    android:layout_height=""wrap_content""\n    android:layout_weight=""1""\n    android:singleLine=""true""\n    android:ellipsize=""marquee""\n    android:marqueeRepeatLimit=""marquee_forever""\n    android:focusable=""true""\n    android:focusableInTouchMode=""true""\n    style=""@android:style/Widget.EditText""/>ShareImprove this answerFolloweditedJul 25, 2022 at 11:41Ramesh R7,05944 gold badges2525 silver badges3939 bronze badgesansweredFeb 14, 2012 at 4:56atulatul14911 silver badge22 bronze badges\n\nThe simplest thing I did is to set focus on another view in onCreate:myView.setFocusableInTouchMode(true);\nmyView.requestFocus();This stopped the soft keyboard from coming up and there was no cursor flashing in the EditText.ShareImprove this answerFolloweditedJul 25, 2022 at 11:56Ramesh R7,05944 gold badges2525 silver badges3939 bronze badgesansweredJan 3, 2013 at 6:57LumisLumis21.6k88 gold badges6464 silver badges6868 bronze badges\n\nThis is the perfect and easiest solution. I always use this in my app.getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_HIDDEN);ShareImprove this answerFolloweditedJul 25, 2022 at 11:51Ramesh R7,05944 gold badges2525 silver badges3939 bronze badgesansweredMar 31, 2015 at 9:27user4728480user4728480\n\nWrite this code inside theManifestfile in theActivitywhere you do not want to open the keyboard.android:windowSoftInputMode=""stateHidden""Manifest file:<?xml version=""1.0"" encoding=""utf-8""?>\n<manifest xmlns:android=""http://schemas.android.com/apk/res/android""\n    package=""com.example.project""\n    android:versionCode=""1""\n    android:versionName=""1.0"" >\n\n    <uses-sdk\n        android:minSdkVersion=""8""\n        android:targetSdkVersion=""24"" />\n\n    <application\n        android:allowBackup=""true""\n        android:icon=""@drawable/ic_launcher""\n        android:label=""@string/app_name""\n        android:theme=""@style/AppTheme"" >\n         <activity\n            android:name="".Splash""\n            android:label=""@string/app_name"" >\n            <intent-filter>\n                <action android:name=""android.intent.action.MAIN"" />\n\n                <category android:name=""android.intent.category.LAUNCHER"" />\n            </intent-filter>\n        </activity>\n        <activity\n            android:name="".Login""\n            **android:windowSoftInputMode=""stateHidden""**\n            android:label=""@string/app_name"" >\n        </activity>\n \n    </application>\n\n</manifest>ShareImprove this answerFolloweditedJul 25, 2022 at 11:42Ramesh R7,05944 gold badges2525 silver badges3939 bronze badgesansweredSep 22, 2016 at 14:04Tarit RayTarit Ray9741212 silver badges2424 bronze badges\n\nThe easiest way to hide the keyboard is using setSoftInputModegetWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_HIDDEN);or you can use InputMethodManager and hide the keyboard like this.InputMethodManager imm = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\nimm.hideSoftInputFromWindow(myEditText.getWindowToken(), 0);ShareImprove this answerFolloweditedJul 25, 2022 at 11:39Ramesh R7,05944 gold badges2525 silver badges3939 bronze badgesansweredSep 11, 2017 at 10:21Sharath kumarSharath kumar4,11411 gold badge1414 silver badges2020 bronze badges\n\nAtonCreateof your Activity, just add useclearFocus()on your EditText element.\nFor example,edittext = (EditText) findViewById(R.id.edittext);\nedittext.clearFocus();And if you want to divert the focus to another element, userequestFocus()on that.\nFor example,button = (Button) findViewById(R.id.button);\nbutton.requestFocus();ShareImprove this answerFolloweditedJul 25, 2022 at 11:55Ramesh R7,05944 gold badges2525 silver badges3939 bronze badgesansweredMay 23, 2013 at 10:42Compaq LE2202xCompaq LE2202x2,2961010 gold badges4747 silver badges6868 bronze badges'}","{'title': 'Set cellpadding and cellspacing in CSS?', 'question': 'In an HTML table, thecellpaddingandcellspacingcan be set like this:<table cellspacing=""1"" cellpadding=""1"">How can the same be accomplished using CSS?htmlcsshtml-tablealignmentShareImprove this questionFolloweditedJun 6, 2018 at 19:40lat9452111 gold badge55 silver badges2020 bronze badgesaskedDec 4, 2008 at 8:45kokoskokos43.4k55 gold badges3636 silver badges3232 bronze badges', 'answers': 'BasicsFor controlling ""cellpadding"" in CSS, you can simply usepaddingon table cells. E.g. for 10px of ""cellpadding"":td, th { /* table cells */\n    padding: 10px;\n}For ""cellspacing"", you can apply theborder-spacingCSS property to your table. E.g. for 10px of ""cellspacing"":table { \n    border-spacing: 10px;\n    border-collapse: separate;\n}This property will even allow separate horizontal and vertical spacing, something you couldn\'t do with old-school ""cellspacing"".Issues in IE ≤  7This will work in almost all popular browsers except for Internet\xa0Explorer up through Internet\xa0Explorer\xa07, where you\'re almost out of luck. I say ""almost"" because these browsers still support theborder-collapseproperty, which merges the borders of adjoining table cells. If you\'re trying to eliminate cellspacing (that is,cellspacing=""0"") thenborder-collapse:collapseshould have the same effect: no space between table cells. This support is buggy, though, as it does not override an existingcellspacingHTML attribute on the table element.In short: for non-Internet\xa0Explorer 5-7 browsers,border-spacinghandles you. For Internet\xa0Explorer, if your situation is just right (you want 0 cellspacing and your table doesn\'t have it defined already), you can useborder-collapse:collapse.table { \n    border-spacing: 0;\n    border-collapse: collapse;\n}Note: For a great overview of CSS properties that one can apply to tables and for which browsers, see thisfantastic Quirksmode page.ShareImprove this answerFolloweditedFeb 28 at 14:11Crissov1,0291212 silver badges1717 bronze badgesansweredJul 9, 2010 at 2:34Eric NguyenEric Nguyen40.5k44 gold badges2626 silver badges3232 bronze badges\n\nDefaultThe default behavior of the browser is equivalent to:table  {border-collapse: collapse;}\ntd, th {padding: 0px;}CellpaddingSets the amount of space between the contents of the cell and the cell walltable  {border-collapse: collapse;}\ntd, th {padding: 6px;}CellspacingControls the space between table cellstable  {border-spacing: 2px;}\ntd, th {padding: 0px;}Bothtable  {border-spacing: 2px;}\ntd, th {padding: 6px;}Both (special)table  {border-spacing: 8px 2px;}\ntd, th {padding: 6px;}Note:If there isborder-spacingset, it indicatesborder-collapseproperty of the table isseparate.Try it yourself!Hereyou can find the old HTML way of achieving this.ShareImprove this answerFolloweditedFeb 28 at 11:04Harrison2,1181212 gold badges1717 silver badges2828 bronze badgesansweredJun 12, 2012 at 10:24user669677user669677\n\ntable\n{\n    border-collapse: collapse; /* \'cellspacing\' equivalent */\n}\n\ntable td, table th\n{\n    padding: 0; /* \'cellpadding\' equivalent */\n}ShareImprove this answerFolloweditedJul 23, 2013 at 20:46Hemerson Varela25.2k1818 gold badges7171 silver badges6969 bronze badgesansweredAug 24, 2009 at 15:17PupPup10.4k66 gold badges4646 silver badges6969 bronze badges\n\nSetting margins on table cells doesn\'t really have any effect as far as I know. The true CSS equivalent forcellspacingisborder-spacing- but it doesn\'t work in Internet\xa0Explorer.You can useborder-collapse: collapseto reliably set cell spacing to 0 as mentioned, but for any other value I think the only cross-browser way is to keep using thecellspacingattribute.ShareImprove this answerFolloweditedAug 2, 2013 at 20:34Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredDec 4, 2008 at 9:18Will PrescottWill Prescott4,05322 gold badges1818 silver badges1515 bronze badges\n\nThis hack works for Internet\xa0Explorer\xa06 and later,Google Chrome, Firefox, andOpera:table {\n    border-collapse: separate;\n    border-spacing: 10px; /* cellspacing */\n    *border-collapse: expression(\'separate\', cellSpacing = \'10px\');\n}\n\ntable td, table th {\n    padding: 10px; /* cellpadding */\n}The*declaration is for Internet\xa0Explorer 6 and 7, and other browsers will properly ignore it.expression(\'separate\', cellSpacing = \'10px\')returns\'separate\', but both statements are run, as in JavaScript you can pass more arguments than expected and all of them will be evaluated.ShareImprove this answerFolloweditedOct 29, 2013 at 17:17James Donnelly128k3535 gold badges212212 silver badges222222 bronze badgesansweredDec 5, 2011 at 4:30Vitalii FedorenkoVitalii Fedorenko113k2929 gold badges150150 silver badges111111 bronze badges\n\nFor those who want a non-zero cellspacing value, the following CSS worked for me, but I\'m only able to test it in Firefox.See theQuirksmodelinkposted elsewherefor compatibility details. It seems it may not work with older Internet\xa0Explorer versions.table {\n    border-collapse: separate;\n    border-spacing: 2px;\n}ShareImprove this answerFolloweditedApr 7, 2019 at 9:55Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredAug 20, 2011 at 3:32MalvineousMalvineous26.7k1919 gold badges122122 silver badges158158 bronze badges\n\nThe simple solution to this problem is:table\n{\n    border: 1px solid #000000;\n    border-collapse: collapse;\n    border-spacing: 0px;\n}\ntable td\n{\n    padding: 8px 8px;\n}ShareImprove this answerFolloweditedJul 23, 2013 at 20:45Hemerson Varela25.2k1818 gold badges7171 silver badges6969 bronze badgesansweredDec 8, 2011 at 16:04George FilippakosGeorge Filippakos16.5k1515 gold badges8282 silver badges9393 bronze badges\n\nAlso, if you wantcellspacing=""0"", don\'t forget to addborder-collapse: collapsein yourtable\'s stylesheet.ShareImprove this answerFollowansweredDec 4, 2008 at 9:06matmat13.3k55 gold badges4343 silver badges4545 bronze badges\n\nWrap the contents of the cell with a div and you can do anything you want, but you have to wrap every cell in a column to get a uniform effect. For example, to just get wider left & right margins:So the CSS will be,div.cellwidener {\r\n  margin: 0px 15px 0px 15px;\r\n}\r\ntd.tight {\r\n  padding: 0px;\r\n}<table border=""0"">\r\n  <tr>\r\n    <td class=""tight"">\r\n      <div class=""cellwidener"">My content</div>\r\n    </td>\r\n  </tr>\r\n</table>Yes, it\'s a hassle. Yes, it works with Internet\xa0Explorer. In fact, I\'ve only tested this with Internet\xa0Explorer, because that\'s all we\'re allowed to use at work.ShareImprove this answerFolloweditedApr 7, 2019 at 9:58Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJun 19, 2012 at 14:57Robert WhiteRobert White71166 silver badges1212 bronze badges\n\nThis style is forfull reset for tables-cellpadding,cellspacingandborders.I had this style in my reset.css file:table{\n    border:0;          /* Replace border */\n    border-spacing: 0px; /* Replace cellspacing */\n    border-collapse: collapse; /* Patch for Internet Explorer 6 and Internet Explorer 7 */\n}\ntable td{\n    padding: 0px; /* Replace cellpadding */\n}ShareImprove this answerFolloweditedApr 7, 2019 at 10:01Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredApr 28, 2014 at 15:08Elad ShechterElad Shechter4,01511 gold badge2323 silver badges2222 bronze badges\n\nTBH. For all the fannying around with CSS you might as well just usecellpadding=""0""cellspacing=""0""since they are not deprecated...Anyone else suggesting margins on<td>\'s obviously has not tried this.ShareImprove this answerFolloweditedOct 15, 2013 at 23:54Josh Crozier239k5656 gold badges399399 silver badges311311 bronze badgesansweredFeb 26, 2010 at 11:25correctorcorrector32522 silver badges22 bronze badges\n\nSimply use CSS padding rules with table data:td { \n    padding: 20px;\n}And for border spacing:table { \n    border-spacing: 1px;\n    border-collapse: collapse;\n}However, it can create problems in older version of browsers like Internet\xa0Explorer because of the diff implementation of the box model.ShareImprove this answerFolloweditedJul 2, 2014 at 20:32Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMar 15, 2014 at 22:33Suraj RawatSuraj Rawat3,7352424 silver badges3333 bronze badges\n\nFrom what I understand from the W3C classifications is that<table>s are meant for displaying data \'only\'.Based on that I found it a lot easier to create a<div>with the backgrounds and all that and have a table with data floating over it usingposition: absolute;andbackground: transparent;...It works on Chrome, Internet\xa0Explorer (6 and later) and Mozilla Firefox (2 and later).Margins are used (or meant anyways) to create a spacer between container elements, like<table>,<div>and<form>, not<tr>,<td>,<span>or<input>. Using it for anything other than container elements will keep you busy adjusting your website for future browser updates.ShareImprove this answerFolloweditedApr 7, 2019 at 9:59Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJul 2, 2012 at 13:43RolanDecoyRolanDecoy19511 silver badge33 bronze badges\n\nCSS:selector{\n    padding:0 0 10px 0; // Top left bottom right \n}ShareImprove this answerFolloweditedJul 2, 2014 at 20:31Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredFeb 27, 2014 at 9:03Suraj RawatSuraj Rawat3,7352424 silver badges3333 bronze badges\n\nYou can easily set padding inside the table cells using the CSS padding property. It is a valid way to produce the same effect as the table\'s cellpadding attribute.table,\r\nth,\r\ntd {\r\n  border: 1px solid #666;\r\n}\r\n\r\ntable th,\r\ntable td {\r\n  padding: 10px;\r\n  /* Apply cell padding */\r\n}<!DOCTYPE html>\r\n<html lang=""en"">\r\n<head>\r\n\r\n  <meta charset=""utf-8"">\r\n  <title>Set Cellpadding in CSS</title>\r\n\r\n</head>\r\n\r\n<body>\r\n\r\n  <table>\r\n    <thead>\r\n      <tr>\r\n        <th>Row</th>\r\n        <th>First Name</th>\r\n        <th>Last Name</th>\r\n        <th>Email</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr>\r\n        <td>1</td>\r\n        <td>Clark</td>\r\n        <td>Kent</td>\r\n        <td>[email\xa0protected]</td>\r\n      </tr>\r\n      <tr>\r\n        <td>2</td>\r\n        <td>Peter</td>\r\n        <td>Parker</td>\r\n        <td>[email\xa0protected]</td>\r\n      </tr>\r\n      <tr>\r\n        <td>3</td>\r\n        <td>John</td>\r\n        <td>Rambo</td>\r\n        <td>[email\xa0protected]</td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n\r\n</body>\r\n</html>Similarly, you can use the CSS border-spacing property to apply the spacing between adjacent table cell borders like the cellspacing attribute. However, in order to work border-spacing the value of border-collapse property muse be separate, which is default.table {\r\n  border-collapse: separate;\r\n  border-spacing: 10px;\r\n  /* Apply cell spacing */\r\n}\r\n\r\ntable,\r\nth,\r\ntd {\r\n  border: 1px solid #666;\r\n}\r\n\r\ntable th,\r\ntable td {\r\n  padding: 5px;\r\n  /* Apply cell padding */\r\n}<!DOCTYPE html>\r\n<html lang=""en"">\r\n<head>\r\n\r\n  <meta charset=""utf-8"">\r\n  <title>Set Cellspacing in CSS</title>\r\n\r\n</head>\r\n\r\n<body>\r\n\r\n  <table>\r\n    <thead>\r\n      <tr>\r\n        <th>Row</th>\r\n        <th>First Name</th>\r\n        <th>Last Name</th>\r\n        <th>Email</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr>\r\n        <td>1</td>\r\n        <td>Clark</td>\r\n        <td>Kent</td>\r\n        <td>[email\xa0protected]</td>\r\n      </tr>\r\n      <tr>\r\n        <td>2</td>\r\n        <td>Peter</td>\r\n        <td>Parker</td>\r\n        <td>[email\xa0protected]</td>\r\n      </tr>\r\n      <tr>\r\n        <td>3</td>\r\n        <td>John</td>\r\n        <td>Rambo</td>\r\n        <td>[email\xa0protected]</td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n\r\n</body>\r\n</html>ShareImprove this answerFolloweditedApr 7, 2019 at 10:09Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredAug 2, 2017 at 9:52Rafiqul IslamRafiqul Islam9411111 silver badges1414 bronze badges\n\nTry this:table {\n    border-collapse: separate;\n    border-spacing: 10px;\n}\ntable td, table th {\n    padding: 10px;\n}Or try this:table {\n    border-collapse: collapse;\n}\ntable td, table th {\n    padding: 10px;\n}ShareImprove this answerFolloweditedOct 29, 2013 at 17:17James Donnelly128k3535 gold badges212212 silver badges222222 bronze badgesansweredJun 14, 2013 at 5:51Falguni PanchalFalguni Panchal8,93133 gold badges2828 silver badges3333 bronze badges\n\nI used!importantafter the border-collapse likeborder-collapse: collapse !important;and it works for me in IE7. It seems to override the cellspacing attribute.ShareImprove this answerFolloweditedOct 29, 2013 at 17:17James Donnelly128k3535 gold badges212212 silver badges222222 bronze badgesansweredFeb 14, 2013 at 15:41Håkan NilssonHåkan Nilsson15511 silver badge44 bronze badges\n\nSay that we want to assign a 10px ""cellpadding"" and a 15px ""cellspacing"" to our table, in a HTML5-compliant way. I will show here two methods giving really similar outputs.Two different sets of CSS properties apply to the same HTML markup for the table, but with opposite concepts:the first one uses the default value forborder-collapse(separate) and usesborder-spacingto provide the cellspacing,the second one switchesborder-collapsetocollapseand uses theborderproperty as the cellspacing.In both cases, the cellpadding is achieved by assigningpadding:10pxto thetds and, in both cases, thebackground-colorassigned to them is only for the sake of a clearer demo.First method:table{border-spacing:15px}\ntd{background-color:#00eb55;padding:10px;border:0}<table>\n<tr>\n<td>Header 1</td><td>Header 2</td>\n</tr>\n<tr>\n<td>1</td><td>2</td>\n</tr>\n<tr>\n<td>3</td><td>4</td>\n</tr>\n</table>Second method:table{border-collapse:collapse}\ntd{background-color:#00eb55;padding:10px;border:15px solid #fff}<table>\n<tr>\n<td>Header 1</td><td>Header 2</td>\n</tr>\n<tr>\n<td>1</td><td>2</td>\n</tr>\n<tr>\n<td>3</td><td>4</td>\n</tr>\n</table>ShareImprove this answerFollowansweredFeb 27, 2021 at 19:06MattAllegroMattAllegro7,09955 gold badges4949 silver badges5656 bronze badges\n\ntd {\n    padding: npx; /* For cellpadding */\n    margin: npx; /* For cellspacing */\n    border-collapse: collapse; /* For showing borders in a better shape. */\n}Ifmargindidn\'t work, try to setdisplayoftrtoblockand then margin will work.ShareImprove this answerFolloweditedApr 7, 2019 at 10:02Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredDec 24, 2014 at 13:33Majid SadrMajid Sadr1,0411010 silver badges1919 bronze badges'}","{'title': 'How do I detect a click outside an element?', 'question': 'I have some HTML menus, which I show completely when a user clicks on the head of these menus. I would like to hide these elements when the user clicks outside the menus\' area.Is something like this possible with jQuery?$(""#menuscontainer"").clickOutsideThisElement(function() {\n    // Hide the menus\n});javascriptjqueryclickShareImprove this questionFolloweditedJan 4, 2020 at 19:07community wiki6 revs, 3 users 50%Sergio del Amo', 'answers': 'Note: UsingstopPropagationis something that should be avoided as it breaks normal event flow in the DOM. Seethis CSS Tricks articlefor more information. Consider usingthis methodinstead.Attach a click event to the document body which closes the window. Attach a separate click event to the container which stops propagation to the document body.$(window).click(function() {\n  //Hide the menus if visible\n});\n\n$(\'#menucontainer\').click(function(event){\n  event.stopPropagation();\n});ShareImprove this answerFolloweditedApr 6, 2021 at 8:10community wiki11 revs, 9 users 43%Eran Galperin\n\nYou can listen for aclickevent ondocumentand then make sure#menucontaineris not an ancestor or the target of the clicked element by using.closest().If it is not, then the clicked element is outside of the#menucontainerand you can safely hide it.$(document).click(function(event) { \n  var $target = $(event.target);\n  if(!$target.closest(\'#menucontainer\').length && \n  $(\'#menucontainer\').is("":visible"")) {\n    $(\'#menucontainer\').hide();\n  }        \n});Edit – 2017-06-23You can also clean up after the event listener if you plan to dismiss the menu and want to stop listening for events. This function will clean up only the newly created listener, preserving any other click listeners ondocument. With ES2015 syntax:export function hideOnClickOutside(selector) {\n  const outsideClickListener = (event) => {\n    const $target = $(event.target);\n    if (!$target.closest(selector).length && $(selector).is(\':visible\')) {\n        $(selector).hide();\n        removeClickListener();\n    }\n  }\n\n  const removeClickListener = () => {\n    document.removeEventListener(\'click\', outsideClickListener);\n  }\n\n  document.addEventListener(\'click\', outsideClickListener);\n}Edit – 2018-03-11For those who don\'t want to use jQuery. Here\'s the above code in plain vanillaJS (ECMAScript6).function hideOnClickOutside(element) {\n    const outsideClickListener = event => {\n        if (!element.contains(event.target) && isVisible(element)) { // or use: event.target.closest(selector) === null\n          element.style.display = \'none\';\n          removeClickListener();\n        }\n    }\n\n    const removeClickListener = () => {\n        document.removeEventListener(\'click\', outsideClickListener);\n    }\n\n    document.addEventListener(\'click\', outsideClickListener);\n}\n\nconst isVisible = elem => !!elem && !!( elem.offsetWidth || elem.offsetHeight || elem.getClientRects().length ); // source (2018-03-11): https://github.com/jquery/jquery/blob/master/src/css/hiddenVisibleSelectors.jsNOTE:This is based on Alex comment to just use!element.contains(event.target)instead of the jQuery part.Butelement.closest()is now also available in all major browsers (the W3C version differs a bit from the jQuery one).\nPolyfills can be found here:Element.closest()Edit – 2020-05-21In the case where you want the user to be able to click-and-drag inside the element, then release the mouse outside the element, without closing the element:...\n      let lastMouseDownX = 0;\n      let lastMouseDownY = 0;\n      let lastMouseDownWasOutside = false;\n\n      const mouseDownListener = (event: MouseEvent) => {\n        lastMouseDownX = event.offsetX;\n        lastMouseDownY = event.offsetY;\n        lastMouseDownWasOutside = !$(event.target).closest(element).length;\n      }\n      document.addEventListener(\'mousedown\', mouseDownListener);And inoutsideClickListener:const outsideClickListener = event => {\n        const deltaX = event.offsetX - lastMouseDownX;\n        const deltaY = event.offsetY - lastMouseDownY;\n        const distSq = (deltaX * deltaX) + (deltaY * deltaY);\n        const isDrag = distSq > 3;\n        const isDragException = isDrag && !lastMouseDownWasOutside;\n\n        if (!element.contains(event.target) && isVisible(element) && !isDragException) { // or use: event.target.closest(selector) === null\n          element.style.display = \'none\';\n          removeClickListener();\n          document.removeEventListener(\'mousedown\', mouseDownListener); // Or add this line to removeClickListener()\n        }\n    }ShareImprove this answerFolloweditedApr 24, 2022 at 15:02community wiki25 revs, 21 users 25%Art\n\nHow to detect a click outside an element?The reason that this question is so popular and has so many answers is that it is deceptively complex. After almost eight years and dozens of answers, I am genuinely surprised to see how little care has been given to accessibility.I would like to hide these elements when the user clicks outside the menus\' area.This is a noble cause and is theactualissue. The title of the question—which is what most answers appear to attempt to address—contains an unfortunate red herring.Hint: it\'s the word""click""!You don\'t actually want to bind click handlers.If you\'re binding click handlers to close the dialog, you\'ve already failed. The reason you\'ve failed is that not everyone triggersclickevents. Users not using a mouse will be able to escape your dialog (and your pop-up menu is arguably a type of dialog) by pressingTab, and they then won\'t be able to read the content behind the dialog without subsequently triggering aclickevent.So let\'s rephrase the question.How does one close a dialog when a user is finished with it?This is the goal. Unfortunately, now we need to bind theuserisfinishedwiththedialogevent, and that binding isn\'t so straightforward.So how can we detect that a user has finished using a dialog?focusouteventA good start is to determine if focus has left the dialog.Hint: be careful with theblurevent,blurdoesn\'t propagate if the event was bound to the bubbling phase!jQuery\'sfocusoutwill do just fine. If you can\'t use jQuery, then you can useblurduring the capturing phase:element.addEventListener(\'blur\', ..., true);\n//                       use capture: ^^^^Also, for many dialogs you\'ll need to allow the container to gain focus. Addtabindex=""-1""to allow the dialog to receive focus dynamically without otherwise interrupting the tabbing flow.$(\'a\').on(\'click\', function () {\n  $(this.hash).toggleClass(\'active\').focus();\n});\n\n$(\'div\').on(\'focusout\', function () {\n  $(this).removeClass(\'active\');\n});div {\n  display: none;\n}\n.active {\n  display: block;\n}<script src=""https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js""></script>\n<a href=""#example"">Example</a>\n<div id=""example"" tabindex=""-1"">\n  Lorem ipsum <a href=""http://example.com"">dolor</a> sit amet.\n</div>If you play with that demo for more than a minute you should quickly start seeing issues.The first is that the link in the dialog isn\'t clickable. Attempting to click on it or tab to it will lead to the dialog closing before the interaction takes place. This is because focusing the inner element triggers afocusoutevent before triggering afocusinevent again.The fix is to queue the state change on the event loop. This can be done by usingsetImmediate(...), orsetTimeout(..., 0)for browsers that don\'t supportsetImmediate. Once queued it can be cancelled by a subsequentfocusin:$(\'.submenu\').on({\n  focusout: function (e) {\n    $(this).data(\'submenuTimer\', setTimeout(function () {\n      $(this).removeClass(\'submenu--active\');\n    }.bind(this), 0));\n  },\n  focusin: function (e) {\n    clearTimeout($(this).data(\'submenuTimer\'));\n  }\n});$(\'a\').on(\'click\', function () {\n  $(this.hash).toggleClass(\'active\').focus();\n});\n\n$(\'div\').on({\n  focusout: function () {\n    $(this).data(\'timer\', setTimeout(function () {\n      $(this).removeClass(\'active\');\n    }.bind(this), 0));\n  },\n  focusin: function () {\n    clearTimeout($(this).data(\'timer\'));\n  }\n});div {\n  display: none;\n}\n.active {\n  display: block;\n}<script src=""https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js""></script>\n<a href=""#example"">Example</a>\n<div id=""example"" tabindex=""-1"">\n  Lorem ipsum <a href=""http://example.com"">dolor</a> sit amet.\n</div>The second issue is that the dialog won\'t close when the link is pressed again. This is because the dialog loses focus, triggering the close behavior, after which the link click triggers the dialog to reopen.Similar to the previous issue, the focus state needs to be managed. Given that the state change has already been queued, it\'s just a matter of handling focus events on the dialog triggers:This should look familiar$(\'a\').on({\n  focusout: function () {\n    $(this.hash).data(\'timer\', setTimeout(function () {\n      $(this.hash).removeClass(\'active\');\n    }.bind(this), 0));\n  },\n  focusin: function () {\n    clearTimeout($(this.hash).data(\'timer\'));  \n  }\n});$(\'a\').on(\'click\', function () {\n  $(this.hash).toggleClass(\'active\').focus();\n});\n\n$(\'div\').on({\n  focusout: function () {\n    $(this).data(\'timer\', setTimeout(function () {\n      $(this).removeClass(\'active\');\n    }.bind(this), 0));\n  },\n  focusin: function () {\n    clearTimeout($(this).data(\'timer\'));\n  }\n});\n\n$(\'a\').on({\n  focusout: function () {\n    $(this.hash).data(\'timer\', setTimeout(function () {\n      $(this.hash).removeClass(\'active\');\n    }.bind(this), 0));\n  },\n  focusin: function () {\n    clearTimeout($(this.hash).data(\'timer\'));  \n  }\n});div {\n  display: none;\n}\n.active {\n  display: block;\n}<script src=""https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js""></script>\n<a href=""#example"">Example</a>\n<div id=""example"" tabindex=""-1"">\n  Lorem ipsum <a href=""http://example.com"">dolor</a> sit amet.\n</div>EsckeyIf you thought you were done by handling the focus states, there\'s more you can do to simplify the user experience.This is often a ""nice to have"" feature, but it\'s common that when you have a modal or popup of any sort that theEsckey will close it out.keydown: function (e) {\n  if (e.which === 27) {\n    $(this).removeClass(\'active\');\n    e.preventDefault();\n  }\n}$(\'a\').on(\'click\', function () {\n  $(this.hash).toggleClass(\'active\').focus();\n});\n\n$(\'div\').on({\n  focusout: function () {\n    $(this).data(\'timer\', setTimeout(function () {\n      $(this).removeClass(\'active\');\n    }.bind(this), 0));\n  },\n  focusin: function () {\n    clearTimeout($(this).data(\'timer\'));\n  },\n  keydown: function (e) {\n    if (e.which === 27) {\n      $(this).removeClass(\'active\');\n      e.preventDefault();\n    }\n  }\n});\n\n$(\'a\').on({\n  focusout: function () {\n    $(this.hash).data(\'timer\', setTimeout(function () {\n      $(this.hash).removeClass(\'active\');\n    }.bind(this), 0));\n  },\n  focusin: function () {\n    clearTimeout($(this.hash).data(\'timer\'));  \n  }\n});div {\n  display: none;\n}\n.active {\n  display: block;\n}<script src=""https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js""></script>\n<a href=""#example"">Example</a>\n<div id=""example"" tabindex=""-1"">\n  Lorem ipsum <a href=""http://example.com"">dolor</a> sit amet.\n</div>If you know you have focusable elements within the dialog, you won\'t need to focus the dialog directly. If you\'re building a menu, you could focus the first menu item instead.click: function (e) {\n  $(this.hash)\n    .toggleClass(\'submenu--active\')\n    .find(\'a:first\')\n    .focus();\n  e.preventDefault();\n}$(\'.menu__link\').on({\n  click: function (e) {\n    $(this.hash)\n      .toggleClass(\'submenu--active\')\n      .find(\'a:first\')\n      .focus();\n    e.preventDefault();\n  },\n  focusout: function () {\n    $(this.hash).data(\'submenuTimer\', setTimeout(function () {\n      $(this.hash).removeClass(\'submenu--active\');\n    }.bind(this), 0));\n  },\n  focusin: function () {\n    clearTimeout($(this.hash).data(\'submenuTimer\'));  \n  }\n});\n\n$(\'.submenu\').on({\n  focusout: function () {\n    $(this).data(\'submenuTimer\', setTimeout(function () {\n      $(this).removeClass(\'submenu--active\');\n    }.bind(this), 0));\n  },\n  focusin: function () {\n    clearTimeout($(this).data(\'submenuTimer\'));\n  },\n  keydown: function (e) {\n    if (e.which === 27) {\n      $(this).removeClass(\'submenu--active\');\n      e.preventDefault();\n    }\n  }\n});.menu {\n  list-style: none;\n  margin: 0;\n  padding: 0;\n}\n.menu:after {\n  clear: both;\n  content: \'\';\n  display: table;\n}\n.menu__item {\n  float: left;\n  position: relative;\n}\n\n.menu__link {\n  background-color: lightblue;\n  color: black;\n  display: block;\n  padding: 0.5em 1em;\n  text-decoration: none;\n}\n.menu__link:hover,\n.menu__link:focus {\n  background-color: black;\n  color: lightblue;\n}\n\n.submenu {\n  border: 1px solid black;\n  display: none;\n  left: 0;\n  list-style: none;\n  margin: 0;\n  padding: 0;\n  position: absolute;\n  top: 100%;\n}\n.submenu--active {\n  display: block;\n}\n\n.submenu__item {\n  width: 150px;\n}\n\n.submenu__link {\n  background-color: lightblue;\n  color: black;\n  display: block;\n  padding: 0.5em 1em;\n  text-decoration: none;\n}\n\n.submenu__link:hover,\n.submenu__link:focus {\n  background-color: black;\n  color: lightblue;\n}<script src=""https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js""></script>\n<ul class=""menu"">\n  <li class=""menu__item"">\n    <a class=""menu__link"" href=""#menu-1"">Menu 1</a>\n    <ul class=""submenu"" id=""menu-1"" tabindex=""-1"">\n      <li class=""submenu__item""><a class=""submenu__link"" href=""http://example.com/#1"">Example 1</a></li>\n      <li class=""submenu__item""><a class=""submenu__link"" href=""http://example.com/#2"">Example 2</a></li>\n      <li class=""submenu__item""><a class=""submenu__link"" href=""http://example.com/#3"">Example 3</a></li>\n      <li class=""submenu__item""><a class=""submenu__link"" href=""http://example.com/#4"">Example 4</a></li>\n    </ul>\n  </li>\n  <li class=""menu__item"">\n    <a  class=""menu__link"" href=""#menu-2"">Menu 2</a>\n    <ul class=""submenu"" id=""menu-2"" tabindex=""-1"">\n      <li class=""submenu__item""><a class=""submenu__link"" href=""http://example.com/#1"">Example 1</a></li>\n      <li class=""submenu__item""><a class=""submenu__link"" href=""http://example.com/#2"">Example 2</a></li>\n      <li class=""submenu__item""><a class=""submenu__link"" href=""http://example.com/#3"">Example 3</a></li>\n      <li class=""submenu__item""><a class=""submenu__link"" href=""http://example.com/#4"">Example 4</a></li>\n    </ul>\n  </li>\n</ul>\nlorem ipsum <a href=""http://example.com/"">dolor</a> sit amet.WAI-ARIA Roles and Other Accessibility SupportThis answer hopefully covers the basics of accessible keyboard and mouse support for this feature, but as it\'s already quite sizable I\'m going to avoid any discussion ofWAI-ARIA roles and attributes, however Ihighlyrecommend that implementers refer to the spec for details on what roles they should use and any other appropriate attributes.ShareImprove this answerFolloweditedJun 20, 2020 at 9:12community wiki7 revszzzzBov\n\nThe other solutions here didn\'t work for me so I had to use:if(!$(event.target).is(\'#foo\'))\n{\n    // hide menu\n}Edit: Plain Javascript variant (2021-03-31)I used this method to handle closing a drop down menu when clicking outside of it.First, I created a custom class name for all the elements of the component. This class name will be added to all elements that make up the menu widget.const className = `dropdown-${Date.now()}-${Math.random() * 100}`;I create a function to check for clicks and the class name of the clicked element. If clicked element does not contain the custom class name I generated above, it should set theshowflag tofalseand the menu will close.const onClickOutside = (e) => {\n  if (!e.target.className.includes(className)) {\n    show = false;\n  }\n};Then I attached the click handler to the window object.// add when widget loads\nwindow.addEventListener(""click"", onClickOutside);... and finally some housekeeping// remove listener when destroying the widget\nwindow.removeEventListener(""click"", onClickOutside);ShareImprove this answerFolloweditedMar 31, 2021 at 16:57community wiki2 revs, 2 users 77%ivan quintero\n\nIt\'s 2020 and you can useevent.composedPath()From:Event.composedPath()The composedPath() method of the Event interface returns the event’s path, which is an array of the objects on which listeners will be invoked.const target = document.querySelector(\'#myTarget\')\n\ndocument.addEventListener(\'click\', (event) => {\n  const withinBoundaries = event.composedPath().includes(target)\n\n  if (withinBoundaries) {\n    target.innerText = \'Click happened inside element\'\n  } else {\n    target.innerText = \'Click happened **OUTSIDE** element\'\n  }\n})/* Just to make it good looking. You don\'t need this */\n#myTarget {\n  margin: 50px auto;\n  width: 500px;\n  height: 500px;\n  background: gray;\n  border: 10px solid black;\n}<div id=""myTarget"">\n  Click me (or not!)\n</div>ShareImprove this answerFolloweditedFeb 7, 2023 at 20:36community wiki2 revs, 2 users 90%Cezar Augusto\n\nI have an application that works similarly to Eran\'s example, except I attach the click event to the body when I open the menu... Kinda like this:$(\'#menucontainer\').click(function(event) {\n  $(\'html\').one(\'click\',function() {\n    // Hide the menus\n  });\n\n  event.stopPropagation();\n});More information onjQuery\'sone()functionShareImprove this answerFolloweditedFeb 26, 2016 at 14:57community wiki4 revs, 4 users 93%Joe Lencioni\n\nAfter research, I have found three working solutionsFirst solution<script>\n    //The good thing about this solution is it doesn\'t stop event propagation.\n\n    var clickFlag = 0;\n    $(\'body\').on(\'click\', function () {\n        if(clickFlag == 0) {\n            console.log(\'hide element here\');\n            /* Hide element here */\n        }\n        else {\n            clickFlag=0;\n        }\n    });\n    $(\'body\').on(\'click\',\'#testDiv\', function (event) {\n        clickFlag = 1;\n        console.log(\'showed the element\');\n        /* Show the element */\n    });\n</script>Second solution<script>\n    $(\'body\').on(\'click\', function(e) {\n        if($(e.target).closest(\'#testDiv\').length == 0) {\n           /* Hide dropdown here */\n        }\n    });\n</script>Third solution<script>\n    var specifiedElement = document.getElementById(\'testDiv\');\n    document.addEventListener(\'click\', function(event) {\n        var isClickInside = specifiedElement.contains(event.target);\n        if (isClickInside) {\n          console.log(\'You clicked inside\')\n        }\n        else {\n          console.log(\'You clicked outside\')\n        }\n    });\n</script>ShareImprove this answerFolloweditedJan 23, 2023 at 15:12community wiki4 revs, 3 users 73%Rameez Rami\n\n$(""#menuscontainer"").click(function() {\n    $(this).focus();\n});\n$(""#menuscontainer"").blur(function(){\n    $(this).hide();\n});Works for me just fine.ShareImprove this answerFollowansweredNov 17, 2009 at 6:13community wikiuser212621\n\nNow there is a plugin for that:outside events(blog post)The following happens when aclickoutsidehandler (WLOG) is bound to an element:the element is added to an array which holds all elements withclickoutsidehandlersa (namespaced)clickhandler is bound to the document (if not already there)on anyclickin the document, theclickoutsideevent is triggered for those elements in that array that are not equal to or a parent of theclick-events targetadditionally, the event.target for theclickoutsideevent is set to the element the user clicked on (so you even know what the user clicked, not just that he clicked outside)So no events are stopped from propagation and additionalclickhandlers may be used ""above"" the element with the outside-handler.ShareImprove this answerFolloweditedApr 13, 2017 at 7:46community wiki2 revsWolfram\n\nThis worked for me perfectly!!$(\'html\').click(function (e) {\n    if (e.target.id == \'YOUR-DIV-ID\') {\n        //do something\n    } else {\n        //do something\n    }\n});ShareImprove this answerFolloweditedMar 4, 2014 at 14:30community wiki2 revs, 2 users 76%srinath\n\nI don\'t think what you really need is to close the menu when the user clicks outside; what you need is for the menu to close when the user clicks anywhere at all on the page. If you click on the menu, or off the menu it should close right?Finding no satisfactory answers above prompted me to writethis blog postthe other day. For the more pedantic, there are a number of gotchas to take note of:If you attach a click event handler to the body element at click time be sure to wait for the 2nd click before closing the menu, and unbinding the event. Otherwise the click event that opened the menu will bubble up to the listener that has to close the menu.If you use event.stopPropogation() on a click event, no other elements in your page can have a click-anywhere-to-close feature.Attaching a click event handler to the body element indefinitely is not a performant solutionComparing the target of the event, and its parents to the handler\'s creator assumes that what you want is to close the menu when you click off it, when what you really want is to close it when you click anywhere on the page.Listening for events on the body element will make your code more brittle. Styling as innocent as this would break it:body { margin-left:auto; margin-right: auto; width:960px;}ShareImprove this answerFolloweditedMay 19, 2011 at 7:00community wiki4 revs34m0\n\nA simple solution for the situation is:$(document).mouseup(function (e)\n{\n    var container = $(""YOUR SELECTOR""); // Give you class or ID\n    \n    if (!container.is(e.target) &&            // If the target of the click is not the desired div or section\n        container.has(e.target).length === 0) // ... nor a descendant-child of the container\n    {\n        container.hide();\n    }\n});The above script will hide thedivif outside of thedivclick event is triggered.ShareImprove this answerFolloweditedJan 28, 2023 at 1:41community wiki4 revs, 3 users 70%Jitendra Damor\n\nAs another poster said there are a lot of gotchas, especially if the element you are displaying (in this case a menu) has interactive elements.\nI\'ve found the following method to be fairly robust:$(\'#menuscontainer\').click(function(event) {\n    //your code that shows the menus fully\n\n    //now set up an event listener so that clicking anywhere outside will close the menu\n    $(\'html\').click(function(event) {\n        //check up the tree of the click target to check whether user has clicked outside of menu\n        if ($(event.target).parents(\'#menuscontainer\').length==0) {\n            // your code to hide menu\n\n            //this event listener has done its job so we can unbind it.\n            $(this).unbind(event);\n        }\n\n    })\n});ShareImprove this answerFollowansweredDec 22, 2011 at 11:59community wikibenb\n\nThere is also thefocusoutevent:var button = document.getElementById(\'button\');\nbutton.addEventListener(\'click\', function(e){\n  e.target.style.backgroundColor = \'green\';\n});\nbutton.addEventListener(\'focusout\', function(e){\n  e.target.style.backgroundColor = \'\';\n});<!DOCTYPE html>\n<html>\n<head>\n  <meta charset=""utf-8"">\n</head>\n<body>\n  <button id=""button"">Click</button>\n</body>\n</html>ShareImprove this answerFolloweditedMar 27, 2023 at 22:28community wiki3 revs, 3 users 89%Jovanni G\n\nCheck the window click event target (it should propagate to the window, as long as it\'s not captured anywhere else), and ensure that it\'s not any of the menu elements.  If it\'s not, then you\'re outside your menu.Or check the position of the click, and see if it\'s contained within the menu area.ShareImprove this answerFollowansweredSep 30, 2008 at 13:20community wikiChris MacDonald\n\nSolution1Instead of using event.stopPropagation() which can have some side affects, just define a simple flag variable and add oneifcondition. I tested this and worked properly without any side affects of stopPropagation:var flag = ""1"";\n$(\'#menucontainer\').click(function(event){\n    flag = ""0""; // flag 0 means click happened in the area where we should not do any action\n});\n\n$(\'html\').click(function() {\n    if(flag != ""0""){\n        // Hide the menus if visible\n    }\n    else {\n        flag = ""1"";\n    }\n});Solution2With just a simpleifcondition:$(document).on(\'click\', function(event){\n    var container = $(""#menucontainer"");\n    if (!container.is(event.target) &&            // If the target of the click isn\'t the container...\n        container.has(event.target).length === 0) // ... nor a descendant of the container\n    {\n        // Do whatever you want to do when click is outside the element\n    }\n});ShareImprove this answerFolloweditedOct 30, 2016 at 16:51community wiki3 revs, 2 users 73%Iman Sedighi\n\n2020 solution using native JS APIclosestmethod.document.addEventListener(\'click\', ({ target }) => {\n  if (!target.closest(\'#menupop\')) {\n    document.querySelector(\'#menupop\').style.display = \'none\'\n  }\n})#menupop {\n    width: 300px;\n    height: 300px;\n    background-color: red;\n}<div id=""menupop"">\nclicking outside will close this\n</div>ShareImprove this answerFolloweditedJun 28, 2022 at 1:39community wiki3 revs, 3 users 51%Jesse Reza Khorasanee\n\nI\'ve had success with something like this:var $menuscontainer = ...;\n\n$(\'#trigger\').click(function() {\n  $menuscontainer.show();\n\n  $(\'body\').click(function(event) {\n    var $target = $(event.target);\n\n    if ($target.parents(\'#menuscontainer\').length == 0) {\n      $menuscontainer.hide();\n    }\n  });\n});The logic is: when#menuscontaineris shown, bind a click handler to the body that hides#menuscontaineronly if the target (of the click) isn\'t a child of it.ShareImprove this answerFolloweditedAug 3, 2018 at 7:42community wiki2 revs, 2 users 97%Chu Yeow\n\nUsefocusoutfor accessibilityThere is one answer here that says (quite correctly) that focusing onclickevents is an accessibility problem since we want to cater for keyboard users. Thefocusoutevent is the correct thing to use here, but it can be done much more simply than in the other answer (and in pure JavaScript too):A simpler way of doing it:The \'problem\' with usingfocusoutis that if an element inside your dialog/modal/menu loses focus, to something also \'inside\', the event will still get fired. We can check that this isn\'t the case by looking atevent.relatedTarget(which tells us what element will have gained focus).dialog = document.getElementById(""dialogElement"")\n\ndialog.addEventListener(""focusout"", function (event) {\n    if (\n        // We are still inside the dialog so don\'t close\n        dialog.contains(event.relatedTarget) ||\n        // We have switched to another tab so probably don\'t want to close\n        !document.hasFocus()\n    ) {\n        return;\n    }\n    dialog.close();  // Or whatever logic you want to use to close\n});There is one slight gotcha to the above, which is thatrelatedTargetmay benull. This is fine if the user is clicking outside the dialog, but will be a problem if unless the user clicks inside the dialog and the dialog happens to not be focusable. To fix this you have to make sure to settabIndex=0so your dialog is focusable.ShareImprove this answerFolloweditedFeb 7, 2023 at 21:27community wiki2 revs, 2 users 70%tim-mccurrach\n\nThe event has a property called event.path of the element which is a""static ordered list of all its ancestors in tree order"". To check if an event originated from a specific DOM element or one of its children, just check the path for that specific DOM element. It can also be used to check multiple elements by logicallyORing the element check in thesomefunction.$(""body"").click(function() {\n  target = document.getElementById(""main"");\n  flag = event.path.some(function(el, i, arr) {\n    return (el == target)\n  })\n  if (flag) {\n    console.log(""Inside"")\n  } else {\n    console.log(""Outside"")\n  }\n});#main {\n  display: inline-block;\n  background: yellow;\n}<script src=""https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js""></script>\n<div id=""main"">\n  <ul>\n    <li>Test-Main</li>\n    <li>Test-Main</li>\n    <li>Test-Main</li>\n    <li>Test-Main</li>\n    <li>Test-Main</li>\n  </ul>\n</div>\n<div id=""main2"">\n  Outside Main\n</div>So for your case it should be$(""body"").click(function() {\n  target = $(""#menuscontainer"")[0];\n  flag = event.path.some(function(el, i, arr) {\n    return (el == target)\n  });\n  if (!flag) {\n    // Hide the menus\n  }\n});ShareImprove this answerFolloweditedMar 27, 2023 at 23:50community wiki5 revs, 3 users 96%Dan Philip Bejoy\n\nAs a variant:var $menu = $(\'#menucontainer\');\n$(document).on(\'click\', function (e) {\n\n    // If element is opened and click target is outside it, hide it\n    if ($menu.is(\':visible\') && !$menu.is(e.target) && !$menu.has(e.target).length) {\n        $menu.hide();\n    }\n});It has no problem withstopping event propagationand better supports multiple menus on the same page where clicking on a second menu while a first is open will leave the first open in the stopPropagation solution.ShareImprove this answerFolloweditedOct 30, 2016 at 16:43community wiki2 revs, 2 users 76%Bohdan Lyzanets\n\nI found this method in some jQuery calendar plugin.function ClickOutsideCheck(e)\n{\n  var el = e.target;\n  var popup = $(\'.popup:visible\')[0];\n  if (popup==undefined)\n    return true;\n\n  while (true){\n    if (el == popup ) {\n      return true;\n    } else if (el == document) {\n      $("".popup"").hide();\n      return false;\n    } else {\n      el = $(el).parent()[0];\n    }\n  }\n};\n\n$(document).bind(\'mousedown.popup\', ClickOutsideCheck);ShareImprove this answerFolloweditedOct 30, 2016 at 16:15community wiki2 revs, 2 users 90%nazar kuliyev\n\nHere is the vanilla JavaScript solution for future viewers.Upon clicking any element within the document, if the clicked element\'s id is toggled, or the hidden element is not hidden and the hidden element does not contain the clicked element, toggle the element.(function () {\n    ""use strict"";\n    var hidden = document.getElementById(\'hidden\');\n    document.addEventListener(\'click\', function (e) {\n        if (e.target.id == \'toggle\' || (hidden.style.display != \'none\' && !hidden.contains(e.target))) hidden.style.display = hidden.style.display == \'none\' ? \'block\' : \'none\';\n    }, false);\n})();(function () {\r\n    ""use strict"";\r\n    var hidden = document.getElementById(\'hidden\');\r\n    document.addEventListener(\'click\', function (e) {\r\n        if (e.target.id == \'toggle\' || (hidden.style.display != \'none\' && !hidden.contains(e.target))) hidden.style.display = hidden.style.display == \'none\' ? \'block\' : \'none\';\r\n    }, false);\r\n})();<a href=""javascript:void(0)"" id=""toggle"">Toggle Hidden Div</a>\r\n<div id=""hidden"" style=""display: none;"">This content is normally hidden. click anywhere other than this content to make me disappear</div>If you are going to have multiple toggles on the same page you can use something like this:Add the class namehiddento the collapsible item.Upon document click, close all hidden elements which do not contain the clicked element and are not hiddenIf the clicked element is a toggle, toggle the specified element.(function () {\r\n    ""use strict"";\r\n    var hiddenItems = document.getElementsByClassName(\'hidden\'), hidden;\r\n    document.addEventListener(\'click\', function (e) {\r\n        for (var i = 0; hidden = hiddenItems[i]; i++) {\r\n            if (!hidden.contains(e.target) && hidden.style.display != \'none\')\r\n                hidden.style.display = \'none\';\r\n        }\r\n        if (e.target.getAttribute(\'data-toggle\')) {\r\n            var toggle = document.querySelector(e.target.getAttribute(\'data-toggle\'));\r\n            toggle.style.display = toggle.style.display == \'none\' ? \'block\' : \'none\';\r\n        }\r\n    }, false);\r\n})();<a href=""javascript:void(0)"" data-toggle=""#hidden1"">Toggle Hidden Div</a>\r\n<div class=""hidden"" id=""hidden1"" style=""display: none;"" data-hidden=""true"">This content is normally hidden</div>\r\n<a href=""javascript:void(0)"" data-toggle=""#hidden2"">Toggle Hidden Div</a>\r\n<div class=""hidden"" id=""hidden2"" style=""display: none;"" data-hidden=""true"">This content is normally hidden</div>\r\n<a href=""javascript:void(0)"" data-toggle=""#hidden3"">Toggle Hidden Div</a>\r\n<div class=""hidden"" id=""hidden3"" style=""display: none;"" data-hidden=""true"">This content is normally hidden</div>ShareImprove this answerFolloweditedOct 30, 2016 at 16:52community wiki7 revs, 2 users 97%user4639281\n\nIf someone is curious, here is a JavaScript solution (ES6):window.addEventListener(\'mouseup\', e => {\n    if (e.target != yourDiv && e.target.parentNode != yourDiv) {\n        yourDiv.classList.remove(\'show-menu\');\n        // Or yourDiv.style.display = \'none\';\n    }\n})AndES5, just in case:window.addEventListener(\'mouseup\', function (e) {\n    if (e.target != yourDiv && e.target.parentNode != yourDiv) {\n        yourDiv.classList.remove(\'show-menu\');\n        // Or yourDiv.style.display = \'none\';\n    }\n});ShareImprove this answerFolloweditedMar 27, 2023 at 23:48community wiki2 revs, 2 users 69%Walt\n\nInstead using flow interruption, blur/focus event or any other tricky technics, simply match event flow with element\'s kinship:$(document).on(""click.menu-outside"", function(event){\n    // Test if target and it\'s parent aren\'t #menuscontainer\n    // That means the click event occur on other branch of document tree\n    if(!$(event.target).parents().andSelf().is(""#menuscontainer"")){\n        // Click outisde #menuscontainer\n        // Hide the menus (but test if menus aren\'t already hidden)\n    }\n});To remove click outside event listener, simply:$(document).off(""click.menu-outside"");ShareImprove this answerFollowansweredJun 5, 2013 at 15:05community wikimems\n\nIf you are scripting for IE and FF 3.* and you just want to know if the click occured within a certain box area, you could also use something like:this.outsideElementClick = function(objEvent, objElement) {\n  var objCurrentElement = objEvent.target || objEvent.srcElement;\n  var blnInsideX = false;\n  var blnInsideY = false;\n\n  if (objCurrentElement.getBoundingClientRect().left >= objElement.getBoundingClientRect().left && objCurrentElement.getBoundingClientRect().right <= objElement.getBoundingClientRect().right)\n    blnInsideX = true;\n\n  if (objCurrentElement.getBoundingClientRect().top >= objElement.getBoundingClientRect().top && objCurrentElement.getBoundingClientRect().bottom <= objElement.getBoundingClientRect().bottom)\n    blnInsideY = true;\n\n  if (blnInsideX && blnInsideY)\n    return false;\n  else\n    return true;\n}ShareImprove this answerFolloweditedMay 29, 2022 at 21:57community wiki2 revs, 2 users 68%Erik\n\nUse:var go = false;\n$(document).click(function(){\n    if(go){\n        $(\'#divID\').hide();\n        go = false;\n    }\n})\n\n$(""#divID"").mouseover(function(){\n    go = false;\n});\n\n$(""#divID"").mouseout(function (){\n    go = true;\n});\n\n$(""btnID"").click( function(){\n    if($(""#divID:visible"").length==1)\n        $(""#divID"").hide(); // Toggle\n    $(""#divID"").show();\n});ShareImprove this answerFolloweditedFeb 22, 2017 at 13:00community wiki4 revs, 2 users 80%webenformasyon\n\nHook a click event listener on the document. Inside the event listener, you can look at theevent object, in particular, theevent.targetto see what element was clicked:$(document).click(function(e){\n    if ($(e.target).closest(""#menuscontainer"").length == 0) {\n        // .closest can help you determine if the element \n        // or one of its ancestors is #menuscontainer\n        console.log(""hide"");\n    }\n});ShareImprove this answerFollowansweredMay 3, 2012 at 9:21community wikiSalman Arshad\n\nHere is a simple solution by pure javascript. It isup-to-date with ES6:var isMenuClick = false;\nvar menu = document.getElementById(\'menuscontainer\');\ndocument.addEventListener(\'click\',()=>{\n    if(!isMenuClick){\n       //Hide the menu here\n    }\n    //Reset isMenuClick \n    isMenuClick = false;\n})\nmenu.addEventListener(\'click\',()=>{\n    isMenuClick = true;\n})ShareImprove this answerFollowansweredNov 3, 2017 at 7:50community wikiDuannx\n\nI have used the below script done with jQuery.jQuery(document).click(function(e) {\n    var target = e.target; // Target div recorded\n    if (!jQuery(target).is(\'#tobehide\') ) {\n        jQuery(this).fadeOut(); // If the click element is not the above id, it will hide\n    }\n})Below find the HTML code:<div class=""main-container"">\n    <div>Hello, I am the title</div>\n    <div class=""tobehide"">I will hide when you click outside of me</div>\n</div>You can read the tutorialhere.ShareImprove this answerFolloweditedMar 27, 2023 at 22:39community wiki3 revs, 2 users 71%Rinto George'}","{'title': 'What\'s the problem with ""using namespace std;""?', 'question': 'I have heardusing namespace std;is wrong, and that I should usestd::coutandstd::cindirectly instead.Why is this? Does it risk declaring variables that share the same name as something in thestdnamespace? Are there performance implications?c++namespacesstdusing-directivesc++-faqShareImprove this questionFolloweditedJan 30 at 15:33TylerH21.1k7272 gold badges7878 silver badges105105 bronze badgesaskedSep 21, 2009 at 3:08akbiggsakbiggs34.8k66 gold badges2626 silver badges3737 bronze badges', 'answers': 'Consider two libraries called Foo and Bar:using namespace foo;\nusing namespace bar;Everything works fine, and you can callBlah()from Foo andQuux()from Bar without problems. But one day you upgrade to a new version of Foo 2.0, which now offers a function calledQuux(). Now you\'ve got a conflict: Both Foo 2.0 and Bar importQuux()into your global namespace. This is going to take some effort to fix, especially if the function parameters happen to match.If you had usedfoo::Blah()andbar::Quux(), then the introduction offoo::Quux()would have been a non-event.ShareImprove this answerFolloweditedJul 4, 2022 at 21:06Mateen Ulhaq26.6k2020 gold badges115115 silver badges147147 bronze badgesansweredSep 21, 2009 at 3:13Greg HewgillGreg Hewgill979k187187 gold badges1.2k1.2k silver badges1.3k1.3k bronze badges\n\nIt can get worsethan whatGreg wrote!Library Foo 2.0 could introduce a function,Quux(), that is an unambiguously better match for some of your calls toQuux()than thebar::Quux()your code called for years. Then yourcode still compiles, butit silently calls the wrong functionand does god-knows-what. That\'s about as bad as things can get.Keep in mind that thestdnamespace has tons of identifiers, many of which areverycommon ones (thinklist,sort,string,iterator, etc.) which are very likely to appear in other code, too.If you consider this unlikely: There wasa question askedhere on Stack Overflow where pretty much exactly this happened (wrong function called due to omittedstd::prefix) about half a year after I gave this answer.Hereis another, more recent example of such a question.\nSo this is a real problem.Here\'s one more data point: Many, many years ago, I also used to find it annoying having to prefix everything from the standard library withstd::. Then I worked in a project where it was decided at the start that bothusingdirectives and declarations are banned except for function scopes. Guess what? It took most of us very few weeks to get used to writing the prefix, and after a few more weeks most of us even agreed that it actually made the codemore readable. There\'s a reason for that:Whether you like shorter or longer prose is subjective, but the prefixes objectively add clarity to the code.Not only the compiler, but you, too, find it easier to see which identifier is referred to.In a decade, that project grew to have several million lines of code. Since these discussions come up again and again, I once was curious how often the (allowed) function-scopeusingactually was used in the project. I grep\'d the sources for it and only found one or two dozen places where it was used. To me this indicates that, once tried, developers don\'t findstd::painful enough to employ using directives even once every 100 kLoC even where it was allowed to be used.Bottom line: Explicitly prefixing everything doesn\'t do any harm, takes very little getting used to, and has objective advantages. In particular, it makes the code easier to interpret by the compiler and by human readers — and that should probably be the main goal when writing code.ShareImprove this answerFolloweditedJul 4, 2022 at 21:13Mateen Ulhaq26.6k2020 gold badges115115 silver badges147147 bronze badgesansweredSep 21, 2009 at 9:26sbisbi223k4646 gold badges262262 silver badges445445 bronze badges\n\nThe problem with puttingusing namespacein the header files of your classes is that it forces anyone who wants to use your classes (by including your header files) to also be \'using\' (i.e. seeing everything in) those other namespaces.However, you may feel free to put a using statement in your (private) *.cpp files.Beware that some people disagree with my saying ""feel free"" like this -- because although ausingstatement in a cpp file isbetterthan in a header (because it doesn\'t affect people who include your header file), they think it\'s still notgood(because depending on the code it could make the implementation of the class more difficult to maintain).This C++ Super-FAQ entrysays,The using-directive exists for legacy C++ code and to ease the transition to namespaces, but you probably shouldn’t use it on a regular basis, at least not in your new C++ code.The FAQ suggests two alternatives:A using-declaration:using std::cout; // a using-declaration lets you use cout without qualification\ncout << ""Values:"";Just typing std::std::cout << ""Values:"";ShareImprove this answerFolloweditedOct 30, 2019 at 3:54Marc.23778,43577 gold badges5353 silver badges9898 bronze badgesansweredSep 21, 2009 at 3:22ChrisWChrisW55.7k1414 gold badges119119 silver badges232232 bronze badges\n\nI recently ran into a complaint aboutVisual\xa0Studio\xa02010. It turned out that pretty much all the source files had these two lines:using namespace std;\nusing namespace boost;A lot ofBoostfeatures are going into the C++0x standard, and Visual\xa0Studio\xa02010 has a lot of C++0x features, so suddenly these programs were not compiling.Therefore, avoidingusing namespace X;is a form of future-proofing, a way of making sure a change to the libraries and/or header files in use is not going to break a program.ShareImprove this answerFolloweditedOct 11, 2015 at 10:33Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredOct 28, 2010 at 17:37David ThornleyDavid Thornley56.8k99 gold badges9292 silver badges159159 bronze badges\n\nShort version: don\'t use globalusingdeclarations or directives in header files. Feel free to use them in implementation files. Here\'s whatHerb SutterandAndrei Alexandrescuhave to say about this issue inC++ Coding Standards(bolding for emphasis is mine):SummaryNamespace usings are for your convenience, not for you to inflict on others: Never write a using declaration or a using directive before an #include directive.Corollary: In header files, don’t write namespace-level using directives or using declarations; instead, explicitly namespace-qualify all names. (The second rule follows from the first, because headers can never know what other header #includes might appear after them.)DiscussionIn short: You can and should use namespace using declarations and directives liberally in your implementation files after #include directives and feel good about it.Despite repeated assertions to the contrary, namespace using declarations and directives are not evil and they do not defeat the purpose of namespaces. Rather, they are what make namespaces usable.ShareImprove this answerFolloweditedJun 20, 2020 at 9:12CommunityBot111 silver badgeansweredNov 3, 2014 at 20:00mattnewportmattnewport14k22 gold badges3636 silver badges4242 bronze badges\n\nOne shouldn\'t use theusingdirective at the global scope, especially in headers. However, there are situations where it is appropriate even in a header file:template <typename FloatType> inline\nFloatType compute_something(FloatType x)\n{\n    using namespace std; // No problem since scope is limited\n    return exp(x) * (sin(x) - cos(x * 2) + sin(x * 3) - cos(x * 4));\n}This is better than explicit qualification (std::sin,std::cos...), because it is shorter and has the ability to work with user defined floating point types (viaargument-dependent lookup(ADL)).ShareImprove this answerFolloweditedSep 19, 2019 at 22:37Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredSep 21, 2009 at 15:47robson3.14robson3.143,05922 gold badges2121 silver badges2020 bronze badges\n\nDo not use it globallyIt is considered ""bad"" only whenused globally. Because:You clutter the namespace you are programming in.Readers will have difficulty seeing where a particular identifier comes from, when you use manyusing namespace xyz;.Whatever is true forotherreaders of your source code is even more true for the most frequent reader of it: yourself. Come back in a year or two and take a look...If you only talk aboutusing namespace std;you might not be aware of all the stuff you grab -- and when you add another#includeor move to a new C++ revision you might get name conflicts you were not aware of.You may use it locallyGo ahead and use it locally (almost) freely. This, of course, prevents you from repetition ofstd::-- and repetition is also bad.An idiom for using it locallyInC++03there was an idiom-- boilerplate code --for implementing aswapfunction for your classes. It was suggested that you actually use a localusing namespace std;-- or at leastusing std::swap;:class Thing {\n    int    value_;\n    Child  child_;\npublic:\n    // ...\n    friend void swap(Thing &a, Thing &b);\n};\nvoid swap(Thing &a, Thing &b) {\n    using namespace std;      // make `std::swap` available\n    // swap all members\n    swap(a.value_, b.value_); // `std::stwap(int, int)`\n    swap(a.child_, b.child_); // `swap(Child&,Child&)` or `std::swap(...)`\n}This does the following magic:The compiler will choose thestd::swapforvalue_, i.e.void std::swap(int, int).If you have an overloadvoid swap(Child&, Child&)implemented the compiler will choose it.If you donothave that overload the compiler will usevoid std::swap(Child&,Child&)and try its best swapping these.WithC++11there is no reason to use this pattern any more. The implementation ofstd::swapwas changed to find a potential overload and choose it.ShareImprove this answerFolloweditedAug 10, 2021 at 9:23prosach31222 silver badges1414 bronze badgesansweredJan 18, 2013 at 9:34towitowi22k2929 gold badges108108 silver badges194194 bronze badges\n\nIf you import the right header files you suddenly have names likehex,left,plusorcountin your global scope. This might be surprising if you are not aware thatstd::contains these names. If you also try to use these names locally it can lead to quite some confusion.If all the standard stuff is in its own namespace you don\'t have to worry about name collisions with your code or other libraries.ShareImprove this answerFolloweditedAug 31, 2013 at 22:17user283145answeredSep 21, 2009 at 3:23sthsth227k5656 gold badges285285 silver badges368368 bronze badges\n\nAnother reason is surprise.If I seecout << blah, instead ofstd::cout << blahI think: What is thiscout? Is it the normalcout? Is it something special?ShareImprove this answerFolloweditedSep 19, 2019 at 22:24Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredSep 21, 2009 at 3:13Martin BeckettMartin Beckett95.6k2828 gold badges193193 silver badges266266 bronze badges\n\nI agree that it should not be used globally, but it\'s not so evil to use locally, like in anamespace. Here\'s an example from""The C++ Programming Language"":namespace My_lib {\n\n    using namespace His_lib; // Everything from His_lib\n    using namespace Her_lib; // Everything from Her_lib\n\n    using His_lib::String; // Resolve potential clash in favor of His_lib\n    using Her_lib::Vector; // Resolve potential clash in favor of Her_lib\n\n}In this example, we resolved potential name clashes and ambiguities arising from their composition.Names explicitly declared there (including names declared by using-declarations likeHis_lib::String) take priority over names made accessible in another scope by a using-directive (using namespace Her_lib).ShareImprove this answerFolloweditedSep 19, 2019 at 22:53Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredAug 29, 2013 at 9:44OleksiyOleksiy39k2323 gold badges7777 silver badges123123 bronze badges\n\nExperienced programmers use whatever solves their problems and avoid whatever creates new problems, and they avoid header-file-level using-directives for this exact reason.Experienced programmers also try to avoid full qualification of names inside their source files. A minor reason for this is that it\'s not elegant to write more code when less code is sufficientunless there are good reasons. A major reason for this is turning off argument-dependent lookup (ADL).What are thesegood reasons? Sometimes programmers explicitly want to turn off ADL, other times they want to disambiguate.So the following are OK:Function-level using-directives and using-declarations inside functions\' implementationsSource-file-level using-declarations inside source files(Sometimes) source-file-level using-directivesShareImprove this answerFolloweditedApr 16, 2018 at 20:53answeredMar 29, 2011 at 8:10Alexander PoluektovAlexander Poluektov7,97411 gold badge2929 silver badges3232 bronze badges\n\nI also consider it a bad practice. Why? Just one day I thought that the function of a namespace is to divide stuff, so I shouldn\'t spoil it with throwing everything into one global bag.However, if I often use \'cout\' and \'cin\', I write:using std::cout; using std::cin;in the .cpp file (never in the header file as it propagates with#include). I think that no one sane will ever name a streamcoutorcin. ;)ShareImprove this answerFolloweditedSep 19, 2019 at 22:35Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredSep 21, 2009 at 9:34YelonekYelonek63311 gold badge55 silver badges99 bronze badges\n\nIt\'s nice to see code and know what it does. If I seestd::coutI know that\'s thecoutstream of thestdlibrary. If I seecoutthen I don\'t know. Itcouldbe thecoutstream of thestdlibrary. Or there could be anint cout = 0;ten lines higher in the same function. Or astaticvariable namedcoutin that file. It could be anything.Now take a million line code base, which isn\'t particularly big, and you\'re searching for a bug, which means you know there is one line in this one million lines that doesn\'t do what it is supposed to do.cout << 1;could read astatic intnamedcout, shift it to the left by one bit, and throw away the result. Looking for a bug, I\'d have to check that. Can you see how I really really prefer to seestd::cout?It\'s one of these things that seem a really good idea if you are a teacher and never had to write and maintain any code for a living. I love seeing code where (1) I know what it does; and, (2) I\'m confident that the person writing it knew what it does.ShareImprove this answerFolloweditedMar 29, 2018 at 12:47Azeem13.5k44 gold badges3232 silver badges4545 bronze badgesansweredMar 13, 2014 at 17:22gnasher729gnasher72952.1k55 gold badges7979 silver badges102102 bronze badges\n\nIt\'s all about managing complexity. Using the namespace will pull things in that you don\'t want, and thus possibly make it harder to debug (I say possibly). Using std:: all over the place is harder to read (more text and all that).Horses for courses - manage your complexity how you best can and feel able.ShareImprove this answerFolloweditedFeb 25, 2014 at 19:40answeredSep 21, 2009 at 3:14Preet SanghaPreet Sangha65.1k1919 gold badges148148 silver badges221221 bronze badges\n\nConsider// myHeader.h\n#include <sstream>\nusing namespace std;\n\n\n// someoneElses.cpp/h\n#include ""myHeader.h""\n\nclass stringstream {  // Uh oh\n};Note that this is a simple example. If you have files with 20 includes and other imports, you\'ll have a ton of dependencies to go through to figure out the problem. The worse thing about it is that you can get unrelated errors in other modules depending on the definitions that conflict.It\'s not horrible, but you\'ll save yourself headaches by not using it in header files or the global namespace. It\'s probably all right to do it in very limited scopes, but I\'ve never had a problem typing the extra five characters to clarify where my functions are coming from.ShareImprove this answerFolloweditedSep 19, 2019 at 22:28Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredSep 21, 2009 at 3:19Ron WarholicRon Warholic10k3232 silver badges4747 bronze badges\n\nA concrete example to clarify the concern. Imagine you have a situation where you have two libraries,fooandbar, each with their own namespace:namespace foo {\n    void a(float) { /* Does something */ }\n}\n\nnamespace bar {\n    ...\n}Now let\'s say you usefooandbartogether in your own program as follows:using namespace foo;\nusing namespace bar;\n\nvoid main() {\n    a(42);\n}At this point everything is fine. When you run your program it \'Does something\'. But later you updatebarand let\'s say it has changed to be like:namespace bar {\n    void a(float) { /* Does something completely different */ }\n}At this point you\'ll get a compiler error:using namespace foo;\nusing namespace bar;\n\nvoid main() {\n    a(42);  // error: call to \'a\' is ambiguous, should be foo::a(42)\n}So you\'ll need to do some maintenance to clarify that \'a\' meantfoo::a. That\'s undesirable, but fortunately it is pretty easy (just addfoo::in front of all calls toathat the compiler marks as ambiguous).But imagine an alternative scenario where bar changed instead to look like this instead:namespace bar {\n    void a(int) { /* Does something completely different */ }\n}At this point your call toa(42)suddenly binds tobar::ainstead offoo::aand instead of doing \'something\' it does \'something completely different\'.  No compiler warning or anything. Your program just silently starts doing something completely different than before.When you use a namespace you\'re risking a scenario like this, which is why people are uncomfortable using namespaces. The more things in a namespace, the greater the risk of conflict, so people might be even more uncomfortable using namespacestd(due to the number of things in that namespace) than other namespaces.Ultimately this is a trade-off between writability vs. reliability/maintainability. Readability may factor in also, but I could see arguments for that going either way. Normally I would say reliability and maintainability are more important, but in this case you\'ll constantly pay the writability cost for an fairly rare reliability/maintainability impact. The \'best\' trade-off will determine on your project and your priorities.ShareImprove this answerFolloweditedApr 6, 2021 at 13:42answeredSep 2, 2016 at 20:06KevinKevin8,76244 gold badges2929 silver badges3131 bronze badges\n\nYou need to be able to read code written by people who have different style and best practices opinions than you.If you\'re only usingcout, nobody gets confused.  But when you have lots of namespaces flying around and you see this class and you aren\'t exactly sure what it does, having the namespace explicit acts as a comment of sorts. You can see at first glance, ""oh, this is a filesystem operation"" or ""that\'s doing network stuff"".ShareImprove this answerFolloweditedSep 19, 2019 at 22:30Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredSep 21, 2009 at 4:04Dustin GetzDustin Getz21.6k1515 gold badges8484 silver badges132132 bronze badges\n\nUsing many namespaces at the same time is obviously a recipe for disaster, but using JUST namespacestdand only namespacestdis not that big of a deal in my opinion because redefinition can only occur by your own code...So just consider them functions as reserved names like ""int"" or ""class"" and that is it.People should stop being so anal about it. Your teacher was right all along. Just use ONE namespace; that is the whole point of using namespaces the first place. You are not supposed to use more than one at the same time. Unless it is your own. So again, redefinition will not happen.ShareImprove this answerFolloweditedOct 11, 2015 at 10:44Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredNov 9, 2013 at 15:09user2645752user264575231922 silver badges44 bronze badges\n\nI agree with the others here, but I would like to address the concerns regarding readability - you can avoid all of that by simply using typedefs at the top of your file, function or class declaration.I usually use it in my class declaration as methods in a class tend to deal with similar data types (the members) and a typedef is an opportunity to assign a name that is meaningful in the context of the class. This actually aids readability in the definitions of the class methods.// Header\nclass File\n{\n   typedef std::vector<std::string> Lines;\n   Lines ReadLines();\n}and in the implementation:// .cpp\nLines File::ReadLines()\n{\n    Lines lines;\n    // Get them...\n    return lines;\n}as opposed to:// .cpp\nvector<string> File::ReadLines()\n{\n    vector<string> lines;\n    // Get them...\n    return lines;\n}or:// .cpp\nstd::vector<std::string> File::ReadLines()\n{\n    std::vector<std::string> lines;\n    // Get them...\n    return lines;\n}ShareImprove this answerFolloweditedSep 19, 2019 at 23:08Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredFeb 12, 2015 at 0:40CarlCarl44k1010 gold badges8282 silver badges107107 bronze badges\n\nA namespace is a named scope. Namespaces are used to group related declarations and to keep separate\nitems separate. For example, two separately developed libraries may use the same name to refer to different\nitems, but a user can still use both:namespace Mylib{\n    template<class T> class Stack{ /* ... */ };\n    // ...\n}\n\nnamespace Yourlib{\n    class Stack{ /* ... */ };\n    // ...\n}\n\nvoid f(int max) {\n    Mylib::Stack<int> s1(max); // Use my stack\n    Yourlib::Stack    s2(max); // Use your stack\n    // ...\n}Repeating a namespace name can be a distraction for both readers and writers. Consequently, it is possible\nto state that names from a particular namespace are available without explicit qualification. For example:void f(int max) {\n    using namespace Mylib; // Make names from Mylib accessible\n    Stack<int> s1(max); // Use my stack\n    Yourlib::Stack s2(max); // Use your stack\n    // ...\n}Namespaces provide a powerful tool for the management of different libraries and of different versions of code. In particular, they offer the programmer alternatives of how explicit to make a reference to a nonlocal name.Source:An Overview of the C++ Programming Languageby Bjarne StroustrupShareImprove this answerFolloweditedSep 19, 2019 at 23:11Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredApr 5, 2015 at 12:56Rohan SinghRohan Singh16111 silver badge22 bronze badges\n\nAn example whereusing namespace stdthrows a compilation error because of the ambiguity of count, which is also a function in algorithm library.#include <iostream>\n#include <algorithm>\n\nusing namespace std;\n\nint count = 1;\nint main() {\n    cout << count << endl;\n}ShareImprove this answerFolloweditedOct 30, 2020 at 15:40answeredDec 31, 2014 at 8:00NithinNithin1,08588 silver badges1515 bronze badges\n\nIt\'s case by case. We want to minimize the ""total cost of ownership"" of the software over its lifespan. Stating ""using namespace std"" has some costs, butnotusing it also has a cost in legibility.People correctly point out that when using it, when the standard library introduces new symbols and definitions, your code ceases to compile, and you may be forced to rename variables. And yet this is probably good long-term, since future maintainers will be momentarily confused or distracted if you\'re using a keyword for some surprising purpose.You don\'twantto have a template called vector, say, which isn\'t the vector known by everyone else. And the number of new definitions thus introduced in the C++ library is small enough it may simply not come up.  Thereisa cost to having to do this kind of change, but the cost is not high and is offset by the clarity gained by not usingstdsymbol names for other purposes.Given the number of classes, variables, and functions, statingstd::on every one might fluff up your code by 50% and make it harder to get your head around. An algorithm or step in a method that could be taken in on one screenful of code now requires scrolling back and forth to follow. This is a real cost. Arguably it may not be a high cost, but people who deny it even exists are inexperienced, dogmatic, or simply wrong.I\'d offer the following rules:stdis different from all other libraries. It is the one library everyone basically needs to know, and in my view is best thought of as part of the language.  Generally speaking there is an excellent case forusing namespace stdeven if there isn\'t for other libraries.Never force the decision onto the author of a compilation unit (a .cpp file) by putting thisusingin a header.Alwaysdefer the decision to the compilation unit author. Even in a project that has decided to useusing namespace stdeverywhere may fine a few modules that are best handled as exceptions to that rule.Even though the namespace feature lets you have many modules with symbols defined the same, it\'s going to be confusing to do so. Keep the names different to the extent possible. Even if not using the namespace feature, if you have a class namedfooandstdintroduces a class namedfoo, it\'s probably better long-run to rename your class anyway.An alternative to using namespaces is to manually namespace symbols by prefixing them. I have two libraries I\'ve used for decades, both starting as C libraries, actually, whereeverysymbol is prefixed with ""AK"" or ""SCWin"". Generally speaking, this is like avoiding the ""using"" construct, but you don\'t write the twin colons.AK::foo()is insteadAKFoo(). It makes code 5-10% denser and less verbose, and the only downside is that you\'ll be in big trouble if you have to use two such libraries that have the same prefixing.  Note the X Window libraries are excellent in this regard, except they forgot to do so with a few #defines: TRUE and FALSE should have been XTRUE and XFALSE, and this set up a namespace clash with Sybase or Oracle that likewise used TRUE and FALSE with different values! (ASCII 0 and 1 in the case of the database!) One special advantage of this is that it applies seemlessly to preprocessor definitions, whereas the C++using/namespacesystem doesn\'t handle them. A nice benefit of this is that it gives an organic slope from being part of a project to eventually being a library.  In a large application of mine, all window classes are prefixedWin, all signal-processing modules Mod, and so on.  There\'s little chance of any of these being reused so there\'s no practical benefit to making each group into a library, but it makes obvious in a few seconds how the project breaks into sub-projects.ShareImprove this answerFolloweditedSep 21, 2019 at 9:08answeredMay 22, 2019 at 22:05Swiss FrankSwiss Frank2,3002323 silver badges3737 bronze badges\n\nIt doesn\'t make your software or project performance worse. The inclusion of the namespace at the beginning of your source code isn\'t bad. The inclusion of theusing namespace stdinstruction varies according to your needs and the way you are developing the software or project.Thenamespace stdcontains the C++ standard functions and variables. This namespace is useful when you often would use the C++ standard functions.As is mentioned in thispage:The statement using namespace std is generally considered bad\n  practice. The alternative to this statement is to specify the\n  namespace to which the identifier belongs using the scope operator(::)\n  each time we declare a type.And seethis opinion:There is no problem using ""using namespace std"" in your source file\n  when you make heavy use of the namespace and know for sure that\n  nothing will collide.Some people had said that is a bad practice to include theusing namespace stdin your source files because you\'re invoking from that namespace all the functions and variables. When you would like to define a new function with the same name as another function contained in thenamespace stdyou would overload the function and it could produce problems due to compile or execute. It will not compile or executing as you expect.As is mentioned in thispage:Although the statement saves us from typing std:: whenever\n  we wish to access a class or type defined in the std namespace, it\n  imports the entirety of the std namespace into the current namespace\n  of the program. Let us take a few examples to understand why this\n  might not be such a good thing...Now at a later stage of development, we wish to use another version of\n  cout that is custom implemented in some library called “foo” (for\n  example)...Notice how there is an ambiguity, to which library does cout point to?\n  The compiler may detect this and not compile the program. In the worst\n  case, the program may still compile but call the wrong function, since\n  we never specified to which namespace the identifier belonged.ShareImprove this answerFolloweditedSep 19, 2019 at 23:37Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredApr 23, 2018 at 17:15CryogenicNeoCryogenicNeo9431212 silver badges2525 bronze badges\n\nI agree with others – it is asking for name clashes, ambiguities and then the fact is it is less explicit. While I can see the use ofusing, my personal preference is to limit it. I would also strongly consider what some others pointed out:If you want to find a function name that might be a fairly common name, but you only want to find it in thestdnamespace (or the reverse – you want to change all calls that arenotin namespacestd, namespaceX, ...), then how do you propose to do this?You could write a program to do it, but wouldn\'t it be better to spend time working on your project itself rather than writing a program to maintain your project?Personally, I actually don\'t mind thestd::prefix. I like the look more than not having it. I don\'t know if that is because it is explicit and says to me ""this isn\'t my code... I am using the standard library"" or if it is something else, but I think it looks nicer. This might be odd given that I only recently got into C++ (used and still do C and other languages for much longer and C is my favourite language of all time, right above assembly).There is one other thing although it is somewhat related to the above and what others point out. While this might be bad practise, I sometimes reservestd::namefor the standard library version and name for program-specific implementation. Yes, indeed this could bite you and bite you hard, but it all comes down to that I started this project from scratch, and I\'m the only programmer for it. Example: I overloadstd::stringand call itstring. I have helpful additions. I did it in part because of my C and Unix (+ Linux) tendency towards lower-case names.Besides that, you can have namespace aliases. Here is an example of where it is useful that might not have been referred to. I use the C++11 standard and specifically with libstdc++. Well, it doesn\'t have completestd::regexsupport. Sure, it compiles, but it throws an exception along the lines of it being an error on the programmer\'s end. But it is lack of implementation.So here\'s how I solved it. Install Boost\'s regex, and link it in. Then, I do the following so that when libstdc++ has it implemented entirely, I need only remove this block and the code remains the same:namespace std\n{\n    using boost::regex;\n    using boost::regex_error;\n    using boost::regex_replace;\n    using boost::regex_search;\n    using boost::regex_match;\n    using boost::smatch;\n    namespace regex_constants = boost::regex_constants;\n}I won\'t argue on whether that is a bad idea or not. I will however argue that it keeps it clean formyproject and at the same time makes it specific: True, I have to use Boost,butI\'m using it like the libstdc++ will eventually have it. Yes, starting your own project and starting with a standard (...) at the very beginning goes a very long way with helping maintenance, development and everything involved with the project!Just to clarify something: I don\'t actually think it is a good idea to use a name of a class/whatever in theSTLdeliberately and more specifically in place of. The string is the exception (ignore the first, above, or second here, pun if you must) for me as I didn\'t like the idea of \'String\'.As it is, I am still very biased towards C and biased against C++. Sparing details, much of what I work on fits C more (but it was a good exercise and a good way to make myself a. learn another language and b. try not be less biased against object/classes/etc which is maybe better stated as less closed-minded, less arrogant, and more accepting.). But whatisuseful is what some already suggested: I do indeed use list (it is fairly generic, is it not ?), and sort (same thing) to name two that would cause a name clash if I were to dousing namespace std;, and so to that end I prefer being specific, in control and knowing that if I intend it to be the standard use then I will have to specify it. Put simply: no assuming allowed.And as for making Boost\'s regex part ofstd. I do that for future integration and – again, I admit fully this is bias - I don\'t think it is as ugly asboost::regex:: .... Indeed, that is another thing for me. There are many things in C++ that I still have yet to come to fully accept in looks and methods (another example: variadic templates versus var arguments [though I admit variadic templates are very very useful!]). Even those that I do accept it was difficult,andI still have issues with them.ShareImprove this answerFolloweditedSep 19, 2019 at 23:03Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredOct 13, 2014 at 17:30user4138451user4138451\n\nFrom my experiences, if you have multiple libraries that uses say,cout, but for a different purpose you may use the wrongcout.For example, if I type in,using namespace std;andusing namespace otherlib;and type justcout(which happens to be in both), rather thanstd::cout(or\'otherlib::cout\'), you might use the wrong one, and get errors. It\'s much more effective and efficient to usestd::cout.ShareImprove this answerFolloweditedSep 19, 2019 at 23:30Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredAug 20, 2016 at 22:55Engine DevEngine Dev12911 silver badge1010 bronze badges\n\nI do not think it is necessarily bad practice under all conditions, but you need to be careful when you use it.  If you\'re writing a library, you probably should use the scope resolution operators with the namespace to keep your library from butting heads with other libraries.  For application level code, I don\'t see anything wrong with it.ShareImprove this answerFollowansweredSep 21, 2009 at 3:34Dr. WatsonDr. Watson3,79044 gold badges3434 silver badges4343 bronze badges\n\nWith unqualified imported identifiers you need external search tools likegrepto find out where identifiers are declared. This makes reasoning about program correctness harder.ShareImprove this answerFollowansweredApr 11, 2013 at 14:22August KarlstromAugust Karlstrom11.1k88 gold badges4242 silver badges6666 bronze badges\n\nWhy shouldusing namespace std;be avoided?Reason 1: To avoid name collision.Because the C++ standard library is large and constantly expanding, namespaces in C++ are used to lessen name collisions. You are importing everything wholesale when you use ""using namespace std;"".That\'s why ""using namespace std;"" will never appear in any professional code.Reason 2: Failed compilation.Because it pulls the hundreds of things (classes, methods, constants, templates, etc.) defined in thestdnamespace into the global namespace. And it does so, not just for the file that writes “using namespace std” itself, but also for any file that includes it, recursively. This can very easily lead to accidentalODRviolations and hard-to-debug compiler/linker errors.Example:You use the std namespace when you declare the function ""max"" in the global namespace.Since you aren\'t using thecmathheader, everything appears to be working well.When someone else includes your file and thecmathheader, their code unexpectedly fails to build because there are two functions with the name ""max"" in the global namespace.Reason 3: May not work in future.Even worse, you can\'t predict what changes will be made to thestd::namespace in the future. This means that code that functions today might cease to function later if a newly added symbol clashes with something in your code.Reason 4: Difficult to maintain and debug.The use ofnamespace std;can produce difficult-to-maintain and difficult-to-debug code. This is due to the fact that it is not always obvious where certain aspects come from. A developer might be referring to thestd::stringclass or a unique string class if they use the term ""string"" without more explanation.Code withnamespace std#include <iostream>\n#include <algorithm>\n\nusing namespace std;\n\nint swap = 0;\n\nint main() {\n    cout << swap << endl; // ERROR: reference to ""swap"" is ambiguous\n}Withoutnamespace#include <iostream>\n\nint main() {\n    using std::cout; // This only affects the current function\n\n    cout << ""Hello"" <<\'\\n\';\n}But you can use if,you can use that if want to make short tutorials or programs, etc.no problem using ""using namespace std"" in your source file when you make heavy use of the namespace and know for sure that nothing will collide.ShareImprove this answerFolloweditedJul 5, 2023 at 14:00Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMar 24, 2023 at 6:39Muhammad AliMuhammad Ali1,24433 gold badges1818 silver badges2323 bronze badges\n\nThis is often known as global namespace pollution. Problems may occur when more than one namespace has the same function name with signature, then it will be ambiguous for the compiler to decide which one to call and this all can be avoided when you are specifying the namespace with your function call likestd::cout.ShareImprove this answerFolloweditedJan 30 at 15:29TylerH21.1k7272 gold badges7878 silver badges105105 bronze badgesansweredNov 30, 2017 at 16:24adn.911adn.9111,29433 gold badges1717 silver badges3131 bronze badges\n\nI put it the other way around: Why is typing five extra characters considered cumbersome by some?Consider e.g. writing a piece of numerical software. Why would I even consider polluting my global namespace by cutting generalstd::vector<T>down tovector<T>whenvectoris one of the problem domain\'s most important concepts?ShareImprove this answerFolloweditedJan 30 at 15:29TylerH21.1k7272 gold badges7878 silver badges105105 bronze badgesansweredMay 13, 2013 at 15:18SolkarSolkar1,2281212 silver badges2222 bronze badges'}","{'title': 'How can I transition height: 0; to height: auto; using CSS?', 'question': 'I am trying to make a<ul>slide down using CSS transitions.The<ul>starts off atheight: 0;. On hover, the height is set toheight:auto;. However, this is causing it to simply appear,nottransition,If I do it fromheight: 40px;toheight: auto;, then it will slide up toheight: 0;, and then suddenly jump to the correct height.How else could I do this without using JavaScript?#child0 {\r\n  height: 0;\r\n  overflow: hidden;\r\n  background-color: #dedede;\r\n  -moz-transition: height 1s ease;\r\n  -webkit-transition: height 1s ease;\r\n  -o-transition: height 1s ease;\r\n  transition: height 1s ease;\r\n}\r\n#parent0:hover #child0 {\r\n  height: auto;\r\n}\r\n#child40 {\r\n  height: 40px;\r\n  overflow: hidden;\r\n  background-color: #dedede;\r\n  -moz-transition: height 1s ease;\r\n  -webkit-transition: height 1s ease;\r\n  -o-transition: height 1s ease;\r\n  transition: height 1s ease;\r\n}\r\n#parent40:hover #child40 {\r\n  height: auto;\r\n}\r\nh1 {\r\n  font-weight: bold;\r\n}The only difference between the two snippets of CSS is one has height: 0, the other height: 40.\r\n<hr>\r\n<div id=""parent0"">\r\n  <h1>Hover me (height: 0)</h1>\r\n  <div id=""child0"">Some content\r\n    <br>Some content\r\n    <br>Some content\r\n    <br>Some content\r\n    <br>Some content\r\n    <br>Some content\r\n    <br>\r\n  </div>\r\n</div>\r\n<hr>\r\n<div id=""parent40"">\r\n  <h1>Hover me (height: 40)</h1>\r\n  <div id=""child40"">Some content\r\n    <br>Some content\r\n    <br>Some content\r\n    <br>Some content\r\n    <br>Some content\r\n    <br>Some content\r\n    <br>\r\n  </div>\r\n</div>csscss-transitionsShareImprove this questionFolloweditedOct 25, 2021 at 13:08TylerH21.1k7272 gold badges7878 silver badges105105 bronze badgesaskedAug 18, 2010 at 2:50HailwoodHailwood91.5k109109 gold badges272272 silver badges425425 bronze badges', 'answers': 'Usemax-heightin the transition and notheight. And set a value onmax-heightto something bigger than your box will ever get.SeeJSFiddle demoprovided by Chris Jordan in anotheranswerhere.#menu #list {\r\n    max-height: 0;\r\n    transition: max-height 0.15s ease-out;\r\n    overflow: hidden;\r\n    background: #d5d5d5;\r\n}\r\n\r\n#menu:hover #list {\r\n    max-height: 500px;\r\n    transition: max-height 0.25s ease-in;\r\n}<div id=""menu"">\r\n    <a>hover me</a>\r\n    <ul id=""list"">\r\n        <!-- Create a bunch, or not a bunch, of li\'s to see the timing. -->\r\n        <li>item</li>\r\n        <li>item</li>\r\n        <li>item</li>\r\n        <li>item</li>\r\n        <li>item</li>\r\n    </ul>\r\n</div>ShareImprove this answerFolloweditedOct 16, 2019 at 19:21jlouzado46211 gold badge33 silver badges1818 bronze badgesansweredNov 30, 2011 at 18:42jakejake37.5k11 gold badge1616 silver badges22 bronze badges\n\nYou should use scaleY instead.ul {\n  background-color: #eee;\n  transform: scaleY(0);    \n  transform-origin: top;\n  transition: transform 0.26s ease;\n}\np:hover ~ ul {\n  transform: scaleY(1);\n}<p>Hover This</p>\n<ul>\n  <li>Coffee</li>\n  <li>Tea</li>\n  <li>Milk</li>\n</ul>I\'ve made a vendor prefixed version of the above code onjsfiddle,  and changed yourjsfiddleto use scaleY instead of height.EditSome people do not like howscaleYtransforms the content. If that is a problem then I suggest usingclipinstead.ul {\n  clip: rect(auto, auto, 0, auto);\n  position: absolute;\n  margin: -1rem 0;\n  padding: .5rem;\n\n  color: white;\n\n  background-color: rgba(0, 0, 0, 0.8);\n\n  transition-property: clip;\n  transition-duration: 0.5s;\n  transition-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1.275);\n}\nh3:hover ~ ul,\nh3:active ~ ul,\nul:hover {\n  clip: rect(auto, auto, 10rem, auto);\n}<h3>Hover here</h3>\n<ul>\n  <li>This list</li>\n  <li>is clipped.</li>\n  <li>A clip transition</li>\n  <li>will show it</li>\n</ul>\n<p>\n  Some text...\n</p>ShareImprove this answerFolloweditedJul 27, 2021 at 19:38answeredJun 23, 2013 at 10:57dotnetCarpenterdotnetCarpenter10.9k77 gold badges3535 silver badges5858 bronze badges\n\nYou can\'t currently animate on height when one of the heights involved isauto, you have to set two explicit heights.ShareImprove this answerFolloweditedFeb 25, 2015 at 15:53animuson♦54.5k2828 gold badges141141 silver badges149149 bronze badgesansweredAug 18, 2010 at 12:46robertcrobertc75.4k1919 gold badges198198 silver badges178178 bronze badges\n\nThe solution that I\'ve always used was to first fade out, then shrink thefont-size,paddingandmarginvalues. It doesn\'t look the same as a wipe, but it works without a staticheightormax-height.Working example:/* final display */\r\n#menu #list {\r\n    margin: .5em 1em;\r\n    padding: 1em;\r\n}\r\n\r\n/* hide */\r\n#menu:not(:hover) #list {\r\n    font-size: 0;\r\n    margin: 0;\r\n    opacity: 0;\r\n    padding: 0;\r\n    /* fade out, then shrink */\r\n    transition: opacity .25s,\r\n                font-size .5s .25s,\r\n                margin .5s .25s,\r\n                padding .5s .25s;\r\n}\r\n\r\n/* reveal */\r\n#menu:hover #list {\r\n    /* unshrink, then fade in */\r\n    transition: font-size .25s,\r\n                margin .25s,\r\n                padding .25s,\r\n                opacity .5s .25s;\r\n}<div id=""menu"">\r\n    <b>hover me</b>\r\n    <ul id=""list"">\r\n        <li>item</li>\r\n        <li>item</li>\r\n        <li>item</li>\r\n        <li>item</li>\r\n        <li>item</li>\r\n    </ul>\r\n</div>\r\n\r\n<p>Another paragraph...</p>ShareImprove this answerFolloweditedOct 29, 2018 at 22:37Samuel Liew78.5k110110 gold badges165165 silver badges274274 bronze badgesansweredMay 29, 2015 at 14:05Steven VachonSteven Vachon3,97211 gold badge3030 silver badges3030 bronze badges\n\nThis is aCSS-onlysolution with the following properties:There is no delay at the beginning, and the transition doesn\'t stop early. In both directions (expanding and collapsing), if you specify a transition duration of 300ms in your CSS, then the transition takes 300ms, period.It\'s transitioning the actual height (unliketransform: scaleY(0)), so it does the right thing if there\'s content after the collapsible element.While (like in other solutions) therearemagic numbers (like ""pick a length that is higher than your box is ever going to be""), it\'s not fatal if your assumption ends up being wrong. The transition may not look amazing in that case, but before and after the transition, this is not a problem: In the expanded (height: auto) state, the whole content always has the correct height (unlike e.g. if you pick amax-heightthat turns out to be too low). And in the collapsed state, the height is zero as it should.DemoHere\'s a demo with three collapsible elements, all of different heights, that all use the same CSS. You might want to click ""full page"" after clicking ""run snippet"". Note that the JavaScript only toggles thecollapsedCSS class, there\'s no measuring involved. (You could do this exact demo without any JavaScript at all by using a checkbox or:target). Also note that the part of the CSS that\'s responsible for the transition is pretty short, and the HTML only requires a single additional wrapper element.$(function () {\n  $("".toggler"").click(function () {\n    $(this).next().toggleClass(""collapsed"");\n    $(this).toggleClass(""toggled""); // this just rotates the expander arrow\n  });\n});.collapsible-wrapper {\n  display: flex;\n  overflow: hidden;\n}\n.collapsible-wrapper:after {\n  content: \'\';\n  height: 50px;\n  transition: height 0.3s linear, max-height 0s 0.3s linear;\n  max-height: 0px;\n}\n.collapsible {\n  transition: margin-bottom 0.3s cubic-bezier(0, 0, 0, 1);\n  margin-bottom: 0;\n  max-height: 1000000px;\n}\n.collapsible-wrapper.collapsed > .collapsible {\n  margin-bottom: -2000px;\n  transition: margin-bottom 0.3s cubic-bezier(1, 0, 1, 1),\n              visibility 0s 0.3s, max-height 0s 0.3s;\n  visibility: hidden;\n  max-height: 0;\n}\n.collapsible-wrapper.collapsed:after\n{\n  height: 0;\n  transition: height 0.3s linear;\n  max-height: 50px;\n}\n\n/* END of the collapsible implementation; the stuff below\n   is just styling for this demo */\n\n#container {\n  display: flex;\n  align-items: flex-start;\n  max-width: 1000px;\n  margin: 0 auto;\n}  \n\n\n.menu {\n  border: 1px solid #ccc;\n  box-shadow: 0 1px 3px rgba(0,0,0,0.5);\n  margin: 20px;\n\n  \n}\n\n.menu-item {\n  display: block;\n  background: linear-gradient(to bottom, #fff 0%,#eee 100%);\n  margin: 0;\n  padding: 1em;\n  line-height: 1.3;\n}\n.collapsible .menu-item {\n  border-left: 2px solid #888;\n  border-right: 2px solid #888;\n  background: linear-gradient(to bottom, #eee 0%,#ddd 100%);\n}\n.menu-item.toggler {\n  background: linear-gradient(to bottom, #aaa 0%,#888 100%);\n  color: white;\n  cursor: pointer;\n}\n.menu-item.toggler:before {\n  content: \'\';\n  display: block;\n  border-left: 8px solid white;\n  border-top: 8px solid transparent;\n  border-bottom: 8px solid transparent;\n  width: 0;\n  height: 0;\n  float: right;\n  transition: transform 0.3s ease-out;\n}\n.menu-item.toggler.toggled:before {\n  transform: rotate(90deg);\n}\n\nbody { font-family: sans-serif; font-size: 14px; }\n\n*, *:after {\n  box-sizing: border-box;\n}<script src=""https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js""></script>\n\n<div id=""container"">\n  <div class=""menu"">\n    <div class=""menu-item"">Something involving a holodeck</div>\n    <div class=""menu-item"">Send an away team</div>\n    <div class=""menu-item toggler"">Advanced solutions</div>\n    <div class=""collapsible-wrapper collapsed"">\n      <div class=""collapsible"">\n        <div class=""menu-item"">Separate saucer</div>\n        <div class=""menu-item"">Send an away team that includes the captain (despite Riker\'s protest)</div>\n        <div class=""menu-item"">Ask Worf</div>\n        <div class=""menu-item"">Something involving Wesley, the 19th century, and a holodeck</div>\n        <div class=""menu-item"">Ask Q for help</div>\n      </div>\n    </div>\n    <div class=""menu-item"">Sweet-talk the alien aggressor</div>\n    <div class=""menu-item"">Re-route power from auxiliary systems</div>\n  </div>\n\n  <div class=""menu"">\n    <div class=""menu-item"">Something involving a holodeck</div>\n    <div class=""menu-item"">Send an away team</div>\n    <div class=""menu-item toggler"">Advanced solutions</div>\n    <div class=""collapsible-wrapper collapsed"">\n      <div class=""collapsible"">\n        <div class=""menu-item"">Separate saucer</div>\n        <div class=""menu-item"">Send an away team that includes the captain (despite Riker\'s protest)</div>\n      </div>\n    </div>\n    <div class=""menu-item"">Sweet-talk the alien aggressor</div>\n    <div class=""menu-item"">Re-route power from auxiliary systems</div>\n  </div>\n\n  <div class=""menu"">\n    <div class=""menu-item"">Something involving a holodeck</div>\n    <div class=""menu-item"">Send an away team</div>\n    <div class=""menu-item toggler"">Advanced solutions</div>\n    <div class=""collapsible-wrapper collapsed"">\n      <div class=""collapsible"">\n        <div class=""menu-item"">Separate saucer</div>\n        <div class=""menu-item"">Send an away team that includes the captain (despite Riker\'s protest)</div>\n        <div class=""menu-item"">Ask Worf</div>\n        <div class=""menu-item"">Something involving Wesley, the 19th century, and a holodeck</div>\n        <div class=""menu-item"">Ask Q for help</div>\n        <div class=""menu-item"">Separate saucer</div>\n        <div class=""menu-item"">Send an away team that includes the captain (despite Riker\'s protest)</div>\n        <div class=""menu-item"">Ask Worf</div>\n        <div class=""menu-item"">Something involving Wesley, the 19th century, and a holodeck</div>\n        <div class=""menu-item"">Ask Q for help</div>\n      </div>\n    </div>\n    <div class=""menu-item"">Sweet-talk the alien aggressor</div>\n    <div class=""menu-item"">Re-route power from auxiliary systems</div>\n  </div>\n\n</div>How does it work?There are in facttwotransitions involved in making this happen. One of them transitions themargin-bottomfrom 0px (in the expanded state) to-2000pxin the collapsed state (similar tothis answer). The 2000 here is the first magic number, it\'s based on the assumption that your box won\'t be higher than this (2000 pixels seems like a reasonable choice).Using themargin-bottomtransition alone by itself has two issues:If you actually have a box that\'s higher than 2000 pixels, then amargin-bottom: -2000pxwon\'t hide everything -- there\'ll be visible stuff even in the collapsed case. This is a minor fix that we\'ll do later.If the actual box is, say, 1000 pixels high, and your transition is 300ms long, then thevisibletransition is already over after about 150ms (or, in the opposite direction, starts 150ms late).Fixing this second issue is where the second transition comes in, and this transition conceptually targets the wrapper\'sminimumheight (""conceptually"" because we\'re not actually using themin-heightproperty for this; more on that later).Here\'s an animation that shows how combining the bottom margin transition with the minimum height transition, both of equal duration, gives us a combined transition from full height to zero height that has the same duration.The left bar shows how the negative bottom margin pushes the bottom upwards, reducing the visible height. The middle bar shows how the minimum height ensures that in the collapsing case, the transition doesn\'t end early, and in the expanding case, the transition doesn\'t start late. The right bar shows how the combination of the two causes the box to transition from full height to zero height in the correct amount of time.For my demo I\'ve settled on 50px as the upper minimum height value. This is the second magic number, and it should be lower than the box\' height would ever be. 50px seems reasonable as well; it seems unlikely that you\'d very often want to make an element collapsible that isn\'t even 50 pixels high in the first place.As you can see in the animation, the resulting transition is continuous, but it is not differentiable -- at the moment when the minimum height is equal to the full height adjusted by the bottom margin, there is a sudden change in speed. This is very noticeable in the animation because it uses a linear timing function for both transitions, and because the whole transition is very slow. In the actual case (my demo at the top), the transition only takes 300ms, and the bottom margin transition is not linear. I\'ve played around with a lot of different timing functions for both transitions, and the ones I ended up with felt like they worked best for the widest variety of cases.Two problems remain to fix:the point from above, where boxes of more than 2000 pixels height aren\'t completely hidden in the collapsed state,and the reverse problem, where in the non-hidden case, boxes of less than 50 pixels height are too high even when the transition isn\'t running, because the minimum height keeps them at 50 pixels.We solve the first problem by giving the container element amax-height: 0in the collapsed case, with a0s 0.3stransition. This means that it\'s not really a transition, but themax-heightis applied with a delay; it only applies once the transition is over. For this to work correctly, we also need to pick a numericalmax-heightfor the opposite, non-collapsed, state. But unlike in the 2000px case, where picking too large of a number affects the quality of the transition, in this case, it really doesn\'t matter. So we can just pick a number that is so high that weknowthat no height will ever come close to this. I picked a million pixels. If you feel you may need to support content of a height of more than a million pixels, then 1) I\'m sorry, and 2) just add a couple of zeros.The second problem is the reason why we\'re not actually usingmin-heightfor the minimum height transition. Instead, there is an::afterpseudo-element in the container with aheightthat transitions from 50px to zero. This has the same effect as amin-height: It won\'t let the container shrink below whatever height the pseudo-element currently has. But because we\'re usingheight, notmin-height, we can now usemax-height(once again applied with a delay) to set the pseudo-element\'s actual height to zero once the transition is over, ensuring that at least outside the transition, even small elements have the correct height. Becausemin-heightisstrongerthanmax-height, this wouldn\'t work if we used the container\'smin-heightinstead of the pseudo-element\'sheight. Just like themax-heightin the previous paragraph, thismax-heightalso needs a value for the opposite end of the transition. But in this case we can just pick the 50px.Tested in Chrome (Win, Mac, Android, iOS), Firefox (Win, Mac, Android), Edge, IE11 (except for a flexbox layout issue with my demo that I didn\'t bother debugging), and Safari (Mac, iOS). Speaking of flexbox, it should be possible to make this work without using any flexbox; in fact I think you could make almost everything work in IE7 – except for the fact that you won\'t have CSS transitions, making it a rather pointless exercise.ShareImprove this answerFolloweditedOct 8, 2021 at 14:30TylerH21.1k7272 gold badges7878 silver badges105105 bronze badgesansweredMay 14, 2017 at 14:33balpha♦balpha50.6k1818 gold badges112112 silver badges132132 bronze badges\n\nYou can, with a little bit of non-semantic jiggery-pokery. My usual approach is to animate the height of an outer DIV which has a single child which is a style-less DIV used only for measuring the content height.function growDiv() {\r\n  var growDiv = document.getElementById(\'grow\');\r\n  if (growDiv.clientHeight) {\r\n    growDiv.style.height = 0;\r\n  } else {\r\n    var wrapper = document.querySelector(\'.measuringWrapper\');\r\n    growDiv.style.height = wrapper.clientHeight + ""px"";\r\n  }\r\n}#grow {\r\n  -moz-transition: height .5s;\r\n  -ms-transition: height .5s;\r\n  -o-transition: height .5s;\r\n  -webkit-transition: height .5s;\r\n  transition: height .5s;\r\n  height: 0;\r\n  overflow: hidden;\r\n  outline: 1px solid red;\r\n}<input type=""button"" onclick=""growDiv()"" value=""grow"">\r\n<div id=\'grow\'>\r\n  <div class=\'measuringWrapper\'>\r\n    <div>\r\n      The contents of my div.\r\n    </div>\r\n    <div>\r\n      The contents of my div.\r\n    </div>\r\n    <div>\r\n      The contents of my div.\r\n    </div>\r\n    <div>\r\n      The contents of my div.\r\n    </div>\r\n    <div>\r\n      The contents of my div.\r\n    </div>\r\n    <div>\r\n      The contents of my div.\r\n    </div>\r\n  </div>\r\n</div>One would like to just be able to dispense with the.measuringWrapperand just set the DIV\'s height to auto and have that animate, but that doesn\'t seem to work (the height gets set, but no animation occurs).function growDiv() {\r\n  var growDiv = document.getElementById(\'grow\');\r\n  if (growDiv.clientHeight) {\r\n    growDiv.style.height = 0;\r\n  } else {\r\n    growDiv.style.height = \'auto\';\r\n  }\r\n}#grow {\r\n  -moz-transition: height .5s;\r\n  -ms-transition: height .5s;\r\n  -o-transition: height .5s;\r\n  -webkit-transition: height .5s;\r\n  transition: height .5s;\r\n  height: 0;\r\n  overflow: hidden;\r\n  outline: 1px solid red;\r\n}<input type=""button"" onclick=""growDiv()"" value=""grow"">\r\n<div id=\'grow\'>\r\n  <div>\r\n    The contents of my div.\r\n  </div>\r\n  <div>\r\n    The contents of my div.\r\n  </div>\r\n  <div>\r\n    The contents of my div.\r\n  </div>\r\n  <div>\r\n    The contents of my div.\r\n  </div>\r\n  <div>\r\n    The contents of my div.\r\n  </div>\r\n  <div>\r\n    The contents of my div.\r\n  </div>\r\n</div>My interpretation is that an explicit height is needed for the animation to run. You can\'t get an animation on height when either height (the start or end height) isauto.ShareImprove this answerFolloweditedDec 11, 2017 at 18:38Spencer O\'Reilly53522 gold badges77 silver badges2121 bronze badgesansweredJun 30, 2010 at 13:32jhurshmanjhurshman6,00922 gold badges2828 silver badges1717 bronze badges\n\nThe accepted answer works for most cases, but it doesn\'t work well when yourdivcan vary greatly in height — the animation speed is not dependent on the actual height of the content, and it can look choppy.You can still perform the actual animation with CSS, but you need to use JavaScript to compute the height of the items, instead of trying to useauto. No jQuery is required, although you may have to modify this a bit if you want compatibility (works in the latest version of Chrome :)).window.toggleExpand = function(element) {\r\n    if (!element.style.height || element.style.height == \'0px\') { \r\n        element.style.height = Array.prototype.reduce.call(element.childNodes, function(p, c) {return p + (c.offsetHeight || 0);}, 0) + \'px\';\r\n    } else {\r\n        element.style.height = \'0px\';\r\n    }\r\n}#menu #list {\r\n    height: 0px;\r\n    transition: height 0.3s ease;\r\n    background: #d5d5d5;\r\n    overflow: hidden;\r\n}<div id=""menu"">\r\n    <input value=""Toggle list"" type=""button"" onclick=""toggleExpand(document.getElementById(\'list\'));"">\r\n    <ul id=""list"">\r\n        <!-- Works well with dynamically-sized content. -->\r\n        <li>item</li>\r\n        <li><div style=""height: 100px; width: 100px; background: red;""></div></li>\r\n        <li>item</li>\r\n        <li>item</li>\r\n        <li>item</li>\r\n    </ul>\r\n</div>ShareImprove this answerFolloweditedAug 19, 2015 at 22:37answeredOct 20, 2014 at 22:57Oleg VaskevichOleg Vaskevich12.6k66 gold badges6464 silver badges8181 bronze badges\n\nMy workaround is to transitionmax-heightto the exact content height for a nice smooth animation, then use atransitionEndcallback to setmax-heightto9999pxso the content can resize freely.var content = $(\'#content\');\ncontent.inner = $(\'#content .inner\'); // inner div needed to get size of content when closed\n\n// css transition callback\ncontent.on(\'transitionEnd webkitTransitionEnd transitionend oTransitionEnd msTransitionEnd\', function(e){\n    if(content.hasClass(\'open\')){\n        content.css(\'max-height\', 9999); // try setting this to \'none\'... I dare you!\n    }\n});\n\n$(\'#toggle\').on(\'click\', function(e){\n    content.toggleClass(\'open closed\');\n    content.contentHeight = content.outerHeight();\n    \n    if(content.hasClass(\'closed\')){\n        \n        // disable transitions & set max-height to content height\n        content.removeClass(\'transitions\').css(\'max-height\', content.contentHeight);\n        setTimeout(function(){\n            \n            // enable & start transition\n            content.addClass(\'transitions\').css({\n                \'max-height\': 0,\n                \'opacity\': 0\n            });\n            \n        }, 10); // 10ms timeout is the secret ingredient for disabling/enabling transitions\n        // chrome only needs 1ms but FF needs ~10ms or it chokes on the first animation for some reason\n        \n    }else if(content.hasClass(\'open\')){  \n        \n        content.contentHeight += content.inner.outerHeight(); // if closed, add inner height to content height\n        content.css({\n            \'max-height\': content.contentHeight,\n            \'opacity\': 1\n        });\n        \n    }\n});.transitions {\n    transition: all 0.5s ease-in-out;\n    -webkit-transition: all 0.5s ease-in-out;\n    -moz-transition: all 0.5s ease-in-out;\n}\n\nbody {\n    font-family:Arial;\n    line-height: 3ex;\n}\ncode {\n    display: inline-block;\n    background: #fafafa;\n    padding: 0 1ex;\n}\n#toggle {\n    display:block;\n    padding:10px;\n    margin:10px auto;\n    text-align:center;\n    width:30ex;\n}\n#content {\n    overflow:hidden;\n    margin:10px;\n    border:1px solid #666;\n    background:#efefef;\n    opacity:1;\n}\n#content .inner {\n    padding:10px;\n    overflow:auto;\n}<script src=""https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js""></script>\n<div id=""content"" class=""open"">\n    <div class=""inner"">\n        <h3>Smooth CSS Transitions Between <code>height: 0</code> and <code>height: auto</code></h3>\n        <p>A clever workaround is to use <code>max-height</code> instead of <code>height</code>, and set it to something bigger than your content. Problem is the browser uses this value to calculate transition duration. So if you set it to <code>max-height: 1000px</code> but the content is only 100px high, the animation will be 10x too fast.</p>\n        <p>Another option is to measure the content height with JS and transition to that fixed value, but then you have to keep track of the content and manually resize it if it changes.</p>\n        <p>This solution is a hybrid of the two - transition to the measured content height, then set it to <code>max-height: 9999px</code> after the transition for fluid content sizing.</p>\n    </div>\n</div>\n\n<br />\n\n<button id=""toggle"">Challenge Accepted!</button>ShareImprove this answerFolloweditedOct 25, 2021 at 8:19Armen Michaeli9,00299 gold badges6464 silver badges9999 bronze badgesansweredMar 19, 2012 at 0:44Adam BiggsAdam Biggs3,59544 gold badges2424 silver badges2727 bronze badges\n\nA visual workaround to animating height using CSS3 transitions is to animate the padding instead.You don\'t quite get the full wipe effect, but playing around with the transition-duration and padding values should get you close enough. If you don\'t want to explicitly set height/max-height, this should be what you\'re looking for.div {\n    height: 0;\n    overflow: hidden;\n    padding: 0 18px;\n    -webkit-transition: all .5s ease;\n       -moz-transition: all .5s ease;\n            transition: all .5s ease;\n}\ndiv.animated {\n    height: auto;\n    padding: 24px 18px;\n}http://jsfiddle.net/catharsis/n5XfG/17/(riffed off stephband\'s above jsFiddle)ShareImprove this answerFolloweditedOct 31, 2013 at 10:12Joran Den Houting3,16944 gold badges2222 silver badges5151 bronze badgesansweredJun 26, 2011 at 19:05CatharsisCatharsis70355 silver badges66 bronze badges\n\nBrowsers have moved on a fair bit since this question was first raised. You can now transition grid track sizes and it isvery well supportedmeaning that this problem can be solved usingCSS Grid LayoutHere I am transitioning the second grid item from0fr(0 Fractional Units) to1fr(1 Fractional Units).#parent0 {\n  display: grid;\n  grid-template-rows: min-content 0fr;\n  transition: grid-template-rows 500ms;\n}\n#child0 {   \n  background-color: #dedede;\n  overflow: hidden;\n}\n#parent0:hover{\n  grid-template-rows: min-content 1fr;\n}<div id=""parent0"">\n  <h1>Hover me</h1>\n  <div id=""child0"">Some content\n    <br>Some content\n    <br>Some content\n    <br>Some content\n    <br>Some content\n  </div>\n</div>ShareImprove this answerFolloweditedAug 21, 2023 at 11:12answeredAug 21, 2023 at 10:07MoobMoob15.7k11 gold badge3838 silver badges5050 bronze badges\n\nAccording toMDN Web Docs,autovalues have been intentionally excluded from the CSS transitions spec, so instead ofheight: auto, useheight: 100%,top, or theflexproperty in grid and flex layouts.Expanding/collapsing an overlay.grid-container {\n  display: grid;\n  position: absolute;\n}\n\n.content {\n  background: aqua;\n  height: 0;\n  overflow: hidden;\n  transition: 1s;\n}\n\nspan:hover + .grid-container .content {\n  height: 100%;\n}<span>Hover over me!</span>\n\n<div class=""grid-container"">\n\n  <div class=""content"">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</div>\n\n</div>\n\n<p>Rest of the page content...</p>Expanding/collapsing a sliding overlay.grid-container {\n  display: grid;\n  position: absolute;\n  overflow: hidden;\n  pointer-events: none; /* to enable interaction with elements below the container */\n}\n\n.content {\n  background: aqua;\n  pointer-events: auto;\n  position: relative;\n  top: -100%;\n  transition: 1s;\n}\n\nspan:hover + .grid-container .content {\n  top: 0;\n}<span>Hover over me!</span>\n\n<div class=""grid-container"">\n\n  <div class=""content"">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</div>\n\n</div>\n\n<p>Rest of the page content...</p>ShareImprove this answerFolloweditedJun 18, 2023 at 5:22answeredNov 7, 2021 at 9:49MoriMori7,7881919 gold badges6767 silver badges100100 bronze badges\n\nUsemax-heightwith different transition easing and delay for each state.HTML:<a href=""#"" id=""trigger"">Hover</a>\n<ul id=""toggled"">\n    <li>One</li>\n    <li>Two</li>\n    <li>Three</li>\n<ul>CSS:#toggled{\n    max-height: 0px;\n    transition: max-height .8s cubic-bezier(0, 1, 0, 1) -.1s;\n}\n\n#trigger:hover + #toggled{\n    max-height: 9999px;\n    transition-timing-function: cubic-bezier(0.5, 0, 1, 0); \n    transition-delay: 0s;\n}See example:http://jsfiddle.net/0hnjehjc/1/ShareImprove this answerFollowansweredDec 16, 2014 at 23:35malihumalihu78855 silver badges66 bronze badges\n\nNo hard coded values.No JavaScript.No approximations.The trick is to use a hidden & duplicateddivto get the browser to understand what 100% means.This method is suitable whenever you\'re able to duplicate the DOM of the element you wish to animate..outer {\r\n  border: dashed red 1px;\r\n  position: relative;\r\n}\r\n\r\n.dummy {\r\n  visibility: hidden;\r\n}\r\n\r\n.real {\r\n  position: absolute;\r\n  background: yellow;\r\n  height: 0;\r\n  transition: height 0.5s;\r\n  overflow: hidden;\r\n}\r\n\r\n.outer:hover>.real {\r\n  height: 100%;\r\n}Hover over the box below:\r\n<div class=""outer"">\r\n  <!-- The actual element that you\'d like to animate -->\r\n  <div class=""real"">\r\nunpredictable content unpredictable content unpredictable content unpredictable content unpredictable content unpredictable content unpredictable content unpredictable content unpredictable content unpredictable content unpredictable content unpredictable\r\ncontent unpredictable content unpredictable content unpredictable content\r\n  </div>\r\n  <!-- An exact copy of the element you\'d like to animate. -->\r\n  <div class=""dummy"" aria-hidden=""true"">\r\nunpredictable content unpredictable content unpredictable content unpredictable content unpredictable content unpredictable content unpredictable content unpredictable content unpredictable content unpredictable content unpredictable content unpredictable\r\ncontent unpredictable content unpredictable content unpredictable content\r\n  </div>\r\n</div>ShareImprove this answerFolloweditedNov 26, 2017 at 7:02answeredFeb 26, 2016 at 17:19V MaharajhV Maharajh9,44155 gold badges3131 silver badges3333 bronze badges\n\nUpdate, 2024I do not recommend my original response, but I will leave it for posterity. Ever sinceflexboxbecame widely supported, I have relied on it for solutions to issues like the one in this question.I recommendthis answer, which uses a flex container and a transition betweenheight: 0andheight: 100%to avoid any sort of ""magic values"".Original (outdated), from 2016As I post this there are over 30 answers already, but I feel my answer improves on the alreadyaccepted answerby jake.I was not content with the issue that arises from simply usingmax-heightand CSS3 transitions, since as many commenters noted, you have to set yourmax-heightvalue very close to the actual height or you\'ll get a delay. See thisJSFiddlefor an example of that problem.To get around this (while still using no JavaScript), I added another HTML element that transitions thetransform: translateYCSS value.This means bothmax-heightandtranslateYare used:max-heightallows the element to push down elements below it, whiletranslateYgives the ""instant"" effect we want. The issue withmax-heightstill exists, but its effect is lessened.\nThis means you can set a much larger height for yourmax-heightvalue and worry about it less.The overall benefit is that on the transition back in (the collapse), the user sees thetranslateYanimation immediately, so it doesn\'t really matter how long themax-heighttakes.Solution as Fiddlebody {\n  font-family: sans-serif;\n}\n\n.toggle {\n  position: relative;\n  border: 2px solid #333;\n  border-radius: 3px;\n  margin: 5px;\n  width: 200px;\n}\n\n.toggle-header {\n  margin: 0;\n  padding: 10px;\n  background-color: #333;\n  color: white;\n  text-align: center;\n  cursor: pointer;\n}\n\n.toggle-height {\n  background-color: tomato;\n  overflow: hidden;\n  transition: max-height .6s ease;\n  max-height: 0;\n}\n\n.toggle:hover .toggle-height {\n  max-height: 1000px;\n}\n\n.toggle-transform {\n  padding: 5px;\n  color: white;\n  transition: transform .4s ease;\n  transform: translateY(-100%);\n}\n\n.toggle:hover .toggle-transform {\n  transform: translateY(0);\n}<div class=""toggle"">\n  <div class=""toggle-header"">\n    Toggle!\n  </div>\n  <div class=""toggle-height"">\n    <div class=""toggle-transform"">\n      <p>Content!</p>\n      <p>Content!</p>\n      <p>Content!</p>\n      <p>Content!</p>\n    </div>\n  </div>\n</div>\n\n<div class=""toggle"">\n  <div class=""toggle-header"">\n    Toggle!\n  </div>\n  <div class=""toggle-height"">\n    <div class=""toggle-transform"">\n      <p>Content!</p>\n      <p>Content!</p>\n      <p>Content!</p>\n      <p>Content!</p>\n    </div>\n  </div>\n</div>ShareImprove this answerFolloweditedJan 7 at 20:26answeredOct 16, 2016 at 16:55Andrew MessierAndrew Messier82699 silver badges1010 bronze badges\n\nNomax-height, usesrelativepositioning, works onlielements, & is pure CSS:I have not tested in anything but Firefox, though judging by the CSS, it should work on all browsers.FIDDLE:http://jsfiddle.net/n5XfG/2596/CSS.wrap { overflow:hidden; }\n\n.inner {\n            margin-top:-100%;\n    -webkit-transition:margin-top 500ms;\n            transition:margin-top 500ms;\n}\n\n.inner.open { margin-top:0px; }HTML<div class=""wrap"">\n    <div class=""inner"">Some Cool Content</div>\n</div>ShareImprove this answerFolloweditedFeb 6, 2023 at 14:23philipxy15k66 gold badges4141 silver badges9090 bronze badgesansweredAug 1, 2015 at 22:35VIDesignzVIDesignz4,75333 gold badges2727 silver badges3737 bronze badges\n\nA lot of answers, some better than other, most using JS. I believe I figured this out in two use-cases that are easy to understand.Toggle an overlay.demo01 {\n  overflow: hidden;\n  position: absolute;\n  pointer-events: none;\n}\n.demo01__content {\n  background: lightgray;\n  padding: 1rem;\n  pointer-events: all;\n  transform: translateY(-100%);\n  transition: transform 1s, visibility 1s;\n  visibility: hidden;\n}\n:checked ~ .demo01 .demo01__content {\n  transform: translateY(0);\n  visibility: visible;\n}<input type=""checkbox"" /> ⬅︎ Toggle\n<div>Something before 🙃</div>\n<div class=""demo01"">\n  <div class=""demo01__content"">\n    This content should…<br />\n    toggle! 👻\n  </div>\n</div>\n<div>Something after 🙂</div>Toggle in the document flow.demo02 {\n  display: grid;\n  grid-template-rows: 0fr;\n  overflow: hidden;\n  transition: grid-template-rows 1s;\n}\n.demo02__content {\n  align-self: end;\n  min-height: 0;\n  background: lightgray;\n  transition: visibility 1s;\n  visibility: hidden;\n}\n.demo02__padding {\n  padding: 1rem;\n}\n:checked ~ .demo02 {\n  grid-template-rows: 1fr;\n}\n:checked ~ .demo02 .demo02__content {\n  visibility: visible;\n}<input type=""checkbox"" /> ⬅︎ Toggle\n<div>Something before 🙃</div>\n<div class=""demo02"">\n  <div class=""demo02__content"">\n    <div class=""demo02__padding"">\n      This content should…<br />\n      toggle! 👻\n    </div>\n  </div>\n</div>\n<div>Something after 🙂</div>I wrotea blog postabout these techniques.ShareImprove this answerFolloweditedFeb 5, 2023 at 8:06Mori7,7881919 gold badges6767 silver badges100100 bronze badgesansweredNov 1, 2021 at 20:00Nelson MenezesNelson Menezes2,0861414 silver badges1515 bronze badges\n\nEDIT: Scroll down for updated answerI was making a drop down list and saw this Post ... many different answers but I decide to share my drop down list too, ... It\'s not perfect but at least it will using only css for drop down! I\'ve been using transform:translateY(y) to transform the list to the view ...You can see more in the testhttp://jsfiddle.net/BVEpc/4/I\'ve placed div behind every li because my drop down list are coming from up and to show them properly this was needed, my div code is:#menu div {\n    transition: 0.5s 1s;\n    z-index:-1;\n    -webkit-transform:translateY(-100%);\n    -webkit-transform-origin: top;\n}and hover is :#menu > li:hover div {\n    transition: 0.5s;\n    -webkit-transform:translateY(0);\n}and because ul height is set to the content it can get over your body content that\'s why I did this for ul:#menu ul {\n    transition: 0s 1.5s;\n    visibility:hidden;\n    overflow:hidden;\n}and hover:#menu > li:hover ul {\n     transition:none;\n     visibility:visible;\n}the second time after transition is delay and it will get hidden after my drop down list has been closed animately ...Hope later someone get benefit of this one.EDIT: I just can\'t believe ppl actually using this prototype! this drop down menu is only for one sub menu and that\'s all!!\nI\'ve updated a better one that can have two sub menu for both ltr and rtl direction with IE 8 support.Fiddle for LTRFiddle for RTLhopefully someone find this useful in future.ShareImprove this answerFolloweditedNov 7, 2018 at 23:26answeredOct 6, 2013 at 10:34SijavSijav1,5251717 silver badges2121 bronze badges\n\nFlexbox SolutionPros:simpleno JSsmooth transitionCons:element needs to be put in a fixed height flex containerThe way it works is by always having flex-basis: auto on the element with content, and transitioning flex-grow and flex-shrink instead.Edit: Improved JS Fiddle inspired by the Xbox One interface.* {\r\n  margin: 0;\r\n  padding: 0;\r\n  box-sizing: border-box;\r\n  transition: 0.25s;\r\n  font-family: monospace;\r\n}\r\n\r\nbody {\r\n  margin: 10px 0 0 10px;\r\n}\r\n\r\n.box {\r\n  width: 150px;\r\n  height: 150px;\r\n  margin: 0 2px 10px 0;\r\n  background: #2d333b;\r\n  border: solid 10px #20262e;\r\n  overflow: hidden;\r\n  display: inline-flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.space {\r\n  flex-basis: 100%;\r\n  flex-grow: 1;\r\n  flex-shrink: 0;    \r\n}\r\n\r\np {\r\n  flex-basis: auto;\r\n  flex-grow: 0;\r\n  flex-shrink: 1;\r\n  background: #20262e;\r\n  padding: 10px;\r\n  width: 100%;\r\n  text-align: left;\r\n  color: white;\r\n}\r\n\r\n.box:hover .space {\r\n  flex-grow: 0;\r\n  flex-shrink: 1;\r\n}\r\n  \r\n.box:hover p {\r\n  flex-grow: 1;\r\n  flex-shrink: 0;    \r\n}<div class=""box"">\r\n  <div class=""space""></div>\r\n  <p>\r\n    Super Metroid Prime Fusion\r\n  </p>\r\n</div>\r\n<div class=""box"">\r\n  <div class=""space""></div>\r\n  <p>\r\n    Resident Evil 2 Remake\r\n  </p>\r\n</div>\r\n<div class=""box"">\r\n  <div class=""space""></div>\r\n  <p>\r\n    Yolo The Game\r\n  </p>\r\n</div>\r\n<div class=""box"">\r\n  <div class=""space""></div>\r\n  <p>\r\n    Final Fantasy 7 Remake + All Additional DLC + Golden Tophat\r\n  </p>\r\n</div>\r\n<div class=""box"">\r\n  <div class=""space""></div>\r\n  <p>\r\n    DerpVille\r\n  </p>\r\n</div>JS FiddleShareImprove this answerFolloweditedMay 3, 2018 at 20:52answeredAug 4, 2017 at 21:01Lee ComstockLee Comstock29922 silver badges88 bronze badges\n\nYou can transition from height:0 to height:auto providing that you also provide min-height and max-height.div.stretchy{\n    transition: 1s linear;\n}\n\ndiv.stretchy.hidden{\n    height: 0;\n}\n\ndiv.stretchy.visible{\n    height: auto;\n    min-height:40px;\n    max-height:400px;\n}ShareImprove this answerFolloweditedOct 31, 2013 at 10:03Joran Den Houting3,16944 gold badges2222 silver badges5151 bronze badgesansweredApr 10, 2011 at 11:36Stuart BadmintonStuart Badminton36522 silver badges33 bronze badges\n\nYou could do this by creating a reverse (collapse) animation with clip-path.#child0 {\r\n    display: none;\r\n}\r\n#parent0:hover #child0 {\r\n    display: block;\r\n    animation: height-animation;\r\n    animation-duration: 200ms;\r\n    animation-timing-function: linear;\r\n    animation-fill-mode: backwards;\r\n    animation-iteration-count: 1;\r\n    animation-delay: 200ms;\r\n}\r\n@keyframes height-animation {\r\n    0% {\r\n        clip-path: polygon(0% 0%, 100% 0.00%, 100% 0%, 0% 0%);\r\n    }\r\n    100% {\r\n        clip-path: polygon(0% 0%, 100% 0.00%, 100% 100%, 0% 100%);\r\n    }\r\n}<div id=""parent0"">\r\n    <h1>Hover me (height: 0)</h1>\r\n    <div id=""child0"">Some content\r\n        <br>Some content\r\n        <br>Some content\r\n        <br>Some content\r\n        <br>Some content\r\n        <br>Some content\r\n        <br>\r\n    </div>\r\n</div>ShareImprove this answerFolloweditedFeb 24, 2020 at 14:22TylerH21.1k7272 gold badges7878 silver badges105105 bronze badgesansweredFeb 23, 2020 at 14:42Andrii KovalenkoAndrii Kovalenko2,20933 gold badges1313 silver badges3737 bronze badges\n\nOne sentence solution:Use padding transition. It\'s enough for most of cases such as accordion, and even better because it\'s fast due to that the padding value is often not big.If you want the animation process to be better, just raise the padding value..parent{ border-top: #999 1px solid;}\r\nh1{ margin: .5rem; font-size: 1.3rem}\r\n.children {\r\n  height: 0;\r\n  overflow: hidden;\r\n  background-color: #dedede;\r\n  transition: padding .2s ease-in-out, opacity .2s ease-in-out;\r\n  padding: 0 .5rem;\r\n  opacity: 0;\r\n}\r\n.children::before, .children::after{ content: """";display: block;}\r\n.children::before{ margin-top: -2rem;}\r\n.children::after{ margin-bottom: -2rem;}\r\n.parent:hover .children {\r\n  height: auto;\r\n  opacity: 1;\r\n  padding: 2.5rem .5rem;/* 0.5 + abs(-2), make sure it\'s less than expected min-height */\r\n}<div class=""parent"">\r\n  <h1>Hover me</h1>\r\n  <div class=""children"">Some content\r\n    <br>Some content\r\n    <br>Some content\r\n    <br>Some content\r\n    <br>Some content\r\n    <br>Some content\r\n    <br>\r\n  </div>\r\n</div>\r\n<div class=""parent"">\r\n  <h1>Hover me(long content)</h1>\r\n  <div class=""children"">Some content\r\n    <br>Some content<br>Some content\r\n    <br>Some content<br>Some content\r\n    <br>Some content<br>Some content\r\n    <br>Some content<br>Some content\r\n    <br>Some content<br>Some content\r\n    <br>\r\n  </div>\r\n</div>\r\n<div class=""parent"">\r\n  <h1>Hover me(short content)</h1>\r\n  <div class=""children"">Some content\r\n    <br>Some content\r\n    <br>Some content\r\n    <br>\r\n  </div>\r\n</div>ShareImprove this answerFolloweditedApr 15, 2020 at 5:44answeredApr 15, 2020 at 5:37dallasludallaslu49244 silver badges77 bronze badges\n\nFlexible Height CSS Only SolutionI\'ve stumbled upon a quirky solution using flex behavior. It works in at least Chrome and Firefox.First, the height transition only works between0and100%, two\nnumeric values. Since ""auto"" is not a numeric value, fractional\nincrements don\'t exist between 0 and ""auto"". 100% is a flexible\nvalue, so no specific height is required.Second, both the outer container and the inner container of the hidden content must be set todisplay: flexwithflex-direction: column.Third, the outer container must have a height property. Setting it to0maintains a smooth transitiononly when everything is contained in the outer containerbecause the flex behavior takes precedence over the height.Edit:Paintoshisuggested usingheight: fit-content, so that any content below the container is also pushed down..outer-container { height: 0; display: flex; flex-direction: column; }\n\n.inner-container { display: flex; flex-direction: column; }\n\n.hidden-content { \n    height: 0; \n    opacity: 0; \n    transition: height 1s 0.5s ease-in-out, opacity 0.5s ease-in-out;\n    /* transition out: first fade out opacity, then shrink height after a delay equal to the opacity duration */\n    }\n\n.trigger:hover + .inner-container > .hidden-content { \n    height: 100%; \n    opacity: 1; \n    transition: height 1s ease-in-out, opacity 0.5s 1s ease-in-out;\n    /* transition in: first expand height, then fade in opacity after a delay equal to the height duration */\n}<div class=""outer-container"">\n  <a href=""#"" class=""trigger"">Hover to Reveal Inner Container\'s Hidden Content</a>\n  <div class=""inner-container"">\n    <div class=""hidden-content"">This is hidden content. When triggered by hover, its height transitions from 0 to 100%, which pushes other content in the same container down gradually.</div>\n    <div>Within the same container, this other content is pushed down gradually as the hidden content\'s height transitions from 0 to 100%.</div>\n  </div>\n</div>Press the Run Code Snippetbutton to see the transition in action.\nIt\'s CSS only, with no specific height.ShareImprove this answerFolloweditedJun 5 at 19:19pbarney2,74444 gold badges3838 silver badges5050 bronze badgesansweredJan 8, 2022 at 1:48Adam Hunter PeckAdam Hunter Peck29711 gold badge44 silver badges1515 bronze badges\n\nExpanding on @jake\'s answer, the transition will go all the way to the max height value, causing an extremely fast animation - if you set the transitions for both :hover and off you can then control the crazy speed a little bit more.So the li:hover is when the mouse enters the state and then the transition on the non-hovered property will be the mouse leave.Hopefully this will be of some help.e.g:.sidemenu li ul {\n   max-height: 0px;\n   -webkit-transition: all .3s ease;\n   -moz-transition: all .3s ease;\n   -o-transition: all .3s ease;\n   -ms-transition: all .3s ease;\n   transition: all .3s ease;\n}\n.sidemenu li:hover ul {\n    max-height: 500px;\n    -webkit-transition: all 1s ease;\n   -moz-transition: all 1s ease;\n   -o-transition: all 1s ease;\n   -ms-transition: all 1s ease;\n   transition: all 1s ease;\n}\n/* Adjust speeds to the possible height of the list */Here\'s a fiddle:http://jsfiddle.net/BukwJ/ShareImprove this answerFolloweditedOct 31, 2013 at 10:36Joran Den Houting3,16944 gold badges2222 silver badges5151 bronze badgesansweredJul 9, 2013 at 16:14jamiejamie54588 silver badges2020 bronze badges\n\nI understand the question asks for a solution without JavaScript. But for those interested here\'s my solution using just a little bit of JS.ok, so the element\'s css whose height will change by default is set toheight: 0;and when openheight: auto;. It also hastransition: height .25s ease-out;. But of course the problem is that it won\'t transition to or fromheight: auto;So what i\'ve done is when opening or closing set the height to thescrollHeightproperty of the element. This new inline style will have higher specificity and override bothheight: auto;andheight: 0;and the transition runs.When opening i add atransitionendevent listener which will run just once then remove the inline style setting it back toheight: auto;which will allow the element to resize if necessary, as in this more complex example with sub menushttps://codepen.io/ninjabonsai/pen/GzYyVeWhen closing i remove the inline style right after the nextevent loopcycle by using setTimeout with no delay. This meansheight: auto;is temporarily overridden which allows the transition back toheight 0;const showHideElement = (element, open) => {\n  element.style.height = element.scrollHeight + \'px\';\n  element.classList.toggle(\'open\', open);\n\n  if (open) {\n    element.addEventListener(\'transitionend\', () => {\n      element.style.removeProperty(\'height\');\n    }, {\n      once: true\n    });\n  } else {\n    window.setTimeout(() => {\n      element.style.removeProperty(\'height\');\n    });\n  }\n}\n\nconst menu = document.body.querySelector(\'#menu\');\nconst list = document.body.querySelector(\'#menu > ul\')\n\nmenu.addEventListener(\'mouseenter\', () => showHideElement(list, true));\nmenu.addEventListener(\'mouseleave\', () => showHideElement(list, false));#menu > ul {\n  height: 0;\n  overflow: hidden;\n  background-color: #999;\n  transition: height .25s ease-out;\n}\n\n#menu > ul.open {\n  height: auto;\n}<div id=""menu"">\n  <a>hover me</a>\n  <ul>\n    <li>item</li>\n    <li>item</li>\n    <li>item</li>\n    <li>item</li>\n    <li>item</li>\n  </ul>\n</div>ShareImprove this answerFolloweditedApr 6, 2021 at 10:41answeredFeb 15, 2019 at 11:51shunryu111shunryu1116,33544 gold badges2727 silver badges1616 bronze badges\n\nThis solution uses a few techniques:padding-bottom:100%\'hack\' where percentages are defined in terms of the current width of the element.More info on this technique.float shrink-wrapping, (necessitating an extra div to apply the float clearing hack)non-semantic use ofhttps://caniuse.com/#feat=css-writing-modeand some transformations to undo it (this allows use of the padding hack above in a vertical context)The upshot though is that we get performant transitioning using CSS only, and a single transition function to smoothly achieve the transition; the holy grail!Of course, there\'s a downside! I can\'t work out how to control the width at which content gets cut off (overflow:hidden); because of the padding-bottom hack, the width and height are intimately related. There may be a way though, so will come back to it.https://jsfiddle.net/EoghanM/n1rp3zb4/28/body {\n  padding: 1em;\n}\n\n.trigger {\n  font-weight: bold;\n}\n\n/* .expander is there for float clearing purposes only */\n.expander::after {\n  content: \'\';\n  display: table;\n  clear: both;\n}\n\n.outer {\n  float: left; /* purpose: shrink to fit content */\n  border: 1px solid green;\n  overflow: hidden;\n}\n\n.inner {\n  transition: padding-bottom 0.3s ease-in-out;  /* or whatever crazy transition function you can come up with! */\n  padding-bottom: 0%;  /* percentage padding is defined in terms of width. The width at this level is equal to the height of the content */\n  height: 0;\n\n  /* unfortunately, change of writing mode has other bad effects like orientation of cursor */\n  writing-mode: vertical-rl;\n  cursor: default; /* don\'t want the vertical-text (sideways I-beam) */\n  transform: rotate(-90deg) translateX(-100%);  /* undo writing mode */\n  transform-origin: 0 0;\n  margin: 0;  /* left/right margins here will add to height */\n}\n\n.inner > div { white-space: nowrap; }\n\n.expander:hover .inner,  /* to keep open when expanded */\n.trigger:hover+.expander .inner {\n  padding-bottom: 100%;\n}<div class=""trigger"">HoverMe</div>\n<div class=""expander"">\n  <div class=""outer"">\n    <div class=""inner"">\n      <div>First Item</div>\n      <div>Content</div>\n      <div>Content</div>\n      <div>Content</div>\n      <div>Long Content can\'t be wider than outer height unfortunately</div>\n      <div>Last Item</div>\n    </div>\n  </div>\n</div>\n<div>\n  after content</div>\n</div>ShareImprove this answerFolloweditedDec 6, 2021 at 14:48TylerH21.1k7272 gold badges7878 silver badges105105 bronze badgesansweredNov 8, 2019 at 18:10EoghanMEoghanM26.4k2424 gold badges9393 silver badges124124 bronze badges\n\nI\'ve recently been transitioning themax-heighton thelielements rather than the wrappingul.The reasoning is that the delay for smallmax-heightsis far less noticeable (if at all) compared to largemax-heights, and I can also set mymax-heightvalue relative to thefont-sizeof thelirather than some arbitrary huge number by usingemsorrems.If my font size is1rem, I\'ll set mymax-heightto something like3rem(to accommodate wrapped text). You can see an example here:http://codepen.io/mindfullsilence/pen/DtzjEUpdate: CSS has evolved to include much more elegant techniques since I wrote this answer. I believe the best today is by using css grid and grid-template-row as described in this answer:https://stackoverflow.com/a/69802208/3594432ShareImprove this answerFolloweditedMay 7, 2023 at 0:55answeredMay 12, 2014 at 20:00mindfullsilencemindfullsilence40299 silver badges2323 bronze badges\n\nSet thestyle=""""attributes for tracked elements whenever there\'s a change in the DOM.plugin called mutant-transitionYou can use CSS for your transitions and not use hacks. You don\'t have to write any JavaScript. Just include the JavaScript library and specify which attributes you want to watch in the HTML. You don\'t have to use fixed height CSS. Set what you want to track on the element in question usingdata-mutant-attributes=""X"".<div data-mutant-attributes=""height"">                                                                      \n    This is an example with mutant-transition                                                                                                          \n</div>This usesMutationObserverto follow changes in the DOM. You don\'t have to set anything up or use JavaScript to manually animate. Changes are tracked automatically. However, because it uses MutationObserver, this will only transition in IE11+. < IE11 will see snap-changes (no transition).FiddlesDemonstrating transitioning fromheight: autotoheight: 100%Demonstrating transitioningheight: autowhen adding childrenShareImprove this answerFolloweditedFeb 6, 2023 at 14:21philipxy15k66 gold badges4141 silver badges9090 bronze badgesansweredMay 19, 2015 at 7:25JonTroncosoJonTroncoso83211 gold badge1010 silver badges2222 bronze badges\n\nAlternate CSS-only solution withline-height,padding,opacityandmargin:body {\n  background-color: linen;\n}\n\nmain {\n  background-color: white;\n}\n\n[id^=""toggle_""] ~ .content {\n  line-height: 0;\n  opacity: 0;\n  padding: 0 .5rem;\n  transition: .2s ease-out;\n}\n\n[id^=""toggle_""] ~ .content > p {\n  margin: 0;\n    transition: .2s ease-out;\n}\n\n[id^=""toggle_""]:checked ~ .content   {\n  opacity: 1;\n  padding: .5rem;\n  line-height: 1.5;\n}\n\n[id^=""toggle_""]:checked ~ .content p  {\n    margin-bottom: .75rem;\n}\n\n[id^=""toggle_""] + label {\n  display: flex;\n  justify-content: space-between;\n  padding: 0.5em 1em;\n  background: lightsteelblue;\n  border-bottom: 1px solid gray;\n  cursor: pointer;\n}\n\n[id^=""toggle_""] + label:before {\n  content: ""Show"";\n}\n\n[id^=""toggle_""]:checked + label:before {\n  content: ""Hide"";\n}\n\n[id^=""toggle_""] + label:after {\n  content: ""\\25BC"";\n}\n\n[id^=""toggle_""]:checked + label:after {\n  content: ""\\25B2"";\n}<main>\n    <div>\n        <input type=""checkbox"" id=""toggle_1"" hidden>\n        <label for=""toggle_1"" hidden></label>\n        <div class=""content"">\n            <p>\n                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis dolor neque, commodo quis leo ut, auctor tincidunt mauris. Nunc fringilla tincidunt metus, non gravida lorem condimentum non. Duis ornare purus nisl, at porta arcu eleifend eget. Integer lorem ante, porta vulputate dui ut, blandit tempor tellus. Proin facilisis bibendum diam, sit amet rutrum est feugiat ut. Mauris rhoncus convallis arcu in condimentum. Donec volutpat dui eu mollis vulputate. Nunc commodo lobortis nunc at ultrices. Suspendisse in lobortis diam. Suspendisse eget vestibulum ex.\n            </p>\n        </div>\n    </div>\n    <div>\n        <input type=""checkbox"" id=""toggle_2"" hidden>\n        <label for=""toggle_2"" hidden></label>\n        <div class=""content"">\n            <p>\n                Maecenas laoreet nunc sit amet nulla ultrices auctor. Vivamus sed nisi vitae nibh condimentum pulvinar eu vel lorem. Sed pretium viverra eros ut facilisis. In ut fringilla magna. Sed a tempor libero. Donec sapien libero, lacinia sed aliquet ut, imperdiet finibus tellus. Nunc tellus lectus, rhoncus in posuere quis, tempus sit amet enim. Morbi et erat ac velit fringilla dignissim. Donec commodo, est id accumsan cursus, diam dui hendrerit nisi, vel hendrerit purus dolor ut risus. Phasellus mattis egestas ipsum sed ullamcorper. In diam ligula, rhoncus vel enim et, imperdiet porta justo. Curabitur vulputate hendrerit nisl, et ultricies diam. Maecenas ac leo a diam cursus ornare nec eu quam.\n            </p>\n            <p>Sed non vulputate purus, sed consectetur odio. Sed non nibh fringilla, imperdiet odio nec, efficitur ex. Suspendisse ut dignissim enim. Maecenas felis augue, tempor sit amet sem fringilla, accumsan fringilla nibh. Quisque posuere lacus tortor, quis malesuada magna elementum a. Nullam id purus in ante molestie tincidunt. Morbi luctus orci eu egestas dignissim. Sed tincidunt, libero quis scelerisque bibendum, ligula nisi gravida libero, id lacinia nulla leo in elit.\n            </p>\n            <p>Aenean aliquam risus id consectetur sagittis. Aliquam aliquam nisl eu augue accumsan, vel maximus lorem viverra. Aliquam ipsum dolor, tempor et justo ac, fermentum mattis dui. Etiam at posuere ligula. Vestibulum tortor metus, viverra vitae mi non, laoreet iaculis purus. Praesent vel semper nibh. Curabitur a congue lacus. In et pellentesque lorem. Morbi posuere felis non diam vulputate, non vulputate ex vehicula. Vivamus ultricies, massa id sagittis consequat, sem mauris tincidunt nunc, eu vehicula augue quam ut mauris.\n            </p>\n        </div>\n    </div>\n        <div>\n        <input type=""checkbox"" id=""toggle_3"" hidden>\n        <label for=""toggle_3"" hidden></label>\n        <div class=""content"">\n            <p>\n                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis dolor neque, commodo quis leo ut, auctor tincidunt mauris. Nunc fringilla tincidunt metus, non gravida lorem condimentum non. Duis ornare purus nisl, at porta arcu eleifend eget. Integer lorem ante, porta vulputate dui ut, blandit tempor tellus. Proin facilisis bibendum diam, sit amet rutrum est feugiat ut. Mauris rhoncus convallis arcu in condimentum. Donec volutpat dui eu mollis vulputate. Nunc commodo lobortis nunc at ultrices. Suspendisse in lobortis diam. Suspendisse eget vestibulum ex.\n            </p>\n            <p>Sed non vulputate purus, sed consectetur odio. Sed non nibh fringilla, imperdiet odio nec, efficitur ex. Suspendisse ut dignissim enim. Maecenas felis augue, tempor sit amet sem fringilla, accumsan fringilla nibh. Quisque posuere lacus tortor, quis malesuada magna elementum a. Nullam id purus in ante molestie tincidunt. Morbi luctus orci eu egestas dignissim. Sed tincidunt, libero quis scelerisque bibendum, ligula nisi gravida libero, id lacinia nulla leo in elit.\n            </p>\n        </div>\n    </div>\n</main>ShareImprove this answerFolloweditedApr 28, 2021 at 18:36answeredApr 28, 2021 at 17:38Ali KleinAli Klein1,8591414 silver badges1313 bronze badges\n\nI realize this thread is getting old, but it ranks high on certain Google searches so I figure it\'s worth updating.You also just get/set the element\'s own height:var load_height = document.getElementById(\'target_box\').clientHeight;\ndocument.getElementById(\'target_box\').style.height = load_height + \'px\';You should dump this Javascript immediately after target_box\'s closing tag in an inline script tag.ShareImprove this answerFollowansweredMay 27, 2011 at 1:13CharleyCharley8111 silver badge66 bronze badges\n\nJake\'s answer to animate the max-height is great, but I found the delay caused by setting a large max-height annoying.One could move the collapsable content into an inner div and calculate the max height by getting the height of the inner div (via JQuery it\'d be the outerHeight()).$(\'button\').bind(\'click\', function(e) { \n  e.preventDefault();\n  w = $(\'#outer\');\n  if (w.hasClass(\'collapsed\')) {\n    w.css({ ""max-height"": $(\'#inner\').outerHeight() + \'px\' });\n  } else {\n    w.css({ ""max-height"": ""0px"" });\n  }\n  w.toggleClass(\'collapsed\');\n});Here\'s a jsfiddle link:http://jsfiddle.net/pbatey/duZpTHere\'s a jsfiddle with the absolute minimal amount of code required:http://jsfiddle.net/8ncjjxh8/ShareImprove this answerFolloweditedAug 5, 2015 at 12:13user33368823,25322 gold badges1616 silver badges1313 bronze badgesansweredAug 17, 2013 at 1:46pbateypbatey1,3751515 silver badges1313 bronze badges'}"
7,"{'title': 'How do JavaScript closures work?', 'question': ""This question's answers are acommunity effort. Edit existing answers to improve this post. It is not currently accepting new answers or interactions.How would you explain JavaScript closures to someone with a knowledge of the concepts they consist of (for example functions, variables and the like), but does not understand closures themselves?I have seenthe Scheme examplegiven on Wikipedia, but unfortunately it did not help.javascriptfunctionvariablesscopeclosuresShareFolloweditedApr 9, 2017 at 13:55community wiki28 revs, 21 users 17%Zaheer Ahmed"", 'answers': 'A closure is a pairing of:A function andA reference to that function\'s outer scope (lexical environment)A lexical environment is part of every execution context (stack frame) and is a map between identifiers (i.e. local variable names) and values.Every function in JavaScript maintains a reference to its outer lexical environment. This reference is used to configure the execution context created when a function is invoked. This reference enables code inside the function to ""see"" variables declared outside the function, regardless of when and where the function is called.If a function was called by a function, which in turn was called by another function, then a chain of references to outer lexical environments is created. This chain is called the scope chain.In the following code,innerforms a closure with the lexical environment of the execution context created whenfoois invoked,closing overvariablesecret:function foo() {\n  const secret = Math.trunc(Math.random() * 100)\n  return function inner() {\n    console.log(`The secret number is ${secret}.`)\n  }\n}\nconst f = foo() // `secret` is not directly accessible from outside `foo`\nf() // The only way to retrieve `secret` is to invoke `f`In other words: in JavaScript, functions carry a reference to a private ""box of state"", to which only they (and any other functions declared within the same lexical environment) have access. This box of the state is invisible to the caller of the function, delivering an excellent mechanism for data-hiding and encapsulation.And remember: functions in JavaScript can be passed around like variables (first-class functions), meaning these pairings of functionality and state can be passed around your program, similar to how you might pass an instance of a class around in C++.If JavaScript did not have closures, then more states would have to be passed between functionsexplicitly, making parameter lists longer and code noisier.So, if you want a function to always have access to a private piece of state, you can use a closure....and frequently wedowant to associate the state with a function. For example, in Java or C++, when you add a private instance variable and a method to a class, you are associating the state with functionality.In C and most other common languages, after a function returns, all the local variables are no longer accessible because the stack-frame is destroyed. In JavaScript, if you declare a function within another function, then the local variables of the outer function can remain accessible after returning from it. In this way, in the code above,secretremains available to the function objectinner,afterit has been returned fromfoo.Uses of ClosuresClosures are useful whenever you need a private state associated with a function. This is a very common scenario - and remember: JavaScript did not have a class syntax until 2015, and it still does not have a private field syntax. Closures meet this need.Private Instance VariablesIn the following code, the functiontoStringcloses over the details of the car.function Car(manufacturer, model, year, color) {\n  return {\n    toString() {\n      return `${manufacturer} ${model} (${year}, ${color})`\n    }\n  }\n}\n\nconst car = new Car(\'Aston Martin\', \'V8 Vantage\', \'2012\', \'Quantum Silver\')\nconsole.log(car.toString())Functional ProgrammingIn the following code, the functioninnercloses over bothfnandargs.function curry(fn) {\n  const args = []\n  return function inner(arg) {\n    if(args.length === fn.length) return fn(...args)\n    args.push(arg)\n    return inner\n  }\n}\n\nfunction add(a, b) {\n  return a + b\n}\n\nconst curriedAdd = curry(add)\nconsole.log(curriedAdd(2)(3)()) // 5Event-Oriented ProgrammingIn the following code, functiononClickcloses over variableBACKGROUND_COLOR.const $ = document.querySelector.bind(document)\nconst BACKGROUND_COLOR = \'rgba(200, 200, 242, 1)\'\n\nfunction onClick() {\n  $(\'body\').style.background = BACKGROUND_COLOR\n}\n\n$(\'button\').addEventListener(\'click\', onClick)<button>Set background color</button>ModularizationIn the following example, all the implementation details are hidden inside an immediately executed function expression. The functionstickandtoStringclose over the private state and functions they need to complete their work. Closures have enabled us to modularize and encapsulate our code.let namespace = {};\n\n(function foo(n) {\n  let numbers = []\n\n  function format(n) {\n    return Math.trunc(n)\n  }\n\n  function tick() {\n    numbers.push(Math.random() * 100)\n  }\n\n  function toString() {\n    return numbers.map(format)\n  }\n\n  n.counter = {\n    tick,\n    toString\n  }\n}(namespace))\n\nconst counter = namespace.counter\ncounter.tick()\ncounter.tick()\nconsole.log(counter.toString())ExamplesExample 1This example shows that the local variables are not copied in the closure: the closure maintains a reference to the original variablesthemselves. It is as though the stack-frame stays alive in memory even after the outer function exits.function foo() {\n  let x = 42\n  let inner = () => console.log(x)\n  x = x + 1\n  return inner\n}\n\nfoo()() // logs 43Example 2In the following code, three methodslog,increment, andupdateall close over the same lexical environment.And every timecreateObjectis called, a new execution context (stack frame) is created and a completely new variablex, and a new set of functions (logetc.) are created, that close over this new variable.function createObject() {\n  let x = 42;\n  return {\n    log() { console.log(x) },\n    increment() { x++ },\n    update(value) { x = value }\n  }\n}\n\nconst o = createObject()\no.increment()\no.log() // 43\no.update(5)\no.log() // 5\nconst p = createObject()\np.log() // 42Example 3If you are using variables declared usingvar, be careful you understand which variable you are closing over. Variables declared usingvarare hoisted. This is much less of a problem in modern JavaScript due to the introduction ofletandconst.In the following code, each time around the loop, a new functioninneris created, which closes overi. But becausevar iis hoisted outside the loop, all of these inner functions close over the same variable, meaning that the final value ofi(3) is printed, three times.function foo() {\n  var result = []\n  for (var i = 0; i < 3; i++) {\n    result.push(function inner() { console.log(i) } )\n  }\n\n  return result\n}\n\nconst result = foo()\n// The following will print `3`, three times...\nfor (var i = 0; i < 3; i++) {\n  result[i]() \n}Final points:Whenever a function is declared in JavaScript closure is created.Returning afunctionfrom inside another function is the classic example of closure, because the state inside the outer function is implicitly available to the returned inner function, even after the outer function has completed execution.Whenever you useeval()inside a function, a closure is used. The text youevalcan reference local variables of the function, and in the non-strict mode, you can even create new local variables by usingeval(\'var foo = …\').When you usenew Function(…)(theFunction constructor) inside a function, it does not close over its lexical environment: it closes over the global context instead. The new function cannot reference the local variables of the outer function.A closure in JavaScript is like keeping a reference (NOTa copy) to the scope at the point of function declaration, which in turn keeps a reference to its outer scope, and so on, all the way to the global object at the top of the scope chain.A closure is created when a function is declared; this closure is used to configure the execution context when the function is invoked.A new set of local variables is created every time a function is called.LinksDouglas Crockford\'s simulatedprivate attributes and private methodsfor an object, using closures.A great explanation of how closures cancause memory leaks in IEif you are not careful.MDN documentation onJavaScript Closures.The Beginner\'s Guide toJavaScript Closures.ShareImprove this answerFolloweditedJul 16, 2023 at 17:04community wiki69 revs, 58 users 30%Ben Aston\n\nEvery function in JavaScript maintains a link to its outer lexical environment. A lexical environment is a map of all the names (eg. variables, parameters) within a scope, with their values.So, whenever you see thefunctionkeyword, code inside that function has access to variables declared outside the function.function foo(x) {\r\n  var tmp = 3;\r\n\r\n  function bar(y) {\r\n    console.log(x + y + (++tmp)); // will log 16\r\n  }\r\n\r\n  bar(10);\r\n}\r\n\r\nfoo(2);This will log16because functionbarcloses over the parameterxand the variabletmp, both of which exist in the lexical environment of outer functionfoo.Functionbar, together with its link with the lexical environment of functionfoois a closure.A function doesn\'t have toreturnin order to create a closure. Simply by virtue of its declaration, every function closes over its enclosing lexical environment, forming a closure.function foo(x) {\r\n  var tmp = 3;\r\n\r\n  return function (y) {\r\n    console.log(x + y + (++tmp)); // will also log 16\r\n  }\r\n}\r\n\r\nvar bar = foo(2);\r\nbar(10); // 16\r\nbar(10); // 17The above function will also log 16, because the code insidebarcan still refer to argumentxand variabletmp, even though they are no longer directly in scope.However, sincetmpis still hanging around insidebar\'s closure, it is available to be incremented. It will be incremented each time you callbar.The simplest example of a closure is this:var a = 10;\r\n\r\nfunction test() {\r\n  console.log(a); // will output 10\r\n  console.log(b); // will output 6\r\n}\r\nvar b = 6;\r\ntest();When a JavaScript function is invoked, a new execution contextecis created. Together with the function arguments and the target object, this execution context also receives a link to the lexical environment of the calling execution context, meaning the variables declared in the outer lexical environment (in the above example, bothaandb) are available fromec.Every function creates a closure because every function has a link to its outer lexical environment.Note that variablesthemselvesare visible from within a closure,notcopies.ShareImprove this answerFolloweditedMar 28, 2020 at 5:44community wiki41 revs, 31 users 31%Ali\n\nFOREWORD: this answer was written when the question was:Like the old Albert said : ""If you can\'t explain it to a six-year old, you really don\'t understand it yourself.”. Well I tried to explain JS closures to a 27 years old friend and completely failed.Can anybody consider that I am 6 and strangely interested in that subject ?I\'m pretty sure I was one of the only people that attempted to take the initial question literally. Since then, the question has mutated several times, so my answer may now seem incredibly silly & out of place. Hopefully the general idea of the story remains fun for some.I\'m a big fan of analogy and metaphor when explaining difficult concepts, so let me try my hand with a story.Once upon a time:There was a princess...function princess() {She lived in a wonderful world full of adventures. She met her Prince Charming, rode around her world on a unicorn, battled dragons, encountered talking animals, and many other fantastical things.var adventures = [];\n\n    function princeCharming() { /* ... */ }\n\n    var unicorn = { /* ... */ },\n        dragons = [ /* ... */ ],\n        squirrel = ""Hello!"";\n\n    /* ... */But she would always have to return back to her dull world of chores and grown-ups.return {And she would often tell them of her latest amazing adventure as a princess.story: function() {\n            return adventures[adventures.length - 1];\n        }\n    };\n}But all they would see is a little girl...var littleGirl = princess();...telling stories about magic and fantasy.littleGirl.story();And even though the grown-ups knew of real princesses, they would never believe in the unicorns or dragons because they could never see them. The grown-ups said that they only existed inside the little girl\'s imagination.But we know the real truth; that the little girl with the princess inside......is really a princess with a little girl inside.ShareImprove this answerFolloweditedNov 1, 2017 at 11:40community wiki11 revs, 5 users 58%Jacob Swartwood\n\nTaking the question seriously, we should find out what a typical 6-year-old is capable of cognitively, though admittedly, one who is interested in JavaScript is not so typical.OnChildhood Development: 5 to 7 Yearsit says:Your child will be able to follow two-step directions. For example, if you say to your child, ""Go to the kitchen and get me a trash bag"" they will be able to remember that direction.We can use this example to explain closures, as follows:The kitchen is a closure that has a local variable, calledtrashBags.  There is a function inside the kitchen calledgetTrashBagthat gets one trash bag and returns it.We can code this in JavaScript like this:function makeKitchen() {\r\n  var trashBags = [\'A\', \'B\', \'C\']; // only 3 at first\r\n\r\n  return {\r\n    getTrashBag: function() {\r\n      return trashBags.pop();\r\n    }\r\n  };\r\n}\r\n\r\nvar kitchen = makeKitchen();\r\n\r\nconsole.log(kitchen.getTrashBag()); // returns trash bag C\r\nconsole.log(kitchen.getTrashBag()); // returns trash bag B\r\nconsole.log(kitchen.getTrashBag()); // returns trash bag AFurther points that explain why closures are interesting:Each timemakeKitchen()is called, a new closure is created with its own separatetrashBags.ThetrashBagsvariable is local to the inside of each kitchen and is not accessible outside, but the inner function on thegetTrashBagproperty does have access to it.Every function call creates a closure, but there would be no need to keep the closure around unless an inner function, which has access to the inside of the closure, can be called from outside the closure.  Returning the object with thegetTrashBagfunction does that here.ShareImprove this answerFolloweditedOct 10, 2018 at 17:50community wiki18 revs, 5 users 84%dlaliberte\n\nThe Straw ManI need to know how many times a button has been clicked and do something on every third click...Fairly Obvious Solution// Declare counter outside event handler\'s scope\nvar counter = 0;\nvar element = document.getElementById(\'button\');\n\nelement.addEventListener(""click"", function() {\n  // Increment outside counter\n  counter++;\n\n  if (counter === 3) {\n    // Do something every third time\n    console.log(""Third time\'s the charm!"");\n\n    // Reset counter\n    counter = 0;\n  }\n});<button id=""button"">Click Me!</button>Now this will work, but it does encroach into the outer scope by adding a variable, whose sole purpose is to keep track of the count. In some situations, this would be preferable as your outer application might need access to this information. But in this case, we are only changing every third click\'s behavior, so it is preferable toenclose this functionality inside the event handler.Consider this optionvar element = document.getElementById(\'button\');\n\nelement.addEventListener(""click"", (function() {\n  // init the count to 0\n  var count = 0;\n\n  return function(e) { // <- This function becomes the click handler\n    count++; //    and will retain access to the above `count`\n\n    if (count === 3) {\n      // Do something every third time\n      console.log(""Third time\'s the charm!"");\n\n      //Reset counter\n      count = 0;\n    }\n  };\n})());<button id=""button"">Click Me!</button>Notice a few things here.In the above example, I am using the closure behavior of JavaScript.This behavior allows any function to have access to the scope in which it was created, indefinitely.To practically apply this, I immediately invoke a function that returns another function, and because the function I\'m returning has access to the internal count variable (because of the closure behavior explained above) this results in a private scope for usage by the resulting function... Not so simple? Let\'s dilute it down...A simple one-line closure//          _______________________Immediately invoked______________________\n//         |                                                                |\n//         |        Scope retained for use      ___Returned as the____      |\n//         |       only by returned function   |    value of func     |     |\n//         |             |            |        |                      |     |\n//         v             v            v        v                      v     v\nvar func = (function() { var a = \'val\'; return function() { alert(a); }; })();All variables outside the returned function are available to the returned function, but they are not directly available to the returned function object...func();  // Alerts ""val""\nfunc.a;  // UndefinedGet it? So in our primary example, the count variable is contained within the closure and always available to the event handler, so it retains its state from click to click.Also, this private variable state isfullyaccessible, for both readings and assigning to its private scoped variables.There you go; you\'re now fully encapsulating this behavior.Full Blog Post(including jQuery considerations)ShareImprove this answerFolloweditedJun 20, 2020 at 9:12community wiki17 revs, 8 users 64%jondavidjohn\n\nClosures are hard to explain because they are used to make some behaviour work that everybody intuitively expects to work anyway. I find the best way to explain them (and the way thatIlearned what they do) is to imagine the situation without them:const makePlus = function(x) {\n    return function(y) { return x + y; };\n}\n\nconst plus5 = makePlus(5);\nconsole.log(plus5(3));What would happen here if JavaScriptdidn\'tknow closures? Just replace the call in the last line by its method body (which is basically what function calls do) and you get:console.log(x + 3);Now, where\'s the definition ofx? We didn\'t define it in the current scope. The only solution is to letplus5carryits scope (or rather, its parent\'s scope) around. This way,xis well-defined and it is bound to the value 5.ShareImprove this answerFolloweditedJun 30, 2020 at 8:16community wiki4 revs, 3 users 70%Konrad Rudolph\n\nTLDRA closure is a link between a function and its outer lexical (ie. as-written) environment, such that the identifiers (variables, parameters, function declarations etc) defined within that environment are visible from within the function, regardless of when or from where the function is invoked.DetailsIn the terminology of the ECMAScript specification, a closure can be said to be implemented by the[[Environment]]reference of every function-object, which points to thelexical environmentwithin which the function is defined.When a function is invoked via the internal[[Call]]method, the[[Environment]]reference on the function-object is copied into theouter environment referenceof theenvironment recordof the newly-createdexecution context(stack frame).In the following example, functionfcloses over the lexical environment of the global execution context:function f() {}In the following example, functionhcloses over the lexical environment of functiong, which, in turn, closes over the lexical environment of the global execution context.function g() {\n    function h() {}\n}If an inner function is returned by an outer, then the outer lexical environment will persist after the outer function has returned. This is because the outer lexical environment needs to be available if the inner function is eventually invoked.In the following example, functionjcloses over the lexical environment of functioni, meaning that variablexis visible from inside functionj, long after functionihas completed execution:function i() {\r\n    var x = \'mochacchino\'\r\n    return function j() {\r\n        console.log(\'Printing the value of x, from within function j: \', x)\r\n    }\r\n} \r\n\r\nconst k = i()\r\nsetTimeout(k, 500) // invoke k (which is j) after 500msIn a closure, the variables in the outer lexical environmentthemselvesare available,notcopies.function l() {\r\n  var y = \'vanilla\';\r\n\r\n  return {\r\n    setY: function(value) {\r\n      y = value;\r\n    },\r\n    logY: function(value) {\r\n      console.log(\'The value of y is: \', y);\r\n    }\r\n  }\r\n}\r\n\r\nconst o = l()\r\no.logY() // The value of y is: vanilla\r\no.setY(\'chocolate\')\r\no.logY() // The value of y is: chocolateThe chain of lexical environments, linked between execution contexts via outer environment references, forms ascope chainand defines the identifiers visible from any given function.Please note that in an attempt to improve clarity and accuracy, this answer has been substantially changed from the original.ShareImprove this answerFolloweditedFeb 17, 2020 at 19:56community wiki17 revs, 6 users 49%Ben\n\nOK, 6-year-old closures fan. Do you want to hear the simplest example of closure?Let\'s imagine the next situation: a driver is sitting in a car. That car is inside a plane. Plane is in the airport. The ability of driver to access things outside his car, but inside the plane, even if that plane leaves an airport, is a closure. That\'s it. When you turn 27, look at themore detailed explanationor at the example below.Here is how I can convert my plane story into the code.var plane = function(defaultAirport) {\r\n\r\n  var lastAirportLeft = defaultAirport;\r\n\r\n  var car = {\r\n    driver: {\r\n      startAccessPlaneInfo: function() {\r\n        setInterval(function() {\r\n          console.log(""Last airport was "" + lastAirportLeft);\r\n        }, 2000);\r\n      }\r\n    }\r\n  };\r\n  car.driver.startAccessPlaneInfo();\r\n\r\n  return {\r\n    leaveTheAirport: function(airPortName) {\r\n      lastAirportLeft = airPortName;\r\n    }\r\n  }\r\n}(""Boryspil International Airport"");\r\n\r\nplane.leaveTheAirport(""John F. Kennedy"");ShareImprove this answerFolloweditedOct 10, 2018 at 18:38community wiki8 revs, 6 users 46%Max Tkachenko\n\nThis is an attempt to clear up several (possible) misunderstandings about closures that appear in some of the other answers.A closure is not only created when you return an inner function.In fact, the enclosing functiondoes not need to return at allin order for its closure to be created. You might instead assign your inner function to a variable in an outer scope, or pass it as an argument to another function where it could be called immediately or any time later. Therefore, the closure of the enclosing function is probably createdas soon as the enclosing function is calledsince any inner function has access to that closure whenever the inner function is called, before or after the enclosing function returns.A closure does not reference a copy of theold valuesof variables in its scope.The variables themselves are part of the closure, and so the value seen when accessing one of those variables is the latest value at the time it is accessed. This is why inner functions created inside of loops can be tricky, since each one has access to the same outer variables rather than grabbing a copy of the variables at the time the function is created or called.The ""variables"" in a closure include any named functionsdeclared within the function. They also include arguments of the function. A closure also has access to its containing closure\'s variables, all the way up to the global scope.Closures use memory, but they don\'t cause memory leakssince JavaScript by itself cleans up its own circular structures that are not referenced. Internet\xa0Explorer memory leaks involving closures are created when it fails to disconnect DOM attribute values that reference closures, thus maintaining references to possibly circular structures.ShareImprove this answerFolloweditedMay 5, 2016 at 15:00community wiki4 revs, 2 users 76%dlaliberte\n\nI wrote a blog post a while back explaining closures. Here\'s what I said about closures in terms ofwhyyou\'d want one.Closures are a way to let a function havepersistent, private variables- that is, variables that only one function knows about, where it can keep track of info from previous times that it was run.In that sense, they let a function act a bit like an object with private attributes.Examplevar iplus1= (function () \n{\n    var plusCount = 0;\n    return function () \n    {\n        return ++plusCount;\n    }\n})();Here the outer self-invoking anonymous function run only once and setsplusCountvariable to 0, and returns the inner function expression.Whereas inner function has access toplusCountvariable. Now every time we invoke the functioniplus1(), the inner function increments theplusCountvariable.The important point to keep in mind is thatno other script on the page has access toplusCountvariable and the only way to change theplusCountvariable is throughiplus1function.Read More for reference:So what are these closure thingys?ShareImprove this answerFolloweditedApr 10, 2023 at 20:27community wiki4 revs, 3 users 54%Nathan Long\n\nThe original question had a quote:If you can\'t explain it to a six-year old, you really don\'t understand it yourself.This is how I\'d try to explain it to an actual six-year-old:You know how grown-ups can own a house, and they call it home? When a mom has a child, the child doesn\'t really own anything, right? But its parents own a house, so whenever someone asks ""Where\'s your home?"", the child can answer ""that house!"", and point to the house of its parents.A ""Closure"" is the ability of the child to always (even if abroad) be able to refer to its home, even though it\'s really the parent\'s who own the house.ShareImprove this answerFolloweditedSep 1, 2022 at 11:01community wiki5 revs, 3 users 75%Magne\n\nClosures are simple:The following simple example covers all the main points of JavaScript closures.*Here is a factory that produces calculators that can add and multiply:function make_calculator() {\n  var n = 0; // this calculator stores a single number n\n  return {\n    add: function(a) {\n      n += a;\n      return n;\n    },\n    multiply: function(a) {\n      n *= a;\n      return n;\n    }\n  };\n}\n\nfirst_calculator = make_calculator();\nsecond_calculator = make_calculator();\n\nfirst_calculator.add(3); // returns 3\nsecond_calculator.add(400); // returns 400\n\nfirst_calculator.multiply(11); // returns 33\nsecond_calculator.multiply(10); // returns 4000The key point:Each call tomake_calculatorcreates a new local variablen, which continues to be usable by that calculator\'saddandmultiplyfunctions long aftermake_calculatorreturns.If you are familiar with stack frames, these calculators seem strange: How can they keep accessingnaftermake_calculatorreturns?  The answer is to imagine that JavaScript doesn\'t use ""stack frames"", but instead uses ""heap frames"", which can persist after the function call that made them returns.Inner functions likeaddandmultiply, which access variables declared in an outer function**, are calledclosures.That is pretty much all there is to closures.*For example, it covers all the points in the ""Closures for Dummies"" article given inanother answer, except example 6, which simply shows that variables can be used before they are declared, a nice fact to know but completely unrelated to closures. It also covers all the points inthe accepted answer, except for the points (1) that functions copy their arguments into local variables (the named function arguments), and (2) that copying numbers creates a new number, but copying an object reference gives you another reference to the same object. These are also good to know but again completely unrelated to closures. It is also very similar to the example inthis answerbut a bit shorter and less abstract. It does not cover the point ofthis answerorthis comment, which is that JavaScript makes it difficult to plug thecurrentvalue of a loop variable into your inner function: The ""plugging in"" step can only be done with a helper function that encloses your inner function and is invoked on each loop iteration. (Strictly speaking, the inner function accesses the helper function\'s copy of the variable, rather than having anything plugged in.) Again, very useful when creating closures, but not part of what a closure is or how it works. There is additional confusion due to closures working differently in functional languages like ML, where variables are bound to values rather than to storage space, providing a constant stream of people who understand closures in a way (namely the ""plugging in"" way) that is simply incorrect for JavaScript, where variables are always bound to storage space, and never to values.**Any outer function, if several are nested, or even in the global context, asthis answerpoints out clearly.ShareImprove this answerFolloweditedMay 23, 2017 at 12:10community wiki7 revs, 2 users 81%Matt\n\nCan you explain closures to a 5-year-old?*I still thinkGoogle\'s explanationworks very well and is concise:/*\n*    When a function is defined in another function and it\n*    has access to the outer function\'s context even after\n*    the outer function returns.\n*\n* An important concept to learn in JavaScript.\n*/\n\nfunction outerFunction(someNum) {\n    var someString = \'Hey!\';\n    var content = document.getElementById(\'content\');\n    function innerFunction() {\n        content.innerHTML = someNum + \': \' + someString;\n        content = null; // Internet Explorer memory leak for DOM reference\n    }\n    innerFunction();\n}\n\nouterFunction(1);\u200b*A C# questionShareImprove this answerFolloweditedJun 20, 2020 at 9:12community wiki7 revs, 3 users 70%Chris S\n\nI tend to learn better by GOOD/BAD comparisons. I like to see working code followed by non-working code that someone is likely to encounter. I put togethera jsFiddlethat does a comparison and tries to boil down the differences to the simplest explanations I could come up with.Closures done right:console.log(\'CLOSURES DONE RIGHT\');\n\nvar arr = [];\n\nfunction createClosure(n) {\n    return function () {\n        return \'n = \' + n;\n    }\n}\n\nfor (var index = 0; index < 10; index++) {\n    arr[index] = createClosure(index);\n}\n\nfor (var index of arr) {\n    console.log(arr[index]());\n}In the above codecreateClosure(n)is invoked in every iteration of the loop. Note that I named the variablento highlight that it is anewvariable created in a new function scope and is not the same variable asindexwhich is bound to the outer scope.This creates a new scope andnis bound to that scope; this means we have 10 separate scopes, one for each iteration.createClosure(n)returns a function that returns the n within that scope.Within each scopenis bound to whatever value it had whencreateClosure(n)was invoked so the nested function that gets returned will always return the value ofnthat it had whencreateClosure(n)was invoked.Closures done wrong:console.log(\'CLOSURES DONE WRONG\');\n\nfunction createClosureArray() {\n    var badArr = [];\n\n    for (var index = 0; index < 10; index++) {\n        badArr[index] = function () {\n            return \'n = \' + index;\n        };\n    }\n    return badArr;\n}\n\nvar badArr = createClosureArray();\n\nfor (var index of badArr) {\n    console.log(badArr[index]());\n}In the above code the loop was moved within thecreateClosureArray()function and the function now just returns the completed array, which at first glance seems more intuitive.What might not be obvious is that sincecreateClosureArray()is only invoked once only one scope is created for this function instead of one for every iteration of the loop.Within this function a variable namedindexis defined. The loop runs and adds functions to the array that returnindex. Note thatindexis defined within thecreateClosureArrayfunction which only ever gets invoked one time.Because there was only one scope within thecreateClosureArray()function,indexis only bound to a value within that scope. In other words, each time the loop changes the value ofindex, it changes it for everything that references it within that scope.All of the functions added to the array return the SAMEindexvariable from the parent scope where it was defined instead of 10 different ones from 10 different scopes like the first example. The end result is that all 10 functions return the same variable from the same scope.After the loop finished andindexwas done being modified the end value was 10, therefore every function added to the array returns the value of the singleindexvariable which is now set to 10.ResultCLOSURES DONE RIGHTn = 0n = 1n = 2n = 3n = 4n = 5n = 6n = 7n = 8n = 9CLOSURES DONE WRONGn = 10n = 10n = 10n = 10n = 10n = 10n = 10n = 10n = 10n = 10ShareImprove this answerFolloweditedOct 9, 2022 at 3:20community wiki7 revs, 3 users 72%Chev\n\nWikipedia on closures:In computer science, a closure is a function together with a referencing environment for the nonlocal names (free variables) of that function.Technically, inJavaScript,every function is a closure. It always has an access to variables defined in the surrounding scope.Sincescope-defining construction in JavaScript is a function, not a code block like in many other languages,what we usually mean byclosurein JavaScriptis afunction working with nonlocal variables defined in already executed surrounding function.Closures are often used for creating functions with some hidden private data (but it\'s not always the case).var db = (function() {\n    // Create a hidden object, which will hold the data\n    // it\'s inaccessible from the outside.\n    var data = {};\n\n    // Make a function, which will provide some access to the data.\n    return function(key, val) {\n        if (val === undefined) { return data[key] } // Get\n        else { return data[key] = val } // Set\n    }\n    // We are calling the anonymous surrounding function,\n    // returning the above inner function, which is a closure.\n})();\n\ndb(\'x\')    // -> undefined\ndb(\'x\', 1) // Set x to 1\ndb(\'x\')    // -> 1\n// It\'s impossible to access the data object itself.\n// We are able to get or set individual it.emsThe example above is using an anonymous function, which was executed once. But it does not have to be. It can be named (e.g.mkdb) and executed later, generating a database function each time it is invoked. Every generated function will have its own hidden database object. Another usage example of closures is when we don\'t return a function, but an object containing multiple functions for different purposes, each of those function having access to the same data.ShareImprove this answerFolloweditedDec 18, 2013 at 16:48community wiki6 revs, 3 users 78%mykhal\n\nThe children will never forget the secrets they have shared with their parents, even after their parents are\ngone. This is what closures are for functions.The secrets for JavaScript functions are the private variablesvar parent = function() {\n var name = ""Mary""; // secret\n}Every time you call it, the local variable ""name"" is created and given the name ""Mary"". And every time the function exits the variable is lost and the name is forgotten.As you may guess, because the variables are re-created every time the function is called, and nobody else will know them, there must be a secret place where they are stored. It could be calledChamber of Secretsorstackorlocal scopebut it doesn\'t matter. We know they are there, somewhere, hidden in the memory.But, in JavaScript, there is this very special thing that functions which are created inside other functions, can also know the local variables of their parents and keep them as long as they live.var parent = function() {\n  var name = ""Mary"";\n  var child = function(childName) {\n    // I can also see that ""name"" is ""Mary""\n  }\n}So, as long as we are in the parent -function, it can create one or more child functions which do share the secret variables from the secret place.But the sad thing is, if the child is also a private variable of its parent function, it would also die when the parent ends, and the secrets would die with them.So to live, the child has to leave before it\'s too latevar parent = function() {\n  var name = ""Mary"";\n  var child = function(childName) {\n    return ""My name is "" + childName  +"", child of "" + name; \n  }\n  return child; // child leaves the parent ->\n}\nvar child = parent(); // < - and here it is outsideAnd now, even though Mary is ""no longer running"", the memory of her is not lost and her child will always remember her name and other secrets they shared during their time together.So, if you call the child ""Alice"", she will respondchild(""Alice"") => ""My name is Alice, child of Mary""That\'s all there is to tell.ShareImprove this answerFolloweditedAug 15, 2022 at 9:23community wiki4 revs, 4 users 91%Tero Tolonen\n\nI put together an interactive JavaScript tutorial to explain how closures work.What\'s a Closure?Here\'s one of the examples:var create = function (x) {\n    var f = function () {\n        return x; // We can refer to x here!\n    };\n    return f;\n};\n// \'create\' takes one argument, creates a function\n\nvar g = create(42);\n// g is a function that takes no arguments now\n\nvar y = g();\n// y is 42 hereShareImprove this answerFolloweditedOct 25, 2014 at 22:38community wiki3 revs, 3 users 89%Nathan Whitehead\n\nI do not understand why the answers are so complex here.Here is a closure:var a = 42;\n\nfunction b() { return a; }Yes. You probably use that many times a day.There is no reason to believe closures are a complex design hack to address specific problems. No, closures are just about using a variable that comes from a higher scopefrom the perspective of where the function was declared (not run).Now what itallowsyou to do can be more spectacular, see other answers.ShareImprove this answerFolloweditedJun 20, 2020 at 9:12community wiki2 revs, 2 users 97%floribon\n\nA closure is where an inner function has access to variables in its outer function.That\'s probably the simplest one-line explanation you can get for closures.And the inner function has access not only to the outer function’s variables, but also to the outer function’s parameters as in the example belowExample// Closure Example\nfunction addNumbers(firstNumber, secondNumber) \n{\n    var returnValue = ""Result is : "";\n    \n    // This inner function has access to the outer function\'s variables & parameters\n    function add() \n    {\n        return returnValue + (firstNumber + secondNumber);\n    }\n    return add();\n}\n\nvar result = addNumbers(10, 20);\nconsole.log(result); //30ShareImprove this answerFolloweditedApr 10, 2023 at 20:01community wiki3 revs, 3 users 87%Vinod Srivastav\n\nExample for the first point by dlaliberte:A closure is not only created when you return an inner function. In fact, the enclosing function does not need to return at all. You might instead assign your inner function to a variable in an outer scope, or pass it as an argument to another function where it could be used immediately. Therefore, the closure of the enclosing function probably already exists at the time that enclosing function was called since any inner function has access to it as soon as it is called.var i;\nfunction foo(x) {\n    var tmp = 3;\n    i = function (y) {\n        console.log(x + y + (++tmp));\n    }\n}\nfoo(2);\ni(3);ShareImprove this answerFolloweditedJan 16, 2016 at 2:39community wiki3 revs, 3 users 64%someisaac\n\nI know there are plenty of solutions already, but I guess that this small and simple script can be useful to demonstrate the concept:// makeSequencer will return a ""sequencer"" function\nvar makeSequencer = function() {\n    var _count = 0; // not accessible outside this function\n    var sequencer = function () {\n        return _count++;\n    }\n    return sequencer;\n}\n\nvar fnext = makeSequencer();\nvar v0 = fnext();     // v0 = 0;\nvar v1 = fnext();     // v1 = 1;\nvar vz = fnext._count // vz = undefinedShareImprove this answerFolloweditedMay 9, 2016 at 11:32community wiki3 revs, 2 users 90%Gerardo Lima\n\nThe author ofClosureshas explained closures pretty well, explaining the reason why we need them and also explaining LexicalEnvironment which is necessary to understanding closures.Here is the summary:What if a variable is accessed, but it isn’t local? Like here:In this case, the interpreter finds the variable in the\nouterLexicalEnvironmentobject.The process consists of two steps:First, when a function f is created, it is not created in an empty\nspace. There is a current LexicalEnvironment object. In the case\nabove, it’s window (a is undefined at the time of function\ncreation).When a function is created, it gets a hidden property, named [[Scope]], which references the current LexicalEnvironment.If a variable is read, but can not be found anywhere, an error is generated.Nested functionsFunctions can be nested one inside another, forming a chain of LexicalEnvironments which can also be called a scope chain.So, function g has access to g, a and f.ClosuresA nested function may continue to live after the outer function has finished:Marking up LexicalEnvironments:As we see,this.sayis a property in the user object, so it continues to live after User completed.And if you remember, whenthis.sayis created, it (as every function) gets an internal referencethis.say.[[Scope]]to the current LexicalEnvironment. So, the LexicalEnvironment of the current User execution stays in memory. All variables of User also are its properties, so they are also carefully kept, not junked as usually.The whole point is to ensure that if the inner function wants to access an outer variable in the future, it is able to do so.To summarize:The inner function keeps a reference to the outer\nLexicalEnvironment.The inner function may access variables from it\nany time even if the outer function is finished.The browser keeps the LexicalEnvironment and all its properties (variables) in memory until there is an inner function which references it.This is called a closure.ShareImprove this answerFolloweditedMay 14, 2018 at 20:51community wiki7 revs, 2 users 81%Arvand\n\nYou\'re having a sleep over and you invite Dan.\nYou tell Dan to bring one XBox controller.Dan invites Paul.\nDan asks Paul to bring one controller. How many controllers were brought to the party?function sleepOver(howManyControllersToBring) {\n\n    var numberOfDansControllers = howManyControllersToBring;\n\n    return function danInvitedPaul(numberOfPaulsControllers) {\n        var totalControllers = numberOfDansControllers + numberOfPaulsControllers;\n        return totalControllers;\n    }\n}\n\nvar howManyControllersToBring = 1;\n\nvar inviteDan = sleepOver(howManyControllersToBring);\n\n// The only reason Paul was invited is because Dan was invited. \n// So we set Paul\'s invitation = Dan\'s invitation.\n\nvar danInvitedPaul = inviteDan(howManyControllersToBring);\n\nalert(""There were "" + danInvitedPaul + "" controllers brought to the party."");ShareImprove this answerFolloweditedJul 20, 2011 at 15:16community wikiStewShack\n\nJavaScript functions can access their:ArgumentsLocals (that is, their local variables and local functions)Environment, which includes:globals, including the DOManything in outer functionsIf a function accesses its environment, then the function is a closure.Note that outer functions are not required, though they do offer benefits I don\'t discuss here. By accessing data in its environment, a closure keeps that data alive. In the subcase of outer/inner functions, an outer function can create local data and eventually exit, and yet, if any inner function(s) survive after the outer function exits, then the inner function(s) keep the outer function\'s local data alive.Example of a closure that uses the global environment:Imagine that the Stack Overflow Vote-Up and Vote-Down button events are implemented as closures, voteUp_click and voteDown_click, that have access to external variables isVotedUp and isVotedDown, which are defined globally. (For simplicity\'s sake, I am referring to StackOverflow\'s Question Vote buttons, not the array of Answer Vote buttons.)When the user clicks the VoteUp button, the voteUp_click function checks whether isVotedDown == true to determine whether to vote up or merely cancel a down vote. Function voteUp_click is a closure because it is accessing its environment.var isVotedUp = false;\nvar isVotedDown = false;\n\nfunction voteUp_click() {\n  if (isVotedUp)\n    return;\n  else if (isVotedDown)\n    SetDownVote(false);\n  else\n    SetUpVote(true);\n}\n\nfunction voteDown_click() {\n  if (isVotedDown)\n    return;\n  else if (isVotedUp)\n    SetUpVote(false);\n  else\n    SetDownVote(true);\n}\n\nfunction SetUpVote(status) {\n  isVotedUp = status;\n  // Do some CSS stuff to Vote-Up button\n}\n\nfunction SetDownVote(status) {\n  isVotedDown = status;\n  // Do some CSS stuff to Vote-Down button\n}All four of these functions are closures as they all access their environment.ShareImprove this answerFolloweditedJun 8, 2016 at 22:16community wiki4 revs, 3 users 81%John Pick\n\nAs a father of a 6-year-old, currently teaching young children (and a relative novice to coding with no formal education so corrections will be required), I think the lesson would stick best through hands-on play. If the 6-year-old is ready to understand what a closure is, then they are old enough to have a go themselves. I\'d suggest pasting the code into jsfiddle.net, explaining a bit, and leaving them alone to concoct a unique song. The explanatory text below is probably more appropriate for a 10 year old.function sing(person) {\n\n    var firstPart = ""There was "" + person + "" who swallowed "";\n\n    var fly = function() {\n        var creature = ""a fly"";\n        var result = ""Perhaps she\'ll die"";\n        alert(firstPart + creature + ""\\n"" + result);\n    };\n\n    var spider = function() {\n        var creature = ""a spider"";\n        var result = ""that wiggled and jiggled and tickled inside her"";\n        alert(firstPart + creature + ""\\n"" + result);\n    };\n\n    var bird = function() {\n        var creature = ""a bird"";\n        var result = ""How absurd!"";\n        alert(firstPart + creature + ""\\n"" + result);\n    };\n\n    var cat = function() {\n        var creature = ""a cat"";\n        var result = ""Imagine That!"";\n        alert(firstPart + creature + ""\\n"" + result);\n    };\n\n    fly();\n    spider();\n    bird();\n    cat();\n}\n\nvar person=""an old lady"";\n\nsing(person);INSTRUCTIONSDATA: Data is a collection of facts. It can be numbers, words, measurements, observations or even just descriptions of things. You can\'t touch it, smell it or taste it. You can write it down, speak it and hear it. You could use it tocreatetouch smell and taste using a computer. It can be made useful by a computer using code.CODE: All the writing above is calledcode. It is written in JavaScript.JAVASCRIPT: JavaScript is a language. Like English or French or Chinese are languages. There are lots of languages that are understood by computers and other electronic processors. For JavaScript to be understood by a computer it needs an interpreter. Imagine if a teacher who only speaks Russian comes to teach your class at school. When the teacher says ""все садятся"", the class would not understand. But luckily you have a Russian pupil in your class who tells everyone this means ""everybody sit down"" - so you all do. The class is like a computer and the Russian pupil is the interpreter. For JavaScript the most common interpreter is called a browser.BROWSER: When you connect to the Internet on a computer, tablet or phone to visit a website, you use a browser. Examples you may know are Internet Explorer, Chrome, Firefox and Safari. The browser can understand JavaScript and tell the computer what it needs to do. The JavaScript instructions are called functions.FUNCTION: A function in JavaScript is like a factory. It might be a little factory with only one machine inside. Or it might contain many other little factories, each with many machines doing different jobs. In a real life clothes factory you might have reams of cloth and bobbins of thread going in and T-shirts and jeans coming out. Our JavaScript factory only processes data, it can\'t sew, drill a hole or melt metal. In our JavaScript factory data goes in and data comes out.All this data stuff sounds a bit boring, but it is really very cool; we might have a function that tells a robot what to make for dinner. Let\'s say I invite you and your friend to my house. You like chicken legs best, I like sausages, your friend always wants what you want and my friend does not eat meat.I haven\'t got time to go shopping, so the function needs to know what we have in the fridge to make decisions. Each ingredient has a different cooking time and we want everything to be served hot by the robot at the same time. We need to provide the function with the data about what we like, the function could \'talk\' to the fridge, and the function could control the robot.A function normally has a name, parentheses and braces. Like this:function cookMeal() {  /*  STUFF INSIDE THE FUNCTION  */  }Note that/*...*/and//stop code being read by the browser.NAME: You can call a function just about whatever word you want. The example ""cookMeal"" is typical in joining two words together and giving the second one a capital letter at the beginning - but this is not necessary. It can\'t have a space in it, and it can\'t be a number on its own.PARENTHESES: ""Parentheses"" or()are the letter box on the JavaScript function factory\'s door or a post box in the street for sending packets of information to the factory. Sometimes the postbox might be markedfor examplecookMeal(you, me, yourFriend, myFriend, fridge, dinnerTime), in which case you know what data you have to give it.BRACES: ""Braces"" which look like this{}are the tinted windows of our factory. From inside the factory you can see out, but from the outside you can\'t see in.THE LONG CODE EXAMPLE ABOVEOur code begins with the wordfunction, so we know that it is one! Then the name of the functionsing- that\'s my own description of what the function is about. Then parentheses(). The parentheses are always there for a function. Sometimes they are empty, and sometimes they have something in. This one has a word in:(person). After this there is a brace like this{. This marks the start of the functionsing(). It has a partner which marks the end ofsing()like this}function sing(person) {  /* STUFF INSIDE THE FUNCTION */  }So this function might have something to do with singing, and might need some data about a person. It has instructions inside to do something with that data.Now, after the functionsing(), near the end of the code is the linevar person=""an old lady"";VARIABLE: The lettersvarstand for ""variable"". A variable is like an envelope. On the outside this envelope is marked ""person"". On the inside it contains a slip of paper with the information our function needs, some letters and spaces joined together like a piece of string (it\'s called a string) that make a phrase reading ""an old lady"". Our envelope could contain other kinds of things like numbers (called integers), instructions (called functions), lists (calledarrays). Because this variable is written outside of all the braces{}, and because you can see out through the tinted windows when you are inside the braces, this variable can be seen from anywhere in the code. We call this a \'global variable\'.GLOBAL VARIABLE:personis a global variable, meaning that if you change its value from ""an old lady"" to ""a young man"", thepersonwill keep being a young man until you decide to change it again and that any other function in the code can see that it\'s a young man. Press theF12button or look at the Options settings to open the developer console of a browser and type ""person"" to see what this value is. Typeperson=""a young man""to change it and then type ""person"" again to see that it has changed.After this we have the linesing(person);This line is calling the function, as if it were calling a dog""Come onsing, Come and getperson!""When the browser has loaded the JavaScript code an reached this line, it will start the function. I put the line at the end to make sure that the browser has all the information it needs to run it.Functions define actions  - the main function is about singing. It contains a variable calledfirstPartwhich applies to the singing about the person that applies to each of the verses of the song: ""There was "" + person + "" who swallowed"". If you typefirstPartinto the console, you won\'t get an answer because the variable is locked up in a function - the browser can\'t see inside the tinted windows of the braces.CLOSURES: The closures are the smaller functions that are inside the bigsing()function. The little factories inside the big factory. They each have their own braces which mean that the variables inside them can\'t be seen from the outside. That\'s why the names of the variables (creatureandresult) can be repeated in the closures but with different values. If you type these variable names in the console window, you won\'t get its value because it\'s hidden by two layers of tinted windows.The closures all know what thesing()function\'s variable calledfirstPartis, because they can see out from their tinted windows.After the closures come the linesfly();\nspider();\nbird();\ncat();The sing() function will call each of these functions in the order they are given. Then the sing() function\'s work will be done.ShareImprove this answerFolloweditedJun 8, 2016 at 22:11community wiki5 revs, 3 users 77%grateful\n\nOkay, talking with a 6-year old child, I would possibly use following associations.Imagine - you are playing with your little brothers and sisters in the entire house, and you are moving around with your toys and brought some of them into your older brother\'s room. After a while your brother returned from the school and went to his room, and he locked inside it, so now you could not access toys left there anymore in a direct way. But you could knock the door and ask your brother for that toys. This is called toy\'sclosure; your brother made it up for you, and he is now into outerscope.Compare with a situation when a door was locked by draft and nobody inside (general function execution), and then some local fire occur and burn down the room (garbage collector:D), and then a new room was build and now you may leave another toys there (new function instance), but never get the same toys which were left in the first room instance.For an advanced child I would put something like the following. It is not perfect, but it makes you feel about what it is:function playingInBrothersRoom (withToys) {\n  // We closure toys which we played in the brother\'s room. When he come back and lock the door\n  // your brother is supposed to be into the outer [[scope]] object now. Thanks god you could communicate with him.\n  var closureToys = withToys || [],\n      returnToy, countIt, toy; // Just another closure helpers, for brother\'s inner use.\n\n  var brotherGivesToyBack = function (toy) {\n    // New request. There is not yet closureToys on brother\'s hand yet. Give him a time.\n    returnToy = null;\n    if (toy && closureToys.length > 0) { // If we ask for a specific toy, the brother is going to search for it.\n\n      for ( countIt = closureToys.length; countIt; countIt--) {\n        if (closureToys[countIt - 1] == toy) {\n          returnToy = \'Take your \' + closureToys.splice(countIt - 1, 1) + \', little boy!\';\n          break;\n        }\n      }\n      returnToy = returnToy || \'Hey, I could not find any \' + toy + \' here. Look for it in another room.\';\n    }\n    else if (closureToys.length > 0) { // Otherwise, just give back everything he has in the room.\n      returnToy = \'Behold! \' + closureToys.join(\', \') + \'.\';\n      closureToys = [];\n    }\n    else {\n      returnToy = \'Hey, lil shrimp, I gave you everything!\';\n    }\n    console.log(returnToy);\n  }\n  return brotherGivesToyBack;\n}\n// You are playing in the house, including the brother\'s room.\nvar toys = [\'teddybear\', \'car\', \'jumpingrope\'],\n    askBrotherForClosuredToy = playingInBrothersRoom(toys);\n\n// The door is locked, and the brother came from the school. You could not cheat and take it out directly.\nconsole.log(askBrotherForClosuredToy.closureToys); // Undefined\n\n// But you could ask your brother politely, to give it back.\naskBrotherForClosuredToy(\'teddybear\'); // Hooray, here it is, teddybear\naskBrotherForClosuredToy(\'ball\'); // The brother would not be able to find it.\naskBrotherForClosuredToy(); // The brother gives you all the rest\naskBrotherForClosuredToy(); // Nothing left in thereAs you can see, the toys left in the room are still accessible via the brother and no matter if the room is locked. Here isa jsbinto play around with it.ShareImprove this answerFolloweditedOct 25, 2014 at 22:52community wiki9 revs, 2 users 88%dmi3y\n\nA function in JavaScript is not just a reference to a set of instructions (as in C language), but it also includes a hidden data structure which is composed of references to all nonlocal variables it uses (captured variables). Such two-piece functions are called closures. Every function in JavaScript can be considered a closure.Closures are functions with a state. It is somewhat similar to ""this"" in the sense that ""this"" also provides state for a function but function and ""this"" are separate objects (""this"" is just a fancy parameter, and the only way to bind it permanently to a function is to create a closure). While ""this"" and function always live separately, a function cannot be separated from its closure and the language provides no means to access captured variables.Because all these external variables referenced by a lexically nested function are actually local variables in the chain of its lexically enclosing functions (global variables can be assumed to be local variables of some root function), and every single execution of a function creates new instances of its local variables, it follows that every execution of a function returning (or otherwise transferring it out, such as registering it as a callback) a nested function creates a new closure (with its own potentially unique set of referenced nonlocal variables which represent its execution context).Also, it must be understood that local variables in JavaScript are created not on the stack frame, but on the heap and destroyed only when no one is referencing them. When a function returns, references to its local variables are decremented, but they can still be non-null if during the current execution they became part of a closure and are still referenced by its lexically nested functions (which can happen only if the references to these nested functions were returned or otherwise transferred to some external code).An example:function foo (initValue) {\n   //This variable is not destroyed when the foo function exits.\n   //It is \'captured\' by the two nested functions returned below.\n   var value = initValue;\n\n   //Note that the two returned functions are created right now.\n   //If the foo function is called again, it will return\n   //new functions referencing a different \'value\' variable.\n   return {\n       getValue: function () { return value; },\n       setValue: function (newValue) { value = newValue; }\n   }\n}\n\nfunction bar () {\n    //foo sets its local variable \'value\' to 5 and returns an object with\n    //two functions still referencing that local variable\n    var obj = foo(5);\n\n    //Extracting functions just to show that no \'this\' is involved here\n    var getValue = obj.getValue;\n    var setValue = obj.setValue;\n\n    alert(getValue()); //Displays 5\n    setValue(10);\n    alert(getValue()); //Displays 10\n\n    //At this point getValue and setValue functions are destroyed\n    //(in reality they are destroyed at the next iteration of the garbage collector).\n    //The local variable \'value\' in the foo is no longer referenced by\n    //anything and is destroyed too.\n}\n\nbar();ShareImprove this answerFolloweditedMay 5, 2016 at 16:04community wiki6 revs, 2 users 77%srgstm\n\nAn answer for a six-year-old (assuming he knows what a function is and what a variable is, and what data is):Functions can return data. One kind of data you can return from a function is another function. When that new function gets returned, all the variables and arguments used in the function that created it don\'t go away. Instead, that parent function ""closes."" In other words, nothing can look inside of it and see the variables it used except for the function it returned. That new function has a special ability to look back inside the function that created it and see the data inside of it.function the_closure() {\n  var x = 4;\n  return function () {\n    return x; // Here, we look back inside the_closure for the value of x\n  }\n}\n\nvar myFn = the_closure();\nmyFn(); //=> 4Another really simple way to explain it is in terms of scope:Any time you create a smaller scope inside of a larger scope, the smaller scope will always be able to see what is in the larger scope.ShareImprove this answerFolloweditedOct 25, 2014 at 23:02community wiki2 revs, 2 users 90%Stupid Stupid\n\nPerhaps a little beyond all but the most precocious of six-year-olds, but a few examples that helped make the concept of closure in JavaScript click for me.A closure is a function that has access to another function\'s scope (its variables and functions). The easiest way to create a closure is with a function within a function; the reason being that in JavaScript a function always has access to its containing function’s scope.function outerFunction() {\r\n    var outerVar = ""monkey"";\r\n    \r\n    function innerFunction() {\r\n        alert(outerVar);\r\n    }\r\n    \r\n    innerFunction();\r\n}\r\n\r\nouterFunction();ALERT: monkeyIn the above example, outerFunction is called which in turn calls innerFunction. Note how outerVar is available to innerFunction, evidenced by its correctly alerting the value of outerVar.Now consider the following:function outerFunction() {\r\n    var outerVar = ""monkey"";\r\n    \r\n    function innerFunction() {\r\n        return outerVar;\r\n    }\r\n    \r\n    return innerFunction;\r\n}\r\n\r\nvar referenceToInnerFunction = outerFunction();\r\nalert(referenceToInnerFunction());ALERT: monkeyreferenceToInnerFunction is set to outerFunction(), which simply returns a reference to innerFunction. When referenceToInnerFunction is called, it returns outerVar. Again, as above, this demonstrates that innerFunction has access to outerVar, a variable of outerFunction. Furthermore, it is interesting to note that it retains this access even after outerFunction has finished executing.And here is where things get really interesting. If we were to get rid of outerFunction, say set it to null, you might think that referenceToInnerFunction would loose its access to the value of outerVar. But this is not the case.function outerFunction() {\r\n    var outerVar = ""monkey"";\r\n    \r\n    function innerFunction() {\r\n        return outerVar;\r\n    }\r\n    \r\n    return innerFunction;\r\n}\r\n\r\nvar referenceToInnerFunction = outerFunction();\r\nalert(referenceToInnerFunction());\r\n\r\nouterFunction = null;\r\nalert(referenceToInnerFunction());ALERT: monkey\nALERT: monkeyBut how is this so? How can referenceToInnerFunction still know the value of outerVar now that outerFunction has been set to null?The reason that referenceToInnerFunction can still access the value of outerVar is because when the closure was first created by placing innerFunction inside of outerFunction, innerFunction added a reference to outerFunction’s scope (its variables and functions) to its scope chain. What this means is that innerFunction has a pointer or reference to all of outerFunction’s variables, including outerVar. So even when outerFunction has finished executing, or even if it is deleted or set to null, the variables in its scope, like outerVar, stick around in memory because of the outstanding reference to them on the part of the innerFunction that has been returned to referenceToInnerFunction. To truly release outerVar and the rest of outerFunction’s variables from memory you would have to get rid of this outstanding reference to them, say by setting referenceToInnerFunction to null as well.//////////Two other things about closures to note. First, the closure will always have access to the last values of its containing function.function outerFunction() {\r\n    var outerVar = ""monkey"";\r\n    \r\n    function innerFunction() {\r\n        alert(outerVar);\r\n    }\r\n    \r\n    outerVar = ""gorilla"";\r\n\r\n    innerFunction();\r\n}\r\n\r\nouterFunction();ALERT: gorillaSecond, when a closure is created, it retains a reference to all of its enclosing function’s variables and functions; it doesn’t get to pick and choose. And but so, closures should be used sparingly, or at least carefully, as they can be memory intensive; a lot of variables can be kept in memory long after a containing function has finished executing.ShareImprove this answerFolloweditedApr 29, 2015 at 15:37community wiki2 revs, 2 users 99%Michael Dziedzic\n\nI\'d simply point them to theMozilla Closures page. It\'s the best, mostconcise and simple explanationof closure basics and practical usage that I\'ve found. It is highly recommended to anyone learning JavaScript.And yes, I\'d even recommend it to a 6-year old -- if the 6-year old is learning about closures, then it\'s logical they\'re ready to comprehend theconcise and simple explanationprovided in the article.ShareImprove this answerFolloweditedOct 25, 2014 at 22:54community wiki3 revs, 2 users 50%mjmoody383'}","{'title': 'How do I execute a program or call a system command?', 'question': 'How do I call an external command within Python as if I had typed it in a shell or command prompt?pythonshellterminalsubprocesscommandShareImprove this questionFolloweditedDec 15, 2022 at 1:06John Smith7,38366 gold badges5151 silver badges6363 bronze badgesaskedSep 18, 2008 at 1:35freshWoWerfreshWoWer63.5k1010 gold badges3737 silver badges3636 bronze badges', 'answers': 'Usesubprocess.run:import subprocess\n\nsubprocess.run([""ls"", ""-l""])Another common way isos.systembut you shouldn\'t use it because it is unsafe if any parts of the command come from outside your program or can contain spaces or other special characters, alsosubprocess.runis generally more flexible (you can get thestdout,stderr, the""real"" status code, bettererror handling, etc.). Even thedocumentation foros.systemrecommends usingsubprocessinstead.On Python 3.4 and earlier, usesubprocess.callinstead of.run:subprocess.call([""ls"", ""-l""])ShareImprove this answerFolloweditedMay 19, 2023 at 23:52user3064538answeredSep 18, 2008 at 1:39David CournapeauDavid Cournapeau80.1k99 gold badges6767 silver badges7171 bronze badges\n\nHere is a summary of ways to call external programs, including their advantages and disadvantages:os.systempasses the command and arguments to your system\'s shell. This is nice because you can actually run multiple commands at once in this manner and set up pipes and input/output redirection. For example:os.system(""some_command < input_file | another_command > output_file"")However, while this is convenient, you have to manually handle the escaping of shell characters such as spaces, et cetera. On the other hand, this also lets you run commands which are simply shell commands and not actually external programs.os.popenwill do the same thing asos.systemexcept that it gives you a file-like object that you can use to access standard input/output for that process. There are 3 other variants of popen that all handle the i/o slightly differently. If you pass everything as a string, then your command is passed to the shell; if you pass them as a list then you don\'t need to worry about escaping anything. Example:print(os.popen(""ls -l"").read())subprocess.Popen. This is intended as a replacement foros.popen, but has the downside of being slightly more complicated by virtue of being so comprehensive. For example, you\'d say:print subprocess.Popen(""echo Hello World"", shell=True, stdout=subprocess.PIPE).stdout.read()instead ofprint os.popen(""echo Hello World"").read()but it is nice to have all of the options there in one unified class instead of 4 different popen functions. Seethe documentation.subprocess.call. This is basically just like thePopenclass and takes all of the same arguments, but it simply waits until the command completes and gives you the return code. For example:return_code = subprocess.call(""echo Hello World"", shell=True)subprocess.run. Python 3.5+ only. Similar to the above but even more flexible and returns aCompletedProcessobject when the command finishes executing.os.fork,os.exec,os.spawnare similar to their C language counterparts, but I don\'t recommend using them directly.Thesubprocessmodule should probably be what you use.Finally, please be aware that for all methods where you pass the final command to be executed by the shell as a string and you are responsible for escaping it.There are serious security implicationsif any part of the string that you pass can not be fully trusted. For example, if a user is entering some/any part of the string. If you are unsure, only use these methods with constants. To give you a hint of the implications consider this code:print subprocess.Popen(""echo %s "" % user_input, stdout=PIPE).stdout.read()and imagine that the user enters something ""my mama didnt love me && rm -rf /"" which could erase the whole filesystem.ShareImprove this answerFolloweditedDec 15, 2022 at 1:06John Smith7,38366 gold badges5151 silver badges6363 bronze badgesansweredSep 18, 2008 at 13:11Eli CourtwrightEli Courtwright191k6767 gold badges217217 silver badges256256 bronze badges\n\nTypical implementation:import subprocess\n\np = subprocess.Popen(\'ls\', shell=True, stdout=subprocess.PIPE, stderr=subprocess.STDOUT)\nfor line in p.stdout.readlines():\n    print line,\nretval = p.wait()You are free to do what you want with thestdoutdata in the pipe.  In fact, you can simply omit those parameters (stdout=andstderr=) and it\'ll behave likeos.system().ShareImprove this answerFolloweditedJul 25, 2021 at 23:37Brian6135427013.4k66 gold badges3131 silver badges5252 bronze badgesansweredSep 18, 2008 at 18:20EmmEffEmmEff7,89122 gold badges1818 silver badges1919 bronze badges\n\nSome hints on detaching the child process from the calling one (starting the child process in background).Suppose you want to start a long task from a CGI script. That is, the child process should live longer than the CGI script execution process.The classical example from the subprocess module documentation is:import subprocess\nimport sys\n\n# Some code here\n\npid = subprocess.Popen([sys.executable, ""longtask.py""]) # Call subprocess\n\n# Some more code hereThe idea here is that you do not want to wait in the line \'call subprocess\' until the longtask.py is finished. But it is not clear what happens after the line \'some more code here\' from the example.My target platform was FreeBSD, but the development was on Windows, so I faced the problem on Windows first.On Windows (Windows\xa0XP), the parent process will not finish until the longtask.py has finished its work. It is not what you want in a CGI script. The problem is not specific to Python; in the PHP community the problems are the same.The solution is to pass DETACHED_PROCESSProcess Creation Flagto the underlying CreateProcess function in Windows API.\nIf you happen to have installed pywin32, you can import the flag from the win32process module, otherwise you should define it yourself:DETACHED_PROCESS = 0x00000008\n\npid = subprocess.Popen([sys.executable, ""longtask.py""],\n                       creationflags=DETACHED_PROCESS).pid/*UPD 2015.10.27@eryksun in a comment below notes, that the semantically correct flag is CREATE_NEW_CONSOLE (0x00000010) */On FreeBSD we have another problem: when the parent process is finished, it finishes the child processes as well. And that is not what you want in a CGI script either. Some experiments showed that the problem seemed to be in sharing sys.stdout. And the working solution was the following:pid = subprocess.Popen([sys.executable, ""longtask.py""], stdout=subprocess.PIPE, stderr=subprocess.PIPE, stdin=subprocess.PIPE)I have not checked the code on other platforms and do not know the reasons of the behaviour on FreeBSD. If anyone knows, please share your ideas. Googling on starting background processes in Python does not shed any light yet.ShareImprove this answerFolloweditedNov 29, 2019 at 21:46Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredFeb 12, 2010 at 10:15newtovernewtover31.9k1111 gold badges8787 silver badges8989 bronze badges\n\nimport os\nos.system(""your command"")Note that this is dangerous, since the command isn\'t cleaned. See the documentation oftheosandsysmodules. There are a bunch of functions (exec*andspawn*) that will do similar things.ShareImprove this answerFolloweditedMay 22, 2023 at 9:48user3064538answeredSep 18, 2008 at 1:37nimishnimish4,94333 gold badges2424 silver badges3434 bronze badges\n\nI\'d recommend using thesubprocessmodule instead of os.system because it does shell escaping for you and is therefore much safer.subprocess.call([\'ping\', \'localhost\'])ShareImprove this answerFolloweditedFeb 24, 2020 at 1:01Nicolas Gervais36k2020 gold badges118118 silver badges157157 bronze badgesansweredSep 18, 2008 at 1:42sirwartsirwart2,46422 gold badges1515 silver badges77 bronze badges\n\nimport os\ncmd = \'ls -al\'\nos.system(cmd)If you want to return the results of the command, you can useos.popen. However, this is deprecated since version 2.6 in favor of thesubprocess module, which other answers have covered well.ShareImprove this answerFolloweditedJan 26, 2016 at 16:53Patrick M10.9k99 gold badges7171 silver badges103103 bronze badgesansweredSep 18, 2008 at 1:37Alexandra FranksAlexandra Franks3,01211 gold badge2020 silver badges2323 bronze badges\n\nThere are lots of different libraries which allow you to call external commands with Python. For each library I\'ve given a description and shown an example of calling an external command. The command I used as the example isls -l(list all files). If you want to find out more about any of the libraries I\'ve listed and linked the documentation for each of them.Sourcessubprocess:https://docs.python.org/3.5/library/subprocess.htmlshlex:https://docs.python.org/3/library/shlex.htmlos:https://docs.python.org/3.5/library/os.htmlsh:https://amoffat.github.io/sh/plumbum:https://plumbum.readthedocs.io/en/latest/pexpect:https://pexpect.readthedocs.io/en/stable/fabric:http://www.fabfile.org/envoy:https://github.com/kennethreitz/envoycommands:https://docs.python.org/2/library/commands.htmlThese are all the librariesHopefully this will help you make a decision on which library to use :)subprocessSubprocess allows you to call external commands and connect them to their input/output/error pipes (stdin, stdout, and stderr). Subprocess is the default choice for running commands, but sometimes other modules are better.subprocess.run([""ls"", ""-l""]) # Run command\nsubprocess.run([""ls"", ""-l""], stdout=subprocess.PIPE) # This will run the command and return any output\nsubprocess.run(shlex.split(""ls -l"")) # You can also use the shlex library to split the commandosos is used for ""operating system dependent functionality"". It can also be used to call external commands withos.systemandos.popen(Note: There is also a subprocess.popen). os will always run the shell and is a simple alternative for people who don\'t need to, or don\'t know how to usesubprocess.run.os.system(""ls -l"") # Run command\nos.popen(""ls -l"").read() # This will run the command and return any outputshsh is a subprocess interface which lets you call programs as if they were functions. This is useful if you want to run a command multiple times.sh.ls(""-l"") # Run command normally\nls_cmd = sh.Command(""ls"") # Save command as a variable\nls_cmd() # Run command as if it were a functionplumbumplumbum is a library for ""script-like"" Python programs. You can call programs like functions as insh. Plumbum is useful if you want to run a pipeline without the shell.ls_cmd = plumbum.local(""ls -l"") # Get command\nls_cmd() # Run commandpexpectpexpect lets you spawn child applications, control them and find patterns in their output. This is a better alternative to subprocess for commands that expect a tty on Unix.pexpect.run(""ls -l"") # Run command as normal\nchild = pexpect.spawn(\'scp foo[email\xa0protected]:.\') # Spawns child application\nchild.expect(\'Password:\') # When this is the output\nchild.sendline(\'mypassword\')fabricfabric is a Python 2.5 and 2.7 library. It allows you to execute local and remote shell commands. Fabric is simple alternative for running commands in a secure shell (SSH)fabric.operations.local(\'ls -l\') # Run command as normal\nfabric.operations.local(\'ls -l\', capture = True) # Run command and receive outputenvoyenvoy is known as ""subprocess for humans"". It is used as a convenience wrapper around thesubprocessmodule.r = envoy.run(""ls -l"") # Run command\nr.std_out # Get outputcommandscommandscontains wrapper functions foros.popen, but it has been removed from Python 3 sincesubprocessis a better alternative.ShareImprove this answerFolloweditedApr 7, 2021 at 17:36Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredOct 29, 2016 at 14:02Tom FullerTom Fuller5,34077 gold badges3333 silver badges4242 bronze badges\n\nWith the standard libraryUse thesubprocess module(Python 3):import subprocess\nsubprocess.run([\'ls\', \'-l\'])It is the recommended standard way. However, more complicated tasks (pipes, output, input, etc.) can be tedious to construct and write.Note on Python version: If you are still using Python 2,subprocess.callworks in a similar way.ProTip:shlex.splitcan help you to parse the command forrun,call, and othersubprocessfunctions in case you don\'t want (or you can\'t!) provide them in form of lists:import shlex\nimport subprocess\nsubprocess.run(shlex.split(\'ls -l\'))With external dependenciesIf you do not mind external dependencies, useplumbum:from plumbum.cmd import ifconfig\nprint(ifconfig[\'wlan0\']())It is the bestsubprocesswrapper. It\'s cross-platform, i.e. it works on both Windows and Unix-like systems. Install bypip install plumbum.Another popular library issh:from sh import ifconfig\nprint(ifconfig(\'wlan0\'))However,shdropped Windows support, so it\'s not as awesome as it used to be. Install bypip install sh.ShareImprove this answerFolloweditedNov 29, 2019 at 21:54community wiki6 revs, 2 users 79%Honza Javorek\n\nI always usefabricfor doing these things. Here is a demo code:from fabric.operations import local\nresult = local(\'ls\', capture=True)\nprint ""Content:/n%s"" % (result, )But this seems to be a good tool:sh(Python subprocess interface).Look at an example:from sh import vgdisplay\nprint vgdisplay()\nprint vgdisplay(\'-v\')\nprint vgdisplay(v=True)ShareImprove this answerFolloweditedJan 15, 2023 at 22:53Hasidul Islam37644 silver badges1414 bronze badgesansweredMar 13, 2012 at 0:12Jorge E. CardonaJorge E. Cardona94.2k33 gold badges3838 silver badges4444 bronze badges\n\nCheck the ""pexpect"" Python library, too.It allows for interactive controlling of external programs/commands, even ssh, ftp, telnet, etc. You can just type something like:child = pexpect.spawn(\'ftp 192.168.0.24\')\n\nchild.expect(\'(?i)name .*: \')\n\nchild.sendline(\'anonymous\')\n\nchild.expect(\'(?i)password\')ShareImprove this answerFolloweditedMay 28, 2017 at 23:02Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredOct 7, 2010 at 7:09athanassisathanassis1,05988 silver badges55 bronze badges\n\nIf you need the output from the command you are calling,\nthen you can usesubprocess.check_output(Python 2.7+).>>> subprocess.check_output([""ls"", ""-l"", ""/dev/null""])\n\'crw-rw-rw- 1 root root 1, 3 Oct 18  2007 /dev/null\\n\'Also note theshellparameter.If shell isTrue, the specified command will be executed through the shell. This can be useful if you are using Python primarily for the enhanced control flow it offers over most system shells and still want convenient access to other shell features such as shell pipes, filename wildcards, environment variable expansion, and expansion of ~ to a user’s home directory. However, note that Python itself offers implementations of many shell-like features (in particular,glob,fnmatch,os.walk(),os.path.expandvars(),os.path.expanduser(), andshutil).ShareImprove this answerFolloweditedJun 3, 2018 at 20:18Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredApr 28, 2011 at 20:29Facundo CascoFacundo Casco10.4k88 gold badges4343 silver badges6565 bronze badges\n\nUpdate:subprocess.runis the recommended approachas of Python 3.5if your code does not need to maintain compatibility with earlier Python versions. It\'s more consistent and offers similar ease-of-use as Envoy. (Piping isn\'t as straightforward though. Seethis question for how.)Here\'s some examples fromthe documentation.Run a process:>>> subprocess.run([""ls"", ""-l""])  # Doesn\'t capture output\nCompletedProcess(args=[\'ls\', \'-l\'], returncode=0)Raise on failed run:>>> subprocess.run(""exit 1"", shell=True, check=True)\nTraceback (most recent call last):\n  ...\nsubprocess.CalledProcessError: Command \'exit 1\' returned non-zero exit status 1Capture output:>>> subprocess.run([""ls"", ""-l"", ""/dev/null""], stdout=subprocess.PIPE)\nCompletedProcess(args=[\'ls\', \'-l\', \'/dev/null\'], returncode=0,\nstdout=b\'crw-rw-rw- 1 root root 1, 3 Jan 23 16:23 /dev/null\\n\')Original answer:I recommend tryingEnvoy. It\'s a wrapper for subprocess, which in turnaims to replacethe older modules and functions. Envoy is subprocess for humans.Example usage fromthe README:>>> r = envoy.run(\'git config\', data=\'data to pipe in\', timeout=2)\n\n>>> r.status_code\n129\n>>> r.std_out\n\'usage: git config [options]\'\n>>> r.std_err\n\'\'Pipe stuff around too:>>> r = envoy.run(\'uptime | pbcopy\')\n\n>>> r.command\n\'pbcopy\'\n>>> r.status_code\n0\n\n>>> r.history\n[<Response \'uptime\'>]ShareImprove this answerFolloweditedNov 29, 2019 at 21:52Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredNov 15, 2012 at 17:13JoeJoe16.7k1212 gold badges6464 silver badges7676 bronze badges\n\nThis is how I run my commands. This code has everything you need pretty muchfrom subprocess import Popen, PIPE\ncmd = ""ls -l ~/""\np = Popen(cmd , shell=True, stdout=PIPE, stderr=PIPE)\nout, err = p.communicate()\nprint ""Return code: "", p.returncode\nprint out.rstrip(), err.rstrip()ShareImprove this answerFolloweditedOct 28, 2012 at 5:44answeredOct 28, 2012 at 5:14Usman KhanUsman Khan70155 silver badges33 bronze badges\n\nHow to execute a program or call a system command from PythonSimple, usesubprocess.run, which returns aCompletedProcessobject:>>> from subprocess import run\n>>> from shlex import split\n>>> completed_process = run(split(\'python --version\'))\nPython 3.8.8\n>>> completed_process\nCompletedProcess(args=[\'python\', \'--version\'], returncode=0)(runwants a list of lexically parsed shell arguments - this is what you\'d type in a shell, separated by spaces, but not where the spaces are quoted, so use a specialized function,split, to split up what you would literally type into your shell)Why?As of Python 3.5, the documentation recommendssubprocess.run:The recommended approach to invoking subprocesses is to use the run() function for all use cases it can handle. For more advanced use cases, the underlying Popen interface can be used directly.Here\'s an example of the simplest possible usage - and it does exactly as asked:>>> from subprocess import run\n>>> from shlex import split\n>>> completed_process = run(split(\'python --version\'))\nPython 3.8.8\n>>> completed_process\nCompletedProcess(args=[\'python\', \'--version\'], returncode=0)runwaits for the command to successfully finish, then returns aCompletedProcessobject. It may instead raiseTimeoutExpired(if you give it atimeout=argument) orCalledProcessError(if it fails and you passcheck=True).As you might infer from the above example, stdout and stderr both get piped to your own stdout and stderr by default.We can inspect the returned object and see the command that was given and the returncode:>>> completed_process.args\n[\'python\', \'--version\']\n>>> completed_process.returncode\n0Capturing outputIf you want to capture the output, you can passsubprocess.PIPEto the appropriatestderrorstdout:>>> from subprocess import PIPE\n>>> completed_process = run(shlex.split(\'python --version\'), stdout=PIPE, stderr=PIPE)\n>>> completed_process.stdout\nb\'Python 3.8.8\\n\'\n>>> completed_process.stderr\nb\'\'And those respective attributes return bytes.Pass a command listOne might easily move from manually providing a command string (like the question suggests) to providing a string built programmatically.Don\'t build strings programmatically.This is a potential security issue. It\'s better to assume you don\'t trust the input.>>> import textwrap\n>>> args = [\'python\', textwrap.__file__]\n>>> cp = run(args, stdout=subprocess.PIPE)\n>>> cp.stdout\nb\'Hello there.\\n  This is indented.\\n\'Note, onlyargsshould be passed positionally.Full SignatureHere\'s the actual signature in the source and as shown byhelp(run):def run(*popenargs, input=None, timeout=None, check=False, **kwargs):Thepopenargsandkwargsare given to thePopenconstructor.inputcan be a string of bytes (or unicode, if specify encoding oruniversal_newlines=True) that will be piped to the subprocess\'s stdin.The documentation describestimeout=andcheck=Truebetter than I could:The timeout argument is passed to Popen.communicate(). If the timeout\nexpires, the child process will be killed and waited for. The\nTimeoutExpired exception will be re-raised after the child process has\nterminated.If check is true, and the process exits with a non-zero exit code, a\nCalledProcessError exception will be raised. Attributes of that\nexception hold the arguments, the exit code, and stdout and stderr if\nthey were captured.and this example forcheck=Trueis better than one I could come up with:>>> subprocess.run(""exit 1"", shell=True, check=True)\nTraceback (most recent call last):\n  ...\nsubprocess.CalledProcessError: Command \'exit 1\' returned non-zero exit status 1Expanded SignatureHere\'s an expanded signature, as given in the documentation:subprocess.run(args, *, stdin=None, input=None, stdout=None, stderr=None, \nshell=False, cwd=None, timeout=None, check=False, encoding=None, \nerrors=None)Note that this indicates that only the args list should be passed positionally. So pass the remaining arguments as keyword arguments.PopenWhen usePopeninstead? I would struggle to find use-case based on the arguments alone. Direct usage ofPopenwould, however, give you access to its methods, includingpoll, \'send_signal\', \'terminate\', and \'wait\'.Here\'s thePopensignature as given inthe source. I think this is the most precise encapsulation of the information (as opposed tohelp(Popen)):def __init__(self, args, bufsize=-1, executable=None,\n             stdin=None, stdout=None, stderr=None,\n             preexec_fn=None, close_fds=True,\n             shell=False, cwd=None, env=None, universal_newlines=None,\n             startupinfo=None, creationflags=0,\n             restore_signals=True, start_new_session=False,\n             pass_fds=(), *, user=None, group=None, extra_groups=None,\n             encoding=None, errors=None, text=None, umask=-1, pipesize=-1):But more informative isthePopendocumentation:subprocess.Popen(args, bufsize=-1, executable=None, stdin=None, stdout=None, \nstderr=None, preexec_fn=None, close_fds=True, shell=False, cwd=None,\nenv=None, universal_newlines=None, startupinfo=None, creationflags=0, \nrestore_signals=True, start_new_session=False, pass_fds=(), *, group=None, \nextra_groups=None, user=None, umask=-1, encoding=None, errors=None, \ntext=None)Execute a child program in a new process. On POSIX, the class uses\nos.execvp()-like behavior to execute the child program. On Windows,\nthe class uses the Windows CreateProcess() function. The arguments to\nPopen are as follows.Understanding the remaining documentation onPopenwill be left as an exercise for the reader.ShareImprove this answerFolloweditedJun 10, 2021 at 13:30answeredOct 18, 2017 at 16:37Aaron Hall♦Aaron Hall388k9191 gold badges409409 silver badges336336 bronze badges\n\nUsesubprocess....or for a very simple command:import os\nos.system(\'cat testfile\')ShareImprove this answerFolloweditedNov 29, 2019 at 21:39Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredSep 18, 2008 at 1:43Ben HoffsteinBen Hoffstein103k88 gold badges105105 silver badges121121 bronze badges\n\nAs ofPython 3.7.0 released on June 27th 2018 (https://docs.python.org/3/whatsnew/3.7.html), you can achieve your desired result in the most powerful while equally simple way. This answer intends to show you the essential summary of various options in a short manner. For in-depth answers, please see the other ones.TL;DR in 2021The big advantage ofos.system(...)was its simplicity.subprocessis better and still easy to use, especially as ofPython 3.5.import subprocess\nsubprocess.run(""ls -a"", shell=True)Note:This is the exact answer to your question - running a commandlike in a shellPreferred WayIf possible, remove the shell overhead and run the command directly (requires a list).import subprocess\nsubprocess.run([""help""])\nsubprocess.run([""ls"", ""-a""])Pass program arguments in a list.Don\'t include\\""-escaping for arguments containing spaces.Advanced Use CasesChecking The OutputThe following code speaks for itself:import subprocess\nresult = subprocess.run([""ls"", ""-a""], capture_output=True, text=True)\nif ""stackoverflow-logo.png"" in result.stdout:\n    print(""You\'re a fan!"")\nelse:\n    print(""You\'re not a fan?"")result.stdoutis all normal program outputexcluding errors. Readresult.stderrto get them.capture_output=True- turns capturing on. Otherwiseresult.stderrandresult.stdoutwould beNone. Available fromPython 3.7.text=True- a convenience argument added inPython 3.7which converts the received binary data to Python strings you can easily work with.Checking the returncodeDoif result.returncode == 127: print(""The program failed for some weird reason"")\nelif result.returncode == 0: print(""The program succeeded"")\nelse: print(""The program failed unexpectedly"")If you just want to check if the program succeeded (returncode == 0) and otherwise throw an Exception, there is a more convenient function:result.check_returncode()But it\'s Python, so there\'s an even more convenient argumentcheckwhich does the same thing automatically for you:result = subprocess.run(..., check=True)stderr should be inside stdoutYou might want to have all program output inside stdout, even errors. To accomplish this, runresult = subprocess.run(..., stderr=subprocess.STDOUT)result.stderrwill then beNoneandresult.stdoutwill contain everything.Using shell=False with an argument stringshell=Falseexpects alistof arguments. You might however, split an argument string on your own using shlex.import subprocess\nimport shlex\nsubprocess.run(shlex.split(""ls -a""))That\'s it.Common ProblemsChances are high you just started using Python when you come across this question. Let\'s look at some common problems.FileNotFoundError: [Errno 2] No such file or directory: \'ls -a\': \'ls -a\'You\'re running a subprocess withoutshell=True. Either use a list ([""ls"", ""-a""]) or setshell=True.TypeError: [...] NoneType [...]Check that you\'ve setcapture_output=True.TypeError: a bytes-like object is required, not [...]You always receive byte results from your program. If you want to work with it like a normal string, settext=True.subprocess.CalledProcessError: Command \'[...]\' returned non-zero exit status 1.Your command didn\'t run successfully. You could disable returncode checking or check your actual program\'s validity.TypeError:init() got an unexpected keyword argument [...]You\'re likely using a version of Python older than 3.7.0; update it to the most recent one available. Otherwise there are other answers in this Stack Overflow post showing you older alternative solutions.ShareImprove this answerFolloweditedApr 7, 2021 at 17:55Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredOct 13, 2020 at 19:20famemanfameman3,68111 gold badge1919 silver badges3434 bronze badges\n\nos.systemis OK, but kind of dated.  It\'s also not very secure.  Instead, trysubprocess.subprocessdoes not call sh directly and is therefore more secure thanos.system.Get more informationhere.ShareImprove this answerFolloweditedDec 10, 2016 at 13:25Dimitris Fasarakis Hilliard158k3333 gold badges277277 silver badges262262 bronze badgesansweredSep 18, 2008 at 1:53Martin WMartin W1,35977 silver badges1212 bronze badges\n\nThere is alsoPlumbum>>> from plumbum import local\n>>> ls = local[""ls""]\n>>> ls\nLocalCommand(<LocalPath /bin/ls>)\n>>> ls()\nu\'build.py\\ndist\\ndocs\\nLICENSE\\nplumbum\\nREADME.rst\\nsetup.py\\ntests\\ntodo.txt\\n\'\n>>> notepad = local[""c:\\\\windows\\\\notepad.exe""]\n>>> notepad()                                   # Notepad window pops up\nu\'\'                                             # Notepad window is closed by user, command returnsShareImprove this answerFollowansweredOct 10, 2014 at 17:41stuckintheshuckstuckintheshuck2,46933 gold badges2727 silver badges3333 bronze badges\n\nUse:import os\n\ncmd = \'ls -al\'\n\nos.system(cmd)os - This module provides a portable way of using operating system-dependent functionality.For the moreosfunctions,hereis the documentation.ShareImprove this answerFolloweditedMay 28, 2017 at 23:05Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJun 29, 2015 at 11:34NirangaNiranga7781313 silver badges2525 bronze badges\n\nIt can be this simple:import os\ncmd = ""your command""\nos.system(cmd)ShareImprove this answerFolloweditedJun 8, 2018 at 12:06answeredApr 30, 2018 at 13:47Samadi SalahedineSamadi Salahedine52755 silver badges1313 bronze badges\n\nThere is another difference here which is not mentioned previously.subprocess.Popenexecutes the <command> as a subprocess. In my case, I need to execute file <a> which needs to communicate with another program, <b>.I tried subprocess, and execution was successful. However <b> could not communicate with <a>.\nEverything is normal when I run both from the terminal.One more: \n(NOTE: kwrite behaves different from other applications. If you try the below with Firefox, the results will not be the same.)If you tryos.system(""kwrite""), program flow freezes until the user closes kwrite. To overcome that I tried insteados.system(konsole -e kwrite). This time program continued to flow, but kwrite became the subprocess of the console.Anyone runs the kwrite not being a subprocess (i.e. in the system monitor it must appear at the leftmost edge of the tree).ShareImprove this answerFolloweditedJun 3, 2018 at 20:14Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJan 8, 2010 at 21:11Atinc DelicanAtinc Delican29533 silver badges22 bronze badges\n\nos.systemdoes not allow you to store results, so if you want to store results in some list or something, asubprocess.callworks.ShareImprove this answerFolloweditedNov 29, 2019 at 21:48Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJun 11, 2012 at 22:28Saurabh BangadSaurabh Bangad38733 silver badges22 bronze badges\n\nsubprocess.check_callis convenient if you don\'t want to test return values. It throws an exception on any error.ShareImprove this answerFollowansweredJan 18, 2011 at 19:21cdunn2001cdunn200118.1k88 gold badges5757 silver badges4646 bronze badges\n\nI tend to usesubprocesstogether withshlex(to handle escaping of quoted strings):>>> import subprocess, shlex\n>>> command = \'ls -l ""/your/path/with spaces/""\'\n>>> call_params = shlex.split(command)\n>>> print call_params\n[""ls"", ""-l"", ""/your/path/with spaces/""]\n>>> subprocess.call(call_params)ShareImprove this answerFollowansweredApr 30, 2014 at 14:37Emil StenströmEmil Stenström13.8k88 gold badges5656 silver badges7676 bronze badges\n\nI wrote a library for this,shell.py.It\'s basically a wrapper for popen and shlex for now. It also supports piping commands, so you can chain commands easier in Python. So you can do things like:ex(\'echo hello shell.py\') | ""awk \'{print $2}\'""ShareImprove this answerFolloweditedApr 7, 2021 at 17:28Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMay 1, 2014 at 20:49houqphouqp76111 gold badge88 silver badges1212 bronze badges\n\nUnder Linux, in case you would like to call an external command that will execute independently (will keep running after the Python script terminates), you can use a simple queue astask spooleror theatcommand.An example with task spooler:import os\nos.system(\'ts <your-command>\')Notes about task spooler (ts):You could set the number of concurrent processes to be run (""slots"") with:ts -S <number-of-slots>Installingtsdoesn\'t requires admin privileges. You can download and compile it from source with a simplemake, add it to your path and you\'re done.ShareImprove this answerFolloweditedApr 7, 2021 at 17:39Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredNov 27, 2016 at 0:15Yuval AtzmonYuval Atzmon5,87544 gold badges4646 silver badges7575 bronze badges\n\nInvokeis a Python (2.7 and 3.4+) task execution tool and library. It provides a clean, high-level API for running shell commands:>>> from invoke import run\n>>> cmd = ""pip install -r requirements.txt""\n>>> result = run(cmd, hide=True, warn=True)\n>>> print(result.ok)\nTrue\n>>> print(result.stdout.splitlines()[-1])\nSuccessfully installed invocations-0.13.0 pep8-1.5.7 spec-1.3.1ShareImprove this answerFolloweditedApr 7, 2021 at 17:43Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredSep 14, 2018 at 22:20Valery RamusikValery Ramusik1,5531818 silver badges1919 bronze badges\n\nIn Windows you can just import thesubprocessmodule and run external commands by callingsubprocess.Popen(),subprocess.Popen().communicate()andsubprocess.Popen().wait()as below:# Python script to run a command line\nimport subprocess\n\ndef execute(cmd):\n    """"""\n        Purpose  : To execute a command and return exit status\n        Argument : cmd - command to execute\n        Return   : exit_code\n    """"""\n    process = subprocess.Popen(cmd, shell=True, stdout=subprocess.PIPE, stderr=subprocess.PIPE)\n    (result, error) = process.communicate()\n\n    rc = process.wait()\n\n    if rc != 0:\n        print ""Error: failed to execute command:"", cmd\n        print error\n    return result\n# def\n\ncommand = ""tasklist | grep python""\nprint ""This process detail: \\n"", execute(command)Output:This process detail:\npython.exe                     604 RDP-Tcp#0                  4      5,660 KShareImprove this answerFolloweditedMay 28, 2017 at 23:08Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJun 17, 2016 at 9:14SwadhikarSwadhikar2,20211 gold badge2020 silver badges3232 bronze badges\n\nYou can use Popen, and then you can check the procedure\'s status:from subprocess import Popen\n\nproc = Popen([\'ls\', \'-l\'])\nif proc.poll() is None:\n    proc.kill()Check outsubprocess.Popen.ShareImprove this answerFolloweditedMay 28, 2017 at 23:01Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJul 16, 2012 at 15:16kanghyojmunkanghyojmun35022 silver badges66 bronze badges'}","{'title': 'What are the differences between a HashMap and a Hashtable in Java?', 'question': 'What are the differences between aHashMapand aHashtablein Java?Which is more efficient for non-threaded applications?javacollectionshashmaphashtableShareImprove this questionFolloweditedAug 1, 2020 at 11:19Steve Chambers38.7k2828 gold badges169169 silver badges217217 bronze badgesaskedSep 2, 2008 at 20:12dmanxiiidmanxiii51.9k1010 gold badges3333 silver badges2323 bronze badges', 'answers': 'There are several differences betweenHashMapandHashtablein Java:Hashtableissynchronized, whereasHashMapis not. This makesHashMapbetter for non-threaded applications, as unsynchronized Objects typically perform better than synchronized ones.Hashtabledoes not allownullkeys or values.HashMapallows onenullkey and any number ofnullvalues.One of HashMap\'s subclasses isLinkedHashMap, so in the event that you\'d want predictable iteration order (which is insertion order by default), you could easily swap out theHashMapfor aLinkedHashMap.  This wouldn\'t be as easy if you were usingHashtable.Since synchronization is not an issue for you, I\'d recommendHashMap. If synchronization becomes an issue, you may also look atConcurrentHashMap.ShareImprove this answerFolloweditedFeb 7, 2023 at 13:26Marc Bannout42111 gold badge55 silver badges1717 bronze badgesansweredSep 2, 2008 at 23:02Josh BrownJosh Brown52.8k1010 gold badges5555 silver badges8080 bronze badges\n\nNote, that a lot of the answers state that Hashtable is synchronized.In practice this buys you very little.The synchronization is on the accessor/mutator methods will stop two threads adding or removing from the map concurrently, but in the real world, you will often need additional synchronization.A very common idiom is to ""check then put"" — i.e. look for an entry in theMap, and add it if it does not already exist. This is not in any way an atomic operation whether you useHashtableorHashMap.An equivalently synchronisedHashMapcan be obtained by:Collections.synchronizedMap(myMap);But to correctly implement this logic you needadditional synchronisationof the form:synchronized(myMap) {\n    if (!myMap.containsKey(""tomato""))\n        myMap.put(""tomato"", ""red"");\n}Even iterating over aHashtable\'s entries (or aHashMapobtained byCollections.synchronizedMap) is not thread-safe unless you also guard theMapagainst being modified through additional synchronization.Implementations of theConcurrentMapinterface (for exampleConcurrentHashMap) solve some of this by includingthread safe check-then-act semanticssuch as:ConcurrentMap.putIfAbsent(key, value);ShareImprove this answerFolloweditedMay 15, 2021 at 11:22Godfather2711 silver badge66 bronze badgesansweredSep 3, 2008 at 11:00serg10serg1032.4k1616 gold badges7373 silver badges9494 bronze badges\n\nHashtableis considered legacy code. There\'s nothing aboutHashtablethat can\'t be done usingHashMapor derivations ofHashMap, so for new code, I don\'t see any justification for going back toHashtable.ShareImprove this answerFolloweditedAug 7, 2018 at 12:18kryger13.1k88 gold badges4646 silver badges6767 bronze badgesansweredJun 25, 2009 at 1:46aberrant80aberrant8013k88 gold badges4747 silver badges6969 bronze badges\n\nThis question is often asked in interviews to check whether the candidate understands the correct usage of collection classes and is aware of alternative solutions available.TheHashMapclass is roughly equivalent toHashtable, except that it is non synchronized and permits nulls. (HashMapallows null values as key and value whereasHashtabledoesn\'t allownulls).HashMapdoes not guarantee that the order of the map will remain constant over time.HashMapis non synchronized whereasHashtableis synchronized.Iterator in theHashMapis fail-safe while the enumerator for theHashtableis not and throwConcurrentModificationExceptionif any other Thread modifies the map structurally by adding or removing any element exceptIterator\'s ownremove()method. But this is not a guaranteed behavior and will be done by JVM on best effort.Note on Some Important Terms:Synchronized means only one thread can modify a hash table at one point in time. Basically, it means that any thread before performing an update on aHashtablewill have to acquire a lock on the object while others will wait for the lock to be released.Fail-safe is relevant within the context of iterators. If an iterator has been created on a collection object and some other thread tries to modify the collection object ""structurally"", a concurrent modification exception will be thrown. It is possible for other threads though to invoke thesetmethod since it doesn\'t modify the collection ""structurally"". However, if prior to callingset, the collection has been modified structurally,IllegalArgumentExceptionwill be thrown.Structurally modification means deleting or inserting element which could effectively change the structure of the map.HashMapcan be synchronized byMap m = Collections.synchronizeMap(hashMap);Map provides Collection views instead of direct support for iteration via Enumeration objects. Collection views greatly enhance the expressiveness of the interface, as discussed later in this section. Map allows you to iterate over keys, values, or key-value pairs;Hashtabledoes not provide the third option. Map provides a safe way to remove entries in the midst of iteration;Hashtabledid not. Finally, Map fixes a minor deficiency in theHashtableinterface.Hashtablehas a method called contains, which returns true if theHashtablecontains a given value. Given its name, you\'d expect this method to return true if theHashtablecontained a given key because the key is the primary access mechanism for aHashtable. The Map interface eliminates this source of confusion by renaming the methodcontainsValue. Also, this improves the interface\'s consistency —containsValueparallelscontainsKey.The Map InterfaceShareImprove this answerFolloweditedMay 14, 2021 at 17:16Godfather2711 silver badge66 bronze badgesansweredOct 4, 2011 at 6:39sravansravan5,32311 gold badge3232 silver badges3333 bronze badges\n\nHashMap: An implementation of theMapinterface that uses hash codes to index an array.Hashtable: Hi, 1998 called. They want their collections API back.Seriously though, you\'re better off staying away fromHashtablealtogether. For single-threaded apps, you don\'t need the extra overhead of synchronisation. For highly concurrent apps, the paranoid synchronisation might lead to starvation, deadlocks, or unnecessary garbage collection pauses. Like Tim Howland pointed out, you might useConcurrentHashMapinstead.ShareImprove this answerFolloweditedDec 4, 2017 at 21:31answeredSep 2, 2008 at 23:14ApocalispApocalisp35k88 gold badges106106 silver badges158158 bronze badges\n\nKeep in mind thatHashTablewas legacy class before Java Collections Framework (JCF) was introduced and was later retrofitted to implement theMapinterface. So wasVectorandStack.Therefore, always stay away from them in new code since there always better alternative in the JCFas others had pointed out.Here is theJava collection cheat sheetthat you will find useful. Notice the gray block contains the legacy class HashTable,Vector and Stack.ShareImprove this answerFolloweditedJun 3, 2015 at 5:43Pratik Khadloya12.7k1212 gold badges8282 silver badges106106 bronze badgesansweredMar 25, 2014 at 8:58pierrotlefoupierrotlefou40.5k3939 gold badges138138 silver badges175175 bronze badges\n\nThere are many good answers already posted. I\'m adding few new points and summarizing it.HashMapandHashtableboth are used to storedata in key and value form. Both are using hashing technique to store unique keys.\nBut there are many differences between HashMap and Hashtable classes that are given below.HashMapHashMapis non synchronized. It is not-thread safe and can\'t be shared between many threads without proper synchronization code.HashMapallows one null key and multiple null values.HashMapis a new class introduced in JDK 1.2.HashMapis fast.We can make theHashMapas synchronized by calling this codeMap m = Collections.synchronizedMap(HashMap);HashMapis traversed by Iterator.Iterator inHashMapis fail-fast.HashMapinherits AbstractMap class.HashtableHashtableis synchronized. It is thread-safe and can be shared with many threads.Hashtabledoesn\'t allow null key or value.Hashtableis a legacy class.Hashtableis slow.Hashtableis internally synchronized and can\'t be unsynchronized.Hashtableis traversed by Enumerator and Iterator.Enumerator inHashtableis not fail-fast.Hashtableinherits Dictionary class.Further readingWhat is difference between HashMap and Hashtable in Java?ShareImprove this answerFolloweditedMay 29, 2021 at 11:53sanjeevRm1,59622 gold badges1313 silver badges2424 bronze badgesansweredMar 6, 2017 at 10:09roottravellerroottraveller8,13488 gold badges6161 silver badges6969 bronze badges\n\nTake a look at this chart. It provides comparisons between different data structures along withHashMapandHashtable. The comparison is precise, clear and easy to understand.Java Collection MatrixShareImprove this answerFolloweditedNov 22, 2019 at 17:34Yousha Aleayoub5,20444 gold badges5555 silver badges6565 bronze badgesansweredNov 20, 2012 at 5:35SujanSujan1,55222 gold badges2222 silver badges4242 bronze badges\n\nIn addition to what izb said,HashMapallows null values, whereas theHashtabledoes not.Also note thatHashtableextends theDictionaryclass, which as theJavadocsstate, is obsolete and has been replaced by theMapinterface.ShareImprove this answerFollowansweredSep 2, 2008 at 20:30matt bmatt b139k6666 gold badges283283 silver badges348348 bronze badges\n\nHashtableis similar to theHashMapand has a similar interface. It is recommended that you useHashMap, unless you require support for legacy applications or you need synchronisation, as theHashtablesmethods are synchronised. So in your case as you are not multi-threading,HashMapsare your best bet.ShareImprove this answerFolloweditedMar 2, 2015 at 8:55nbro15.8k3434 gold badges117117 silver badges208208 bronze badgesansweredSep 2, 2008 at 20:25Miles DMiles D8,01055 gold badges3434 silver badges3636 bronze badges\n\nHashtableis synchronized, whereasHashMapisn\'t. That makesHashtableslower thanHashmap.For single thread applications, useHashMapsince they are otherwise the same in terms of functionality.ShareImprove this answerFolloweditedSep 15, 2020 at 20:28Koray Tugay23.5k4848 gold badges196196 silver badges329329 bronze badgesansweredSep 2, 2008 at 20:22izbizb51.2k3939 gold badges117117 silver badges171171 bronze badges\n\nAnother key difference betweenHashtableandHashMapis that theIteratorin the HashMap is  fail-fast  while theenumeratorfor the Hashtable is not and throwConcurrentModificationExceptionif any other Thread modifies the map structurally  by adding or removing any element except Iterator\'s own remove()  method. But this is not a guaranteed behavior and will be done by JVM on best effort.My source:http://javarevisited.blogspot.com/2010/10/difference-between-hashmap-and.htmlShareImprove this answerFolloweditedMay 14, 2023 at 15:30DevThiman1,05011 gold badge1212 silver badges2626 bronze badgesansweredSep 8, 2011 at 6:40NeerjaNeerja43144 silver badges22 bronze badges\n\nBeside all the other important aspects already mentioned here, Collections API (e.g. Map interface) is being modified all the time to conform to the ""latest and greatest"" additions to Java spec.For example, compare Java 5 Map iterating:for (Elem elem : map.keys()) {\n  elem.doSth();\n}versus the old Hashtable approach:for (Enumeration en = htable.keys(); en.hasMoreElements(); ) {\n  Elem elem = (Elem) en.nextElement();\n  elem.doSth();\n}In Java 1.8 we are also promised to be able to construct and access HashMaps like in good old scripting languages:Map<String,Integer> map = { ""orange"" : 12, ""apples"" : 15 };\nmap[""apples""];Update:No, they won\'t land in 1.8... :(Are Project Coin\'s collection enhancements going to be in JDK8?ShareImprove this answerFolloweditedMay 23, 2017 at 12:34CommunityBot111 silver badgeansweredJan 12, 2012 at 9:17pwespwes2,0302121 silver badges3030 bronze badges\n\nHashTableis synchronized, if you are using it in a single thread you can useHashMap, which is an unsynchronized version. Unsynchronized objects are often a little more performant. By the way if multiple threads access a HashMap concurrently, and at least one of the threads modifies the map structurally, it must be synchronized externally. \nYoun can wrap a unsynchronized map in a synchronized one using :Map m = Collections.synchronizedMap(new HashMap(...));HashTable can only contain non-null object as a key or as a value. HashMap can contain one null key and null values.The iterators returned by Map are fail-fast, if the map is structurally modified at any time after the iterator is created, in any way except through the iterator\'s own remove method, the iterator will throw aConcurrentModificationException. Thus, in the face of concurrent modification, the iterator fails quickly and cleanly, rather than risking arbitrary, non-deterministic behavior at an undetermined time in the future.Whereasthe Enumerations returned by Hashtable\'s keys and elements methods are not fail-fast.HashTable and HashMap are member of theJava Collections Framework(since Java 2 platform v1.2, HashTable was retrofitted to implement the Map interface).HashTable is considered legacy code, the documentation advise to useConcurrentHashMapin place of Hashtable if a thread-safe highly-concurrent implementation is desired.HashMap doesn\'t guarantee the order in which elements are returned. For HashTable I guess it\'s the same but I\'m not entirely sure, I don\'t find ressource that clearly state that.ShareImprove this answerFollowansweredApr 29, 2012 at 13:57alain.janinmalain.janinm20k1111 gold badges6666 silver badges112112 bronze badges\n\nBased on the infohere, I\'d recommend going with HashMap.  I think the biggest advantage is that Java will prevent you from modifying it while you are iterating over it, unless you do it through the iterator.ShareImprove this answerFollowansweredSep 2, 2008 at 20:14pkaedingpkaeding37.3k3131 gold badges105105 silver badges142142 bronze badges\n\nHashMapandHashtablehave significant algorithmic differences as well. No one has mentioned this before so that\'s why I am bringing it up.HashMapwill construct a hash table with power of two size, increase it dynamically such that you have at most about eight elements (collisions) in any bucket and will stir the elements very well for general element types. However, theHashtableimplementation provides better and finer control over the hashing if you know what you are doing, namely you can fix the table size using e.g. the closest prime number to your values domain size and this will result in better performance than HashMap i.e. less collisions for some cases.Separate from the obvious differences discussed extensively in this question, I see the Hashtable as a ""manual drive"" car where you have better control over the hashing and the HashMap as the ""automatic drive"" counterpart that will generally perform well.ShareImprove this answerFolloweditedJan 24, 2014 at 8:35answeredDec 10, 2012 at 8:57SkyWalkerSkyWalker14.1k1818 gold badges9999 silver badges201201 bronze badges\n\nACollection— sometimes called a container — is simply an object that groups multiple elements into a single unit.Collectionsare used to store, retrieve, manipulate, and communicate aggregate data. A collections frameworkWis a unified architecture for representing and manipulating collections.TheHashMapJDK1.2and HashtableJDK1.0, both are used to represent a group of objects that are represented in<Key, Value>pair. Each<Key, Value>pair is calledEntryobject. The collection of Entries is referred by the object ofHashMapandHashtable. Keys in a collection must be unique or distinctive. [as they are used to retrieve a mapped value a particular key. values in a collection can be duplicated.]«Superclass, Legacy and Collection Framework memberHashtable is a legacy class introduced inJDK1.0, which is a subclass of Dictionary class. FromJDK1.2Hashtable is re-engineered to implement theMap interfaceto make a member of collection framework. HashMap is a member of Java Collection Framework right from the beginning of its introduction inJDK1.2. HashMap is the subclass of the AbstractMap class.public class Hashtable<K,V> extends Dictionary<K,V> implements Map<K,V>, Cloneable, Serializable { ... }\n\npublic class HashMap<K,V> extends AbstractMap<K,V> implements Map<K,V>, Cloneable, Serializable { ... }«Initial capacity and Load factorThe capacity is the number of buckets in the Hashtable, and the initial capacity is simply the capacity at the time the Hashtable is created. Note that the Hashtable is open: in the case of ahash collision, a single bucket stores multiple entries, which must be searched sequentially. The load factor is a measure of how full the Hashtable is allowed to get before its capacity is automatically increased.HashMap constructs an empty Hashtable with the default initial capacity(16)and the default load factor (0.75). Where as Hashtable constructs empty Hashtable with a default initial capacity(11)and load factor/fill ratio (0.75).«Structural modification in case of hash collisionHashMap,Hashtablein case of hash collisions they store the map entries in linked lists.From Java8 forHashMapif hash bucket grows beyond a certain threshold, that bucket will switch fromlinked list of entries to a balanced tree. which improve worst-case performance from O(n) to O(log n). While converting the list to binary tree, hashcode is used as a branching variable. If there are two different hashcodes in the same bucket, one is considered bigger and goes to the right of the tree and other one to the left. But when both the hashcodes are equal,HashMapassumes that the keys are comparable, and compares the key to determine the direction so that some order can be maintained. It is a good practice to make the keys ofHashMapcomparable. On adding entries if bucket size reachesTREEIFY_THRESHOLD = 8convert linked list of entries to a balanced tree, on removing entries less thanTREEIFY_THRESHOLDand at mostUNTREEIFY_THRESHOLD = 6will reconvert  balanced tree to linked list of entries.Java 8 SRC,stackpost«Collection-view iteration, Fail-Fast and Fail-Safe+--------------------+-----------+-------------+\n    |                    | Iterator  | Enumeration |\n    +--------------------+-----------+-------------+\n    | Hashtable          | fail-fast |    safe     |\n    +--------------------+-----------+-------------+\n    | HashMap            | fail-fast | fail-fast   |\n    +--------------------+-----------+-------------+\n    | ConcurrentHashMap  |   safe    |   safe      |\n    +--------------------+-----------+-------------+Iteratoris a fail-fast in nature. i.e it throws ConcurrentModificationException if a collection is modified while iterating other than it’s own remove() method. Where asEnumerationis fail-safe in nature. It doesn’t throw any exceptions if a collection is modified while iterating.According to Java API Docs, Iterator is always preferred over the Enumeration.NOTE:The functionality of Enumeration interface is duplicated by the Iterator interface. In addition, Iterator adds an optional remove operation, and has shorter method names. New implementations should consider using Iterator in preference to Enumeration.InJava 5 introduced ConcurrentMap Interface:ConcurrentHashMap- a highly concurrent, high-performanceConcurrentMapimplementation backed by a hash table. This implementation never blocks when performing retrievals and allows the client to select the concurrency level for updates. It is intended as a drop-in replacement forHashtable: in addition to implementingConcurrentMap, it supports all of the ""legacy"" methods peculiar toHashtable.EachHashMapEntrys value isvolatilethereby ensuring fine grain consistency for contended modifications and subsequent reads; each read reflects the most recently completed updateIterators and Enumerations are Fail Safe - reflecting the state at some point since the creation of iterator/enumeration; this allows for simultaneous reads and modifications at the cost of reduced consistency. They do not throw ConcurrentModificationException. However, iterators are designed to be used by only one thread at a time.LikeHashtablebut unlikeHashMap, this class does not allow null to be used as a key or value.public static void main(String[] args) {\n\n    //HashMap<String, Integer> hash = new HashMap<String, Integer>();\n    Hashtable<String, Integer> hash = new Hashtable<String, Integer>();\n    //ConcurrentHashMap<String, Integer> hash = new ConcurrentHashMap<>();\n    \n    new Thread() {\n        @Override public void run() {\n            try {\n                for (int i = 10; i < 20; i++) {\n                    sleepThread(1);\n                    System.out.println(""T1 :- Key""+i);\n                    hash.put(""Key""+i, i);\n                }\n                System.out.println( System.identityHashCode( hash ) );\n            } catch ( Exception e ) {\n                e.printStackTrace();\n            }\n        }\n    }.start();\n    new Thread() {\n        @Override public void run() {\n            try {\n                sleepThread(5);\n                // ConcurrentHashMap  traverse using Iterator, Enumeration is Fail-Safe.\n                \n                // Hashtable traverse using Enumeration is Fail-Safe, Iterator is Fail-Fast.\n                for (Enumeration<String> e = hash.keys(); e.hasMoreElements(); ) {\n                    sleepThread(1);\n                    System.out.println(""T2 : ""+ e.nextElement());\n                }\n                \n                // HashMap traverse using Iterator, Enumeration is Fail-Fast.\n                /*\n                for (Iterator< Entry<String, Integer> > it = hash.entrySet().iterator(); it.hasNext(); ) {\n                    sleepThread(1);\n                    System.out.println(""T2 : ""+ it.next());\n                    // ConcurrentModificationException at java.util.Hashtable$Enumerator.next\n                }\n                */\n                \n                /*\n                Set< Entry<String, Integer> > entrySet = hash.entrySet();\n                Iterator< Entry<String, Integer> > it = entrySet.iterator();\n                Enumeration<Entry<String, Integer>> entryEnumeration = Collections.enumeration( entrySet );\n                while( entryEnumeration.hasMoreElements() ) {\n                    sleepThread(1);\n                    Entry<String, Integer> nextElement = entryEnumeration.nextElement();\n                    System.out.println(""T2 : ""+ nextElement.getKey() +"" : ""+ nextElement.getValue() );\n                    //java.util.ConcurrentModificationException at java.util.HashMap$HashIterator.nextNode\n                    //                                          at java.util.HashMap$EntryIterator.next\n                    //                                          at java.util.Collections$3.nextElement\n                }\n                */\n            } catch ( Exception e ) {\n                e.printStackTrace();\n            }\n        }\n    }.start();\n    \n    Map<String, String> unmodifiableMap = Collections.unmodifiableMap( map );\n    try {\n        unmodifiableMap.put(""key4"", ""unmodifiableMap"");\n    } catch (java.lang.UnsupportedOperationException e) {\n        System.err.println(""UnsupportedOperationException : ""+ e.getMessage() );\n    }\n}\nstatic void sleepThread( int sec ) {\n    try {\n        Thread.sleep( 1000 * sec );\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n}«Null Keys And Null ValuesHashMapallows maximum one null key and any number of null values. Where asHashtabledoesn’t allow even a single null key and null value, if the key or value null is then it throws NullPointerException.Example«Synchronized, Thread SafeHashtableis internally synchronized. Therefore, it is very much safe to useHashtablein multi threaded applications. Where asHashMapis not internally synchronized. Therefore, it is not safe to useHashMapin multi threaded applications without external synchronization. You can externally synchronizeHashMapusingCollections.synchronizedMap()method.«PerformanceAsHashtableis internally synchronized, this makesHashtableslightly slower than theHashMap.@SeeA red–black tree is a kind of self-balancing binary search treePerformance Improvement forHashMapin Java 8ShareImprove this answerFolloweditedMay 14, 2023 at 23:09DevThiman1,05011 gold badge1212 silver badges2626 bronze badgesansweredJan 4, 2018 at 11:58YashYash9,47022 gold badges7272 silver badges7777 bronze badges\n\nFor threaded apps, you can often get away with ConcurrentHashMap- depends on your performance requirements.ShareImprove this answerFollowansweredSep 2, 2008 at 22:38Tim HowlandTim Howland7,97044 gold badges2828 silver badges4646 bronze badges\n\n1.HashmapandHashTableboth store key and value.2.Hashmapcan store one key asnull.Hashtablecan\'t storenull.3.HashMapis not synchronized butHashtableis synchronized.4.HashMapcan be synchronized withCollection.SyncronizedMap(map)Map hashmap = new HashMap();\n\nMap map = Collections.SyncronizedMap(hashmap);ShareImprove this answerFolloweditedMar 22, 2015 at 15:43Jared Burrows55.1k2626 gold badges154154 silver badges189189 bronze badgesansweredAug 27, 2014 at 11:29Rahul TripathiRahul Tripathi54522 gold badges77 silver badges1818 bronze badges\n\nApart from the differences already mentioned, it should be noted that since Java 8,HashMapdynamically replaces the Nodes (linked list) used in each bucket with TreeNodes (red-black tree), so that even if high hash collisions exist, the worst casewhen searchingisO(log(n)) forHashMapVsO(n) inHashtable.*The aforementioned improvement has not been applied toHashtableyet, but only toHashMap,LinkedHashMap, andConcurrentHashMap.FYI, currently,TREEIFY_THRESHOLD = 8: if a bucket contains more than 8 nodes, the linked list is transformed into a balanced tree.UNTREEIFY_THRESHOLD = 6: when a bucket becomes too small (due to removal or resizing) the tree is converted back to linked list.ShareImprove this answerFollowansweredMay 4, 2016 at 15:04Kostas KryptosKostas Kryptos4,11122 gold badges2424 silver badges2424 bronze badges\n\nThere are 5 basic differentiations with HashTable and HashMaps.Maps allows you to iterate and retrieve keys, values, and both key-value pairs as well, Where HashTable don\'t have all this capability.In Hashtable there is a function contains(), which is very confusing to use. Because the meaning of contains is slightly deviating. Whether it means contains key or contains  value? tough to understand. Same thing in Maps we have ContainsKey() and ContainsValue() functions, which are very easy to understand.In hashmap you can remove element while iterating, safely. where as it is not possible in hashtables.HashTables are by default synchronized, so it can be used with multiple threads easily. Where as HashMaps are not synchronized by default, so can be used with only single thread.  But you can still convert HashMap to synchronized by using Collections util class\'s synchronizedMap(Map m) function.HashTable won\'t allow null keys or null values. Where as HashMap allows one null key, and multiple null values.ShareImprove this answerFolloweditedApr 10, 2014 at 15:44Brad Larson♦170k4545 gold badges398398 silver badges572572 bronze badgesansweredDec 11, 2013 at 12:45user1923551user19235514,6923636 silver badges2929 bronze badges\n\nMy small contribution :First and most significant different betweenHashtableandHashMapis that,HashMapis not thread-safe  whileHashtableis a thread-safe collection.Second important difference betweenHashtableandHashMapis performance, sinceHashMapis not synchronized it perform better thanHashtable.Third difference onHashtablevsHashMapis thatHashtableis obsolete class and you should be usingConcurrentHashMapin place ofHashtablein Java.ShareImprove this answerFolloweditedJun 20, 2020 at 9:12CommunityBot111 silver badgeansweredMar 18, 2014 at 21:46Shreyos AdikariShreyos Adikari12.6k1919 gold badges7575 silver badges8282 bronze badges\n\nHashMap: It is a class available inside java.util package and it is used to store the element in key and value format.Hashtable: It is a legacy class which is being recognized inside collection framework.ShareImprove this answerFolloweditedDec 28, 2018 at 2:05Pang9,914146146 gold badges8585 silver badges123123 bronze badgesansweredJan 31, 2013 at 13:41AnkitAnkit25522 silver badges77 bronze badges\n\nHashTableis a legacy class in the jdk that shouldn\'t be used anymore. Replace usages of it withConcurrentHashMap. If you don\'t require thread safety, useHashMapwhich isn\'tthreadsafebut faster and uses less memory.ShareImprove this answerFolloweditedApr 21, 2013 at 17:27answeredApr 15, 2013 at 14:49jontejjjontejj2,82011 gold badge2626 silver badges2828 bronze badges\n\nHashtableis synchronized whereasHashMapis not.Another difference is that iterator in theHashMapis fail-safe\nwhile the enumerator for theHashtableisn\'t. If you change the map\nwhile iterating, you\'ll know.HashMappermits null values in it, whileHashtabledoesn\'t.ShareImprove this answerFolloweditedAug 16, 2019 at 19:08Ihor Patsian1,30222 gold badges1717 silver badges2727 bronze badgesansweredJan 22, 2013 at 5:31rajaraja2,41322 gold badges2323 silver badges2525 bronze badges\n\nHashMapandHashtableboth are used to store data in key and value form. Both are using hashing technique to store unique keys.\nut there are many differences between HashMap and Hashtable classes that are given below.ShareImprove this answerFollowansweredOct 30, 2019 at 11:32Chathuran DChathuran D2,3802323 silver badges4343 bronze badges\n\nHashMap and HashTableSome important points about HashMap and HashTable.\n   please read below details.1) Hashtable and Hashmap implement the java.util.Map interface\n2) Both Hashmap and Hashtable is the hash based collection. and working on hashing.\nso these are similarity of HashMap and HashTable.What is the difference between HashMap and HashTable?1) First difference is HashMap is not thread safe While HashTable is ThreadSafe2) HashMap is performance wise better because it is not thread safe. while Hashtable performance wise is not better because it is thread safe. so multiple thread can not access Hashtable at the same time.ShareImprove this answerFolloweditedJul 25, 2017 at 14:59Pawan Patil1,15755 gold badges2222 silver badges4747 bronze badgesansweredJul 5, 2014 at 6:27JegsValaJegsVala1,84711 gold badge2020 silver badges2727 bronze badges\n\nHashtable:Hashtableis a data structure that retains values of key-value pair. It doesn’t allow null for both the keys and the values. You will get aNullPointerExceptionif you add null value. It is synchronized. So it comes with its cost. Only one thread can accessHashTableat a particular time.Example:import java.util.Map;\nimport java.util.Hashtable;\n\npublic class TestClass {\n\n    public static void main(String args[ ]) {\n    Map<Integer,String> states= new Hashtable<Integer,String>();\n    states.put(1, ""INDIA"");\n    states.put(2, ""USA"");\n\n    states.put(3, null);    //will throw NullPointerEcxeption at runtime\n\n    System.out.println(states.get(1));\n    System.out.println(states.get(2));\n//  System.out.println(states.get(3));\n\n    }\n}HashMap:HashMapis likeHashtablebut it also accepts key value pair. It allows null for both the keys and the values. Its performance better is better thanHashTable, because it isunsynchronized.Example:import java.util.HashMap;\nimport java.util.Map;\n\npublic class TestClass {\n\n    public static void main(String args[ ]) {\n    Map<Integer,String> states = new HashMap<Integer,String>();\n    states.put(1, ""INDIA"");\n    states.put(2, ""USA"");\n\n    states.put(3, null);    // Okay\n    states.put(null,""UK"");\n\n    System.out.println(states.get(1));\n    System.out.println(states.get(2));\n    System.out.println(states.get(3));\n\n    }\n}ShareImprove this answerFolloweditedApr 26, 2016 at 9:46Manojkumaar G11211 silver badge77 bronze badgesansweredFeb 10, 2015 at 7:44IntelliJ AmiyaIntelliJ Amiya75.6k1515 gold badges168168 silver badges200200 bronze badges\n\nOld and classic topic, just want to add this helpful blog that explains this:http://blog.manishchhabra.com/2012/08/the-5-main-differences-betwen-hashmap-and-hashtable/Blog by Manish ChhabraThe 5 main differences betwen HashMap and HashtableHashMap and Hashtable both implement java.util.Map interface but there\n  are some differences that Java developers must understand to write\n  more efficient code. As of the Java 2 platform v1.2, Hashtable class\n  was retrofitted to implement the Map interface, making it a member of\n  the Java Collections Framework.One of the major differences between HashMap and Hashtable is that HashMap is non-synchronized whereas Hashtable is synchronized, which\n  means Hashtable is thread-safe and can be shared between multiple\n  threads but HashMap cannot be shared between multiple threads without\n  proper synchronization. Java 5 introduced ConcurrentHashMap which is\n  an alternative of Hashtable and provides better scalability than\n  Hashtable in Java.Synchronized means only one thread can modify a hash\n  table at one point of time. Basically, it means that any thread before\n  performing an update on a hashtable will have to acquire a lock on the\n  object while others will wait for lock to be released.The HashMap class is roughly equivalent to Hashtable, except that it permits nulls. (HashMap allows null values as key and value whereas\n  Hashtable doesn’t allow nulls).The third significant difference between HashMap vs Hashtable is that Iterator in the HashMap is a fail-fast iterator while the\n  enumerator for the Hashtable is not and throw\n  ConcurrentModificationException if any other Thread modifies the map\n  structurally by adding or removing any element except Iterator’s own\n  remove() method. But this is not a guaranteed behavior and will be\n  done by JVM on best effort. This is also an important difference\n  between Enumeration and Iterator in Java.One more notable difference between Hashtable and HashMap is that because of thread-safety and synchronization Hashtable is much slower\n  than HashMap if used in Single threaded environment. So if you don’t\n  need synchronization and HashMap is only used by one thread, it out\n  perform Hashtable in Java.HashMap does not guarantee that the order of the map will remain constant over time.Note that HashMap can be synchronized byMap m = Collections.synchronizedMap(hashMap);In Summary there are significant differences between Hashtable and\n  HashMap in Java e.g. thread-safety and speed and based upon that only\n  use Hashtable if you absolutely need thread-safety, if you are running\n  Java 5 consider using ConcurrentHashMap in Java.ShareImprove this answerFolloweditedAug 6, 2015 at 8:04BalusC1.1m375375 gold badges3.6k3.6k silver badges3.6k3.6k bronze badgesansweredAug 17, 2014 at 9:58Night0Night034755 silver badges1313 bronze badges\n\nSince Hashtable in Java is a subclass of Dictionary class which is now obsolete due to the existence of Map Interface, it is not used anymore. Moreover, there isn\'t anything you can\'t do with a class that implements the Map Interface that you can do with a Hashtable.ShareImprove this answerFolloweditedDec 28, 2018 at 2:04Pang9,914146146 gold badges8585 silver badges123123 bronze badgesansweredMar 7, 2014 at 15:02PetarMIPetarMI39011 gold badge77 silver badges1515 bronze badges'}","{'title': 'What are the correct version numbers for C#?', 'question': ""What are the correct version numbers for C#? What came out when? Why can't I find any answers aboutC# 3.5?This question is primarily to aid those who are searching for an answer using an incorrect version number, e.g.C# 3.5. The hope is that anyone failing to find an answer with the wrong version number will findthisquestion and then search again with the right version number.c#.netvisual-studio.net-core.net-framework-versionShareImprove this questionFolloweditedMar 1, 2022 at 15:09community wiki34 revs, 28 users 24%Jon Skeet"", 'answers': 'C# language version history:These are theversions of C#known about at the time of this writing:C# 1.0released with .NET 1.0 and VS2002 (January 2002)C# 1.2(bizarrely enough); released with .NET 1.1 and VS2003 (April 2003). First version to callDisposeonIEnumerators which implementedIDisposable. A few other small features.C# 2.0released with .NET 2.0 and VS2005 (November 2005). Major new features: generics, anonymous methods, nullable types, and iterator blocksC# 3.0released with .NET 3.5 and VS2008 (November 2007). Major new features: lambda expressions, extension methods, expression trees, anonymous types, implicit typing (var), and query expressionsC# 4.0released with .NET 4 and VS2010 (April 2010). Major new features: late binding (dynamic), delegate and interface generic variance, moreCOMsupport, named arguments, tuple data type and optional parametersC# 5.0released with .NET 4.5 and VS2012 (August 2012).Major features: async programming, and caller info attributes. Breaking change:loop variable closure.C# 6.0released with .NET 4.6 and VS2015 (July 2015). Implemented byRoslyn.Features: initializers for automatically implemented properties, using directives to import static members, exception filters, element initializers,awaitincatchandfinally, extensionAddmethods in collection initializers.C# 7.0released with .NET 4.7 and VS2017 (March 2017). Majornew features:tuples,ref locals and ref return,pattern matching(including pattern-based switch statements),inlineoutparameter declarations,local functions,binary literals, digit separators, andarbitrary async returns.C# 7.1released with VS2017 v15.3 (August 2017). New features:async main,tuple member name inference,default expression, andpattern matching with generics.C# 7.2released with VS2017 v15.5 (November 2017). New features:private protected access modifier,Span<T>, aka interior pointer, aka stackonly struct, andeverything else.C# 7.3released with VS2017 v15.7 (May 2018). New features:enum, delegate andunmanagedgeneric type constraints.refreassignment. Unsafe improvements:stackallocinitialization, unpinned indexedfixedbuffers, customfixedstatements. Improved overloading resolution. Expression variables in initializers and queries.==and!=defined for tuples. Auto-properties\' backing fields can now be targeted by attributes.C# 8.0released with .NET Core 3.0 and VS2019 v16.3 (September 2019). Majornew features:nullable reference-types,asynchronous streams,indices and ranges,readonly members,using declarations,default interface methods,static local functions, andenhancement of interpolated verbatim strings.C# 9released with.NET 5.0and VS2019 v16.8 (November 2020). Majornew features:init-only properties,records,with-expressions, data classes, positional records,top-level programs,improved pattern matching(simple type patterns, relational patterns, logical patterns), improved target typing (target-typenewexpressions, target typed??and?), and covariant returns. Minor features: relax ordering ofrefandpartialmodifiers, parameter null checking, lambda discard parameters, nativeints, attributes on local functions, function pointers, static lambdas, extensionGetEnumerator, module initializers, and extending partial.C# 10released with .NET 6.0 (November 2021). Majornew features: record structs, struct parameterless constructors, interpolated string handlers, globalusingdirectives, file-scoped namespace declarations, extended property patterns, const interpolated strings, mixed assignment and declaration in deconstruction, async method builders (via attributes) for individual methods, theCallerArgumentExpressionattribute for parameters, enhanced#linepragmas.C# 11released with .NET 7.0 (November 2022). Majornew features: file-scoped types, generic math support, auto-default structs, pattern matchSpan<char>on a constant string, extended nameof scope, numericIntPtr, UTF-8 string literals, required members,reffields andscoped ref, raw string literals, improved method group conversion to delegate, warning wave 7, generic attributes, newlines in string interpolation expressions, list patternsC# 12released with .NET 8.0 (November 2023). Majornew features: primary constructors, collection expressions, inline arrays, optional parameters in lambda expressions,ref readonlyparameters, alias any type,Experimentalattribute, interceptorsIn response to the OP\'s question:What are the correct version numbers for C#? What came out when? Why can\'t I find any answers about C# 3.5?There is no such thing as C# 3.5 - the cause of confusion here is that the C# 3.0 is present in .NET 3.5. The language and framework are versioned independently, however - as is the CLR, which is at version 2.0 for .NET 2.0 through 3.5, .NET 4 introducing CLR 4.0, service packs notwithstanding. The CLR in .NET 4.5 has various improvements, but the versioning is unclear: in some places it may be referred to as CLR 4.5 (this MSDN pageused to refer to it that way, for example), but theEnvironment.Versionproperty still reports 4.0.xxx.As of May 3, 2017, the C# Language Team created a history of C# versions and features on their GitHub repository:Features Added in C# Language Versions. There is alsoa page that tracks upcoming and recently implemented language features.ShareImprove this answerFolloweditedDec 12, 2023 at 11:42community wiki55 revs, 32 users 33%Peter Mortensen\n\nThis is the same as most answers here, but tabularized for ease, and it hasVisual Studioand.NETversions for completeness.C# versionVS version.NET versionCLR versionRelease date1.020021.01.0Feb 20021.220031.11.1Apr 20032.020052.02.0Nov 20053.02.0Nov 20063.020083.52.0Nov 20074.020104.04Apr 20105.020124.54Aug 201220134.5.14Oct 20134.5.24May 20146.020154.64Jul 20154.6.14Nov 20154.6.24Aug 20167.02017Mar 20174.74May 20177.12017 (v15.3)Aug 20174.7.14Oct 20177.22017 (v15.5)Dec 20174.7.24Apr 20187.32017 (v15.7)May 20188.020194.84Apr 20194.8.14Aug 2022Versions since .NET CoreC# versionVS version.NET versionRelease dateEnd of Support2015 Update 3.NET Core 1.0Jun 2016Jun 2019.NET Core 1.1Nov 2016Jun 20197.02017Mar 20177.12017 (v15.3).NET Core 2.0Aug 2017Oct 20187.32017 (v15.7).NET Core 2.1May 2018Aug 2021.NET Core 2.2Dec 2018Dec 20198.02019Apr 20192019 (v16.3).NET Core 3.0Sep 2019Mar 20202019 (v16.4).NET Core 3.1Dec 2019Dec 20229 (†)2019 (v16.8).NET 5Nov 2020May 2022102022.NET 6Nov 2021Nov 2024112022 (17.4).NET 7Nov 2022May 2024122022 (17.8).NET 8Nov 2023Nov 2026* - .NET 5.0 is not a newer version of .NET framework but .NET Core 3. Starting from .NET 5.0, there are no newer versions of .NET full framework.** -There are no separate CLR (CoreCLR) versions for .NET Core.Whatever is the .NET Core version is the CoreCLR version. So not mentioning it.Note:.NET is pretty much independent of VS and compiler versions, there is no correlation between versions of each. The above lists don\'t imply certain version of .NET are tied to certain C# or VS versions. This is just compiled in their chronological order of their releases (VS/C# and .NET). Some releases happen to be together, hence they sit in the same row.Refer to "".NET Framework versions and dependencies"" and "".NET release cadence"" for more.† Themajor.minorversioning scheme became justmajorstarting with C# 9ShareImprove this answerFolloweditedDec 12, 2023 at 11:37community wiki28 revs, 12 users 65%nawfal\n\nThe biggest problem when dealing with C#\'s version numbers is the fact that it is not tied to a version of the .NET Framework, which it appears to be due to the synchronized releases between Visual Studio and the .NET Framework.The version of C# is actually bound to the compiler, not the framework. For instance, in Visual\xa0Studio\xa02008 you can write C# 3.0 and target .NET Framework 2.0, 3.0 and 3.5. The C# 3.0 nomenclature describes the version of the code syntax and supported features in the same way thatANSI C89, C90, and C99describe the code syntax and features for C.Take a look atMono, and you will see that Mono 2.0 (mostly implemented version 2.0 of the .NET Framework from the ECMA specifications) supports the C# 3.0 syntax and features.ShareImprove this answerFolloweditedAug 28, 2021 at 13:44community wiki3 revs, 2 users 56%Peter Mortensen\n\nC# 1.0withVisual Studio .NETC# 2.0withVisual\xa0Studio\xa02005C# 3.0withVisual\xa0Studio\xa02008C# 4.0withVisual\xa0Studio\xa02010C# 5.0withVisual\xa0Studio\xa02012C# 6.0withVisual\xa0Studio\xa02015C# 7.0withVisual\xa0Studio\xa02017C# 8.0withVisual\xa0Studio\xa02019C# 9.0with Visual\xa0Studio\xa02019ShareImprove this answerFolloweditedAug 28, 2021 at 13:48community wiki9 revs, 9 users 36%Peter Mortensen\n\nVersionLanguage specificationMicrosoft compilerC#1.0/1.2December 2001?/2003?January 2002?C# 2.0September 2005November 2005?C# 3.0May 2006November 2006?C# 4.0March 2009 (draft)April 2010?C# 5.0Released with .NET 4.5 in August 2012C# 6.0Released with .NET  4.6   2015C# 7.0Released with .NET  4.7   2017C# 8.0Released with .NET  4.8   2019ShareImprove this answerFolloweditedAug 28, 2021 at 13:45community wiki8 revs, 8 users 27%Wai Ha Lee\n\nI\'ve summarised most of the versions in this table. The only ones missing should be ASP.NET Core versions. I\'ve also added different versions of ASP.NET MVC.Note that ASP.NET 5 has been rebranded as ASP.NET Core 1.0 and ASP.NET MVC 6 has been rebranded as ASP.NET Core MVC 1.0.0. I believe this change occurred sometime around Jan 2016.I have included the release date of ASP.NET 5 RC1 in the table, but I\'ve yet to include ASP.NET core 1.0 and other core versions, because I couldn\'t find the exact release dates. You can read more about the release dates regarding ASP.NET Core here:When is ASP.NET Core 1.0 (ASP.NET 5 / vNext) scheduled for release?ShareImprove this answerFolloweditedNov 6, 2017 at 17:31community wiki5 revs, 2 users 83%Mindless\n\nYou can check the latest C# versionshereShareImprove this answerFolloweditedOct 30, 2014 at 19:58community wiki3 revs, 2 users 91%Israel Ocbina\n\nComparing the MSDN articles""What\'s New in the C# 2.0 Language and Compiler""and ""What\'s New in Visual C# 2005"", it is possible to deduce that ""C# major_version.minor_version"" is coined according to the compiler\'s version numbering.There isC# 1.2 corresponding to .NET  1.1 and VS 2003and also named asVisual C# .NET 2003.But further on Microsoft stopped to increment the minor version (after the dot) numbers or to have them other than zero,0. Though it should be noted that C# corresponding to .NET 3.5 is named in msdn.microsoft.com as""Visual C# 2008 Service Pack 1"".There are two parallel namings: By major .NET/compiler version numbering and by Visual Studio numbering.C# 2.0is a synonym forVisual C# 2005C# 3.0  corresponds (or, more correctly, can target) to:.NET 2.0 <==>Visual C# 2005.NET3.0 <==> Visual C# 2008.NET 3.5 <==>Visual C# 2008 Service Pack 1ShareImprove this answerFolloweditedNov 6, 2017 at 17:22community wiki2 revs, 2 users 81%Gennady Vanin Геннадий Ванин\n\nC# 1.0 - Visual Studio .NET 2002ClassesStructsInterfacesEventsPropertiesDelegatesExpressionsStatementsAttributesLiteralsC# 1.2 - Visual Studio .NET 2003Dispose in foreachforeach over string specializationC# 2 - Visual Studio 2005GenericsPartial typesAnonymous methodsIteratorsNullable typesGetter/setter separate accessibilityMethod group conversions (delegates)Static classesDelegate inferenceC# 3 - Visual Studio 2008Implicitly typed local variablesObject and collection initializersAuto-Implemented propertiesAnonymous typesExtension methodsQuery expressionsLambda expressionExpression treesPartial methodsC# 4 - Visual Studio 2010Dynamic bindingNamed and optional argumentsCo- and Contra-variance for generic delegates and interfacesEmbedded interop types (""NoPIA"")C# 5 - Visual Studio 2012Asynchronous methodsCaller info attributesC# 6 - Visual Studio 2015Draft Specification onlineCompiler-as-a-service (Roslyn)Import of static type members into namespaceException filtersAwait in catch/finally blocksAuto property initializersDefault values for getter-only propertiesExpression-bodied membersNull propagator (null-conditional operator, succinct null checking)String interpolationnameof operatorDictionary initializerC# 7.0 - Visual Studio 2017Out variablesPattern matchingTuplesDeconstructionDiscardsLocal FunctionsBinary LiteralsDigit SeparatorsRef returns and localsGeneralized async return typesMore expression-bodied membersThrow expressionsC# 7.1 - Visual Studio 2017 version 15.3Async mainDefault expressionsReference assembliesInferred tuple element namesPattern-matching with genericsC# 7.2 - Visual Studio 2017 version 15.5Span and ref-like typesIn parameters and readonly referencesRef conditionalNon-trailing named argumentsPrivate protected accessibilityDigit separator after base specifierC# 7.3 - Visual Studio 2017 version 15.7System.Enum, System.Delegate and unmanaged constraints.Ref local re-assignment: Ref locals and ref parameters can now be reassigned with the ref assignment operator (= ref).Stackalloc initializers: Stack-allocated arrays can now be initialized, e.g. Span x = stackalloc[] { 1, 2, 3 };.Indexing movable fixed buffers: Fixed buffers can be indexed into without first being pinned.Custom fixed statement: Types that implement a suitable GetPinnableReference can be used in a fixed statement.Improved overload candidates: Some overload resolution candidates can be ruled out early, thus reducing ambiguities.Expression variables in initializers and queries: Expression variables like out var and pattern variables are allowed in field initializers, constructor initializers and LINQ queries.Tuple comparison: Tuples can now be compared with == and !=.Attributes on backing fields: Allows [field: …] attributes on an auto-implemented property to target its backing field.C# 8.0 - .NET Core 3.0 and Visual Studio 2019 version 16.3Nullable reference types: express nullability intent on reference types with ?, notnull constraint and annotations attributes in APIs, the compiler will use those to try and detect possible null values being dereferenced or passed to unsuitable APIs.Default interface members: interfaces can now have members with default implementations, as well as static/private/protected/internal members except for state (ie. no fields).Recursive patterns: positional and property patterns allow testing deeper into an object, and switch expressions allow for testing multiple patterns and producing corresponding results in a compact fashion.Async streams: await foreach and await using allow for asynchronous enumeration and disposal of IAsyncEnumerable collections and IAsyncDisposable resources, and async-iterator methods allow convenient implementation of such asynchronous streams.Enhanced using: a using declaration is added with an implicit scope and using statements and declarations allow disposal of ref structs using a pattern.Ranges and indexes: the i..j syntax allows constructing System.Range instances, the ^k syntax allows constructing System.Index instances, and those can be used to index/slice collections.Null-coalescing assignment: ??= allows conditionally assigning when the value is null.Static local functions: local functions modified with static cannot capture this or local variables, and local function parameters now shadow locals in parent scopes.Unmanaged generic structs: generic struct types that only have unmanaged fields are now considered unmanaged (ie. they satisfy the unmanaged constraint).Readonly members: individual members can now be marked as readonly to indicate and enforce that they do not modify instance state.Stackalloc in nested contexts: stackalloc expressions are now allowed in more expression contexts.Alternative interpolated verbatim strings: @$""..."" strings are recognized as interpolated verbatim strings just like $@""..."".Obsolete on property accessors: property accessors can now be individually marked as obsolete.Permit t is null on unconstrained type parameter[Source]:https://github.com/dotnet/csharplang/blob/master/Language-Version-History.mdShareImprove this answerFolloweditedAug 28, 2021 at 13:57community wiki2 revs, 2 users 74%sayah imad\n\nVersion     .NET Framework     Visual Studio     Important FeaturesC# 1.0     .NET Framework 1.0/1.1     Visual Studio .NET 2002Basic featuresC# 2.0     .NET Framework 2.0     Visual Studio 2005GenericsPartial typesAnonymous methodsIteratorsNullable typesPrivate setters (properties)Method group conversions (delegates)Covariance and Contra-varianceStatic classesC# 3.0     .NET Framework 3.0\\3.5     Visual Studio 2008Implicitly typed local variablesObject and collection initializersAuto-Implemented propertiesAnonymous typesExtension methodsQuery expressionsLambda expressionsExpression treesPartial MethodsC# 4.0     .NET Framework 4.0     Visual Studio 2010Dynamic binding (late binding)Named and optional argumentsGeneric co- and contravarianceEmbedded interop typesC# 5.0     .NET Framework 4.5     Visual Studio 2012/2013Async featuresCaller informationC# 6.0     .NET Framework 4.6     Visual Studio 2013/2015Expression Bodied MethodsAuto-property initializernameof ExpressionPrimary constructorAwait in catch blockException FilterString InterpolationC# 7.0     .NET Core 2.0     Visual Studio 2017out variablesTuplesDiscardsPattern MatchingLocal functionsGeneralized async return typesNumeric literal syntax improvementsC# 8.0     .NET Core 3.0     Visual Studio 2019Readonly membersDefault interface methodsPattern matching enhancements:Switch expressionsProperty patternsTuple patternsPositional patternsUsing declarationsStatic local functionsDisposable ref structsNullable reference typesAsynchronous streamsAsynchronous disposableIndices and rangesNull-coalescing assignmentUnmanaged constructed typesStackalloc in nested expressionsEnhancement of interpolated verbatim stringsShareImprove this answerFolloweditedAug 28, 2021 at 14:03community wiki2 revs, 2 users 66%user12275552\n\nC# 8.0 is the latest version of C#. It is supported only on .NET Core 3.x and newer versions. Many of the newest features require library and runtime features introduced in .NET Core 3.x.The following table lists the target framework with version and their default C# version.Source - C# language versioningShareImprove this answerFolloweditedAug 28, 2021 at 13:58community wiki2 revs, 2 users 73%Shivam Mishra\n\nI was looking for a concise history of the .NET, C#, CLR, and Visual\xa0Studio versions alongside the key language features.Since I couldn\'t find any up-to-date table that contains all the information I needed in one place - I merged details from the Microsoft docs into what I tried to keep a concise table that contains what I was looking for.It’s available here:https://mantinband.github.io/dotnet-shmotnet/I probably have some mistakes or missing information so please feel free to open an issue or contribute over here:https://github.com/mantinband/dotnet-shmotnetSneak peek:ShareImprove this answerFolloweditedAug 28, 2021 at 14:04community wiki2 revs, 2 users 75%Amichai\n\nYou can find a list of all the C# language versions onMicrosoft\'s reference.ShareImprove this answerFolloweditedMar 27, 2023 at 19:52community wiki3 revsAhmad A'}","{'title': 'How do you parse and process HTML/XML in PHP?', 'question': 'How can one parse HTML/XML and extract information from it?phphtmlxmlxml-parsinghtml-parsingShareImprove this questionFolloweditedDec 24, 2021 at 15:45community wiki29 revs, 19 users 25%RobertPitt', 'answers': 'Answer recommended byPHPCollectiveNative XML ExtensionsI prefer using one of thenative XML extensionssince they come bundled with PHP, are usually faster than all the 3rd party libs and give me all the control I need over the markup.DOMThe DOM extension allows you to operate on XML documents through the DOM API with PHP 5. It is an implementation of the W3C\'s Document Object Model Core Level 3, a platform- and language-neutral interface that allows programs and scripts to dynamically access and update the content, structure and style of documents.DOM is capable of parsing and modifying real world (broken) HTML and it can doXPath queries. It is based onlibxml.It takes some time to get productive with DOM, but that time is well worth it IMO. Since DOM is a language-agnostic interface, you\'ll find implementations in many languages, so if you need to change your programming language, chances are you will already know how to use that language\'s DOM API then.How to use the DOM extension has beencovered extensivelyon StackOverflow, so if you choose to use it, you can be sure most of the issues you run into can be solved by searching/browsing Stack Overflow.Abasic usage exampleand ageneral conceptual overvieware available in other answers.XMLReaderThe XMLReader extension is an XML pull parser. The reader acts as a cursor going forward on the document stream and stopping at each node on the way.XMLReader, like DOM, is based on libxml. I am not aware of how to trigger the HTML Parser Module, so chances are using XMLReader for parsing broken HTML might be less robust than using DOM where you can explicitly tell it to use libxml\'s HTML Parser Module.Abasic usage exampleis available in another answer.XML ParserThis extension lets you create XML parsers and then define handlers for different XML events. Each XML parser also has a few parameters you can adjust.The XML Parser library is also based on libxml, and implements aSAXstyle XML push parser. It may be a better choice for memory management than DOM or SimpleXML, but will be more difficult to work with than the pull parser implemented by XMLReader.SimpleXmlThe SimpleXML extension provides a very simple and easily usable toolset to convert XML to an object that can be processed with normal property selectors and array iterators.SimpleXML is an option when you know the HTML is valid XHTML. If you need to parse broken HTML, don\'t even consider SimpleXml because it will choke.Abasic usage exampleis available, and there arelots of additional examples in the PHP Manual.3rd Party Libraries (libxml based)If you prefer to use a 3rd-party lib, I\'d suggest using a lib that actually usesDOM/libxmlunderneath instead of string parsing.FluentDomFluentDOM provides a jQuery-like fluent XML interface for the DOMDocument in PHP. Selectors are written in XPath or CSS (using a CSS to XPath converter). Current versions extend the DOM implementing standard interfaces and add features from the DOM Living Standard. FluentDOM can load formats like JSON, CSV, JsonML, RabbitFish and others. Can be installed via Composer.HtmlPageDomWa72\\HtmlPageDomis a PHP library for easy manipulation of HTML\ndocuments using DOM. It requiresDomCrawler from Symfony2\ncomponentsfor traversing\nthe DOM tree and extends it by adding methods for manipulating the\nDOM tree of HTML documents.phpQueryphpQuery is a server-side, chainable, CSS3 selector driven Document Object Model (DOM) API based on jQuery JavaScript Library.\nThe library is written in PHP5 and provides additional Command Line Interface (CLI).This is described as ""abandonware and buggy: use at your own risk"" but does appear to be minimally maintained.laminas-domThe Laminas\\Dom component (formerly Zend_DOM) provides tools for working with DOM documents and structures. Currently, we offerLaminas\\Dom\\Query, which provides a unified interface for querying DOM documents utilizing both XPath and CSS selectors.This package is considered feature-complete, and is now in security-only maintenance mode.fDOMDocumentfDOMDocument extends the standard DOM to use exceptions at all occasions of errors instead of PHP warnings or notices. They also add various custom methods and shortcuts for convenience and to simplify the usage of DOM.sabre/xmlsabre/xml is a library that wraps and extends the XMLReader and XMLWriter classes to create a simple ""xml to object/array"" mapping system and design pattern. Writing and reading XML is single-pass and can therefore be fast and require low memory on large xml files.FluidXMLFluidXML is a PHP library for manipulating XML with a concise and fluent API.\nIt leverages XPath and the fluent programming pattern to be fun and effective.3rd-Party (not libxml-based)The benefit of building upon DOM/libxml is that you get good performance out of the box because you are based on a native extension. However, not all 3rd-party libs go down this route. Some of them listed belowPHP Simple HTML DOM ParserAn HTML DOM parser written in PHP5+ lets you manipulate HTML in a very easy way!Require PHP 5+.Supports invalid HTML.Find tags on an HTML page with selectors just like jQuery.Extract contents from HTML in a single line.I generally do not recommend this parser. The codebase is horrible and the parser itself is rather slow and memory hungry. Not all jQuery Selectors (such aschild selectors) are possible. Any of the libxml based libraries should outperform this easily.PHP Html ParserPHPHtmlParser is a simple, flexible, html parser which allows you to select tags using any css selector, like jQuery. The goal is to assiste in the development of tools which require a quick, easy way to scrape html, whether it\'s valid or not! This project was original supported by sunra/php-simple-html-dom-parser but the support seems to have stopped so this project is my adaptation of his previous work.Again, I would not recommend this parser. It is rather slow with high CPU usage. There is also no function to clear memory of created DOM objects. These problems scale particularly with nested loops. The documentation itself is inaccurate and misspelled, with no responses to fixes since 14 Apr 16.HTML 5You can use the above for parsing HTML5, butthere can be quirksdue to the markup HTML5 allows. So for HTML5 you may want to consider using a dedicated parser. Note that these are written in PHP, so suffer from slower performance and increased memory usage compared to a compiled extension in a lower-level language.HTML5DomDocumentHTML5DOMDocument extends the native DOMDocument library. It fixes some bugs and adds some new functionality.Preserves html entities (DOMDocument does not)Preserves void tags (DOMDocument does not)Allows inserting HTML code that moves the correct parts to their proper places (head elements are inserted in the head, body elements in the body)Allows querying the DOM with CSS selectors (currently available:*,tagname,tagname#id,#id,tagname.classname,.classname,tagname.classname.classname2,.classname.classname2,tagname[attribute-selector],[attribute-selector],div, p,div p,div > p,div + p, andp ~ ul.)Adds support for element->classList.Adds support for element->innerHTML.Adds support for element->outerHTML.HTML5HTML5 is a standards-compliant HTML5 parser and writer written entirely in PHP. It is stable and used in many production websites, and has well over five million downloads.HTML5 provides the following features.An HTML5 serializerSupport for PHP namespacesComposer supportEvent-based (SAX-like) parserA DOM tree builderInteroperability with QueryPathRuns on PHP 5.3.0 or newerRegular ExpressionsLast andleast recommended, you can extract data from HTML withregular expressions. In general using Regular Expressions on HTML is discouraged.Most of the snippets you will find on the web to match markup are brittle. In most cases they are only working for a very particular piece of HTML. Tiny markup changes, like adding whitespace somewhere, or adding, or changing attributes in a tag, can make the RegEx fails when it\'s not properly written. You should know what you are doing before using RegEx on HTML.HTML parsers already know the syntactical rules of HTML. Regular expressions have to be taught for each new RegEx you write. RegEx are fine in some cases, but it really depends on your use-case.Youcan write more reliable parsers, but writing acomplete and reliablecustom parser with regular expressions is a waste of time when the aforementioned libraries already exist and do a much better job on this.Also seeParsing Html The Cthulhu WayBooksIf you want to spend some money, have a look atPHP Architect\'s Guide to Webscraping with PHPI am not affiliated with PHP Architect or the authors.ShareImprove this answerFolloweditedMay 23, 2022 at 6:45Cid15.2k44 gold badges3030 silver badges4848 bronze badgesansweredAug 26, 2010 at 17:19GordonGordon316k7676 gold badges544544 silver badges564564 bronze badges\n\nTrySimple HTML DOM Parser.A HTML DOM parser written in PHP\xa05+ that lets you manipulate HTML in a very easy way!Require PHP 5+.Supports invalid HTML.Find tags on an HTML page with selectors just like jQuery.Extract contents from HTML in a single line.DownloadNote: as the name suggests, it can be useful for simple tasks. It uses regular expressions instead of an HTML parser, so will be considerably slower for more complex tasks. The bulk of its codebase was written in 2008, with only small improvements made since then. It does not follow modern PHP coding standards and would be challenging to incorporate into a modern PSR-compliant project.Examples:How to get HTML elements:// Create DOM from URL or file\n$html = file_get_html(\'http://www.example.com/\');\n\n// Find all images\nforeach($html->find(\'img\') as $element)\n       echo $element->src . \'<br>\';\n\n// Find all links\nforeach($html->find(\'a\') as $element)\n       echo $element->href . \'<br>\';How to modify HTML elements:// Create DOM from string\n$html = str_get_html(\'<div id=""hello"">Hello</div><div id=""world"">World</div>\');\n\n$html->find(\'div\', 1)->class = \'bar\';\n\n$html->find(\'div[id=hello]\', 0)->innertext = \'foo\';\n\necho $html;Extract content from HTML:// Dump contents (without tags) from HTML\necho file_get_html(\'http://www.google.com/\')->plaintext;Scraping Slashdot:// Create DOM from URL\n$html = file_get_html(\'http://slashdot.org/\');\n\n// Find all article blocks\nforeach($html->find(\'div.article\') as $article) {\n    $item[\'title\']     = $article->find(\'div.title\', 0)->plaintext;\n    $item[\'intro\']    = $article->find(\'div.intro\', 0)->plaintext;\n    $item[\'details\'] = $article->find(\'div.details\', 0)->plaintext;\n    $articles[] = $item;\n}\n\nprint_r($articles);ShareImprove this answerFolloweditedAug 3, 2021 at 19:13miken3242.6k1616 gold badges119119 silver badges164164 bronze badgesansweredAug 26, 2010 at 17:18NaveedNaveed41.9k3131 gold badges9999 silver badges131131 bronze badges\n\nJust useDOMDocument->loadHTML()and be done with it. libxml\'s HTML parsing algorithm is quite good and fast, and contrary to popular belief, does not choke on malformed HTML.ShareImprove this answerFollowansweredNov 26, 2008 at 20:02Edward Z. YangEdward Z. Yang26.7k1616 gold badges8484 silver badges114114 bronze badges\n\nWhy you shouldn\'t andwhen you shoulduse regular expressions?First off, a common misnomer: Regexps are not for""parsing""HTML. Regexes can however""extract""data. Extracting is what they\'re made for. The major drawback of regex HTML extraction over proper SGML toolkits or baseline XML parsers are their syntactic effort and varying reliability.Consider that making a somewhat dependable HTML extraction regex:<a\\s+class=""?playbutton\\d?[^>]+id=""(\\d+)"".+?    <a\\s+class=""[\\w\\s]*title\n[\\w\\s]*""[^>]+href=""(http://[^"">]+)""[^>]*>([^<>]+)</a>.+?is way less readable than a simple phpQuery or QueryPath equivalent:$div->find("".stationcool a"")->attr(""title"");There are however specific use cases where they can help.Many DOM traversal frontends don\'t reveal HTML comments<!--, which however are sometimes the more useful anchors for extraction. In particular pseudo-HTML variations<$var>or SGML residues are easy to tame with regexps.Oftentimes regular expressions can save post-processing. However HTML entities often require manual caretaking.And lastly, for extremely simple taskslike extracting <img src= urls, they are in fact a probable tool. The speed advantage over SGML/XML parsers mostly just comes to play for these very basic extraction procedures.It\'s sometimes even advisable to pre-extract a snippet of HTML using regular expressions/<!--CONTENT-->(.+?)<!--END-->/and process the remainder using the simpler HTML parser frontends.Note:I actually have thisapp, where I employ XML parsing and regular expressions alternatively. Just last week the PyQuery parsing broke, and the regex still worked. Yes weird, and I can\'t explain it myself. But so it happened.So please don\'t vote real-world considerations down, just because it doesn\'t match the regex=evil meme.But let\'s also not vote this up too much. It\'s just a sidenote for this topic.ShareImprove this answerFolloweditedMay 7, 2016 at 10:43community wiki4 revs, 2 users 98%mario\n\nNote, this answer recommends libraries that have now been abandoned for 10+ years.phpQueryandQueryPathare extremely similar in replicating the fluent jQuery API. That\'s also why they\'re two of the easiest approaches toproperlyparse HTML in PHP.Examples for QueryPathBasically you first create a queryable DOM tree from an HTML string:$qp = qp(""<html><body><h1>title</h1>...""); // or give filename or URLThe resulting object contains a complete tree representation of the HTML document. It can be traversed using DOM methods. But the common approach is to use CSS selectors like in jQuery:$qp->find(""div.classname"")->children()->...;\n\n foreach ($qp->find(""p img"") as $img) {\n     print qp($img)->attr(""src"");\n }Mostly you want to use simple#idand.classorDIVtag selectors for->find(). But you can also useXPathstatements, which sometimes are faster. Also typical jQuery methods like->children()and->text()and particularly->attr()simplify extracting the right HTML snippets. (And already have their SGML entities decoded.)$qp->xpath(""//div/p[1]"");  // get first paragraph in a divQueryPath also allows injecting new tags into the stream (->append), and later output and prettify an updated document (->writeHTML). It can not only parse malformed HTML, but also various XML dialects (with namespaces), and even extract data from HTML microformats (XFN, vCard).$qp->find(""a[target=_blank]"")->toggleClass(""usability-blunder"");.phpQuery or QueryPath?Generally QueryPath is better suited for manipulation of documents. While phpQuery also implements some pseudo AJAX methods (just HTTP requests) to more closely resemble jQuery. It is said that phpQuery is often faster than QueryPath (because of fewer overall features).For further information on the differences seethis comparison on the wayback machine from tagbyte.org. (Original source went missing, so here\'s an internet archive link. Yes, you can still locate missing pages, people.)AdvantagesSimplicity and ReliabilitySimple to use alternatives->find(""a img, a object, div a"")Proper data unescaping (in comparison to regular expression grepping)ShareImprove this answerFolloweditedAug 3, 2021 at 18:57community wiki6 revs, 4 users 77%mario\n\nSimple HTML DOM is a great open-source parser:simplehtmldom.sourceforgeIt treats DOM elements in an object-oriented way, and the new iteration has a lot of coverage for non-compliant code. There are also some great functions like you\'d see in JavaScript, such as the ""find"" function, which will return all instances of elements of that tag name.I\'ve used this in a number of tools, testing it on many different types of web pages, and I think it works great.ShareImprove this answerFolloweditedOct 28, 2015 at 17:39Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredNov 15, 2008 at 22:16Robert ElwellRobert Elwell6,64811 gold badge2929 silver badges3232 bronze badges\n\nOne general approach I haven\'t seen mentioned here is to run HTML throughTidy, which can be set to spit out guaranteed-valid XHTML. Then you can use any old XML library on it.But to your specific problem, you should take a look at this project:http://fivefilters.org/content-only/-- it\'s a modified version of theReadabilityalgorithm, which is designed to extract just the textual content (not headers and footers) from a page.ShareImprove this answerFollowansweredMay 1, 2011 at 2:04EliEli5,56011 gold badge3030 silver badges2727 bronze badges\n\nFor 1a and 2: I would vote for the new Symfony Componet class DOMCrawler (DomCrawler).\nThis class allows queries similar to CSS Selectors. Take a look at this presentation for real-world examples:news-of-the-symfony2-world.The component is designed to work standalone and can be used without Symfony.The only drawback is that it will only work with PHP 5.3 or newer.ShareImprove this answerFolloweditedJun 14, 2013 at 10:33community wiki3 revs, 3 users 53%Timo\n\nThis is commonly referred to asscreen scraping, by the way. The library I have used for this isSimple HTML Dom Parser.ShareImprove this answerFollowansweredAug 26, 2010 at 17:20Joel VerhagenJoel Verhagen5,25044 gold badges3939 silver badges4747 bronze badges\n\nWe have created quite a few crawlers for our needs before. At the end of the day, it is usually simple regular expressions that do the thing best. While libraries listed above are good for the reason they are created, if you know what you are looking for, regular expressions is a safer way to go, as you can handle also non-validHTML/XHTMLstructures, which would fail, if loaded via most of the parsers.ShareImprove this answerFolloweditedMar 31, 2014 at 22:48Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredOct 4, 2011 at 13:14janchajancha4,95711 gold badge2626 silver badges4040 bronze badges\n\nI recommendPHP Simple HTML DOM Parser.It really has nice features, like:foreach($html->find(\'img\') as $element)\n       echo $element->src . \'<br>\';ShareImprove this answerFolloweditedOct 28, 2015 at 17:42Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredNov 6, 2012 at 21:02GregGreg1,00388 silver badges1414 bronze badges\n\nThis sounds like a good task description of W3CXPathtechnology. It\'s easy to express queries like ""return allhrefattributes inimgtags that are nested in<foo><bar><baz> elements."" Not being a PHP buff, I can\'t tell you in what form XPath may be available. If you can call an external program to process the HTML file you should be able to use a command line version of XPath.\nFor a quick intro, seehttp://en.wikipedia.org/wiki/XPath.ShareImprove this answerFollowansweredApr 14, 2011 at 19:08JensJens71.6k1616 gold badges129129 silver badges183183 bronze badges\n\nThird party alternatives to SimpleHtmlDom that use DOM instead of String Parsing:phpQuery,Zend_Dom,QueryPathandFluentDom.ShareImprove this answerFolloweditedDec 26, 2013 at 18:31community wiki2 revs, 2 users 78%Amal Murali\n\nYes you can use simple_html_dom for the purpose. However I have worked quite a lot with the simple_html_dom, particularly for web scraping and have found it to be too vulnerable. It does the basic job but I won\'t recommend it anyways.I have never used curl for the purpose but what I have learned is that curl can do the job much more efficiently and is much more solid.Kindly check out this link:scraping-websites-with-curlShareImprove this answerFolloweditedFeb 12, 2021 at 10:31DisappointedByUnaccountableMod6,76644 gold badges2020 silver badges2323 bronze badgesansweredJan 5, 2012 at 14:49RafayRafay6,1581111 gold badges5353 silver badges7171 bronze badges\n\nAdvanced Html Domis a simple HTMLDOMreplacement that offers the same interface, but it\'s DOM-based which means none of the associated memory issues occur.It also has full CSS support, includingjQueryextensions.ShareImprove this answerFolloweditedDec 28, 2015 at 16:48community wiki3 revs, 2 users 69%pguardiario\n\nQueryPathis good, but be careful of ""tracking state"" cause if you didn\'t realise what it means, it can mean you waste a lot of debugging time trying to find out what happened and why the code doesn\'t work.What it means is that each call on the result set modifies the result set in the object, it\'s not chainable like in jquery where each link is a new set, you have a single set which is the results from your query and each function call modifies that single set.in order to get jquery-like behaviour, you need to branch before you do a filter/modify like operation, that means it\'ll mirror what happens in jquery much more closely.$results = qp(""div p"");\n$forename = $results->find(""input[name=\'forename\']"");$resultsnow contains the result set forinput[name=\'forename\']NOT the original query""div p""this tripped me up a lot, what I found was thatQueryPathtracks the filters and finds and everything which modifies your results and stores them in the object.  you need to do this instead$forename = $results->branch()->find(""input[name=\'forname\']"")then$resultswon\'t be modified and you can reuse the result set again and again, perhaps somebody with much more knowledge can clear this up a bit, but it\'s basically like this from what I\'ve found.ShareImprove this answerFolloweditedJan 31, 2015 at 10:14answeredApr 15, 2012 at 13:12Christopher ThomasChristopher Thomas4,58244 gold badges3535 silver badges5151 bronze badges\n\nForHTML5, html5 lib has been abandoned for years now. The only HTML5 library I can find with a recent update and maintenance records ishtml5-phpwhich was just brought to beta 1.0 a little over a week ago.ShareImprove this answerFolloweditedOct 28, 2015 at 17:43community wiki2 revs, 2 users 67%Reid Johnson\n\nI created a library namedPHPPowertools/DOM-Query, which allows you to crawl HTML5 and XML documents just like you do with jQuery.Under the hood, it usessymfony/DomCrawlerfor conversion of CSS selectors toXPathselectors. It always uses the same DomDocument, even when passing one object to another, to ensure decent performance.Example use :namespace PowerTools;\n\n// Get file content\n$htmlcode = file_get_contents(\'https://github.com\');\n\n// Define your DOMCrawler based on file string\n$H = new DOM_Query($htmlcode);\n\n// Define your DOMCrawler based on an existing DOM_Query instance\n$H = new DOM_Query($H->select(\'body\'));\n\n// Passing a string (CSS selector)\n$s = $H->select(\'div.foo\');\n\n// Passing an element object (DOM Element)\n$s = $H->select($documentBody);\n\n// Passing a DOM Query object\n$s = $H->select( $H->select(\'p + p\'));\n\n// Select the body tag\n$body = $H->select(\'body\');\n\n// Combine different classes as one selector to get all site blocks\n$siteblocks = $body->select(\'.site-header, .masthead, .site-body, .site-footer\');\n\n// Nest your methods just like you would with jQuery\n$siteblocks->select(\'button\')->add(\'span\')->addClass(\'icon icon-printer\');\n\n// Use a lambda function to set the text of all site blocks\n$siteblocks->text(function( $i, $val) {\n    return $i . "" - "" . $val->attr(\'class\');\n});\n\n// Append the following HTML to all site blocks\n$siteblocks->append(\'<div class=""site-center""></div>\');\n\n// Use a descendant selector to select the site\'s footer\n$sitefooter = $body->select(\'.site-footer > .site-center\');\n\n// Set some attributes for the site\'s footer\n$sitefooter->attr(array(\'id\' => \'aweeesome\', \'data-val\' => \'see\'));\n\n// Use a lambda function to set the attributes of all site blocks\n$siteblocks->attr(\'data-val\', function( $i, $val) {\n    return $i . "" - "" . $val->attr(\'class\') . "" - photo by Kelly Clark"";\n});\n\n// Select the parent of the site\'s footer\n$sitefooterparent = $sitefooter->parent();\n\n// Remove the class of all i-tags within the site\'s footer\'s parent\n$sitefooterparent->select(\'i\')->removeAttr(\'class\');\n\n// Wrap the site\'s footer within two nex selectors\n$sitefooter->wrap(\'<section><div class=""footer-wrapper""></div></section>\');\n\n[...]Supported methods :[x]$(1)[x]$.parseHTML[x]$.parseXML[x]$.parseJSON[x]$selection.add[x]$selection.addClass[x]$selection.after[x]$selection.append[x]$selection.attr[x]$selection.before[x]$selection.children[x]$selection.closest[x]$selection.contents[x]$selection.detach[x]$selection.each[x]$selection.eq[x]$selection.empty(2)[x]$selection.find[x]$selection.first[x]$selection.get[x]$selection.insertAfter[x]$selection.insertBefore[x]$selection.last[x]$selection.parent[x]$selection.parents[x]$selection.remove[x]$selection.removeAttr[x]$selection.removeClass[x]$selection.text[x]$selection.wrapRenamed \'select\', for obvious reasonsRenamed \'void\', since \'empty\' is a reserved word in PHPNOTE :The library also includes its own zero-configuration autoloader for PSR-0 compatible libraries. The example included should work out of the box without any additional configuration. Alternatively, you can use it with composer.ShareImprove this answerFolloweditedJun 20, 2020 at 9:12community wiki4 revs, 2 users 89%John Slegers\n\nYou could try using something likeHTML Tidyto cleanup any ""broken"" HTML and convert the HTML to XHTML, which you can then parse with a XML parser.ShareImprove this answerFollowansweredNov 15, 2008 at 22:24CesarBCesarB45k77 gold badges6464 silver badges8686 bronze badges\n\nI have written a general purpose XML parser that can easily handle GB files. It\'s based on XMLReader and it\'s very easy to use:$source = new XmlExtractor(""path/to/tag"", ""/path/to/file.xml"");\nforeach ($source as $tag) {\n    echo $tag->field1;\n    echo $tag->field2->subfield1;\n}Here\'s the github repo:XmlExtractorShareImprove this answerFollowansweredMay 12, 2013 at 1:23community wikiPaul Warelis\n\nAnother option you can try isQueryPath. It\'s inspired by jQuery, but on the server in PHP and used inDrupal.ShareImprove this answerFolloweditedOct 28, 2018 at 14:51Will24.5k1414 gold badges9797 silver badges110110 bronze badgesansweredMay 31, 2011 at 15:12RicRic3,38811 gold badge3434 silver badges5151 bronze badges\n\nXML_HTMLSaxis rather stable - even if it\'s not maintained any more. Another option could be to pipe you HTML throughHtml Tidyand then parse it with standard XML tools.ShareImprove this answerFollowansweredNov 15, 2008 at 19:55troelskntroelskn117k2727 gold badges132132 silver badges156156 bronze badges\n\nThere are many ways to process HTML/XML DOM of which most have already been mentioned. Hence, I won\'t make any attempt to list those myself.I merely want to add that I personally prefer using the DOM extension and why :iit makes optimal use of the performance advantage of the underlying C codeit\'s OO PHP (and allows me to subclass it)it\'s rather low level (which allows me to use it as a non-bloated foundation for more advanced behavior)it provides access to every part of the DOM (unlike eg. SimpleXml, which ignores some of the lesser known XML features)it has a syntax used for DOM crawling that\'s similar to the syntax used in native Javascript.And while I miss the ability to use CSS selectors forDOMDocument, there is a rather simple and convenient way to add this feature: subclassing theDOMDocumentand adding JS-likequerySelectorAllandquerySelectormethods to your subclass.For parsing the selectors, I recommend using the very minimalisticCssSelector componentfrom theSymfony framework. This component just translates CSS selectors to XPath selectors, which can then be fed into aDOMXpathto retrieve the corresponding Nodelist.You can then use this (still very low level) subclass as a foundation for more high level classes, intended to eg. parse very specific types of XML or add more jQuery-like behavior.The code below comes straight out myDOM-Query libraryand uses the technique I described.For HTML parsing :namespace PowerTools;\n\nuse \\Symfony\\Component\\CssSelector\\CssSelector as CssSelector;\n\nclass DOM_Document extends \\DOMDocument {\n    public function __construct($data = false, $doctype = \'html\', $encoding = \'UTF-8\', $version = \'1.0\') {\n        parent::__construct($version, $encoding);\n        if ($doctype && $doctype === \'html\') {\n            @$this->loadHTML($data);\n        } else {\n            @$this->loadXML($data);\n        }\n    }\n\n    public function querySelectorAll($selector, $contextnode = null) {\n        if (isset($this->doctype->name) && $this->doctype->name == \'html\') {\n            CssSelector::enableHtmlExtension();\n        } else {\n            CssSelector::disableHtmlExtension();\n        }\n        $xpath = new \\DOMXpath($this);\n        return $xpath->query(CssSelector::toXPath($selector, \'descendant::\'), $contextnode);\n    }\n\n    [...]\n\n    public function loadHTMLFile($filename, $options = 0) {\n        $this->loadHTML(file_get_contents($filename), $options);\n    }\n\n    public function loadHTML($source, $options = 0) {\n        if ($source && $source != \'\') {\n            $data = trim($source);\n            $html5 = new HTML5(array(\'targetDocument\' => $this, \'disableHtmlNsInDom\' => true));\n            $data_start = mb_substr($data, 0, 10);\n            if (strpos($data_start, \'<!DOCTYPE \') === 0 || strpos($data_start, \'<html>\') === 0) {\n                $html5->loadHTML($data);\n            } else {\n                @$this->loadHTML(\'<!DOCTYPE html><html><head><meta charset=""\' . $encoding . \'"" /></head><body></body></html>\');\n                $t = $html5->loadHTMLFragment($data);\n                $docbody = $this->getElementsByTagName(\'body\')->item(0);\n                while ($t->hasChildNodes()) {\n                    $docbody->appendChild($t->firstChild);\n                }\n            }\n        }\n    }\n\n    [...]\n}See alsoParsing XML documents with CSS selectorsby Symfony\'s creator Fabien Potencier on his decision to create the CssSelector component for Symfony and how to use it.ShareImprove this answerFolloweditedJan 15, 2016 at 16:02community wiki5 revsJohn Slegers\n\nTheSymfonyframework has bundles which can parse the HTML, and you can use CSS style to select theDOMsinstead of usingXPath.ShareImprove this answerFolloweditedMar 31, 2014 at 22:49Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredDec 29, 2011 at 10:07Tuong LeTuong Le19.1k1111 gold badges5050 silver badges4545 bronze badges\n\nWithFluidXMLyou can query and iterate XML usingXPathandCSS Selectors.$doc = fluidxml(\'<html>...</html>\');\n\n$title = $doc->query(\'//head/title\')[0]->nodeValue;\n\n$doc->query(\'//body/p\', \'div.active\', \'#bgId\')\n        ->each(function($i, $node) {\n            // $node is a DOMNode.\n            $tag   = $node->nodeName;\n            $text  = $node->nodeValue;\n            $class = $node->getAttribute(\'class\');\n        });https://github.com/servo-php/fluidxmlShareImprove this answerFolloweditedMar 7, 2016 at 16:44community wiki8 revs, 2 users 95%Daniele Orlando\n\nJSON and array from XML in three lines:$xml = simplexml_load_string($xml_string);\n$json = json_encode($xml);\n$array = json_decode($json,TRUE);Ta da!ShareImprove this answerFolloweditedOct 28, 2015 at 17:44community wiki2 revs, 2 users 86%Antonio Max\n\nThere are several reasons to not parse HTML by regular expression. But, if you have total control of what HTML will be generated, then you can do with simple regular expression.Above it\'s a function that parses HTML by regular expression. Note that this function is very sensitive and demands that the HTML obey certain rules, but it works very well in many scenarios. If you want a simple parser, and don\'t want to install libraries, give this a shot:function array_combine_($keys, $values) {\n    $result = array();\n    foreach ($keys as $i => $k) {\n        $result[$k][] = $values[$i];\n    }\n    array_walk($result, create_function(\'&$v\', \'$v = (count($v) == 1)? array_pop($v): $v;\'));\n\n    return $result;\n}\n\nfunction extract_data($str) {\n    return (is_array($str))\n        ? array_map(\'extract_data\', $str)\n        : ((!preg_match_all(\'#<([A-Za-z0-9_]*)[^>]*>(.*?)</\\1>#s\', $str, $matches))\n            ? $str\n            : array_map((\'extract_data\'), array_combine_($matches[1], $matches[2])));\n}\n\nprint_r(extract_data(file_get_contents(""http://www.google.com/"")));ShareImprove this answerFolloweditedOct 28, 2015 at 17:45community wiki3 revs, 3 users 69%Daniel Loureiro\n\nI\'ve created a library called HTML5DOMDocument that is freely available athttps://github.com/ivopetkov/html5-dom-document-phpIt supports query selectors too that I think will be extremely helpful in your case. Here is some example code:$dom = new IvoPetkov\\HTML5DOMDocument();\n$dom->loadHTML(\'<!DOCTYPE html><html><body><h1>Hello</h1><div class=""content"">This is some text</div></body></html>\');\necho $dom->querySelector(\'h1\')->innerHTML;ShareImprove this answerFollowansweredDec 21, 2017 at 8:38community wikiIvo Petkov\n\nThe best method for parse xml:$xml=\'http://www.example.com/rss.xml\';\n$rss = simplexml_load_string($xml);\n$i = 0;\nforeach ($rss->channel->item as $feedItem) {\n  $i++;\n  echo $title=$feedItem->title;\n  echo \'<br>\';\n  echo $link=$feedItem->link;\n  echo \'<br>\';\n  if($feedItem->description !=\'\') {\n    $des=$feedItem->description;\n  } else {\n    $des=\'\';\n  }\n  echo $des;\n  echo \'<br>\';\n  if($i>5) break;\n}ShareImprove this answerFolloweditedJan 23, 2020 at 8:51community wiki2 revs, 2 users 70%user8031209\n\nThere are many ways:In General:Native XML Extensions:they come bundled with PHP, are usually faster than all the 3rd party libs, and give me all the control you need over the markup.DOM:DOM is capable of parsing and modifying real-world (broken) HTML and it can do XPath queries. It is based on libxml.XML Reader:XMLReader, like DOM, is based on libxml. The XMLReader extension is an XML pull parser. The reader acts as a cursor going forward on the document stream and stopping at each node on the wayXML Parser:This extension lets you create XML parsers and then define handlers for different XML events. Each XML parser also has a few parameters you can adjust. It implements a SAX style XML push parser.Simple XML:The SimpleXML extension provides a very simple and easily usable toolset to convert XML to an object that can be processed with normal property selectors and array iterators.3rd Party Libraries [ libxml based ]:FluentDom - Repo:FluentDOM provides a jQuery-like fluent XML interface for the DOMDocument in PHP. It can load formats like JSON, CSV, JsonML, RabbitFish and others. Can be installed via Composer.HtmlPageDom:is a PHP library for easy manipulation of HTML documents using It requires DomCrawler from Symfony2 components for traversing the DOM tree and extends it by adding methods for manipulating the DOM tree of HTML documents.ZendDOM:Zend_Dom provides tools for working with DOM documents and structures. Currently, they offer Zend_Dom_Query, which provides a unified interface for querying DOM documents utilizing both XPath and CSS selectors.QueryPath:QueryPath is a PHP library for manipulating XML and HTML. It is designed to work not only with local files but also with web services and database resources. It implements much of the jQuery interface (including CSS-style selectors), but it is heavily tuned for server-side use. Can be installed via Composer.fDOM Document:fDOMDocument extends the standard DOM to use exceptions at all occasions of errors instead of PHP warnings or notices. They also add various custom methods and shortcuts for convenience and to simplify the usage of DOM.Sabre/XML:sabre/xml is a library that wraps and extends the XMLReader and XMLWriter classes to create a simple ""xml to object/array"" mapping system and design pattern. Writing and reading XML is single-pass and can therefore be fast and require low memory on large xml files.FluidXML:FluidXML is a PHP library for manipulating XML with a concise and fluent API. It leverages XPath and the fluent programming pattern to be fun and effective.3rd Party Libraries [  Not libxml based ]:PHP Simple HTML DOM Parser:An HTML DOM parser written in PHP5+ lets you manipulate HTML in a very easy way, It Requires PHP 5+. Also Supports invalid HTML.\nIt Extracts contents from HTML in a single line. The codebase is horrible and very slow in working.PHP Html Parser:HPHtmlParser is a simple, flexible, HTML parser that allows you to select tags using any CSS selector, like jQuery. The goal is to assist in the development of tools that require a quick, easy way to scrape HTML, whether it\'s valid or not. It is slow and takes too much CPU Power.Ganon (recommended):A universal tokenizer and HTML/XML/RSS DOM Parser. It has the Ability to manipulate elements and their attributes. It Supports invalid HTML and UTF8. It Can perform advanced CSS3-like queries on elements (like jQuery -- namespaces supported). A HTML beautifier (like HTML Tidy).  Minify CSS and Javascript. It Sort attributes, change character case, correct indentation, etc.\nExtensible. The Operations separated into smaller functions for easy overriding andFast and Easy to use.Web Services:If you don\'t feel like programming PHP, you can also use Web services. ScraperWiki\'s external interface allows you to extract data in the form you want for use on the web or in your own applications. You can also extract information about the state of any scraper.I have shared all the resources, you can choose according to your taste, usefulness, etc.ShareImprove this answerFollowansweredOct 20, 2021 at 2:22community wikiMuhammad Ali'}","{'title': 'How do I center text horizontally and vertically in a TextView?', 'question': 'How do I center the text horizontally and vertically in aTextView, so that it appears exactly in the middle of theTextViewinAndroid?androidtextviewShareImprove this questionFolloweditedApr 6, 2018 at 14:40Alexander Abakumov14.3k1616 gold badges9696 silver badges132132 bronze badgesaskedJan 11, 2009 at 0:27Pablo FernandezPablo Fernandez285k138138 gold badges396396 silver badges637637 bronze badges', 'answers': 'I\'m assuming you\'re using XML layout.<TextView  \n    android:layout_width=""match_parent"" \n    android:layout_height=""match_parent"" \n    android:gravity=""center""\n    android:text=""@string/**yourtextstring**""\n/>You can also use gravitycenter_verticalorcenter_horizontalaccording to your need.As @stealthcopter commented, in java:.setGravity(Gravity.CENTER);.And for Kotlin users,.gravity = Gravity.CENTERShareImprove this answerFolloweditedDec 10, 2021 at 9:10Ryan M♦19.7k3333 gold badges7272 silver badges7979 bronze badgesansweredJan 11, 2009 at 1:53BillBill34.7k11 gold badge1818 silver badges66 bronze badges\n\nandroid:gravity=""center""This will do the trickShareImprove this answerFolloweditedMar 22, 2015 at 14:27darryn.ten6,91333 gold badges4848 silver badges6565 bronze badgesansweredFeb 8, 2010 at 22:54JeanJean4,91711 gold badge1616 silver badges22 bronze badges\n\nYou can also set it up dynamically using:textView.setGravity(Gravity.CENTER_VERTICAL | Gravity.CENTER_HORIZONTAL);ShareImprove this answerFollowansweredNov 21, 2009 at 12:25zeevbzeevb3,15911 gold badge1616 silver badges22 bronze badges\n\nandroid:layout_centerInParent=""true""This works when used with a RelativeLayout where the layout\'s height & width are set to wrap_content.ShareImprove this answerFolloweditedNov 11, 2011 at 3:33sth227k5656 gold badges285285 silver badges368368 bronze badgesansweredNov 11, 2011 at 0:58ithereseitherese1,29511 gold badge88 silver badges22 bronze badges\n\nYou can also use the combination:android:gravity=""left|center""Then, if textview width is more than ""fill_parent"" the text will still be aligned to left (not centered as with gravity set only to ""center"").ShareImprove this answerFolloweditedJul 26, 2013 at 8:36Zapnologica22.5k4444 gold badges164164 silver badges258258 bronze badgesansweredJan 1, 2013 at 20:11SzorstkiSzorstki1,37411 gold badge1010 silver badges1717 bronze badges\n\nApply gravity:TextView txtView = (TextView) findViewById(R.id.txtView);\ntxtView.setGravity(Gravity.CENTER_HORIZONTAL);For vertical:txtView.setGravity(Gravity.CENTER_VERTICAL);In XML:<TextView      \n    android:layout_width=""fill_parent"" \n    android:layout_height=""fill_parent"" \n    android:gravity=""center""\n    android:text=""@string/Hello_World""        \n/>ShareImprove this answerFolloweditedFeb 17, 2015 at 11:10ayz4sci2,23811 gold badge1717 silver badges1717 bronze badgesansweredMay 30, 2013 at 5:34Gaganpreet SinghGaganpreet Singh88611 gold badge99 silver badges2020 bronze badges\n\nThere are two ways of doing this.The first in the XML code. You need to pay attention at theGravityAttribute. You also can find this attribute in the Graphic Editor; it may be easier than the XML EDITOR.<TextView  \n    android:layout_width=""fill_parent"" \n    android:layout_height=""fill_parent"" \n    android:gravity=""center_vertical|center_horizontal""\n    android:text=""Your Text""\n/>For your specific scenario, the values of gravity will be:center_vertical|center_horizontalIn the graphical editor you will find all the possible values, even see their results.ShareImprove this answerFolloweditedSep 27, 2016 at 13:01Piyush18.9k55 gold badges3333 silver badges6464 bronze badgesansweredOct 17, 2014 at 12:11Cristiano GuerraCristiano Guerra62511 gold badge77 silver badges1212 bronze badges\n\nIf you are using TableLayout make sure to set the gravity of the TableRows to center, too.\nOtherwise it will not work. At least it didn\'t work with me until I set the gravity of the TableRow to center.For example, like this:<TableRow android:id=""@+id/tableRow2"" android:layout_width=""wrap_content"" android:layout_height=""wrap_content"" android:gravity=""center"">        \n    <TextView android:text=""@string/chf"" android:id=""@+id/tv_chf"" android:layout_weight=""2"" android:layout_height=""wrap_content"" android:layout_width=""fill_parent"" android:gravity=""center""></TextView>        \n</TableRow>ShareImprove this answerFolloweditedMay 13, 2014 at 4:49Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMay 13, 2011 at 11:57Maverick1stMaverick1st3,77433 gold badges3535 silver badges5151 bronze badges\n\nYou need to setTextView Gravity(Center Horizontal & Center Vertical) like this:android:layout_centerHorizontal=""true""andandroid:layout_centerVertical=""true""And dynamically using:textview.setGravity(Gravity.CENTER);\ntextView.setGravity(Gravity.CENTER_VERTICAL | Gravity.CENTER_HORIZONTAL);ShareImprove this answerFolloweditedMay 13, 2014 at 4:49Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMay 15, 2012 at 5:03NagarjunaReddyNagarjunaReddy8,6351010 gold badges6464 silver badges9999 bronze badges\n\nIn my opinion,android:gravity=""center""is better than,android:layout_centerInParent=""true""which is better than,android:layout_centerHorizontal=""true""\nandroid:layout_centerVertical=""true""at least for formatting text.ShareImprove this answerFolloweditedJan 12, 2013 at 4:40anthropomo4,11011 gold badge2525 silver badges3939 bronze badgesansweredJul 16, 2012 at 4:28epicness42epicness421,1371111 silver badges1212 bronze badges\n\nFor Linear Layout:\nIn XML use something like this<TextView  \n    android:id=""@+id/textView1""\n    android:layout_width=""fill_parent"" \n    android:layout_height=""fill_parent"" \n    android:gravity=""center_vertical|center_horizontal""\n    android:text=""Your Text goes here""\n/>To do this at run time use something like this in your activityTextView textView1 =(TextView)findViewById(R.id.texView1);\ntextView1.setGravity(Gravity.CENTER_VERTICAL | Gravity.CENTER_HORIZONTAL);For Relative Layout: in XML use some thing like this<TextView  \n    android:id=""@+id/textView1""\n    android:layout_width=""fill_parent"" \n    android:layout_height=""fill_parent"" \n    android:layout_centerInParent=""true""\n    android:text=""Your Text goes here""\n/>To do this at run time use something like this in your activityTextView textView1 =(TextView)findViewById(R.id.texView1);\nRelativeLayout.LayoutParams layoutParams = RelativeLayout.LayoutParams)textView1.getLayoutParams();\nlayoutParams.addRule(RelativeLayout.CENTER_IN_PARENT, RelativeLayout.TRUE);\ntextView1.setLayoutParams(layoutParams);ShareImprove this answerFolloweditedJan 19, 2016 at 6:33valerybodak4,34333 gold badges4343 silver badges5454 bronze badgesansweredJan 3, 2015 at 3:58KarthikeyanKarthikeyan1,13711 gold badge1515 silver badges3333 bronze badges\n\nUse in the XML file.Layout file<TextView\n    android:layout_width=""fill_parent""\n    android:layout_height=""fill_parent""\n    android:gravity=""center""\n    android:text=""@string/stringtext""/>or:Use this inside the Java classTextView textView =(TextView)findViewById(R.id.texviewid);\ntextView.setGravity(Gravity.CENTER_VERTICAL | Gravity.CENTER_HORIZONTAL);ShareImprove this answerFolloweditedMay 13, 2014 at 4:57Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredOct 4, 2013 at 17:18venuvenu2,97966 gold badges4141 silver badges5959 bronze badges\n\nUse this  for relative layoutandroid:layout_centerInParent=""true""and for other layoutandroid:gravity=""center""ShareImprove this answerFollowansweredOct 11, 2013 at 11:08user1087919user1087919\n\nIf theTextView\'sheight and width arewrap contentthen the text within theTextViewalways be centered. But if theTextView\'swidth ismatch_parentand height ismatch_parentorwrap_contentthen you have to write the below code:ForRelativeLayout:<?xml version=""1.0"" encoding=""utf-8""?>\n<RelativeLayout xmlns:android=""http://schemas.android.com/apk/res/android""\n    android:layout_width=""match_parent""\n    android:layout_height=""match_parent"">\n\n    <TextView\n        android:layout_width=""match_parent""\n        android:layout_height=""wrap_content""\n        android:gravity=""center"" \n        android:text=""Hello World"" />\n\n</RelativeLayout>ForLinearLayout:<?xml version=""1.0"" encoding=""utf-8""?>\n<LinearLayout xmlns:android=""http://schemas.android.com/apk/res/android""\n    android:layout_width=""match_parent""\n    android:layout_height=""match_parent"">\n\n    <TextView\n        android:layout_width=""match_parent""\n        android:layout_height=""wrap_content""\n        android:gravity=""center""\n        android:text=""Hello World"" />\n\n</LinearLayout>ShareImprove this answerFolloweditedJan 12, 2019 at 15:31Naveen Kumar Sangwan3999 bronze badgesansweredDec 17, 2015 at 6:12Avijit KarmakarAvijit Karmakar9,22866 gold badges4646 silver badges6060 bronze badges\n\nWhile using gravity works for TextView, there\'s an alternate method implemented in API level 17 -textView.setTextAlignment(View.TEXT_ALIGNMENT_CENTER);Don\'t know the difference, but it works too. However only for API level 17 or higher.ShareImprove this answerFollowansweredAug 24, 2013 at 20:500xC0DED00D0xC0DED00D20.2k2222 gold badges123123 silver badges192192 bronze badges\n\nInRelativeLayout, it will be nice with it.And anotherButtonand anything else you can add.The following works nicely for me.<RelativeLayout xmlns:android=""http://schemas.android.com/apk/res/android""\n    android:layout_width=""fill_parent""\n    android:layout_height=""fill_parent""\n    android:background=""#ff314859""\n    android:paddingLeft=""16dp""\n    android:paddingRight=""16dp"">\n    <TextView \n        android:id=""@+id/txt_logo""\n        android:layout_width=""fill_parent""\n        android:layout_height=""wrap_content""\n        android:text=""your text here""\n        android:textSize=""30dp""\n        android:gravity=""center""/>\n\n        ...other button or anything else...\n\n</RelativeLayout>ShareImprove this answerFolloweditedApr 20, 2015 at 15:43Catalina2,04411 gold badge1818 silver badges2525 bronze badgesansweredNov 21, 2012 at 3:15Yuda PrawiraYuda Prawira12.4k1010 gold badges4747 silver badges5555 bronze badges\n\nUseandroid:textAlignment=""center""<TextView\n        android:text=""HOW WAS\\nYOUR\\nDAY?""\n        android:layout_width=""wrap_content""\n        android:layout_height=""wrap_content""\n        android:textAlignment=""center""\n        android:id=""@+id/textView5""\n         />ShareImprove this answerFollowansweredJun 5, 2019 at 1:09Chathura WijesingheChathura Wijesinghe3,32933 gold badges2626 silver badges4141 bronze badges\n\nEasiest way (which is surprisingly only mentioned in comments, hence why I am posting as an answer) is:textview.setGravity(Gravity.CENTER)ShareImprove this answerFollowansweredDec 15, 2015 at 12:38JKennedyJKennedy18.6k1919 gold badges119119 silver badges208208 bronze badges\n\nYou can just set thegravityof your textview intoCENTER.ShareImprove this answerFolloweditedSep 27, 2016 at 13:02Piyush18.9k55 gold badges3333 silver badges6464 bronze badgesansweredApr 2, 2013 at 3:34note-knotznote-knotz17322 silver badges88 bronze badges\n\nTextView gravity works as per your parent layout.LinearLayout:If you use LinearLayout then you will find two gravity attribute\nandroid:gravity & android:layout_gravityandroid:gravity : represent layout potion of internal text of TextView while\nandroid:layout_gravity : represent TextView position in parent view.If you want to set text horizontally & vertically center then use below code this<LinearLayout xmlns:android=""http://schemas.android.com/apk/res/android""\n    xmlns:tools=""http://schemas.android.com/tools""\n    android:layout_width=""300dp""\n    android:background=""@android:color/background_light""\n    android:layout_height=""300dp"">\n\n    <TextView\n        android:layout_width=""match_parent""\n        android:text=""Hello World!""\n        android:gravity=""center_horizontal""\n        android:layout_gravity=""center_vertical""\n        android:layout_height=""wrap_content""\n    />\n</LinearLayout>RelativeLayout:Using RelativeLayout you can use below property in TextViewandroid:gravity=""center"" for text center in TextView.android:gravity=""center_horizontal"" inner text if you want horizontally centered.android:gravity=""center_vertical"" inner text if you want vertically centered.android:layout_centerInParent=""true"" if you want TextView in center position of parent view.\nandroid:layout_centerHorizontal=""true"" if you want TextView in horizontally center of parent view.\nandroid:layout_centerVertical=""true"" if you want TextView in vertically center of parent view.<RelativeLayout xmlns:android=""http://schemas.android.com/apk/res/android""\n    xmlns:tools=""http://schemas.android.com/tools""\n    android:layout_width=""300dp""\n    android:background=""@android:color/background_light""\n    android:layout_height=""300dp"">\n\n    <TextView\n        android:layout_width=""match_parent""\n        android:text=""Hello World!""\n        android:gravity=""center""\n        android:layout_centerInParent=""true""\n        android:layout_height=""wrap_content""\n    />\n</RelativeLayout>ShareImprove this answerFolloweditedJan 11, 2019 at 13:53answeredSep 20, 2017 at 12:08Alpesh SorathiyaAlpesh Sorathiya51033 silver badges1313 bronze badges\n\nIf you are trying to center text on a TableRow in a TableLayout, here is how I achieved this:<TableRow android:id=""@+id/rowName""\n          android:layout_width=""wrap_content""\n          android:layout_height=""wrap_content""\n          android:padding=""5dip"" >\n    <TextView android:id=""@+id/lblSomeLabel""\n              android:layout_width=""fill_parent""\n              android:layout_height=""fill_parent""\n              android:gravity=""center""\n              android:layout_width=""0dp""\n              android:layout_weight=""100""\n              android:text=""Your Text Here"" />\n</TableRow>ShareImprove this answerFollowansweredJul 15, 2012 at 2:14dyslexicanabokodyslexicanaboko4,26522 gold badges3838 silver badges4444 bronze badges\n\nIf you are using Relative Layout:<TextView\n    android:layout_width=""wrap_content""\n    android:layout_height=""wrap_content""\n    android:text=""@string/stringname""\n    android:layout_centerInParent=""true""/>If you are using LinearLayout<TextView\n    android:layout_width=""wrap_content""\n    android:layout_height=""wrap_content""\n    android:text=""@string/stringname""\n    android:layout_gravity=""center""/>ShareImprove this answerFollowansweredNov 15, 2015 at 6:33NiranjanNiranjan1,88922 gold badges2222 silver badges2828 bronze badges\n\nTry this way,it will work<LinearLayout\n    android:layout_width=""match_parent""\n    android:layout_height=""wrap_content""\n    android:orientation=""vertical""\n    android:gravity=""center"">\n  \n        <TextView\n        android:layout_width=""wrap_content""\n        android:layout_height=""wrap_content""\n        android:textAlignment=""center""/>\n\n</LinearLayout>ShareImprove this answerFolloweditedJun 20, 2021 at 2:21Zain40k99 gold badges6666 silver badges8888 bronze badgesansweredJun 17, 2016 at 18:29CunityCunity18111 silver badge88 bronze badges\n\nHere is my answer that I had used in my app. It shows text in center of the screen.<TextView\n    android:id=""@+id/txtSubject""\n    android:layout_width=""match_parent""\n    android:layout_height=""wrap_content""\n    android:text=""@string/subject""\n    android:layout_margin=""10dp""\n    android:gravity=""center""\n    android:textAppearance=""?android:attr/textAppearanceLarge"" />ShareImprove this answerFolloweditedMay 13, 2014 at 4:56Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJun 3, 2013 at 9:54Md. Naushad AlamMd. Naushad Alam8,35166 gold badges2828 silver badges2323 bronze badges\n\nThe TextView\'s height and width are wrap content then the text within the textview always be centered, then make center in its parent layout by using:<RelativeLayout xmlns:android=""http://schemas.android.com/apk/res/android""\n    android:layout_width=""match_parent""\n    android:layout_height=""match_parent"">\n\n    <TextView\n        android:layout_width=""wrap_content""\n        android:layout_height=""wrap_content""\n        android:layout_centerInParent=""true""\n        android:text=""Hello..""/>\n</RelativeLayout>For LinearLayout also the code is same :<LinearLayout xmlns:android=""http://schemas.android.com/apk/res/android""\n    android:layout_width=""match_parent""\n    android:layout_height=""match_parent""\n    android:gravity=""center"">\n\n    <TextView\n        android:layout_width=""wrap_content""\n        android:layout_height=""wrap_content""\n        android:text=""Hello..""/>\n</LinearLayout>and pro-grammatically parent is RelativeLayout java code this at run time use something like this in your activityTextView textView1 =(TextView)findViewById(R.id.texView1);\nRelativeLayout.LayoutParams layoutParams = RelativeLayout.LayoutParams)textView1.getLayoutParams();\nlayoutParams.addRule(RelativeLayout.CENTER_IN_PARENT, RelativeLayout.TRUE);\ntextView1.setLayoutParams(layoutParams);ShareImprove this answerFolloweditedJan 9, 2019 at 21:44answeredMar 7, 2016 at 13:42AttifAttif1,1601313 silver badges1717 bronze badges\n\nActually, we can do better by excluding fontPadding.<TextView\n  android layout_height=""wrap_content""\n  android layout_height=""wrap_content""\n  android:includeFontPadding=""false""\n  android:textAlignment=""center""\n/>ShareImprove this answerFollowansweredFeb 13, 2020 at 7:30SeanghaySeanghay1,08611 gold badge1111 silver badges2424 bronze badges\n\nAs many answers suggest above works fine.android:gravity=""center""If you want to center it just vertically:android:gravity=""center_vertical""or just horizontally:android:gravity=""center_horizontal""ShareImprove this answerFollowansweredJul 4, 2013 at 20:09rgamberrgamber5,8091010 gold badges5858 silver badges100100 bronze badges\n\nWe can achieve this with these multiple ways:-XML method 01<TextView  \n    android:id=""@+id/textView""\n    android:layout_height=""match_parent""\n    android:layout_width=""wrap_content"" \n    android:gravity=""center_vertical|center_horizontal""\n    android:text=""@strings/text""\n/>XML method 02<TextView  \n    android:id=""@+id/textView""\n    android:layout_height=""match_parent""\n    android:layout_width=""wrap_content"" \n    android:layout_centerHorizontal=""true""\n    android:layout_centerVertical=""true""\n    android:text=""@strings/text""\n/>XML method 03<TextView  \n    android:id=""@+id/textView""\n    android:layout_height=""match_parent""\n    android:layout_width=""wrap_content"" \n    android:gravity=""center""\n    android:text=""@strings/text""\n/>XML method 04<TextView  \n    android:id=""@+id/textView""\n    android:layout_height=""match_parent""\n    android:layout_width=""wrap_content"" \n    android:layout_centerInParent=""true""\n    android:text=""@strings/text""\n/>Java method 01textView.setGravity(Gravity.CENTER_VERTICAL | Gravity.CENTER_HORIZONTAL);Java method 02textview.setGravity(Gravity.CENTER);Java method 03textView.setTextAlignment(View.TEXT_ALIGNMENT_CENTER);ShareImprove this answerFolloweditedJun 14, 2018 at 10:32Sachin Rajput4,34422 gold badges1919 silver badges2929 bronze badgesansweredFeb 10, 2018 at 16:05ArghadipDasCEOArghadipDasCEO18711 silver badge1313 bronze badges\n\nSimply, in your XML file, set the textview gravity to center:<TextView\n    android:gravity=""center"" />ShareImprove this answerFolloweditedMay 13, 2014 at 4:54Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMay 6, 2013 at 17:56Mansoor Ahmad SamarMansoor Ahmad Samar8911 silver badge11 bronze badge\n\nandroid:gravity=""center_horizontal""for align text Center horizontally.android:gravity=""center_vertical""for align text Center vertically.android:gravity=""center""for align text Center both vertically and horizontally.<TextView\n        android:layout_width=""match_parent""\n        android:gravity=""center_horizontal|center_vertical""\n        android:layout_height=""match_parent"" />ShareImprove this answerFollowansweredMay 20, 2016 at 10:18AnilAnil1,08711 gold badge1111 silver badges2525 bronze badges'}","{'title': ""How can I change an element's class with JavaScript?"", 'question': 'How can I change the class of an HTML element in response to anonclickor any other events using JavaScript?javascripthtmldomShareImprove this questionFolloweditedOct 27, 2020 at 5:52Vibhor11511 silver badge1414 bronze badgesaskedOct 12, 2008 at 20:06Nathan SmithNathan Smith37.4k66 gold badges2929 silver badges2525 bronze badges', 'answers': 'Modern HTML5 Techniques for changing classesModern browsers have addedclassListwhich provides methods to make it easier to manipulate classes without needing a library:document.getElementById(""MyElement"").classList.add(\'MyClass\');\n\ndocument.getElementById(""MyElement"").classList.remove(\'MyClass\');\n\nif ( document.getElementById(""MyElement"").classList.contains(\'MyClass\') )\n\ndocument.getElementById(""MyElement"").classList.toggle(\'MyClass\');Unfortunately, these do not work in Internet Explorer prior to v10, though there is ashimto add support for it to IE8 and IE9, available fromthis page. It is, though, getting more and moresupported.Simple cross-browser solutionThe standard JavaScript way to select an element is usingdocument.getElementById(""Id""), which is what the following examples use - you can of course obtain elements in other ways, and in the right situation may simply usethisinstead - however, going into detail on this is beyond the scope of the answer.To change all classes for an element:To replace all existing classes with one or more new classes, set the className attribute:document.getElementById(""MyElement"").className = ""MyClass"";(You can use a space-delimited list to apply multiple classes.)To add an additional class to an element:To add a class to an element, without removing/affecting existing values, append a space and the new classname, like so:document.getElementById(""MyElement"").className += "" MyClass"";To remove a class from an element:To remove a single class to an element, without affecting other potential classes, a simple regex replace is required:document.getElementById(""MyElement"").className =\n   document.getElementById(""MyElement"").className.replace\n      ( /(?:^|\\s)MyClass(?!\\S)/g , \'\' )\n/* Code wrapped for readability - above is all one statement */An explanation of this regex is as follows:(?:^|\\s) # Match the start of the string or any single whitespace character\n\nMyClass  # The literal text for the classname to remove\n\n(?!\\S)   # Negative lookahead to verify the above is the whole classname\n         # Ensures there is no non-space character following\n         # (i.e. must be the end of the string or space)Thegflag tells the replace to repeat as required, in case the class name has been added multiple times.To check if a class is already applied to an element:The same regex used above for removing a class can also be used as a check as to whether a particular class exists:if ( document.getElementById(""MyElement"").className.match(/(?:^|\\s)MyClass(?!\\S)/) )### Assigning these actions to onClick events:Whilst it is possible to write JavaScript directly inside the HTML event attributes (such asonClick=""this.className+=\' MyClass\'"") this is not recommended behavior. Especially on larger applications, more maintainable code is achieved by separating HTML markup from JavaScript interaction logic.The first step to achieving this is by creating a function, and calling the function in the onClick attribute, for example:<script type=""text/javascript"">\n    function changeClass(){\n        // Code examples from above\n    }\n</script>\n...\n<button onClick=""changeClass()"">My Button</button>(It is not required to have this code in script tags, this is simply for the brevity of example, and including the JavaScript in a distinct file may be more appropriate.)The second step is to move the onClick event out of the HTML and into JavaScript, for example usingaddEventListener<script type=""text/javascript"">\n    function changeClass(){\n        // Code examples from above\n    }\n\n    window.onload = function(){\n        document.getElementById(""MyElement"").addEventListener( \'click\', changeClass);\n    }\n</script>\n...\n<button id=""MyElement"">My Button</button>(Note that the window.onload part is required so that the contents of that function are executedafterthe HTML has finished loading - without this, the MyElement might not exist when the JavaScript code is called, so that line would fail.)JavaScript Frameworks and LibrariesThe above code is all in standard JavaScript, however, it is common practice to use either a framework or a library to simplify common tasks, as well as benefit from fixed bugs and edge cases that you might not think of when writing your code.Whilst some people consider it overkill to add a ~50\xa0 KB framework for simply changing a class, if you are doing any substantial amount of JavaScript work or anything that might have unusual cross-browser behavior, it is well worth considering.(Very roughly, a library is a set of tools designed for a specific task, whilst a framework generally contains multiple libraries and performs a complete set of duties.)The examples above have been reproduced below usingjQuery, probably the most commonly used JavaScript library (though there are others worth investigating too).(Note that$here is the jQuery object.)Changing Classes with jQuery:$(\'#MyElement\').addClass(\'MyClass\');\n\n$(\'#MyElement\').removeClass(\'MyClass\');\n\nif ( $(\'#MyElement\').hasClass(\'MyClass\') )In addition, jQuery provides a shortcut for adding a class if it doesn\'t apply, or removing a class that does:$(\'#MyElement\').toggleClass(\'MyClass\');### Assigning a function to a click event with jQuery:$(\'#MyElement\').click(changeClass);or, without needing an id:$(\':button:contains(My Button)\').click(changeClass);ShareImprove this answerFolloweditedDec 23, 2022 at 10:13Glenn Antony Sheen2511 silver badge33 bronze badgesansweredOct 12, 2008 at 20:45Peter BoughtonPeter Boughton112k3232 gold badges122122 silver badges177177 bronze badges\n\nYou could also just do:document.getElementById(\'id\').classList.add(\'class\');\ndocument.getElementById(\'id\').classList.remove(\'class\');And to toggle a class (remove if exists else add it):document.getElementById(\'id\').classList.toggle(\'class\');ShareImprove this answerFolloweditedApr 4, 2020 at 19:27johannchopin14.7k1111 gold badges6060 silver badges110110 bronze badgesansweredAug 5, 2011 at 17:44TyiloTyilo29.8k4141 gold badges120120 silver badges201201 bronze badges\n\nIn one of my old projects that did not use jQuery, I built the following functions for adding, removing and checking if an element has a class:function hasClass(ele, cls) {\n    return ele.className.match(new RegExp(\'(\\\\s|^)\' + cls + \'(\\\\s|$)\'));\n}\n\nfunction addClass(ele, cls) {\n    if (!hasClass(ele, cls))\n        ele.className += "" "" + cls;\n}\n\nfunction removeClass(ele, cls) {\n    if (hasClass(ele, cls)) {\n        var reg = new RegExp(\'(\\\\s|^)\' + cls + \'(\\\\s|$)\');\n        ele.className = ele.className.replace(reg, \' \');\n    }\n}So, for example, if I wantonclickto add some class to the button I can use this:<script type=""text/javascript"">\n    function changeClass(btn, cls) {\n        if(!hasClass(btn, cls)) {\n            addClass(btn, cls);\n        }\n    }\n</script>\n...\n<button onclick=""changeClass(this, ""someClass"")"">My Button</button>By now for sure it would just be better to use jQuery.ShareImprove this answerFolloweditedAug 20, 2021 at 15:35Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMay 28, 2011 at 7:32Andrew OrsichAndrew Orsich53.5k1717 gold badges140140 silver badges134134 bronze badges\n\nYou can usenode.classNamelike so:document.getElementById(\'foo\').className = \'bar\';This should work inInternet Explorer 5.5and up according toPPK.ShareImprove this answerFolloweditedAug 20, 2021 at 15:23Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredOct 12, 2008 at 20:33Eric WendelinEric Wendelin44k99 gold badges7171 silver badges9494 bronze badges\n\nUsing pure JavaScript code:function hasClass(ele, cls) {\n    return ele.className.match(new RegExp(\'(\\\\s|^)\' + cls + \'(\\\\s|$)\'));\n}\n\nfunction addClass(ele, cls) {\n    if (!this.hasClass(ele, cls)) ele.className += "" "" + cls;\n}\n\nfunction removeClass(ele, cls) {\n    if (hasClass(ele, cls)) {\n        var reg = new RegExp(\'(\\\\s|^)\' + cls + \'(\\\\s|$)\');\n        ele.className = ele.className.replace(reg, \' \');\n    }\n}\n\nfunction replaceClass(ele, oldClass, newClass){\n    if(hasClass(ele, oldClass)){\n        removeClass(ele, oldClass);\n        addClass(ele, newClass);\n    }\n    return;\n}\n\nfunction toggleClass(ele, cls1, cls2){\n    if(hasClass(ele, cls1)){\n        replaceClass(ele, cls1, cls2);\n    }else if(hasClass(ele, cls2)){\n        replaceClass(ele, cls2, cls1);\n    }else{\n        addClass(ele, cls1);\n    }\n}ShareImprove this answerFolloweditedJun 11, 2012 at 15:59Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredSep 20, 2011 at 15:26PseudoNinjaPseudoNinja2,85611 gold badge2828 silver badges3737 bronze badges\n\nWow, surprised there are so many overkill answers here...<div class=""firstClass"" onclick=""this.className=\'secondClass\'"">ShareImprove this answerFolloweditedOct 19, 2014 at 23:47answeredJan 5, 2012 at 19:14Travis JTravis J81.9k4242 gold badges209209 silver badges276276 bronze badges\n\n4 actions possible: Add, Remove, Check, and ToggleLet\'s see multiple ways for each action.1. Add classMethod 1:Best way to add a class in the modern browser is usingclassList.add()method of element.Case 1: Adding single classfunction addClass() {\n  let element = document.getElementById(\'id1\');\n\n  // adding class\n  element.classList.add(\'beautify\');\n}Case 2: Adding multiple classTo add multiple classes saperate classes by a comma in theadd()methodfunction addClass() {\n  let element = document.getElementById(\'id1\');\n\n  // adding multiple class\n  element.classList.add(\'class1\', \'class2\', \'class3\');\n}Method 2- You can also add classes to HTML elements usingclassNameproperty.Case 1: Overwriting pre-existing classes\nWhen you assign a new class to theclassNameproperty it overwrites the previous class.function addClass() {\n  let element = document.getElementById(\'id1\');\n\n  // adding multiple class\n  element.className = \'beautify\';\n}Case 2: Adding class without overwrite\nUse+=operator for class not to overwrite previous classes. Also, add an extra space before the new class.function addClass() {\n  let element = document.getElementById(\'id1\');\n\n  // adding single multiple class\n  element.className += \' beautify\';\n  // adding multiple classes\n  element.className += \' class1 class2 class3\';\n}2. Remove classMethod 1- The best way to remove a class from an element is theclassList.remove()method.Case 1: Remove single classJust pass the class name you want to remove from the element in the method.function removeClass() {\n  let element = document.getElementById(\'id1\');\n\n  // removing class\n  element.classList.remove(\'beautify\');\n}Case 2: Remove multiple classPass multiple classes separated by a comma.function removeClass() {\n  let element = document.getElementById(\'id1\');\n\n  // removing class\n  element.classList.remove(\'class1\', \'class2\', \'class3\');\n}Method 2- You can also remove class usingclassNamemethod.Case 1: Removing single class\nIf the element has only 1 class and you want to remove it then just assign an empty string to theclassNamemethod.function removeClass() {\n  let element = document.getElementById(\'id1\');\n\n  // removing class\n  element.className = \'\';\n}Case 2: Removing multiple class\nIf the element has multiple classes first get all classes from the element using theclassNameproperty and use replace method and replace desired classes with an empty string and finally assign it to element\'sclassNameproperty.function removeClass() {\n  let element = document.getElementById(\'id1\');\n\n  // removing class\n  element.className = element.className.replace(\'class1\', \'\');\n}3. Checking classTo check if a class exists in the element you can simply useclassList.contains()method. It returnstrueif the class exists else returns false.function checkClass() {\n  let element = document.getElementById(\'id1\');\n\n  // checking class\n  if(element.classList.contains(\'beautify\') {\n      alert(\'Yes! class exists\');\n  }\n}4. Toggle classTo toggle a class useclassList.toggle()method.function toggleClass() {\n    let element = document.getElementById(\'id1\');\n\n    // toggle class\n    element.classList.toggle(\'beautify\');\n}ShareImprove this answerFolloweditedDec 23, 2022 at 9:56Glenn Antony Sheen2511 silver badge33 bronze badgesansweredSep 5, 2021 at 4:50Satish Chandra GuptaSatish Chandra Gupta3,20111 gold badge2323 silver badges2323 bronze badges\n\nThis is working for me:function setCSS(eleID) {\n    var currTabElem = document.getElementById(eleID);\n\n    currTabElem.setAttribute(""class"", ""some_class_name"");\n    currTabElem.setAttribute(""className"", ""some_class_name"");\n}ShareImprove this answerFolloweditedJun 11, 2012 at 16:01Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredDec 8, 2011 at 9:36Gopal Krishna RanjanGopal Krishna Ranjan87811 gold badge1212 silver badges2121 bronze badges\n\nAs well you could extend HTMLElement object, in order to add methods to add, remove, toggle and check classes (gist):HTMLElement = typeof(HTMLElement) != \'undefiend\' ? HTMLElement : Element;\n\nHTMLElement.prototype.addClass = function(string) {\n  if (!(string instanceof Array)) {\n    string = string.split(\' \');\n  }\n  for(var i = 0, len = string.length; i < len; ++i) {\n    if (string[i] && !new RegExp(\'(\\\\s+|^)\' + string[i] + \'(\\\\s+|$)\').test(this.className)) {\n      this.className = this.className.trim() + \' \' + string[i];\n    }\n  }\n}\n\nHTMLElement.prototype.removeClass = function(string) {\n  if (!(string instanceof Array)) {\n    string = string.split(\' \');\n  }\n  for(var i = 0, len = string.length; i < len; ++i) {\n    this.className = this.className.replace(new RegExp(\'(\\\\s+|^)\' + string[i] + \'(\\\\s+|$)\'), \' \').trim();\n  }\n}\n\nHTMLElement.prototype.toggleClass = function(string) {\n  if (string) {\n    if (new RegExp(\'(\\\\s+|^)\' + string + \'(\\\\s+|$)\').test(this.className)) {\n      this.className = this.className.replace(new RegExp(\'(\\\\s+|^)\' + string + \'(\\\\s+|$)\'), \' \').trim();\n    } else {\n      this.className = this.className.trim() + \' \' + string;\n    }\n  }\n}\n\nHTMLElement.prototype.hasClass = function(string) {\n  return string && new RegExp(\'(\\\\s+|^)\' + string + \'(\\\\s+|$)\').test(this.className);\n}And then just use like this (on click will add or remove class):document.getElementById(\'yourElementId\').onclick = function() {\n  this.toggleClass(\'active\');\n}Here isdemo.ShareImprove this answerFollowansweredApr 11, 2013 at 10:13mokamoka23k44 gold badges5252 silver badges6767 bronze badges\n\nJust to add on information from another popular framework, Google Closures, see theirdom/classesclass:goog.dom.classes.add(element, var_args)\n\ngoog.dom.classes.addRemove(element, classesToRemove, classesToAdd)\n\ngoog.dom.classes.remove(element, var_args)One option for selecting the element is usinggoog.dom.querywith a CSS\xa03 selector:var myElement = goog.dom.query(""#MyElement"")[0];ShareImprove this answerFolloweditedAug 20, 2021 at 15:36Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredNov 26, 2011 at 21:04Ben FlynnBen Flynn18.8k2121 gold badges9999 silver badges143143 bronze badges\n\nChange an element\'s CSS class with JavaScript inASP.NET:Protected Sub Page_Load(ByVal sender As Object, ByVal e As System.EventArgs) Handles Me.Load\n    If Not Page.IsPostBack Then\n        lbSave.Attributes.Add(""onmouseover"", ""this.className = \'LinkButtonStyle1\'"")\n        lbSave.Attributes.Add(""onmouseout"", ""this.className = \'LinkButtonStyle\'"")\n        lbCancel.Attributes.Add(""onmouseover"", ""this.className = \'LinkButtonStyle1\'"")\n        lbCancel.Attributes.Add(""onmouseout"", ""this.className = \'LinkButtonStyle\'"")\n    End If\nEnd SubShareImprove this answerFolloweditedJan 6, 2013 at 18:17Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMay 28, 2011 at 7:19Hiren KansaraHiren Kansara24133 silver badges44 bronze badges\n\nA couple of minor notes and tweaks on the previous regexes:You\'ll want to do it globally in case the class list has the class name more than once. And, you\'ll probably want to strip spaces from the ends of the class list and convert multiple spaces to one space to keep from getting runs of spaces. None of these things should be a problem if the only code dinking with the class names uses the regex below and removes a name before adding it. But. Well, who knows who might be dinking with the class name list.This regex is case insensitive so that bugs in class names may show up before the code is used on a browser that doesn\'t care about case in class names.var s = ""testing   one   four  one  two"";\nvar cls = ""one"";\nvar rg          = new RegExp(""(^|\\\\s+)"" + cls + ""(\\\\s+|$)"", \'ig\');\nalert(""["" + s.replace(rg, \' \') + ""]"");\nvar cls = ""test"";\nvar rg          = new RegExp(""(^|\\\\s+)"" + cls + ""(\\\\s+|$)"", \'ig\');\nalert(""["" + s.replace(rg, \' \') + ""]"");\nvar cls = ""testing"";\nvar rg          = new RegExp(""(^|\\\\s+)"" + cls + ""(\\\\s+|$)"", \'ig\');\nalert(""["" + s.replace(rg, \' \') + ""]"");\nvar cls = ""tWo"";\nvar rg          = new RegExp(""(^|\\\\s+)"" + cls + ""(\\\\s+|$)"", \'ig\');\nalert(""["" + s.replace(rg, \' \') + ""]"");ShareImprove this answerFolloweditedNov 22, 2016 at 22:23Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMay 2, 2012 at 4:59Alex RobinsonAlex Robinson60955 silver badges44 bronze badges\n\nThe linedocument.getElementById(""MyElement"").className = document.getElementById(""MyElement"").className.replace(/\\bMyClass\\b/\',\'\')should be:document.getElementById(""MyElement"").className = document.getElementById(""MyElement"").className.replace(\'/\\bMyClass\\b/\',\'\');ShareImprove this answerFolloweditedMay 24, 2011 at 16:39Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredDec 8, 2009 at 22:15Eric BaileyEric Bailey23122 silver badges22 bronze badges\n\nI would use jQuery and write something like this:jQuery(function($) {\n    $(""#some-element"").click(function() {\n        $(this).toggleClass(""clicked"");\n    });\n});This code adds a function to be called when an element of the idsome-elementis clicked. The function appendsclickedto the element\'s class attribute if it\'s not already part of it, and removes it if it\'s there.Yes, you do need to add a reference to the jQuery library in your page to use this code, but at least you can feel confident the most functions in the library would work on pretty much all the modern browsers, and it will save you time implementing your own code to do the same.ShareImprove this answerFolloweditedAug 20, 2021 at 15:37Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMay 5, 2012 at 2:46shingokkoshingokko41433 silver badges77 bronze badges\n\nChange an element\'s class in vanilla JavaScript with Internet Explorer 6 supportYou may try to use the nodeattributesproperty to keep compatibility with old browsers, even Internet Explorer 6:function getClassNode(element) {\n  for (var i = element.attributes.length; i--;)\n    if (element.attributes[i].nodeName === \'class\')\n      return element.attributes[i];\n}\n\nfunction removeClass(classNode, className) {\n  var index, classList = classNode.value.split(\' \');\n  if ((index = classList.indexOf(className)) > -1) {\n    classList.splice(index, 1);\n    classNode.value = classList.join(\' \');\n  }\n}\n\nfunction hasClass(classNode, className) {\n  return classNode.value.indexOf(className) > -1;\n}\n\nfunction addClass(classNode, className) {\n  if (!hasClass(classNode, className))\n    classNode.value += \' \' + className;\n}\n\ndocument.getElementById(\'message\').addEventListener(\'click\', function() {\n  var classNode = getClassNode(this);\n  var className = hasClass(classNode, \'red\') && \'blue\' || \'red\';\n\n  removeClass(classNode, \'red\');\n  removeClass(classNode, \'blue\');\n\n  addClass(classNode, className);\n}).red {\n  color: red;\n}\n.red:before {\n  content: \'I am red! \';\n}\n.red:after {\n  content: \' again\';\n}\n.blue {\n  color: blue;\n}\n.blue:before {\n  content: \'I am blue! \'\n}<span id=""message"" class="""">Click me</span>ShareImprove this answerFolloweditedAug 20, 2021 at 15:47Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredNov 4, 2015 at 17:57Eugene TiurinEugene Tiurin4,07944 gold badges3333 silver badges3232 bronze badges\n\nHere\'s my version, fully working:function addHTMLClass(item, classname) {\n    var obj = item\n    if (typeof item==""string"") {\n        obj = document.getElementById(item)\n    }\n    obj.className += "" "" + classname\n}\n\nfunction removeHTMLClass(item, classname) {\n    var obj = item\n    if (typeof item==""string"") {\n        obj = document.getElementById(item)\n    }\n    var classes = """"+obj.className\n    while (classes.indexOf(classname)>-1) {\n        classes = classes.replace (classname, """")\n    }\n    obj.className = classes\n}Usage:<tr onmouseover=\'addHTMLClass(this,""clsSelected"")\'\nonmouseout=\'removeHTMLClass(this,""clsSelected"")\' >ShareImprove this answerFolloweditedJan 6, 2013 at 18:20Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredOct 17, 2012 at 12:21alfredalfred1,0181010 silver badges1313 bronze badges\n\nHere\'s a toggleClass to toggle/add/remove a class on an element:// If newState is provided add/remove theClass accordingly, otherwise toggle theClass\nfunction toggleClass(elem, theClass, newState) {\n    var matchRegExp = new RegExp(\'(?:^|\\\\s)\' + theClass + \'(?!\\\\S)\', \'g\');\n    var add=(arguments.length>2 ? newState : (elem.className.match(matchRegExp) == null));\n\n    elem.className=elem.className.replace(matchRegExp, \'\'); // clear all\n    if (add) elem.className += \' \' + theClass;\n}Seethe JSFiddle.Also see my answerherefor creating a new class dynamically.ShareImprove this answerFolloweditedAug 20, 2021 at 15:39Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredOct 28, 2015 at 7:00kofifuskofifus18.7k1919 gold badges109109 silver badges182182 bronze badges\n\nI use the following vanilla JavaScript functions in my code. They use regular expressions andindexOfbut do not require quoting special characters in regular expressions.function addClass(el, cn) {\n    var c0 = ("" "" + el.className + "" "").replace(/\\s+/g, "" ""),\n        c1 = ("" "" + cn + "" "").replace(/\\s+/g, "" "");\n    if (c0.indexOf(c1) < 0) {\n        el.className = (c0 + c1).replace(/\\s+/g, "" "").replace(/^ | $/g, """");\n    }\n}\n\nfunction delClass(el, cn) {\n    var c0 = ("" "" + el.className + "" "").replace(/\\s+/g, "" ""),\n        c1 = ("" "" + cn + "" "").replace(/\\s+/g, "" "");\n    if (c0.indexOf(c1) >= 0) {\n        el.className = c0.replace(c1, "" "").replace(/\\s+/g, "" "").replace(/^ | $/g, """");\n    }\n}You can also useelement.classListin modern browsers.ShareImprove this answerFolloweditedJan 18, 2014 at 9:37answeredJan 18, 2014 at 9:28Salman ArshadSalman Arshad270k8383 gold badges436436 silver badges528528 bronze badges\n\nThe OP question wasHow can I change an element\'s class with JavaScript?Modern browsers allow you to do thiswith one line of JavaScript:document.getElementById(\'id\').classList.replace(\'span1\', \'span2\')TheclassListattribute provides a DOMTokenList which has avariety of methods. You can operate on an element\'s classList using simple manipulations likeadd(),remove()orreplace(). Or get very sophisticated and manipulate classes like you would an object or Map withkeys(),values(), andentries().Peter Boughton\'s answeris a great one, but it\'s now over a decade old. All modern browsers now support DOMTokenList - seehttps://caniuse.com/#search=classListand evenInternet\xa0Explorer\xa011supports some DOMTokenList methods.ShareImprove this answerFolloweditedAug 20, 2021 at 16:07Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMay 3, 2020 at 23:05timbotimbo13.9k99 gold badges5252 silver badges7474 bronze badges\n\nTHE OPTIONS.Here is a little style vs. classList examples to get you to see what are the options you have available and how to useclassListto do what you want.stylevs.classListThe difference betweenstyleandclassListis that withstyleyou\'re adding to the style properties of the element, butclassListis kinda controlling the class(es) of the element (add,remove,toggle,contain), I will show you how to use theaddandremovemethod since those are the popular ones.Style ExampleIf you want to addmargin-topproperty into an element, you would do in such:// Get the Element\nconst el = document.querySelector(\'#element\');\n\n// Add CSS property \nel.style.margintop = ""0px""\nel.style.margintop = ""25px"" // This would add a 25px to the top of the element.classList ExampleLet say we have a<div class=""class-a class-b"">, in this case, we have 2 classes added to our div element already,class-aandclass-b, and we want to control what classesremoveand what class toadd. This is whereclassListbecomes handy.Removeclass-b// Get the Element\nconst el = document.querySelector(\'#element\');\n\n// Remove class-b style from the element\nel.classList.remove(""class-b"")Addclass-c// Get the Element\nconst el = document.querySelector(\'#element\');\n\n// Add class-b style from the element\nel.classList.add(""class-c"")ShareImprove this answerFolloweditedJun 20, 2020 at 9:12CommunityBot111 silver badgeansweredAug 22, 2019 at 18:28Brian NezhadBrian Nezhad6,2481010 gold badges4545 silver badges7070 bronze badges\n\nTry:element.className=\'second\'function change(box) { box.className=\'second\' }.first  { width:  70px; height:  70px; background: #ff0                 }\n.second { width: 150px; height: 150px; background: #f00; transition: 1s }<div onclick=""change(this)"" class=""first"">Click me</div>ShareImprove this answerFolloweditedAug 20, 2021 at 15:55Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredApr 14, 2019 at 10:51Kamil KiełczewskiKamil Kiełczewski90.1k3232 gold badges383383 silver badges360360 bronze badges\n\nFor IE v6-9 (in whichclassListis not supported and you don\'t want to use polyfills):var elem = document.getElementById(\'some-id\');\n\n// don\'t forget the extra space before the class name\nvar classList = elem.getAttribute(\'class\') + \' other-class-name\';\n\nelem.setAttribute(\'class\', classList);ShareImprove this answerFollowansweredSep 10, 2021 at 11:57gomngomn11111 silver badge99 bronze badges\n\nOK, I think in this case you should use jQuery or write your own Methods in pure JavaScript. My preference is adding my own methods rather than injecting all jQuery to my application if I don\'t need that for other reasons.I\'d like to do something like below as methods to my JavaScript framework to add few functionalities which handle adding classes, deleting classes, etc. Similar to jQuery, this is fully supported in IE9+. Also my code is written in ES6, so you need to make sure your browser support it or you using something likeBabel, otherwise need to use ES5 syntax in your code. Also in this way, we finding element via ID, which means the element needs to have an ID to be selected:// Simple JavaScript utilities for class management in ES6\nvar classUtil = {\n\n  addClass: (id, cl) => {\n    document.getElementById(id).classList.add(cl);\n  },\n\n  removeClass: (id, cl) => {\n    document.getElementById(id).classList.remove(cl);\n  },\n\n  hasClass: (id, cl) => {\n    return document.getElementById(id).classList.contains(cl);\n  },\n\n  toggleClass: (id, cl) => {\n    document.getElementById(id).classList.toggle(cl);\n  }\n\n}And you can simply use them as below. Imagine your element has id of \'id\' and class of \'class\'. Make sure you pass them as a string. You can use the utility as below:classUtil.addClass(\'myId\', \'myClass\');\nclassUtil.removeClass(\'myId\', \'myClass\');\nclassUtil.hasClass(\'myId\', \'myClass\');\nclassUtil.toggleClass(\'myId\', \'myClass\');ShareImprove this answerFolloweditedAug 20, 2021 at 15:44Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMay 29, 2017 at 13:29AlirezaAlireza103k2727 gold badges275275 silver badges173173 bronze badges\n\nclassListDOM API:A very convenient manner of adding and removing classes is theclassListDOM API. This API allows us to select all classes of a specific DOM element in order to modify the list using JavaScript. For example:const el = document.getElementById(""main"");\nconsole.log(el.classList);<div class=""content wrapper animated"" id=""main""></div>We can observe in the log that we are getting back an object with not only the classes of the element, but also many auxiliary methods and properties. This object inherits from the interfaceDOMTokenList, an interface which is used in the DOM to represent a set of space separated tokens (like classes).Example:const el = document.getElementById(\'container\');\n\nfunction addClass () {\n    el.classList.add(\'newclass\');\n}\n\n\nfunction replaceClass () {\n    el.classList.replace(\'foo\', \'newFoo\');\n}\n\n\nfunction removeClass () {\n    el.classList.remove(\'bar\');\n}button{\n  margin: 20px;\n}\n\n.foo{\n  color: red;\n}\n\n.newFoo {\n  color: blue;\n}\n\n.bar{\n  background-color: powderblue;\n}\n\n.newclass{\n  border: 2px solid green;\n}<div class=""foo bar"" id=""container"">\n  ""Sed ut perspiciatis unde omnis\n  iste natus error sit voluptatem accusantium doloremque laudantium,\n  totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et\n  quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam\n  voluptatem quia voluptas\n </div>\n\n<button onclick=""addClass()"">AddClass</button>\n\n<button onclick=""replaceClass()"">ReplaceClass</button>\n\n<button onclick=""removeClass()"">removeClass</button>ShareImprove this answerFolloweditedAug 20, 2021 at 15:50Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredSep 21, 2018 at 9:23Willem van der VeenWillem van der Veen35.6k1717 gold badges202202 silver badges172172 bronze badges\n\nYes, there are many ways to do this. In ES6 syntax we can achieve easily. Use this code toggle add and remove class.const tabs=document.querySelectorAll(\'.menu li\');\n\nfor(let tab of tabs){\n\n  tab.onclick = function(){\n\n    let activetab = document.querySelectorAll(\'li.active\');\n\n    activetab[0].classList.remove(\'active\')\n\n    tab.classList.add(\'active\');\n  }\n\n}body {\n    padding: 20px;\n    font-family: sans-serif;\n}\n\nul {\n    margin: 20px 0;\n    list-style: none;\n}\n\nli {\n    background: #dfdfdf;\n    padding: 10px;\n    margin: 6px 0;\n    cursor: pointer;\n}\n\nli.active {\n    background: #2794c7;\n    font-weight: bold;\n    color: #ffffff;\n}<i>Please click an item:</i>\n\n<ul class=""menu"">\n  <li class=""active""><span>Three</span></li>\n  <li><span>Two</span></li>\n  <li><span>One</span></li>\n</ul>ShareImprove this answerFolloweditedAug 20, 2021 at 15:51Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredFeb 6, 2019 at 14:02Danish KhanDanish Khan33922 silver badges99 bronze badges\n\nJust thought I\'d throw this in:function inArray(val, ary){\n  for(var i=0,l=ary.length; i<l; i++){\n    if(ary[i] === val){\n      return true;\n    }\n  }\n  return false;\n}\nfunction removeClassName(classNameS, fromElement){\n  var x = classNameS.split(/\\s/), s = fromElement.className.split(/\\s/), r = [];\n  for(var i=0,l=s.length; i<l; i++){\n    if(!iA(s[i], x))r.push(s[i]);\n  }\n  fromElement.className = r.join(\' \');\n}\nfunction addClassName(classNameS, toElement){\n  var s = toElement.className.split(/\\s/);\n  s.push(c); toElement.className = s.join(\' \');\n}ShareImprove this answerFollowansweredMar 20, 2015 at 2:35StackSlaveStackSlave10.6k22 gold badges1919 silver badges3535 bronze badges\n\nJust usemyElement.classList=""new-class""unless you need to maintain other existing classes in which case you can use theclassList.add, .removemethods.var doc = document;\nvar divOne = doc.getElementById(""one"");\nvar goButton = doc.getElementById(""go"");\n\ngoButton.addEventListener(""click"", function() {\n  divOne.classList=""blue"";\n});div{\n  min-height: 48px;\n  min-width: 48px;\n}\n.bordered{\n  border: 1px solid black;\n}\n.green{\n  background: green;\n}\n.blue{\n  background: blue;\n}<button id=""go"">Change Class</button>\n\n<div id=""one"" class=""bordered green"">\n\n</div>ShareImprove this answerFolloweditedAug 20, 2021 at 15:42Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredApr 21, 2017 at 2:50Ronnie RoystonRonnie Royston18k77 gold badges8585 silver badges9696 bronze badges\n\nTL;DR:document.getElementById(\'id\').className = \'class\'ORdocument.getElementById(\'id\').classList.add(\'class\');\ndocument.getElementById(\'id\').classList.remove(\'class\');That\'s it.And, if you really want to know the why and educate yourself then I suggest readingPeter Boughton\'s answer. It\'s perfect.Note:This is possible with (documentorevent):getElementById()getElementsByClassName()querySelector()querySelectorAll()ShareImprove this answerFolloweditedAug 20, 2021 at 15:55Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredFeb 22, 2019 at 10:22tfonttfont11.1k77 gold badges5757 silver badges5252 bronze badges\n\nfunction classed(el, class_name, add_class) {\n  const re = new RegExp(""(?:^|\\\\s)"" + class_name + ""(?!\\\\S)"", ""g"");\n  if (add_class && !el.className.match(re)) el.className += "" "" + class_name\n  else if (!add_class) el.className = el.className.replace(re, \'\');\n}UsingPeter Boughton\'s answer, here is a simple cross-browser function to add and remove class.Add class:classed(document.getElementById(""denis""), ""active"", true)Remove class:classed(document.getElementById(""denis""), ""active"", false)ShareImprove this answerFolloweditedAug 20, 2021 at 15:57Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredSep 4, 2019 at 15:32donatsodonatso10833 bronze badges\n\nThere is a property,className, in JavaScript to change the name of the class of an HTML element. The existing class value will be replaced with the new one, that you have assigned in className.<!DOCTYPE html>\n<html>\n<head>\n<title>How can I change the class of an HTML element in JavaScript?</title>\n<link rel=""stylesheet"" href=""https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"">\n</head>\n<body>\n<h1 align=""center""><i class=""fa fa-home"" id=""icon""></i></h1><br />\n\n<center><button id=""change-class"">Change Class</button></center>\n\n<script>\nvar change_class = document.getElementById(""change-class"");\nchange_class.onclick = function()\n{\n    var icon=document.getElementById(""icon"");\n    icon.className = ""fa fa-gear"";\n}\n</script>\n</body>\n</html>Credit -How To Change Class Name of an HTML Element in JavaScriptShareImprove this answerFolloweditedAug 20, 2021 at 16:04Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMar 20, 2020 at 12:25Jai PrakashJai Prakash5933 bronze badges'}","{'title': 'Why does my JavaScript code receive a ""No \'Access-Control-Allow-Origin\' header is present on the requested resource"" error, while Postman does not?', 'question': 'Mod note: This question is about whyXMLHttpRequest/fetch/etc. on the browser are subject to the Same Access Policy restrictions (you get errors mentioning CORB or CORS) while Postman is not. This question isnotabout how to fix a ""No \'Access-Control-Allow-Origin\'..."" error. It\'s about why they happen.Please stop posting:CORS configurations for every language/framework under the sun. Insteadfind your relevant language/framework\'s question.3rd party services that allow a request to circumvent CORSCommand line options for turning off CORS for various browsersI am trying to do authorization usingJavaScriptby connecting to theRESTfulAPIbuilt-inFlask. However, when I make the request, I get the following error:XMLHttpRequest cannot load http://myApiUrl/login. \nNo \'Access-Control-Allow-Origin\' header is present on the requested resource. \nOrigin \'null\' is therefore not allowed access.I know that the API or remote resource must set the header, but why did it work when I made the request via the Chrome extensionPostman?This is the request code:$.ajax({\n  type: \'POST\',\n  dataType: \'text\',\n  url: api,\n  username: \'user\',\n  password: \'pass\',\n  crossDomain: true,\n  xhrFields: {\n    withCredentials: true,\n  },\n})\n  .done(function (data) {\n    console.log(\'done\');\n  })\n  .fail(function (xhr, textStatus, errorThrown) {\n    alert(xhr.responseText);\n    alert(textStatus);\n  });javascriptjquerycorspostmansame-origin-policyShareImprove this questionFolloweditedMar 28, 2023 at 15:50pizzaisdavid46933 silver badges1414 bronze badgesaskedNov 17, 2013 at 19:29Mr JediMr Jedi34.4k88 gold badges3232 silver badges4040 bronze badges', 'answers': 'If I understood it right you are doing anXMLHttpRequestto a different domain than your page is on. So the browser is blocking it as it usually allows a request in the same origin for security reasons. You need to do something different when you want to do a cross-domain request.When you are using Postman they are not restricted by this policy. Quoted fromCross-Origin XMLHttpRequest:Regular web pages can use the XMLHttpRequest object to send and receive data from remote servers, but they\'re limited by the same origin policy. Extensions aren\'t so limited. An extension can talk to remote servers outside of its origin, as long as it first requests cross-origin permissions.ShareImprove this answerFolloweditedSep 12, 2022 at 2:44Max von Hippel2,96233 gold badges2929 silver badges4646 bronze badgesansweredNov 17, 2013 at 19:49MD. Sahib Bin MahboobMD. Sahib Bin Mahboob20.4k22 gold badges2424 silver badges4545 bronze badges\n\nWARNING:UsingAccess-Control-Allow-Origin: *can make your API/website vulnerable tocross-site request forgery(CSRF) attacks. Make certain youunderstand the risksbefore using this code.It\'s very simple to solve if you are usingPHP. Just add the following script in the beginning of your PHP page which handles the request:<?php header(\'Access-Control-Allow-Origin: *\'); ?>If you are usingNode-redyou have to allowCORSin thenode-red/settings.jsfile by un-commenting the following lines:// The following property can be used to configure cross-origin resource sharing\n// in the HTTP nodes.\n// See https://github.com/troygoode/node-cors#configuration-options for\n// details on its contents. The following is a basic permissive set of options:\nhttpNodeCors: {\n  origin: ""*"",\n  methods: ""GET,PUT,POST,DELETE""\n},If you are usingFlasksame as the question; you have first to installflask-corspip install -U flask-corsThen include the Flaskcorspackage in your application.from flask_cors import CORSA simple application will look like:from flask import Flask\nfrom flask_cors import CORS\n\napp = Flask(__name__)\nCORS(app)\n\n@app.route(""/"")\ndef helloWorld():\n  return ""Hello, cross-origin-world!""For more details, you can check theFlask documentation.ShareImprove this answerFolloweditedSep 4, 2022 at 21:26Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredDec 3, 2014 at 20:24Shady Mohamed SherifShady Mohamed Sherif15.6k44 gold badges4848 silver badges5959 bronze badges\n\nBecause$.ajax({type: ""POST""- callsOPTIONS$.post(- callsPOSTBoth are different.Postmancalls ""POST"" properly, but when we call it, it will be ""OPTIONS"".For C# web services -Web APIPlease add the following code in yourweb.configfile under the <system.webServer> tag. This will work:<httpProtocol>\n    <customHeaders>\n        <add name=""Access-Control-Allow-Origin"" value=""*"" />\n    </customHeaders>\n</httpProtocol>Please make sure you are not doing any mistake in the Ajax call.jQuery$.ajax({\n    url: \'http://mysite.microsoft.sample.xyz.com/api/mycall\',\n    headers: {\n        \'Content-Type\': \'application/x-www-form-urlencoded\'\n    },\n    type: ""POST"", /* or type:""GET"" or type:""PUT"" */\n    dataType: ""json"",\n    data: {\n    },\n    success: function (result) {\n        console.log(result);\n    },\n    error: function () {\n        console.log(""error"");\n    }\n});Note:If you are looking for downloading contentfrom a third-party websitethenthis will not help you.  You can try the following code, but not JavaScript.System.Net.WebClient wc = new System.Net.WebClient();\nstring str = wc.DownloadString(""http://mysite.microsoft.sample.xyz.com/api/mycall"");ShareImprove this answerFolloweditedSep 4, 2022 at 21:27Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredDec 13, 2016 at 13:02GeorgeGeorge2,99222 gold badges1616 silver badges1111 bronze badges\n\nDeepIn the below investigation as API, I usehttp://example.cominstead of http://myApiUrl/login from your question, because this first one working. I assume that your page is onhttp://my-site.local:8088.NOTE: The API and your page have different domains!The reason why you see different results is that Postman:set headerHost=example.com(your API)NOT set headerOriginPostman actually not use your website url at all (you only type your API address into Postman) - he only send request to API, so he assume that website has same address as API (browser not assume this)This is similar to browsers\' way of sending requests when the site and API has the same domain (browsers also set the header itemReferer=http://my-site.local:8088, however I don\'t see it in Postman).WhenOriginheader isnotset, usually servers allow such requests by default.This is the standard way how Postman sends requests. But a browser sends requests differently whenyour site and API have different domains, and thenCORSoccurs and the browser automatically:sets headerHost=example.com(yours as API)sets headerOrigin=http://my-site.local:8088(your site)(The headerRefererhas the same value asOrigin). And now in Chrome\'sConsole & Networkstab you will see:When you haveHost != Originthis is CORS, and when the server detects such a request, it usuallyblocks it by default.Origin=nullis set when you open HTML content from a local directory, and it sends a request. The same situation is when you send a request inside an<iframe>, like in the below snippet (but here theHostheader is not set at all) - in general, everywhere the HTML specification says opaque origin, you can translate that toOrigin=null. More information about this you can findhere.fetch(\'http://example.com/api\', {method: \'POST\'});Look on chrome-console > network tabIf you do not use a simple CORS request, usually the browser automatically also sends an OPTIONS request before sending the main request - more information ishere. The snippet below shows it:fetch(\'http://example.com/api\', {\n  method: \'POST\',\n  headers: { \'Content-Type\': \'application/json\'}\n});Look in chrome-console -> network tab to \'api\' request.\nThis is the OPTIONS request (the server does not allow sending a POST request)You can change the configuration of your server to allow CORS requests.Here is an example configuration which turns onCORS on nginx(nginx.conf file) - be very careful with settingalways/""$http_origin""for nginx and""*""for Apache - this will unblock CORS from any domain (in production instead of stars use your concrete page adres which consume your api)location ~ ^/index\\.php(/|$) {\n   ...\n    add_header \'Access-Control-Allow-Origin\' ""$http_origin"" always;\n    add_header \'Access-Control-Allow-Credentials\' \'true\' always;\n    if ($request_method = OPTIONS) {\n        add_header \'Access-Control-Allow-Origin\' ""$http_origin""; # DO NOT remove THIS LINES (doubled with outside \'if\' above)\n        add_header \'Access-Control-Allow-Credentials\' \'true\';\n        add_header \'Access-Control-Max-Age\' 1728000; # cache preflight value for 20 days\n        add_header \'Access-Control-Allow-Methods\' \'GET, POST, OPTIONS\';\n        add_header \'Access-Control-Allow-Headers\' \'My-First-Header,My-Second-Header,Authorization,Content-Type,Accept,Origin\';\n        add_header \'Content-Length\' 0;\n        add_header \'Content-Type\' \'text/plain charset=UTF-8\';\n        return 204;\n    }\n}Here is an example configuration which turns onCORS on Apache(.htaccess file)# ------------------------------------------------------------------------------\n# | Cross-domain Ajax requests                                                 |\n# ------------------------------------------------------------------------------\n\n# Enable cross-origin Ajax requests.\n# http://code.google.com/p/html5security/wiki/CrossOriginRequestSecurity\n# http://enable-cors.org/\n\n# <IfModule mod_headers.c>\n#    Header set Access-Control-Allow-Origin ""*""\n# </IfModule>\n\n# Header set Header set Access-Control-Allow-Origin ""*""\n# Header always set Access-Control-Allow-Credentials ""true""\n\nAccess-Control-Allow-Origin ""http://your-page.com:80""\nHeader always set Access-Control-Allow-Methods ""POST, GET, OPTIONS, DELETE, PUT""\nHeader always set Access-Control-Allow-Headers ""My-First-Header,My-Second-Header,Authorization, content-type, csrf-token""ShareImprove this answerFolloweditedFeb 19, 2022 at 19:32answeredDec 16, 2019 at 9:06Kamil KiełczewskiKamil Kiełczewski90.1k3232 gold badges383383 silver badges360360 bronze badges\n\nApplying a CORS restriction is a security feature defined by a server and implemented by abrowser.The browser looks at the CORS policy of the server and respects it.However, the Postman tool does not bother about the CORS policy of the server.That is why the CORS error appears in the browser, but not in Postman.ShareImprove this answerFolloweditedMar 8, 2020 at 18:09Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredFeb 2, 2020 at 10:27GopinathGopinath4,70911 gold badge1515 silver badges1919 bronze badges\n\nThe error you get is due to the CORS standard, which sets some restrictions on how JavaScript can perform ajax requests.The CORS standard is a client-side standard, implemented in the browser. So it is the browser which prevent the call from completing and generates the error message - not the server.Postman does not implement the CORS restrictions, which is why you don\'t see the same error when making the same call from Postman.Whydoesn\'t Postman implement CORS? CORS defines the restrictions relative to the origin (URL domain) of the page which initiates the request. But in Postman the requests doesn\'t originate from a page with an URL so CORS does not apply.ShareImprove this answerFolloweditedApr 6, 2021 at 10:15answeredJan 9, 2021 at 21:37JacquesBJacquesB42.3k1313 gold badges7272 silver badges8888 bronze badges\n\nSolution & Issue OriginsYou are making aXMLHttpRequestto different domains, example:Domain one:some-domain.comDomain Two:some-different-domain.comThis difference in domain names triggersCORS(Cross-Origin Resource Sharing) policy calledSOP(Same-Origin Policy) that enforces the use of same domains (henceOrigin) inAjax, XMLHttpRequest and other HTTP requests.Why did it work when I made the request via the Chrome extension\nPostman?A client (mostBrowsersandDevelopment Tools) has a choice to enforce the Same-Origin Policy.Most browsers enforce the policy of Same-Origin Policy to prevent issues related toCSRF(Cross-Site Request Forgery) attack.Postmanas a development tool chooses not to enforce SOP while some browsers enforce, this is why you can send requests via Postman that you cannot send with XMLHttpRequest via JS using the browser.ShareImprove this answerFollowansweredJan 3, 2022 at 11:36Stas SorokinStas Sorokin3,5352929 silver badges1919 bronze badges\n\nFor browser testing purposes:Windows - Run:chrome.exe --user-data-dir=""C://Chrome dev session"" --disable-web-securityThe command above will disable chrome web security. So for example if you work on a local project and encounter CORS policy issue when trying to make a request, you can skip this type of error with the above command. Basically it will open a new chrome session.ShareImprove this answerFolloweditedSep 5, 2022 at 8:37answeredJan 10, 2022 at 12:28Daniel IftimieDaniel Iftimie23544 silver badges77 bronze badges\n\nYou might also get this error if your gateway timeout is too short and the resource you are accessing takes longer to process than the timeout. This may be the case for complex database queries etc. Thus, the above error code can be disguishing this problem. Just check if the error code is 504 instead of 404 as inKamil\'s answeror something else. If it is 504, then increasing the gateway timeout might fix the problem.In my case the CORS error could be removed by disabling the same origin policy (CORS) in theInternet\xa0Explorerbrowser, seeHow to disable same origin policy Internet Explorer. After doing this, it was a pure 504 error in the log.ShareImprove this answerFolloweditedSep 4, 2022 at 21:33Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredDec 9, 2021 at 12:34NDMNDM54955 silver badges66 bronze badges\n\nTo resolve this issue, write this line of code in yourdoGet()ordoPost()function whichever you are using in backendresponse.setHeader(""Access-Control-Allow-Origin"", ""*"");Instead of""*""you can type in the website or API URL endpoint which is accessing the website else it will be public.ShareImprove this answerFolloweditedNov 11, 2022 at 6:12answeredApr 13, 2022 at 19:35lunarzshinelunarzshine41744 silver badges1010 bronze badges\n\nYour IP address is not whitelisted, so you are getting this error.\nAsk the backend staff to whitelist your IP address for the service you are accessing.Access-Control-Allow-HeadersShareImprove this answerFolloweditedSep 4, 2022 at 20:53Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredFeb 14, 2022 at 1:29Bapan BiswasBapan Biswas3344 bronze badges\n\nFor me I got this issue for different reason, the remote domain was added to origins the deployed app works perfectly except one end point I got this issue:Origin https://mai-frontend.vercel.app is not allowed by Access-Control-Allow-Origin. Status code: 500andFetch API cannot load https://sciigo.herokuapp.com/recommendations/recommendationsByUser/8f1bb29e-8ce6-4df2-b138-ffe53650dbab due to access control checks.I discovered that my Heroku database table does not contains all the columns of my local table after updating Heroku database table everything worked well.ShareImprove this answerFollowansweredNov 28, 2022 at 0:19DINA TAKLITDINA TAKLIT8,0001010 gold badges7878 silver badges8686 bronze badges\n\nYou can allow theCORSby adding below scripts inweb.configfile in server.<system.webServer>\n     <httpProtocol>\n         <customHeaders>\n            <add name=""Access-Control-Allow-Origin"" value=""*"" />\n            <add name=""Access-Control-Allow-Methods"" value=""*"" />\n            <add name=""Access-Control-Allow-Headers"" value=""*"" />\n         </customHeaders>\n     </httpProtocol>\n</system.webServer>ShareImprove this answerFollowansweredApr 12, 2023 at 15:58Pranav MSPranav MS2,24722 gold badges2424 silver badges5353 bronze badges\n\nFor me, I just changed the browser, then it worked. I was working on localhost. My API was on localhost:7133 and my app was on localhost:5173. In Chrome and Edge, it didn\'t work, but when I tried it with Opera, it worked. I think when I publish the API and web app on different domains, it will be a solution.ShareImprove this answerFollowansweredMay 30 at 15:30hamdihamdi7711 gold badge33 silver badges1111 bronze badges\n\nIf you have the backend built using Node.js (Express.js), try usingnpm i cors....\nconst cors = require(""cors"");\n.....\n\napp.use(cors());\n...ShareImprove this answerFollowansweredJul 29, 2023 at 16:40Anmol PalAnmol Pal11511 silver badge44 bronze badges\n\nIt works for me by applying this middleware in globally:<?php\n\n    namespace App\\Http\\Middleware;\n\n    use Closure;\n\n    class Cors {\n       public function handle($request, Closure $next) {\n           return $next($request)\n                   ->header(\'Access-Control-Allow-Origin\', \'*\')\n                   ->header(\'Access-Control-Allow-Methods\', \'GET, POST, PUT, DELETE, OPTIONS\')\n                   ->header(\'Access-Control-Allow-Headers\', ""Accept,authorization,Authorization, Content-Type"");\n       }\n    }ShareImprove this answerFolloweditedSep 4, 2022 at 21:17Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredAug 11, 2022 at 5:44ShohedulShohedul18911 gold badge11 silver badge66 bronze badges'}","{'title': 'How to set, clear, and toggle a single bit', 'question': 'How can I set, clear, and toggle a bit?c++cbit-manipulationbitwise-operatorsShareImprove this questionFolloweditedAug 21, 2023 at 23:05Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesaskedSep 7, 2008 at 0:42JeffVJeffV54.1k3333 gold badges104104 silver badges124124 bronze badges', 'answers': 'Setting a bitUse the bitwise OR operator (|) to setnth bit ofnumberto1.// Can be whatever unsigned integer type you want, but\n// it\'s important to use the same type everywhere to avoid\n// performance issues caused by mixing integer types.\ntypedef unsigned long Uint;\n\n// In C++, this can be template.\n// In C11, you can make it generic with _Generic, or with macros prior to C11.\ninline Uint bit_set(Uint number, Uint n) {\n    return number | ((Uint)1 << n);\n}Note that it\'s undefined behavior to shift by more than the width of aUint. The same applies to all remaining examples.Clearing a bitUse the bitwise AND operator (&) to set thenth bit ofnumberto0.inline Uint bit_clear(Uint number, Uint n) {\n    return number & ~((Uint)1 << n);\n}You must invert the bit string with the bitwise NOT operator (~), then AND it.Toggling a bitUse the bitwise XOR operator (^) to toggle thenth bit ofnumber.inline Uint bit_toggle(Uint number, Uint n) {\n    return number ^ ((Uint)1 << n);\n}Checking a bitYou didn\'t ask for this, but I might as well add it.To check a bit, shiftnumbernto the right, then bitwise AND it:// bool requires #include <stdbool.h> prior to C23\ninline bool bit_check(Uint number, Uint n) {\n    return (number >> n) & (Uint)1;\n}Changing thenth bit toxThere are alternatives with worse codegen, but the best way is to clear the bit like inbit_clear, then set the bit to value, similar tobit_set.inline Uint bit_set_to(Uint number, Uint n, bool x) {\n    return (number & ~((Uint)1 << n)) | ((Uint)x << n);\n}All solutions have been tested to provide optimal codegen with GCC and clang. Seehttps://godbolt.org/z/Wfzh8xsjW.ShareImprove this answerFolloweditedOct 19, 2023 at 13:14TylerH21.1k7272 gold badges7878 silver badges105105 bronze badgesansweredSep 7, 2008 at 0:50Paige RutenPaige Ruten175k3636 gold badges180180 silver badges198198 bronze badges\n\nUsing the Standard C++ Library:std::bitset<N>.Or theBoostversion:boost::dynamic_bitset.There isn\'t any need to roll your own:#include <bitset>\n#include <iostream>\n\nint main()\n{\n    std::bitset<5> x;\n\n    x[1] = 1;\n    x[2] = 0;\n    // Note x[0-4]  valid\n\n    std::cout << x << std::endl;\n}./a.outOutput:00010The Boost version allows a runtime sized bitset compared with astandard librarycompile-time sized bitset.ShareImprove this answerFolloweditedNov 3, 2023 at 4:16Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredSep 18, 2008 at 0:34Loki AstariLoki Astari262k8686 gold badges338338 silver badges569569 bronze badges\n\nThe other option is to use bit fields:struct bits {\n    unsigned int a:1;\n    unsigned int b:1;\n    unsigned int c:1;\n};\n\nstruct bits mybits;defines a 3-bit field (actually, it\'s three 1-bit felds). Bit operations now become a bit (haha) simpler:To set or clear a bit:mybits.b = 1;\nmybits.c = 0;To toggle a bit:mybits.a = !mybits.a;\nmybits.b = ~mybits.b;\nmybits.c ^= 1;  /* all work */Checking a bit:if (mybits.c)  //if mybits.c is non zero the next line below will executeThis only works with fixed-size bit fields. Otherwise you have to resort to the bit-twiddling techniques described in previous posts.ShareImprove this answerFolloweditedNov 29, 2012 at 0:40answeredSep 11, 2008 at 0:56FerruccioFerruccio100k3838 gold badges227227 silver badges302302 bronze badges\n\nI use macros defined in a header file to handle bit set and clear:/* a=target variable, b=bit number to act upon 0-n */\n#define BIT_SET(a,b) ((a) |= (1ULL<<(b)))\n#define BIT_CLEAR(a,b) ((a) &= ~(1ULL<<(b)))\n#define BIT_FLIP(a,b) ((a) ^= (1ULL<<(b)))\n#define BIT_CHECK(a,b) (!!((a) & (1ULL<<(b))))        // \'!!\' to make sure this returns 0 or 1\n\n#define BITMASK_SET(x, mask) ((x) |= (mask))\n#define BITMASK_CLEAR(x, mask) ((x) &= (~(mask)))\n#define BITMASK_FLIP(x, mask) ((x) ^= (mask))\n#define BITMASK_CHECK_ALL(x, mask) (!(~(x) & (mask)))\n#define BITMASK_CHECK_ANY(x, mask) ((x) & (mask))ShareImprove this answerFolloweditedAug 5, 2021 at 9:02community wiki6 revs, 5 users 64%Steve Karg\n\nIt is sometimes worth using anenumtonamethe bits:enum ThingFlags = {\n  ThingMask  = 0x0000,\n  ThingFlag0 = 1 << 0,\n  ThingFlag1 = 1 << 1,\n  ThingError = 1 << 8,\n}Then use thenameslater on. I.e. writethingstate |= ThingFlag1;\nthingstate &= ~ThingFlag0;\nif (thing & ThingError) {...}to set, clear and test. This way you hide the magic numbers from the rest of your code.Other than that, I endorsePaige Ruten\'s solution.ShareImprove this answerFolloweditedSep 13, 2022 at 9:16Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredSep 8, 2008 at 21:07dmckee --- ex-moderator kittendmckee --- ex-moderator kitten100k2525 gold badges144144 silver badges236236 bronze badges\n\nFromsnip-c.zip\'s bitops.h:/*\n**  Bit set, clear, and test operations\n**\n**  public domain snippet by Bob Stout\n*/\n\ntypedef enum {ERROR = -1, FALSE, TRUE} LOGICAL;\n\n#define BOOL(x) (!(!(x)))\n\n#define BitSet(arg,posn) ((arg) | (1L << (posn)))\n#define BitClr(arg,posn) ((arg) & ~(1L << (posn)))\n#define BitTst(arg,posn) BOOL((arg) & (1L << (posn)))\n#define BitFlp(arg,posn) ((arg) ^ (1L << (posn)))OK, let\'s analyze things...The common expression that you seem to be having problems with in all of these is ""(1L << (posn))"". All this does is create a mask with a single bit on\nand which will work with any integer type. The ""posn"" argument specifies the\nposition where you want the bit. If posn==0, then this expression will\nevaluate to:0000 0000 0000 0000 0000 0000 0000 0001 binary.If posn==8, it will evaluate to:0000 0000 0000 0000 0000 0001 0000 0000 binary.In other words, it simply creates a field of 0\'s with a 1 at the specified\nposition. The only tricky part is in the BitClr() macro where we need to set\na single 0 bit in a field of 1\'s. This is accomplished by using the 1\'s\ncomplement of the same expression as denoted by the tilde (~) operator.Once the mask is created it\'s applied to the argument just as you suggest,\nby use of the bitwise and (&), or (|), and xor (^) operators. Since the mask\nis of type long, the macros will work just as well on char\'s, short\'s, int\'s,\nor long\'s.The bottom line is that this is a general solution to an entire class of\nproblems. It is, of course, possible and even appropriate to rewrite the\nequivalent of any of these macros with explicit mask values every time you\nneed one, but why do it? Remember, the macro substitution occurs in the\npreprocessor and so the generated code will reflect the fact that the values\nare considered constant by the compiler - i.e. it\'s just as efficient to use\nthe generalized macros as to ""reinvent the wheel"" every time you need to do\nbit manipulation.Unconvinced? Here\'s some test code - I used Watcom C with full optimization\nand without using _cdecl so the resulting disassembly would be as clean as\npossible:----[ TEST.C ]----------------------------------------------------------------#define BOOL(x) (!(!(x)))\n\n#define BitSet(arg,posn) ((arg) | (1L << (posn)))\n#define BitClr(arg,posn) ((arg) & ~(1L << (posn)))\n#define BitTst(arg,posn) BOOL((arg) & (1L << (posn)))\n#define BitFlp(arg,posn) ((arg) ^ (1L << (posn)))\n\nint bitmanip(int word)\n{\n      word = BitSet(word, 2);\n      word = BitSet(word, 7);\n      word = BitClr(word, 3);\n      word = BitFlp(word, 9);\n      return word;\n}----[ TEST.OUT (disassembled) ]-----------------------------------------------\n\nModule: C:\\BINK\\tst.c\nGroup: \'DGROUP\' CONST,CONST2,_DATA,_BSS\n\nSegment: _TEXT  BYTE   00000008 bytes\n 0000  0c 84             bitmanip_       or      al,84H    ; set bits 2 and 7\n 0002  80 f4 02                          xor     ah,02H    ; flip bit 9 of EAX (bit 1 of AH)\n 0005  24 f7                             and     al,0f7H\n 0007  c3                                ret\n\nNo disassembly errors\n\n----[ finis ]-----------------------------------------------------------------ShareImprove this answerFolloweditedNov 3, 2023 at 4:06Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredSep 17, 2008 at 2:04yogeeshyogeesh1,26188 silver badges66 bronze badges\n\nFor the beginner I would like to explain a bit more with an example:Example:value is 0x55;\nbitnum : 3rd.The&operator is used check the bit:0101 0101\n&\n0000 1000\n___________\n0000 0000 (mean 0: False). It will work fine if the third bit is 1 (then the answer will be True)Toggle or Flip:0101 0101\n^\n0000 1000\n___________\n0101 1101 (Flip the third bit without affecting other bits)|operator: set the bit0101 0101\n|\n0000 1000\n___________\n0101 1101 (set the third bit without affecting other bits)ShareImprove this answerFolloweditedAug 22, 2023 at 0:46Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJun 5, 2012 at 14:18kapildditkapilddit1,73944 gold badges2727 silver badges5353 bronze badges\n\nAs this is tagged ""embedded"" I\'ll assume you\'re using a microcontroller. All of the above suggestions are valid & work (read-modify-write, unions, structs, etc.).However, during a bout of oscilloscope-based debugging I was amazed to find that these methods have a considerable overhead in CPU cycles compared to writing a value directly to the micro\'s PORTnSET / PORTnCLEAR registers which makes a real difference where there are tight loops / high-frequency ISR\'s toggling pins.For those unfamiliar: In my example, the micro has a general pin-state register PORTn which reflects the output pins, so doing PORTn |= BIT_TO_SET results in a read-modify-write to that register. However, the PORTnSET / PORTnCLEAR registers take a \'1\' to mean ""please make this bit 1"" (SET) or ""please make this bit zero"" (CLEAR) and a \'0\' to mean ""leave the pin alone"". so, you end up with two port addresses depending whether you\'re setting or clearing the bit (not always convenient) but amuchfaster reaction and smaller assembled code.ShareImprove this answerFollowansweredJun 14, 2012 at 15:23John UJohn U2,95333 gold badges2828 silver badges4040 bronze badges\n\nHere\'s my favorite bit arithmetic macro, which works for any type of unsigned integer array fromunsigned charup tosize_t(which is the biggest type that should be efficient to work with):#define BITOP(a,b,op) \\\n ((a)[(size_t)(b)/(8*sizeof *(a))] op ((size_t)1<<((size_t)(b)%(8*sizeof *(a)))))To set a bit:BITOP(array, bit, |=);To clear a bit:BITOP(array, bit, &=~);To toggle a bit:BITOP(array, bit, ^=);To test a bit:if (BITOP(array, bit, &)) ...etc.ShareImprove this answerFolloweditedMay 9, 2013 at 14:21answeredJul 13, 2010 at 6:53R.. GitHub STOP HELPING ICER.. GitHub STOP HELPING ICE213k3535 gold badges388388 silver badges729729 bronze badges\n\nLet’s suppose a few things first:num = 55: An integer to perform bitwise operations (set, get, clear, and toggle).n = 4: 0-based bit position to perform bitwise operations.How can we get a bit?To get thenthbit ofnum, right shiftnum,ntimes. Then perform a bitwise AND&with 1.bit = (num >> n) & 1;How does it work?0011 0111 (55 in decimal)\n    >>         4 (right shift 4 times)\n-----------------\n       0000 0011\n     & 0000 0001 (1 in decimal)\n-----------------\n    => 0000 0001 (final result)How can we set a bit?To set a particular bit of number, left shift 1ntimes. Then perform a bitwise OR|operation withnum.num |= 1 << n;    // Equivalent to num = (1 << n) | num;How does it work?0000 0001 (1 in decimal)\n    <<         4 (left shift 4 times)\n-----------------\n       0001 0000\n     | 0011 0111 (55 in decimal)\n-----------------\n    => 0001 0000 (final result)How can we clear a bit?Left shift 1,ntimes, i.e.,1 << n.Perform a bitwise complement with the above result. So that the nth bit becomes unset and the rest of the bits become set, i.e.,~ (1 << n).Finally, perform a bitwise AND&operation with the above result andnum. The above three steps together can be written asnum & (~ (1 << n));num &= ~(1 << n);    // Equivalent to num = num & ~(1 << n);How does it work?0000 0001 (1 in decimal)\n    <<         4 (left shift 4 times)\n-----------------\n     ~ 0001 0000\n-----------------\n       1110 1111\n     & 0011 0111 (55 in decimal)\n-----------------\n    => 0010 0111 (final result)How can we toggle a bit?To toggle a bit, we use bitwise XOR^operator. Bitwise XOR operator evaluates to 1 if the corresponding bit of both operands are different. Otherwise, it evaluates to 0.Which means to toggle a bit, we need to perform an XOR operation with the bit you want to toggle and 1.num ^= 1 << n;    // Equivalent to num = num ^ (1 << n);How does it work?If the bit to toggle is 0 then,0 ^ 1 => 1.If the bit to toggle is 1 then,1 ^ 1 => 0.0000 0001 (1 in decimal)\n    <<         4 (left shift 4 times)\n-----------------\n       0001 0000\n     ^ 0011 0111 (55 in decimal)\n-----------------\n    => 0010 0111 (final result)ShareImprove this answerFolloweditedOct 19, 2023 at 14:49user229044♦237k4141 gold badges341341 silver badges342342 bronze badgesansweredJun 10, 2019 at 5:52Pankaj PrakashPankaj Prakash2,3883131 silver badges3232 bronze badges\n\nThe bitfield approach has other advantages in the embedded arena. You can define a struct that maps directly onto the bits in a particular hardware register.struct HwRegister {\n    unsigned int errorFlag:1;  // one-bit flag field\n    unsigned int Mode:3;       // three-bit mode field\n    unsigned int StatusCode:4;  // four-bit status code\n};\n\nstruct HwRegister CR3342_AReg;You need to be aware of the bit packing order - I think it\'s MSB first, but this may be implementation-dependent. Also, verify how your compiler handlers fields crossing byte boundaries.You can then read, write, test the individual values as before.ShareImprove this answerFollowansweredNov 6, 2008 at 11:30RoddyRoddy67.5k4242 gold badges168168 silver badges279279 bronze badges\n\nCheck a bit at an arbitrary location in a variable of arbitrary type:#define bit_test(x, y)  ( ( ((const char*)&(x))[(y)>>3] & 0x80 >> ((y)&0x07)) >> (7-((y)&0x07) ) )Sample usage:int main(void)\n{\n    unsigned char arr[8] = { 0x01, 0x23, 0x45, 0x67, 0x89, 0xAB, 0xCD, 0xEF };\n\n    for (int ix = 0; ix < 64; ++ix)\n        printf(""bit %d is %d\\n"", ix, bit_test(arr, ix));\n\n    return 0;\n}Notes:This is designed to be fast (given its flexibility) and non-branchy.  It results in efficient SPARC machine code when compiled Sun Studio 8; I\'ve also tested it using MSVC++ 2008 on amd64.  It\'s possible to make similar macros for setting and clearing bits.  The key difference of this solution compared with many others here is that it works for any location in pretty much any type of variable.ShareImprove this answerFollowansweredJan 3, 2009 at 23:44John ZwinckJohn Zwinck246k4141 gold badges332332 silver badges448448 bronze badges\n\nMore general, for arbitrary sized bitmaps:#define BITS 8\n#define BIT_SET(  p, n) (p[(n)/BITS] |=  (0x80>>((n)%BITS)))\n#define BIT_CLEAR(p, n) (p[(n)/BITS] &= ~(0x80>>((n)%BITS)))\n#define BIT_ISSET(p, n) (p[(n)/BITS] &   (0x80>>((n)%BITS)))ShareImprove this answerFolloweditedJun 15, 2009 at 7:38answeredJun 13, 2009 at 21:27billbill1,3511111 silver badges99 bronze badges\n\nThis program is to change any data bit from 0 to 1 or 1 to 0:{\n    unsigned int data = 0x000000F0;\n    int bitpos = 4;\n    int bitvalue = 1;\n    unsigned int bit = data;\n    bit = (bit>>bitpos)&0x00000001;\n    int invbitvalue = 0x00000001&(~bitvalue);\n    printf(""%x\\n"",bit);\n\n    if (bitvalue == 0)\n    {\n        if (bit == 0)\n            printf(""%x\\n"", data);\n        else\n        {\n             data = (data^(invbitvalue<<bitpos));\n             printf(""%x\\n"", data);\n        }\n    }\n    else\n    {\n        if (bit == 1)\n            printf(""elseif %x\\n"", data);\n        else\n        {\n            data = (data|(bitvalue<<bitpos));\n            printf(""else %x\\n"", data);\n        }\n    }\n}ShareImprove this answerFolloweditedMay 22, 2015 at 16:07Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredFeb 28, 2012 at 19:27Gokul NaathanGokul Naathan16111 silver badge22 bronze badges\n\nIf you\'re doing a lot of bit twiddling you might want to use masks which will make the whole thing quicker. The following functions are very fast and are still flexible (they allow bit twiddling in bit maps of any size).const unsigned char TQuickByteMask[8] =\n{\n   0x01, 0x02, 0x04, 0x08,\n   0x10, 0x20, 0x40, 0x80,\n};\n\n\n/** Set bit in any sized bit mask.\n *\n * @return    none\n *\n * @param     bit    - Bit number.\n * @param     bitmap - Pointer to bitmap.\n */\nvoid TSetBit( short bit, unsigned char *bitmap)\n{\n    short n, x;\n\n    x = bit / 8;        // Index to byte.\n    n = bit % 8;        // Specific bit in byte.\n\n    bitmap[x] |= TQuickByteMask[n];        // Set bit.\n}\n\n\n/** Reset bit in any sized mask.\n *\n * @return  None\n *\n * @param   bit    - Bit number.\n * @param   bitmap - Pointer to bitmap.\n */\nvoid TResetBit( short bit, unsigned char *bitmap)\n{\n    short n, x;\n\n    x = bit / 8;        // Index to byte.\n    n = bit % 8;        // Specific bit in byte.\n\n    bitmap[x] &= (~TQuickByteMask[n]);    // Reset bit.\n}\n\n\n/** Toggle bit in any sized bit mask.\n *\n * @return   none\n *\n * @param   bit    - Bit number.\n * @param   bitmap - Pointer to bitmap.\n */\nvoid TToggleBit( short bit, unsigned char *bitmap)\n{\n    short n, x;\n\n    x = bit / 8;        // Index to byte.\n    n = bit % 8;        // Specific bit in byte.\n\n    bitmap[x] ^= TQuickByteMask[n];        // Toggle bit.\n}\n\n\n/** Checks specified bit.\n *\n * @return  1 if bit set else 0.\n *\n * @param   bit    - Bit number.\n * @param   bitmap - Pointer to bitmap.\n */\nshort TIsBitSet( short bit, const unsigned char *bitmap)\n{\n    short n, x;\n\n    x = bit / 8;    // Index to byte.\n    n = bit % 8;    // Specific bit in byte.\n\n    // Test bit (logigal AND).\n    if (bitmap[x] & TQuickByteMask[n])\n        return 1;\n\n    return 0;\n}\n\n\n/** Checks specified bit.\n *\n * @return  1 if bit reset else 0.\n *\n * @param   bit    - Bit number.\n * @param   bitmap - Pointer to bitmap.\n */\nshort TIsBitReset( short bit, const unsigned char *bitmap)\n{\n    return TIsBitSet(bit, bitmap) ^ 1;\n}\n\n\n/** Count number of bits set in a bitmap.\n *\n * @return   Number of bits set.\n *\n * @param    bitmap - Pointer to bitmap.\n * @param    size   - Bitmap size (in bits).\n *\n * @note    Not very efficient in terms of execution speed. If you are doing\n *        some computationally intense stuff you may need a more complex\n *        implementation which would be faster (especially for big bitmaps).\n *        See (http://graphics.stanford.edu/~seander/bithacks.html).\n */\nint TCountBits( const unsigned char *bitmap, int size)\n{\n    int i, count = 0;\n\n    for (i=0; i<size; i++)\n        if (TIsBitSet(i, bitmap))\n            count++;\n\n    return count;\n}Note, to set bit \'n\' in a 16 bit integer you do the following:TSetBit( n, &my_int);It\'s up to you to ensure that the bit number is within the range of the bit map that you pass. Note that for little endian processors that bytes, words, dwords, qwords, etc., map correctly to each other in memory (main reason that little endian processors are \'better\' than big-endian processors, ah, I feel a flame war coming on...).ShareImprove this answerFolloweditedDec 5, 2017 at 11:20answeredSep 17, 2008 at 14:10Tim RingTim Ring1,83311 gold badge2020 silver badges2727 bronze badges\n\nUse this:int ToggleNthBit ( unsigned char n, int num )\n{\n    if(num & (1 << n))\n        num &= ~(1 << n);\n    else\n        num |= (1 << n);\n\n    return num;\n}ShareImprove this answerFolloweditedMay 22, 2015 at 16:06Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredApr 11, 2009 at 23:05thangavelthangavel\n\nExpanding on thebitsetanswer:#include <iostream>\n#include <bitset>\n#include <string>\n\nusing namespace std;\nint main() {\n  bitset<8> byte(std::string(""10010011"");\n\n  // Set Bit\n  byte.set(3); // 10010111\n\n  // Clear Bit\n  byte.reset(2); // 10010101\n\n  // Toggle Bit\n  byte.flip(7); // 00010101\n\n  cout << byte << endl;\n\n  return 0;\n}ShareImprove this answerFollowansweredMay 8, 2014 at 4:33kendotwillkendotwill1,9721818 silver badges1717 bronze badges\n\nIf you want to perform this all operation with C programming in theLinux kernelthen I suggest to use standard APIs of the Linux kernel.SeeChapter 2. Basic C Library Functionsset_bit  Atomically set a bit in memory\nclear_bit  Clears a bit in memory\nchange_bit  Toggle a bit in memory\ntest_and_set_bit  Set a bit and return its old value\ntest_and_clear_bit  Clear a bit and return its old value\ntest_and_change_bit  Change a bit and return its old value\ntest_bit  Determine whether a bit is setNote: Here the whole operation happens in a single step. So these all are guaranteed to beatomiceven on SMP computers and are useful to keep coherence across processors.ShareImprove this answerFolloweditedNov 3, 2023 at 4:35Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMay 27, 2016 at 16:41Jeegar PatelJeegar Patel27k5151 gold badges158158 silver badges229229 bronze badges\n\nVisual C 2010, and perhaps many other compilers, have direct support for boolean operations built in. A bit has two possible values, just like a Boolean, so we can use Booleans instead—even if they take up more space than a single bit in memory in this representation. This works, and even thesizeof()operator works properly.bool IsGph[256], IsNotGph[256];\n\n// Initialize boolean array to detect printable characters\nfor(i=0; i<sizeof(IsGph); i++) {\n    IsGph[i] = isgraph((unsigned char)i);\n}So, to your question,IsGph[i] =1, orIsGph[i] =0make setting and clearing bools easy.To find unprintable characters:// Initialize boolean array to detect UN-printable characters,\n// then call function to toggle required bits true, while initializing a 2nd\n// boolean array as the complement of the 1st.\nfor(i=0; i<sizeof(IsGph); i++) {\n    if(IsGph[i]) {\n        IsNotGph[i] = 0;\n    } \n    else {\n        IsNotGph[i] = 1;\n    }\n}Note there isn\'t anything ""special"" about this code. It treats a bit like an integer—which technically, it is. A 1 bit integer that can hold two values, and two values only.I once used this approach to find duplicate loan records, where loan_number was theISAMkey, using the six-digit loan number as an index into the bit array.\nIt was savagely fast, and after eight months, proved that the mainframe system we were getting the data from was in fact malfunctioning. The simplicity of bit arrays makes confidence in their correctness very high—vs a searching approach for example.ShareImprove this answerFolloweditedAug 22, 2023 at 0:33Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredDec 30, 2012 at 2:31user1899861user1899861\n\nint set_nth_bit(int num, int n){    \n    return (num | 1 << n);\n}\n\nint clear_nth_bit(int num, int n){    \n    return (num & ~( 1 << n));\n}\n\nint toggle_nth_bit(int num, int n){    \n    return num ^ (1 << n);\n}\n\nint check_nth_bit(int num, int n){    \n    return num & (1 << n);\n}ShareImprove this answerFolloweditedJun 8, 2019 at 6:39Felipe Augusto7,9841212 gold badges4242 silver badges7474 bronze badgesansweredFeb 21, 2018 at 12:35Sazzad Hissain KhanSazzad Hissain Khan39.5k3939 gold badges205205 silver badges288288 bronze badges\n\nHow do you set, clear, and toggle a single bit?To address a common coding pitfall when attempting to form the mask:1is not always wide enoughWhat problems happen whennumberis a wider type than1?xmay be too great for the shift1 << xleading toundefined behavior(UB).  Even ifxis not too great,~may not flip enough most-significant-bits.// Assume 32 bit int/unsigned\nunsigned long long number = foo();\n\nunsigned x = 40; \nnumber |= (1 << x);  // UB\nnumber ^= (1 << x);  // UB\nnumber &= ~(1 << x); // UB\n\nx = 10;\nnumber &= ~(1 << x); // Wrong mask, not wide enoughTo insure 1 is wide enough:Code could use1ullor pedantically(uintmax_t)1and let the compiler optimize.number |= (1ull << x);\nnumber |= ((uintmax_t)1 << x);Or cast - which makes for coding/review/maintenance issues keeping the cast correct and up-to-date.number |= (type_of_number)1 << x;Or gently promote the1by forcing a math operation that is as least as wide as the type ofnumber.number |= (number*0 + 1) << x;As with most bit manipulations, it is best to work withunsignedtypes rather thansignedones.ShareImprove this answerFolloweditedNov 3, 2023 at 4:52Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredSep 27, 2017 at 18:18chux - Reinstate Monicachux - Reinstate Monica150k1414 gold badges144144 silver badges273273 bronze badges\n\nThis program is based out of Jeremy\'s solution. If someone wish to quickly play around.public class BitwiseOperations {\n\n    public static void main(String args[]) {\n\n        setABit(0, 4);    // Set the 4th bit, 0000 -> 1000 [8]\n        clearABit(16, 5); // Clear the 5th bit, 10000 -> 00000 [0]\n        toggleABit(8, 4); // Toggle the 4th bit, 1000 -> 0000 [0]\n        checkABit(8, 4);  // Check the 4th bit 1000 -> true\n    }\n\n    public static void setABit(int input, int n) {\n        input = input | (1 << n-1);\n        System.out.println(input);\n    }\n\n\n    public static void clearABit(int input, int n) {\n        input = input & ~(1 << n-1);\n        System.out.println(input);\n    }\n\n    public static void toggleABit(int input, int n) {\n        input = input ^ (1 << n-1);\n        System.out.println(input);\n    }\n\n    public static void checkABit(int input, int n) {\n        boolean isSet = ((input >> n-1) & 1) == 1;\n        System.out.println(isSet);\n    }\n}Output:8\n0\n0\ntrueShareImprove this answerFolloweditedAug 21, 2023 at 23:19Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredApr 22, 2020 at 20:30Balaji Boggaram RamanarayanBalaji Boggaram Ramanarayan8,13266 gold badges4545 silver badges4848 bronze badges\n\nHere are some macros I use:SET_FLAG(Status, Flag)            ((Status) |= (Flag))\nCLEAR_FLAG(Status, Flag)          ((Status) &= ~(Flag))\nINVALID_FLAGS(ulFlags, ulAllowed) ((ulFlags) & ~(ulAllowed))\nTEST_FLAGS(t,ulMask, ulBit)       (((t)&(ulMask)) == (ulBit))\nIS_FLAG_SET(t,ulMask)             TEST_FLAGS(t,ulMask,ulMask)\nIS_FLAG_CLEAR(t,ulMask)           TEST_FLAGS(t,ulMask,0)ShareImprove this answerFolloweditedNov 3, 2023 at 4:33Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredFeb 6, 2015 at 23:11sam msftsam msft58777 silver badges1818 bronze badges\n\nA templated version (put in a header file) with support for changing multiple bits (works on AVR microcontrollers btw):namespace bit {\n  template <typename T1, typename T2>\n  constexpr inline T1 bitmask(T2 bit) \n  {return (T1)1 << bit;}\n  template <typename T1, typename T3, typename ...T2>\n  constexpr inline T1 bitmask(T3 bit, T2 ...bits) \n  {return ((T1)1 << bit) | bitmask<T1>(bits...);}\n\n  /** Set these bits (others retain their state) */\n  template <typename T1, typename ...T2>\n  constexpr inline void set (T1 &variable, T2 ...bits) \n  {variable |= bitmask<T1>(bits...);}\n  /** Set only these bits (others will be cleared) */\n  template <typename T1, typename ...T2>\n  constexpr inline void setOnly (T1 &variable, T2 ...bits) \n  {variable = bitmask<T1>(bits...);}\n  /** Clear these bits (others retain their state) */\n  template <typename T1, typename ...T2>\n  constexpr inline void clear (T1 &variable, T2 ...bits) \n  {variable &= ~bitmask<T1>(bits...);}\n  /** Flip these bits (others retain their state) */\n  template <typename T1, typename ...T2>\n  constexpr inline void flip (T1 &variable, T2 ...bits) \n  {variable ^= bitmask<T1>(bits...);}\n  /** Check if any of these bits are set */\n  template <typename T1, typename ...T2>\n  constexpr inline bool isAnySet(const T1 &variable, T2 ...bits) \n  {return variable & bitmask<T1>(bits...);}\n  /** Check if all these bits are set */\n  template <typename T1, typename ...T2>\n  constexpr inline bool isSet (const T1 &variable, T2 ...bits) \n  {return ((variable & bitmask<T1>(bits...)) == bitmask<T1>(bits...));}\n  /** Check if all these bits are not set */\n  template <typename T1, typename ...T2>\n  constexpr inline bool isNotSet (const T1 &variable, T2 ...bits) \n  {return ((variable & bitmask<T1>(bits...)) != bitmask<T1>(bits...));}\n}Example of use:#include <iostream>\n#include <bitset> // for console output of binary values\n\n// and include the code above of course\n\nusing namespace std;\n\nint main() {\n  uint8_t v = 0b1111\'1100;\n  bit::set(v, 0);\n  cout << bitset<8>(v) << endl;\n\n  bit::clear(v, 0,1);\n  cout << bitset<8>(v) << endl;\n\n  bit::flip(v, 0,1);\n  cout << bitset<8>(v) << endl;\n\n  bit::clear(v, 0,1,2,3,4,5,6,7);\n  cout << bitset<8>(v) << endl;\n\n  bit::flip(v, 0,7);\n  cout << bitset<8>(v) << endl;\n}BTW: It turns out that constexpr and inline is not used if not sending the optimizer argument (e.g.: -O3) to the compiler. Feel free to try the code athttps://godbolt.org/and look at the ASM output.ShareImprove this answerFolloweditedOct 29, 2020 at 22:19answeredFeb 10, 2018 at 20:07Joakim L. ChristiansenJoakim L. Christiansen1,4291111 silver badges1515 bronze badges\n\nHere is a routine in C to perform the basic bitwise operations:#define INT_BIT (unsigned int) (sizeof(unsigned int) * 8U) //number of bits in unsigned int\n\nint main(void)\n{\n    \n    unsigned int k = 5; //k is the bit position; here it is the 5th bit from the LSb (0th bit)\n    \n    unsigned int regA = 0x00007C7C; //we perform bitwise operations on regA\n    \n    regA |= (1U << k);    //Set kth bit\n    \n    regA &= ~(1U << k);   //Clear kth bit\n    \n    regA ^= (1U << k);    //Toggle kth bit\n    \n    regA = (regA << k) | regA >> (INT_BIT - k); //Rotate left by k bits\n    \n    regA = (regA >> k) | regA << (INT_BIT - k); //Rotate right by k bits\n\n    return 0;   \n}ShareImprove this answerFollowansweredMar 17, 2021 at 5:14lckid2004lckid20042911 bronze badge\n\nSetting the nth bit to x (bit value) without using -1Sometimes when you are not sure what -1 or the like will result in, you may wish to set the nth bit without using -1:number = (((number | (1 << n)) ^ (1 << n))) | (x << n);Explanation:((number | (1 << n)sets the nth bit to 1 (where|denotes bitwise OR), then with(...) ^ (1 << n)we set the nth bit to 0, and finally with(...) | x << n)we set the nth bit that was 0, to (bit value)x.This also works inGo.ShareImprove this answerFolloweditedAug 21, 2023 at 23:16Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredFeb 6, 2021 at 9:43Dominic van der ZypenDominic van der Zypen25922 silver badges1111 bronze badges\n\nTry one of these functions in the C language to change n bit:char bitfield;\n\n// Start at 0th position\n\nvoid chang_n_bit(int n, int value)\n{\n    bitfield = (bitfield | (1 << n)) & (~( (1 << n) ^ (value << n) ));\n}Orvoid chang_n_bit(int n, int value)\n{\n    bitfield = (bitfield | (1 << n)) & ((value << n) | ((~0) ^ (1 << n)));\n}Orvoid chang_n_bit(int n, int value)\n{\n    if(value)\n        bitfield |= 1 << n;\n    else\n        bitfield &= ~0 ^ (1 << n);\n}\n\nchar get_n_bit(int n)\n{\n    return (bitfield & (1 << n)) ? 1 : 0;\n}ShareImprove this answerFolloweditedFeb 16, 2018 at 1:20Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMay 27, 2014 at 11:46VincetVincet4711 bronze badge'}","{'title': 'I need an unordered list without any bullets', 'question': 'I have created an unordered list. I feel the bullets in the unordered list are bothersome, so I want to remove them.Is it possible to have a list without bullets?htmlcssShareImprove this questionFolloweditedApr 21, 2019 at 19:20Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesaskedJun 22, 2009 at 13:57praveenjayapalpraveenjayapal38.3k3131 gold badges7373 silver badges7474 bronze badges', 'answers': 'You can remove bullets by setting thelist-style-typetononeon the CSS for the parent element (typically a<ul>), for example:ul {\n  list-style-type: none;\n}You might also want to addpadding: 0andmargin: 0to that if you want to remove indentation as well.SeeListutorialfor a great walkthrough of list formatting techniques.ShareImprove this answerFolloweditedJun 15, 2019 at 6:10Vadim Ovchinnikov13.9k77 gold badges6464 silver badges9393 bronze badgesansweredJun 22, 2009 at 14:00Paul DixonPaul Dixon299k5454 gold badges313313 silver badges348348 bronze badges\n\nIf you\'re using Bootstrap, it has an ""unstyled"" class:Remove the default list-style and left padding on list items (immediate children only).Bootstrap 2:<ul class=""unstyled"">\n   <li>...</li>\n</ul>http://twitter.github.io/bootstrap/base-css.html#typographyBootstrap 3, 4, and 5:<ul class=""list-unstyled"">\n   <li>...</li>\n</ul>Bootstrap 3:http://getbootstrap.com/css/#type-listsBootstrap 4:https://getbootstrap.com/docs/4.3/content/typography/#unstyledBootstrap 5:https://getbootstrap.com/docs/5.0/content/typography/#unstyledShareImprove this answerFolloweditedApr 19, 2023 at 5:17Alan Reed48644 silver badges1313 bronze badgesansweredJul 11, 2013 at 15:05Scott StaffordScott Stafford44.5k2929 gold badges133133 silver badges183183 bronze badges\n\nYou need to uselist-style: none;<ul style=""list-style: none;"">\n    <li>...</li>\n</ul>ShareImprove this answerFolloweditedApr 15, 2020 at 20:58johannchopin14.7k1111 gold badges6060 silver badges110110 bronze badgesansweredJun 22, 2009 at 14:00karim79karim79342k6767 gold badges416416 silver badges406406 bronze badges\n\nSmall refinement to the previous answers: To make longer lines more readable if they spill over to additional screen lines:ul, li {list-style-type: none;}\n\nli {padding-left: 2em; text-indent: -2em;}ShareImprove this answerFolloweditedJun 8, 2021 at 8:24Jun Yu41511 gold badge88 silver badges2222 bronze badgesansweredDec 10, 2012 at 5:55charliehowardcharliehoward55744 silver badges22 bronze badges\n\nIf you\'re unable to make it work at the<ul>level, you might need to place thelist-style-type: none;at the<li>level:<ul>\n    <li style=""list-style-type: none;"">Item 1</li>\n    <li style=""list-style-type: none;"">Item 2</li>\n</ul>You can create a CSS class to avoid this repetition:<style>\nul.no-bullets li\n{\n    list-style-type: none;\n}\n</style>\n\n<ul class=""no-bullets"">\n    <li>Item 1</li>\n    <li>Item 2</li>\n</ul>When necessary, use!important:<style>\nul.no-bullets li\n{\n    list-style-type: none !important;\n}\n</style>ShareImprove this answerFolloweditedApr 21, 2019 at 19:27Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredOct 8, 2013 at 8:14Antonio OoiAntonio Ooi1,74911 gold badge2020 silver badges3434 bronze badges\n\nI usedlist-styleon both the ul and the li to remove the bullets. I wanted to replace the bullets with a custom character, in this case a \'dash\'. That gives a nicely indented effect that works fine when the text wraps.ul.dashed-list {\n    list-style: none outside none;\n}\n\nul.dashed-list li:before {\n    content: ""\\2014"";\n    float: left;\n    margin: 0 0 0 -27px;\n    padding: 0;\n}\n\nul.dashed-list li {\n    list-style-type: none;\n}<ul class=""dashed-list"">\n  <li>text</li>\n  <li>text</li>\n</ul>ShareImprove this answerFolloweditedSep 7, 2020 at 14:40JKD1,28711 gold badge66 silver badges3030 bronze badgesansweredSep 17, 2013 at 4:52Chris HalcrowChris Halcrow31.1k1818 gold badges186186 silver badges227227 bronze badges\n\nIf you wanted to accomplish this withpureHTML alone, this solution will work across all major browsers:Description ListsSimply using the following HTML:<dl>\n      <dt>List Item 1</dt>\n        <dd>Sub-Item 1.1</dd>\n      <dt>List Item 2</dt>\n        <dd>Sub-Item 2.1</dd>\n        <dd>Sub-Item 2.2</dd>\n        <dd>Sub-Item 2.3</dd>\n      <dt>List Item 3</dt>\n        <dd>Sub-Item 3.1</dd>\n    </dl>Example here:https://jsfiddle.net/zumcmvma/2/Reference here:https://www.w3schools.com/tags/tag_dl.aspShareImprove this answerFolloweditedFeb 14, 2021 at 8:47SK-the-Learner54355 silver badges1919 bronze badgesansweredMar 23, 2018 at 1:26ShaneBShaneB24322 silver badges44 bronze badges\n\nThis orders a list vertically without bullet points. In just one line!li {\n    display: block;\n}ShareImprove this answerFolloweditedJun 8, 2021 at 8:25Jun Yu41511 gold badge88 silver badges2222 bronze badgesansweredSep 3, 2016 at 10:59mattmatt33755 silver badges1414 bronze badges\n\nTo completely remove theuldefault style:list-style-type: none;\n\nmargin: 0;\nmargin-block-start: 0;\nmargin-block-end: 0;\nmargin-inline-start: 0;\nmargin-inline-end: 0;\npadding-inline-start: 0;ShareImprove this answerFolloweditedDec 4, 2023 at 2:52Samuel RIGAUD1,4881717 silver badges2525 bronze badgesansweredApr 23, 2019 at 14:55Masih JahangiriMasih Jahangiri10.5k33 gold badges5151 silver badges5353 bronze badges\n\nIf you are developing an existing theme, it\'s possible that the theme has a custom list style.So if you can\'t change the list style usinglist-style: none;in ul or li tags, first check with!important, because maybe some other line of style is overwriting your style. If!importantfixed it, you should find a more specific selector and clear out the!important.li {\n    list-style: none !important;\n}If it\'s not the case, then check theli:before. If it contains the content, then do:li:before {\n    display: none;\n}ShareImprove this answerFolloweditedJul 15, 2023 at 15:15answeredJan 27, 2020 at 11:47Ali_HrAli_Hr4,49733 gold badges2828 silver badges3434 bronze badges\n\nYou can hide them using::markerpseudo-element.Transparent::markerul li::marker {\n  color: transparent;\n}ul li::marker {\n  color: transparent;\n}\n\nul {\n  padding-inline-start: 10px; /* Just to reset the browser initial padding */\n}<ul>\n  <li> Bullets are bothersome </li>\n  <li> I want to remove them. </li>\n  <li> Hey! ::marker to the rescue </li>\n</ul>::markerempty contentul li::marker {\n  content: """";\n}ul li::marker {\n   content: """";\n}<ul>\n  <li> Bullets are bothersome </li>\n  <li> I want to remove them </li>\n  <li> Hey! ::marker to the rescue </li>\n</ul>It is better when you need to remove bullets from a specific list item.ul li:nth-child(n)::marker { /* Replace n with the list item\'s position*/\n   content: """";\n}ul li:not(:nth-child(2))::marker {\n   content: """";\n}<ul>\n  <li> Bullets are bothersome </li>\n  <li> But I can live with it using ::marker </li>\n  <li> Not again though </li>\n</ul>ShareImprove this answerFollowansweredFeb 13, 2021 at 10:48m4n0m4n031.6k2727 gold badges8080 silver badges9292 bronze badges\n\nInBOOTSTRAPYou can remove bullets by setting thelist-unstyledclass on the parent class of the li tag.<ul className=""list-unstyled"">\n    <li>One</li>\n    <li>Two</li>\n    <li>Three</li>\n</ul>ShareImprove this answerFollowansweredDec 5, 2022 at 15:05Kevin ThomasKevin Thomas13011 silver badge88 bronze badges\n\nul{list-style-type:none;}Just set the style of unordered list is none.ShareImprove this answerFollowansweredJul 29, 2020 at 17:55Abuhanzala RehanansariAbuhanzala Rehanansari9433 bronze badges\n\nI tried and observed:header ul {\n   margin: 0;\n   padding: 0;\n}ShareImprove this answerFolloweditedApr 21, 2019 at 19:33Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJul 24, 2018 at 6:26Dadhich SouravDadhich Sourav28966 silver badges2020 bronze badges\n\n<div class=""custom-control custom-checkbox left"">\n    <ul class=""list-unstyled"">\n        <li>\n         <label class=""btn btn-secondary text-left"" style=""width:100%;text-align:left;padding:2px;"">\n           <input type=""checkbox"" style=""zoom:1.7;vertical-align:bottom;"" asp-for=""@Model[i].IsChecked"" class=""custom-control-input"" /> @Model[i].Title\n         </label>\n        </li>\n     </ul>\n</div>ShareImprove this answerFollowansweredApr 26, 2018 at 4:16Oracular ManOracular Man1,0601111 silver badges1515 bronze badges\n\nIn case you want to keep things simple without resorting to CSS, I just put a&nbsp;in my code lines. I.e.,<table></table>.Yeah, it leaves a few spaces, but that\'s not a bad thing.ShareImprove this answerFolloweditedApr 21, 2019 at 19:25Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMar 15, 2013 at 10:48PhilPhil99'}"
8,"{'title': 'How do I return the response from an asynchronous call?', 'question': 'How do I return the response/result from a functionfoothat makes an asynchronous request?I am trying to return the value from the callback, as well as assigning the result to a local variable inside the function and returning that one, but none of those ways actually return the response — they all returnundefinedor whatever the initial value of the variableresultis.Example of an asynchronous function that accepts a callback(using jQuery\'sajaxfunction):function foo() {\n    var result;\n\n    $.ajax({\n        url: \'...\',\n        success: function(response) {\n            result = response;\n            // return response; // <- I tried that one as well\n        }\n    });\n\n    return result; // It always returns `undefined`\n}Example using Node.js:function foo() {\n    var result;\n\n    fs.readFile(""path/to/file"", function(err, data) {\n        result = data;\n        // return data; // <- I tried that one as well\n    });\n\n    return result; // It always returns `undefined`\n}Example using thethenblock of a promise:function foo() {\n    var result;\n\n    fetch(url).then(function(response) {\n        result = response;\n        // return response; // <- I tried that one as well\n    });\n\n    return result; // It always returns `undefined`\n}javascriptajaxasynchronousShareImprove this questionFolloweditedJul 6, 2022 at 21:29yuriy63611.5k66 gold badges3838 silver badges4242 bronze badgesaskedJan 8, 2013 at 17:06Felix KlingFelix Kling811k176176 gold badges1.1k1.1k silver badges1.2k1.2k bronze badges', 'answers': '→ For a more general explanation of asynchronous behaviour with different examples, seeWhy is my variable unaltered after I modify it inside of a function? - Asynchronous code reference→ If you already understand the problem, skip to the possible solutions below.The problemTheAinAjaxstands forasynchronous. That means sending the request (or rather receiving the response) is taken out of the normal execution flow. In your example,$.ajaxreturns immediately and the next statement,return result;, is executed before the function you passed assuccesscallback was even called.Here is an analogy which hopefully makes the difference between synchronous and asynchronous flow clearer:SynchronousImagine you make a phone call to a friend and ask him to look something up for you. Although it might take a while, you wait on the phone and stare into space, until your friend gives you the answer that you needed.The same is happening when you make a function call containing ""normal"" code:function findItem() {\n    var item;\n    while(item_not_found) {\n        // search\n    }\n    return item;\n}\n\nvar item = findItem();\n\n// Do something with item\ndoSomethingElse();Even thoughfindItemmight take a long time to execute, any code coming aftervar item = findItem();has towaituntil the function returns the result.AsynchronousYou call your friend again for the same reason. But this time you tell him that you are in a hurry and he shouldcall you backon your mobile phone. You hang up, leave the house, and do whatever you planned to do. Once your friend calls you back, you are dealing with the information he gave to you.That\'s exactly what\'s happening when you do an Ajax request.findItem(function(item) {\n    // Do something with the item\n});\ndoSomethingElse();Instead of waiting for the response, the execution continues immediately and the statement after the Ajax call is executed. To get the response eventually, you provide a function to be called once the response was received, acallback(notice something?call back?). Any statement coming after that call is executed before the callback is called.Solution(s)Embrace the asynchronous nature of JavaScript!While certain asynchronous operations provide synchronous counterparts (so does ""Ajax""), it\'s generally discouraged to use them, especially in a browser context.Why is it bad do you ask?JavaScript runs in the UI thread of the browser and any long-running process will lock the UI, making it unresponsive. Additionally, there is an upper limit on the execution time for JavaScript and the browser will ask the user whether to continue the execution or not.All of this results in a really bad user experience. The user won\'t be able to tell whether everything is working fine or not. Furthermore, the effect will be worse for users with a slow connection.In the following we will look at three different solutions that are all building on top of each other:Promises withasync/await(ES2017+, available in older browsers if you use a transpiler or regenerator)Callbacks(popular in node)Promises withthen()(ES2015+, available in older browsers if you use one of the many promise libraries)All three are available in current browsers, and node 7+.ES2017+: Promises withasync/awaitThe ECMAScript version released in 2017 introducedsyntax-level supportfor asynchronous functions. With the help ofasyncandawait, you can write asynchronous in a ""synchronous style"". The code is still asynchronous, but it\'s easier to read/understand.async/awaitbuilds on top of promises: anasyncfunction always returns a promise.await""unwraps"" a promise and either result in the value the promise was resolved with or throws an error if the promise was rejected.Important:You can only useawaitinside anasyncfunction or in aJavaScript module. Top-levelawaitis not supported outside of modules, so you might have to make an async IIFE (Immediately Invoked Function Expression) to start anasynccontext if not using a module.You can read more aboutasyncandawaiton MDN.Here is an example that elaborates thedelayfunctionfindItem()above:// Using \'superagent\' which will return a promise.\nvar superagent = require(\'superagent\')\n\n// This is isn\'t declared as `async` because it already returns a promise\nfunction delay() {\n  // `delay` returns a promise\n  return new Promise(function(resolve, reject) {\n    // Only `delay` is able to resolve or reject the promise\n    setTimeout(function() {\n      resolve(42); // After 3 seconds, resolve the promise with value 42\n    }, 3000);\n  });\n}\n\nasync function getAllBooks() {\n  try {\n    // GET a list of book IDs of the current user\n    var bookIDs = await superagent.get(\'/user/books\');\n    // wait for 3 seconds (just for the sake of this example)\n    await delay();\n    // GET information about each book\n    return superagent.get(\'/books/ids=\'+JSON.stringify(bookIDs));\n  } catch(error) {\n    // If any of the awaited promises was rejected, this catch block\n    // would catch the rejection reason\n    return null;\n  }\n}\n\n// Start an IIFE to use `await` at the top level\n(async function(){\n  let books = await getAllBooks();\n  console.log(books);\n})();Currentbrowserandnodeversions supportasync/await. You can also support older environments by transforming your code to ES5 with the help ofregenerator(or tools that use regenerator, such asBabel).Let functions acceptcallbacksA callback is when function 1 is passed to function 2. Function 2 can call function 1 whenever it is ready. In the context of an asynchronous process, the callback will be called whenever the asynchronous process is done. Usually, the result is passed to the callback.In the example of the question, you can makefooaccept a callback and use it assuccesscallback. So thisvar result = foo();\n// Code that depends on \'result\'becomesfoo(function(result) {\n    // Code that depends on \'result\'\n});Here we defined the function ""inline"" but you can pass any function reference:function myCallback(result) {\n    // Code that depends on \'result\'\n}\n\nfoo(myCallback);fooitself is defined as follows:function foo(callback) {\n    $.ajax({\n        // ...\n        success: callback\n    });\n}callbackwill refer to the function we pass tofoowhen we call it and we pass it on tosuccess. I.e. once the Ajax request is successful,$.ajaxwill callcallbackand pass the response to the callback (which can be referred to withresult, since this is how we defined the callback).You can also process the response before passing it to the callback:function foo(callback) {\n    $.ajax({\n        // ...\n        success: function(response) {\n            // For example, filter the response\n            callback(filtered_response);\n        }\n    });\n}It\'s easier to write code using callbacks than it may seem. After all, JavaScript in the browser is heavily event-driven (DOM events). Receiving the Ajax response is nothing else but an event.\nDifficulties could arise when you have to work with third-party code, but most problems can be solved by just thinking through the application flow.ES2015+: Promises withthen()ThePromise APIis a new feature of ECMAScript 6 (ES2015), but it has goodbrowser supportalready. There are also many libraries which implement the standard Promises API and provide additional methods to ease the use and composition of asynchronous functions (e.g.,bluebird).Promises are containers forfuturevalues. When the promise receives the value (it isresolved) or when it is canceled (rejected), it notifies all of its ""listeners"" who want to access this value.The advantage over plain callbacks is that they allow you to decouple your code and they are easier to compose.Here is an example of using a promise:function delay() {\n  // `delay` returns a promise\n  return new Promise(function(resolve, reject) {\n    // Only `delay` is able to resolve or reject the promise\n    setTimeout(function() {\n      resolve(42); // After 3 seconds, resolve the promise with value 42\n    }, 3000);\n  });\n}\n\ndelay()\n  .then(function(v) { // `delay` returns a promise\n    console.log(v); // Log the value once it is resolved\n  })\n  .catch(function(v) {\n    // Or do something else if it is rejected\n    // (it would not happen in this example, since `reject` is not called).\n  });.as-console-wrapper { max-height: 100% !important; top: 0; }Applied to our Ajax call we could use promises like this:function ajax(url) {\n  return new Promise(function(resolve, reject) {\n    var xhr = new XMLHttpRequest();\n    xhr.onload = function() {\n      resolve(this.responseText);\n    };\n    xhr.onerror = reject;\n    xhr.open(\'GET\', url);\n    xhr.send();\n  });\n}\n\najax(""https://jsonplaceholder.typicode.com/todos/1"")\n  .then(function(result) {\n    console.log(result); // Code depending on result\n  })\n  .catch(function() {\n    // An error occurred\n  });.as-console-wrapper { max-height: 100% !important; top: 0; }Describing all the advantages that promise offer is beyond the scope of this answer, but if you write new code, you should seriously consider them. They provide a great abstraction and separation of your code.More information about promises:HTML5 rocks - JavaScript Promises.Side note: jQuery\'s deferred objectsDeferred objectsare jQuery\'s custom implementation of promises (before the Promise API was standardized). They behave almost like promises but expose a slightly different API.Every Ajax method of jQuery already returns a ""deferred object"" (actually a promise of a deferred object) which you can just return from your function:function ajax() {\n    return $.ajax(...);\n}\n\najax().done(function(result) {\n    // Code depending on result\n}).fail(function() {\n    // An error occurred\n});Side note: Promise gotchasKeep in mind that promises and deferred objects are justcontainersfor a future value, they are not the value itself. For example, suppose you had the following:function checkPassword() {\n    return $.ajax({\n        url: \'/password\',\n        data: {\n            username: $(\'#username\').val(),\n            password: $(\'#password\').val()\n        },\n        type: \'POST\',\n        dataType: \'json\'\n    });\n}\n\nif (checkPassword()) {\n    // Tell the user they\'re logged in\n}This code misunderstands the above asynchronous issues. Specifically,$.ajax()doesn\'t freeze the code while it checks the \'/password\' page on your server - it sends a request to the server and while it waits, it immediately returns a jQuery Ajax Deferred object, not the response from the server. That means theifstatement is going to always get this Deferred object, treat it astrue, and proceed as though the user is logged in. Not good.But the fix is easy:checkPassword()\n.done(function(r) {\n    if (r) {\n        // Tell the user they\'re logged in\n    } else {\n        // Tell the user their password was bad\n    }\n})\n.fail(function(x) {\n    // Tell the user something bad happened\n});Not recommended: Synchronous ""Ajax"" callsAs I mentioned, some(!) asynchronous operations have synchronous counterparts. I don\'t advocate their use, but for completeness\' sake, here is how you would perform a synchronous call:Without jQueryIf you directly use aXMLHttpRequestobject, passfalseas third argument to.open.jQueryIf you usejQuery, you can set theasyncoption tofalse. Note that this option isdeprecatedsince jQuery 1.8.\nYou can then either still use asuccesscallback or access theresponseTextproperty of thejqXHR object:function foo() {\n    var jqXHR = $.ajax({\n        //...\n        async: false\n    });\n    return jqXHR.responseText;\n}If you use any other jQuery Ajax method, such as$.get,$.getJSON, etc., you have to change it to$.ajax(since you can only pass configuration parameters to$.ajax).Heads up!It is not possible to make a synchronousJSONPrequest. JSONP by its very nature is always asynchronous (one more reason to not even consider this option).ShareImprove this answerFolloweditedApr 8, 2022 at 13:02Nick Parsons49k66 gold badges5555 silver badges7272 bronze badgesansweredJan 8, 2013 at 17:06Felix KlingFelix Kling811k176176 gold badges1.1k1.1k silver badges1.2k1.2k bronze badges\n\nIf you\'renotusing jQuery in your code, this answer is for youYour code should be something along the lines of this:function foo() {\n    var httpRequest = new XMLHttpRequest();\n    httpRequest.open(\'GET\', ""/echo/json"");\n    httpRequest.send();\n    return httpRequest.responseText;\n}\n\nvar result = foo(); // Always ends up being \'undefined\'Felix Kling did a fine jobwriting an answer for people using jQuery for AJAX, but I\'ve decided to provide an alternative for people who aren\'t.(Note, for those using the newfetchAPI, Angular or promises I\'ve added another answer below)What you\'re facingThis is a short summary of ""Explanation of the problem"" from the other answer, if you\'re not sure after reading this, read that.TheAin AJAX stands forasynchronous. That means sending the request (or rather receiving the response) is taken out of the normal execution flow. In your example,.sendreturns immediately and the next statement,return result;, is executed before the function you passed assuccesscallback was even called.This means when you\'re returning, the listener you\'ve defined did not execute yet, which means the value you\'re returning has not been defined.Here is a simple analogy:function getFive(){\n    var a;\n    setTimeout(function(){\n         a=5;\n    },10);\n    return a;\n}(Fiddle)The value ofareturned isundefinedsince thea=5part has not executed yet. AJAX acts like this, you\'re returning the value before the server got the chance to tell your browser what that value is.One possible solution to this problem is to codere-actively, telling your program what to do when the calculation completed.function onComplete(a){ // When the code completes, do this\n    alert(a);\n}\n\nfunction getFive(whenDone){\n    var a;\n    setTimeout(function(){\n         a=5;\n         whenDone(a);\n    },10);\n}This is calledCPS. Basically, we\'re passinggetFivean action to perform when it completes, we\'re telling our code how to react when an event completes (like our AJAX call, or in this case the timeout).Usage would be:getFive(onComplete);Which should alert ""5"" to the screen.(Fiddle).Possible solutionsThere are basically two ways how to solve this:Make the AJAX call synchronous (let’s call it SJAX).Restructure your code to work properly with callbacks.1. Synchronous AJAX - Don\'t do it!!As for synchronous AJAX,don\'t do it!Felix\'s answer raises some compelling arguments about why it\'s a bad idea. To sum it up, it\'ll freeze the user\'s browser until the server returns the response and create a very bad user experience. Here is another short summary taken from MDN on why:XMLHttpRequest supports both synchronous and asynchronous communications. In general, however, asynchronous requests should be preferred to synchronous requests for performance reasons.In short, synchronous requests block the execution of code... ...this can cause serious issues...If youhaveto do it, you can pass a flag.Here is how:var request = new XMLHttpRequest();\nrequest.open(\'GET\', \'yourURL\', false);  // `false` makes the request synchronous\nrequest.send(null);\n\nif (request.status === 200) {// That\'s HTTP for \'ok\'\n  console.log(request.responseText);\n}2. Restructure codeLet your function accept a callback. In the example codefoocan be made to accept a callback. We\'ll be telling our code how toreactwhenfoocompletes.So:var result = foo();\n// Code that depends on `result` goes hereBecomes:foo(function(result) {\n    // Code that depends on `result`\n});Here we passed an anonymous function, but we could just as easily pass a reference to an existing function, making it look like:function myHandler(result) {\n    // Code that depends on `result`\n}\nfoo(myHandler);For more details on how this sort of callback design is done, check Felix\'s answer.Now, let\'s define foo itself to act accordinglyfunction foo(callback) {\n    var httpRequest = new XMLHttpRequest();\n    httpRequest.onload = function(){ // When the request is loaded\n       callback(httpRequest.responseText);// We\'re calling our method\n    };\n    httpRequest.open(\'GET\', ""/echo/json"");\n    httpRequest.send();\n}(fiddle)We have now made ourfoofunction accept an action to run when the AJAX completes successfully. We can extend this further by checking if the response status is not 200 and acting accordingly (create a fail handler and such). Effectively it is solving our issue.If you\'re still having a hard time understanding this,read the AJAX getting started guideat MDN.ShareImprove this answerFolloweditedApr 9, 2021 at 11:45Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMay 29, 2013 at 23:30Benjamin GruenbaumBenjamin Gruenbaum275k8989 gold badges514514 silver badges511511 bronze badges\n\nXMLHttpRequest2(first of all, read the answers fromBenjamin GruenbaumandFelix Kling)If you don\'t use jQuery and want a nice short XMLHttpRequest 2 which works in modern browsers and also in mobile browsers, I suggest using it this way:function ajax(a, b, c){ // URL, callback, just a placeholder\n  c = new XMLHttpRequest;\n  c.open(\'GET\', a);\n  c.onload = b;\n  c.send()\n}As you can see:It\'s shorter than all other functions Listed.The callback is set directly (so no extra unnecessary closures).It uses the new onload (so you don\'t have to check for readystate && status)There are some other situations, which I don\'t remember, that make the XMLHttpRequest 1 annoying.There are two ways to get the response of this Ajax call (three using the XMLHttpRequest var name):The simplest:this.responseOr if for some reason youbind()the callback to a class:e.target.responseExample:function callback(e){\n  console.log(this.response);\n}\najax(\'URL\', callback);Or (the above one is better anonymous functions are always a problem):ajax(\'URL\', function(e){console.log(this.response)});Nothing easier.Now some people will probably say that it\'s better to use onreadystatechange or even the XMLHttpRequest variable name. That\'s wrong.Check outXMLHttpRequest advanced features.It supported all *modern browsers. And I can confirm as I have been using this approach since XMLHttpRequest 2 was created. I never had any type of problem in any browsers I used.onreadystatechange is only useful if you want to get the headers on state 2.Using theXMLHttpRequestvariable name is another big error as you need to execute the callback inside the onload/oreadystatechange closures, or else you lost it.Now if you want something more complex usingPOSTand FormData you can easily extend this function:function x(a, b, e, d, c){ // URL, callback, method, formdata or {key:val},placeholder\n  c = new XMLHttpRequest;\n  c.open(e||\'get\', a);\n  c.onload = b;\n  c.send(d||null)\n}Again ... it\'s a very short function, but it doesGETand POST.Examples of usage:x(url, callback); // By default it\'s GET so no need to set\nx(url, callback, \'post\', {\'key\': \'val\'}); // No need to set POST dataOr pass a full form element (document.getElementsByTagName(\'form\')[0]):var fd = new FormData(form);\nx(url, callback, \'post\', fd);Or set some custom values:var fd = new FormData();\nfd.append(\'key\', \'val\')\nx(url, callback, \'post\', fd);As you can see, I didn\'t implement sync... it\'s a bad thing.Having said that ... why don\'t we do it the easy way?As mentioned in the comment, the use of error && synchronous does completely break the point of the answer. Which is a nice short way to use Ajax properly?Error handlerfunction x(a, b, e, d, c){ // URL, callback, method, formdata or {key:val}, placeholder\n  c = new XMLHttpRequest;\n  c.open(e||\'get\', a);\n  c.onload = b;\n  c.onerror = error;\n  c.send(d||null)\n}\n\nfunction error(e){\n  console.log(\'--Error--\', this.type);\n  console.log(\'this: \', this);\n  console.log(\'Event: \', e)\n}\nfunction displayAjax(e){\n  console.log(e, this);\n}\nx(\'WRONGURL\', displayAjax);In the above script, you have an error handler which is statically defined, so it does not compromise the function. The error handler can be used for other functions too.But to get out an error, theonlyway is to write a wrong URL in which case every browser throws an error.Error handlers may maybe useful if you set custom headers, set the responseType to blob array buffer, or whatever...Even if you pass \'POSTAPAPAP\' as the method it won\'t throw an error.Even if you pass \'fdggdgilfdghfldj\' as formdata it won\'t throw an error.In the first case, the error is inside thedisplayAjax()underthis.statusTextasMethod not Allowed.In the second case, it simply works. You have to check on the server side if you passed the right post data.Cross-domain not allowed throws an error automatically.In the error response, there aren\'t any error codes.There is only thethis.typewhich is set toerror.Why add an error handler if you don\'t have any control over errors?\nMost of the errors are returned inside this in the callback functiondisplayAjax().So: There isn\'t any need for error checks if you\'re able to copy and paste the URL properly. ;)PS: As the first test I wrote x(\'x\', displayAjax)..., and it totally got a response...??? So I checked the folder where the HTML is located, and there was a file called \'x.xml\'. So even if you forget the extension of your file XMLHttpRequest 2 WILL FIND IT. I LOL\'dRead a file synchronousDon\'t do that.If you want to block the browser for a while load a nice big.txtfile synchronous.function omg(a, c){ // URL\n  c = new XMLHttpRequest;\n  c.open(\'GET\', a, true);\n  c.send();\n  return c; // Or c.response\n}Now you can dovar res = omg(\'thisIsGonnaBlockThePage.txt\');There is no other way to do this in a non-asynchronous way. (Yeah, with setTimeout loop... but seriously?)Another point is... if you work with APIs or just your own list\'s files or whatever you always use different functions for each request...Only if you have a page where you load always the same XML/JSON or whatever you need only one function. In that case, modify a little the Ajax function and replace b with your special function.The functions above are for basic use.If you want toextendthe function...Yes, you can.I\'m using a lot of APIs and one of the first functions I integrate into every HTML page is the first Ajax function in this answer, with GET only...But you can do a lot of stuff with XMLHttpRequest 2:I made a download manager (using ranges on both sides with resume, filereader, and filesystem), various image resizers converters using canvas, populate web SQL databases with base64images and much more...But in these cases you should create a function only for that purpose... sometimes you need a blob, or array buffers, you can set headers, override mimetype and there is a lot more...But the question here is how to return an Ajax response... (I added an easy way.)ShareImprove this answerFolloweditedMar 6 at 20:43CommunityBot111 silver badgeansweredAug 19, 2013 at 8:06coccococco16.7k77 gold badges6464 silver badges7777 bronze badges\n\nIf you\'re using promises, this answer is for you.This means AngularJS, jQuery (with deferred), nativeXHR\'s replacement (fetch),Ember.js,Backbone.js\'s save or anyNode.jslibrary that returns promises.Your code should be something along the lines of this:function foo() {\n    var data;\n    // Or $.get(...).then, or request(...).then, or query(...).then\n    fetch(""/echo/json"").then(function(response){\n        data = response.json();\n    });\n    return data;\n}\n\nvar result = foo(); // \'result\' is always undefined no matter what.Felix Kling did a fine jobwriting an answer for people using jQuery with callbacks for Ajax. I have an answer for native XHR. This answer is for generic usage of promises either on the frontend or backend.The core issueThe JavaScript concurrency model in the browser and on the server with Node.js/io.js isasynchronousandreactive.Whenever you call a method that returns a promise, thethenhandlers arealwaysexecuted asynchronously - that is,afterthe code below them that is not in a.thenhandler.This means when you\'re returningdatathethenhandler you\'ve defined did not execute yet. This in turn means that the value you\'re returning has not been set to the correct value in time.Here is a simple analogy for the issue:function getFive(){\n        var data;\n        setTimeout(function(){ // Set a timer for one second in the future\n           data = 5; // After a second, do this\n        }, 1000);\n        return data;\n    }\n    document.body.innerHTML = getFive(); // `undefined` here and not 5The value ofdataisundefinedsince thedata = 5part has not executed yet. It will likely execute in a second, but by that time it is irrelevant to the returned value.Since the operation did not happen yet (Ajax, server call, I/O, and timer) you\'re returning the value before the request got the chance to tell your code what that value is.One possible solution to this problem is to codere-actively, telling your program what to do when the calculation completed. Promises actively enable this by being temporal (time-sensitive) in nature.Quick recap on promisesA Promise is avalue over time. Promises have state. They start as pending with no value and can settle to:fulfilledmeaning that the computation completed successfully.rejectedmeaning that the computation failed.A promise can only change statesonceafter which it will always stay at the same state forever. You can attachthenhandlers to promises to extract their value and handle errors.thenhandlers allowchainingof calls. Promises are created byusing APIs that return them. For example, the more modern Ajax replacementfetchor jQuery\'s$.getreturn promises.When we call.thenon a promise andreturnsomething from it - we get a promise forthe processed value. If we return another promise we\'ll get amazing things, but let\'s hold our horses.With promisesLet\'s see how we can solve the above issue with promises. First, let\'s demonstrate our understanding of promise states from above by using thePromise constructorfor creating a delay function:function delay(ms){ // Takes amount of milliseconds\n    // Returns a new promise\n    return new Promise(function(resolve, reject){\n        setTimeout(function(){ // When the time is up,\n            resolve(); // change the promise to the fulfilled state\n        }, ms);\n    });\n}Now, after weconverted setTimeoutto use promises, we can usethento make it count:function delay(ms){ // Takes amount of milliseconds\n  // Returns a new promise\n  return new Promise(function(resolve, reject){\n    setTimeout(function(){ // When the time is up,\n      resolve(); // change the promise to the fulfilled state\n    }, ms);\n  });\n}\n\nfunction getFive(){\n  // We\'re RETURNING the promise. Remember, a promise is a wrapper over our value\n  return delay(100).then(function(){ // When the promise is ready,\n      return 5; // return the value 5. Promises are all about return values\n  })\n}\n// We _have_ to wrap it like this in the call site, and we can\'t access the plain value\ngetFive().then(function(five){\n   document.body.innerHTML = five;\n});Basically, instead of returning avaluewhich we can\'t do because of the concurrency model - we\'re returning awrapperfor a value that we canunwrapwiththen. It\'s like a box you can open withthen.Applying thisThis stands the same for your original API call, you can:function foo() {\n    // RETURN the promise\n    return fetch(""/echo/json"").then(function(response){\n        return response.json(); // Process it inside the `then`\n    });\n}\n\nfoo().then(function(response){\n    // Access the value inside the `then`\n})So this works just as well. We\'ve learned we can\'t return values from already asynchronous calls, but we can use promises and chain them to perform processing. We now know how to return the response from an asynchronous call.ES2015 (ES6)ES6 introducesgeneratorswhich are functions that can return in the middle and then resume the point they were at. This is typically useful for sequences, for example:function* foo(){ // Notice the star. This is ES6, so new browsers, Nodes.js, and io.js only\n    yield 1;\n    yield 2;\n    while(true) yield 3;\n}Is a function that returns aniteratorover the sequence1,2,3,3,3,3,....which can be iterated. While this is interesting on its own and opens room for a lot of possibility, there is one particular interesting case.If the sequence we\'re producing is a sequence of actions rather than numbers - we can pause the function whenever an action is yielded and wait for it before we resume the function. So instead of a sequence of numbers, we need a sequence offuturevalues - that is: promises.This somewhat a tricky, but very powerful trick let’s us write asynchronous code in a synchronous manner. There are several ""runners"" that do this for you. Writing one is a short few lines of code, but it is beyond the scope of this answer. I\'ll be using Bluebird\'sPromise.coroutinehere, but there are other wrappers likecoorQ.async.var foo = coroutine(function*(){\n    var data = yield fetch(""/echo/json""); // Notice the yield\n    // The code here only executes _after_ the request is done\n    return data.json(); // \'data\' is defined\n});This method returns a promise itself, which we can consume from other coroutines. For example:var main = coroutine(function*(){\n   var bar = yield foo(); // Wait our earlier coroutine. It returns a promise\n   // The server call is done here, and the code below executes when done\n   var baz = yield fetch(""/api/users/"" + bar.userid); // Depends on foo\'s result\n   console.log(baz); // Runs after both requests are done\n});\nmain();ES2016 (ES7)In ES7, this is further standardized. There are several proposals right now, but in all of them you canawaitpromise. This is just ""sugar"" (nicer syntax) for the ES6 proposal above by adding theasyncandawaitkeywords. Making the above example:async function foo(){\n    var data = await fetch(""/echo/json""); // Notice the await\n    // code here only executes _after_ the request is done\n    return data.json(); // \'data\' is defined\n}It still returns a promise just the same :)ShareImprove this answerFolloweditedApr 9, 2021 at 13:10Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMay 12, 2015 at 2:22Benjamin GruenbaumBenjamin Gruenbaum275k8989 gold badges514514 silver badges511511 bronze badges\n\nYou are using Ajax incorrectly. The idea is not to have it return anything, but instead hand off the data to something called a callback function, which handles the data.That is:function handleData( responseData ) {\n\n    // Do what you want with the data\n    console.log(responseData);\n}\n\n$.ajax({\n    url: ""hi.php"",\n    ...\n    success: function ( data, status, XHR ) {\n        handleData(data);\n    }\n});Returning anything in the submit handler will not do anything. You must instead either hand off the data, or do what you want with it directly inside the success function.ShareImprove this answerFolloweditedNov 21, 2015 at 14:07Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMay 23, 2014 at 2:05NicNic2,84322 gold badges1414 silver badges1212 bronze badges\n\nI will answer with a horrible-looking, hand-drawn comic. The second image is the reason whyresultisundefinedin your code example.ShareImprove this answerFolloweditedAug 11, 2016 at 17:12answeredAug 11, 2016 at 14:17Johannes FahrenkrugJohannes Fahrenkrug44.2k2020 gold badges129129 silver badges171171 bronze badges\n\nThe simplest solution is to create a JavaScript function and call it for the Ajaxsuccesscallback.function callServerAsync(){\n    $.ajax({\n        url: \'...\',\n        success: function(response) {\n\n            successCallback(response);\n        }\n    });\n}\n\nfunction successCallback(responseObj){\n    // Do something like read the response and show data\n    alert(JSON.stringify(responseObj)); // Only applicable to a JSON response\n}\n\nfunction foo(callback) {\n\n    $.ajax({\n        url: \'...\',\n        success: function(response) {\n           return callback(null, response);\n        }\n    });\n}\n\nvar result = foo(function(err, result){\n          if (!err)\n           console.log(result);\n});ShareImprove this answerFolloweditedApr 9, 2021 at 12:04Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredFeb 18, 2014 at 18:58Hemant BavleHemant Bavle3,32722 gold badges2424 silver badges3030 bronze badges\n\nMost of the answers here give useful suggestions for when you have a single async operation, but sometimes, this comes up when you need to do an asynchronous operation foreachentry in an array or other list-like structure. The temptation is to do this:// WRONG\nvar results = [];\ntheArray.forEach(function(entry) {\n    doSomethingAsync(entry, function(result) {\n        results.push(result);\n    });\n});\nconsole.log(results); // E.g., using them, returning them, etc.Example:// WRONG\nvar theArray = [1, 2, 3];\nvar results = [];\ntheArray.forEach(function(entry) {\n    doSomethingAsync(entry, function(result) {\n        results.push(result);\n    });\n});\nconsole.log(""Results:"", results); // E.g., using them, returning them, etc.\n\nfunction doSomethingAsync(value, callback) {\n    console.log(""Starting async operation for "" + value);\n    setTimeout(function() {\n        console.log(""Completing async operation for "" + value);\n        callback(value * 2);\n    }, Math.floor(Math.random() * 200));\n}.as-console-wrapper { max-height: 100% !important; }The reason that doesn\'t work is that the callbacks fromdoSomethingAsynchaven\'t run yet by the time you\'re trying to use the results.So, if you have an array (or list of some kind) and want to do async operations for each entry, you have two options: Do the operations in parallel (overlapping), or in series (one after another in sequence).ParallelYou can start all of them and keep track of how many callbacks you\'re expecting, and then use the results when you\'ve gotten that many callbacks:var results = [];\nvar expecting = theArray.length;\ntheArray.forEach(function(entry, index) {\n    doSomethingAsync(entry, function(result) {\n        results[index] = result;\n        if (--expecting === 0) {\n            // Done!\n            console.log(""Results:"", results); // E.g., using the results\n        }\n    });\n});Example:var theArray = [1, 2, 3];\nvar results = [];\nvar expecting = theArray.length;\ntheArray.forEach(function(entry, index) {\n    doSomethingAsync(entry, function(result) {\n        results[index] = result;\n        if (--expecting === 0) {\n            // Done!\n            console.log(""Results:"", JSON.stringify(results)); // E.g., using the results\n        }\n    });\n});\n\nfunction doSomethingAsync(value, callback) {\n    console.log(""Starting async operation for "" + value);\n    setTimeout(function() {\n        console.log(""Completing async operation for "" + value);\n        callback(value * 2);\n    }, Math.floor(Math.random() * 200));\n}.as-console-wrapper { max-height: 100% !important; }(We could do away withexpectingand just useresults.length === theArray.length, but that leaves us open to the possibility thattheArrayis changed while the calls are outstanding...)Notice how we use theindexfromforEachto save the result inresultsin the same position as the entry it relates to, even if the results arrive out of order (since async calls don\'t necessarily complete in the order in which they were started).But what if you need toreturnthose results from a function? As the other answers have pointed out, you can\'t; you have to have your function accept and call a callback (or return aPromise). Here\'s a callback version:function doSomethingWith(theArray, callback) {\n    var results = [];\n    var expecting = theArray.length;\n    theArray.forEach(function(entry, index) {\n        doSomethingAsync(entry, function(result) {\n            results[index] = result;\n            if (--expecting === 0) {\n                // Done!\n                callback(results);\n            }\n        });\n    });\n}\ndoSomethingWith(theArray, function(results) {\n    console.log(""Results:"", results);\n});Example:function doSomethingWith(theArray, callback) {\n    var results = [];\n    var expecting = theArray.length;\n    theArray.forEach(function(entry, index) {\n        doSomethingAsync(entry, function(result) {\n            results[index] = result;\n            if (--expecting === 0) {\n                // Done!\n                callback(results);\n            }\n        });\n    });\n}\ndoSomethingWith([1, 2, 3], function(results) {\n    console.log(""Results:"", JSON.stringify(results));\n});\n\nfunction doSomethingAsync(value, callback) {\n    console.log(""Starting async operation for "" + value);\n    setTimeout(function() {\n        console.log(""Completing async operation for "" + value);\n        callback(value * 2);\n    }, Math.floor(Math.random() * 200));\n}.as-console-wrapper { max-height: 100% !important; }Or here\'s a version returning aPromiseinstead:function doSomethingWith(theArray) {\n    return new Promise(function(resolve) {\n        var results = [];\n        var expecting = theArray.length;\n        theArray.forEach(function(entry, index) {\n            doSomethingAsync(entry, function(result) {\n                results[index] = result;\n                if (--expecting === 0) {\n                    // Done!\n                    resolve(results);\n                }\n            });\n        });\n    });\n}\ndoSomethingWith(theArray).then(function(results) {\n    console.log(""Results:"", results);\n});Of course, ifdoSomethingAsyncpassed us errors, we\'d userejectto reject the promise when we got an error.)Example:function doSomethingWith(theArray) {\n    return new Promise(function(resolve) {\n        var results = [];\n        var expecting = theArray.length;\n        theArray.forEach(function(entry, index) {\n            doSomethingAsync(entry, function(result) {\n                results[index] = result;\n                if (--expecting === 0) {\n                    // Done!\n                    resolve(results);\n                }\n            });\n        });\n    });\n}\ndoSomethingWith([1, 2, 3]).then(function(results) {\n    console.log(""Results:"", JSON.stringify(results));\n});\n\nfunction doSomethingAsync(value, callback) {\n    console.log(""Starting async operation for "" + value);\n    setTimeout(function() {\n        console.log(""Completing async operation for "" + value);\n        callback(value * 2);\n    }, Math.floor(Math.random() * 200));\n}.as-console-wrapper { max-height: 100% !important; }(Or alternately, you could make a wrapper fordoSomethingAsyncthat returns a promise, and then do the below...)IfdoSomethingAsyncgives you aPromise, you can usePromise.all:function doSomethingWith(theArray) {\n    return Promise.all(theArray.map(function(entry) {\n        return doSomethingAsync(entry);\n    }));\n}\ndoSomethingWith(theArray).then(function(results) {\n    console.log(""Results:"", results);\n});If you know thatdoSomethingAsyncwill ignore a second and third argument, you can just pass it directly tomap(mapcalls its callback with three arguments, but most people only use the first most of the time):function doSomethingWith(theArray) {\n    return Promise.all(theArray.map(doSomethingAsync));\n}\ndoSomethingWith(theArray).then(function(results) {\n    console.log(""Results:"", results);\n});Example:function doSomethingWith(theArray) {\n    return Promise.all(theArray.map(doSomethingAsync));\n}\ndoSomethingWith([1, 2, 3]).then(function(results) {\n    console.log(""Results:"", JSON.stringify(results));\n});\n\nfunction doSomethingAsync(value) {\n    console.log(""Starting async operation for "" + value);\n    return new Promise(function(resolve) {\n        setTimeout(function() {\n            console.log(""Completing async operation for "" + value);\n            resolve(value * 2);\n        }, Math.floor(Math.random() * 200));\n    });\n}.as-console-wrapper { max-height: 100% !important; }Note thatPromise.allresolves its promise with an array of the results of all of the promises you give it when they are all resolved, or rejects its promise when thefirstof the promises you give it rejects.SeriesSuppose you don\'t want the operations to be in parallel? If you want to run them one after another, you need to wait for each operation to complete before you start the next. Here\'s an example of a function that does that and calls a callback with the result:function doSomethingWith(theArray, callback) {\n    var results = [];\n    doOne(0);\n    function doOne(index) {\n        if (index < theArray.length) {\n            doSomethingAsync(theArray[index], function(result) {\n                results.push(result);\n                doOne(index + 1);\n            });\n        } else {\n            // Done!\n            callback(results);\n        }\n    }\n}\ndoSomethingWith(theArray, function(results) {\n    console.log(""Results:"", results);\n});(Since we\'re doing the work in series, we can just useresults.push(result)since we know we won\'t get results out of order. In the above we could have usedresults[index] = result;, but in some of the following examples we don\'t have an index to use.)Example:function doSomethingWith(theArray, callback) {\n    var results = [];\n    doOne(0);\n    function doOne(index) {\n        if (index < theArray.length) {\n            doSomethingAsync(theArray[index], function(result) {\n                results.push(result);\n                doOne(index + 1);\n            });\n        } else {\n            // Done!\n            callback(results);\n        }\n    }\n}\ndoSomethingWith([1, 2, 3], function(results) {\n    console.log(""Results:"", JSON.stringify(results));\n});\n\nfunction doSomethingAsync(value, callback) {\n    console.log(""Starting async operation for "" + value);\n    setTimeout(function() {\n        console.log(""Completing async operation for "" + value);\n        callback(value * 2);\n    }, Math.floor(Math.random() * 200));\n}.as-console-wrapper { max-height: 100% !important; }(Or, again, build a wrapper fordoSomethingAsyncthat gives you a promise and do the below...)IfdoSomethingAsyncgives you a Promise, if you can use ES2017+ syntax (perhaps with a transpiler likeBabel), you can use anasyncfunctionwithfor-ofandawait:async function doSomethingWith(theArray) {\n    const results = [];\n    for (const entry of theArray) {\n        results.push(await doSomethingAsync(entry));\n    }\n    return results;\n}\ndoSomethingWith(theArray).then(results => {\n    console.log(""Results:"", results);\n});Example:async function doSomethingWith(theArray) {\n    const results = [];\n    for (const entry of theArray) {\n        results.push(await doSomethingAsync(entry));\n    }\n    return results;\n}\ndoSomethingWith([1, 2, 3]).then(function(results) {\n    console.log(""Results:"", JSON.stringify(results));\n});\n\nfunction doSomethingAsync(value) {\n    console.log(""Starting async operation for "" + value);\n    return new Promise(function(resolve) {\n        setTimeout(function() {\n            console.log(""Completing async operation for "" + value);\n            resolve(value * 2);\n        }, Math.floor(Math.random() * 200));\n    });\n}.as-console-wrapper { max-height: 100% !important; }If you can\'t use ES2017+ syntax (yet), you can use a variation on the""Promise reduce"" pattern(this is more complex than the usual Promise reduce because we\'re not passing the result from one into the next, but instead gathering up their results in an array):function doSomethingWith(theArray) {\n    return theArray.reduce(function(p, entry) {\n        return p.then(function(results) {\n            return doSomethingAsync(entry).then(function(result) {\n                results.push(result);\n                return results;\n            });\n        });\n    }, Promise.resolve([]));\n}\ndoSomethingWith(theArray).then(function(results) {\n    console.log(""Results:"", results);\n});Example:function doSomethingWith(theArray) {\n    return theArray.reduce(function(p, entry) {\n        return p.then(function(results) {\n            return doSomethingAsync(entry).then(function(result) {\n                results.push(result);\n                return results;\n            });\n        });\n    }, Promise.resolve([]));\n}\ndoSomethingWith([1, 2, 3]).then(function(results) {\n    console.log(""Results:"", JSON.stringify(results));\n});\n\nfunction doSomethingAsync(value) {\n    console.log(""Starting async operation for "" + value);\n    return new Promise(function(resolve) {\n        setTimeout(function() {\n            console.log(""Completing async operation for "" + value);\n            resolve(value * 2);\n        }, Math.floor(Math.random() * 200));\n    });\n}.as-console-wrapper { max-height: 100% !important; }...which is less cumbersome withES2015+ arrow functions:function doSomethingWith(theArray) {\n    return theArray.reduce((p, entry) => p.then(results => doSomethingAsync(entry).then(result => {\n        results.push(result);\n        return results;\n    })), Promise.resolve([]));\n}\ndoSomethingWith(theArray).then(results => {\n    console.log(""Results:"", results);\n});Example:function doSomethingWith(theArray) {\n    return theArray.reduce((p, entry) => p.then(results => doSomethingAsync(entry).then(result => {\n        results.push(result);\n        return results;\n    })), Promise.resolve([]));\n}\ndoSomethingWith([1, 2, 3]).then(function(results) {\n    console.log(""Results:"", JSON.stringify(results));\n});\n\nfunction doSomethingAsync(value) {\n    console.log(""Starting async operation for "" + value);\n    return new Promise(function(resolve) {\n        setTimeout(function() {\n            console.log(""Completing async operation for "" + value);\n            resolve(value * 2);\n        }, Math.floor(Math.random() * 200));\n    });\n}.as-console-wrapper { max-height: 100% !important; }ShareImprove this answerFolloweditedMay 6, 2021 at 11:25Henke - Нава́льный П с м5,40755 gold badges3838 silver badges4848 bronze badgesansweredMay 3, 2017 at 16:59T.J. CrowderT.J. Crowder1.1m196196 gold badges2k2k silver badges1.9k1.9k bronze badges\n\nAngular 1People who are usingAngularJS, can handle this situation usingpromises.Hereit says,Promises can be used to unnest asynchronous functions and allows one to chain multiple functions together.You can find a nice explanationherealso.An example found indocumentationmentioned below.promiseB = promiseA.then(\n    function onSuccess(result) {\n      return result + 1;\n    }\n    ,function onError(err) {\n      // Handle error\n    }\n  );\n\n // promiseB will be resolved immediately after promiseA is resolved\n // and its value will be the result of promiseA incremented by 1.Angular 2 and laterIn Angular 2 with look at the following example, but itsrecommendedto useobservableswith Angular 2.search(term: string) {\n     return this.http\n       .get(`https://api.spotify.com/v1/search?q=${term}&type=artist`)\n       .map((response) => response.json())\n       .toPromise();\n}You can consume that in this way,search() {\n    this.searchService.search(this.searchField.value)\n      .then((result) => {\n    this.result = result.artists.items;\n  })\n  .catch((error) => console.error(error));\n}See theoriginalpost here. But TypeScript does not supportnative ES6 Promises, if you want to use it, you might need plugin for that.Additionally, here is thepromises specification.ShareImprove this answerFolloweditedApr 9, 2021 at 12:33Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredAug 26, 2014 at 8:11Maleen AbewardanaMaleen Abewardana14.2k44 gold badges3737 silver badges3939 bronze badges\n\nHave a look at this example:var app = angular.module(\'plunker\', []);\n\napp.controller(\'MainCtrl\', function($scope,$http) {\n\n    var getJoke = function(){\n        return $http.get(\'http://api.icndb.com/jokes/random\').then(function(res){\n            return res.data.value;  \n        });\n    }\n\n    getJoke().then(function(res) {\n        console.log(res.joke);\n    });\n});As you can seegetJokeisreturning aresolvedpromise(it is resolved when returningres.data.value). So you wait until the$http.getrequest is completed and thenconsole.log(res.joke)is executed (as a normal asynchronous flow).This is the plnkr:http://embed.plnkr.co/XlNR7HpCaIhJxskMJfSg/ES6 way (async - await)(function(){\n  async function getJoke(){\n    let response = await fetch(\'http://api.icndb.com/jokes/random\');\n    let data = await response.json();\n    return data.value;\n  }\n\n  getJoke().then((joke) => {\n    console.log(joke);\n  });\n})();ShareImprove this answerFolloweditedNov 23, 2018 at 12:19answeredJun 2, 2016 at 8:31Francisco CarmonaFrancisco Carmona1,70111 gold badge1010 silver badges99 bronze badges\n\nThis is one of the places whichtwo-way data bindingorstore conceptthat\'s used in many new JavaScript frameworks will work great for you...So if you are usingAngular,React, or any other frameworks which do two-way data binding or store concept, this issue is simply fixed for you, so in easy words, your result isundefinedat the first stage, so you have gotresult = undefinedbefore you receive the data, then as soon as you get the result, it will be updated and get assigned to the new value which response of your Ajax call...But how you can do it in pure JavaScript or jQuery for example as you asked in this question?You can use a callback, promise and recently observable to handle it for you. For example, in promises we have some function likesuccess()orthen()which will be executed when your data is ready for you. The same with callback or thesubscribefunction on an observable.For example, in your case which you are using jQuery, you can do something like this:$(document).ready(function(){\n    function foo() {\n        $.ajax({url: ""api/data"", success: function(data){\n            fooDone(data); // After we have data, we pass it to fooDone\n        }});\n    };\n\n    function fooDone(data) {\n        console.log(data); // fooDone has the data and console.log it\n    };\n\n    foo(); // The call happens here\n});For more information, study promises and observables which are newer ways to do this async stuff.ShareImprove this answerFolloweditedApr 9, 2021 at 13:45Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMay 24, 2017 at 9:38AlirezaAlireza103k2727 gold badges275275 silver badges173173 bronze badges\n\nIt\'s a very common issue we face while struggling with the \'mysteries\' of JavaScript. Let me try demystifying this mystery today.Let\'s start with a simple JavaScript function:function foo(){\n    // Do something\n    return \'wohoo\';\n}\n\nlet bar = foo(); // \'bar\' is \'wohoo\' hereThat\'s a simple synchronous function call (where each line of code is \'finished with its job\' before the next one in sequence), and the result is same as expected.Now let\'s add a bit of twist, by introducing a little delay in our function, so that all lines of code are not \'finished\' in sequence. Thus, it will emulate the asynchronous behavior of the function:function foo(){\n    setTimeout( ()=> {\n        return \'wohoo\';\n   }, 1000)\n}\n\nlet bar = foo() // \'bar\' is undefined hereSo there you go; that delay just broke the functionality we expected! But what exactly happened? Well, it\'s actually pretty logical if you look at the code.The functionfoo(), upon execution, returns nothing (thus returned value isundefined), but it does start a timer, which executes a function after 1 second to return \'wohoo\'. But as you can see, the value that\'s assigned to bar is the immediately returned stuff from foo(), which is nothing, i.e., justundefined.So, how do we tackle this issue?Let\'s ask our function for apromise.\nPromise is really about what it means: it means that the function guarantees you to provide with any output it gets in future. So let\'s see it in action for our little problem above:function foo(){\n   return new Promise((resolve, reject) => { // I want foo() to PROMISE me something\n    setTimeout ( function(){\n      // Promise is RESOLVED, when the execution reaches this line of code\n       resolve(\'wohoo\') // After 1 second, RESOLVE the promise with value \'wohoo\'\n    }, 1000 )\n  })\n}\n\nlet bar;\nfoo().then( res => {\n    bar = res;\n    console.log(bar) // Will print \'wohoo\'\n});Thus, the summary is - to tackle the asynchronous functions like Ajax-based calls, etc., you can use a promise toresolvethe value (which you intend to return). Thus, in short youresolvevalue instead ofreturning, in asynchronous functions.UPDATE (Promises with async/await)Apart from usingthen/catchto work with promises, there exists one more approach. The idea is torecognize an asynchronous functionand thenwait for the promisesto resolve, before moving to the next line of code. It\'s still just thepromisesunder the hood, but with a different syntactical approach. To make things clearer, you can find a comparison below:then/catch version:function saveUsers(){\n     getUsers()\n      .then(users => {\n         saveSomewhere(users);\n      })\n      .catch(err => {\n          console.error(err);\n       })\n }async/await version:async function saveUsers(){\n     try{\n        let users = await getUsers()\n        saveSomewhere(users);\n     }\n     catch(err){\n        console.error(err);\n     }\n  }ShareImprove this answerFolloweditedApr 9, 2021 at 14:05Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredOct 31, 2017 at 20:12Anish K.Anish K.2,51233 gold badges2121 silver badges2727 bronze badges\n\nAnother approach to return a value from an asynchronous function, is to pass in an object that will store the result from the asynchronous function.Here is an example of the same:var async = require(""async"");\n\n// This wires up result back to the caller\nvar result = {};\nvar asyncTasks = [];\nasyncTasks.push(function(_callback){\n    // some asynchronous operation\n    $.ajax({\n        url: \'...\',\n        success: function(response) {\n            result.response = response;\n            _callback();\n        }\n    });\n});\n\nasync.parallel(asyncTasks, function(){\n    // result is available after performing asynchronous operation\n    console.log(result)\n    console.log(\'Done\');\n});I am using theresultobject to store the value during the asynchronous operation. This allows the result be available even after the asynchronous job.I use this approach a lot. I would be interested to know how well this approach works where wiring the result back through consecutive modules is involved.ShareImprove this answerFolloweditedDec 17, 2016 at 12:55Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredSep 2, 2015 at 12:54jsbishtjsbisht9,41788 gold badges5454 silver badges5959 bronze badges\n\nWhile promises and callbacks work fine in many situations, it is a pain in the rear to express something like:if (!name) {\n  name = async1();\n}\nasync2(name);You\'d end up going throughasync1; check ifnameis undefined or not and call the callback accordingly.async1(name, callback) {\n  if (name)\n    callback(name)\n  else {\n    doSomething(callback)\n  }\n}\n\nasync1(name, async2)While it isokayin small examples it gets annoying when you have a lot of similar cases and error handling involved.Fibershelps in solving the issue.var Fiber = require(\'fibers\')\n\nfunction async1(container) {\n  var current = Fiber.current\n  var result\n  doSomething(function(name) {\n    result = name\n    fiber.run()\n  })\n  Fiber.yield()\n  return result\n}\n\nFiber(function() {\n  var name\n  if (!name) {\n    name = async1()\n  }\n  async2(name)\n  // Make any number of async calls from here\n}You can checkout the projecthere.ShareImprove this answerFolloweditedMay 9, 2016 at 13:02answeredJan 25, 2016 at 17:43rohithprrohithpr6,33088 gold badges4040 silver badges6161 bronze badges\n\nThe following example I have written shows how toHandle asynchronous HTTP calls;Wait for response from each API call;UsePromisepattern;UsePromise.allpattern to join multiple HTTP calls;This working example is self-contained. It will define a simple request object that uses the windowXMLHttpRequestobject to make calls. It will define a simple function to wait for a bunch of promises to be completed.Context. The example is querying theSpotify Web APIendpoint in order to search forplaylistobjects for a given set of query strings:[\n ""search?type=playlist&q=%22doom%20metal%22"",\n ""search?type=playlist&q=Adele""\n]For each item, a new Promise will fire a block -ExecutionBlock, parse the result, schedule a new set of promises based on the result array, that is a list of Spotifyuserobjects and execute the new HTTP call within theExecutionProfileBlockasynchronously.You can then see a nested Promise structure, that lets you spawn multiple and completely asynchronous nested HTTP calls, and join the results from each subset of calls throughPromise.all.NOTERecent SpotifysearchAPIs will require an access token to be specified in the request headers:-H ""Authorization: Bearer {your access token}""So, you to run the following example you need to put your access token in the request headers:var spotifyAccessToken = ""YourSpotifyAccessToken"";\r\nvar console = {\r\n    log: function(s) {\r\n        document.getElementById(""console"").innerHTML += s + ""<br/>""\r\n    }\r\n}\r\n\r\n// Simple XMLHttpRequest\r\n// based on https://davidwalsh.name/xmlhttprequest\r\nSimpleRequest = {\r\n    call: function(what, response) {\r\n        var request;\r\n        if (window.XMLHttpRequest) { // Mozilla, Safari, ...\r\n            request = new XMLHttpRequest();\r\n        } else if (window.ActiveXObject) { // Internet Explorer\r\n            try {\r\n                request = new ActiveXObject(\'Msxml2.XMLHTTP\');\r\n            }\r\n            catch (e) {\r\n                try {\r\n                  request = new ActiveXObject(\'Microsoft.XMLHTTP\');\r\n                } catch (e) {}\r\n            }\r\n        }\r\n\r\n        // State changes\r\n        request.onreadystatechange = function() {\r\n            if (request.readyState === 4) { // Done\r\n                if (request.status === 200) { // Complete\r\n                    response(request.responseText)\r\n                }\r\n                else\r\n                    response();\r\n            }\r\n        }\r\n        request.open(\'GET\', what, true);\r\n        request.setRequestHeader(""Authorization"", ""Bearer "" + spotifyAccessToken);\r\n        request.send(null);\r\n    }\r\n}\r\n\r\n//PromiseAll\r\nvar promiseAll = function(items, block, done, fail) {\r\n    var self = this;\r\n    var promises = [],\r\n                   index = 0;\r\n    items.forEach(function(item) {\r\n        promises.push(function(item, i) {\r\n            return new Promise(function(resolve, reject) {\r\n                if (block) {\r\n                    block.apply(this, [item, index, resolve, reject]);\r\n                }\r\n            });\r\n        }(item, ++index))\r\n    });\r\n    Promise.all(promises).then(function AcceptHandler(results) {\r\n        if (done) done(results);\r\n    }, function ErrorHandler(error) {\r\n        if (fail) fail(error);\r\n    });\r\n}; //promiseAll\r\n\r\n// LP: deferred execution block\r\nvar ExecutionBlock = function(item, index, resolve, reject) {\r\n    var url = ""https://api.spotify.com/v1/""\r\n    url += item;\r\n    console.log( url )\r\n    SimpleRequest.call(url, function(result) {\r\n        if (result) {\r\n\r\n            var profileUrls = JSON.parse(result).playlists.items.map(function(item, index) {\r\n                return item.owner.href;\r\n            })\r\n            resolve(profileUrls);\r\n        }\r\n        else {\r\n            reject(new Error(""call error""));\r\n        }\r\n    })\r\n}\r\n\r\narr = [\r\n    ""search?type=playlist&q=%22doom%20metal%22"",\r\n    ""search?type=playlist&q=Adele""\r\n]\r\n\r\npromiseAll(arr, function(item, index, resolve, reject) {\r\n    console.log(""Making request ["" + index + ""]"")\r\n    ExecutionBlock(item, index, resolve, reject);\r\n}, function(results) { // Aggregated results\r\n\r\n    console.log(""All profiles received "" + results.length);\r\n    //console.log(JSON.stringify(results[0], null, 2));\r\n\r\n    ///// promiseall again\r\n\r\n    var ExecutionProfileBlock = function(item, index, resolve, reject) {\r\n        SimpleRequest.call(item, function(result) {\r\n            if (result) {\r\n                var obj = JSON.parse(result);\r\n                resolve({\r\n                    name: obj.display_name,\r\n                    followers: obj.followers.total,\r\n                    url: obj.href\r\n                });\r\n            } //result\r\n        })\r\n    } //ExecutionProfileBlock\r\n\r\n    promiseAll(results[0], function(item, index, resolve, reject) {\r\n        //console.log(""Making request ["" + index + ""] "" + item)\r\n        ExecutionProfileBlock(item, index, resolve, reject);\r\n    }, function(results) { // aggregated results\r\n        console.log(""All response received "" + results.length);\r\n        console.log(JSON.stringify(results, null, 2));\r\n    }\r\n\r\n    , function(error) { // Error\r\n        console.log(error);\r\n    })\r\n\r\n    /////\r\n\r\n  },\r\n  function(error) { // Error\r\n      console.log(error);\r\n  });<div id=""console"" />I have extensively discussed this solutionhere.ShareImprove this answerFolloweditedNov 28, 2018 at 16:42answeredApr 12, 2016 at 22:55loretoparisiloretoparisi16.1k1111 gold badges108108 silver badges152152 bronze badges\n\nThe short answer is,you have to implement a callback like this:function callback(response) {\n    // Here you can do what ever you want with the response object.\n    console.log(response);\n}\n\n$.ajax({\n    url: ""..."",\n    success: callback\n});ShareImprove this answerFolloweditedApr 9, 2021 at 13:31Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredApr 22, 2016 at 14:47Pablo Matias GomezPablo Matias Gomez6,78477 gold badges4040 silver badges7474 bronze badges\n\nJavaScript is single threaded.The browser can be divided into three parts:Event LoopWeb APIEvent QueueThe event loop runs for forever, i.e., kind of an infinite loop. The event queue is where all your functions are pushed on some event (example: click).This is one by one carried out of queue and put into the event loop which executes this function and prepares itself for the next one after the first one is executed. This means execution of one function doesn\'t start until the function before it in the queue is executed in the event loop.Now let us think we pushed two functions in a queue. One is for getting a data from the server and another utilises that data. We pushed the serverRequest() function in the queue first and then the utiliseData() function. The serverRequest function goes in the event loop and makes a call to server as we never know how much time it will take to get data from server, so this process is expected to take time and so we busy our event loop thus hanging our page.That\'s where Web API come into the role. It takes this function from the event loop and deals with the server making the event loop free, so that we can execute the next function from the queue.The next function in the queue is utiliseData() which goes in the loop, but because of no data available, it goes to waste and execution of the next function continues until the end of the queue. (This is called Async calling, i.e., we can do something else until we get data.)Let us suppose our serverRequest() function had a return statement in code. When we get back data from the server Web API, it will push it in the queue at the end of queue.As it gets pushed at the end of the queue, we cannot utilise its data as there isn\'t any function left in our queue to utilise this data.Thus it is not possible to return something from the async call.Thus thesolutionto this iscallbackorpromise.Animagefromone of the answers herecorrectly explains callback use...*We give our function (function utilising data returned from the server) to a function calling the server.function doAjax(callbackFunc, method, url) {\n    var xmlHttpReq = new XMLHttpRequest();\n    xmlHttpReq.open(method, url);\n    xmlHttpReq.onreadystatechange = function() {\n\n        if (xmlHttpReq.readyState == 4 && xmlHttpReq.status == 200) {\n            callbackFunc(xmlHttpReq.responseText);\n        }\n    }\n    xmlHttpReq.send(null);\n}In mycodeit is called as:function loadMyJson(categoryValue){\n    if(categoryValue === ""veg"")\n        doAjax(print, ""GET"", ""http://localhost:3004/vegetables"");\n    else if(categoryValue === ""fruits"")\n        doAjax(print, ""GET"", ""http://localhost:3004/fruits"");\n    else\n      console.log(""Data not found"");\n}JavaScript.info callbackShareImprove this answerFolloweditedApr 21, 2021 at 12:464048,38222 gold badges2929 silver badges4949 bronze badgesansweredFeb 3, 2018 at 6:06Aniket JhaAniket Jha1,7811212 silver badges1313 bronze badges\n\n2017 answer: you can now do exactly what you want in every current browser andNode.jsThis is quite simple:Return a PromiseUse the\'await\', which will tell JavaScript to await the promise to be resolved into a value (like the HTTP response)Add the\'async\'keyword to the parent functionHere\'s a working version of your code:(async function(){\n\n    var response = await superagent.get(\'...\')\n    console.log(response)\n\n})()await is supported in all current browsers and Node.js 8ShareImprove this answerFolloweditedApr 9, 2021 at 13:50Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJun 2, 2017 at 9:51mikemaccanamikemaccana119k107107 gold badges416416 silver badges516516 bronze badges\n\nYou can use this custom library (written using Promise) to make a remote call.function $http(apiConfig) {\n    return new Promise(function (resolve, reject) {\n        var client = new XMLHttpRequest();\n        client.open(apiConfig.method, apiConfig.url);\n        client.send();\n        client.onload = function () {\n            if (this.status >= 200 && this.status < 300) {\n                // Performs the function ""resolve"" when this.status is equal to 2xx.\n                // Your logic here.\n                resolve(this.response);\n            }\n            else {\n                // Performs the function ""reject"" when this.status is different than 2xx.\n                reject(this.statusText);\n            }\n        };\n        client.onerror = function () {\n            reject(this.statusText);\n        };\n    });\n}Simple usage example:$http({\n    method: \'get\',\n    url: \'google.com\'\n}).then(function(response) {\n    console.log(response);\n}, function(error) {\n    console.log(error)\n});ShareImprove this answerFolloweditedDec 17, 2016 at 10:59Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMay 26, 2016 at 13:26Vinoth RajendranVinoth Rajendran1,20111 gold badge1414 silver badges2828 bronze badges\n\nAnother solution is to execute code via the sequential executornsynjs.If the underlying function is promisifiednsynjs will evaluate all promises sequentially, and put the promise result into thedataproperty:function synchronousCode() {\n\n    var getURL = function(url) {\n        return window.fetch(url).data.text().data;\n    };\n    \n    var url = \'https://ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js\';\n    console.log(\'received bytes:\',getURL(url).length);\n    \n};\n\nnsynjs.run(synchronousCode,{},function(){\n    console.log(\'synchronousCode done\');\n});<script src=""https://rawgit.com/amaksr/nsynjs/master/nsynjs.js""></script>If the underlying function is not promisifiedStep 1. Wrap the function with a callback into the nsynjs-aware wrapper (if it has a promisified version, you can skip this step):var ajaxGet = function (ctx,url) {\n    var res = {};\n    var ex;\n    $.ajax(url)\n    .done(function (data) {\n        res.data = data;\n    })\n    .fail(function(e) {\n        ex = e;\n    })\n    .always(function() {\n        ctx.resume(ex);\n    });\n    return res;\n};\najaxGet.nsynjsHasCallback = true;Step 2. Put synchronous logic into function:function process() {\n    console.log(\'got data:\', ajaxGet(nsynjsCtx, ""data/file1.json"").data);\n}Step 3. Run function in synchronous manner via nsynjs:nsynjs.run(process,this,function () {\n    console.log(""synchronous function finished"");\n});Nsynjs will evaluate all operators and expressions step-by-step, pausing execution in case if the result of some slow function is not ready.More examples arehere.ShareImprove this answerFolloweditedApr 9, 2021 at 13:48Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMay 27, 2017 at 2:47amaksramaksr7,70522 gold badges1717 silver badges1717 bronze badges\n\n1. A first stumbling stepAs for many others, my encounter with asynchronous calls was puzzling at first.I don\'t remember the details, but I may have tried something like:let result;\n\n$.ajax({\n  url: \'https://jsonplaceholder.typicode.com/todos/1\',\n  success: function (response) {\n    console.log(\'\\nInside $.ajax:\');\n    console.log(response);\n    result = response;\n  },\n});\n\nconsole.log(\'Finally, the result: \' + result);.as-console-wrapper { max-height: 100% !important; top: 0; }<script src=""https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js""></script>Whoops!The output of the lineconsole.log(\'Finally, the result: \' + result);which I thought would be printedlast, is printedbeforethe other output!– And it doesn\'t contain the result: it just printsundefined.1How come?A helpful insightI distinctly remember my firstaha(💡) moment about asynchronous calls.\nIt was :you actually don\'t want to get the dataoutof a callback; you want to get your data-needing actionintothe callback!2This is true in the example above.2. Plain JavaScript and a callback functionLuckily, it is possible to write codeafterthe asynchronous call that deals with the response once it has completed.One alternative is the use of acallbackfunction in acontinuation-passing style:3const url = \'https://jsonplaceholder.typicode.com/todos/2\';\n\nfunction asynchronousFunc(callback) {\n  const request = new XMLHttpRequest();\n  request.open(\'GET\', url);\n  request.send();\n  request.onload = function () {\n    if (request.readyState === request.DONE) {\n      console.log(\'The request is done. Now calling back.\');\n      callback(request.responseText);\n    }\n  };\n}\n\nasynchronousFunc(function (result) {\n  console.log(\'This is the start of the callback function. Result:\');\n  console.log(result);\n  console.log(\'The callback function finishes on this line. THE END!\');\n});\n\nconsole.log(\'LAST in the code, but executed FIRST!\');.as-console-wrapper { max-height: 100% !important; top: 0; }Note how the functionasynchronousFuncisvoid. It returns nothing.asynchronousFuncis called with an anonymous callback function,(asynchronousFunc(function (result) {...});).This executes the desired actions on the resultafterthe request has completed – when theresponseTextis available.Running the above snippet shows how I will probably not want to write any codeafterthe asynchronous call (such as the lineLAST in the code, but executed FIRST!).Why?– Because such code will runbeforethe asynchronous call delivers any response data.Doing so is bound to cause confusion when comparing thecodewith theoutput.3. Promise with.then()The.then()construct was introduced in theECMA-262 6th Edition in June 2015.The code below is plain JavaScript, replacing the old-schoolXMLHttpRequestwithFetch.4fetch(\'https://api.chucknorris.io/jokes/random\')\n  .then((response) => response.json())\n  .then((responseBody) => {\n    console.log(\'Using .then() :\');\n    console.log(responseBody.value + \'\\n\');\n  });.as-console-wrapper { max-height: 100% !important; top: 0; }4. Promise withasync/awaitTheasync/awaitconstruct was introduced in theECMA-262 8th Edition in June 2017.async function awaitAndReceivePromise() {\n  const responseBody = (\n    await fetch(\'https://api.quotable.io/quotes/random\')\n  ).json();\n  console.log(\'Using async/await:\');\n  const obj = (await responseBody)[0];\n  console.log(\'""\' + obj.content + \'"" – \' + obj.author + \'\\n\');\n}\n\nawaitAndReceivePromise();.as-console-wrapper { max-height: 100% !important; top: 0; }A word of warning is warranted if you decide to go with theasync/awaitconstruct.\nNote in the above snippet howawaitis needed intwoplaces.If forgotten in the first place, there will be no output at all.\nIf forgotten in the second place, the only output will beUsing async/await:– nothing else gets printed.Forgetting theasyncprefix of the function is maybe the worst of all – you\'ll get a""SyntaxError""– and likelyno hint about the missingasynckeyword.All the above examples succinctly convey how asynchronous calls may be used on toyish APIs.5ReferencesSome questions and answers about asynchronous callsUsing plain JavaScript and a callback functionContinuation-passing styleXMLHttpRequest at mdn web docsXMLHttpRequest: onload vs. onreadystatechangeXMLHttpRequest.responseTextAn example demonstratingasync/awaitUsing the Fetch APIUsing promisesThe XMLHttpRequest StandardThe Fetch StandardThe Web Hypertext Application Technology Working Group (WHATWG)Links to ECMA specificationsHow can I fetch an array of URLs with Promise.all?1Expressed by the asker of the question asthey all returnundefined.2Here is more on howasynchronous calls may be confusing at first.3Like theXinAJAX, the nameXMLHttpRequestis misleading –it can be used to retrieve any type of data, not just XML.These days, the data format of Web APIs is ubiquitously JSON, not XML.4Fetchreturns aPromise.\nI was surprised to learn that neitherXMLHttpRequestnorFetchare part of theECMAScriptstandard.\nThe reason JavaScript can access them here is that the web browser provides them.The Fetch Standardandthe XMLHttpRequest Standardare both upheld bythe Web Hypertext Application Technology Working Groupwhich was formed in June 2004. \\5You might also be interested inHow can I fetch an array of URLs with Promise.all?.ShareImprove this answerFolloweditedOct 31, 2023 at 12:07answeredMay 22, 2021 at 10:24Henke - Нава́льный П с мHenke - Нава́льный П с м5,40755 gold badges3838 silver badges4848 bronze badges\n\nECMAScript 6 has \'generators\' which allow you to easily program in an asynchronous style.function* myGenerator() {\n    const callback = yield;\n    let [response] = yield $.ajax(""https://stackoverflow.com"", {complete: callback});\n    console.log(""response is:"", response);\n\n    // examples of other things you can do\n    yield setTimeout(callback, 1000);\n    console.log(""it delayed for 1000ms"");\n    while (response.statusText === ""error"") {\n        [response] = yield* anotherGenerator();\n    }\n}To run the above code you do this:const gen = myGenerator(); // Create generator\ngen.next(); // Start it\ngen.next((...args) => gen.next([...args])); // Set its callback functionIf you need to target browsers that don\'t support ES6 you can run the code through Babel or closure-compiler to generate ECMAScript 5.The callback...argsare wrapped in an array and destructured when you read them so that the pattern can cope with callbacks that have multiple arguments. For example withnode fs:const [err, data] = yield fs.readFile(filePath, ""utf-8"", callback);ShareImprove this answerFolloweditedJul 31, 2018 at 10:35answeredFeb 17, 2018 at 15:26JamesJames5,93422 gold badges3535 silver badges4747 bronze badges\n\nWe find ourselves in a universe which appears to progress along a dimension we call ""time"". We don\'t really understand what time is, but we have developed abstractions and vocabulary that let us reason and talk about it: ""past"", ""present"", ""future"", ""before"", ""after"".The computer systems we build--more and more--have time as an important dimension. Certain things are set up to happen in the future. Then other things need to happen after those first things eventually occur. This is the basic notion called ""asynchronicity"". In our increasingly networked world, the most common case of asynchronicity is waiting for some remote system to respond to some request.Consider an example. You call the milkman and order some milk. When it comes, you want to put it in your coffee. You can\'t put the milk in your coffee right now, because it is not here yet. You have to wait for it to come before putting it in your coffee. In other words, the following won\'t work:var milk = order_milk();\nput_in_coffee(milk);Because JavaScript has no way to know that it needs towaitfororder_milkto finish before it executesput_in_coffee. In other words, it does not know thatorder_milkisasynchronous--is something that is not going to result in milk until some future time. JavaScript, and other declarative languages execute one statement after another without waiting.The classic JavaScript approach to this problem, taking advantage of the fact that JavaScript supports functions as first-class objects which can be passed around, is to pass a function as a parameter to the asynchronous request, which it will then invoke when it has completed its task sometime in the future. That is the ""callback"" approach. It looks like this:order_milk(put_in_coffee);order_milkkicks off, orders the milk, then, when and only when it arrives, it invokesput_in_coffee.The problem with this callback approach is that it pollutes the normal semantics of a function reporting its result withreturn; instead, functions must not reports their results by calling a callback given as a parameter. Also, this approach can rapidly become unwieldy when dealing with longer sequences of events. For example, let\'s say that I want to wait for the milk to be put in the coffee, and then and only then perform a third step, namely drinking the coffee. I end up needing to write something like this:order_milk(function(milk) { put_in_coffee(milk, drink_coffee); }where I am passing toput_in_coffeeboth the milk to put in it, and also the action (drink_coffee) to execute once the milk has been put in. Such code becomes hard to write, and read, and debug.In this case, we could rewrite the code in the question as:var answer;\n$.ajax(\'/foo.json\') . done(function(response) {\n  callback(response.data);\n});\n\nfunction callback(data) {\n  console.log(data);\n}Enter promisesThis was the motivation for the notion of a ""promise"", which is a particular type of value which represents afutureorasynchronousoutcome of some sort. It can represent something that already happened, or that is going to happen in the future, or might never happen at all. Promises have a single method, namedthen, to which you pass an action to be executed when the outcome the promise represents has been realized.In the case of our milk and coffee, we designorder_milkto return a promise for the milk arriving, then specifyput_in_coffeeas athenaction, as follows:order_milk() . then(put_in_coffee)One advantage of this is that we can string these together to create sequences of future occurrences (""chaining""):order_milk() . then(put_in_coffee) . then(drink_coffee)Let\'s apply promises to your particular problem. We will wrap our request logic inside a function, which returns a promise:function get_data() {\n  return $.ajax(\'/foo.json\');\n}Actually, all we\'ve done is added areturnto the call to$.ajax. This works because jQuery\'s$.ajaxalready returns a kind of promise-like thing. (In practice, without getting into details, we would prefer to wrap this call so as for return a real promise, or use some alternative to$.ajaxthat does so.) Now, if we want to load the file and wait for it to finish and then do something, we can simply sayget_data() . then(do_something)for instance,get_data() .\n  then(function(data) { console.log(data); });When using promises, we end up passing lots of functions intothen, so it\'s often helpful to use the more compact ES6-style arrow functions:get_data() .\n  then(data => console.log(data));TheasynckeywordBut there\'s still something vaguely dissatisfying about having to write code one way if synchronous and a quite different way if asynchronous. For synchronous, we writea();\nb();but ifais asynchronous, with promises we have to writea() . then(b);Above, we said, ""JavaScript has no way to know that it needs towaitfor the first call to finish before it executes the second"". Wouldn\'t it be nice if therewassome way to tell JavaScript that? It turns out that there is--theawaitkeyword, used inside a special type of function called an ""async"" function. This feature is part of the upcoming version of ECMAScript (ES), but it is already available in transpilers such asBabelgiven the right presets. This allows us to simply writeasync function morning_routine() {\n  var milk   = await order_milk();\n  var coffee = await put_in_coffee(milk);\n  await drink(coffee);\n}In your case, you would be able to write something likeasync function foo() {\n  data = await get_data();\n  console.log(data);\n}ShareImprove this answerFolloweditedApr 9, 2021 at 13:20community wiki5 revs, 4 users 87%user663031\n\nHere are some approaches to work with asynchronous requests:Browser Promise objectQ- A promise library for JavaScriptA+ Promises.jsjQuery deferredXMLHttpRequest APIUsing callback concept - As implementation in first answerExample: jQuery deferred implementation to work with multiple requestsvar App = App || {};\n\nApp = {\n    getDataFromServer: function(){\n\n      var self = this,\n                 deferred = $.Deferred(),\n                 requests = [];\n\n      requests.push($.getJSON(\'request/ajax/url/1\'));\n      requests.push($.getJSON(\'request/ajax/url/2\'));\n\n      $.when.apply(jQuery, requests).done(function(xhrResponse) {\n        return deferred.resolve(xhrResponse.result);\n      });\n      return deferred;\n    },\n\n    init: function(){\n\n        this.getDataFromServer().done(_.bind(function(resp1, resp2) {\n\n           // Do the operations which you wanted to do when you\n           // get a response from Ajax, for example, log response.\n        }, this));\n    }\n};\nApp.init();ShareImprove this answerFolloweditedJun 20, 2020 at 9:12CommunityBot111 silver badgeansweredAug 13, 2016 at 9:36Mohan DereMohan Dere4,59711 gold badge2727 silver badges2121 bronze badges\n\nShort answer: Yourfoo()method returns immediately, while the$ajax()call executes asynchronouslyafter the function returns. The problem is then how or where to store the results retrieved by the async call once it returns.Several solutions have been given in this thread. Perhaps the easiest way is to pass an object to thefoo()method, and to store the results in a member of that object after the async call completes.function foo(result) {\n    $.ajax({\n        url: \'...\',\n        success: function(response) {\n            result.response = response;   // Store the async result\n        }\n    });\n}\n\nvar result = { response: null };   // Object to hold the async result\nfoo(result);                       // Returns before the async completesNote that the call tofoo()will still return nothing useful. However, the result of the async call will now be stored inresult.response.ShareImprove this answerFollowansweredSep 23, 2015 at 22:52David R TribbleDavid R Tribble12.1k55 gold badges4343 silver badges5454 bronze badges\n\nUse acallback()function inside thefoo()success.\nTry it in this way. It is simple and easy to understand.var lat = """";\nvar lon = """";\n\nfunction callback(data) {\n    lat = data.lat;\n    lon = data.lon;\n}\n\nfunction getLoc() {\n    var url = ""http://ip-api.com/json""\n    $.getJSON(url, function(data) {\n        callback(data);\n    });\n}\n\ngetLoc();ShareImprove this answerFolloweditedApr 9, 2021 at 13:40Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredApr 24, 2017 at 8:09Mahfuzur RahmanMahfuzur Rahman1,5272020 silver badges2424 bronze badges\n\nUsing PromiseThe most perfect answer to this question is usingPromise.function ajax(method, url, params) {\n  return new Promise(function(resolve, reject) {\n    var xhr = new XMLHttpRequest();\n    xhr.onload = function() {\n      resolve(this.responseText);\n    };\n    xhr.onerror = reject;\n    xhr.open(method, url);\n    xhr.send(params);\n  });\n}Usageajax(""GET"", ""/test"", ""acrive=1"").then(function(result) {\n    // Code depending on result\n})\n.catch(function() {\n    // An error occurred\n});But wait...!There is a problem with using promises!Why should we use our own custom Promise?I was using this solution for a while until I figured out there is an error in old browsers:Uncaught ReferenceError: Promise is not definedSo I decided to implement my own Promise class forES3 to belowJavaScript compilers if it\'s not defined. Just add this code before your main code and then safely use Promise!if(typeof Promise === ""undefined""){\n    function _typeof(obj) { ""@babel/helpers - typeof""; return \n\n    _typeof = ""function"" == typeof Symbol && ""symbol"" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && ""function"" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? ""symbol"" : typeof obj; }, _typeof(obj); }\n    function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n    function _nonIterableSpread() { throw new TypeError(""Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.""); }\n    function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === ""string"") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === ""Object"" && o.constructor) n = o.constructor.name; if (n === ""Map"" || n === ""Set"") return Array.from(o); if (n === ""Arguments"" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n    function _iterableToArray(iter) { if (typeof Symbol !== ""undefined"" && iter[Symbol.iterator] != null || iter[""@@iterator""] != null) return Array.from(iter); }\n    function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n    function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\n    function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(""Cannot call a class as a function""); } }\n    function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (""value"" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\n    function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, ""prototype"", { writable: false }); return Constructor; }\n    function _toPropertyKey(arg) { var key = _toPrimitive(arg, ""string""); return _typeof(key) === ""symbol"" ? key : String(key); }\n    function _toPrimitive(input, hint) { if (_typeof(input) !== ""object"" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || ""default""); if (_typeof(res) !== ""object"") return res; throw new TypeError(""@@toPrimitive must return a primitive value.""); } return (hint === ""string"" ? String : Number)(input); }\n    var Promise = /*#__PURE__*/function () {\n  ""use strict"";\n\n  function Promise(main) {\n    _classCallCheck(this, Promise);\n    this.main = main;\n    this.mainExecuted = false;\n    this.resolved = false;\n    this.rejected = false;\n    this.promiseChain = [];\n    this.handleError = function () {};\n    this.onResolve = this.onResolve.bind(this);\n    this.onReject = this.onReject.bind(this);\n  }\n  _createClass(Promise, [{\n    key: ""then"",\n    value: function then(handleSuccess) {\n      if (this.resolved) {\n        if (!this.rejected) {\n          this.args = handleSuccess(this.args);\n        }\n      } else {\n        this.promiseChain.push(handleSuccess);\n        this.main(this.onResolve, this.onReject);\n        this.thenExecuted = true;\n      }\n      return this;\n    }\n  }, {\n    key: ""catch"",\n    value: function _catch(handleError) {\n      this.handleError = handleError;\n      if (!this.mainExecuted) {\n        this.main(this.onResolve, this.onReject);\n        this.thenExecuted = true;\n      }\n      return this;\n    }\n  }, {\n    key: ""onResolve"",\n    value: function onResolve() {\n      var _this = this;\n      this.resolved = true;\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      this.args = args;\n      try {\n        this.promiseChain.forEach(function (nextFunction) {\n          _this.args = nextFunction.apply(void 0, _toConsumableArray(_this.args));\n        });\n      } catch (error) {\n        this.promiseChain = [];\n        this.onReject(error);\n      }\n    }\n  }, {\n    key: ""onReject"",\n    value: function onReject(error) {\n      this.rejected = true;\n      this.handleError(error);\n    }\n  }]);\n  return Promise;\n}();\n}ShareImprove this answerFolloweditedFeb 5, 2023 at 8:09answeredDec 7, 2018 at 14:10Amir ForsatiAmir Forsati5,71922 gold badges4545 silver badges5353 bronze badges\n\nUsing ES2017 you should have this as the function declaration.async function foo() {\n  var response = await $.ajax({url: \'...\'})\n  return response;\n}And executing it like this.(async function() {\n  try {\n    var result = await foo()\n    console.log(result)\n  } catch (e) {}\n})()Or the Promise syntax.foo().then(response => {\n  console.log(response)\n\n}).catch(error => {\n  console.log(error)\n\n})Stack Snippet that demonstrates the code above.// The function declaration:\nasync function foo() {\n  var response = await $.ajax({\n    url: \'https://jsonplaceholder.typicode.com/todos/1\'\n  })\n  return response;\n}\n\n// Execute it like this:\n(async function() {\n  try {\n    var result = await foo()\n    console.log(result)\n  } catch (e) {}\n})()\n\n// Or use Promise syntax:\nfoo().then(response => {\n  console.log(response)\n}).catch(error => {\n  console.log(error)\n}).as-console-wrapper { max-height: 100% !important; top: 0; }<script src=\n""https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js""></script>ShareImprove this answerFolloweditedMay 11, 2021 at 11:52Henke - Нава́льный П с м5,40755 gold badges3838 silver badges4848 bronze badgesansweredJan 24, 2018 at 6:18Fernando CarvajalFernando Carvajal1,9352121 silver badges1919 bronze badges\n\nOf course there are many approaches like synchronous request, promise, but from my experience I think you should use the callback approach. It\'s natural to asynchronous behavior of JavaScript.So, your code snippet can be rewritten to be a little different:function foo() {\n    var result;\n\n    $.ajax({\n        url: \'...\',\n        success: function(response) {\n            myCallback(response);\n        }\n    });\n\n    return result;\n}\n\nfunction myCallback(response) {\n    // Does something.\n}ShareImprove this answerFolloweditedApr 9, 2021 at 13:53Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJul 5, 2017 at 20:28Khoa BuiKhoa Bui75311 gold badge88 silver badges1515 bronze badges\n\nThe question was:How do I return the response from an asynchronous call?whichcanbe interpreted as:How to makeasynchronouscode looksynchronous?The solution will be to avoid callbacks, and use a combination ofPromisesandasync/await.I would like to give an example for an Ajax request.(Although it can be written in JavaScript, I prefer to write it in Python, and compile it to JavaScript usingTranscrypt. It will be clear enough.)Let’s first enable jQuery usage, to have$available asS:__pragma__ (\'alias\', \'S\', \'$\')Define a function which returns aPromise, in this case an Ajax call:def read(url: str):\n    deferred = S.Deferred()\n    S.ajax({\'type\': ""POST"", \'url\': url, \'data\': { },\n        \'success\': lambda d: deferred.resolve(d),\n        \'error\': lambda e: deferred.reject(e)\n    })\n    return deferred.promise()Use theasynchronouscode as if it weresynchronous:async def readALot():\n    try:\n        result1 = await read(""url_1"")\n        result2 = await read(""url_2"")\n    except Exception:\n        console.warn(""Reading a lot failed"")ShareImprove this answerFolloweditedApr 9, 2021 at 14:09Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJan 13, 2018 at 19:13Pieter Jan BonestrooPieter Jan Bonestroo64311 gold badge66 silver badges1010 bronze badges'}","{'title': 'How do I create a directory, and any missing parent directories?', 'question': 'How do I create a directory at a given path, and also create any missing parent directories along that path? For example, the Bash commandmkdir -p /path/to/nested/directorydoes this.pythonexceptionpathdirectoryoperating-systemShareImprove this questionFolloweditedApr 24, 2023 at 6:59Mateen Ulhaq26.6k2020 gold badges115115 silver badges147147 bronze badgesaskedNov 7, 2008 at 18:56ParandParand105k4949 gold badges153153 silver badges188188 bronze badges', 'answers': 'On Python ≥ 3.5, usepathlib.Path.mkdir:from pathlib import Path\nPath(""/my/directory"").mkdir(parents=True, exist_ok=True)For older versions of Python, I see two answers with good qualities, each with a small flaw, so I will give my take on it:Tryos.path.exists, and consideros.makedirsfor the creation.import os\nif not os.path.exists(directory):\n    os.makedirs(directory)As noted in comments and elsewhere, there\'s a race condition – if the directory is created between theos.path.existsand theos.makedirscalls, theos.makedirswill fail with anOSError. Unfortunately, blanket-catchingOSErrorand continuing is not foolproof, as it will ignore a failure to create the directory due to other factors, such as insufficient permissions, full disk, etc.One option would be to trap theOSErrorand examine the embedded error code (seeIs there a cross-platform way of getting information from Python’s OSError):import os, errno\n\ntry:\n    os.makedirs(directory)\nexcept OSError as e:\n    if e.errno != errno.EEXIST:\n        raiseAlternatively, there could be a secondos.path.exists, but suppose another created the directory after the first check, then removed it before the second one – we could still be fooled.Depending on the application, the danger of concurrent operations may be more or less than the danger posed by other factors such as file permissions. The developer would have to know more about the particular application being developed and its expected environment before choosing an implementation.Modern versions of Python improve this code quite a bit, both by exposingFileExistsError(in 3.3+)...try:\n    os.makedirs(""path/to/directory"")\nexcept FileExistsError:\n    # directory already exists\n    pass...and by allowinga keyword argument toos.makedirscalledexist_ok(in 3.2+).os.makedirs(""path/to/directory"", exist_ok=True)  # succeeds even if directory exists.ShareImprove this answerFolloweditedDec 30, 2019 at 9:23user3064538answeredNov 7, 2008 at 19:06Blair ConradBlair Conrad239k2525 gold badges135135 silver badges112112 bronze badges\n\nPython 3.5+:import pathlib\npathlib.Path(\'/my/directory\').mkdir(parents=True, exist_ok=True)pathlib.Path.mkdiras used above recursively creates the directory and does not raise an exception if the directory already exists. If you don\'t need or want the parents to be created, skip theparentsargument.Python 3.2+:Usingpathlib:If you can, install the currentpathlibbackport namedpathlib2. Do not install the older unmaintained backport namedpathlib. Next, refer to the Python 3.5+ section above and use it the same.If using Python 3.4, even though it comes withpathlib, it is missing the usefulexist_okoption. The backport is intended to offer a newer and superior implementation ofmkdirwhich includes this missing option.Usingos:import os\nos.makedirs(path, exist_ok=True)os.makedirsas used above recursively creates the directory and does not raise an exception if the directory already exists. It has the optionalexist_okargument only if using Python 3.2+, with a default value ofFalse. This argument does not exist in Python 2.x up to 2.7. As such, there is no need for manual exception handling as with Python 2.7.Python 2.7+:Usingpathlib:If you can, install the currentpathlibbackport namedpathlib2. Do not install the older unmaintained backport namedpathlib. Next, refer to the Python 3.5+ section above and use it the same.Usingos:import os\ntry: \n    os.makedirs(path)\nexcept OSError:\n    if not os.path.isdir(path):\n        raiseWhile a naive solution may first useos.path.isdirfollowed byos.makedirs, the solution above reverses the order of the two operations. In doing so, it prevents a common race condition having to do with a duplicated attempt at creating the directory, and also disambiguates files from directories.Note that capturing the exception and usingerrnois of limited usefulness becauseOSError: [Errno 17] File exists, i.e.errno.EEXIST, is raised for both files and directories. It is more reliable simply to check if the directory exists.Alternative:mkpathcreates the nested directory, and does nothing if the directory already exists. This works in both Python 2 and 3. Note however thatdistutilshas been deprecated, and is scheduled for removal in Python 3.12.import distutils.dir_util\ndistutils.dir_util.mkpath(path)PerBug 10948, a severe limitation of this alternative is that it works only once per python process for a given path. In other words, if you use it to create a directory, then delete the directory from inside or outside Python, then usemkpathagain to recreate the same directory,mkpathwill simply silently use its invalid cached info of having previously created the directory, and will not actually make the directory again. In contrast,os.makedirsdoesn\'t rely on any such cache. This limitation may be okay for some applications.With regard to the directory\'smode, please refer to the documentation if you care about it.ShareImprove this answerFolloweditedFeb 9, 2023 at 4:14answeredJan 16, 2013 at 17:31AsclepiusAsclepius61.4k1818 gold badges180180 silver badges153153 bronze badges\n\nUsing try except and the right error code from errno module gets rid of the race condition and is cross-platform:import os\nimport errno\n\ndef make_sure_path_exists(path):\n    try:\n        os.makedirs(path)\n    except OSError as exception:\n        if exception.errno != errno.EEXIST:\n            raiseIn other words, we try to create the directories, but if they already exist we ignore the error. On the other hand, any other error gets reported. For example, if you create dir \'a\' beforehand and remove all permissions from it, you will get anOSErrorraised witherrno.EACCES(Permission denied, error 13).ShareImprove this answerFolloweditedApr 24, 2017 at 1:55vallentin25.6k66 gold badges6363 silver badges8686 bronze badgesansweredFeb 17, 2011 at 17:17Heikki ToivonenHeikki Toivonen31.1k1111 gold badges4444 silver badges4444 bronze badges\n\nStarting from Python 3.5,pathlib.Path.mkdirhas anexist_okflag:from pathlib import Path\npath = Path(\'/my/directory/filename.txt\')\npath.parent.mkdir(parents=True, exist_ok=True) \n# path.parent ~ os.path.dirname(path)This recursively creates the directory and does not raise an exception if the directory already exists.(just asos.makedirsgot anexist_okflag starting from python 3.2 e.gos.makedirs(path, exist_ok=True))Note: when i posted this answer none of the other answers mentionedexist_ok...ShareImprove this answerFolloweditedOct 28, 2020 at 6:13answeredDec 14, 2016 at 16:06hiro protagonisthiro protagonist46.2k1616 gold badges9191 silver badges116116 bronze badges\n\nI would personally recommend that you useos.path.isdir()to test instead ofos.path.exists().>>> os.path.exists(\'/tmp/dirname\')\nTrue\n>>> os.path.exists(\'/tmp/dirname/filename.etc\')\nTrue\n>>> os.path.isdir(\'/tmp/dirname/filename.etc\')\nFalse\n>>> os.path.isdir(\'/tmp/fakedirname\')\nFalseIf you have:>>> directory = raw_input("":: "")And a foolish user input::: /tmp/dirname/filename.etc... You\'re going to end up with a directory namedfilename.etcwhen you pass that argument toos.makedirs()if you test withos.path.exists().ShareImprove this answerFolloweditedOct 6, 2022 at 8:56matszwecja7,63422 gold badges1212 silver badges1919 bronze badgesansweredJan 14, 2009 at 17:57crimsonstonecrimsonstone\n\nCheckos.makedirs:  (It makes sure the complete path exists.)To handle the fact the directory might exist, catchOSError.\n(Ifexist_okisFalse(the default), anOSErroris raised if the target directory already exists.)import os\ntry:\n    os.makedirs(\'./path/to/somewhere\')\nexcept OSError:\n    passShareImprove this answerFolloweditedMay 16, 2019 at 12:15Georgy13.4k77 gold badges6666 silver badges7575 bronze badgesansweredNov 7, 2008 at 19:01Douglas MayleDouglas Mayle21.5k99 gold badges4343 silver badges5757 bronze badges\n\nTry theos.path.existsfunctionif not os.path.exists(dir):\n    os.mkdir(dir)ShareImprove this answerFolloweditedOct 15, 2015 at 16:05jesterjunk2,4022323 silver badges1818 bronze badgesansweredNov 7, 2008 at 19:00gonegone4,43222 gold badges2525 silver badges3030 bronze badges\n\nInsights on the specifics of this situationYou give a particular file at a certain path and you pull the directory from the file path. Then after making sure you have the directory, you attempt to open a file for reading. To comment on this code:filename = ""/my/directory/filename.txt""\ndir = os.path.dirname(filename)We want to avoid overwriting the builtin function,dir. Also,filepathor perhapsfullfilepathis probably a better semantic name thanfilenameso this would be better written:import os\nfilepath = \'/my/directory/filename.txt\'\ndirectory = os.path.dirname(filepath)Your end goal is to open this file, you initially state, for writing, but you\'re essentially approaching this goal (based on your code) like this, which opens the file forreading:if not os.path.exists(directory):\n    os.makedirs(directory)\nf = file(filename)Assuming opening for readingWhy would you make a directory for a file that you expect to be there and be able to read?Just attempt to open the file.with open(filepath) as my_file:\n    do_stuff(my_file)If the directory or file isn\'t there, you\'ll get anIOErrorwith an associated error number:errno.ENOENTwill point to the correct error number regardless of your platform. You can catch it if you want, for example:import errno\ntry:\n    with open(filepath) as my_file:\n        do_stuff(my_file)\nexcept IOError as error:\n    if error.errno == errno.ENOENT:\n        print \'ignoring error because directory or file is not there\'\n    else:\n        raiseAssuming we\'re opening for writingThis isprobablywhat you\'re wanting.In this case, we probably aren\'t facing any race conditions. So just do as you were, but note that for writing, you need to open with thewmode (orato append). It\'s also a Python best practice to use the context manager for opening files.import os\nif not os.path.exists(directory):\n    os.makedirs(directory)\nwith open(filepath, \'w\') as my_file:\n    do_stuff(my_file)However, say we have several Python processes that attempt to put all their data into the same directory. Then we may have contention over creation of the directory. In that case it\'s best to wrap themakedirscall in a try-except block.import os\nimport errno\nif not os.path.exists(directory):\n    try:\n        os.makedirs(directory)\n    except OSError as error:\n        if error.errno != errno.EEXIST:\n            raise\nwith open(filepath, \'w\') as my_file:\n    do_stuff(my_file)ShareImprove this answerFolloweditedApr 25, 2023 at 2:18Ryan M♦19.7k3333 gold badges7272 silver badges7979 bronze badgesansweredJan 22, 2015 at 23:49Aaron Hall♦Aaron Hall388k9191 gold badges409409 silver badges336336 bronze badges\n\nI have put the following down. It\'s not totally foolproof though.import os\n\ndirname = \'create/me\'\n\ntry:\n    os.makedirs(dirname)\nexcept OSError:\n    if os.path.exists(dirname):\n        # We are nearly safe\n        pass\n    else:\n        # There was an error on creation, so make sure we know about it\n        raiseNow as I say, this is not really foolproof, because we have the possiblity of failing to create the directory, and another process creating it during that period.ShareImprove this answerFolloweditedMay 31, 2014 at 14:05Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredNov 7, 2008 at 21:23Ali AfsharAli Afshar41.4k1212 gold badges9696 silver badges109109 bronze badges\n\nCheck if a directory exists and create it if necessary?The direct answer to this is, assuming a simple situation where you don\'t expect other users or processes to be messing with your directory:if not os.path.exists(d):\n    os.makedirs(d)orif making the directory is subject to race conditions (i.e. if after checking the path exists, something else may have already made it) do this:import errno\ntry:\n    os.makedirs(d)\nexcept OSError as exception:\n    if exception.errno != errno.EEXIST:\n        raiseBut perhaps an even better approach is to sidestep the resource contention issue, by using temporary directories viatempfile:import tempfile\n\nd = tempfile.mkdtemp()Here\'s the essentials from the online doc:mkdtemp(suffix=\'\', prefix=\'tmp\', dir=None)\n    User-callable function to create and return a unique temporary\n    directory.  The return value is the pathname of the directory.\n\n    The directory is readable, writable, and searchable only by the\n    creating user.\n\n    Caller is responsible for deleting the directory when done with it.New in Python 3.5:pathlib.Pathwithexist_okThere\'s a newPathobject (as of 3.4) with lots of methods one would want to use with paths - one of which ismkdir.(For context, I\'m tracking my weekly rep with a script. Here\'s the relevant parts of code from the script that allow me to avoid hitting Stack Overflow more than once a day for the same data.)First the relevant imports:from pathlib import Path\nimport tempfileWe don\'t have to deal withos.path.joinnow - just join path parts with a/:directory = Path(tempfile.gettempdir()) / \'sodata\'Then I idempotently ensure the directory exists - theexist_okargument shows up in Python 3.5:directory.mkdir(exist_ok=True)Here\'s the relevant part of thedocumentation:Ifexist_okis true,FileExistsErrorexceptions will be ignored (same behavior as thePOSIX mkdir -pcommand), but only if the last path component is not an existing non-directory file.Here\'s a little more of the script - in my case, I\'m not subject to a race condition, I only have one process that expects the directory (or contained files) to be there, and I don\'t have anything trying to remove the directory.todays_file = directory / str(datetime.datetime.utcnow().date())\nif todays_file.exists():\n    logger.info(""todays_file exists: "" + str(todays_file))\n    df = pd.read_json(str(todays_file))Pathobjects have to be coerced tostrbefore other APIs that expectstrpaths can use them.Perhaps Pandas should be updated to accept instances of the abstract base class,os.PathLike.ShareImprove this answerFolloweditedJul 7, 2017 at 3:19answeredJan 22, 2015 at 23:45Aaron Hall♦Aaron Hall388k9191 gold badges409409 silver badges336336 bronze badges\n\nfastest safest way to do it is:\nit will create if not exists and skip if exists:from pathlib import Path\nPath(""path/with/childs/.../"").mkdir(parents=True, exist_ok=True)ShareImprove this answerFollowansweredMar 14, 2022 at 10:12SimoneSimone86388 silver badges2121 bronze badges\n\nimport os\ndirectory = ""./out_dir/subdir1/subdir2""\nif not os.path.exists(directory):\n    os.makedirs(directory)ShareImprove this answerFolloweditedApr 25, 2023 at 2:17Ryan M♦19.7k3333 gold badges7272 silver badges7979 bronze badgesansweredFeb 8, 2022 at 6:11DevilDevil1,13411 gold badge1313 silver badges2020 bronze badges\n\nIn Python 3.4 you can also use thebrand newpathlibmodule:from pathlib import Path\npath = Path(""/my/directory/filename.txt"")\ntry:\n    if not path.parent.exists():\n        path.parent.mkdir(parents=True)\nexcept OSError:\n    # handle error; you can also catch specific errors like\n    # FileExistsError and so on.ShareImprove this answerFollowansweredMar 11, 2015 at 20:50Antti Haapala -- Слава УкраїніAntti Haapala -- Слава Україні133k2222 gold badges286286 silver badges339339 bronze badges\n\nInPython3,os.makedirssupports settingexist_ok. The default setting isFalse, which means anOSErrorwill be raised if the target directory already exists. By settingexist_oktoTrue,OSError(directory exists) will be ignored and the directory will not be created.os.makedirs(path,exist_ok=True)InPython2,os.makedirsdoesn\'t support settingexist_ok. You can use the approach inheikki-toivonen\'s answer:import os\nimport errno\n\ndef make_sure_path_exists(path):\n    try:\n        os.makedirs(path)\n    except OSError as exception:\n        if exception.errno != errno.EEXIST:\n            raiseShareImprove this answerFolloweditedMay 23, 2017 at 12:26CommunityBot111 silver badgeansweredJan 3, 2017 at 22:33euccaseuccas74599 silver badges1313 bronze badges\n\nFor a one-liner solution, you can useIPython.utils.path.ensure_dir_exists():from IPython.utils.path import ensure_dir_exists\nensure_dir_exists(dir)From thedocumentation:Ensure that a directory exists. If it doesn’t exist, try to create it and protect against a race condition if another process is doing the same.IPython is an extension package, not part of the standard library.ShareImprove this answerFolloweditedJul 28, 2021 at 13:01Lutz Prechelt38.3k1111 gold badges6666 silver badges8989 bronze badgesansweredMar 29, 2016 at 15:50tashuhkatashuhka5,08644 gold badges4949 silver badges6767 bronze badges\n\nTherelevant Python documentationsuggests the use of theEAFP coding style (Easier to Ask for Forgiveness than Permission). This means that the codetry:\n    os.makedirs(path)\nexcept OSError as exception:\n    if exception.errno != errno.EEXIST:\n        raise\n    else:\n        print ""\\nBE CAREFUL! Directory %s already exists."" % pathis better than the alternativeif not os.path.exists(path):\n    os.makedirs(path)\nelse:\n    print ""\\nBE CAREFUL! Directory %s already exists."" % pathThe documentation suggests this exactly because of the race condition discussed in this question. In addition, as others mention here, there is a performance advantage in querying once instead of twice the OS. Finally, the argument placed forward, potentially, in favour of the second code in some cases --when the developer knows the environment the application is running-- can only be advocated in the special case that the program has set up a private environment for itself (and other instances of the same program).Even in that case, this is a bad practice and can lead to long useless debugging. For example, the fact we set the permissions for a directory should not leave us with the impression permissions are set appropriately for our purposes. A parent directory could be mounted with other permissions. In general, a program should always work correctly and the programmer should not expect one specific environment.ShareImprove this answerFolloweditedDec 31, 2017 at 3:12Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJul 14, 2014 at 15:29kavadiaskavadias1,1221010 silver badges1515 bronze badges\n\nYou can pass the exist_ok=True parameter to the os.makedirs() function to suppress the error in case the directory already exists:import os\n\n# Create directory /path/to/nested/directory if it doesn\'t already exist\nos.makedirs(\'/path/to/nested/directory\', exist_ok=True)ShareImprove this answerFollowansweredApr 30, 2023 at 16:59SyntaxNavigatorSyntaxNavigator49444 silver badges1313 bronze badges\n\nI found this Q/A after I was puzzled by some of the failures and errors I was getting while working with directories in Python. I am working in Python 3 (v.3.5 in an Anaconda virtual environment on an Arch Linux x86_64 system).Consider this directory structure:└── output/         ## dir\n   ├── corpus       ## file\n   ├── corpus2/     ## dir\n   └── subdir/      ## dirHere are my experiments/notes, which provides clarification:# ----------------------------------------------------------------------------\n# [1] https://stackoverflow.com/questions/273192/how-can-i-create-a-directory-if-it-does-not-exist\n\nimport pathlib\n\n"""""" Notes:\n        1.  Include a trailing slash at the end of the directory path\n            (""Method 1,"" below).\n        2.  If a subdirectory in your intended path matches an existing file\n            with same name, you will get the following error:\n            ""NotADirectoryError: [Errno 20] Not a directory:"" ...\n""""""\n# Uncomment and try each of these ""out_dir"" paths, singly:\n\n# ----------------------------------------------------------------------------\n# METHOD 1:\n# Re-running does not overwrite existing directories and files; no errors.\n\n# out_dir = \'output/corpus3\'                ## no error but no dir created (missing tailing /)\n# out_dir = \'output/corpus3/\'               ## works\n# out_dir = \'output/corpus3/doc1\'           ## no error but no dir created (missing tailing /)\n# out_dir = \'output/corpus3/doc1/\'          ## works\n# out_dir = \'output/corpus3/doc1/doc.txt\'   ## no error but no file created (os.makedirs creates dir, not files!  ;-)\n# out_dir = \'output/corpus2/tfidf/\'         ## fails with ""Errno 20"" (existing file named ""corpus2"")\n# out_dir = \'output/corpus3/tfidf/\'         ## works\n# out_dir = \'output/corpus3/a/b/c/d/\'       ## works\n\n# [2] https://docs.python.org/3/library/os.html#os.makedirs\n\n# Uncomment these to run ""Method 1"":\n\n#directory = os.path.dirname(out_dir)\n#os.makedirs(directory, mode=0o777, exist_ok=True)\n\n# ----------------------------------------------------------------------------\n# METHOD 2:\n# Re-running does not overwrite existing directories and files; no errors.\n\n# out_dir = \'output/corpus3\'                ## works\n# out_dir = \'output/corpus3/\'               ## works\n# out_dir = \'output/corpus3/doc1\'           ## works\n# out_dir = \'output/corpus3/doc1/\'          ## works\n# out_dir = \'output/corpus3/doc1/doc.txt\'   ## no error but creates a .../doc.txt./ dir\n# out_dir = \'output/corpus2/tfidf/\'         ## fails with ""Errno 20"" (existing file named ""corpus2"")\n# out_dir = \'output/corpus3/tfidf/\'         ## works\n# out_dir = \'output/corpus3/a/b/c/d/\'       ## works\n\n# Uncomment these to run ""Method 2"":\n\n#import os, errno\n#try:\n#       os.makedirs(out_dir)\n#except OSError as e:\n#       if e.errno != errno.EEXIST:\n#               raise\n# ----------------------------------------------------------------------------Conclusion: in my opinion, ""Method 2"" is more robust.[1]How can I safely create a nested directory?[2]https://docs.python.org/3/library/os.html#os.makedirsShareImprove this answerFolloweditedJan 15, 2022 at 17:00answeredDec 16, 2017 at 4:16Victoria StuartVictoria Stuart4,97022 gold badges4646 silver badges4040 bronze badges\n\nYou can usemkpath# Create a directory and any missing ancestor directories. \n# If the directory already exists, do nothing.\n\nfrom distutils.dir_util import mkpath\nmkpath(""test"")Note that it will create the ancestor directories as well.It works for Python 2 and 3.ShareImprove this answerFollowansweredSep 13, 2016 at 21:44Dennis GolomazovDennis Golomazov17k55 gold badges7777 silver badges8585 bronze badges\n\nIn case you\'re writing a file to a variable path, you can use this on the file\'s path to make sure that the parent directories are created.from pathlib import Path\n\npath_to_file = Path(""zero/or/more/directories/file.ext"")\nparent_directory_of_file = path_to_file.parent\nparent_directory_of_file.mkdir(parents=True, exist_ok=True)Works even ifpath_to_fileisfile.ext(zero directories deep).Seepathlib.PurePath.parentandpathlib.Path.mkdir.ShareImprove this answerFollowansweredAug 17, 2021 at 17:24Dominykas MostauskisDominykas Mostauskis8,05544 gold badges4949 silver badges6868 bronze badges\n\nWhy not use subprocess module if running on a machine that supports commandmkdirwith-poption ? \nWorks on python 2.7 and python 3.6from subprocess import call\ncall([\'mkdir\', \'-p\', \'path1/path2/path3\'])Should do the trick on most systems.In situations where portability doesn\'t matter (ex, using docker) the solution is a clean 2 lines. You also don\'t have to add logic to check if directories exist or not. Finally, it is safe to re-run without any side effectsIf you need error handling:from subprocess import check_call\ntry:\n    check_call([\'mkdir\', \'-p\', \'path1/path2/path3\'])\nexcept:\n    handle...ShareImprove this answerFolloweditedMay 16, 2019 at 19:37Jean-François Fabre♦139k2323 gold badges170170 silver badges232232 bronze badgesansweredSep 11, 2018 at 18:23Geoff Paul BremnerGeoff Paul Bremner31233 silver badges88 bronze badges\n\nYou have to set the full path before creating the directory:import os,sys,inspect\nimport pathlib\n\ncurrentdir = os.path.dirname(os.path.abspath(inspect.getfile(inspect.currentframe())))\nyour_folder = currentdir + ""/"" + ""your_folder""\n\nif not os.path.exists(your_folder):\n   pathlib.Path(your_folder).mkdir(parents=True, exist_ok=True)This works for me and hopefully, it will works for you as wellShareImprove this answerFolloweditedMay 19, 2019 at 0:40answeredMay 19, 2019 at 0:32Hussam KurdHussam Kurd8,90622 gold badges4343 silver badges3838 bronze badges\n\nI sawHeikki ToivonenandA-B-B\'s answers and thought of this variation.import os\nimport errno\n\ndef make_sure_path_exists(path):\n    try:\n        os.makedirs(path)\n    except OSError as exception:\n        if exception.errno != errno.EEXIST or not os.path.isdir(path):\n            raiseShareImprove this answerFolloweditedDec 31, 2017 at 3:14Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredFeb 8, 2016 at 4:08Aly NiichiAly Niichi30755 silver badges88 bronze badges\n\nI useos.path.exists(),hereis a Python 3 script that can be used to check if a directory exists, create one if it does not exist, and delete it if it does exist (if desired).It prompts users for input of the directory and can be easily modified.ShareImprove this answerFolloweditedDec 31, 2017 at 3:16Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredFeb 9, 2017 at 3:56Michael StrobelMichael Strobel36755 silver badges1616 bronze badges\n\nCall the functioncreate_dir()at the entry point of your program/project.import os\n\ndef create_dir(directory):\n    if not os.path.exists(directory):\n        print(\'Creating Directory \'+directory)\n        os.makedirs(directory)\n\ncreate_dir(\'Project directory\')ShareImprove this answerFollowansweredApr 28, 2018 at 16:00Steffi Keran Rani JSteffi Keran Rani J4,00744 gold badges3838 silver badges6060 bronze badges\n\nUse this command check and create dirif not os.path.isdir(test_img_dir):\n     os.mkdir(test_img_dir)ShareImprove this answerFolloweditedMay 16, 2019 at 19:07Jean-François Fabre♦139k2323 gold badges170170 silver badges232232 bronze badgesansweredApr 16, 2018 at 7:30Manivannan MurugavelManivannan Murugavel1,5521717 silver badges1515 bronze badges\n\nThis may not exactly answer the question. But I guess your real intention is to create a file and its parent directories, given its content all in 1 command.You can do that withfastcoreextension to pathlib:path.mk_write(data)from fastcore.utils import Path\nPath(\'/dir/to/file.txt\').mk_write(\'Hello World\')See more infastcore documentationShareImprove this answerFolloweditedOct 28, 2021 at 10:21answeredOct 22, 2020 at 3:32korakotkorakot40.1k1919 gold badges126126 silver badges148148 bronze badges'}","{'title': 'Create ArrayList from array', 'question': 'Element[] array = {new Element(1), new Element(2), new Element(3)};How do I convert the above variable of typeElement[]into a variable of typeArrayList<Element>?ArrayList<Element> arrayList = ...;javaarraysarraylisttype-conversionShareImprove this questionFolloweditedOct 9, 2023 at 7:51Mateen Ulhaq26.6k2020 gold badges115115 silver badges147147 bronze badgesaskedOct 1, 2008 at 14:38Ron TuffinRon Tuffin54.3k2424 gold badges6666 silver badges7878 bronze badges', 'answers': 'You can use the following instruction:new ArrayList<>(Arrays.asList(array));ShareImprove this answerFolloweditedOct 14, 2023 at 8:19fforfabio20322 silver badges1313 bronze badgesansweredOct 1, 2008 at 14:39TomTom56.2k33 gold badges2828 silver badges3535 bronze badges\n\nGiven:Element[] array = new Element[] { new Element(1), new Element(2), new Element(3) };The simplest answer is to do:List<Element> list = Arrays.asList(array);This will work fine.  But some caveats:The list returned from asList hasfixed size.  So, if you want to be able to add or remove elements from the returned list in your code, you\'ll need to wrap it in a newArrayList.  Otherwise you\'ll get anUnsupportedOperationException.The list returned fromasList()is backed by the original array.  If you modify the original array, the list will be modified as well.  This may be surprising.ShareImprove this answerFolloweditedNov 7, 2014 at 14:22George G7,6391212 gold badges4747 silver badges6161 bronze badgesansweredOct 1, 2008 at 15:39Alex MillerAlex Miller69.8k2525 gold badges123123 silver badges168168 bronze badges\n\n(old thread, but just 2 cents as none mention Guava or other libs and some other details)If You Can, Use GuavaIt\'s worth pointing out the Guava way, which greatly simplifies these shenanigans:UsageFor an Immutable ListUse theImmutableListclass and itsof()andcopyOf()factory methods(elements can\'t be null):List<String> il = ImmutableList.of(""string"", ""elements"");  // from varargs\nList<String> il = ImmutableList.copyOf(aStringArray);      // from arrayFor A Mutable ListUse theListsclass and itsnewArrayList()factory methods:List<String> l1 = Lists.newArrayList(anotherListOrCollection);    // from collection\nList<String> l2 = Lists.newArrayList(aStringArray);               // from array\nList<String> l3 = Lists.newArrayList(""or"", ""string"", ""elements""); // from varargsPlease also note the similar methods for other data structures in other classes, for instance inSets.Why Guava?The main attraction could be to reduce the clutter due to generics for type-safety, as the use of the Guavafactory methodsallow the types to be inferred most of the time. However, this argument holds less water since Java 7 arrived with the new diamond operator.But it\'s not the only reason (and Java 7 isn\'t everywhere yet): the shorthand syntax is also very handy, and the methods initializers, as seen above, allow to write more expressive code. You do in one Guava call what takes 2 with the current Java Collections.If You Can\'t...For an Immutable ListUse the JDK\'sArraysclass and itsasList()factory method, wrapped with aCollections.unmodifiableList():List<String> l1 = Collections.unmodifiableList(Arrays.asList(anArrayOfElements));\nList<String> l2 = Collections.unmodifiableList(Arrays.asList(""element1"", ""element2""));Note that the returned type forasList()is aListusing a concreteArrayListimplementation, butit is NOTjava.util.ArrayList. It\'s an inner type, which emulates anArrayListbut actually directly references the passed array and makes it ""write through"" (modifications are reflected in the array).It forbids modifications through some of theListAPI\'s methods by way of simply extending anAbstractList(so, adding or removing elements is unsupported), however it allows calls toset()to override elements. Thus this list isn\'t truly immutable and a call toasList()should be wrapped withCollections.unmodifiableList().See the next step if you need a mutable list.For a Mutable ListSame as above, but wrapped with an actualjava.util.ArrayList:List<String> l1  = new ArrayList<String>(Arrays.asList(array));    // Java 1.5 to 1.6\nList<String> l1b = new ArrayList<>(Arrays.asList(array));          // Java 1.7+\nList<String> l2  = new ArrayList<String>(Arrays.asList(""a"", ""b"")); // Java 1.5 to 1.6\nList<String> l2b = new ArrayList<>(Arrays.asList(""a"", ""b""));       // Java 1.7+For Educational Purposes: The Good ol\' Manual Way// for Java 1.5+\nstatic <T> List<T> arrayToList(final T[] array) {\n  final List<T> l = new ArrayList<T>(array.length);\n\n  for (final T s : array) {\n    l.add(s);\n  }\n  return (l);\n}\n\n// for Java < 1.5 (no generics, no compile-time type-safety, boo!)\nstatic List arrayToList(final Object[] array) {\n  final List l = new ArrayList(array.length);\n\n  for (int i = 0; i < array.length; i++) {\n    l.add(array[i]);\n  }\n  return (l);\n}ShareImprove this answerFolloweditedMar 28, 2022 at 21:09tagurit52555 silver badges1515 bronze badgesansweredNov 16, 2012 at 17:16haylemhaylem22.6k33 gold badges6868 silver badges9696 bronze badges\n\nSince this question is pretty old, it surprises me that nobody suggested the simplest form yet:List<Element> arraylist = Arrays.asList(new Element(1), new Element(2), new Element(3));As of Java 5,Arrays.asList()takes a varargs parameter and you don\'t have to construct the array explicitly.ShareImprove this answerFolloweditedSep 29, 2016 at 16:25Andrii Abramov10.5k1212 gold badges7979 silver badges101101 bronze badgesansweredJun 22, 2011 at 11:30Tim BütheTim Büthe63.4k1717 gold badges9494 silver badges130130 bronze badges\n\nnew ArrayList<T>(Arrays.asList(myArray));Make sure thatmyArrayis the same type asT. You\'ll get a compiler error if you try to create aList<Integer>from an array ofint, for example.ShareImprove this answerFolloweditedFeb 13, 2017 at 17:04answeredOct 1, 2008 at 14:40Bill the LizardBill the Lizard403k210210 gold badges570570 silver badges886886 bronze badges\n\nAnother way (although essentially equivalent to thenew ArrayList(Arrays.asList(array))solution performance-wise:Collections.addAll(arraylist, array);ShareImprove this answerFolloweditedApr 3, 2012 at 23:28answeredApr 3, 2012 at 23:20Peter TsengPeter Tseng13.9k55 gold badges7171 silver badges5757 bronze badges\n\nJava 9InJava 9, you can useList.ofstatic factory method in order to create aListliteral. Something like the following:List<Element> elements = List.of(new Element(1), new Element(2), new Element(3));This would return animmutablelist containing three elements. If you want amutablelist, pass that list to theArrayListconstructor:new ArrayList<>(List.of(// elements vararg))JEP 269: Convenience Factory Methods for CollectionsJEP 269provides some convenience factory methods forJava CollectionsAPI. These immutable static factory methods are built into theList,Set, andMapinterfaces in Java 9 and later.ShareImprove this answerFolloweditedJun 20, 2020 at 9:12CommunityBot111 silver badgeansweredApr 17, 2016 at 16:58Ali DehghaniAli Dehghani47.5k1616 gold badges168168 silver badges152152 bronze badges\n\nYou probably just need a List, not an ArrayList.  In that case you can just do:List<Element> arraylist = Arrays.asList(array);ShareImprove this answerFollowansweredOct 1, 2008 at 14:45KipKip109k8787 gold badges234234 silver badges265265 bronze badges\n\nAnother update, almost ending year 2014, you can do it with Java 8 too:ArrayList<Element> arrayList = Stream.of(myArray).collect(Collectors.toCollection(ArrayList::new));A few characters would be saved, if this could be just aListList<Element> list = Stream.of(myArray).collect(Collectors.toList());ShareImprove this answerFollowansweredNov 25, 2014 at 20:48yamilmedinayamilmedina3,33522 gold badges2020 silver badges2828 bronze badges\n\nIf you use :new ArrayList<T>(Arrays.asList(myArray));youmaycreateand filltwo lists ! Filling twice a big list is exactly what you don\'t want to do because it will create anotherObject[]array each time the capacity needs to be extended.Fortunately the JDK implementation is fast andArrays.asList(a[])is very well done. It create a kind of ArrayList named Arrays.ArrayList where the Object[] data points directly to the array.// in Arrays\n@SafeVarargs\npublic static <T> List<T> asList(T... a) {\n    return new ArrayList<>(a);\n}\n//still in Arrays, creating a private unseen class\nprivate static class ArrayList<E>\n\n    private final E[] a;    \n    ArrayList(E[] array) {\n        a = array; // you point to the previous array\n    }\n    ....\n}The dangerous side is thatif you change the initial array, you change the List !Are you sure you want that ? Maybe yes, maybe not.If not, the most understandable way is to do this :ArrayList<Element> list = new ArrayList<Element>(myArray.length); // you know the initial capacity\nfor (Element element : myArray) {\n    list.add(element);\n}Or as said @glglgl, you can create another independant ArrayList with :new ArrayList<T>(Arrays.asList(myArray));I love to useCollections,Arrays, or Guava. But if it don\'t fit, or you don\'t feel it, just write another inelegant line instead.ShareImprove this answerFolloweditedJun 29, 2016 at 19:22answeredJan 18, 2014 at 13:01Nicolas ZozolNicolas Zozol6,94844 gold badges5252 silver badges7474 bronze badges\n\nInJava 9you can use:List<String> list = List.of(""Hello"", ""World"", ""from"", ""Java"");\nList<Integer> list = List.of(1, 2, 3, 4, 5);ShareImprove this answerFolloweditedAug 12, 2017 at 11:22Vishal Yadav3,66233 gold badges2626 silver badges4242 bronze badgesansweredApr 11, 2017 at 12:20MarekMMarekM1,4561717 silver badges1414 bronze badges\n\nAccording with the question the answer using java 1.7 is:ArrayList<Element> arraylist = new ArrayList<Element>(Arrays.<Element>asList(array));However it\'s better always use the interface:List<Element> arraylist = Arrays.<Element>asList(array);ShareImprove this answerFollowansweredMay 17, 2015 at 22:07nekperu15739nekperu157393,55822 gold badges2828 silver badges2727 bronze badges\n\n// Guava\nimport com.google.common.collect.ListsLists\n...\nList<String> list = Lists.newArrayList(aStringArray);ShareImprove this answerFollowansweredJan 7, 2014 at 6:04BohdanBohdan17k1616 gold badges7474 silver badges7070 bronze badges\n\nSince Java 8 there is an easier way to transform:import java.util.List;    \nimport static java.util.stream.Collectors.toList;\n\npublic static <T> List<T> fromArray(T[] array) {\n    return Arrays.stream(array).collect(toList());\n}ShareImprove this answerFolloweditedJun 16, 2020 at 8:17answeredDec 23, 2016 at 12:31Andrii AbramovAndrii Abramov10.5k1212 gold badges7979 silver badges101101 bronze badges\n\nYou can convert using different methodsList<Element> list = Arrays.asList(array);List<Element> list = new ArrayList();Collections.addAll(list, array);Arraylist list = new Arraylist();list.addAll(Arrays.asList(array));For more detail you can refer tohttp://javarevisited.blogspot.in/2011/06/converting-array-to-arraylist-in-java.htmlShareImprove this answerFolloweditedJun 18, 2016 at 16:30Draken3,1591414 gold badges3636 silver badges5555 bronze badgesansweredMay 2, 2016 at 8:40js_248js_2482,08244 gold badges2929 silver badges3838 bronze badges\n\nas all said this will do sonew ArrayList<>(Arrays.asList(""1"",""2"",""3"",""4""));and the common newest way to create array isobservableArraysObservableList:A list that allows listeners to track changes when they occur.for Java SE you can tryFXCollections.observableArrayList(new Element(1), new Element(2), new Element(3));that is according toOracle DocsobservableArrayList()\nCreates a new empty observable list that is backed by an arraylist.\nobservableArrayList(E... items)\nCreates a new observable array list with items added to it.Update Java 9also in Java 9 it\'s a little bit easy:List<String> list = List.of(""element 1"", ""element 2"", ""element 3"");ShareImprove this answerFolloweditedNov 20, 2023 at 14:57Benjamin Loison5,47244 gold badges1818 silver badges3737 bronze badgesansweredJan 5, 2017 at 18:32jemystackjemystack42077 silver badges1313 bronze badges\n\nYou also can do it with stream in Java 8.List<Element> elements = Arrays.stream(array).collect(Collectors.toList());ShareImprove this answerFolloweditedNov 20, 2023 at 14:57Benjamin Loison5,47244 gold badges1818 silver badges3737 bronze badgesansweredFeb 6, 2016 at 8:56VasephVaseph71211 gold badge99 silver badges2020 bronze badges\n\nIf we see the definition ofArrays.asList()method you will get something like this:public static <T> List<T> asList(T... a) //varargs are of T type.So, you might initializearraylistlike this:List<Element> arraylist = Arrays.asList(new Element(1), new Element(2), new Element(3));Note: eachnew Element(int args)will be treated as Individual Object and can be passed as avar-args.There might be another answer for this question too.If you see declaration forjava.util.Collections.addAll()method you will get something like this:public static <T> boolean addAll(Collection<? super T> c, T... a);So, this code is also useful to do soCollections.addAll(arraylist, array);ShareImprove this answerFolloweditedMar 13, 2020 at 8:51Andrii Abramov10.5k1212 gold badges7979 silver badges101101 bronze badgesansweredMar 30, 2016 at 6:48Vikrant KashyapVikrant Kashyap6,69633 gold badges3333 silver badges5353 bronze badges\n\nIf the array is of a primitive type, the given answers won\'t work. But since Java 8 you can use:int[] array = new int[5];\nArrays.stream(array).boxed().collect(Collectors.toList());ShareImprove this answerFolloweditedJul 10, 2017 at 2:37Unheilig16.2k193193 gold badges6969 silver badges9898 bronze badgesansweredJul 10, 2017 at 2:21A1mA1m3,08722 gold badges2626 silver badges3939 bronze badges\n\nAnother simple way is to add all elements from the array to a new ArrayList using a for-each loop.ArrayList<Element> list = new ArrayList<>();\n\nfor(Element e : array)\n    list.add(e);ShareImprove this answerFollowansweredDec 16, 2015 at 20:32spencer.smspencer.sm20.1k1010 gold badges8383 silver badges9393 bronze badges\n\nWe can easily convert an array toArrayList.\nWe use Collection interface\'saddAll()method for the purpose of copying content from one list to another.Arraylist arr = new Arraylist();\narr.addAll(Arrays.asList(asset));ShareImprove this answerFolloweditedNov 20, 2023 at 14:58Benjamin Loison5,47244 gold badges1818 silver badges3737 bronze badgesansweredJul 4, 2017 at 7:22rashedcsrashedcs3,70922 gold badges4141 silver badges4343 bronze badges\n\nEven though there are many perfectly written answers to this question, I will add my inputs.Say you haveElement[] array = { new Element(1), new Element(2), new Element(3) };New ArrayList can be created in the following waysArrayList<Element> arraylist_1 = new ArrayList<>(Arrays.asList(array));\nArrayList<Element> arraylist_2 = new ArrayList<>(\n    Arrays.asList(new Element[] { new Element(1), new Element(2), new Element(3) }));\n\n// Add through a collection\nArrayList<Element> arraylist_3 = new ArrayList<>();\nCollections.addAll(arraylist_3, array);And they very well support all operations of ArrayListarraylist_1.add(new Element(4)); // or remove(): Success\narraylist_2.add(new Element(4)); // or remove(): Success\narraylist_3.add(new Element(4)); // or remove(): SuccessBut the following operations returns just a List view of an ArrayList and not actual ArrayList.// Returns a List view of array and not actual ArrayList\nList<Element> listView_1 = (List<Element>) Arrays.asList(array);\nList<Element> listView_2 = Arrays.asList(array);\nList<Element> listView_3 = Arrays.asList(new Element(1), new Element(2), new Element(3));Therefore, they will give error when trying to make some ArrayList operationslistView_1.add(new Element(4)); // Error\nlistView_2.add(new Element(4)); // Error\nlistView_3.add(new Element(4)); // ErrorMore on List representation of arraylink.ShareImprove this answerFolloweditedMay 23, 2017 at 12:26CommunityBot111 silver badgeansweredApr 7, 2017 at 18:45Devendra LattuDevendra Lattu2,78222 gold badges2020 silver badges2727 bronze badges\n\nSimplest way to do so is by adding following code. Tried and Tested.String[] Array1={""one"",""two"",""three""};\nArrayList<String> s1= new ArrayList<String>(Arrays.asList(Array1));ShareImprove this answerFollowansweredMay 3, 2017 at 8:38HeminHemin72211 gold badge1414 silver badges2929 bronze badges\n\nAnother Java8 solution(I may have missed the answer among the large set. If so, my apologies).This creates an ArrayList (as opposed to a List) i.e. one can delete elementspackage package org.something.util;\n\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\npublic class Junk {\n\n    static <T> ArrayList<T>  arrToArrayList(T[] arr){\n        return Arrays.asList(arr)\n            .stream()\n            .collect(Collectors.toCollection(ArrayList::new));\n    }\n\n    public static void main(String[] args) {\n        String[] sArr = new String[]{""Hello"", ""cruel"", ""world""};\n        List<String> ret = arrToArrayList(sArr);\n        // Verify one can remove an item and print list to verify so\n        ret.remove(1);\n        ret.stream()\n            .forEach(System.out::println);\n    }\n}Output is...HelloworldShareImprove this answerFolloweditedJun 20, 2017 at 8:40answeredJun 20, 2017 at 8:33Toothless SeerToothless Seer8281010 silver badges1313 bronze badges\n\nYou can do it in java 8 as followsArrayList<Element> list = (ArrayList<Element>)Arrays.stream(array).collect(Collectors.toList());ShareImprove this answerFolloweditedAug 2, 2017 at 14:03Ron Tuffin54.3k2424 gold badges6666 silver badges7878 bronze badgesansweredJun 7, 2017 at 12:14Adit A. PillaiAdit A. Pillai66711 gold badge1010 silver badges2222 bronze badges\n\nUse the following code to convert an element array into an ArrayList.Element[] array = {new Element(1), new Element(2), new Element(3)};\n\nArrayList<Element>elementArray=new ArrayList();\nfor(int i=0;i<array.length;i++) {\n    elementArray.add(array[i]);\n}ShareImprove this answerFolloweditedJan 16, 2019 at 0:50Pang9,914146146 gold badges8585 silver badges123123 bronze badgesansweredDec 3, 2018 at 11:32Kavinda PushpithaKavinda Pushpitha25799 silver badges99 bronze badges\n\nGiven Object Array:Element[] array = {new Element(1), new Element(2), new Element(3) , new Element(2)};Convert Array to List:List<Element> list = Arrays.stream(array).collect(Collectors.toList());Convert Array to ArrayListArrayList<Element> arrayList = Arrays.stream(array)\n                                   .collect(Collectors.toCollection(ArrayList::new));Convert Array to LinkedListLinkedList<Element> linkedList = Arrays.stream(array)\n                 .collect(Collectors.toCollection(LinkedList::new));Print List:list.forEach(element -> {\n    System.out.println(element.i);\n});OUTPUT123ShareImprove this answerFolloweditedNov 20, 2023 at 14:59Benjamin Loison5,47244 gold badges1818 silver badges3737 bronze badgesansweredSep 7, 2019 at 20:36Arpan SainiArpan Saini4,98511 gold badge4545 silver badges5353 bronze badges\n\nAlready everyone has provided enough good answer for your problem. \nNow from the all suggestions, you need to decided which will fit your requirement. There are two types of collection which you need to know. One is unmodified collection and other one collection which will allow you to modify the object later.So, Here I will give short example for two use cases.Immutable collection creation :: When you don\'t want to modify the collection object after creationList<Element> elementList = Arrays.asList(array)Mutable collection creation :: When you may want to modify the created collection object after creation.List<Element> elementList = new ArrayList<Element>(Arrays.asList(array));ShareImprove this answerFollowansweredJul 25, 2017 at 6:03Sumit DasSumit Das31133 silver badges66 bronze badges\n\nJava 8’s Arrays class provides a stream() method which has overloaded versions accepting both primitive arrays and Object arrays./**** Converting a Primitive \'int\' Array to List ****/\n\nint intArray[] = {1, 2, 3, 4, 5};\n\nList<Integer> integerList1 = Arrays.stream(intArray).boxed().collect(Collectors.toList());\n\n/**** \'IntStream.of\' or \'Arrays.stream\' Gives The Same Output ****/\n\nList<Integer> integerList2 = IntStream.of(intArray).boxed().collect(Collectors.toList());\n\n/**** Converting an \'Integer\' Array to List ****/\n\nInteger integerArray[] = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10};\n\nList<Integer> integerList3 = Arrays.stream(integerArray).collect(Collectors.toList());ShareImprove this answerFolloweditedMay 19, 2019 at 11:40sanyassh8,3901414 gold badges4040 silver badges7878 bronze badgesansweredMay 19, 2019 at 11:20Himanshu DaveHimanshu Dave11911 silver badge99 bronze badges\n\nYou could also usepolymorphismto declare theArrayListwhile calling theArrays-interface as following:List<Element> arraylist = new ArrayList<Integer>(Arrays.asList(array));Example:Integer[] array = {1};    // autoboxing\nList<Integer> arraylist = new ArrayList<Integer>(Arrays.asList(array));This should work like a charm.ShareImprove this answerFolloweditedJun 16, 2021 at 13:36answeredJun 16, 2021 at 13:28Manifest ManManifest Man8971111 silver badges1616 bronze badges'}","{'title': 'Deep cloning objects', 'question': ""I want to do something like:MyObject myObj = GetMyObj(); // Create and fill a new object\nMyObject newObj = myObj.Clone();And then make changes to the new object that are not reflected in the original object.I don't often need this functionality, so when it's been necessary, I've resorted to creating a new object and then copying each property individually, but it always leaves me with the feeling that there is a better or more elegant way of handling the situation.How can I clone or deep copy an object so that the cloned object can be modified without any changes being reflected in the original object?c#.netclonedeep-copyShareImprove this questionFolloweditedJan 10, 2023 at 5:19Vivek Nuna28.7k3131 gold badges135135 silver badges236236 bronze badgesaskedSep 17, 2008 at 0:06NakedBrunchNakedBrunch49.1k1414 gold badges7373 silver badges9898 bronze badges"", 'answers': 'Whereas one approach is to implement theICloneableinterface (describedhere, so I won\'t regurgitate), here\'s a nice deep clone object copier I found onThe Code Projecta while ago and incorporated it into our code.\nAs mentioned elsewhere, it requires your objects to be serializable.using System;\nusing System.IO;\nusing System.Runtime.Serialization;\nusing System.Runtime.Serialization.Formatters.Binary;\n\n/// <summary>\n/// Reference Article http://www.codeproject.com/KB/tips/SerializedObjectCloner.aspx\n/// Provides a method for performing a deep copy of an object.\n/// Binary Serialization is used to perform the copy.\n/// </summary>\npublic static class ObjectCopier\n{\n    /// <summary>\n    /// Perform a deep copy of the object via serialization.\n    /// </summary>\n    /// <typeparam name=""T"">The type of object being copied.</typeparam>\n    /// <param name=""source"">The object instance to copy.</param>\n    /// <returns>A deep copy of the object.</returns>\n    public static T Clone<T>(T source)\n    {\n        if (!typeof(T).IsSerializable)\n        {\n            throw new ArgumentException(""The type must be serializable."", nameof(source));\n        }\n\n        // Don\'t serialize a null object, simply return the default for that object\n        if (ReferenceEquals(source, null)) return default;\n\n        using var stream = new MemoryStream();\n        IFormatter formatter = new BinaryFormatter();\n        formatter.Serialize(stream, source);\n        stream.Seek(0, SeekOrigin.Begin);\n        return (T)formatter.Deserialize(stream);\n    }\n}The idea is that it serializes your object and then deserializes it into a fresh object. The benefit is that you don\'t have to concern yourself about cloning everything when an object gets too complex.In case of you prefer to use the newextension methodsof C# 3.0, change the method to have the following signature:public static T Clone<T>(this T source)\n{\n   // ...\n}Now the method call simply becomesobjectBeingCloned.Clone();.EDIT(January 10 2015) Thought I\'d revisit this, to mention I recently started using (Newtonsoft) Json to do this, itshould belighter, and avoids the overhead of [Serializable] tags. (NB@atconway has pointed out in the comments that private members are not cloned using the JSON method)/// <summary>\n/// Perform a deep Copy of the object, using Json as a serialization method. NOTE: Private members are not cloned using this method.\n/// </summary>\n/// <typeparam name=""T"">The type of object being copied.</typeparam>\n/// <param name=""source"">The object instance to copy.</param>\n/// <returns>The copied object.</returns>\npublic static T CloneJson<T>(this T source)\n{            \n    // Don\'t serialize a null object, simply return the default for that object\n    if (ReferenceEquals(source, null)) return default;\n\n    // initialize inner objects individually\n    // for example in default constructor some list property initialized with some values,\n    // but in \'source\' these items are cleaned -\n    // without ObjectCreationHandling.Replace default constructor values will be added to result\n    var deserializeSettings = new JsonSerializerSettings {ObjectCreationHandling = ObjectCreationHandling.Replace};\n\n    return JsonConvert.DeserializeObject<T>(JsonConvert.SerializeObject(source), deserializeSettings);\n}ShareImprove this answerFolloweditedJan 24 at 22:59community wiki24 revs, 17 users 56%johnc\n\nI wanted a cloner for very simple objects of mostly primitives and lists.  If your object is out of the box JSON serializable then this method will do the trick.  This requires no modification or implementation of interfaces on the cloned class, just a JSON serializer like JSON.NET.public static T Clone<T>(T source)\n{\n    var serialized = JsonConvert.SerializeObject(source);\n    return JsonConvert.DeserializeObject<T>(serialized);\n}Also, you can use this extension methodpublic static class SystemExtension\n{\n    public static T Clone<T>(this T source)\n    {\n        var serialized = JsonConvert.SerializeObject(source);\n        return JsonConvert.DeserializeObject<T>(serialized);\n    }\n}ShareImprove this answerFolloweditedSep 14, 2018 at 6:16Vineet Choudhary7,53344 gold badges4646 silver badges7272 bronze badgesansweredApr 3, 2013 at 13:31craastadcraastad6,35255 gold badges3333 silver badges4646 bronze badges\n\nThe reason not to useICloneableisnotbecause it doesn\'t have a generic interface.The reason not to use it is because it\'s vague.  It doesn\'t make clear whether you\'re getting a shallow or a deep copy; that\'s up to the implementer.Yes,MemberwiseClonemakes a shallow copy, but the opposite ofMemberwiseCloneisn\'tClone; it would be, perhaps,DeepClone, which doesn\'t exist.  When you use an object through its ICloneable interface, you can\'t know which kind of cloning the underlying object performs.  (And XML comments won\'t make it clear, because you\'ll get the interface comments rather than the ones on the object\'s Clone method.)What I usually do is simply make aCopymethod that does exactly what I want.ShareImprove this answerFolloweditedNov 30, 2022 at 12:17CodeCaster150k2323 gold badges230230 silver badges282282 bronze badgesansweredSep 17, 2008 at 1:12Ryan LundyRyan Lundy208k4141 gold badges183183 silver badges215215 bronze badges\n\nAfter much much reading about many of the options linked here, and possible solutions for this issue, I believeall the options are summarized pretty well atIan P\'s link(all other options are variations of those) and the best solution is provided byPedro77\'s linkon the question comments.So I\'ll just copy relevant parts of those 2 references here. That way we can have:The best thing to do for cloning objects in C sharp!First and foremost, those are all our options:Manually withICloneable, which isShallowand notType-SafeMemberwiseClone, which uses ICloneableReflectionby usingActivator.CreateInstanceandrecursive MemberwiseCloneSerialization, as pointed byjohnc\'s preferred answerIntermediate Language, which I got no ideahow worksExtension Methods, such as thiscustom clone framework by Havard StradenExpression TreesThearticle Fast Deep Copy by Expression Treeshas  also performance comparison of cloning by Serialization, Reflection and Expression Trees.Why I chooseICloneable(i.e. manually)Mr Venkat Subramaniam (redundant link here) explains in much detail why.All his article circles around an example that tries to be applicable for most cases, using 3 objects:Person,BrainandCity. We want to clone a person, which will have its own brain but the same city. You can either picture all problems any of the other methods above can bring or read the article.This is my slightly modified version of his conclusion:Copying an object by specifyingNewfollowed by the class name often leads to code that is not extensible. Using clone, the application of prototype pattern, is a better way to achieve this. However, using clone as it is provided in C# (and Java) can be quite problematic as well. It is better to provide a protected (non-public) copy constructor and invoke that from the clone method. This gives us the ability to delegate the task of creating an object to an instance of a class itself, thus providing extensibility and also, safely creating the objects using the protected copy constructor.Hopefully this implementation can make things clear:public class Person : ICloneable\n{\n    private final Brain brain; // brain is final since I do not want \n                // any transplant on it once created!\n    private int age;\n    public Person(Brain aBrain, int theAge)\n    {\n        brain = aBrain; \n        age = theAge;\n    }\n    protected Person(Person another)\n    {\n        Brain refBrain = null;\n        try\n        {\n            refBrain = (Brain) another.brain.clone();\n            // You can set the brain in the constructor\n        }\n        catch(CloneNotSupportedException e) {}\n        brain = refBrain;\n        age = another.age;\n    }\n    public String toString()\n    {\n        return ""This is person with "" + brain;\n        // Not meant to sound rude as it reads!\n    }\n    public Object clone()\n    {\n        return new Person(this);\n    }\n    …\n}Now consider having a class derive from Person.public class SkilledPerson extends Person\n{\n    private String theSkills;\n    public SkilledPerson(Brain aBrain, int theAge, String skills)\n    {\n        super(aBrain, theAge);\n        theSkills = skills;\n    }\n    protected SkilledPerson(SkilledPerson another)\n    {\n        super(another);\n        theSkills = another.theSkills;\n    }\n\n    public Object clone()\n    {\n        return new SkilledPerson(this);\n    }\n    public String toString()\n    {\n        return ""SkilledPerson: "" + super.toString();\n    }\n}You may try running the following code:public class User\n{\n    public static void play(Person p)\n    {\n        Person another = (Person) p.clone();\n        System.out.println(p);\n        System.out.println(another);\n    }\n    public static void main(String[] args)\n    {\n        Person sam = new Person(new Brain(), 1);\n        play(sam);\n        SkilledPerson bob = new SkilledPerson(new SmarterBrain(), 1, ""Writer"");\n        play(bob);\n    }\n}The output produced will be:This is person with Brain@1fcc69\nThis is person with Brain@253498\nSkilledPerson: This is person with SmarterBrain@1fef6f\nSkilledPerson: This is person with SmarterBrain@209f4eObserve that, if we keep a count of the number of objects, the clone as implemented here will keep a correct count of the number of objects.ShareImprove this answerFolloweditedOct 20, 2019 at 12:52Cœur38.2k2626 gold badges201201 silver badges274274 bronze badgesansweredSep 26, 2012 at 20:18cregoxcregox18.2k1616 gold badges8686 silver badges118118 bronze badges\n\nI prefer a copy constructor to a clone. The intent is clearer.ShareImprove this answerFolloweditedDec 3, 2012 at 17:21Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredSep 17, 2008 at 0:13NickNick13.4k1717 gold badges6565 silver badges100100 bronze badges\n\nSimple extension method to copy all the public properties. Works for any objects anddoes notrequire class to be[Serializable]. Can be extended for other access level.public static void CopyTo( this object S, object T )\n{\n    foreach( var pS in S.GetType().GetProperties() )\n    {\n        foreach( var pT in T.GetType().GetProperties() )\n        {\n            if( pT.Name != pS.Name ) continue;\n            ( pT.GetSetMethod() ).Invoke( T, new object[] \n            { pS.GetGetMethod().Invoke( S, null ) } );\n        }\n    };\n}ShareImprove this answerFolloweditedApr 7, 2016 at 12:59SanyTiger66611 gold badge99 silver badges2323 bronze badgesansweredMar 16, 2011 at 11:38Konstantin SalavatovKonstantin Salavatov4,54022 gold badges2727 silver badges2424 bronze badges\n\nI\'ve just createdCloneExtensionslibraryproject. It performs fast, deep clone using simple assignment operations generated by Expression Tree runtime code compilation.How to use it?Instead of writing your ownCloneorCopymethods with a tone of assignments between fields and properties make the program do it for yourself, using Expression Tree.GetClone<T>()method marked as extension method allows you to simply call it on your instance:var newInstance = source.GetClone();You can choose what should be copied fromsourcetonewInstanceusingCloningFlagsenum:var newInstance \n    = source.GetClone(CloningFlags.Properties | CloningFlags.CollectionItems);What can be cloned?Primitive (int, uint, byte, double, char, etc.), known immutable\ntypes (DateTime, TimeSpan, String) and delegates (including\nAction, Func, etc)NullableT[] arraysCustom classes and structs, including generic classes and structs.Following class/struct members are cloned internally:Values of public, not readonly fieldsValues of public properties with both get and set accessorsCollection items for types implementing ICollectionHow fast it is?The solution is faster then reflection, because members information has to be gathered only once, beforeGetClone<T>is used for the first time for given typeT.It\'s also faster than serialization-based solution when you clone more then couple instances of the same typeT.and more...Read more about generated expressions ondocumentation.Sample expression debug listing forList<int>:.Lambda #Lambda1<System.Func`4[System.Collections.Generic.List`1[System.Int32],CloneExtensions.CloningFlags,System.Collections.Generic.IDictionary`2[System.Type,System.Func`2[System.Object,System.Object]],System.Collections.Generic.List`1[System.Int32]]>(\n    System.Collections.Generic.List`1[System.Int32] $source,\n    CloneExtensions.CloningFlags $flags,\n    System.Collections.Generic.IDictionary`2[System.Type,System.Func`2[System.Object,System.Object]] $initializers) {\n    .Block(System.Collections.Generic.List`1[System.Int32] $target) {\n        .If ($source == null) {\n            .Return #Label1 { null }\n        } .Else {\n            .Default(System.Void)\n        };\n        .If (\n            .Call $initializers.ContainsKey(.Constant<System.Type>(System.Collections.Generic.List`1[System.Int32]))\n        ) {\n            $target = (System.Collections.Generic.List`1[System.Int32]).Call ($initializers.Item[.Constant<System.Type>(System.Collections.Generic.List`1[System.Int32])]\n            ).Invoke((System.Object)$source)\n        } .Else {\n            $target = .New System.Collections.Generic.List`1[System.Int32]()\n        };\n        .If (\n            ((System.Byte)$flags & (System.Byte).Constant<CloneExtensions.CloningFlags>(Fields)) == (System.Byte).Constant<CloneExtensions.CloningFlags>(Fields)\n        ) {\n            .Default(System.Void)\n        } .Else {\n            .Default(System.Void)\n        };\n        .If (\n            ((System.Byte)$flags & (System.Byte).Constant<CloneExtensions.CloningFlags>(Properties)) == (System.Byte).Constant<CloneExtensions.CloningFlags>(Properties)\n        ) {\n            .Block() {\n                $target.Capacity = .Call CloneExtensions.CloneFactory.GetClone(\n                    $source.Capacity,\n                    $flags,\n                    $initializers)\n            }\n        } .Else {\n            .Default(System.Void)\n        };\n        .If (\n            ((System.Byte)$flags & (System.Byte).Constant<CloneExtensions.CloningFlags>(CollectionItems)) == (System.Byte).Constant<CloneExtensions.CloningFlags>(CollectionItems)\n        ) {\n            .Block(\n                System.Collections.Generic.IEnumerator`1[System.Int32] $var1,\n                System.Collections.Generic.ICollection`1[System.Int32] $var2) {\n                $var1 = (System.Collections.Generic.IEnumerator`1[System.Int32]).Call $source.GetEnumerator();\n                $var2 = (System.Collections.Generic.ICollection`1[System.Int32])$target;\n                .Loop  {\n                    .If (.Call $var1.MoveNext() != False) {\n                        .Call $var2.Add(.Call CloneExtensions.CloneFactory.GetClone(\n                                $var1.Current,\n                                $flags,\n\n\n                         $initializers))\n                } .Else {\n                    .Break #Label2 { }\n                }\n            }\n            .LabelTarget #Label2:\n        }\n    } .Else {\n        .Default(System.Void)\n    };\n    .Label\n        $target\n    .LabelTarget #Label1:\n}}what has the same meaning like following c# code:(source, flags, initializers) =>\n{\n    if(source == null)\n        return null;\n\n    if(initializers.ContainsKey(typeof(List<int>))\n        target = (List<int>)initializers[typeof(List<int>)].Invoke((object)source);\n    else\n        target = new List<int>();\n\n    if((flags & CloningFlags.Properties) == CloningFlags.Properties)\n    {\n        target.Capacity = target.Capacity.GetClone(flags, initializers);\n    }\n\n    if((flags & CloningFlags.CollectionItems) == CloningFlags.CollectionItems)\n    {\n        var targetCollection = (ICollection<int>)target;\n        foreach(var item in (ICollection<int>)source)\n        {\n            targetCollection.Add(item.Clone(flags, initializers));\n        }\n    }\n\n    return target;\n}Isn\'t it quite like how you\'d write your ownClonemethod forList<int>?ShareImprove this answerFolloweditedSep 8, 2015 at 15:26answeredDec 24, 2013 at 22:56MarcinJuraszekMarcinJuraszek125k1515 gold badges197197 silver badges267267 bronze badges\n\nIf you\'re already using a 3rd party application likeValueInjecterorAutomapper, you can do something like this:MyObject oldObj; // The existing object to clone\n\nMyObject newObj = new MyObject();\nnewObj.InjectFrom(oldObj); // Using ValueInjecter syntaxUsing this method you don\'t have to implementISerializableorICloneableon your objects. This is common with the MVC/MVVM pattern, so simple tools like this have been created.seethe ValueInjecter deep cloning sample on GitHub.ShareImprove this answerFolloweditedMay 4, 2020 at 12:56Eliahu Aaron4,44355 gold badges3030 silver badges4141 bronze badgesansweredOct 15, 2012 at 17:55Michael CoxMichael Cox1,3011414 silver badges1515 bronze badges\n\nThe best is to implement anextension methodlikepublic static T DeepClone<T>(this T originalObject)\n{ /* the cloning code */ }and then use it anywhere in the solution byvar copy = anyObject.DeepClone();We can have the following three implementations:By Serialization(the shortest code)By Reflection-5x fasterBy Expression Trees-20x fasterAll linked methods are well working and were deeply tested.ShareImprove this answerFolloweditedMay 23, 2017 at 11:55CommunityBot111 silver badgeansweredAug 3, 2016 at 22:24frakonfrakon2,17322 gold badges2626 silver badges2727 bronze badges\n\nWell I was having problems using ICloneable in Silverlight, but I liked the idea of seralization, I can seralize XML, so I did this:static public class SerializeHelper\n{\n    //Michael White, Holly Springs Consulting, 2009\n    //[email\xa0protected]public static T DeserializeXML<T>(string xmlData) \n        where T:new()\n    {\n        if (string.IsNullOrEmpty(xmlData))\n            return default(T);\n\n        TextReader tr = new StringReader(xmlData);\n        T DocItms = new T();\n        XmlSerializer xms = new XmlSerializer(DocItms.GetType());\n        DocItms = (T)xms.Deserialize(tr);\n\n        return DocItms == null ? default(T) : DocItms;\n    }\n\n    public static string SeralizeObjectToXML<T>(T xmlObject)\n    {\n        StringBuilder sbTR = new StringBuilder();\n        XmlSerializer xmsTR = new XmlSerializer(xmlObject.GetType());\n        XmlWriterSettings xwsTR = new XmlWriterSettings();\n        \n        XmlWriter xmwTR = XmlWriter.Create(sbTR, xwsTR);\n        xmsTR.Serialize(xmwTR,xmlObject);\n        \n        return sbTR.ToString();\n    }\n\n    public static T CloneObject<T>(T objClone) \n        where T:new()\n    {\n        string GetString = SerializeHelper.SeralizeObjectToXML<T>(objClone);\n        return SerializeHelper.DeserializeXML<T>(GetString);\n    }\n}ShareImprove this answerFolloweditedFeb 16, 2022 at 20:29ruffin17.2k99 gold badges9292 silver badges146146 bronze badgesansweredDec 2, 2009 at 17:39Michael WhiteMichael White38733 silver badges22 bronze badges\n\nDeepCloner: Quick, easy, effective NuGet package to solve cloningAfter reading all answers I was surprised no one mentioned this excellent package:DeepCloner GitHub projectDeepCloner NuGet packageElaborating a bit on its README, here are the reason why we chose it at work:It can deep or shallow copyIn deep cloning all object graph is maintained.Uses code-generation in runtime, as result cloning is blazingly fastObjects copied by internal structure, no methods or ctors calledYou don\'t need to mark classes somehow (like Serializable-attribute, or implement interfaces)No requirement to specify object type for cloning. Object can be casted to interface or as an abstract object (e.g. you can clone array of ints as abstract Array or IEnumerable; even null can be cloned without any errors)Cloned object doesn\'t have any ability to determine that he is clone (except with very specific methods)Usage:var deepClone = new { Id = 1, Name = ""222"" }.DeepClone();\nvar shallowClone = new { Id = 1, Name = ""222"" }.ShallowClone();Performance:The README contains a performance comparison of various cloning libraries and methods:DeepCloner Performance.Requirements:.NET 4.0 or higher or .NET Standard 1.3 (.NET Core)Requires Full Trust permission set or Reflection permission (MemberAccess)ShareImprove this answerFolloweditedMay 5, 2020 at 7:51Eliahu Aaron4,44355 gold badges3030 silver badges4141 bronze badgesansweredJul 8, 2019 at 10:28alelomalelom2,68033 gold badges3030 silver badges4646 bronze badges\n\nThe short answer is you inherit from the ICloneable interface and then implement the .clone function. Clone should do a memberwise copy and perform a deep copy on any member that requires it, then return the resulting object. This is a recursive operation ( it requires that all members of the class you want to clone are either value types or implement ICloneable and that their members are either value types or implement ICloneable, and so on).For a more detailed explanation on Cloning using ICloneable, check outthis article.Thelonganswer is ""it depends"". As mentioned by others, ICloneable is not supported by generics, requires special considerations for circular class references, and is actually viewed by some as a""mistake""in the .NET Framework. The serialization method depends on your objects being serializable, which they may not be and you may have no control over. There is still much debate in the community over which is the ""best"" practice. In reality, none of the solutions are the one-size fits all best practice for all situations like ICloneable was originally interpreted to be.See the thisDeveloper\'s Corner articlefor a few more options (credit to Ian).ShareImprove this answerFolloweditedApr 9, 2018 at 22:46Johann4,29333 gold badges4242 silver badges4141 bronze badgesansweredSep 17, 2008 at 0:14Zach BurlingameZach Burlingame13.7k1515 gold badges5656 silver badges6565 bronze badges\n\nBasically, you need to implement ICloneable interface and then realize object structure copying.If it\'s a deep copy of all members, you need to ensure (not relating on solution you choose) that all children are cloneable as well.Sometimes you need to be aware of some restriction during this process, for example if you copying the ORM objects most of frameworks allow only one object attached to the session and you MUST NOT make clones of this object, or if it\'s possible you need to care about session attaching of these objects.Cheers.ShareImprove this answerFolloweditedMar 9, 2023 at 13:58Andrew D. Bond1,14011 gold badge1515 silver badges1212 bronze badgesansweredSep 17, 2008 at 0:11dimarzionistdimarzionist18.6k44 gold badges2323 silver badges2323 bronze badges\n\nEDIT: project is discontinuedIf you want true cloning to unknown types you can take a look atfastclone.That\'s expression based cloning working about 10 times faster than binary serialization and maintaining complete object graph integrity.That means: if you refer multiple times to the same object in your hierachy, the clone will also have a single instance beeing referenced.There is no need for interfaces, attributes or any other modification to the objects being cloned.ShareImprove this answerFolloweditedOct 21, 2019 at 6:57answeredFeb 16, 2015 at 11:30Michael SanderMichael Sander2,7072424 silver badges2929 bronze badges\n\nKeep things simple and useAutoMapperas others mentioned, it\'s a simple little library to map one object to another... To copy an object to another with the same type, all you need is three lines of code:MyType source = new MyType();\nMapper.CreateMap<MyType, MyType>();\nMyType target = Mapper.Map<MyType, MyType>(source);The target object is now a copy of the source object.\nNot simple enough? Create an extension method to use everywhere in your solution:public static T Copy<T>(this T source)\n{\n    T copy = default(T);\n    Mapper.CreateMap<T, T>();\n    copy = Mapper.Map<T, T>(source);\n    return copy;\n}The extension method can be used as follow:MyType copy = source.Copy();ShareImprove this answerFolloweditedJan 1, 2020 at 13:39answeredMay 28, 2016 at 11:02StackedStacked7,16877 gold badges6262 silver badges7676 bronze badges\n\nIn general, you implement the ICloneable interface and implement Clone yourself.\nC# objects have a built-in MemberwiseClone method that performs a shallow copy that can help you out for all the primitives.For a deep copy, there is no way it can know how to automatically do it.ShareImprove this answerFollowansweredSep 17, 2008 at 0:09HappyDudeHappyDude2,59633 gold badges1818 silver badges1414 bronze badges\n\nDisclaimer: I\'m the author of the mentioned package.I was surprised how the top answers to this question in 2019 still use serialization or reflection.Serialization is limiting (requires attributes, specific constructors, etc.) and is very slowBinaryFormatterrequires theSerializableattribute,JsonConverterrequires a parameterless constructor or attributes, neither handle read only fields or interfaces very well and both are 10-30x slower than necessary.Expression TreesYou can instead useExpression TreesorReflection.Emitto generate cloning code only once, then use that compiled code instead of slow reflection or serialization.Having come across the problem myself and seeing no satisfactory solution, I decided to create a package that does just that andworks with every type and is a almost as fast as custom written code.You can find the project on GitHub:https://github.com/marcelltoth/ObjectClonerUsageYou can install it from NuGet. Either get theObjectClonerpackage and use it as:var clone = ObjectCloner.DeepClone(original);or if you don\'t mind polluting your object type with extensions getObjectCloner.Extensionsas well and write:var clone = original.DeepClone();PerformanceA simple benchmark of cloning a class hierarchy showed performance ~3x faster than using Reflection, ~12x faster than Newtonsoft.Json serialization and ~36x faster than the highly suggestedBinaryFormatter.ShareImprove this answerFollowansweredJul 30, 2019 at 20:49Marcell TothMarcell Toth3,61311 gold badge2222 silver badges3636 bronze badges\n\nI came up with this to overcome a.NETshortcoming having to manually deep copy List<T>.I use this:static public IEnumerable<SpotPlacement> CloneList(List<SpotPlacement> spotPlacements)\n{\n    foreach (SpotPlacement sp in spotPlacements)\n    {\n        yield return (SpotPlacement)sp.Clone();\n    }\n}And at another place:public object Clone()\n{\n    OrderItem newOrderItem = new OrderItem();\n    ...\n    newOrderItem._exactPlacements.AddRange(SpotPlacement.CloneList(_exactPlacements));\n    ...\n    return newOrderItem;\n}I tried to come up with oneliner that does this, but it\'s not possible, due to yield not working inside anonymous method blocks.Better still, use generic List<T> cloner:class Utility<T> where T : ICloneable\n{\n    static public IEnumerable<T> CloneList(List<T> tl)\n    {\n        foreach (T t in tl)\n        {\n            yield return (T)t.Clone();\n        }\n    }\n}ShareImprove this answerFolloweditedDec 3, 2012 at 17:23Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredSep 30, 2009 at 9:51Daniel MošmondorDaniel Mošmondor19.9k1212 gold badges5858 silver badges101101 bronze badges\n\nQ. Why would I choose this answer?Choose this answer if you want the fastest speed .NET is capable of.Ignore this answer if you want a really, really easy method of cloning.In other words,go with another answer unless you have a performance bottleneck that needs fixing, and you can prove it with a profiler.10x faster than other methodsThe following method of performing a deep clone is:10x faster than anything that involves serialization/deserialization;Pretty darn close to the theoretical maximum speed .NET is capable of.And the method ...For ultimate speed, you can useNested MemberwiseClone to do a deep copy. Its almost the same speed as copying a value struct, and is much faster than (a) reflection or (b) serialization (as described in other answers on this page).Note thatifyou useNested MemberwiseClone for a deep copy, you have to manually implement a ShallowCopy for each nested level in the class, and a DeepCopy which calls all said ShallowCopy methods to create a complete clone. This is simple: only a few lines in total, see the demo code below.Here is the output of the code showing the relative performance difference for 100,000 clones:1.08 seconds for Nested MemberwiseClone on nested structs4.77 seconds for Nested MemberwiseClone on nested classes39.93 seconds for Serialization/DeserializationUsing Nested MemberwiseClone on a class almost as fast as copying a struct, and copying a struct is pretty darn close to the theoretical maximum speed .NET is capable of.Demo 1 of shallow and deep copy, using classes and MemberwiseClone:\n  Create Bob\n    Bob.Age=30, Bob.Purchase.Description=Lamborghini\n  Clone Bob >> BobsSon\n  Adjust BobsSon details\n    BobsSon.Age=2, BobsSon.Purchase.Description=Toy car\n  Proof of deep copy: If BobsSon is a true clone, then adjusting BobsSon details will not affect Bob:\n    Bob.Age=30, Bob.Purchase.Description=Lamborghini\n  Elapsed time: 00:00:04.7795670,30000000\n\nDemo 2 of shallow and deep copy, using structs and value copying:\n  Create Bob\n    Bob.Age=30, Bob.Purchase.Description=Lamborghini\n  Clone Bob >> BobsSon\n  Adjust BobsSon details:\n    BobsSon.Age=2, BobsSon.Purchase.Description=Toy car\n  Proof of deep copy: If BobsSon is a true clone, then adjusting BobsSon details will not affect Bob:\n    Bob.Age=30, Bob.Purchase.Description=Lamborghini\n  Elapsed time: 00:00:01.0875454,30000000\n\nDemo 3 of deep copy, using class and serialize/deserialize:\n  Elapsed time: 00:00:39.9339425,30000000To understand how to do a deep copy using MemberwiseCopy, here is the demo project that was used to generate the times above:// Nested MemberwiseClone example. \n// Added to demo how to deep copy a reference class.\n[Serializable] // Not required if using MemberwiseClone, only used for speed comparison using serialization.\npublic class Person\n{\n    public Person(int age, string description)\n    {\n        this.Age = age;\n        this.Purchase.Description = description;\n    }\n    [Serializable] // Not required if using MemberwiseClone\n    public class PurchaseType\n    {\n        public string Description;\n        public PurchaseType ShallowCopy()\n        {\n            return (PurchaseType)this.MemberwiseClone();\n        }\n    }\n    public PurchaseType Purchase = new PurchaseType();\n    public int Age;\n    // Add this if using nested MemberwiseClone.\n    // This is a class, which is a reference type, so cloning is more difficult.\n    public Person ShallowCopy()\n    {\n        return (Person)this.MemberwiseClone();\n    }\n    // Add this if using nested MemberwiseClone.\n    // This is a class, which is a reference type, so cloning is more difficult.\n    public Person DeepCopy()\n    {\n            // Clone the root ...\n        Person other = (Person) this.MemberwiseClone();\n            // ... then clone the nested class.\n        other.Purchase = this.Purchase.ShallowCopy();\n        return other;\n    }\n}\n// Added to demo how to copy a value struct (this is easy - a deep copy happens by default)\npublic struct PersonStruct\n{\n    public PersonStruct(int age, string description)\n    {\n        this.Age = age;\n        this.Purchase.Description = description;\n    }\n    public struct PurchaseType\n    {\n        public string Description;\n    }\n    public PurchaseType Purchase;\n    public int Age;\n    // This is a struct, which is a value type, so everything is a clone by default.\n    public PersonStruct ShallowCopy()\n    {\n        return (PersonStruct)this;\n    }\n    // This is a struct, which is a value type, so everything is a clone by default.\n    public PersonStruct DeepCopy()\n    {\n        return (PersonStruct)this;\n    }\n}\n// Added only for a speed comparison.\npublic class MyDeepCopy\n{\n    public static T DeepCopy<T>(T obj)\n    {\n        object result = null;\n        using (var ms = new MemoryStream())\n        {\n            var formatter = new BinaryFormatter();\n            formatter.Serialize(ms, obj);\n            ms.Position = 0;\n            result = (T)formatter.Deserialize(ms);\n            ms.Close();\n        }\n        return (T)result;\n    }\n}Then, call the demo from main:void MyMain(string[] args)\n{\n    {\n        Console.Write(""Demo 1 of shallow and deep copy, using classes and MemberwiseCopy:\\n"");\n        var Bob = new Person(30, ""Lamborghini"");\n        Console.Write(""  Create Bob\\n"");\n        Console.Write(""    Bob.Age={0}, Bob.Purchase.Description={1}\\n"", Bob.Age, Bob.Purchase.Description);\n        Console.Write(""  Clone Bob >> BobsSon\\n"");\n        var BobsSon = Bob.DeepCopy();\n        Console.Write(""  Adjust BobsSon details\\n"");\n        BobsSon.Age = 2;\n        BobsSon.Purchase.Description = ""Toy car"";\n        Console.Write(""    BobsSon.Age={0}, BobsSon.Purchase.Description={1}\\n"", BobsSon.Age, BobsSon.Purchase.Description);\n        Console.Write(""  Proof of deep copy: If BobsSon is a true clone, then adjusting BobsSon details will not affect Bob:\\n"");\n        Console.Write(""    Bob.Age={0}, Bob.Purchase.Description={1}\\n"", Bob.Age, Bob.Purchase.Description);\n        Debug.Assert(Bob.Age == 30);\n        Debug.Assert(Bob.Purchase.Description == ""Lamborghini"");\n        var sw = new Stopwatch();\n        sw.Start();\n        int total = 0;\n        for (int i = 0; i < 100000; i++)\n        {\n            var n = Bob.DeepCopy();\n            total += n.Age;\n        }\n        Console.Write(""  Elapsed time: {0},{1}\\n\\n"", sw.Elapsed, total);\n    }\n    {               \n        Console.Write(""Demo 2 of shallow and deep copy, using structs:\\n"");\n        var Bob = new PersonStruct(30, ""Lamborghini"");\n        Console.Write(""  Create Bob\\n"");\n        Console.Write(""    Bob.Age={0}, Bob.Purchase.Description={1}\\n"", Bob.Age, Bob.Purchase.Description);\n        Console.Write(""  Clone Bob >> BobsSon\\n"");\n        var BobsSon = Bob.DeepCopy();\n        Console.Write(""  Adjust BobsSon details:\\n"");\n        BobsSon.Age = 2;\n        BobsSon.Purchase.Description = ""Toy car"";\n        Console.Write(""    BobsSon.Age={0}, BobsSon.Purchase.Description={1}\\n"", BobsSon.Age, BobsSon.Purchase.Description);\n        Console.Write(""  Proof of deep copy: If BobsSon is a true clone, then adjusting BobsSon details will not affect Bob:\\n"");\n        Console.Write(""    Bob.Age={0}, Bob.Purchase.Description={1}\\n"", Bob.Age, Bob.Purchase.Description);                \n        Debug.Assert(Bob.Age == 30);\n        Debug.Assert(Bob.Purchase.Description == ""Lamborghini"");\n        var sw = new Stopwatch();\n        sw.Start();\n        int total = 0;\n        for (int i = 0; i < 100000; i++)\n        {\n            var n = Bob.DeepCopy();\n            total += n.Age;\n        }\n        Console.Write(""  Elapsed time: {0},{1}\\n\\n"", sw.Elapsed, total);\n    }\n    {\n        Console.Write(""Demo 3 of deep copy, using class and serialize/deserialize:\\n"");\n        int total = 0;\n        var sw = new Stopwatch();\n        sw.Start();\n        var Bob = new Person(30, ""Lamborghini"");\n        for (int i = 0; i < 100000; i++)\n        {\n            var BobsSon = MyDeepCopy.DeepCopy<Person>(Bob);\n            total += BobsSon.Age;\n        }\n        Console.Write(""  Elapsed time: {0},{1}\\n"", sw.Elapsed, total);\n    }\n    Console.ReadKey();\n}Again, note thatifyou useNested MemberwiseClone for a deep copy, you have to manually implement a ShallowCopy for each nested level in the class, and a DeepCopy which calls all said ShallowCopy methods to create a complete clone. This is simple: only a few lines in total, see the demo code above.Value types vs. References TypesNote that when it comes to cloning an object, there is is a big difference between a ""struct"" and a ""class"":If you have a ""struct"", it\'s avalue typeso you can just copy it, and the contents will be cloned (but it will only make a shallow clone unless you use the techniques in this post).If you have a ""class"", it\'s areference type, so if you copy it, all you are doing is copying the pointer to it. To create a true clone, you have to be more creative, and usedifferences between value types and references typeswhich creates another copy of the original object in memory.Seedifferences between value types and references types.Checksums to aid in debuggingCloning objects incorrectly can lead to very difficult-to-pin-down bugs. In production code, I tend to implement a checksum to double check that the object has been cloned properly, and hasn\'t been corrupted by another reference to it. This checksum can be switched off in Release mode.I find this method quite useful: often, you only want to clone parts of the object, not the entire thing.Really useful for decoupling many threads from many other threadsOne excellent use case for this code is feeding clones of a nested class or struct into a queue, to implement the producer / consumer pattern.We can have one  (or more) threads modifying a class that they own, then pushing a complete copy of this class into aConcurrentQueue.We then have one (or more) threads pulling copies of these classes out and dealing with them.This works extremely well in practice, and allows us to decouple many threads (the producers) from one or more threads (the consumers).And this method is blindingly fast too: if we use nested structs, it\'s 35x faster than serializing/deserializing nested classes, and allows us to take advantage of all of the threads available on the machine.UpdateApparently, ExpressMapper is as fast, if not faster, than hand coding such as above. I might have to see how they compare with a profiler.ShareImprove this answerFolloweditedJun 20, 2020 at 9:12CommunityBot111 silver badgeansweredJul 4, 2015 at 17:24ContangoContango79k5858 gold badges275275 silver badges318318 bronze badges\n\nCreate an extension:public static T Clone<T>(this T theObject)\n{\n    string jsonData = JsonConvert.SerializeObject(theObject);\n    return JsonConvert.DeserializeObject<T>(jsonData);\n}And call it like this:NewObject = OldObject.Clone();ShareImprove this answerFollowansweredJun 24, 2020 at 21:24Sean McAvoySean McAvoy18111 silver badge66 bronze badges\n\nI\'ve seen it implemented through reflection as well. Basically there was a method that would iterate through the members of an object and appropriately copy them to the new object. When it reached reference types or collections I think it did a recursive call on itself. Reflection is expensive, but it worked pretty well.ShareImprove this answerFollowansweredOct 19, 2010 at 13:01xr280xrxr280xr13.1k99 gold badges8484 silver badges129129 bronze badges\n\nHere is a deep copy implementation:public static object CloneObject(object opSource)\n{\n    //grab the type and create a new instance of that type\n    Type opSourceType = opSource.GetType();\n    object opTarget = CreateInstanceOfType(opSourceType);\n\n    //grab the properties\n    PropertyInfo[] opPropertyInfo = opSourceType.GetProperties(BindingFlags.Public | BindingFlags.NonPublic | BindingFlags.Instance);\n\n    //iterate over the properties and if it has a \'set\' method assign it from the source TO the target\n    foreach (PropertyInfo item in opPropertyInfo)\n    {\n        if (item.CanWrite)\n        {\n            //value types can simply be \'set\'\n            if (item.PropertyType.IsValueType || item.PropertyType.IsEnum || item.PropertyType.Equals(typeof(System.String)))\n            {\n                item.SetValue(opTarget, item.GetValue(opSource, null), null);\n            }\n            //object/complex types need to recursively call this method until the end of the tree is reached\n            else\n            {\n                object opPropertyValue = item.GetValue(opSource, null);\n                if (opPropertyValue == null)\n                {\n                    item.SetValue(opTarget, null, null);\n                }\n                else\n                {\n                    item.SetValue(opTarget, CloneObject(opPropertyValue), null);\n                }\n            }\n        }\n    }\n    //return the new item\n    return opTarget;\n}ShareImprove this answerFollowansweredSep 6, 2011 at 7:38dougajmcdonalddougajmcdonald19.8k1212 gold badges5959 silver badges9393 bronze badges\n\nAs I couldn\'t find a cloner that meets all my requirements in different projects, I created a deep cloner that can be configured and adapted to different code structures instead of adapting my code to meet the cloners requirements. Its achieved by adding annotations to the code that shall be cloned or you just leave the code as it is to have the default behaviour. It uses reflection, type caches and is based onfasterflect. The cloning process is very fast for a huge amount of data and a high object hierarchy (compared to other reflection/serialization based algorithms).https://github.com/kalisohn/CloneBehaveAlso available as a nuget package:https://www.nuget.org/packages/Clone.Behave/1.0.0For example: The following code will deepClone Address, but only perform a shallow copy of the _currentJob field.public class Person \n{\n  [DeepClone(DeepCloneBehavior.Shallow)]\n  private Job _currentJob;      \n\n  public string Name { get; set; }\n\n  public Job CurrentJob \n  { \n    get{ return _currentJob; }\n    set{ _currentJob = value; }\n  }\n\n  public Person Manager { get; set; }\n}\n\npublic class Address \n{      \n  public Person PersonLivingHere { get; set; }\n}\n\nAddress adr = new Address();\nadr.PersonLivingHere = new Person(""John"");\nadr.PersonLivingHere.BestFriend = new Person(""James"");\nadr.PersonLivingHere.CurrentJob = new Job(""Programmer"");\n\nAddress adrClone = adr.Clone();\n\n//RESULT\nadr.PersonLivingHere == adrClone.PersonLivingHere //false\nadr.PersonLivingHere.Manager == adrClone.PersonLivingHere.Manager //false\nadr.PersonLivingHere.CurrentJob == adrClone.PersonLivingHere.CurrentJob //true\nadr.PersonLivingHere.CurrentJob.AnyProperty == adrClone.PersonLivingHere.CurrentJob.AnyProperty //trueShareImprove this answerFolloweditedJan 27, 2016 at 12:53answeredJan 25, 2016 at 17:45kalisohnkalisohn29133 silver badges66 bronze badges\n\nCode GeneratorWe have seen a lot of ideas from serialization over manual implementation to reflection and I want to propose a totally different approach using theCGbR Code Generator. The generate clone method is memory and CPU efficient and therefor 300x faster as the standard DataContractSerializer.All you need is a partial class definition withICloneableand the generator does the rest:public partial class Root : ICloneable\n{\n    public Root(int number)\n    {\n        _number = number;\n    }\n    private int _number;\n\n    public Partial[] Partials { get; set; }\n\n    public IList<ulong> Numbers { get; set; }\n\n    public object Clone()\n    {\n        return Clone(true);\n    }\n\n    private Root()\n    {\n    }\n} \n\npublic partial class Root\n{\n    public Root Clone(bool deep)\n    {\n        var copy = new Root();\n        // All value types can be simply copied\n        copy._number = _number; \n        if (deep)\n        {\n            // In a deep clone the references are cloned \n            var tempPartials = new Partial[Partials.Length];\n            for (var i = 0; i < Partials.Length; i++)\n            {\n                var value = Partials[i];\n                value = value.Clone(true);\n                tempPartials[i] = value;\n            }\n            copy.Partials = tempPartials;\n            var tempNumbers = new List<ulong>(Numbers.Count);\n            for (var i = 0; i < Numbers.Count; i++)\n            {\n                var value = Numbers[i];\n                tempNumbers.Add(value);\n            }\n            copy.Numbers = tempNumbers;\n        }\n        else\n        {\n            // In a shallow clone only references are copied\n            copy.Partials = Partials; \n            copy.Numbers = Numbers; \n        }\n        return copy;\n    }\n}Note:Latest version has a more null checks, but I left them out for better understanding.ShareImprove this answerFolloweditedJun 9, 2016 at 21:24answeredJun 9, 2016 at 20:56ToxantronToxantron2,3431313 silver badges2323 bronze badges\n\nI like Copyconstructors like that:public AnyObject(AnyObject anyObject)\n    {\n        foreach (var property in typeof(AnyObject).GetProperties())\n        {\n            property.SetValue(this, property.GetValue(anyObject));\n        }\n        foreach (var field in typeof(AnyObject).GetFields())\n        {\n            field.SetValue(this, field.GetValue(anyObject));\n        }\n    }If you have more things to copy add themShareImprove this answerFolloweditedMar 6, 2015 at 15:39answeredMar 6, 2015 at 13:48LuckyLikeyLuckyLikey3,71211 gold badge3434 silver badges5555 bronze badges\n\nThis method solved the problem for me:private static MyObj DeepCopy(MyObj source)\n        {\n\n            var DeserializeSettings = new JsonSerializerSettings { ObjectCreationHandling = ObjectCreationHandling.Replace };\n\n            return JsonConvert.DeserializeObject<MyObj >(JsonConvert.SerializeObject(source), DeserializeSettings);\n\n        }Use it like this:MyObj a = DeepCopy(b);ShareImprove this answerFollowansweredApr 12, 2016 at 13:43GorvGoylGorvGoyl47.2k3333 gold badges250250 silver badges250250 bronze badges\n\nHere a solution fast and easy that worked for me without relaying on Serialization/Deserialization.public class MyClass\n{\n    public virtual MyClass DeepClone()\n    {\n        var returnObj = (MyClass)MemberwiseClone();\n        var type = returnObj.GetType();\n        var fieldInfoArray = type.GetRuntimeFields().ToArray();\n\n        foreach (var fieldInfo in fieldInfoArray)\n        {\n            object sourceFieldValue = fieldInfo.GetValue(this);\n            if (!(sourceFieldValue is MyClass))\n            {\n                continue;\n            }\n\n            var sourceObj = (MyClass)sourceFieldValue;\n            var clonedObj = sourceObj.DeepClone();\n            fieldInfo.SetValue(returnObj, clonedObj);\n        }\n        return returnObj;\n    }\n}EDIT:\nrequiresusing System.Linq;\n    using System.Reflection;That\'s How I used itpublic MyClass Clone(MyClass theObjectIneededToClone)\n{\n    MyClass clonedObj = theObjectIneededToClone.DeepClone();\n}ShareImprove this answerFolloweditedJul 29, 2016 at 14:15answeredJul 29, 2016 at 13:44Daniele D.Daniele D.2,69433 gold badges3737 silver badges4242 bronze badges\n\nFollow these steps:Define anISelf<T>with a read-onlySelfproperty that returnsT, andICloneable<out T>, which derives fromISelf<T>and includes a methodT Clone().Then define aCloneBasetype which implements aprotected virtual generic VirtualClonecastingMemberwiseCloneto the passed-in type.Each derived type should implementVirtualCloneby calling the base clone method and then doing whatever needs to be done to properly clone those aspects of the derived type which the parent VirtualClone method hasn\'t yet handled.For maximum inheritance versatility, classes exposing public cloning functionality should besealed, but derive from a base class which is otherwise identical except for the lack of cloning.  Rather than passing variables of the explicit clonable type, take a parameter of typeICloneable<theNonCloneableType>.  This will allow a routine that expects a cloneable derivative ofFooto work with a cloneable derivative ofDerivedFoo, but also allow the creation of non-cloneable derivatives ofFoo.ShareImprove this answerFolloweditedJun 4, 2013 at 14:29Mifeet13.4k66 gold badges6161 silver badges109109 bronze badgesansweredDec 7, 2011 at 21:24supercatsupercat79.9k99 gold badges171171 silver badges218218 bronze badges\n\nShortest way but need dependency:using Newtonsoft.Json;\n    public static T Clone<T>(T source) =>\n        JsonConvert.DeserializeObject<T>(JsonConvert.SerializeObject(source));ShareImprove this answerFollowansweredNov 21, 2019 at 12:59Erçin DedeoğluErçin Dedeoğlu5,30844 gold badges5151 silver badges7171 bronze badges\n\nC# 9.0 is introducing thewithkeyword that requires arecord(Thanks Mark Nading). This should allow very simple object cloning (and mutation if required) with very little boilerplate, but only with arecord.You cannot seem to be able to clone (by value) a class by putting it into a genericrecord;using System;\n                \npublic class Program\n{\n    public class Example\n    {\n        public string A { get; set; }\n    }\n    \n    public record ClonerRecord<T>(T a)\n    {\n    }\n\n    public static void Main()\n    {\n        var foo = new Example {A = ""Hello World""};\n        var bar = (new ClonerRecord<Example>(foo) with {}).a;\n        foo.A = ""Goodbye World :("";\n        Console.WriteLine(bar.A);\n    }\n}This writes ""Goodbye World :(""- the string was copied by reference (undesired).https://dotnetfiddle.net/w3IJgG(Incredibly, the above works correctly with astruct!https://dotnetfiddle.net/469NJv)But cloning arecorddoes seem to work as indented, cloning by value.using System;\n\npublic class Program\n{\n    public record Example\n    {\n        public string A { get; set; }\n    }\n    \n    public static void Main()\n    {\n        var foo = new Example {A = ""Hello World""};\n        var bar = foo with {};\n        foo.A = ""Goodbye World :("";\n        Console.WriteLine(bar.A);\n    }\n}This returns ""Hello World"", the string was copied by value!https://dotnetfiddle.net/MCHGELMore information can be found on the blog post:https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/operators/with-expressionShareImprove this answerFolloweditedAug 26, 2021 at 12:52answeredAug 5, 2021 at 9:24IzzyIzzy1,80611 gold badge1919 silver badges3333 bronze badges'}","{'title': ""How does PHP 'foreach' actually work?"", 'question': 'Let me prefix this by saying that I know whatforeachis, does and how to use it. This question concerns how it works under the bonnet, and I don\'t want any answers along the lines of ""this is how you loop an array withforeach"".For a long time I assumed thatforeachworked with the array itself. Then I found many references to the fact that it works with acopyof the array, and I have since assumed this to be the end of the story. But I recently got into a discussion on the matter, and after a little experimentation found that this was not in fact 100% true.Let me show what I mean. For the following test cases, we will be working with the following array:$array = array(1, 2, 3, 4, 5);Test case 1:foreach ($array as $item) {\n  echo ""$item\\n"";\n  $array[] = $item;\n}\nprint_r($array);\n\n/* Output in loop:    1 2 3 4 5\n   $array after loop: 1 2 3 4 5 1 2 3 4 5 */This clearly shows that we are not working directly with the source array - otherwise the loop would continue forever, since we are constantly pushing items onto the array during the loop. But just to be sure this is the case:Test case 2:foreach ($array as $key => $item) {\n  $array[$key + 1] = $item + 2;\n  echo ""$item\\n"";\n}\n\nprint_r($array);\n\n/* Output in loop:    1 2 3 4 5\n   $array after loop: 1 3 4 5 6 7 */This backs up our initial conclusion, we are working with a copy of the source array during the loop, otherwise we would see the modified values during the loop.But...If we look in themanual, we find this statement:When foreach first starts executing, the internal array pointer is automatically reset to the first element of the array.Right... this seems to suggest thatforeachrelies on the array pointer of the source array. But we\'ve just proved that we\'renot working with the source array, right? Well, not entirely.Test case 3:// Move the array pointer on one to make sure it doesn\'t affect the loop\nvar_dump(each($array));\n\nforeach ($array as $item) {\n  echo ""$item\\n"";\n}\n\nvar_dump(each($array));\n\n/* Output\n  array(4) {\n    [1]=>\n    int(1)\n    [""value""]=>\n    int(1)\n    [0]=>\n    int(0)\n    [""key""]=>\n    int(0)\n  }\n  1\n  2\n  3\n  4\n  5\n  bool(false)\n*/So, despite the fact that we are not working directly with the source array, we are working directly with the source array pointer - the fact that the pointer is at the end of the array at the end of the loop shows this. Except this can\'t be true - if it was, thentest case 1would loop forever.The PHP manual also states:As foreach relies on the internal array pointer changing it within the loop may lead to unexpected behavior.Well, let\'s find out what that ""unexpected behavior"" is (technically, any behavior is unexpected since I no longer know what to expect).Test case 4:foreach ($array as $key => $item) {\n  echo ""$item\\n"";\n  each($array);\n}\n\n/* Output: 1 2 3 4 5 */Test case 5:foreach ($array as $key => $item) {\n  echo ""$item\\n"";\n  reset($array);\n}\n\n/* Output: 1 2 3 4 5 */...nothing that unexpected there, in fact it seems to support the ""copy of source"" theory.The QuestionWhat is going on here? My C-fu is not good enough for me to able to extract a proper conclusion simply by looking at the PHP source code, I would appreciate it if someone could translate it into English for me.It seems to me thatforeachworks with acopyof the array, but sets the array pointer of the source array to the end of the array after the loop.Is this correct and the whole story?If not, what is it really doing?Is there any situation where using functions that adjust the array pointer (each(),reset()et al.) during aforeachcould affect the outcome of the loop?phploopsforeachiterationphp-internalsShareImprove this questionFolloweditedDec 27, 2016 at 2:52sergiol4,23955 gold badges4949 silver badges8585 bronze badgesaskedApr 7, 2012 at 19:33DaveRandomDaveRandom88.4k1111 gold badges157157 silver badges173173 bronze badges', 'answers': 'Answer recommended byPHPCollectiveforeachsupports iteration over three different kinds of values:ArraysNormal objectsTraversableobjectsIn the following, I will try to explain precisely how iteration works in different cases. By far the simplest case isTraversableobjects, as for theseforeachis essentially only syntax sugar for code along these lines:foreach ($it as $k => $v) { /* ... */ }\n\n/* translates to: */\n\nif ($it instanceof IteratorAggregate) {\n    $it = $it->getIterator();\n}\nfor ($it->rewind(); $it->valid(); $it->next()) {\n    $v = $it->current();\n    $k = $it->key();\n    /* ... */\n}For internal classes, actual method calls are avoided by using an internal API that essentially just mirrors theIteratorinterface on the C level.Iteration of arrays and plain objects is significantly more complicated. First of all, it should be noted that in PHP ""arrays"" are really ordered dictionaries and they will be traversed according to this order (which matches the insertion order as long as you didn\'t use something likesort). This is opposed to iterating by the natural order of the keys (how lists in other languages often work) or having no defined order at all (how dictionaries in other languages often work).The same also applies to objects, as the object properties can be seen as another (ordered) dictionary mapping property names to their values, plus some visibility handling. In the majority of cases, the object properties are not actually stored in this rather inefficient way. However, if you start iterating over an object, the packed representation that is normally used will be converted to a real dictionary. At that point, iteration of plain objects becomes very similar to iteration of arrays (which is why I\'m not discussing plain-object iteration much in here).So far, so good. Iterating over a dictionary can\'t be too hard, right? The problems begin when you realize that an array/object can change during iteration. There are multiple ways this can happen:If you iterate by reference usingforeach ($arr as &$v)then$arris turned into a reference and you can change it during iteration.In PHP 5 the same applies even if you iterate by value, but the array was a reference beforehand:$ref =& $arr; foreach ($ref as $v)Objects have by-handle passing semantics, which for most practical purposes means that they behave like references. So objects can always be changed during iteration.The problem with allowing modifications during iteration is the case where the element you are currently on is removed. Say you use a pointer to keep track of which array element you are currently at. If this element is now freed, you are left with a dangling pointer (usually resulting in a segfault).There are different ways of solving this issue. PHP 5 and PHP 7 differ significantly in this regard and I\'ll describe both behaviors in the following. The summary is that PHP 5\'s approach was rather dumb and lead to all kinds of weird edge-case issues, while PHP 7\'s more involved approach results in more predictable and consistent behavior.As a last preliminary, it should be noted that PHP uses reference counting and copy-on-write to manage memory. This means that if you ""copy"" a value, you actually just reuse the old value and increment its reference count (refcount). Only once you perform some kind of modification a real copy (called a ""duplication"") will be done. SeeYou\'re being lied tofor a more extensive introduction on this topic.PHP 5Internal array pointer and HashPointerArrays in PHP 5 have one dedicated ""internal array pointer"" (IAP), which properly supports modifications: Whenever an element is removed, there will be a check whether the IAP points to this element. If it does, it is advanced to the next element instead.Whileforeachdoes make use of the IAP, there is an additional complication: There is only one IAP, but one array can be part of multipleforeachloops:// Using by-ref iteration here to make sure that it\'s really\n// the same array in both loops and not a copy\nforeach ($arr as &$v1) {\n    foreach ($arr as &$v) {\n        // ...\n    }\n}To support two simultaneous loops with only one internal array pointer,foreachperforms the following shenanigans: Before the loop body is executed,foreachwill back up a pointer to the current element and its hash into a per-foreachHashPointer. After the loop body runs, the IAP will be set back to this element if it still exists. If however the element has been removed, we\'ll just use wherever the IAP is currently at. This scheme mostly-kinda-sort of works, but there\'s a lot of weird behavior you can get out of it, some of which I\'ll demonstrate below.Array duplicationThe IAP is a visible feature of an array (exposed through thecurrentfamily of functions), as such changes to the IAP count as modifications under copy-on-write semantics. This, unfortunately, means thatforeachis in many cases forced to duplicate the array it is iterating over. The precise conditions are:The array is not a reference (is_ref=0). If it\'s a reference, then changes to it aresupposedto propagate, so it should not be duplicated.The array has refcount>1. Ifrefcountis 1, then the array is not shared and we\'re free to modify it directly.If the array is not duplicated (is_ref=0, refcount=1), then only itsrefcountwill be incremented (*). Additionally, ifforeachby reference is used, then the (potentially duplicated) array will be turned into a reference.Consider this code as an example where duplication occurs:function iterate($arr) {\n    foreach ($arr as $v) {}\n}\n\n$outerArr = [0, 1, 2, 3, 4];\niterate($outerArr);Here,$arrwill be duplicated to prevent IAP changes on$arrfrom leaking to$outerArr. In terms of the conditions above, the array is not a reference (is_ref=0) and is used in two places (refcount=2). This requirement is unfortunate and an artifact of the suboptimal implementation (there is no concern of modification during iteration here, so we don\'t really need to use the IAP in the first place).(*) Incrementing therefcounthere sounds innocuous, but violates copy-on-write (COW) semantics: This means that we are going to modify the IAP of a refcount=2 array, while COW dictates that modifications can only be performed on refcount=1 values. This violation results in user-visible behavior change (while a COW is normally transparent) because the IAP change on the iterated array will be observable -- but only until the first non-IAP modification on the array. Instead, the three ""valid"" options would have been a) to always duplicate, b) do not increment therefcountand thus allowing the iterated array to be arbitrarily modified in the loop or c) don\'t use the IAP at all (the PHP 7 solution).Position advancement orderThere is one last implementation detail that you have to be aware of to properly understand the code samples below. The ""normal"" way of looping through some data structure would look something like this in pseudocode:reset(arr);\nwhile (get_current_data(arr, &data) == SUCCESS) {\n    code();\n    move_forward(arr);\n}Howeverforeach, being a rather special snowflake, chooses to do things slightly differently:reset(arr);\nwhile (get_current_data(arr, &data) == SUCCESS) {\n    move_forward(arr);\n    code();\n}Namely, the array pointer is already moved forwardbeforethe loop body runs. This means that while the loop body is working on element$i, the IAP is already at element$i+1. This is the reason why code samples showing modification during iteration will alwaysunsetthenextelement, rather than the current one.Examples: Your test casesThe three aspects described above should provide you with a mostly complete impression of the idiosyncrasies of theforeachimplementation and we can move on to discuss some examples.The behavior of your test cases is simple to explain at this point:In test cases 1 and 2$arraystarts off with refcount=1, so it will not be duplicated byforeach: Only therefcountis incremented. When the loop body subsequently modifies the array (which has refcount=2 at that point), the duplication will occur at that point. Foreach will continue working on an unmodified copy of$array.In test case 3, once again the array is not duplicated, thusforeachwill be modifying the IAP of the$arrayvariable. At the end of the iteration, the IAP is NULL (meaning iteration has done), whicheachindicates by returningfalse.In test cases 4 and 5 botheachandresetare by-reference functions. The$arrayhas arefcount=2when it is passed to them, so it has to be duplicated. As suchforeachwill be working on a separate array again.Examples: Effects ofcurrentin foreachA good way to show the various duplication behaviors is to observe the behavior of thecurrent()function inside aforeachloop. Consider this example:foreach ($array as $val) {\n    var_dump(current($array));\n}\n/* Output: 2 2 2 2 2 */Here you should know thatcurrent()is a by-ref function (actually: prefer-ref), even though it does not modify the array. It has to be in order to play nice with all the other functions likenextwhich are all by-ref. By-reference passing implies that the array has to be separated and thus$arrayand theforeach-arraywill be different. The reason you get2instead of1is also mentioned above:foreachadvances the array pointerbeforerunning the user code, not after. So even though the code is at the first element,foreachalready advanced the pointer to the second.Now lets try a small modification:$ref = &$array;\nforeach ($array as $val) {\n    var_dump(current($array));\n}\n/* Output: 2 3 4 5 false */Here we have the is_ref=1 case, so the array is not copied (just like above). But now that it is a reference, the array no longer has to be duplicated when passing to the by-refcurrent()function. Thuscurrent()andforeachwork on the same array. You still see the off-by-one behavior though, due to the wayforeachadvances the pointer.You get the same behavior when doing by-ref iteration:foreach ($array as &$val) {\n    var_dump(current($array));\n}\n/* Output: 2 3 4 5 false */Here the important part is that foreach will make$arrayan is_ref=1 when it is iterated by reference, so basically you have the same situation as above.Another small variation, this time we\'ll assign the array to another variable:$foo = $array;\nforeach ($array as $val) {\n    var_dump(current($array));\n}\n/* Output: 1 1 1 1 1 */Here the refcount of the$arrayis 2 when the loop is started, so for once we actually have to do the duplication upfront. Thus$arrayand the array used by foreach will be completely separate from the outset. That\'s why you get the position of the IAP wherever it was before the loop (in this case it was at the first position).Examples: Modification during iterationTrying to account for modifications during iteration is where all our foreach troubles originated, so it serves to consider some examples for this case.Consider these nested loops over the same array (where by-ref iteration is used to make sure it really is the same one):foreach ($array as &$v1) {\n    foreach ($array as &$v2) {\n        if ($v1 == 1 && $v2 == 1) {\n            unset($array[1]);\n        }\n        echo ""($v1, $v2)\\n"";\n    }\n}\n\n// Output: (1, 1) (1, 3) (1, 4) (1, 5)The expected part here is that(1, 2)is missing from the output because element1was removed. What\'s probably unexpected is that the outer loop stops after the first element. Why is that?The reason behind this is the nested-loop hack described above: Before the loop body runs, the current IAP position and hash is backed up into aHashPointer. After the loop body it will be restored, but only if the element still exists, otherwise the current IAP position (whatever it may be) is used instead. In the example above this is exactly the case: The current element of the outer loop has been removed, so it will use the IAP, which has already been marked as finished by the inner loop!Another consequence of theHashPointerbackup+restore mechanism is that changes to the IAP throughreset()etc. usually do not impactforeach. For example, the following code executes as if thereset()were not present at all:$array = [1, 2, 3, 4, 5];\nforeach ($array as &$value) {\n    var_dump($value);\n    reset($array);\n}\n// output: 1, 2, 3, 4, 5The reason is that, whilereset()temporarily modifies the IAP, it will be restored to the current foreach element after the loop body. To forcereset()to make an effect on the loop, you have to additionally remove the current element, so that the backup/restore mechanism fails:$array = [1, 2, 3, 4, 5];\n$ref =& $array;\nforeach ($array as $value) {\n    var_dump($value);\n    unset($array[1]);\n    reset($array);\n}\n// output: 1, 1, 3, 4, 5But, those examples are still sane. The real fun starts if you remember that theHashPointerrestore uses a pointer to the element and its hash to determine whether it still exists. But: Hashes have collisions, and pointers can be reused! This means that, with a careful choice of array keys, we can makeforeachbelieve that an element that has been removed still exists, so it will jump directly to it. An example:$array = [\'EzEz\' => 1, \'EzFY\' => 2, \'FYEz\' => 3];\n$ref =& $array;\nforeach ($array as $value) {\n    unset($array[\'EzFY\']);\n    $array[\'FYFY\'] = 4;\n    reset($array);\n    var_dump($value);\n}\n// output: 1, 4Here we should normally expect the output1, 1, 3, 4according to the previous rules. How what happens is that\'FYFY\'has the same hash as the removed element\'EzFY\', and the allocator happens to reuse the same memory location to store the element. So foreach ends up directly jumping to the newly inserted element, thus short-cutting the loop.Substituting the iterated entity during the loopOne last odd case that I\'d like to mention, it is that PHP allows you to substitute the iterated entity during the loop. So you can start iterating on one array and then replace it with another array halfway through. Or start iterating on an array and then replace it with an object:$arr = [1, 2, 3, 4, 5];\n$obj = (object) [6, 7, 8, 9, 10];\n\n$ref =& $arr;\nforeach ($ref as $val) {\n    echo ""$val\\n"";\n    if ($val == 3) {\n        $ref = $obj;\n    }\n}\n/* Output: 1 2 3 6 7 8 9 10 */As you can see in this case PHP will just start iterating the other entity from the start once the substitution has happened.PHP 7Hashtable iteratorsIf you still remember, the main problem with array iteration was how to handle removal of elements mid-iteration. PHP 5 used a single internal array pointer (IAP) for this purpose, which was somewhat suboptimal, as one array pointer had to be stretched to support multiple simultaneous foreach loopsandinteraction withreset()etc. on top of that.PHP 7 uses a different approach, namely, it supports creating an arbitrary amount of external, safe hashtable iterators. These iterators have to be registered in the array, from which point on they have the same semantics as the IAP: If an array element is removed, all hashtable iterators pointing to that element will be advanced to the next element.This means thatforeachwill no longer use the IAPat all. Theforeachloop will be absolutely no effect on the results ofcurrent()etc. and its own behavior will never be influenced by functions likereset()etc.Array duplicationAnother important change between PHP 5 and PHP 7 relates to array duplication. Now that the IAP is no longer used, by-value array iteration will only do arefcountincrement (instead of duplication the array) in all cases. If the array is modified during theforeachloop, at that point a duplication will occur (according to copy-on-write) andforeachwill keep working on the old array.In most cases, this change is transparent and has no other effect than better performance. However, there is one occasion where it results in different behavior, namely the case where the array was a reference beforehand:$array = [1, 2, 3, 4, 5];\n$ref = &$array;\nforeach ($array as $val) {\n    var_dump($val);\n    $array[2] = 0;\n}\n/* Old output: 1, 2, 0, 4, 5 */\n/* New output: 1, 2, 3, 4, 5 */Previously by-value iteration of reference-arrays was special cases. In this case, no duplication occurred, so all modifications of the array during iteration would be reflected by the loop. In PHP 7 this special case is gone: A by-value iteration of an array willalwayskeep working on the original elements, disregarding any modifications during the loop.This, of course, does not apply to by-reference iteration. If you iterate by-reference all modifications will be reflected by the loop. Interestingly, the same is true for by-value iteration of plain objects:$obj = new stdClass;\n$obj->foo = 1;\n$obj->bar = 2;\nforeach ($obj as $val) {\n    var_dump($val);\n    $obj->bar = 42;\n}\n/* Old and new output: 1, 42 */This reflects the by-handle semantics of objects (i.e. they behave reference-like even in by-value contexts).ExamplesLet\'s consider a few examples, starting with your test cases:Test cases 1 and 2 retain the same output: By-value array iteration always keep working on the original elements. (In this case, evenrefcountingand duplication behavior is exactly the same between PHP 5 and PHP 7).Test case 3 changes:Foreachno longer uses the IAP, soeach()is not affected by the loop. It will have the same output before and after.Test cases 4 and 5 stay the same:each()andreset()will duplicate the array before changing the IAP, whileforeachstill uses the original array. (Not that the IAP change would have mattered, even if the array was shared.)The second set of examples was related to the behavior ofcurrent()under differentreference/refcountingconfigurations. This no longer makes sense, ascurrent()is completely unaffected by the loop, so its return value always stays the same.However, we get some interesting changes when considering modifications during iteration. I hope you will find the new behavior saner. The first example:$array = [1, 2, 3, 4, 5];\nforeach ($array as &$v1) {\n    foreach ($array as &$v2) {\n        if ($v1 == 1 && $v2 == 1) {\n            unset($array[1]);\n        }\n        echo ""($v1, $v2)\\n"";\n    }\n}\n\n// Old output: (1, 1) (1, 3) (1, 4) (1, 5)\n// New output: (1, 1) (1, 3) (1, 4) (1, 5)\n//             (3, 1) (3, 3) (3, 4) (3, 5)\n//             (4, 1) (4, 3) (4, 4) (4, 5)\n//             (5, 1) (5, 3) (5, 4) (5, 5)As you can see, the outer loop no longer aborts after the first iteration. The reason is that both loops now have entirely separate hashtable iterators, and there is no longer any cross-contamination of both loops through a shared IAP.Another weird edge case that is fixed now, is the odd effect you get when you remove and add elements that happen to have the same hash:$array = [\'EzEz\' => 1, \'EzFY\' => 2, \'FYEz\' => 3];\nforeach ($array as &$value) {\n    unset($array[\'EzFY\']);\n    $array[\'FYFY\'] = 4;\n    var_dump($value);\n}\n// Old output: 1, 4\n// New output: 1, 3, 4Previously the HashPointer restore mechanism jumped right to the new element because it ""looked"" like it\'s the same as the removed element (due to colliding hash and pointer). As we no longer rely on the element hash for anything, this is no longer an issue.ShareImprove this answerFolloweditedOct 1, 2019 at 21:32Quolonel Questions6,91922 gold badges3636 silver badges3434 bronze badgesansweredFeb 13, 2013 at 13:21NikiCNikiC102k3838 gold badges192192 silver badges225225 bronze badges\n\nIn example 3 you don\'t modify the array. In all other examples you modify either the contents or the internal array pointer. This is important when it comes toPHParrays because of the semantics of the assignment operator.The assignment operator for the arrays in PHP works more like a lazy clone. Assigning one variable to another that contains an array will clone the array, unlike most languages. However, the actual cloning will not be done unless it is needed. This means that the clone will take place only when either of the variables is modified (copy-on-write).Here is an example:$a = array(1,2,3);\n$b = $a;  // This is lazy cloning of $a. For the time\n          // being $a and $b point to the same internal\n          // data structure.\n\n$a[] = 3; // Here $a changes, which triggers the actual\n          // cloning. From now on, $a and $b are two\n          // different data structures. The same would\n          // happen if there were a change in $b.Coming back to your test cases, you can easily imagine thatforeachcreates some kind of iterator with a reference to the array. This reference works exactly like the variable$bin my example. However, the iterator along with the reference live only during the loop and then, they are both discarded. Now you can see that, in all cases but 3, the array is modified during the loop, while this extra reference is alive. This triggers a clone, and that explains what\'s going on here!Here is an excellent article for another side effect of this copy-on-write behaviour:The PHP Ternary Operator: Fast or not?ShareImprove this answerFolloweditedApr 15, 2014 at 11:10Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredApr 7, 2012 at 20:43linepogllinepogl9,30744 gold badges3535 silver badges4545 bronze badges\n\nSome points to note when working withforeach():a)foreachworks on theprospected copyof the original array.\n    It meansforeach()will have SHARED data storage until or unless aprospected copyis\n    not createdforeach Notes/User comments.b) What triggers aprospected copy?\n    A prospected copy is created based on the policy ofcopy-on-write, that is, whenever\n    an array passed toforeach()is changed, a clone of the original array is created.c) The original array andforeach()iterator will haveDISTINCT SENTINEL VARIABLES, that is, one for the original array and other forforeach; see the test code below.SPL,Iterators, andArray Iterator.Stack\xa0Overflow questionHow to make sure the value is reset in a \'foreach\' loop in PHP?addresses the cases (3,4,5) of your question.The following example shows that each() and reset() DOES NOT affectSENTINELvariables(for example, the current index variable)of theforeach()iterator.$array = array(1, 2, 3, 4, 5);\n\nlist($key2, $val2) = each($array);\necho ""each() Original (outside): $key2 => $val2<br/>"";\n\nforeach($array as $key => $val){\n    echo ""foreach: $key => $val<br/>"";\n\n    list($key2,$val2) = each($array);\n    echo ""each() Original(inside): $key2 => $val2<br/>"";\n\n    echo ""--------Iteration--------<br/>"";\n    if ($key == 3){\n        echo ""Resetting original array pointer<br/>"";\n        reset($array);\n    }\n}\n\nlist($key2, $val2) = each($array);\necho ""each() Original (outside): $key2 => $val2<br/>"";Output:each() Original (outside): 0 => 1\nforeach: 0 => 1\neach() Original(inside): 1 => 2\n--------Iteration--------\nforeach: 1 => 2\neach() Original(inside): 2 => 3\n--------Iteration--------\nforeach: 2 => 3\neach() Original(inside): 3 => 4\n--------Iteration--------\nforeach: 3 => 4\neach() Original(inside): 4 => 5\n--------Iteration--------\nResetting original array pointer\nforeach: 4 => 5\neach() Original(inside): 0=>1\n--------Iteration--------\neach() Original (outside): 1 => 2ShareImprove this answerFolloweditedApr 23, 2019 at 21:57Amin.MasterkinG81311 gold badge1313 silver badges2525 bronze badgesansweredApr 7, 2012 at 21:03sakhunzaisakhunzai14.4k2626 gold badges101101 silver badges160160 bronze badges\n\nNOTE FOR PHP 7To update on this answer as it has gained some popularity: This answer no longer applies as of PHP 7. As explained in the ""Backward incompatible changes"", in PHP 7 foreach works on copy of the array, so any changes on the array itself are not reflected on foreach loop. More details at the link.Explanation (quote fromphp.net):The first form loops over the array given by array_expression. On each\n  iteration, the value of the current element is assigned to $value and\n  the internal array pointer is advanced by one (so on the next\n  iteration, you\'ll be looking at the next element).So, in your first example you only have one element in the array, and when the pointer is moved the next element does not exist, so after you add new element foreach ends because it already ""decided"" that it it as the last element.In your second example, you start with two elements, and foreach loop is not at the last element so it evaluates the array on the next iteration and thus realises that there is new element in the array.I believe that this is all consequence ofOn each iterationpart of the explanation in the documentation, which probably means thatforeachdoes all logic before it calls the code in{}.Test caseIf you run this:<?\n    $array = Array(\n        \'foo\' => 1,\n        \'bar\' => 2\n    );\n    foreach($array as $k=>&$v) {\n        $array[\'baz\']=3;\n        echo $v."" "";\n    }\n    print_r($array);\n?>You will get this output:1 2 3 Array\n(\n    [foo] => 1\n    [bar] => 2\n    [baz] => 3\n)Which means that it accepted the modification and went through it because it was modified ""in time"". But if you do this:<?\n    $array = Array(\n        \'foo\' => 1,\n        \'bar\' => 2\n    );\n    foreach($array as $k=>&$v) {\n        if ($k==\'bar\') {\n            $array[\'baz\']=3;\n        }\n        echo $v."" "";\n    }\n    print_r($array);\n?>You will get:1 2 Array\n(\n    [foo] => 1\n    [bar] => 2\n    [baz] => 3\n)Which means that array was modified, but since we modified it when theforeachalready was at the last element of the array, it ""decided"" not to loop anymore, and even though we added new element, we added it ""too late"" and it was not looped through.Detailed explanation can be read atHow does PHP \'foreach\' actually work?which explains the internals behind this behaviour.ShareImprove this answerFolloweditedJun 1, 2018 at 12:23answeredApr 15, 2014 at 8:46dkasipovicdkasipovic6,06811 gold badge2020 silver badges2525 bronze badges\n\nAs per the documentation provided by PHP manual.On each iteration, the value of the current element is assigned to $v and the internalarray pointer is advanced by one (so on the next iteration, you\'ll be looking at the next element).So as per your first example:$array = [\'foo\'=>1];\nforeach($array as $k=>&$v)\n{\n   $array[\'bar\']=2;\n   echo($v);\n}$arrayhave only single element, so as per the foreach execution, 1 assign to$vand it don\'t have any other element to move pointerBut in your second example:$array = [\'foo\'=>1, \'bar\'=>2];\nforeach($array as $k=>&$v)\n{\n   $array[\'baz\']=3;\n   echo($v);\n}$arrayhave two element, so now $array evaluate the zero indices and move the pointer by one. For first iteration of loop, added$array[\'baz\']=3;as pass by reference.ShareImprove this answerFolloweditedApr 15, 2014 at 9:35Amal Murali76.3k1818 gold badges132132 silver badges153153 bronze badgesansweredApr 15, 2014 at 9:32user3535130user353513031622 silver badges55 bronze badges\n\nGreat question, because many developers, even experienced ones, are confused by the way PHP handles arrays in foreach loops. In the standard foreach loop, PHP makes a copy of the array that is used in the loop. The copy is discarded immediately after the loop finishes. This is transparent in the operation of a simple foreach loop. \nFor example:$set = array(""apple"", ""banana"", ""coconut"");\nforeach ( $set AS $item ) {\n    echo ""{$item}\\n"";\n}This outputs:apple\nbanana\ncoconutSo the copy is created but the developer doesn\'t notice, because the original array isn’t referenced within the loop or after the loop finishes. However, when you attempt to modify the items in a loop, you find that they are unmodified when you finish:$set = array(""apple"", ""banana"", ""coconut"");\nforeach ( $set AS $item ) {\n    $item = strrev ($item);\n}\n\nprint_r($set);This outputs:Array\n(\n    [0] => apple\n    [1] => banana\n    [2] => coconut\n)Any changes from the original can\'t be notices, actually there are no changes from the original, even though you clearly assigned a value to $item. This is because you are operating on $item as it appears in the copy of $set being worked on. You can override this by grabbing $item by reference, like so:$set = array(""apple"", ""banana"", ""coconut"");\nforeach ( $set AS &$item ) {\n    $item = strrev($item);\n}\nprint_r($set);This outputs:Array\n(\n    [0] => elppa\n    [1] => ananab\n    [2] => tunococ\n)So it is evident and observable, when $item is operated on by-reference, the changes made to $item are made to the members of the original $set. Using $item by reference also prevents PHP from creating the array copy. To test this, first we’ll show a quick script demonstrating the copy:$set = array(""apple"", ""banana"", ""coconut"");\nforeach ( $set AS $item ) {\n    $set[] = ucfirst($item);\n}\nprint_r($set);This outputs:Array\n(\n    [0] => apple\n    [1] => banana\n    [2] => coconut\n    [3] => Apple\n    [4] => Banana\n    [5] => Coconut\n)As it is shown in the example, PHP copied $set and used it to loop over, but when $set was used inside the loop, PHP added the variables to the original array, not the copied array. Basically, PHP is only using the copied array for the execution of the loop and the assignment of $item. Because of this, the loop above only executes 3 times, and each time it appends another value to the end of the original $set, leaving the original $set with 6 elements, but never entering an infinite loop.However, what if we had used $item by reference, as I mentioned before? A single character added to the above test:$set = array(""apple"", ""banana"", ""coconut"");\nforeach ( $set AS &$item ) {\n    $set[] = ucfirst($item);\n}\nprint_r($set);Results in an infinite loop. Note this actually is an infinite loop, you’ll have to either kill the script yourself or wait for your OS to run out of memory. I added the following line to my script so PHP would run out of memory very quickly, I suggest you do the same if you’re going to be running these infinite loop tests:ini_set(""memory_limit"",""1M"");So in this previous example with the infinite loop, we see the reason why PHP was written to create a copy of the array to loop over. When a copy is created and used only by the structure of the loop construct itself, the array stays static throughout the execution of the loop, so you’ll never run into issues.ShareImprove this answerFollowansweredApr 21, 2017 at 8:44Hrvoje AntunovićHrvoje Antunović80166 silver badges1515 bronze badges\n\nPHP foreach loop can be used withIndexed arrays,Associative arraysandObject public variables.In foreach loop, the first thing php does is that it creates a copy of the array which is to be iterated over. PHP then iterates over this newcopyof the array rather than the original one. This is demonstrated in the below example:<?php\n$numbers = [1,2,3,4,5,6,7,8,9]; # initial values for our array\necho \'<pre>\', print_r($numbers, true), \'</pre>\', \'<hr />\';\nforeach($numbers as $index => $number){\n    $numbers[$index] = $number + 1; # this is making changes to the origial array\n    echo \'Inside of the array = \', $index, \': \', $number, \'<br />\'; # showing data from the copied array\n}\necho \'<hr />\', \'<pre>\', print_r($numbers, true), \'</pre>\'; # shows the original values (also includes the newly added values).Besides this, php does allow to useiterated values as a reference to the original array valueas well. This is demonstrated below:<?php\n$numbers = [1,2,3,4,5,6,7,8,9];\necho \'<pre>\', print_r($numbers, true), \'</pre>\';\nforeach($numbers as $index => &$number){\n    ++$number; # we are incrementing the original value\n    echo \'Inside of the array = \', $index, \': \', $number, \'<br />\'; # this is showing the original value\n}\necho \'<hr />\';\necho \'<pre>\', print_r($numbers, true), \'</pre>\'; # we are again showing the original valueNote:It does not alloworiginal array indexesto be used asreferences.Source:http://dwellupper.io/post/47/understanding-php-foreach-loop-with-examplesShareImprove this answerFollowansweredNov 13, 2017 at 14:08Pranav RanaPranav Rana37122 silver badges66 bronze badges'}","{'title': ""How can I fix 'android.os.NetworkOnMainThreadException'?"", 'question': 'I got an error while running my Android project for RssReader.Code:URL url = new URL(urlToRssFeed);\nSAXParserFactory factory = SAXParserFactory.newInstance();\nSAXParser parser = factory.newSAXParser();\nXMLReader xmlreader = parser.getXMLReader();\nRssHandler theRSSHandler = new RssHandler();\nxmlreader.setContentHandler(theRSSHandler);\nInputSource is = new InputSource(url.openStream());\nxmlreader.parse(is);\nreturn theRSSHandler.getFeed();And it shows the below error:android.os.NetworkOnMainThreadExceptionHow can I fix this issue?javaandroidandroid-networkingnetworkonmainthreadShareImprove this questionFolloweditedJul 22, 2021 at 10:25Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesaskedJun 14, 2011 at 12:02bejoy georgebejoy george29.7k55 gold badges2020 silver badges1515 bronze badges', 'answers': 'NOTE : AsyncTask was deprecated in API level 30.AsyncTask | Android DevelopersThis exception is thrown when an application attempts to perform a networking operation on its main thread. Run your code inAsyncTask:class RetrieveFeedTask extends AsyncTask<String, Void, RSSFeed> {\n\n    private Exception exception;\n\n    protected RSSFeed doInBackground(String... urls) {\n        try {\n            URL url = new URL(urls[0]);\n            SAXParserFactory factory = SAXParserFactory.newInstance();\n            SAXParser parser = factory.newSAXParser();\n            XMLReader xmlreader = parser.getXMLReader();\n            RssHandler theRSSHandler = new RssHandler();\n            xmlreader.setContentHandler(theRSSHandler);\n            InputSource is = new InputSource(url.openStream());\n            xmlreader.parse(is);\n\n            return theRSSHandler.getFeed();\n        } catch (Exception e) {\n            this.exception = e;\n\n            return null;\n        } finally {\n            is.close();\n        }\n    }\n\n    protected void onPostExecute(RSSFeed feed) {\n        // TODO: check this.exception\n        // TODO: do something with the feed\n    }\n}How to execute the task:InMainActivity.javafile you can add this line within youroncreate()methodnew RetrieveFeedTask().execute(urlToRssFeed);Don\'t forget to add this toAndroidManifest.xmlfile:<uses-permission android:name=""android.permission.INTERNET""/>ShareImprove this answerFolloweditedMar 16, 2021 at 20:10Shayan Shafiq1,46855 gold badges1919 silver badges2525 bronze badgesansweredJun 14, 2011 at 12:15Michael SpectorMichael Spector37k66 gold badges6262 silver badges9090 bronze badges\n\nYou should almost always run network operations on a thread or as an asynchronous task.But itispossible to remove this restriction and you override the default behavior, if you are willing to accept the consequences.Add:StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\n\nStrictMode.setThreadPolicy(policy);In your class,andAddthis permission in the Androidmanifest.xmlfile:<uses-permission android:name=""android.permission.INTERNET""/>Consequences:Your app will (in areas of spotty Internet connection) become unresponsive and lock up, the user perceives slowness and has to do a force kill, and you risk the activity manager killing your app and telling the user that the app has stopped.Android has some good tips on good programming practices to design for responsiveness:NetworkOnMainThreadException | Android DevelopersShareImprove this answerFolloweditedJul 22, 2021 at 10:26Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredFeb 15, 2012 at 6:59user1169115user11691158,99311 gold badge1414 silver badges22 bronze badges\n\nI solved this problem using a newThread.Thread thread = new Thread(new Runnable() {\n    \n    @Override\n    public void run() {\n        try {\n            // Your code goes here\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n});\n\nthread.start();ShareImprove this answerFolloweditedJul 5, 2023 at 12:29Dmitriy Popov2,30033 gold badges2525 silver badges3535 bronze badgesansweredJan 21, 2013 at 16:31Dr.LuijiDr.Luiji6,19111 gold badge1616 silver badges1111 bronze badges\n\nThe accepted answer has some significant downsides. It is not advisable to use AsyncTask for networking unless youreallyknow what you are doing. Some of the down-sides include:AsyncTask\'s created as non-static inner classes have an implicit reference to the enclosing Activity object, its context, and the entire View hierarchy created by that activity. This reference prevents the Activity from being garbage collected until the AsyncTask\'s background work completes. If the user\'s connection is slow, and/or the download is large, these short-term memory leaks can become a problem - for example, if the orientation changes several times (and you don\'t cancel the executing tasks), or the user navigates away from the Activity.AsyncTask has different execution characteristics depending on the platform it executes on: prior to API level 4 AsyncTasks execute serially on a single background thread; from API level 4 through API level 10, AsyncTasks execute on a pool of up to 128 threads; from API level 11 onwards AsyncTask executes serially on a single background thread (unless you use the overloadedexecuteOnExecutormethod and supply an alternative executor). Code that works fine when running serially on ICS may break when executed concurrently on Gingerbread, say if you have inadvertent order-of-execution dependencies.If you want to avoid short-term memory leaks, have well-defined execution characteristics across all platforms, and have a base to build really robust network handling, you might want to consider:Using a library that does a nice job of this for you - there\'s a nice comparison of networking libs inthis question, orUsing aServiceorIntentServiceinstead, perhaps with aPendingIntentto return the result via the Activity\'sonActivityResultmethod.IntentService approachDownsides:More code and complexity thanAsyncTask, though not as much as you might thinkWill queue requests and run them on asinglebackground thread. You can easily control this by replacingIntentServicewith an equivalentServiceimplementation, perhaps likethis one.Um, I can\'t think of any others right now actuallyUpsides:Avoids the short-term memory leak problemIf your activity restarts while network operations are in-flight it can still receive the result of the download via itsonActivityResultmethodA better platform than AsyncTask to build and reuse robust networking code. Example: if you need to do an important upload, you could do it fromAsyncTaskin anActivity, but if the user context-switches out of the app to take a phone call, the systemmaykill the app before the upload completes. It isless likelyto kill an application with an activeService.If you use your own concurrent version ofIntentService(like the one I linked above) you can control the level of concurrency via theExecutor.Implementation summaryYou can implement anIntentServiceto perform downloads on a single background thread quite easily.Step 1: Create anIntentServiceto perform the download. You can tell it what to download viaIntentextras, and pass it aPendingIntentto use to return the result to theActivity:import android.app.IntentService;\nimport android.app.PendingIntent;\nimport android.content.Intent;\nimport android.util.Log;\n\nimport java.io.InputStream;\nimport java.net.MalformedURLException;\nimport java.net.URL;\n\npublic class DownloadIntentService extends IntentService {\n\n    private static final String TAG = DownloadIntentService.class.getSimpleName();\n\n    public static final String PENDING_RESULT_EXTRA = ""pending_result"";\n    public static final String URL_EXTRA = ""url"";\n    public static final String RSS_RESULT_EXTRA = ""url"";\n\n    public static final int RESULT_CODE = 0;\n    public static final int INVALID_URL_CODE = 1;\n    public static final int ERROR_CODE = 2;\n\n    private IllustrativeRSSParser parser;\n\n    public DownloadIntentService() {\n        super(TAG);\n\n        // make one and reuse, in the case where more than one intent is queued\n        parser = new IllustrativeRSSParser();\n    }\n\n    @Override\n    protected void onHandleIntent(Intent intent) {\n        PendingIntent reply = intent.getParcelableExtra(PENDING_RESULT_EXTRA);\n        InputStream in = null;\n        try {\n            try {\n                URL url = new URL(intent.getStringExtra(URL_EXTRA));\n                IllustrativeRSS rss = parser.parse(in = url.openStream());\n\n                Intent result = new Intent();\n                result.putExtra(RSS_RESULT_EXTRA, rss);\n\n                reply.send(this, RESULT_CODE, result);\n            } catch (MalformedURLException exc) {\n                reply.send(INVALID_URL_CODE);\n            } catch (Exception exc) {\n                // could do better by treating the different sax/xml exceptions individually\n                reply.send(ERROR_CODE);\n            }\n        } catch (PendingIntent.CanceledException exc) {\n            Log.i(TAG, ""reply cancelled"", exc);\n        }\n    }\n}Step 2: Register the service in the manifest:<service\n        android:name="".DownloadIntentService""\n        android:exported=""false""/>Step 3: Invoke the service from the Activity, passing a PendingResult object which the Service will use to return the result:PendingIntent pendingResult = createPendingResult(\n    RSS_DOWNLOAD_REQUEST_CODE, new Intent(), 0);\nIntent intent = new Intent(getApplicationContext(), DownloadIntentService.class);\nintent.putExtra(DownloadIntentService.URL_EXTRA, URL);\nintent.putExtra(DownloadIntentService.PENDING_RESULT_EXTRA, pendingResult);\nstartService(intent);Step 4: Handle the result in onActivityResult:@Override\nprotected void onActivityResult(int requestCode, int resultCode, Intent data) {\n    if (requestCode == RSS_DOWNLOAD_REQUEST_CODE) {\n        switch (resultCode) {\n            case DownloadIntentService.INVALID_URL_CODE:\n                handleInvalidURL();\n                break;\n            case DownloadIntentService.ERROR_CODE:\n                handleError(data);\n                break;\n            case DownloadIntentService.RESULT_CODE:\n                handleRSS(data);\n                break;\n        }\n        handleRSS(data);\n    }\n    super.onActivityResult(requestCode, resultCode, data);\n}A GitHub project containing a complete working Android Studio/Gradleproject is availablehere.ShareImprove this answerFolloweditedJul 22, 2021 at 10:34Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJan 22, 2014 at 13:17StevieStevie8,06733 gold badges3131 silver badges2929 bronze badges\n\nYou cannot perform networkI/Oon the UI thread onHoneycomb. Technically, itispossible on earlier versions of Android, but it is a really bad idea as it will cause your app to stop responding, and can result in the OS killing your app for being badly behaved. You\'ll need to run a background process or use AsyncTask to perform your network transaction on a background thread.There is an article aboutPainless Threadingon the Android developer site which is a good introduction to this, and it will provide you with a much better depth of an answer than can be realistically provided here.ShareImprove this answerFolloweditedFeb 9, 2014 at 16:25Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJun 14, 2011 at 12:07Mark AllisonMark Allison21.9k88 gold badges4848 silver badges4646 bronze badges\n\nThere are two solutions of this problem.Don\'t use a network call in the main UI thread. Use an async task for that.Write the below code into your MainActivity file aftersetContentView(R.layout.activity_main);:if (android.os.Build.VERSION.SDK_INT > 9) {\nStrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\nStrictMode.setThreadPolicy(policy);\n}And the below import statement into your Java file.import android.os.StrictMode;ShareImprove this answerFolloweditedJul 22, 2021 at 10:38Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredOct 30, 2012 at 10:06Dipak KeshariyaDipak Keshariya22.3k1818 gold badges7878 silver badges128128 bronze badges\n\nDo the network actions on another thread.For example:new Thread(new Runnable() {\n    @Override\n    public void run() {\n        // Do network action in this function\n    }\n}).start();And add this to fileAndroidManifest.xml:<uses-permission android:name=""android.permission.INTERNET""/>ShareImprove this answerFolloweditedJul 5, 2023 at 12:29Dmitriy Popov2,30033 gold badges2525 silver badges3535 bronze badgesansweredDec 24, 2013 at 14:33henry4343henry43433,90155 gold badges2323 silver badges3232 bronze badges\n\nDo not use strictMode (only in debug mode)Do not change SDK versionDo not use a separate threadUse Service or AsyncTaskSee also Stack\xa0Overflow question:android.os.NetworkOnMainThreadException sending an email from AndroidShareImprove this answerFolloweditedMay 23, 2017 at 12:26CommunityBot111 silver badgeansweredAug 18, 2013 at 9:18venergiacvenergiac7,62922 gold badges5454 silver badges7171 bronze badges\n\nYou disable the strict mode using following code:if (android.os.Build.VERSION.SDK_INT > 9) {\n    StrictMode.ThreadPolicy policy = \n        new StrictMode.ThreadPolicy.Builder().permitAll().build();\n    StrictMode.setThreadPolicy(policy);\n}This is not recommended: use theAsyncTaskinterface.Full code for both the methodsShareImprove this answerFolloweditedApr 8, 2020 at 6:59answeredOct 24, 2012 at 7:10Piyush-Ask Any DifferencePiyush-Ask Any Difference4,27855 gold badges4949 silver badges9494 bronze badges\n\nNetwork-based operations cannot be run on the main thread. You need to run all network-based tasks on a child thread or implementAsyncTask.This is how you run a task in a child thread:new Thread(new Runnable() {\n    @Override\n    public void run() {\n        try {\n            // Your implementation goes here\n        } \n        catch (Exception ex) {\n            ex.printStackTrace();\n        }\n    }\n}).start();ShareImprove this answerFolloweditedJul 5, 2023 at 12:30Dmitriy Popov2,30033 gold badges2525 silver badges3535 bronze badgesansweredJan 14, 2014 at 6:14Dhruv JindalDhruv Jindal1,0561010 silver badges1717 bronze badges\n\nPut your code inside:new Thread(new Runnable() {\n    @Override\n    public void run() {\n        try {\n            // Your implementation\n        }\n        catch (Exception ex) {\n            ex.printStackTrace();\n        }\n    }\n}).start();Or:class DemoTask extends AsyncTask<Void, Void, Void> {\n\n    protected Void doInBackground(Void... arg0) {\n        // Your implementation\n    }\n\n    protected void onPostExecute(Void result) {\n        // TODO: do something with the feed\n    }\n}ShareImprove this answerFolloweditedJul 5, 2023 at 12:31Dmitriy Popov2,30033 gold badges2525 silver badges3535 bronze badgesansweredJul 28, 2014 at 10:43Vaishali SutariyaVaishali Sutariya5,1133131 silver badges3232 bronze badges\n\nThis happens in Android 3.0 and above. From Android 3.0 and above, they have restricted using network operations (functions that access the Internet) from running in the main thread/UI thread (what spawns from your on create and on resume methods in the activity).This is to encourage using separate threads for network operations. SeeAsyncTaskfor more details on how to perform network activities the right way.ShareImprove this answerFolloweditedFeb 9, 2014 at 16:27Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredSep 5, 2013 at 8:16raihan ahmedraihan ahmed54144 silver badges33 bronze badges\n\nUsingAndroid Annotationsis an option. It will allow you to simply run any method in a background thread:// normal method\nprivate void normal() {\n    doSomething(); // do something in background\n}\n\n@Background\nprotected void doSomething() \n    // run your networking code here\n}Note, that although it provides benefits of simplicity and readability, it has its disadvantages.ShareImprove this answerFolloweditedApr 30, 2015 at 16:46answeredJun 12, 2014 at 3:10OleksiyOleksiy39k2323 gold badges7777 silver badges123123 bronze badges\n\nThe error is due to executing long running operations in main thread,You can easily rectify the problem by usingAsynTaskorThread. You can checkout this libraryAsyncHTTPClientfor better handling.AsyncHttpClient client = new AsyncHttpClient();\nclient.get(""http://www.google.com"", new AsyncHttpResponseHandler() {\n\n    @Override\n    public void onStart() {\n        // Called before a request is started\n    }\n\n    @Override\n    public void onSuccess(int statusCode, Header[] headers, byte[] response) {\n        // Called when response HTTP status is ""200 OK""\n    }\n\n    @Override\n    public void onFailure(int statusCode, Header[] headers, byte[] errorResponse, Throwable e) {\n        // Called when response HTTP status is ""4XX"" (for example, 401, 403, 404)\n    }\n\n    @Override\n    public void onRetry(int retryNo) {\n        // Called when request is retried\n    }\n});ShareImprove this answerFolloweditedSep 7, 2017 at 4:53answeredJul 16, 2014 at 6:09Ashwin S AshokAshwin S Ashok3,63322 gold badges3030 silver badges3636 bronze badges\n\nYou should not do any time-consuming task on the main thread (UI thread), like any network operation, file I/O, or SQLite database operations. So for this kind of operation, you should create a worker thread, but the problem is that you can not directly perform any UI related operation from your worker thread. For that, you have to useHandlerand pass theMessage.To simplify all these things, Android provides various ways, likeAsyncTask,AsyncTaskLoader,CursorLoaderorIntentService. So you can use any of these according to your requirements.ShareImprove this answerFolloweditedFeb 9, 2014 at 16:29Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJan 5, 2014 at 18:28Kapil VatsKapil Vats5,50511 gold badge2828 silver badges3030 bronze badges\n\nThe topanswer of spektomworks perfect.If you are writing theAsyncTaskinline and not extending as a class, and on top of this, if there is a need to get a response out of theAsyncTask, one can use theget()method as below.RSSFeed feed = new RetreiveFeedTask().execute(urlToRssFeed).get();(From his example.)ShareImprove this answerFolloweditedMay 23, 2017 at 11:47CommunityBot111 silver badgeansweredJul 18, 2013 at 18:52sivag1sivag14,84433 gold badges3333 silver badges3535 bronze badges\n\nThis is only thrown for applications targeting theHoneycombSDK or higher. Applications targeting earlier SDK versions are allowed to do networking on their main event loop threads.The error is the SDK warning!ShareImprove this answerFolloweditedMar 8, 2023 at 15:15General Grievance4,8873636 gold badges3535 silver badges4949 bronze badgesansweredFeb 25, 2014 at 6:23perryperry85611 gold badge1010 silver badges2222 bronze badges\n\nFor me it was this:<uses-sdk\n        android:minSdkVersion=""8""\n        android:targetSdkVersion=""10"" />The device I was testing my app on was 4.1.2 which is SDK Version 16!Make the sure the target version is the same as your Android Target Library. If you are unsure what your target library is, right click your Project ->Build Path->Android, and it should be the one that is ticked.Also, as others have mentioned, include the correct permissions to access the Internet:<uses-permission android:name=""android.permission.INTERNET""/>ShareImprove this answerFolloweditedJun 22, 2016 at 21:07Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredSep 17, 2013 at 12:15rharveyrharvey2,00511 gold badge2929 silver badges2323 bronze badges\n\nUse this in Your Activitybtnsub.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            new Thread(new Runnable() {\n\n                @Override\n                public void run() {\n                    // TODO Auto-generated method stub\n\n                    //Initialize soap request + add parameters\n                    SoapObject request = new SoapObject(NAMESPACE, METHOD_NAME1);\n\n                    //Use this to add parameters\n                    request.addProperty(""pincode"", txtpincode.getText().toString());\n                    request.addProperty(""bg"", bloodgroup.getSelectedItem().toString());\n\n                    //Declare the version of the SOAP request\n                    SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);\n\n                    envelope.setOutputSoapObject(request);\n                    envelope.dotNet = true;\n\n                    try {\n                        HttpTransportSE androidHttpTransport = new HttpTransportSE(URL);\n\n                        //this is the actual part that will call the webservice\n                        androidHttpTransport.call(SOAP_ACTION1, envelope);\n\n                        // Get the SoapResult from the envelope body.\n                        SoapObject result = (SoapObject) envelope.getResponse();\n                        Log.e(""result data"", ""data"" + result);\n                        SoapObject root = (SoapObject) result.getProperty(0);\n                        // SoapObject s_deals = (SoapObject) root.getProperty(0);\n                        // SoapObject s_deals_1 = (SoapObject) s_deals.getProperty(0);\n                        //\n\n                        System.out.println(""********Count : "" + root.getPropertyCount());\n\n                        value = new ArrayList<Detailinfo>();\n\n                        for (int i = 0; i < root.getPropertyCount(); i++) {\n                            SoapObject s_deals = (SoapObject) root.getProperty(i);\n                            Detailinfo info = new Detailinfo();\n\n                            info.setFirstName(s_deals.getProperty(""Firstname"").toString());\n                            info.setLastName(s_deals.getProperty(""Lastname"").toString());\n                            info.setDOB(s_deals.getProperty(""DOB"").toString());\n                            info.setGender(s_deals.getProperty(""Gender"").toString());\n                            info.setAddress(s_deals.getProperty(""Address"").toString());\n                            info.setCity(s_deals.getProperty(""City"").toString());\n                            info.setState(s_deals.getProperty(""State"").toString());\n                            info.setPinecode(s_deals.getProperty(""Pinecode"").toString());\n                            info.setMobile(s_deals.getProperty(""Mobile"").toString());\n                            info.setEmail(s_deals.getProperty(""Email"").toString());\n                            info.setBloodgroup(s_deals.getProperty(""Bloodgroup"").toString());\n                            info.setAdddate(s_deals.getProperty(""Adddate"").toString());\n                            info.setWaight(s_deals.getProperty(""waight"").toString());\n                            value.add(info);\n                        }\n\n                    } catch (Exception e) {\n                        e.printStackTrace();\n                    }\n                    Intent intent = new Intent(getApplicationContext(), ComposeMail.class);\n                    //intent.putParcelableArrayListExtra(""valuesList"", value);\n\n                    startActivity(intent);\n                }\n            }).start();\n        }\n    });ShareImprove this answerFolloweditedDec 3, 2018 at 12:07Catalina T.3,48611 gold badge2020 silver badges3030 bronze badgesansweredMar 1, 2014 at 13:43dhiraj kakrandhiraj kakran46722 gold badges66 silver badges1919 bronze badges\n\nJust to spell out something explicitly:The main thread is basically the UI thread.So saying that you cannot do networking operations in the main thread means you cannot do networking operations in the UI thread, which meansyou cannot do networking operations in a*runOnUiThread(new Runnable() { ... }*blockinside some other thread, either.(I just had a long head-scratching moment trying to figure out why I was getting that error somewhere other than my main thread.  This was why; this thread helped; and hopefully this comment will help someone else.)ShareImprove this answerFollowansweredJun 24, 2014 at 21:32NovakNovak4,76522 gold badges2828 silver badges6666 bronze badges\n\nThis exception occurs due to any heavy task performed on the main thread if that performing task takestoo much time.To avoid this, we can handle it usingthreadsorexecutersExecutors.newSingleThreadExecutor().submit(new Runnable() {\n    @Override\n    public void run() {\n        // You can perform your task here.\n    }\n});ShareImprove this answerFolloweditedJun 22, 2016 at 21:12Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJul 21, 2014 at 11:53amardeepamardeep49244 silver badges1919 bronze badges\n\nThere are many great answers already on this question, but a lot of great libraries have come out since those answers were posted. This is intended as a kind of newbie-guide.I will cover several use cases for performing network operations andasolution or two for each.RESTover HTTPTypically JSON, but it can be XML or something else.Full API AccessLet\'s say you are writing an app that lets users track stock prices, interest rates and currency exchange rates. You find an JSON API that looks something like this:http://api.example.com/stocks                       // ResponseWrapper<String> object containing a\n                                                    // list of strings with ticker symbols\nhttp://api.example.com/stocks/$symbol               // Stock object\nhttp://api.example.com/stocks/$symbol/prices        // PriceHistory<Stock> object\nhttp://api.example.com/currencies                   // ResponseWrapper<String> object containing a\n                                                    // list of currency abbreviation\nhttp://api.example.com/currencies/$currency         // Currency object\nhttp://api.example.com/currencies/$id1/values/$id2  // PriceHistory<Currency> object comparing the prices\n                                                    // of the first currency (id1) to the second (id2)Retrofit from SquareThis is an excellent choice for an API with multiple endpoints and allows you to declare the REST endpoints instead of having to code them individually as with other libraries likeAmazon Ion JavaorVolley(website:Retrofit).How do you use it with the finances API?Filebuild.gradleAdd these lines to yourmodulelevelbuild.gradlefile:implementation \'com.squareup.retrofit2:retrofit:2.3.0\' // Retrofit library, current as of September 21, 2017\nimplementation \'com.squareup.retrofit2:converter-gson:2.3.0\' // Gson serialization and deserialization support for retrofit, version must match retrofit versionFileFinancesApi.javapublic interface FinancesApi {\n    @GET(""stocks"")\n    Call<ResponseWrapper<String>> listStocks();\n    @GET(""stocks/{symbol}"")\n    Call<Stock> getStock(@Path(""symbol"")String tickerSymbol);\n    @GET(""stocks/{symbol}/prices"")\n    Call<PriceHistory<Stock>> getPriceHistory(@Path(""symbol"")String tickerSymbol);\n\n    @GET(""currencies"")\n    Call<ResponseWrapper<String>> listCurrencies();\n    @GET(""currencies/{symbol}"")\n    Call<Currency> getCurrency(@Path(""symbol"")String currencySymbol);\n    @GET(""currencies/{symbol}/values/{compare_symbol}"")\n    Call<PriceHistory<Currency>> getComparativeHistory(@Path(""symbol"")String currency, @Path(""compare_symbol"")String currencyToPriceAgainst);\n}ClassFinancesApiBuilderpublic class FinancesApiBuilder {\n    public static FinancesApi build(String baseUrl){\n        return new Retrofit.Builder()\n                    .baseUrl(baseUrl)\n                    .addConverterFactory(GsonConverterFactory.create())\n                    .build()\n                    .create(FinancesApi.class);\n    }\n}ClassFinancesFragmentsnippetFinancesApi api = FinancesApiBuilder.build(""http://api.example.com/""); //trailing \'/\' required for predictable behavior\napi.getStock(""INTC"").enqueue(new Callback<Stock>(){\n    @Override\n    public void onResponse(Call<Stock> stockCall, Response<Stock> stockResponse){\n        Stock stock = stockCall.body();\n        // Do something with the stock\n    }\n    @Override\n    public void onResponse(Call<Stock> stockCall, Throwable t){\n        // Something bad happened\n    }\n}If your API requires an API key or other header, like a user token, etc. to be sent, Retrofit makes this easy (seethis awesome answertoAdd Header Parameter in Retrofitfor details).One-off REST API accessLet\'s say you\'re building a ""mood weather"" app that looks up the user\'s GPS location and checks the current temperature in that area and tells them the mood. This type of app doesn\'t need to declare API endpoints; it just needs to be able to access one API endpoint.IonThis is a great library for this type of access.Please readmsysmilu\'s great answertoHow can I fix \'android.os.NetworkOnMainThreadException\'?.Load images via HTTPVolleyVolley can also be used for REST APIs, but due to the more complicated setup required, I prefer to useRetrofitfrom Square as above.Let\'s say you are building a social networking app and want to load profile pictures of friends.Filebuild.gradleAdd this line to yourmodulelevelbuild.gradlefile:implementation \'com.android.volley:volley:1.0.0\'FileImageFetch.javaVolley requires more setup than Retrofit. You will need to create a class like this to setup a RequestQueue, an ImageLoader and an ImageCache, but it\'s not too bad:public class ImageFetch {\n    private static ImageLoader imageLoader = null;\n    private static RequestQueue imageQueue = null;\n\n    public static ImageLoader getImageLoader(Context ctx){\n        if(imageLoader == null){\n            if(imageQueue == null){\n                imageQueue = Volley.newRequestQueue(ctx.getApplicationContext());\n            }\n            imageLoader = new ImageLoader(imageQueue, new ImageLoader.ImageCache() {\n                Map<String, Bitmap> cache = new HashMap<String, Bitmap>();\n                @Override\n                public Bitmap getBitmap(String url) {\n                    return cache.get(url);\n                }\n                @Override\n                public void putBitmap(String url, Bitmap bitmap) {\n                    cache.put(url, bitmap);\n                }\n            });\n        }\n        return imageLoader;\n    }\n}Fileuser_view_dialog.xmlAdd the following to your layout XML file to add an image:<com.android.volley.toolbox.NetworkImageView\n    android:id=""@+id/profile_picture""\n    android:layout_width=""32dp""\n    android:layout_height=""32dp""\n    android:layout_alignParentTop=""true""\n    android:layout_centerHorizontal=""true""\n    app:srcCompat=""@android:drawable/spinner_background""/>FileUserViewDialog.javaAdd the following code to the onCreate method (Fragment, Activity) or the constructor (Dialog):NetworkImageView profilePicture = view.findViewById(R.id.profile_picture);\nprofilePicture.setImageUrl(""http://example.com/users/images/profile.jpg"", ImageFetch.getImageLoader(getContext());PicassoPicassois another excellent library from Square. Please see the website for some great examples.ShareImprove this answerFolloweditedJul 22, 2021 at 12:28Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredOct 20, 2017 at 23:50KG6ZVPKG6ZVP3,63955 gold badges2828 silver badges4545 bronze badges\n\nIn simple words,Do not do network work in the UI threadFor example, if you do an HTTP request, that is a network action.Solution:You have to create a new ThreadOruse theAsyncTask classWay:Put all your works insideTherun()method of the new threadOrthedoInBackground()method of the AsyncTask class.But:When you get something from a network response and want to show it on your view (like display response message in TextView), you need toreturn back to the UIthread.If you don\'t do it, you will getViewRootImpl$CalledFromWrongThreadException.How-toWhile using AsyncTask, update the view from theonPostExecute()methodOrcall therunOnUiThread()method and update the view inside therun()method.ShareImprove this answerFolloweditedJul 22, 2021 at 17:37Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJul 22, 2015 at 2:05NabinNabin11.6k88 gold badges6767 silver badges101101 bronze badges\n\nYou are able to move a part of your code into another thread to offload themain threadand avoid gettingANR,NetworkOnMainThreadException,IllegalStateException(e.g., cannot access database on the main thread since it may potentially lock the UI for a long period of time).There are some approaches that you should choose depends on the situationJavaThreador AndroidHandlerThread:Java threads are one-time use only and die after executing its run method.HandlerThread is a handy class for starting a new thread that has a looper.AsyncTask(deprecatedin API level 30)AsyncTaskis designed to be a helper class aroundThreadandHandlerand does not constitute a generic threading framework. AsyncTasks should ideally be used for short operations (a few seconds at the most.) If you need to keep threads running for long periods of time, it is highly recommended you use the various APIs provided by the java.util.concurrent package such asExecutor,ThreadPoolExecutorandFutureTask.Since themainthread monopolizes UI components, it is not possible to access to some View, and that is why Handler comes to the rescue[Executor framework]ThreadPoolExecutor class that implements ExecutorService which gives fine control on the thread pool (E.g., core pool size, max pool size, keep alive time, etc.)ScheduledThreadPoolExecutor - a class that extends ThreadPoolExecutor. It can schedule tasks after a given delay or periodically.FutureTaskFutureTask performs asynchronous processing, however, if the result is not ready yet or processing has not complete, calling get() will be block the threadAsyncTaskLoadersAsyncTaskLoaders as they solve a lot of problems that are inherent to AsyncTaskIntentServiceThis is the de facto choice for long running processing on Android, a good example would be to upload or download large files. The upload and download may continue even if the user exits the app and you certainly do not want to block the user from being able to use the app while these tasks are going on.JobSchedulerEffectively, you have to create a Service and create a job using JobInfo.Builder that specifies your criteria for when to run the service.RxJavaLibrary for composing asynchronous and event-based programs by using observable sequences.Coroutines(Kotlin)The main gist of it is, it makes asynchronous code looks so much like synchronousRead morehere,here,here, andhere.ShareImprove this answerFolloweditedJul 22, 2021 at 17:41Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMar 17, 2018 at 15:58yoAlex5yoAlex532.7k1010 gold badges213213 silver badges229229 bronze badges\n\nKotlinIf you are using Kotlin, you can use acoroutine:fun doSomeNetworkStuff() {\n    GlobalScope.launch(Dispatchers.IO) {\n        // ...\n    }\n}ShareImprove this answerFolloweditedJul 22, 2021 at 18:05Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredAug 14, 2020 at 14:19El SushiboiEl Sushiboi43688 silver badges2121 bronze badges\n\nNewThreadandAsyncTasksolutions have been explained already.AsyncTaskshould ideally be used for short operations. NormalThreadis not preferable for Android.Have a look at alternate solution usingHandlerThreadandHandlerHandlerThreadHandy class for starting a new thread that has a looper. The looper can then be used to create handler classes. Note thatstart()must still be called.Handler:A Handler allows you to send and process Message and Runnable objects associated with a thread\'s MessageQueue. Each Handler instance is associated with a single thread and that thread\'s message queue. When you create a new Handler, it is bound to the thread / message queue of the thread that is creating it -- from that point on, it will deliver messages and runnables to that message queue and execute them as they come out of the message queue.Solution:CreateHandlerThreadCallstart()onHandlerThreadCreateHandlerby gettingLooperfromHanlerThreadEmbed your Network operation related code inRunnableobjectSubmitRunnabletask toHandlerSample code snippet, which addressNetworkOnMainThreadExceptionHandlerThread handlerThread = new HandlerThread(""URLConnection"");\nhandlerThread.start();\nhandler mainHandler = new Handler(handlerThread.getLooper());\n\nRunnable myRunnable = new Runnable() {\n    @Override\n    public void run() {\n        try {\n            Log.d(""Ravi"", ""Before IO call"");\n            URL page = new URL(""http://www.google.com"");\n            StringBuffer text = new StringBuffer();\n            HttpURLConnection conn = (HttpURLConnection) page.openConnection();\n            conn.connect();\n            InputStreamReader in = new InputStreamReader((InputStream) conn.getContent());\n            BufferedReader buff = new BufferedReader(in);\n            String line;\n            while ( (line =  buff.readLine()) != null) {\n                text.append(line + ""\\n"");\n            }\n            Log.d(""Ravi"", ""After IO call"");\n            Log.d(""Ravi"",text.toString());\n\n        } catch (Exception err) {\n            err.printStackTrace();\n        }\n    }\n};\nmainHandler.post(myRunnable);Pros of using this approach:Creating a newThread/AsyncTaskfor each network operation is expensive. TheThread/AsyncTaskwill be destroyed and re-created for the next Network operations. But withHandlerandHandlerThreadapproach, you can submit many network operations (as Runnable tasks) to singleHandlerThreadby usingHandler.ShareImprove this answerFolloweditedJul 5, 2023 at 12:33Dmitriy Popov2,30033 gold badges2525 silver badges3535 bronze badgesansweredMay 5, 2017 at 20:11Ravindra babuRavindra babu38.6k1111 gold badges256256 silver badges219219 bronze badges\n\nAlthough above there is a huge solution pool, no one mentionedcom.koushikdutta.ion:https://github.com/koush/ionIt\'s alsoasynchronousandvery simpleto use:Ion.with(context)\n.load(""http://example.com/thing.json"")\n.asJsonObject()\n.setCallback(new FutureCallback<JsonObject>() {\n   @Override\n    public void onCompleted(Exception e, JsonObject result) {\n        // do stuff with the result or error\n    }\n});ShareImprove this answerFollowansweredFeb 17, 2015 at 10:31msysmilumsysmilu2,0252323 silver badges2424 bronze badges\n\nThis works. I just madeDr.Luiji\'s answera little simpler.new Thread() {\n    @Override\n    public void run() {\n        try {\n            //Your code goes here\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}.start();ShareImprove this answerFolloweditedJul 22, 2021 at 17:54Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredFeb 13, 2015 at 23:10KacyKacy3,39055 gold badges3131 silver badges5959 bronze badges\n\nThe main thread is the UI thread, and you cannot do an operation in the main thread which may block the user interaction. You can solve this in two ways:Force to do the task in the main thread like thisStrictMode.ThreadPolicy threadPolicy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\nStrictMode.setThreadPolicy(threadPolicy);Or create a simple handler and update the main thread if you want.Runnable runnable;\nHandler newHandler;\n\nnewHandler = new Handler();\nrunnable = new Runnable() {\n    @Override\n    public void run() {\n         try {\n            //update UI\n        } catch (Exception e) {\n            e.printStackTrace();\n        } \n    }\n};\nnewHandler.post(runnable);And to stop the thread use:newHandler.removeCallbacks(runnable);For more information check this out:Painless threadingShareImprove this answerFolloweditedJan 21, 2018 at 7:08Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredSep 4, 2017 at 10:43Sharath kumarSharath kumar4,11411 gold badge1414 silver badges2020 bronze badges\n\nAndroid does not allow to run long-running operations on the main thread.So just use a different thread and post the result to the main thread when needed.new Thread(new Runnable() {\n        @Override\n        public void run() {\n            /*\n            // Run operation here\n            */\n            // After getting the result\n            runOnUiThread(new Runnable() {\n                @Override\n                public void run() {\n                    // Post the result to the main thread\n                }\n            });\n        }\n    }).start();ShareImprove this answerFolloweditedJul 22, 2021 at 18:24Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredFeb 21, 2021 at 8:54Sunny GuptaSunny Gupta78888 silver badges99 bronze badges'}","{'title': 'How do I disable the resizable property of a textarea?', 'question': 'I want to disable the resizable property of atextarea.Currently, I can resize atextareaby clicking on the bottom right corner of thetextareaand dragging the mouse. How can I disable this?htmlcsstextareaShareImprove this questionFolloweditedOct 21, 2022 at 13:33Sunderam Dubey8,7091212 gold badges2222 silver badges4040 bronze badgesaskedMar 8, 2011 at 16:15user549757user54975733.6k44 gold badges2020 silver badges2020 bronze badges', 'answers': 'The following CSS rule disables resizing behavior fortextareaelements:textarea {\n  resize: none;\n}To disable it for some (but not all)textareas, there are acouple of options.You can useclassattribute in your tag(<textarea class=""textarea1"">):.textarea1 {\n  resize: none;\n}To disable a specifictextareawith thenameattribute set tofoo(i.e.,<textarea name=""foo""></textarea>):textarea[name=foo] {\n  resize: none;\n}Or, using anidattribute (i.e.,<textarea id=""foo""></textarea>):#foo {\n  resize: none;\n}TheW3C pagelists possible values for resizing restrictions: none, both, horizontal, vertical, and inherit:textarea {\n  resize: vertical; /* user can resize vertically, but width is fixed */\n}Review a decentcompatibility pageto see what browsers currently support this feature. As Jon Hulka has commented, the dimensions can befurther restrainedin CSS using max-width, max-height, min-width, and min-height.Super important to know:This property does nothing unless the overflow property is something other than visible, which is the default for most elements. So generally to use this, you\'ll have to set something like overflow: scroll;Quote by Sara Cope,http://css-tricks.com/almanac/properties/r/resize/ShareImprove this answerFolloweditedMay 22, 2021 at 5:07JSman2259633 silver badges1616 bronze badgesansweredMar 8, 2011 at 16:17DonutDonut112k2020 gold badges135135 silver badges147147 bronze badges\n\nIn CSS:textarea {\n    resize: none;\n}ShareImprove this answerFolloweditedNov 21, 2023 at 18:28Michael M.10.8k1111 gold badges2020 silver badges4040 bronze badgesansweredMar 8, 2011 at 16:17Jeff ParkerJeff Parker7,45711 gold badge2323 silver badges2525 bronze badges\n\nI found two things:Firsttextarea{resize: none}This is a CSS\xa03,which is not released yet, compatible withFirefox 4 (and later), Chrome, and Safari.Another format feature is tooverflow: autoto get rid of the right scrollbar, taking into account thedirattribute.Code and different browsersBasic HTML<!DOCTYPE html>\n<html>\n<head>\n</head>\n<body>\n    <textarea style=""overflow:auto;resize:none"" rows=""13"" cols=""20""></textarea>\n</body>\n</html>Some browsersInternet\xa0Explorer\xa08Firefox 17.0.1ChromeShareImprove this answerFolloweditedJun 20, 2020 at 9:12CommunityBot111 silver badgeansweredDec 27, 2012 at 20:58Rami JamlehRami Jamleh1,89911 gold badge1313 silver badges1111 bronze badges\n\nCSS\xa03 has a new property for UI elements that will allow you to do this. The property is theresize property. So you would add the following to your stylesheet to disable resizing of all textarea elements:textarea { resize: none; }This is a CSS\xa03 property; use acompatibility chartto see browser compatibility.Personally, I would find it very annoying to have resizing disabled on textarea elements. This is one of those situations where the designer is trying to ""break"" the user\'s client. If your design can\'t accommodate a larger textarea, you might want to reconsider how your design works. Any user can addtextarea { resize: both !important; }to their user stylesheet to override your preference.ShareImprove this answerFolloweditedSep 26, 2019 at 9:24Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMar 8, 2011 at 16:35James SumnersJames Sumners14.7k1111 gold badges6060 silver badges7777 bronze badges\n\n<textarea style=""resize:none"" rows=""10"" placeholder=""Enter Text"" ></textarea>ShareImprove this answerFollowansweredNov 6, 2013 at 9:19Imtiaz Ali BaigalImtiaz Ali Baigal38133 silver badges22 bronze badges\n\nIf you need deep support, you can use an old school technique:textarea {\n    max-width: /* desired fixed width */ px;\n    min-width: /* desired fixed width */ px;\n    min-height: /* desired fixed height */ px;\n    max-height: /* desired fixed height */ px;\n    resize: none; /* If you wnt to hide the handle in the lower right corner */;\n}ShareImprove this answerFolloweditedNov 21, 2023 at 23:07Samuel RIGAUD1,4881717 silver badges2525 bronze badgesansweredFeb 12, 2015 at 12:14yevgeniyyevgeniy76899 silver badges1515 bronze badges\n\nThis can be done in HTML easily:<textarea name=""textinput"" draggable=""false""></textarea>This works for me. The default value istruefor thedraggableattribute.ShareImprove this answerFolloweditedSep 26, 2019 at 9:32Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJul 21, 2015 at 5:18Thusitha WickramasingheThusitha Wickramasinghe1,09322 gold badges1515 silver badges3030 bronze badges\n\nYou simply use:resize: none;in yourCSS.Theresizeproperty specifies whether or not an element is resizable\nby the user.Note:The resize property applies to elements whose computed overflow\nvalue is something other than ""visible"".Alsoresizenot supported inInternet\xa0Explorerat the moment.Here are different properties for resize:No Resize:textarea {\n  resize: none;\n}Resize both ways (vertically & horizontally):textarea {\n  resize: both;\n}Resize vertically:textarea {\n  resize: vertical;\n}Resize horizontally:textarea {\n  resize: horizontal;\n}Also if you havewidthandheightin your CSS or HTML, it will prevent your textarea be resized, with a broader browsers support.ShareImprove this answerFolloweditedOct 11, 2023 at 8:52answeredJun 1, 2017 at 13:11AlirezaAlireza103k2727 gold badges275275 silver badges173173 bronze badges\n\nUse this propertyresize: none;textarea {\n  resize: none;\n}ShareImprove this answerFolloweditedMar 30, 2022 at 12:43Ismoil Shokirov2,75244 gold badges2222 silver badges3737 bronze badgesansweredAug 16, 2021 at 7:22Priya MaheshwariPriya Maheshwari47355 silver badges88 bronze badges\n\nYou can simplydisable the textareaproperty like this:textarea {\n    resize: none;\n}To disableverticalorhorizontalresizing, useresize: vertical;orresize: horizontal;ShareImprove this answerFolloweditedSep 26, 2019 at 9:40Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMay 28, 2018 at 7:09user7122338user7122338\n\nTo disable the resize property, use the following CSS property:resize: none;You can either apply this as an inline style property like so:<textarea style=""resize: none;""></textarea>or in between<style>...</style>element tags like so:textarea {\n    resize: none;\n}ShareImprove this answerFolloweditedMay 10, 2018 at 13:19Quentin935k131131 gold badges1.2k1.2k silver badges1.4k1.4k bronze badgesansweredJun 12, 2016 at 10:43WebengWebeng7,14044 gold badges3434 silver badges6060 bronze badges\n\nyou need to set the below CSS code in yourcomponent.csstextarea {\n    resize: none;\n}ShareImprove this answerFolloweditedAug 6, 2022 at 18:37Geeky Quentin2,50022 gold badges99 silver badges3131 bronze badgesansweredAug 6, 2022 at 6:51Umer BabaUmer Baba32333 silver badges55 bronze badges\n\ntextarea {\n  resize: none;\n}The code above will disable the resizable property of all<textarea/>elements in your project. If you want that that is fine, otherwise you would want to use a specific class for your textarea elements..not-resizable {\n   resize: none;\n}In your HTML<textarea class=""not-resizable""></textarea>ShareImprove this answerFolloweditedJan 2, 2022 at 16:56answeredJul 21, 2021 at 9:38Ismoil ShokirovIsmoil Shokirov2,75244 gold badges2222 silver badges3737 bronze badges\n\nI have created a small demo to show how resize properties work. I hope it will help you and others as well..resizeable {\r\n  resize: both;\r\n}\r\n\r\n.noResizeable {\r\n  resize: none;\r\n}\r\n\r\n.resizeable_V {\r\n  resize: vertical;\r\n}\r\n\r\n.resizeable_H {\r\n  resize: horizontal;\r\n}<textarea class=""resizeable"" rows=""5"" cols=""20"" name=""resizeable"" title=""This is Resizable."">\r\nThis is Resizable. Lorem ipsum, or lipsum as it is sometimes known, is dummy text used in laying out print, graphic or web designs. The passage is attributed to an unknown typesetter in the 15th century who is thought to have scrambled parts of Cicero\'s De Finibus Bonorum et Malorum for use in a type specimen book.\r\n</textarea>\r\n\r\n<textarea class=""noResizeable"" rows=""5"" title=""This will not Resizable. "" cols=""20"" name=""resizeable"">\r\nThis will not Resizable. Lorem ipsum, or lipsum as it is sometimes known, is dummy text used in laying out print, graphic or web designs. The passage is attributed to an unknown typesetter in the 15th century who is thought to have scrambled parts of Cicero\'s De Finibus Bonorum et Malorum for use in a type specimen book.\r\n</textarea>\r\n\r\n<textarea class=""resizeable_V"" title=""This is Vertically Resizable."" rows=""5"" cols=""20"" name=""resizeable"">\r\nThis is Vertically Resizable. Lorem ipsum, or lipsum as it is sometimes known, is dummy text used in laying out print, graphic or web designs. The passage is attributed to an unknown typesetter in the 15th century who is thought to have scrambled parts of Cicero\'s De Finibus Bonorum et Malorum for use in a type specimen book.\r\n</textarea>\r\n\r\n<textarea class=""resizeable_H"" title=""This is Horizontally Resizable."" rows=""5"" cols=""20"" name=""resizeable"">\r\nThis is Horizontally Resizable. Lorem ipsum, or lipsum as it is sometimes known, is dummy text used in laying out print, graphic or web designs. The passage is attributed to an unknown typesetter in the 15th century who is thought to have scrambled parts of Cicero\'s De Finibus Bonorum et Malorum for use in a type specimen book.\r\n</textarea>ShareImprove this answerFollowansweredJun 13, 2019 at 5:18Ambuj KhannaAmbuj Khanna1,19333 gold badges1313 silver badges3434 bronze badges\n\nCSS\xa03 can solve this problem. Unfortunately it\'s only supported on60% of used browsersnowadays.For Internet\xa0Explorer and iOS you can\'t turn off resizing, but you can limit thetextareadimension by setting itswidthandheight./* One can also turn on/off specific axis. Defaults to both on. */\ntextarea { resize:vertical; } /* none|horizontal|vertical|both */See DemoShareImprove this answerFolloweditedSep 26, 2019 at 9:33Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredOct 30, 2015 at 23:26OriolOriol12.4k55 gold badges3737 silver badges3737 bronze badges\n\nTo disable resize for alltextareas:textarea {\n    resize: none;\n}To disable resize for a specifictextarea, add an attribute,name, or anidand set it to something. In this case, it is namednoresizeHTML<textarea name=\'noresize\' id=\'noresize\'> </textarea>CSS/* Using the attribute name */\ntextarea[name=noresize] {\n    resize: none;\n}\n/* Or using the id */\n\n#noresize {\n    resize: none;\n}ShareImprove this answerFolloweditedSep 26, 2019 at 9:35Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredOct 25, 2016 at 8:19AbkAbk2,21311 gold badge2424 silver badges3333 bronze badges\n\nYou can disable resizeable property of textarea usingtextarea {resize: none;}textarea {\n   resize: none;\n}DemoShareImprove this answerFollowansweredFeb 10, 2023 at 4:49KabeerKabeer11511 silver badge44 bronze badges\n\nWith@style, you can give it a custom size and disable the resize feature(resize: none;).@Html.TextAreaFor(model => model.YourProperty, new { @style = ""width: 90%; height: 180px; resize: none;"" })ShareImprove this answerFolloweditedAug 30, 2018 at 19:21Baptiste Mille-Mathias2,15444 gold badges3131 silver badges3838 bronze badgesansweredAug 30, 2018 at 16:00Carlos de Jesus BaezCarlos de Jesus Baez38533 silver badges66 bronze badges\n\nYou can try with jQuery also$(\'textarea\').css(""resize"", ""none"");ShareImprove this answerFolloweditedDec 15, 2016 at 8:15answeredDec 15, 2016 at 8:08Santosh KhalseSantosh Khalse12.5k33 gold badges3636 silver badges3636 bronze badges\n\nAdding!importantmakes it work:width:325px !important; height:120px !important; outline:none !important;outlineis just to avoid the blue outline on certain browsers.ShareImprove this answerFolloweditedSep 26, 2019 at 9:29Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredFeb 3, 2014 at 19:07kaeldskaelds32722 silver badges33 bronze badges\n\nIf anyone is looking for a way to this in plain Javascript:textArea = document.createElement(""textarea"");\ntextArea_input.setAttribute(""style"",""resize:none"");Note: Setting the style property this way will overwrite all your prior css style declarations.ShareImprove this answerFollowansweredJun 2, 2023 at 6:43eternalchimeseternalchimes1122 bronze badges\n\nYes, you can disable the resizable property of a textarea using CSS. The following code will disable the resizable property of a textarea with the idmy-textarea:CSS Code:-textarea#my-textarea {\n  resize: none;\n}You can also disable the resizable property of alltextareason a page by adding the following code to your CSS stylesheet:CSS Code:-textarea {\n  resize: none;\n}Theresizeproperty can have three values:none: The textarea cannot be resized.horizontal: The text area can only be resized horizontally.vertical: The text area can only be resized vertically.The default value of theresizeproperty isnone.In addition to using CSS, you can also disable the resizable property of a textarea using JavaScript. The following code will disable the resizable property of a textarea with the idmy-textarea:JavaScript Code:-const textarea = document.getElementById(\'my-textarea\');\ntextarea.style.resize = \'none\';This code will overwrite any CSS styles that have been applied to the textarea.To reduce the size of a textarea, you can use therowsandcolsattributes in the HTML code. The rows attribute specifies the number ofrowsin the textarea, and thecolsattribute specifies the number of columns. For example, the following code will create a textarea with 10 rows and 50 columns:HTML Code:-<textarea rows=""10"" cols=""50""></textarea>You can also use CSS to set the size of a textarea. The following code will set the height and width of a textarea with the idmy-textareato 100px and 200px, respectively:CSS Code:-textarea#my-textarea {\n  height: 100px;\n  width: 200px;\n}ShareImprove this answerFollowansweredAug 29, 2023 at 11:23Parth RavalParth Raval4,29533 gold badges2424 silver badges3838 bronze badges'}","{'title': 'event.preventDefault() vs. return false', 'question': ""When I want to prevent other event handlers from executing after a certain event is fired, I can use one of two techniques. I'll use jQuery in the examples, but this applies to plain-JS as well:1.event.preventDefault()$('a').click(function (e) {\n    // custom handling here\n    e.preventDefault();\n});2.return false$('a').click(function () {\n    // custom handling here\n    return false;\n});Is there any significant difference between those two methods of stopping event propagation?For me,return false;is simpler, shorter and probably less error prone than executing a method. With the method, you have to remember about correct casing, parenthesis, etc.Also, I have to define the first parameter in callback to be able to call the method. Perhaps, there are some reasons why I should avoid doing it like this and usepreventDefaultinstead? What's the better way?javascriptjqueryevent-handlingdom-eventsevent-propagationShareImprove this questionFolloweditedAug 26, 2019 at 10:09Brian Tompsett - 汤莱恩5,8377272 gold badges6060 silver badges132132 bronze badgesaskedAug 31, 2009 at 11:58RaYellRaYell70.1k2020 gold badges127127 silver badges154154 bronze badges"", 'answers': 'return falsefromwithin a jQuery event handleris effectively the same as calling bothe.preventDefaultande.stopPropagationon the passedjQuery.Event object.e.preventDefault()will prevent the default event from occuring,e.stopPropagation()will prevent the event from bubbling up andreturn falsewill do both. Note that this behaviour differs fromnormal(non-jQuery) event handlers, in which, notably,return falsedoesnotstop the event from bubbling up.Source:John ResigAny benefit to using event.preventDefault() over ""return false"" to cancel out an href click?ShareImprove this answerFolloweditedSep 9, 2016 at 15:47Leo10.7k33 gold badges4949 silver badges6363 bronze badgesansweredAug 31, 2009 at 12:05karim79karim79342k6767 gold badges416416 silver badges406406 bronze badges\n\nFrom my experience, there is at least one clear advantage when using event.preventDefault() over using return false. Suppose you are capturing the click event on an anchor tag, otherwise which it would be a big problem if the user were to be navigated away from the current page. If your click handler uses return false to prevent browser navigation, it opens the possibility that the interpreter will not reach the return statement and the browser will proceed to execute the anchor tag\'s default behavior.$(\'a\').click(function (e) {\n  // custom handling here\n\n  // oops...runtime error...where oh where will the href take me?\n\n  return false;\n});The benefit to using event.preventDefault() is that you can add this as the first line in the handler, thereby guaranteeing that the anchor\'s default behavior will not fire, regardless if the last line of the function is not reached (eg. runtime error).$(\'a\').click(function (e) {\n  e.preventDefault();\n\n  // custom handling here\n\n  // oops...runtime error, but at least the user isn\'t navigated away.\n});ShareImprove this answerFollowansweredJan 22, 2011 at 22:37Jeff PoultonJeff Poulton6,07211 gold badge2222 silver badges1212 bronze badges\n\nThis is not, as you\'ve titled it, a ""JavaScript"" question; it is a question regarding the design of jQuery.jQuery and thepreviously linked citationfromJohn Resig(inkarim79\'smessage) seem to be the source misunderstanding of how event handlers in general work.Fact: An event handler that returns false prevents the default action for that event. It does not stop the event propagation. Event handlers have always worked this way, since the old days of Netscape Navigator.Event handler content attributes and event handler IDL attributes that returns false prevents the default action for that event handler.What happens in jQuery is not the same as what happens with event handlers. DOM event listeners and MSIE ""attached"" events are a different matter altogether.For further reading, see the[ [W3C DOM 2 Events documentation]][1].ShareImprove this answerFolloweditedNov 8, 2022 at 18:13answeredJun 20, 2010 at 21:31GarrettGarrett3,02311 gold badge2121 silver badges2323 bronze badges\n\nGenerally, your first option (preventDefault()) is the one to take, but you have to know what context you\'re in and what your goals are.Fuel Your Codinghas a greatarticle onreturn false;vsevent.preventDefault()vsevent.stopPropagation()vsevent.stopImmediatePropagation().ShareImprove this answerFolloweditedJan 4, 2019 at 18:07JosefAssad4,0782929 silver badges3737 bronze badgesansweredApr 9, 2011 at 18:32JAAuldeJAAulde19.5k55 gold badges5454 silver badges6464 bronze badges\n\nWhen using jQuery,return falseis doing 3 separate things when you call it:event.preventDefault();event.stopPropagation();Stops callback execution and returns immediately when called.SeejQuery Events: Stop (Mis)Using Return Falsefor more information and examples.ShareImprove this answerFolloweditedOct 3, 2016 at 18:13Salman24.5k88 gold badges7272 silver badges5858 bronze badgesansweredFeb 19, 2013 at 15:54James-Jesse DrinkardJames-Jesse Drinkard15.6k1616 gold badges117117 silver badges140140 bronze badges\n\nYou can hang a lot of functions on theonClickevent for one element. How can you be sure thefalseone will be the last one to fire?preventDefaulton the other hand will definitely prevent only the default behavior of the element.ShareImprove this answerFolloweditedMar 31, 2014 at 0:36user6600180511 gold badge1414 silver badges3636 bronze badgesansweredAug 31, 2009 at 12:02Eldar DjafarovEldar Djafarov24.3k22 gold badges3434 silver badges2727 bronze badges\n\nI thinkevent.preventDefault()is the w3c specified way of canceling events.You can read this in the W3C spec onEvent cancelation.Also you can\'t use return false in every situation. When giving a javascript function in the href attribute and if you return false then the user will be redirected to a page with false string written.ShareImprove this answerFolloweditedMar 31, 2014 at 0:39user6600180511 gold badge1414 silver badges3636 bronze badgesansweredAug 31, 2009 at 12:04rahulrahul186k4949 gold badges236236 silver badges264264 bronze badges\n\nI think the best way to do this is to useevent.preventDefault()because if some exception is raised in the handler, then the returnfalsestatement will be skipped and the behavior will be opposite to what you want.But if you are sure that the code won\'t trigger any exceptions, then you can go with any of the method you wish.If you still want to go with the returnfalse, then you can put your entire handler code in a try catch block like below:$(\'a\').click(function (e) {\n  try{\n      your code here.........\n  }\n   catch(e){}\n  return false;\n});ShareImprove this answerFolloweditedJan 17, 2018 at 15:30Daniel11.8k99 gold badges4545 silver badges7272 bronze badgesansweredMar 9, 2013 at 19:27Naga Srinu KapusettiNaga Srinu Kapusetti1,6031616 silver badges1212 bronze badges\n\nThe main difference betweenreturn falseandevent.preventDefault()is that your code belowreturn falsewill not be executed and inevent.preventDefault()case your code will execute after this statement.When you write return false it do the following things for you behind the scenes.* Stops callback execution and returns immediately when called.\n* event.stopPropagation();\n* event.preventDefault();ShareImprove this answerFollowansweredFeb 9, 2018 at 8:14Abdullah ShoaibAbdullah Shoaib45622 gold badges66 silver badges1818 bronze badges\n\npreventDefault()andreturn falseare different ways to prevent the default event from happening.For example, when a user clicks on an external link, we should display a confirmation modal that asks the user for redirecting to the external website or not:hyperlink.addEventListener(\'click\', function (e) {\n    // Don\'t redirect the user to the link\n    e.preventDefault();\n});Or we don\'t want to submit the form when clicking its submit button. Instead, we want to validate the form first:submitButton.addEventListener(\'click\', function (e) {\n    // Don\'t submit the form when clicking a submit\n    e.preventDefault();\n});Differencesreturn falsedoesn\'t have any effect on the default behavior if you use theaddEventListenermethod to handle an event. It only works when the event handler is declared as an element\'s attribute:hyperlink.addEventListener(\'click\', function (e) {\n     // Does NOT work\n     return false;\n });\n    \n // Work\n hyperlink.onclick = function (e) {\n     return false;\n};According to theHTML 5specifications,return falsewill cancel the event except for themouseoverevent.Good practicesIt\'s recommended to use thepreventDefaultmethod instead ofreturn falseinside an event handler. Because the latter only works with using theonclickattribute which will remove other handlers for the same event.If you\'re using jQuery to manage the events, then you\'re able to usereturn falsewithin the event handler:$(element).on(\'click\', function (e) {\n        return false;\n});Before returning the value of false, the handler would do something else. The problem is that if there\'s any runtime error occurring in the handler, we will not reach the return false statement at the end.In that case, the default behavior will be taken:$(element).on(\'click\', function (e) {\n    // Do something here, but if there\'s an error at runtime\n    // ...\n    return false;\n});We can avoid this situation by using thepreventDefaultmethod before performing any custom handler:$(element).on(\'click\', function (e) {\n    e.preventDefault();\n\n    // Do something here\n    // The default behavior is prevented regardless of errors at runtime\n    // ...\n});Good to knowIf you\'re using jQuery to manage the event, thenreturn falsewill behave the same as thepreventDefault()andstopPropagation()methods:$(element).on(\'click\', function (e) {\n    // Prevent the default event from happening and\n    // prevent the event from bubbling up to the parent element\n    return false;\n});ShareImprove this answerFollowansweredSep 29, 2022 at 7:51samnoonsamnoon1,69322 gold badges1515 silver badges2424 bronze badges\n\ne.preventDefault();It simply stops the default action of an element.Instance Ex.:-prevents the hyperlink from following the URL, prevents the submit button to submit the form. When you have many event handlers and you just want to prevent default event from occuring, & occuring from many times,\nfor that we need to  use  in the top of the function().Reason:-The reason to usee.preventDefault();is that in our code so something goes wrong in the code, then it will allow to execute the link or form to get submitted or allow to execute or allow whatever action you need to do. & link or submit button will get submitted & still allow further propagation of the event.<!DOCTYPE html>\r\n<html lang=""en"" dir=""ltr"">\r\n   <head>\r\n      <meta charset=""utf-8"">\r\n      <title></title>\r\n   </head>\r\n   <body>\r\n      <script src=""https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js""></script>\r\n      <a href=""https://www.google.com"" onclick=""doSomethingElse()"">Preventsss page from redirect</a>\r\n      <script type=""text/javascript"">\r\n         function doSomethingElse(){\r\n           console.log(""This is Test..."");\r\n         }\r\n         $(""a"").click(function(e){\r\n          e.preventDefault(); \r\n         });\r\n      </script>\r\n   </body>\r\n</html>return False;It simply stops the execution of the function().""return false;"" will end the whole execution of process.Reason:-The reason to use return false; is that you don\'t want to execute the function any more in strictly mode.<!DOCTYPE html>\r\n<html lang=""en"" dir=""ltr"">\r\n   <head>\r\n      <meta charset=""utf-8"">\r\n      <title></title>\r\n   </head>\r\n   <body>\r\n      <a href=""#"" onclick=""returnFalse();"">Blah</a>\r\n      <script type=""text/javascript"">\r\n         function returnFalse(){\r\n         console.log(""returns false without location redirection...."")\r\n             return false;\r\n             location.href = ""http://www.google.com/"";\r\n         \r\n         }\r\n      </script>\r\n   </body>\r\n</html>ShareImprove this answerFollowansweredApr 27, 2018 at 6:55Parth RavalParth Raval4,29533 gold badges2424 silver badges3838 bronze badges\n\nBasically, this way you combine things because jQuery is a framework which mostly focuses on HTML elements, you basically preventing the default, but at the same time, you stop propagation to bubble up.So we can simply say, return false injQueryis equal to:return false is e.preventDefault AND e.stopPropagationBut also don\'t forget it\'s all in jQuery or DOM related functions, when you run it on the element, basically, it prevents everything from firing including the default behaviour and propagation of the event.Basically before starting usingreturn false;, first understand whate.preventDefault();ande.stopPropagation();do, then if you think you need both at the same time, then simply use it.So basically this code below:$(\'div\').click(function () {\n  return false;\n});isequalto this code:$(\'div\').click(function (event) {\n  event.preventDefault();\n  event.stopPropagation();\n});ShareImprove this answerFollowansweredJul 18, 2018 at 11:07AlirezaAlireza103k2727 gold badges275275 silver badges173173 bronze badges\n\nFrom my experience event.stopPropagation() is mostly used in CSS effect or animation works, for instance when you have hover effect for both card and button element, when you hover on the button both card and buttons hover effect will be triggered in this case, you can use event.stopPropagation() stop bubbling actions, and event.preventDefault() is for prevent default behaviour of browser actions. For instance, you have form but you only defined click event for the submit action, if the user submits the form by pressing enter, the browser triggered by keypress event, not your click event here you should use event.preventDefault() to avoid inappropriate behavior. I don\'t know what the hell is return false; sorry.For more clarification visit this link and play around with line #33https://www.codecademy.com/courses/introduction-to-javascript/lessons/requests-i/exercises/xhr-get-request-ivShareImprove this answerFollowansweredMay 14, 2019 at 5:09Sathish ShajahanSathish Shajahan3111 silver badge77 bronze badges\n\nMy opinion from my experience saying, that it is always better to useevent.preventDefault()Practically\n        to stop or prevent submit event, whenever we required rather thanreturn falseevent.preventDefault()works fine.ShareImprove this answerFolloweditedAug 21, 2015 at 6:10ann57211 gold badge1010 silver badges1919 bronze badgesansweredSep 29, 2014 at 11:28Dilip LanghanojaDilip Langhanoja4,50544 gold badges2929 silver badges3737 bronze badges'}","{'title': 'When should static_cast, dynamic_cast, const_cast, and reinterpret_cast be used?', 'question': 'What are the proper uses of:static_castdynamic_castconst_castreinterpret_cast(type)value(C-style cast)type(value)(function-style cast)How does one decide which to use in which specific cases?c++pointerscastingc++-faqShareImprove this questionFolloweditedJul 4, 2022 at 21:41Mateen Ulhaq26.6k2020 gold badges115115 silver badges147147 bronze badgesaskedDec 1, 2008 at 20:11e.Jamese.James118k4141 gold badges179179 silver badges214214 bronze badges', 'answers': 'static_caststatic_castis the first cast you should attempt to use. It does things like implicit conversions between types (such asinttofloat, or pointer tovoid*), and it can also call explicit conversion functions (or implicit ones). In many cases, explicitly statingstatic_castisn\'t necessary, but it\'s important to note that theT(something)syntax is equivalent to(T)somethingand should be avoided (more on that later). AT(something, something_else)is safe, however, and guaranteed to call the constructor.static_castcan also cast through inheritance hierarchies. It is unnecessary when casting upwards (towards a base class), but when casting downwards it can be used as long as it doesn\'t cast throughvirtualinheritance. It does not do checking, however, and it is undefined behavior tostatic_castdown a hierarchy to a type that isn\'t actually the type of the object.const_castconst_castcan be used to remove or addconstto a variable; no other C++ cast is capable of removing it (not evenreinterpret_cast). It is important to note that modifying a formerlyconstvalue is only undefined if the original variable isconst; if you use it to take theconstoff a reference to something that wasn\'t declared withconst, it is safe. This can be useful when overloading member functions based onconst, for instance. It can also be used to addconstto an object, such as to call a member function overload.const_castalso works similarly onvolatile, though that\'s less common.dynamic_castdynamic_castis exclusively used for handling polymorphism. You can cast a pointer or reference to any polymorphic type to any other class type (a polymorphic type has at least one virtual function, declared or inherited). You can use it for more than just casting downwards – you can cast sideways or even up another chain. Thedynamic_castwill seek out the desired object and return it if possible. If it can\'t, it will returnnullptrin the case of a pointer, or throwstd::bad_castin the case of a reference.dynamic_casthas some limitations, though. It doesn\'t work if there are multiple objects of the same type in the inheritance hierarchy (the so-called \'dreaded diamond\') and you aren\'t usingvirtualinheritance. It also can only go through public inheritance - it will always fail to travel throughprotectedorprivateinheritance. This is rarely an issue, however, as such forms of inheritance are rare.reinterpret_castreinterpret_castis the most dangerous cast, and should be used very sparingly. It turns one type directly into another — such as casting the value from one pointer to another, or storing a pointer in anint, or all sorts of other nasty things. Largely, the only guarantee you get withreinterpret_castis that normally if you cast the result back to the original type, you will get the exact same value (butnotif the intermediate type is smaller than the original type). There are a number of conversions thatreinterpret_castcannot do, too. It\'s often abused for particularly weird conversions and bit manipulations, like turning a raw data stream into actual data, or storing data in the low bits of a pointer to aligned data. For those cases, seestd::bit_cast.C-Style Cast and Function-Style CastC-style cast and function-style cast are casts using(type)objectortype(object), respectively, and are functionally equivalent. They are defined as the first of the following which succeeds:const_caststatic_cast(though ignoring access restrictions)static_cast(see above), thenconst_castreinterpret_castreinterpret_cast, thenconst_castIt can therefore be used as a replacement for other casts in some instances, but can be extremely dangerous because of the ability to devolve into areinterpret_cast, and the latter should be preferred when explicit casting is needed, unless you are surestatic_castwill succeed orreinterpret_castwill fail. Even then, consider the longer, more explicit option.C-style casts also ignore access control when performing astatic_cast, which means that they have the ability to perform an operation that no other cast can. This is mostly a kludge, though, and in my mind is just another reason to avoid C-style casts.std::bit_cast[C++20]std::bit_castcopies the bits and bytes of the source object (its representation) directly into a new object of the target type.  It\'s a standards-compliant way to do type punning.  If you find yourself writing*reinterpret_cast<SomeType*>(&x), you probably should usestd::bit_cast<SomeType>(x)instead.std::bit_castis declared in<bit>.  The objects must be the same size and be trivially copyable.  If you can\'t yet use C++20, usememcpyto copy the source value into a variable of the desired type.ShareImprove this answerFolloweditedJan 12 at 16:36community wiki26 revs, 20 users 59%coppro\n\nUsedynamic_castfor converting pointers/references within an inheritance hierarchy.Usestatic_castfor ordinary type conversions.Usereinterpret_castfor low-level reinterpreting of bit patterns.  Use with extreme caution.Useconst_castfor casting awayconst/volatile.  Avoid this unless you are stuck using a const-incorrect API.ShareImprove this answerFolloweditedAug 2, 2021 at 12:24Mateen Ulhaq26.6k2020 gold badges115115 silver badges147147 bronze badgesansweredDec 1, 2008 at 20:22Fred LarsonFred Larson61.7k1818 gold badges115115 silver badges176176 bronze badges\n\n(A lot of theoretical and conceptual explanation has been given above)Below are some of thepractical exampleswhen I usedstatic_cast,dynamic_cast,const_cast,reinterpret_cast.(Also referes this to understand the explaination :http://www.cplusplus.com/doc/tutorial/typecasting/)static_cast :OnEventData(void* pData)\n\n{\n  ......\n\n  //  pData is a void* pData, \n\n  //  EventData is a structure e.g. \n  //  typedef struct _EventData {\n  //  std::string id;\n  //  std:: string remote_id;\n  //  } EventData;\n\n  // On Some Situation a void pointer *pData\n  // has been static_casted as \n  // EventData* pointer \n\n  EventData *evtdata = static_cast<EventData*>(pData);\n  .....\n}dynamic_cast :void DebugLog::OnMessage(Message *msg)\n{\n    static DebugMsgData *debug;\n    static XYZMsgData *xyz;\n\n    if(debug = dynamic_cast<DebugMsgData*>(msg->pdata)){\n        // debug message\n    }\n    else if(xyz = dynamic_cast<XYZMsgData*>(msg->pdata)){\n        // xyz message\n    }\n    else/* if( ... )*/{\n        // ...\n    }\n}const_cast :// *Passwd declared as a const\n\nconst unsigned char *Passwd\n\n\n// on some situation it require to remove its constness\n\nconst_cast<unsigned char*>(Passwd)reinterpret_cast :typedef unsigned short uint16;\n\n// Read Bytes returns that 2 bytes got read. \n\nbool ByteBuffer::ReadUInt16(uint16& val) {\n  return ReadBytes(reinterpret_cast<char*>(&val), 2);\n}ShareImprove this answerFolloweditedJul 11, 2015 at 0:22RamblingMad5,49022 gold badges2626 silver badges5151 bronze badgesansweredJan 21, 2014 at 4:53Sumit AroraSumit Arora5,19188 gold badges4040 silver badges6060 bronze badges\n\nIt might help if you know little bit of internals...static_castC++ compiler already knows how to convert between scaler types such asfloattoint. Usestatic_castfor them.When you ask compiler to convert from typeAtoB,static_castcallsB\'s constructor passingAas param. Alternatively,Acould have a conversion operator (i.e.A::operator B()).  IfBdoesn\'t have such constructor, orAdoesn\'t have a conversion operator, then you get compile time error.Cast fromA*toB*always succeeds if A and B are in inheritance hierarchy (or void) otherwise you get compile error.Gotcha: If you cast base pointer to derived pointer but if actual object is not really derived type then youdon\'tget error. You get bad pointer and  very likely a segfault at runtime. Same goes forA&toB&.Gotcha: Cast from Derived to Base or viceversa createsnewcopy! For people coming from C#/Java, this can be a huge surprise because the result is basically a chopped off object created from Derived.dynamic_castdynamic_cast uses runtime type information to figure out if cast is valid. For example,(Base*)to(Derived*)may fail if pointer is not actually of derived type.This means, dynamic_cast is very expensive compared to static_cast!ForA*toB*, if cast is invalid then dynamic_cast will return nullptr.ForA&toB&if cast is invalid then dynamic_cast will throw bad_cast exception.Unlike other casts, there is runtime overhead.const_castWhile static_cast can do non-const to const it can\'t go other way around. The const_cast can do both ways.One example where this comes handy is iterating through some container likeset<T>which only returns its elements as const to make sure you don\'t change its key. However if your intent is to modify object\'s non-key members then it should be ok. You can use const_cast to remove constness.Another example is when you want to implementT& SomeClass::foo()as well asconst T& SomeClass::foo() const. To avoid code duplication, you can apply const_cast to return value of one function from another.reinterpret_castThis basically says that take these bytes at this memory location and think of it as given object.For example, you can load 4 bytes offloatto 4 bytes ofintto see how bits infloatlooks like.Obviously, if data is not correct for the type, you may get segfault.There is no runtime overhead for this cast.ShareImprove this answerFolloweditedDec 22, 2020 at 12:41Andrew Truckle18.7k1717 gold badges7676 silver badges198198 bronze badgesansweredDec 11, 2016 at 2:05Shital ShahShital Shah67.1k1818 gold badges252252 silver badges193193 bronze badges\n\nstatic_castvsdynamic_castvsreinterpret_castinternals view on a downcast/upcastIn this answer, I want to compare these three mechanisms on a concrete upcast/downcast example and analyze what happens to the underlying pointers/memory/assembly to give a concrete understanding of how they compare.I believe that this will give a good intuition on how those casts are different:static_cast: does one address offset at runtime (low runtime impact) and no safety checks that a downcast is correct.dyanamic_cast: does the same address offset at runtime likestatic_cast, but also and an expensive safety check that a downcast is correct using RTTI.This safety check allows you to query if a base class pointer is of a given type at runtime by checking a return ofnullptrwhich indicates an invalid downcast.Therefore, if your code is not able to check for thatnullptrand take a valid non-abort action, you should just usestatic_castinstead of dynamic cast.If an abort is the only action your code can take, maybe you only want to enable thedynamic_castin debug builds (-NDEBUG), and usestatic_castotherwise, e.g.as done here, to not slow down your fast runs.reinterpret_cast: does nothing at runtime, not even the address offset. The pointer must point exactly to the correct type, not even a base class works. You generally don\'t want this unless raw byte streams are involved.Consider the following code example:main.cpp#include <iostream>\n\nstruct B1 {\n    B1(int int_in_b1) : int_in_b1(int_in_b1) {}\n    virtual ~B1() {}\n    void f0() {}\n    virtual int f1() { return 1; }\n    int int_in_b1;\n};\n\nstruct B2 {\n    B2(int int_in_b2) : int_in_b2(int_in_b2) {}\n    virtual ~B2() {}\n    virtual int f2() { return 2; }\n    int int_in_b2;\n};\n\nstruct D : public B1, public B2 {\n    D(int int_in_b1, int int_in_b2, int int_in_d)\n        : B1(int_in_b1), B2(int_in_b2), int_in_d(int_in_d) {}\n    void d() {}\n    int f2() { return 3; }\n    int int_in_d;\n};\n\nint main() {\n    B2 *b2s[2];\n    B2 b2{11};\n    D *dp;\n    D d{1, 2, 3};\n\n    // The memory layout must support the virtual method call use case.\n    b2s[0] = &b2;\n    // An upcast is an implicit static_cast<>().\n    b2s[1] = &d;\n    std::cout << ""&d           "" << &d           << std::endl;\n    std::cout << ""b2s[0]       "" << b2s[0]       << std::endl;\n    std::cout << ""b2s[1]       "" << b2s[1]       << std::endl;\n    std::cout << ""b2s[0]->f2() "" << b2s[0]->f2() << std::endl;\n    std::cout << ""b2s[1]->f2() "" << b2s[1]->f2() << std::endl;\n\n    // Now for some downcasts.\n\n    // Cannot be done implicitly\n    // error: invalid conversion from ‘B2*’ to ‘D*’ [-fpermissive]\n    // dp = (b2s[0]);\n\n    // Undefined behaviour to an unrelated memory address because this is a B2, not D.\n    dp = static_cast<D*>(b2s[0]);\n    std::cout << ""static_cast<D*>(b2s[0])            "" << dp           << std::endl;\n    std::cout << ""static_cast<D*>(b2s[0])->int_in_d  "" << dp->int_in_d << std::endl;\n\n    // OK\n    dp = static_cast<D*>(b2s[1]);\n    std::cout << ""static_cast<D*>(b2s[1])            "" << dp           << std::endl;\n    std::cout << ""static_cast<D*>(b2s[1])->int_in_d  "" << dp->int_in_d << std::endl;\n\n    // Segfault because dp is nullptr.\n    dp = dynamic_cast<D*>(b2s[0]);\n    std::cout << ""dynamic_cast<D*>(b2s[0])           "" << dp           << std::endl;\n    //std::cout << ""dynamic_cast<D*>(b2s[0])->int_in_d "" << dp->int_in_d << std::endl;\n\n    // OK\n    dp = dynamic_cast<D*>(b2s[1]);\n    std::cout << ""dynamic_cast<D*>(b2s[1])           "" << dp           << std::endl;\n    std::cout << ""dynamic_cast<D*>(b2s[1])->int_in_d "" << dp->int_in_d << std::endl;\n\n    // Undefined behaviour to an unrelated memory address because this\n    // did not calculate the offset to get from B2* to D*.\n    dp = reinterpret_cast<D*>(b2s[1]);\n    std::cout << ""reinterpret_cast<D*>(b2s[1])           "" << dp           << std::endl;\n    std::cout << ""reinterpret_cast<D*>(b2s[1])->int_in_d "" << dp->int_in_d << std::endl;\n}Compile, run and disassemble with:g++ -ggdb3 -O0 -std=c++11 -Wall -Wextra -pedantic -o main.out main.cpp\nsetarch `uname -m` -R ./main.out\ngdb -batch -ex ""disassemble/rs main"" main.outwheresetarchisused to disable ASLRto make it easier to compare runs.Possible output:&d           0x7fffffffc930\nb2s[0]       0x7fffffffc920\nb2s[1]       0x7fffffffc940\nb2s[0]->f2() 2\nb2s[1]->f2() 3\nstatic_cast<D*>(b2s[0])            0x7fffffffc910\nstatic_cast<D*>(b2s[0])->int_in_d  1\nstatic_cast<D*>(b2s[1])            0x7fffffffc930\nstatic_cast<D*>(b2s[1])->int_in_d  3\ndynamic_cast<D*>(b2s[0])           0\ndynamic_cast<D*>(b2s[1])           0x7fffffffc930\ndynamic_cast<D*>(b2s[1])->int_in_d 3\nreinterpret_cast<D*>(b2s[1])           0x7fffffffc940\nreinterpret_cast<D*>(b2s[1])->int_in_d 32767Now, as mentioned at:https://en.wikipedia.org/wiki/Virtual_method_tablein order to support the virtual method calls efficiently, supposing that the memory data structures of B1 is of form:B1:\n  +0: pointer to virtual method table of B1\n  +4: value of int_in_b1andB2is of form:B2:\n  +0: pointer to virtual method table of B2\n  +4: value of int_in_b2then memory data structure ofDhas to look something like:D:\n  +0: pointer to virtual method table of D (for B1)\n  +4: value of int_in_b1\n  +8: pointer to virtual method table of D (for B2)\n +12: value of int_in_b2\n +16: value of int_in_dThe key fact is that the memory data structure ofDcontains inside it memory structure identical to that ofB1andB2, i.e.:+0 looks exactly like a B1, with the B1 vtable for D followed byint_in_b1+8 looks exactly like a B2, with the B2 vtable for D followed byint_in_b2or at a higher level:D:\n   +0: B1\n   +8: B2\n  +16: <fields of D itsef>Therefore we reach the critical conclusion:an upcast or downcast only needs to shift the pointer value by a value known at compile timeThis way, whenDgets passed to the base type array, the type cast actually calculates that offset and points something that looks exactly like a validB2in memory, except that this one has the vtable forDinstead ofB2, and therefore all virtual calls work transparently.E.g.:b2s[1] = &d;simply needs to get the address ofd+ 8 to reach the corresponding B2-like data structure.Now, we can finally get back to type casting and the analysis of our concrete example.From the stdout output we see:&d           0x7fffffffc930\nb2s[1]       0x7fffffffc940Therefore, the implicitstatic_castdone there did correctly calculate the offset from the fullDdata structure at 0x7fffffffc930 to theB2like one which is at 0x7fffffffc940. We also infer that what lies between 0x7fffffffc930 and 0x7fffffffc940 is likely be theB1data and vtable.Then, on the downcast sections, it is now easy to understand how the invalid ones fail and why:static_cast<D*>(b2s[0])            0x7fffffffc910: the compiler just went up 0x10 at compile time bytes to try and go from aB2to the containingDBut becauseb2s[0]was not aD, it now points to an undefined memory region.The disassembly is:49          dp = static_cast<D*>(b2s[0]);\n   0x0000000000000fc8 <+414>:   48 8b 45 d0     mov    -0x30(%rbp),%rax\n   0x0000000000000fcc <+418>:   48 85 c0        test   %rax,%rax\n   0x0000000000000fcf <+421>:   74 0a   je     0xfdb <main()+433>\n   0x0000000000000fd1 <+423>:   48 8b 45 d0     mov    -0x30(%rbp),%rax\n   0x0000000000000fd5 <+427>:   48 83 e8 10     sub    $0x10,%rax\n   0x0000000000000fd9 <+431>:   eb 05   jmp    0xfe0 <main()+438>\n   0x0000000000000fdb <+433>:   b8 00 00 00 00  mov    $0x0,%eax\n   0x0000000000000fe0 <+438>:   48 89 45 98     mov    %rax,-0x68(%rbp)so we see that GCC does:check if pointer is NULL, and if yes return NULLotherwise, subtract 0x10 from it to reach theDwhich does not existdynamic_cast<D*>(b2s[0])           0: C++ actually found that the cast was invalid and returnednullptr!There is no way this can be done at compile time, and we will confirm that from the disassembly:59          dp = dynamic_cast<D*>(b2s[0]);\n   0x00000000000010ec <+706>:   48 8b 45 d0     mov    -0x30(%rbp),%rax\n   0x00000000000010f0 <+710>:   48 85 c0        test   %rax,%rax\n   0x00000000000010f3 <+713>:   74 1d   je     0x1112 <main()+744>\n   0x00000000000010f5 <+715>:   b9 10 00 00 00  mov    $0x10,%ecx\n   0x00000000000010fa <+720>:   48 8d 15 f7 0b 20 00    lea    0x200bf7(%rip),%rdx        # 0x201cf8 <_ZTI1D>\n   0x0000000000001101 <+727>:   48 8d 35 28 0c 20 00    lea    0x200c28(%rip),%rsi        # 0x201d30 <_ZTI2B2>\n   0x0000000000001108 <+734>:   48 89 c7        mov    %rax,%rdi\n   0x000000000000110b <+737>:   e8 c0 fb ff ff  callq  0xcd0 <__dynamic_cast@plt>\n   0x0000000000001110 <+742>:   eb 05   jmp    0x1117 <main()+749>\n   0x0000000000001112 <+744>:   b8 00 00 00 00  mov    $0x0,%eax\n   0x0000000000001117 <+749>:   48 89 45 98     mov    %rax,-0x68(%rbp)First there is a NULL check, and it returns NULL if th einput is NULL.Otherwise, it sets up some arguments in the RDX, RSI and RDI and calls__dynamic_cast.I don\'t have the patience to analyze this further now, but as others said, the only way for this to work is for__dynamic_castto access some extra RTTI in-memory data structures that represent the class hierarchy.It must therefore start from theB2entry for that table, then walk this class hierarchy until it finds that the vtable for aDtypecast fromb2s[0].This is why dynamic cast is potentially expensive! Here isan example where a one liner patch converting adynamic_castto astatic_castin a complex project reduced runtime by 33%!.reinterpret_cast<D*>(b2s[1])           0x7fffffffc940this one just believes us blindly: we said there is aDat addressb2s[1], and the compiler does no offset calculations.But this is wrong, because D is actually at 0x7fffffffc930, what is at 0x7fffffffc940 is the B2-like structure inside D! So trash gets accessed.We can confirm this from the horrendous-O0assembly that just moves the value around:70          dp = reinterpret_cast<D*>(b2s[1]);\n   0x00000000000011fa <+976>:   48 8b 45 d8     mov    -0x28(%rbp),%rax\n   0x00000000000011fe <+980>:   48 89 45 98     mov    %rax,-0x68(%rbp)Related questions:How is dynamic_cast implementedDowncasting using the \'static_cast\' in C++Tested on Ubuntu 18.04 amd64, GCC 7.4.0.ShareImprove this answerFolloweditedJan 8 at 14:33Weijun Zhou4,06122 gold badges1919 silver badges3939 bronze badgesansweredFeb 26, 2020 at 12:44Ciro Santilli OurBigBook.comCiro Santilli OurBigBook.com370k114114 gold badges1.3k1.3k silver badges1k1k bronze badges\n\nDoesthisanswer your question?I have never usedreinterpret_cast, and wonder whether running into a case that needs it isn\'t a smell of bad design. In the code base I work ondynamic_castis used a lot. The difference withstatic_castis that adynamic_castdoes runtime checking which may (safer) or may not (more overhead) be what you want (seemsdn).ShareImprove this answerFolloweditedApr 4, 2012 at 16:31talnicolas14k77 gold badges3737 silver badges5656 bronze badgesansweredDec 1, 2008 at 20:20andreas buykxandreas buykx12.8k1111 gold badges6363 silver badges7676 bronze badges\n\nIn addition to the other answers so far, here is unobvious example wherestatic_castis not sufficient so thatreinterpret_castis needed. Suppose there is a function which in an output parameter returns pointers to objects of different classes (which do not share a common base class). A real example of such function isCoCreateInstance()(see the last parameter, which is in factvoid**). Suppose you request particular class of object from this function, so you know in advance the type for the pointer (which you often do for COM objects). In this case you cannot cast pointer to your pointer intovoid**withstatic_cast: you needreinterpret_cast<void**>(&yourPointer).In code:#include <windows.h>\n#include <netfw.h>\n.....\nINetFwPolicy2* pNetFwPolicy2 = nullptr;\nHRESULT hr = CoCreateInstance(__uuidof(NetFwPolicy2), nullptr,\n    CLSCTX_INPROC_SERVER, __uuidof(INetFwPolicy2),\n    //static_cast<void**>(&pNetFwPolicy2) would give a compile error\n    reinterpret_cast<void**>(&pNetFwPolicy2) );However,static_castworks for simple pointers (not pointers to pointers), so the above code can be rewritten to avoidreinterpret_cast(at a price of an extra variable) in the following way:#include <windows.h>\n#include <netfw.h>\n.....\nINetFwPolicy2* pNetFwPolicy2 = nullptr;\nvoid* tmp = nullptr;\nHRESULT hr = CoCreateInstance(__uuidof(NetFwPolicy2), nullptr,\n    CLSCTX_INPROC_SERVER, __uuidof(INetFwPolicy2),\n    &tmp );\npNetFwPolicy2 = static_cast<INetFwPolicy2*>(tmp);ShareImprove this answerFolloweditedFeb 22, 2016 at 10:30Lii11.9k99 gold badges6666 silver badges8989 bronze badgesansweredMay 31, 2015 at 14:16Serge RogatchSerge Rogatch14.7k99 gold badges9393 silver badges174174 bronze badges\n\nWhile other answers nicely described all differences between C++ casts, I would like to add a short note why you should not use C-style casts(Type) varandType(var).For C++ beginners C-style casts look like being the superset operation over C++ casts (static_cast<>(), dynamic_cast<>(), const_cast<>(), reinterpret_cast<>()) and someone could prefer them over the C++ casts. In fact C-style cast is the superset and shorter to write.The main problem of C-style casts is that they hide developer real intention of the cast. The C-style casts can do virtually all types of casting from normally safe casts done by static_cast<>() and dynamic_cast<>() to potentially dangerous casts like const_cast<>(), where const modifier can be removed so the const variables can be modified and reinterpret_cast<>() that can even reinterpret integer values to pointers.Here is the sample.int a=rand(); // Random number.\n\nint* pa1=reinterpret_cast<int*>(a); // OK. Here developer clearly expressed he wanted to do this potentially dangerous operation.\n\nint* pa2=static_cast<int*>(a); // Compiler error.\nint* pa3=dynamic_cast<int*>(a); // Compiler error.\n\nint* pa4=(int*) a; // OK. C-style cast can do such cast. The question is if it was intentional or developer just did some typo.\n\n*pa4=5; // Program crashes.The main reason why C++ casts were added to the language was to allow a developer to clarify his intentions - why he is going to do that cast. By using C-style casts which are perfectly valid in C++ you are making your code less readable and more error prone especially for other developers who didn\'t create your code. So to make your code more readable and explicit you should always prefer C++ casts over C-style casts.Here is a short quote from Bjarne Stroustrup\'s (the author of C++) book The C++ Programming Language 4th edition - page 302.This C-style cast is far more dangerous than the named conversion operators\n  because the notation is harder to spot in a large program and the kind of conversion intended by the programmer is not explicit.ShareImprove this answerFollowansweredAug 22, 2018 at 11:18Timmy_ATimmy_A1,1621212 silver badges99 bronze badges\n\nTo understand, let\'s consider below code snippet:struct Foo{};\nstruct Bar{};\n\nint main(int argc, char** argv)\n{\n    Foo* f = new Foo;\n\n    Bar* b1 = f;                              // (1)\n    Bar* b2 = static_cast<Bar*>(f);           // (2)\n    Bar* b3 = dynamic_cast<Bar*>(f);          // (3)\n    Bar* b4 = reinterpret_cast<Bar*>(f);      // (4)\n    Bar* b5 = const_cast<Bar*>(f);            // (5)\n\n    return 0;\n}Only line (4) compiles without error. Onlyreinterpret_castcan be used to convert a pointer to an object to a pointer to an any unrelated object type.One this to be noted is: Thedynamic_castwould fail at run-time, however on most compilers it will also fail to compile because there are no virtual functions in the struct of the pointer being casted, meaningdynamic_castwill work with only polymorphic class pointers.When to use C++ cast:Usestatic_castas the equivalent of a C-style cast that does value conversion, or when we need to explicitly up-cast a pointer from a class to its superclass.Useconst_castto remove the const qualifier.Usereinterpret_castto do unsafe conversions of pointer types to and from integer and other pointer types. Use this only if we know what we are doing and we understand the aliasing issues.ShareImprove this answerFolloweditedDec 21, 2018 at 3:22answeredDec 21, 2018 at 2:53pkthapapkthapa1,06722 gold badges1717 silver badges2828 bronze badges\n\nLet\'s see the difference ofreinterpret_castandstatic_castin an example:#include <iostream>\nusing namespace std;\n\nclass A\n{\n    int a;\n};\n\nclass B\n{\n    int b;\n};\n\nclass C : public A, public B\n{\n    int c;\n};\n\nint main()\n{\n    {\n        B b;\n        cout << &b << endl;\n        cout << static_cast<C *>(&b) << endl;      // 1\n        cout << reinterpret_cast<C *>(&b) << endl; // 2\n    }\n    cout << endl;\n    {\n        C c;\n        cout << &c << endl;\n        cout << static_cast<B *>(&c) << endl;      // 3\n        cout << reinterpret_cast<B *>(&c) << endl; // 4\n    }\n    cout << endl;\n    {\n        A a;\n        cout << &a << endl;\n        cout << static_cast<C *>(&a) << endl;\n        cout << reinterpret_cast<C *>(&a) << endl;\n    }\n    cout << endl;\n    {\n        C c;\n        cout << &c << endl;\n        cout << static_cast<A *>(&c) << endl;\n        cout << reinterpret_cast<A *>(&c) << endl;\n    }\n    return 0;\n}Produces the output:0x7ffcede34f0c\n0x7ffcede34f08 // 1\n0x7ffcede34f0c // 2\n\n0x7ffcede34f0c\n0x7ffcede34f10 // 3\n0x7ffcede34f0c // 4\n\n0x7ffcede34f0c\n0x7ffcede34f0c\n0x7ffcede34f0c\n\n0x7ffcede34f0c\n0x7ffcede34f0c\n0x7ffcede34f0cNotice that output1and2are different, as well as3and4. Why is that? One of them isstatic_castand the other isreinterpret_castto the same type of the same input in both cases.The situation can be visualized in the following figure:Ccontains aBbut the starting address ofBis not the same asC.static_castcorrectly calculates the address ofBwithinC. Howeverreinterpret_castreturns the same address we give as input, which is not correct for this case: there is noBat that address.However, both casts return the same results when converting betweenAandCpointers because they happen to start at the same location which by the way is not anyway guaranteed by the standard.ShareImprove this answerFolloweditedAug 28, 2022 at 12:22answeredAug 28, 2022 at 11:55Özgür Murat SağdıçoğluÖzgür Murat Sağdıçoğlu3,35122 gold badges1616 silver badges2828 bronze badges\n\nI think we need a more beginner-friendly explanation, and after just studying the topic myself, I think the best I\'ve found is here:https://www.tutorialspoint.com/When-should-static-cast-dynamic-cast-const-cast-and-reinterpret-cast-be-used-in-Cplusplus[1]When shouldstatic_cast,dynamic_cast,const_castandreinterpret_castbe used in C++?const_castcan be used to remove or add const to a variable. This can be useful if it is necessary to add/remove constness from a variable.static_castThis is used for the normal/ordinary type conversion. This is also the cast responsible for implicit type co[nv]ersion and can also be called explicitly. You should use it in cases like converting float to int, char to int, etc.dynamic_castThis cast is used for handling polymorphism. You only need to use it when you\'re casting to a derived class. This is exclusively to be used in inheritence when you cast from base class to derived class.My own added words: it allows safe downcasting to convert from a ptr to a base class (which was created by taking the address of a derived class inheriting from that base class) to a ptr to a derived class, ensuring that the ptr actually points to a full, complete, derived class object (and returning anullptrif not). There\'s a great code example in the ""dynamic_cast"" section here:https://cplusplus.com/doc/tutorial/typecasting/. (And I discuss that codein my answer here).reinterpret_castThis is the trickiest to use. It is used for reinterpreting bit patterns and is extremely low level. It\'s used primarily for things like turning a raw data bit stream into actual data or storing data in the low bits of an aligned pointer.Then, for a deeper dive, read these:Quora Answer by @Brian Bi:https://qr.ae/prz8xL- very good, thoughtful, well-written, and thorough answer. Here is the summary from the end [order rearranged to be the same as the order above]:const_castonly changes cv-qualification; all other casts cannot cast away constness.static_castperforms implicit conversions, the reverses of implicit standard conversions, and (possibly unsafe) base to derived conversions.dynamic_castcasts up and down class hierarchies only, always checking that the conversion requested is valid.reinterpret_castconverts one pointer to another without changing the address, or converts between pointers and their numerical (integer) values.The main community wiki answer here[Easy to read; written for everybody; very informative]https://cplusplus.com/doc/tutorial/typecasting/- this article also containscode examples of each type of cast![pedantic, language lawyer, hard to read, but more thorough] CppReference wiki:https://en.cppreference.com/w/cpp/language/const_casthttps://en.cppreference.com/w/cpp/language/static_casthttps://en.cppreference.com/w/cpp/language/dynamic_casthttps://en.cppreference.com/w/cpp/language/reinterpret_casthttps://en.cppreference.com/w/cpp/language/explicit_casthttps://en.cppreference.com/w/cpp/language/implicit_cast1Note: TutorialsPoint isnotorious for plagiarism and not citing sources. I think they actually took wording fromthe main community wiki answer herewithout citing it. However, I do like the extreme conciseness and simplicity of their article, making it easy tobegin to graspfor a beginner, orquick to reviewfor someone who needs a refresher during or just before an interview or test.ShareImprove this answerFolloweditedJun 7, 2023 at 15:03answeredMar 24, 2023 at 22:51Gabriel StaplesGabriel Staples47.4k2222 gold badges250250 silver badges331331 bronze badges\n\nNice feature ofreinterpret_cast, not mentioned in the other answers, is that it allows us to create a sort ofvoid*pointer for function types. Normally, for object types one usesstatic_castto retrieve the original type of a pointer stored invoid*:int i = 13;\n  void *p = &i;\n  auto *pi = static_cast<int*>(p);For functions, we must usereinterpret_casttwice:#include<iostream>\n\nusing any_fcn_ptr_t = void(*)();\n\n\nvoid print(int i)\n{\n   std::cout << i <<std::endl;\n}\n\nint main()\n{     \n  //Create type-erased pointer to function:\n  auto any_ptr = reinterpret_cast<any_fcn_ptr_t>(&print);\n  \n  //Retrieve the original pointer:\n  auto ptr = reinterpret_cast< void(*)(int) >(any_ptr);\n  \n  ptr(7);\n}Withreinterpret_castwe can even get a similar sort-of-void* pointer for pointers to member functions.As with plainvoid*andstatic_cast, C++ guarantees thatptrpoints toprintfunction (as long as we pass the correct type toreinterpret_cast).ShareImprove this answerFollowansweredApr 16, 2022 at 21:36AdrianAdrian1,04766 silver badges1515 bronze badges'}","{'title': 'Is it possible to apply CSS to half of a character?', 'question': 'What I am looking for:A way to style oneHALFof a character. (In this case, half the letter being transparent)What I have currently searched for and tried (With no luck):Methods for styling half of a character/letterStyling part of a character with CSS or JavaScriptApply CSS to 50% of a characterBelow is an example of what I am trying to obtain.Does a CSS or JavaScript solution exist for this, or am I going to have to resort to images? I would prefer not to go the image route as this text will end up being generated dynamically.javascripthtmlcssShareImprove this questionFolloweditedMar 17 at 19:44SimplyAzumaaskedMay 9, 2014 at 16:16SimplyAzumaSimplyAzuma25.5k33 gold badges2424 silver badges3939 bronze badges', 'answers': 'Now on GitHub as a Plugin!Feel free to fork and improve.Demo|Download Zip|Half-Style.com(Redirects to GitHub)Pure CSSfor a Single CharacterJavaScript used for automation across text or multiple charactersPreserves Text Accessibility for screen readers for the blind or visually\nimpairedPart 1: Basic SolutionDemo:http://jsfiddle.net/arbel/pd9yB/1694/This works on any dynamic text, or a single character, and is all automated. All you need to do is add a class on the target text and the rest is taken care of.Also, the accessibility of the original text is preserved for screen readers for the blind or visually impaired.Explanation for a single character:Pure CSS. All you need to do is to apply.halfStyleclass to each element that contains the character you want to be half-styled.For each span element containing the character, you can create a data attribute, for example heredata-content=""X"", and on the pseudo element usecontent: attr(data-content);so the.halfStyle:beforeclass will be dynamic and you won\'t need to hard code it for every instance.Explanation for any text:Simply addtextToHalfStyleclass to the element containing the text.// jQuery for automated mode\r\njQuery(function($) {\r\n    var text, chars, $el, i, output;\r\n\r\n    // Iterate over all class occurences\r\n    $(\'.textToHalfStyle\').each(function(idx, el) {\r\n    $el = $(el);\r\n    text = $el.text();\r\n    chars = text.split(\'\');\r\n\r\n    // Set the screen-reader text\r\n    $el.html(\'<span style=""position: absolute !important;clip: rect(1px 1px 1px 1px);clip: rect(1px, 1px, 1px, 1px);"">\' + text + \'</span>\');\r\n\r\n    // Reset output for appending\r\n    output = \'\';\r\n\r\n    // Iterate over all chars in the text\r\n    for (i = 0; i < chars.length; i++) {\r\n        // Create a styled element for each character and append to container\r\n        output += \'<span aria-hidden=""true"" class=""halfStyle"" data-content=""\' + chars[i] + \'"">\' + chars[i] + \'</span>\';\r\n    }\r\n\r\n    // Write to DOM only once\r\n    $el.append(output);\r\n  });\r\n});.halfStyle {\r\n    position: relative;\r\n    display: inline-block;\r\n    font-size: 80px; /* or any font size will work */\r\n    color: black; /* or transparent, any color */\r\n    overflow: hidden;\r\n    white-space: pre; /* to preserve the spaces from collapsing */\r\n}\r\n\r\n.halfStyle:before {\r\n    display: block;\r\n    z-index: 1;\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    width: 50%;\r\n    content: attr(data-content); /* dynamic content for the pseudo element */\r\n    overflow: hidden;\r\n    color: #f00;\r\n}<script src=""https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js""></script>\r\n\r\n<p>Single Characters:</p>\r\n<span class=""halfStyle"" data-content=""X"">X</span>\r\n<span class=""halfStyle"" data-content=""Y"">Y</span>\r\n<span class=""halfStyle"" data-content=""Z"">Z</span>\r\n<span class=""halfStyle"" data-content=""A"">A</span>\r\n\r\n<hr/>\r\n<p>Automated:</p>\r\n\r\n<span class=""textToHalfStyle"">Half-style, please.</span>(JSFiddle demo)Part 2: Advanced solution - Independent left and right partsWith this solution you can style left and right parts, individually and independently.Everything is the same, only more advanced CSS does the magic.jQuery(function($) {\r\n    var text, chars, $el, i, output;\r\n\r\n    // Iterate over all class occurences\r\n    $(\'.textToHalfStyle\').each(function(idx, el) {\r\n        $el = $(el);\r\n        text = $el.text();\r\n        chars = text.split(\'\');\r\n\r\n        // Set the screen-reader text\r\n        $el.html(\'<span style=""position: absolute !important;clip: rect(1px 1px 1px 1px);clip: rect(1px, 1px, 1px, 1px);"">\' + text + \'</span>\');\r\n\r\n        // Reset output for appending\r\n        output = \'\';\r\n\r\n        // Iterate over all chars in the text\r\n        for (i = 0; i < chars.length; i++) {\r\n            // Create a styled element for each character and append to container\r\n            output += \'<span aria-hidden=""true"" class=""halfStyle"" data-content=""\' + chars[i] + \'"">\' + chars[i] + \'</span>\';\r\n        }\r\n\r\n        // Write to DOM only once\r\n        $el.append(output);\r\n    });\r\n});.halfStyle {\r\n    position: relative;\r\n    display: inline-block;\r\n    font-size: 80px; /* or any font size will work */\r\n    color: transparent; /* hide the base character */\r\n    overflow: hidden;\r\n    white-space: pre; /* to preserve the spaces from collapsing */\r\n}\r\n\r\n.halfStyle:before { /* creates the left part */\r\n    display: block;\r\n    z-index: 1;\r\n    position: absolute;\r\n    top: 0;\r\n    width: 50%;\r\n    content: attr(data-content); /* dynamic content for the pseudo element */\r\n    overflow: hidden;\r\n    pointer-events: none; /* so the base char is selectable by mouse */\r\n    color: #f00; /* for demo purposes */\r\n    text-shadow: 2px -2px 0px #af0; /* for demo purposes */\r\n}\r\n\r\n.halfStyle:after { /* creates the right part */\r\n    display: block;\r\n    direction: rtl; /* very important, will make the width to start from right */\r\n    position: absolute;\r\n    z-index: 2;\r\n    top: 0;\r\n    left: 50%;\r\n    width: 50%;\r\n    content: attr(data-content); /* dynamic content for the pseudo element */\r\n    overflow: hidden;\r\n    pointer-events: none; /* so the base char is selectable by mouse */\r\n    color: #000; /* for demo purposes */\r\n    text-shadow: 2px 2px 0px #0af; /* for demo purposes */\r\n}<script src=""https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js""></script>\r\n<p>Single Characters:</p>\r\n<span class=""halfStyle"" data-content=""X"">X</span>\r\n<span class=""halfStyle"" data-content=""Y"">Y</span>\r\n<span class=""halfStyle"" data-content=""Z"">Z</span>\r\n<span class=""halfStyle"" data-content=""A"">A</span>\r\n\r\n<hr/>\r\n<p>Automated:</p>\r\n\r\n<span class=""textToHalfStyle"">Half-style, please.</span>(JSFiddle demo)Part 3: Mix-Match and ImproveNow that we know what is possible, let\'s create some variations.-Horizontal Half PartsWithout Text Shadow:Possibility of Text Shadow for each half part independently:// jQuery for automated mode\r\njQuery(function($) {\r\n    var text, chars, $el, i, output;\r\n\r\n    // Iterate over all class occurences\r\n    $(\'.textToHalfStyle\').each(function(idx, el) {\r\n        $el = $(el);\r\n        text = $el.text();\r\n        chars = text.split(\'\');\r\n\r\n        // Set the screen-reader text\r\n        $el.html(\'<span style=""position: absolute !important;clip: rect(1px 1px 1px 1px);clip: rect(1px, 1px, 1px, 1px);"">\' + text + \'</span>\');\r\n\r\n        // Reset output for appending\r\n        output = \'\';\r\n\r\n        // Iterate over all chars in the text\r\n        for (i = 0; i < chars.length; i++) {\r\n            // Create a styled element for each character and append to container\r\n            output += \'<span aria-hidden=""true"" class=""halfStyle"" data-content=""\' + chars[i] + \'"">\' + chars[i] + \'</span>\';\r\n        }\r\n\r\n        // Write to DOM only once\r\n        $el.append(output);\r\n    });\r\n});.halfStyle {\r\n  position: relative;\r\n  display: inline-block;\r\n  font-size: 80px; /* or any font size will work */\r\n  color: transparent; /* hide the base character */\r\n  overflow: hidden;\r\n  white-space: pre; /* to preserve the spaces from collapsing */\r\n}\r\n\r\n.halfStyle:before { /* creates the top part */\r\n  display: block;\r\n  z-index: 2;\r\n  position: absolute;\r\n  top: 0;\r\n  height: 50%;\r\n  content: attr(data-content); /* dynamic content for the pseudo element */\r\n  overflow: hidden;\r\n  pointer-events: none; /* so the base char is selectable by mouse */\r\n  color: #f00; /* for demo purposes */\r\n  text-shadow: 2px -2px 0px #af0; /* for demo purposes */\r\n}\r\n\r\n.halfStyle:after { /* creates the bottom part */\r\n  display: block;\r\n  position: absolute;\r\n  z-index: 1;\r\n  top: 0;\r\n  height: 100%;\r\n  content: attr(data-content); /* dynamic content for the pseudo element */\r\n  overflow: hidden;\r\n  pointer-events: none; /* so the base char is selectable by mouse */\r\n  color: #000; /* for demo purposes */\r\n  text-shadow: 2px 2px 0px #0af; /* for demo purposes */\r\n}<script src=""https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js""></script>\r\n<p>Single Characters:</p>\r\n<span class=""halfStyle"" data-content=""X"">X</span>\r\n<span class=""halfStyle"" data-content=""Y"">Y</span>\r\n<span class=""halfStyle"" data-content=""Z"">Z</span>\r\n<span class=""halfStyle"" data-content=""A"">A</span>\r\n\r\n<hr/>\r\n<p>Automated:</p>\r\n\r\n<span class=""textToHalfStyle"">Half-style, please.</span>(JSFiddle demo)-Vertical 1/3 PartsWithout Text Shadow:Possibility of Text Shadow for each 1/3 part independently:// jQuery for automated mode\r\njQuery(function($) {\r\n    var text, chars, $el, i, output;\r\n\r\n    // Iterate over all class occurences\r\n    $(\'.textToHalfStyle\').each(function(idx, el) {\r\n    $el = $(el);\r\n    text = $el.text();\r\n    chars = text.split(\'\');\r\n\r\n    // Set the screen-reader text\r\n    $el.html(\'<span style=""position: absolute !important;clip: rect(1px 1px 1px 1px);clip: rect(1px, 1px, 1px, 1px);"">\' + text + \'</span>\');\r\n\r\n    // Reset output for appending\r\n    output = \'\';\r\n\r\n    // Iterate over all chars in the text\r\n    for (i = 0; i < chars.length; i++) {\r\n        // Create a styled element for each character and append to container\r\n        output += \'<span aria-hidden=""true"" class=""halfStyle"" data-content=""\' + chars[i] + \'"">\' + chars[i] + \'</span>\';\r\n    }\r\n\r\n    // Write to DOM only once\r\n    $el.append(output);\r\n  });\r\n});.halfStyle { /* base char and also the right 1/3 */\r\n    position: relative;\r\n    display: inline-block;\r\n    font-size: 80px; /* or any font size will work */\r\n    color: transparent; /* hide the base character */\r\n    overflow: hidden;\r\n    white-space: pre; /* to preserve the spaces from collapsing */\r\n    color: #f0f; /* for demo purposes */\r\n    text-shadow: 2px 2px 0px #0af; /* for demo purposes */\r\n}\r\n\r\n.halfStyle:before { /* creates the left 1/3 */\r\n    display: block;\r\n    z-index: 2;\r\n    position: absolute;\r\n    top: 0;\r\n    width: 33.33%;\r\n    content: attr(data-content); /* dynamic content for the pseudo element */\r\n    overflow: hidden;\r\n    pointer-events: none; /* so the base char is selectable by mouse */\r\n    color: #f00; /* for demo purposes */\r\n    text-shadow: 2px -2px 0px #af0; /* for demo purposes */\r\n}\r\n\r\n.halfStyle:after { /* creates the middle 1/3 */\r\n    display: block;\r\n    z-index: 1;\r\n    position: absolute;\r\n    top: 0;\r\n    width: 66.66%;\r\n    content: attr(data-content); /* dynamic content for the pseudo element */\r\n    overflow: hidden;\r\n    pointer-events: none; /* so the base char is selectable by mouse */\r\n    color: #000; /* for demo purposes */\r\n    text-shadow: 2px 2px 0px #af0; /* for demo purposes */\r\n}<script src=""https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js""></script>\r\n\r\n<p>Single Characters:</p>\r\n<span class=""halfStyle"" data-content=""X"">X</span>\r\n<span class=""halfStyle"" data-content=""Y"">Y</span>\r\n<span class=""halfStyle"" data-content=""Z"">Z</span>\r\n<span class=""halfStyle"" data-content=""A"">A</span>\r\n\r\n<hr/>\r\n<p>Automated:</p>\r\n\r\n<span class=""textToHalfStyle"">Half-style, please.</span>(JSFiddle demo)-Horizontal 1/3 PartsWithout Text Shadow:Possibility of Text Shadow for each 1/3 part independently:// jQuery for automated mode\r\njQuery(function($) {\r\n    var text, chars, $el, i, output;\r\n\r\n    // Iterate over all class occurences\r\n    $(\'.textToHalfStyle\').each(function(idx, el) {\r\n    $el = $(el);\r\n    text = $el.text();\r\n    chars = text.split(\'\');\r\n\r\n    // Set the screen-reader text\r\n    $el.html(\'<span style=""position: absolute !important;clip: rect(1px 1px 1px 1px);clip: rect(1px, 1px, 1px, 1px);"">\' + text + \'</span>\');\r\n\r\n    // Reset output for appending\r\n    output = \'\';\r\n\r\n    // Iterate over all chars in the text\r\n    for (i = 0; i < chars.length; i++) {\r\n        // Create a styled element for each character and append to container\r\n        output += \'<span aria-hidden=""true"" class=""halfStyle"" data-content=""\' + chars[i] + \'"">\' + chars[i] + \'</span>\';\r\n    }\r\n\r\n    // Write to DOM only once\r\n    $el.append(output);\r\n  });\r\n});.halfStyle { /* base char and also the bottom 1/3 */\r\n  position: relative;\r\n  display: inline-block;\r\n  font-size: 80px; /* or any font size will work */\r\n  color: transparent;\r\n  overflow: hidden;\r\n  white-space: pre; /* to preserve the spaces from collapsing */\r\n  color: #f0f;\r\n  text-shadow: 2px 2px 0px #0af; /* for demo purposes */\r\n}\r\n\r\n.halfStyle:before { /* creates the top 1/3 */\r\n  display: block;\r\n  z-index: 2;\r\n  position: absolute;\r\n  top: 0;\r\n  height: 33.33%;\r\n  content: attr(data-content); /* dynamic content for the pseudo element */\r\n  overflow: hidden;\r\n  pointer-events: none; /* so the base char is selectable by mouse */\r\n  color: #f00; /* for demo purposes */\r\n  text-shadow: 2px -2px 0px #fa0; /* for demo purposes */\r\n}\r\n\r\n.halfStyle:after { /* creates the middle 1/3 */\r\n  display: block;\r\n  position: absolute;\r\n  z-index: 1;\r\n  top: 0;\r\n  height: 66.66%;\r\n  content: attr(data-content); /* dynamic content for the pseudo element */\r\n  overflow: hidden;\r\n  pointer-events: none; /* so the base char is selectable by mouse */\r\n  color: #000; /* for demo purposes */\r\n  text-shadow: 2px 2px 0px #af0; /* for demo purposes */\r\n}<script src=""https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js""></script>\r\n<p>Single Characters:</p>\r\n<span class=""halfStyle"" data-content=""X"">X</span>\r\n<span class=""halfStyle"" data-content=""Y"">Y</span>\r\n<span class=""halfStyle"" data-content=""Z"">Z</span>\r\n<span class=""halfStyle"" data-content=""A"">A</span>\r\n\r\n<hr/>\r\n<p>Automated:</p>\r\n\r\n<span class=""textToHalfStyle"">Half-style, please.</span>(JSFiddle demo)-HalfStyle Improvement By @KevinGranger// jQuery for automated mode\r\njQuery(function($) {\r\n    var text, chars, $el, i, output;\r\n\r\n    // Iterate over all class occurences\r\n    $(\'.textToHalfStyle\').each(function(idx, el) {\r\n    $el = $(el);\r\n    text = $el.text();\r\n    chars = text.split(\'\');\r\n\r\n    // Set the screen-reader text\r\n    $el.html(\'<span style=""position: absolute !important;clip: rect(1px 1px 1px 1px);clip: rect(1px, 1px, 1px, 1px);"">\' + text + \'</span>\');\r\n\r\n    // Reset output for appending\r\n    output = \'\';\r\n\r\n    // Iterate over all chars in the text\r\n    for (i = 0; i < chars.length; i++) {\r\n        // Create a styled element for each character and append to container\r\n        output += \'<span aria-hidden=""true"" class=""halfStyle"" data-content=""\' + chars[i] + \'"">\' + chars[i] + \'</span>\';\r\n    }\r\n\r\n    // Write to DOM only once\r\n    $el.append(output);\r\n  });\r\n});body {\r\n    background-color: black;\r\n}\r\n\r\n.textToHalfStyle {\r\n    display: block;\r\n    margin: 200px 0 0 0;\r\n    text-align: center;\r\n}\r\n\r\n.halfStyle {\r\n    font-family: \'Libre Baskerville\', serif;\r\n    position: relative;\r\n    display: inline-block;\r\n    width: 1;\r\n    font-size: 70px;\r\n    color: black;\r\n    overflow: hidden;\r\n    white-space: pre;\r\n    text-shadow: 1px 2px 0 white;\r\n}\r\n\r\n.halfStyle:before {\r\n    display: block;\r\n    z-index: 1;\r\n    position: absolute;\r\n    top: 0;\r\n    width: 50%;\r\n    content: attr(data-content); /* dynamic content for the pseudo element */\r\n    overflow: hidden;\r\n    color: white;\r\n}<script src=""https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js""></script>\r\n<p>Single Characters:</p>\r\n<span class=""halfStyle"" data-content=""X"">X</span>\r\n<span class=""halfStyle"" data-content=""Y"">Y</span>\r\n<span class=""halfStyle"" data-content=""Z"">Z</span>\r\n<span class=""halfStyle"" data-content=""A"">A</span>\r\n\r\n<hr/>\r\n<p>Automated:</p>\r\n\r\n<span class=""textToHalfStyle"">Half-style, please.</span>(JSFiddle demo)-PeelingStyle improvement of HalfStyle by@SamTremaine// jQuery for automated mode\r\njQuery(function($) {\r\n    var text, chars, $el, i, output;\r\n\r\n    // Iterate over all class occurences\r\n    $(\'.textToHalfStyle\').each(function(idx, el) {\r\n    $el = $(el);\r\n    text = $el.text();\r\n    chars = text.split(\'\');\r\n\r\n    // Set the screen-reader text\r\n    $el.html(\'<span style=""position: absolute !important;clip: rect(1px 1px 1px 1px);clip: rect(1px, 1px, 1px, 1px);"">\' + text + \'</span>\');\r\n\r\n    // Reset output for appending\r\n    output = \'\';\r\n\r\n    // Iterate over all chars in the text\r\n    for (i = 0; i < chars.length; i++) {\r\n        // Create a styled element for each character and append to container\r\n        output += \'<span aria-hidden=""true"" class=""halfStyle"" data-content=""\' + chars[i] + \'"">\' + chars[i] + \'</span>\';\r\n    }\r\n\r\n    // Write to DOM only once\r\n    $el.append(output);\r\n  });\r\n});.halfStyle {\r\n    position: relative;\r\n    display: inline-block;\r\n    font-size: 68px;\r\n    color: rgba(0, 0, 0, 0.8);\r\n    overflow: hidden;\r\n    white-space: pre;\r\n    transform: rotate(4deg);\r\n    text-shadow: 2px 1px 3px rgba(0, 0, 0, 0.3);\r\n}\r\n\r\n.halfStyle:before { /* creates the left part */\r\n    display: block;\r\n    z-index: 1;\r\n    position: absolute;\r\n    top: -0.5px;\r\n    left: -3px;\r\n    width: 100%;\r\n    content: attr(data-content);\r\n    overflow: hidden;\r\n    pointer-events: none;\r\n    color: #FFF;\r\n    transform: rotate(-4deg);\r\n    text-shadow: 0px 0px 1px #000;\r\n}<script src=""https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js""></script>\r\n<p>Single Characters:</p>\r\n<span class=""halfStyle"" data-content=""X"">X</span>\r\n<span class=""halfStyle"" data-content=""Y"">Y</span>\r\n<span class=""halfStyle"" data-content=""Z"">Z</span>\r\n<span class=""halfStyle"" data-content=""A"">A</span>\r\n\r\n<hr/>\r\n<p>Automated:</p>\r\n\r\n<span class=""textToHalfStyle"">Half-style, please.</span>(JSFiddle demoand onsamtremaine.co.uk)Part 4: Ready for ProductionCustomized different Half-Style style-sets can be used on desired elements on the same page.\nYou can define multiple style-sets and tell the plugin which one to use.The plugin uses data attributedata-halfstyle=""[-CustomClassName-]""on the target.textToHalfStyleelements and makes all the necessary changes automatically.So, simply on the element containing the text addtextToHalfStyleclass and data attributedata-halfstyle=""[-CustomClassName-]"". The plugin will do the rest of the job.Also the CSS style-sets\' class definitions match the[-CustomClassName-]part mentioned above and is chained to.halfStyle, so we will have.halfStyle.[-CustomClassName-]jQuery(function($) {\r\n    var halfstyle_text, halfstyle_chars, $halfstyle_el, halfstyle_i, halfstyle_output, halfstyle_style;\r\n\r\n    // Iterate over all class occurrences\r\n    $(\'.textToHalfStyle\').each(function(idx, halfstyle_el) {\r\n        $halfstyle_el = $(halfstyle_el);\r\n        halfstyle_style = $halfstyle_el.data(\'halfstyle\') || \'hs-base\';\r\n        halfstyle_text = $halfstyle_el.text();\r\n        halfstyle_chars = halfstyle_text.split(\'\');\r\n\r\n        // Set the screen-reader text\r\n        $halfstyle_el.html(\'<span style=""position: absolute !important;clip: rect(1px 1px 1px 1px);clip: rect(1px, 1px, 1px, 1px);"">\' + halfstyle_text + \'</span>\');\r\n\r\n        // Reset output for appending\r\n        halfstyle_output = \'\';\r\n\r\n        // Iterate over all chars in the text\r\n        for (halfstyle_i = 0; halfstyle_i < halfstyle_chars.length; halfstyle_i++) {\r\n            // Create a styled element for each character and append to container\r\n            halfstyle_output += \'<span aria-hidden=""true"" class=""halfStyle \' + halfstyle_style + \'"" data-content=""\' + halfstyle_chars[halfstyle_i] + \'"">\' + halfstyle_chars[halfstyle_i] + \'</span>\';\r\n        }\r\n\r\n        // Write to DOM only once\r\n        $halfstyle_el.append(halfstyle_output);\r\n    });\r\n});/* start half-style hs-base */\r\n\r\n.halfStyle.hs-base {\r\n    position: relative;\r\n    display: inline-block;\r\n    font-size: 80px; /* or any font size will work */\r\n    overflow: hidden;\r\n    white-space: pre; /* to preserve the spaces from collapsing */\r\n    color: #000; /* for demo purposes */\r\n}\r\n\r\n.halfStyle.hs-base:before {\r\n    display: block;\r\n    z-index: 1;\r\n    position: absolute;\r\n    top: 0;\r\n    width: 50%;\r\n    content: attr(data-content); /* dynamic content for the pseudo element */\r\n    pointer-events: none; /* so the base char is selectable by mouse */\r\n    overflow: hidden;\r\n    color: #f00; /* for demo purposes */\r\n}\r\n\r\n/* end half-style hs-base */\r\n\r\n\r\n/* start half-style hs-horizontal-third */\r\n\r\n.halfStyle.hs-horizontal-third { /* base char and also the bottom 1/3 */\r\n    position: relative;\r\n    display: inline-block;\r\n    font-size: 80px; /* or any font size will work */\r\n    color: transparent;\r\n    overflow: hidden;\r\n    white-space: pre; /* to preserve the spaces from collapsing */\r\n    color: #f0f;\r\n    text-shadow: 2px 2px 0px #0af; /* for demo purposes */\r\n}\r\n\r\n.halfStyle.hs-horizontal-third:before { /* creates the top 1/3 */\r\n    display: block;\r\n    z-index: 2;\r\n    position: absolute;\r\n    top: 0;\r\n    height: 33.33%;\r\n    content: attr(data-content); /* dynamic content for the pseudo element */\r\n    overflow: hidden;\r\n    pointer-events: none; /* so the base char is selectable by mouse */\r\n    color: #f00; /* for demo purposes */\r\n    text-shadow: 2px -2px 0px #fa0; /* for demo purposes */\r\n}\r\n\r\n.halfStyle.hs-horizontal-third:after { /* creates the middle 1/3 */\r\n    display: block;\r\n    position: absolute;\r\n    z-index: 1;\r\n    top: 0;\r\n    height: 66.66%;\r\n    content: attr(data-content); /* dynamic content for the pseudo element */\r\n    overflow: hidden;\r\n    pointer-events: none; /* so the base char is selectable by mouse */\r\n    color: #000; /* for demo purposes */\r\n    text-shadow: 2px 2px 0px #af0; /* for demo purposes */\r\n}\r\n\r\n/* end half-style hs-horizontal-third */\r\n\r\n\r\n/* start half-style hs-PeelingStyle, by user SamTremaine on Stackoverflow.com */\r\n\r\n.halfStyle.hs-PeelingStyle {\r\n  position: relative;\r\n  display: inline-block;\r\n  font-size: 68px;\r\n  color: rgba(0, 0, 0, 0.8);\r\n  overflow: hidden;\r\n  white-space: pre;\r\n  transform: rotate(4deg);\r\n  text-shadow: 2px 1px 3px rgba(0, 0, 0, 0.3);\r\n}\r\n\r\n.halfStyle.hs-PeelingStyle:before { /* creates the left part */\r\n  display: block;\r\n  z-index: 1;\r\n  position: absolute;\r\n  top: -0.5px;\r\n  left: -3px;\r\n  width: 100%;\r\n  content: attr(data-content);\r\n  overflow: hidden;\r\n  pointer-events: none;\r\n  color: #FFF;\r\n  transform: rotate(-4deg);\r\n  text-shadow: 0px 0px 1px #000;\r\n}\r\n\r\n/* end half-style hs-PeelingStyle */\r\n\r\n\r\n/* start half-style hs-KevinGranger, by user KevinGranger on StackOverflow.com*/\r\n\r\n.textToHalfStyle.hs-KevinGranger {\r\n  display: block;\r\n  margin: 200px 0 0 0;\r\n  text-align: center;\r\n}\r\n\r\n.halfStyle.hs-KevinGranger {\r\n  font-family: \'Libre Baskerville\', serif;\r\n  position: relative;\r\n  display: inline-block;\r\n  width: 1;\r\n  font-size: 70px;\r\n  color: black;\r\n  overflow: hidden;\r\n  white-space: pre;\r\n  text-shadow: 1px 2px 0 white;\r\n}\r\n\r\n.halfStyle.hs-KevinGranger:before {\r\n  display: block;\r\n  z-index: 1;\r\n  position: absolute;\r\n  top: 0;\r\n  width: 50%;\r\n  content: attr(data-content); /* dynamic content for the pseudo element */\r\n  overflow: hidden;\r\n  color: white;\r\n}\r\n\r\n/* end half-style hs-KevinGranger<script src=""https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js""></script>\r\n<p>\r\n    <span class=""textToHalfStyle"" data-halfstyle=""hs-base"">Half-style, please.</span>\r\n</p>\r\n<p>\r\n    <span class=""textToHalfStyle"" data-halfstyle=""hs-horizontal-third"">Half-style, please.</span>\r\n</p>\r\n<p>\r\n    <span class=""textToHalfStyle"" data-halfstyle=""hs-PeelingStyle"">Half-style, please.</span>\r\n</p>\r\n<p style=""background-color:#000;"">\r\n    <span class=""textToHalfStyle"" data-halfstyle=""hs-KevinGranger"">Half-style, please.</span>\r\n</p>(JSFiddle demo)ShareImprove this answerFolloweditedJun 29, 2018 at 7:30answeredMay 9, 2014 at 16:42ArbelArbel30.9k22 gold badges2929 silver badges3030 bronze badges\n\nI\'ve just finished developing the plugin and it is available for everyone to use! Hope you will enjoy it.View Project onGitHub- View ProjectWebsite.(so you can see all the split styles)UsageFirst of all, make sure you have thejQuerylibrary is included. The best way to get the latest jQuery version is to update your head tag with:<script src=""http://code.jquery.com/jquery-latest.min.js""></script>After downloading the files, make sure you include them in your project:<link rel=""stylesheet"" type=""text/css"" href=""css/splitchar.css"">\n<script type=""text/javascript"" src=""js/splitchar.js""></script>MarkupAll you have to do is to asign the classsplitchar, followed by the desired style to the element wrapping your text. e.g<h1 class=""splitchar horizontal"">Splitchar</h1>After all this is done, just make sure you call the jQuery function in your document ready file like this:$("".splitchar"").splitchar();CustomizingIn order to make the text look exactly as you want it to, all you have to do is apply your design like this:.horizontal { /* Base CSS - e.g font-size */ }\n.horizontal:before { /* CSS for the left half */ }\n.horizontal:after { /* CSS for the right half */ }That\'s it! Now you have theSplitcharplugin all set. More info about it athttp://razvanbalosin.com/Splitchar.js/.ShareImprove this answerFolloweditedMay 25, 2018 at 17:20TylerH21.1k7272 gold badges7878 silver badges105105 bronze badgesansweredMay 9, 2014 at 16:32Razvan B.Razvan B.6,75122 gold badges2020 silver badges3232 bronze badges\n\nYes, you can do this with only one character and only CSS:http://jsbin.com/rexoyice/1/h1 {\n  display: inline-block;\n  margin: 0; /* for demo snippet */\n  line-height: 1em; /* for demo snippet */\n  font-family: helvetica, arial, sans-serif;\n  font-weight: bold;\n  font-size: 300px;\n  background: linear-gradient(to right, #7db9e8 50%,#1e5799 50%);\n  background-clip: text;\n  -webkit-text-fill-color: transparent;\n}<h1>X</h1>Visually, all the examples that use two characters (be it via JS, CSS pseudo elements, or just HTML) look fine, but note that that all adds content to the DOM which may cause accessibility--as well as text selection/cut/paste issues.ShareImprove this answerFolloweditedAug 23, 2021 at 21:21TylerH21.1k7272 gold badges7878 silver badges105105 bronze badgesansweredMay 9, 2014 at 16:42DA.DA.40.5k5050 gold badges156156 silver badges216216 bronze badges\n\nJSFiddle DEMOWe\'ll do it using just CSS pseudo selectors!This technique will work with dynamically generated content and different font sizes and widths.HTML:<div class=\'split-color\'>Two is better than one.</div>CSS:.split-color > span {\n    white-space: pre-line;\n    position: relative;\n    color: #409FBF;\n}\n\n.split-color > span:before {\n    content: attr(data-content);\n    pointer-events: none;  /* Prevents events from targeting pseudo-element */\n    position: absolute;\n    overflow: hidden;\n    color: #264A73;\n    width: 50%;\n    z-index: 1;\n}To wrap the dynamically generated string, you could use a function like this:// Wrap each letter in a span tag and return an HTML string\n// that can be used to replace the original text\nfunction wrapString(str) {\n  var output = [];\n  str.split(\'\').forEach(function(letter) {\n    var wrapper = document.createElement(\'span\');\n    wrapper.dataset.content = wrapper.innerHTML = letter;\n\n    output.push(wrapper.outerHTML);\n  });\n\n  return output.join(\'\');\n}\n\n// Replace the original text with the split-color text\nwindow.onload = function() {\n    var el  = document.querySelector(\'.split-color\'),\n        txt = el.innerHTML;\n    \n    el.innerHTML = wrapString(txt);\n}ShareImprove this answerFolloweditedJun 20, 2020 at 9:12CommunityBot111 silver badgeansweredMay 9, 2014 at 16:33wvandaalwvandaal4,27522 gold badges1717 silver badges2727 bronze badges\n\nIf you are interested in this, then Lucas Bebber\'s Glitch is a very similar and super cool effect:Created using a simple SASS Mixin such as.example-one {\n  font-size: 100px;\n  @include textGlitch(""example-one"", 17, white, black, red, blue, 450, 115);\n}More details atChris Coyer\'s CSS TricksandLucas Bebber\'s Codepen pageShareImprove this answerFollowansweredOct 1, 2014 at 12:39RuskinRuskin6,07144 gold badges4848 silver badges6565 bronze badges\n\nHere an ugly implementation in canvas. I tried this solution, but the results are worse than I expected, so here it is anyway.$(""div"").each(function() {\r\n  var CHARS = $(this).text().split(\'\');\r\n  $(this).html("""");\r\n  $.each(CHARS, function(index, char) {\r\n    var canvas = $(""<canvas />"")\r\n      .css(""width"", ""40px"")\r\n      .css(""height"", ""40px"")\r\n      .get(0);\r\n    $(""div"").append(canvas);\r\n    var ctx = canvas.getContext(""2d"");\r\n    var gradient = ctx.createLinearGradient(0, 0, 130, 0);\r\n    gradient.addColorStop(""0"", ""blue"");\r\n    gradient.addColorStop(""0.5"", ""blue"");\r\n    gradient.addColorStop(""0.51"", ""red"");\r\n    gradient.addColorStop(""1.0"", ""red"");\r\n    ctx.font = \'130pt Calibri\';\r\n    ctx.fillStyle = gradient;\r\n    ctx.fillText(char, 10, 130);\r\n  });\r\n});<script src=""https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js""></script>\r\n<div>Example Text</div>ShareImprove this answerFolloweditedAug 21, 2019 at 1:07m4n031.6k2727 gold badges8080 silver badges9292 bronze badgesansweredMay 9, 2014 at 19:33FiambreFiambre1,9791313 silver badges2323 bronze badges\n\nClosest I can get:$(function(){\r\n  $(\'span\').width($(\'span\').width()/2);\r\n  $(\'span:nth-child(2)\').css(\'text-indent\', -$(\'span\').width());\r\n});body{\r\n  font-family: arial;\r\n}\r\nspan{\r\n  display: inline-block;\r\n  overflow: hidden;\r\n}\r\nspan:nth-child(2){\r\n  color: red;\r\n}<script src=""https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js""></script>\r\n<span>X</span><span>X</span>Demo:http://jsfiddle.net/9wxfY/2/Heres a version that just uses one span:http://jsfiddle.net/9wxfY/4/ShareImprove this answerFolloweditedAug 5, 2016 at 11:46Al Foиce    ѫ4,2751212 gold badges4242 silver badges5050 bronze badgesansweredMay 9, 2014 at 16:28PrisonerPrisoner27.5k1111 gold badges7474 silver badges103103 bronze badges\n\nI just played with @Arbel\'s solution:var textToHalfStyle = $(\'.textToHalfStyle\').text();\r\nvar textToHalfStyleChars = textToHalfStyle.split(\'\');\r\n$(\'.textToHalfStyle\').html(\'\');\r\n$.each(textToHalfStyleChars, function(i,v){\r\n    $(\'.textToHalfStyle\').append(\'<span class=""halfStyle"" data-content=""\' + v + \'"">\' + v + \'</span>\');\r\n});body{\r\n    background-color: black;\r\n}\r\n.textToHalfStyle{\r\n    display:block;\r\n    margin: 200px 0 0 0;\r\n    text-align:center;\r\n}\r\n.halfStyle {\r\n    font-family: \'Libre Baskerville\', serif;\r\n    position:relative;\r\n    display:inline-block;\r\n    width:1;\r\n    font-size:70px;\r\n    color: black;\r\n    overflow:hidden;\r\n    white-space: pre;\r\n    text-shadow: 1px 2px 0 white;\r\n}\r\n.halfStyle:before {\r\n    display:block;\r\n    z-index:1;\r\n    position:absolute;\r\n    top:0;\r\n    width: 50%;\r\n    content: attr(data-content); /* dynamic content for the pseudo element */\r\n    overflow:hidden;\r\n    color: white;\r\n}<script src=""https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js""></script>\r\n<span class=""textToHalfStyle"">Dr. Jekyll and M. Hide</span>ShareImprove this answerFolloweditedOct 21, 2017 at 17:39TylerH21.1k7272 gold badges7878 silver badges105105 bronze badgesansweredMay 12, 2014 at 20:32ShipowShipow2,45111 gold badge2121 silver badges2828 bronze badges\n\nAnother CSS-only solution (though data-attribute is needed if you don\'t want to write letter-specific CSS). This one works more across the board (Tested IE 9/10, Chrome latest & FF latest)span {\r\n  position: relative;\r\n  color: rgba(50,50,200,0.5);\r\n}\r\n\r\nspan:before {\r\n  content: attr(data-char);\r\n  position: absolute;\r\n  width: 50%;\r\n  overflow: hidden;\r\n  color: rgb(50,50,200);\r\n}<span data-char=""X"">X</span>ShareImprove this answerFolloweditedAug 5, 2016 at 12:40Al Foиce    ѫ4,2751212 gold badges4242 silver badges5050 bronze badgesansweredMay 12, 2014 at 18:44MStruttMStrutt81966 silver badges77 bronze badges\n\nLimited CSS and jQuery SolutionI am not sure how elegant this solution is, but it cuts everything exactly in half:http://jsfiddle.net/9wxfY/11/Otherwise, I have created a nice solution for you... All you need to do is have this for your HTML:Take a look at this most recent, and accurate, edit as of 6/13/2016 :http://jsfiddle.net/9wxfY/43/As for the CSS, it is very limited... You only need to apply it to:nth-child(even)$(function(){\r\n  var $hc = $(\'.half-color\');\r\n  var str = $hc.text();\r\n  $hc.html("""");\r\n\r\n  var i = 0;\r\n  var chars;\r\n  var dupText;\r\n\r\n  while(i < str.length){\r\n    chars = str[i];\r\n    if(chars == "" "") chars = ""&nbsp;"";\r\n    dupText = ""<span>"" + chars + ""</span>"";\r\n\r\n    var firstHalf = $(dupText);\r\n    var secondHalf = $(dupText);\r\n\r\n    $hc.append(firstHalf)\r\n    $hc.append(secondHalf)\r\n\r\n    var width = firstHalf.width()/2;\r\n\r\n    firstHalf.width(width);\r\n    secondHalf.css(\'text-indent\', -width);\r\n\r\n    i++;\r\n  }\r\n});.half-color span{\r\n  font-size: 2em;\r\n  display: inline-block;\r\n  overflow: hidden;\r\n}\r\n.half-color span:nth-child(even){\r\n  color: red;\r\n}<script src=""https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js""></script>\r\n<div class=""half-color"">This is a sentence</div>ShareImprove this answerFolloweditedJan 19, 2017 at 15:23answeredMay 9, 2014 at 16:39AdjitAdjit10.2k1212 gold badges5555 silver badges101101 bronze badges\n\nA nice solution that takes advantage of thebackground-clip: textsupport:http://jsfiddle.net/sandro_paganotti/wLkVt/span{\n   font-size: 100px;\n   background: linear-gradient(to right, black, black 50%, grey 50%, grey);\n   background-clip: text;\n   -webkit-text-fill-color: transparent;\n}ShareImprove this answerFolloweditedAug 23, 2021 at 21:22TylerH21.1k7272 gold badges7878 silver badges105105 bronze badgesansweredMay 9, 2014 at 17:50Sandro PaganottiSandro Paganotti2,2971616 silver badges1212 bronze badges\n\n.halfStyle {\n    position:relative;\n    display:inline-block;\n    font-size:68px; /* or any font size will work */\n    color: rgba(0,0,0,0.8); /* or transparent, any color */\n    overflow:hidden;\n    white-space: pre; /* to preserve the spaces from collapsing */\n    transform:rotate(4deg);\n    -webkit-transform:rotate(4deg);\n    text-shadow:2px 1px 3px rgba(0,0,0,0.3);\n}\n.halfStyle:before {\n    display:block;\n    z-index:1;\n    position:absolute;\n    top:-0.5px;\n    left:-3px;\n    width: 100%;\n    content: attr(data-content); /* dynamic content for the pseudo element */\n    overflow:hidden;\n    color: white;\n    transform:rotate(-4deg);\n    -webkit-transform:rotate(-4deg);\n    text-shadow:0 0 1px black;\n\n}http://experimental.samtremaine.co.uk/half-style/You can crowbar this code into doing all sorts of interesting things - this is just one implementation my associate and I came up with last night.ShareImprove this answerFollowansweredMay 13, 2014 at 9:26Sam TremaineSam Tremaine34122 silver badges22 bronze badges\n\nHow about something like this for shorter text?It could even work for longer text if you did something with a loop, repeating the characters with JavaScript. Anyway, the result is something like this:p.char {\r\n  position: relative;\r\n  display: inline-block;\r\n  font-size: 60px;\r\n  color: red;\r\n}\r\n\r\np.char:before {\r\n  position: absolute;\r\n  content: attr(char);\r\n  width: 50%;\r\n  overflow: hidden;\r\n  color: black;\r\n}<p class=""char"" char=""S"">S</p>\r\n<p class=""char"" char=""t"">t</p>\r\n<p class=""char"" char=""a"">a</p>\r\n<p class=""char"" char=""c"">c</p>\r\n<p class=""char"" char=""k"">k</p>\r\n<p class=""char"" char=""o"">o</p>\r\n<p class=""char"" char=""v"">v</p>\r\n<p class=""char"" char=""e"">e</p>\r\n<p class=""char"" char=""r"">r</p>\r\n<p class=""char"" char=""f"">f</p>\r\n<p class=""char"" char=""l"">l</p>\r\n<p class=""char"" char=""o"">o</p>\r\n<p class=""char"" char=""w"">w</p>ShareImprove this answerFolloweditedApr 11, 2018 at 6:22kshetline13.3k55 gold badges4444 silver badges8585 bronze badgesansweredJun 19, 2017 at 12:58AlirezaAlireza103k2727 gold badges275275 silver badges173173 bronze badges\n\nFWIW, here\'s my take on this doing it only with CSS:http://codepen.io/ricardozea/pen/uFbts/Several notes:The main reason I did this was to test myself and see if I was able to accomplish styling half of a character while actually providing a meaningful answer to the OP.I am aware that this is not an ideal or the most scalable solution and the solutions proposed by the people here are far better for ""real world"" scenarios.The CSS code I created is based on the first thoughts that came to my mind and my own personal approach to the problem.My solution only works on symmetrical characters, like X, A, O, M. **It does not work on asymmetric characters like B, C, F, K or lower case letters.** HOWEVER, this approach creates very interesting \'shapes\' with asymmetric characters. Try changing the X to a K or to a lower case letter like anhor apin the CSS :)HTML<span class=""half-letter""></span>SCSS.half-character { \n  display: inline-block;\n  font: bold 350px/.8 Arial;\n  position: relative;\n\n  &:before, &:after {\n    content: \'X\'; //Change character here\n    display: inline-block;\n    width: 50%;\n    overflow: hidden;\n    color: #7db9e8;\n  }\n  &:after {\n    position: absolute;\n    top: 0;\n    left: 50%;\n    color: #1e5799;\n    transform: rotateY(-180deg);\n  }\n}ShareImprove this answerFolloweditedJul 31, 2014 at 19:19answeredMay 16, 2014 at 20:21Ricardo ZeaRicardo Zea10.2k1313 gold badges7878 silver badges8181 bronze badges\n\nThis can be achieved with just CSS:beforeselector andcontent property value..halfed, .halfed1 {\r\n  float: left;\r\n}\r\n\r\n.halfed, .halfed1 {\r\n  font-family: arial;\r\n  font-size: 300px;\r\n  font-weight: bolder;\r\n  width: 200px;\r\n  height: 300px;\r\n  position: relative; /* To help hold the content value within */\r\n  overflow: hidden;\r\n  color: #000;\r\n}\r\n\r\n\r\n\r\n\r\n.halfed:before, .halfed1:before   {\r\n  width: 50%; /* How much we\'d like to show */\r\n  overflow: hidden; /* Hide what goes beyond our dimension */  \r\n  content: \'X\'; /* Halfed character */\r\n  height: 100%;\r\n  position: absolute;\r\n  color: #28507D;\r\n\r\n}\r\n\r\n\r\n\r\n/* For Horizontal cut off */ \r\n\r\n.halfed1:before   {\r\n  width: 100%;\r\n  height: 55%;\r\n  \r\n}<div class=""halfed""> X </div>\r\n\r\n<div class=""halfed1""> X </div>>> See on jsFiddleShareImprove this answerFolloweditedJan 14, 2016 at 14:50answeredJan 14, 2016 at 14:41Sleek GeekSleek Geek4,69633 gold badges2828 silver badges4242 bronze badges\n\nYou can also do it using SVG, if you wish:var title = document.querySelector(\'h1\'),\r\n    text = title.innerHTML,\r\n    svgTemplate = document.querySelector(\'svg\'),\r\n    charStyle = svgTemplate.querySelector(\'#text\');\r\n\r\nsvgTemplate.style.display = \'block\';\r\n\r\nvar space = 0;\r\n\r\nfor (var i = 0; i < text.length; i++) {\r\n  var x = charStyle.cloneNode();\r\n  x.textContent = text[i];\r\n  svgTemplate.appendChild(x);\r\n  x.setAttribute(\'x\', space);\r\n  space += x.clientWidth || 15;\r\n}\r\n\r\ntitle.innerHTML = \'\';\r\ntitle.appendChild(svgTemplate);<svg style=""display: none; height: 100px; width: 100%"" xmlns=""http://www.w3.org/2000/svg"" xmlns:svg=""http://www.w3.org/2000/svg"" xmlns:xlink=""http://www.w3.org/1999/xlink"" version=""1.1"">\r\n    <defs id=""FooDefs"">\r\n        <linearGradient id=""MyGradient"" x1=""0%"" y1=""0%"" x2=""100%"" y2=""0%"">\r\n            <stop offset=""50%"" stop-color=""blue"" />\r\n            <stop offset=""50%"" stop-color=""red"" />\r\n        </linearGradient>\r\n    </defs>\r\n    <text y=""50%"" id=""text"" style=""font-size: 72px; fill: url(#MyGradient)""></text>\r\n</svg>\r\n\r\n<h1>This is not a solution X</h1>http://codepen.io/nicbell/pen/jGcbqShareImprove this answerFolloweditedFeb 6, 2015 at 10:43Salman Arshad270k8383 gold badges436436 silver badges528528 bronze badgesansweredMay 15, 2014 at 13:26Nic BellNic Bell52322 silver badges77 bronze badges\n\nYou can use below code. Here in this example I have usedh1tag and added an attributedata-title-text=""Display Text""which will appear with different color text onh1tag text element, which gives effect halfcolored text as shown in below examplebody {\r\n  text-align: center;\r\n  margin: 0;\r\n}\r\n\r\nh1 {\r\n  color: #111;\r\n  font-family: arial;\r\n  position: relative;\r\n  font-family: \'Oswald\', sans-serif;\r\n  display: inline-block;\r\n  font-size: 2.5em;\r\n}\r\n\r\nh1::after {\r\n  content: attr(data-title-text);\r\n  color: #e5554e;\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  clip: rect(0, 1000px, 30px, 0);\r\n}<h1 data-title-text=""Display Text"">Display Text</h1>ShareImprove this answerFolloweditedApr 11, 2018 at 7:12schmijos8,50133 gold badges5252 silver badges5959 bronze badgesansweredMay 4, 2017 at 5:44Gauri BhosleGauri Bhosle5,37311 gold badge1717 silver badges1919 bronze badges\n\nJust for the record in history!I\'ve come up with a solution for my own work from 5-6 years ago, which isGradext( pure javascript and pure css, no dependency ) .The technical explanation is you can create an element like this:<span>A</span>now if you want to make a gradient on text, you need to create some multiple layers, each individually specifically colored and the spectrum created will illustrate the gradient effect.for example look at this is the wordloreminside of a<span>and will cause a horizontal gradient effect (check the examples):<span data-i=""0"" style=""color: rgb(153, 51, 34);"">L</span>\n <span data-i=""1"" style=""color: rgb(154, 52, 35);"">o</span>\n <span data-i=""2"" style=""color: rgb(155, 53, 36);"">r</span>\n <span data-i=""3"" style=""color: rgb(156, 55, 38);"">e</span>\n <span data-i=""4"" style=""color: rgb(157, 56, 39);"">m</span>and you can continue doing this pattern for a long time and long paragraph as well.But!What if you want to create avertical gradienteffect on texts?Then there\'s another solution which could be helpful. I will describe in details.Assuming our first<span>again. but the content shouldn\'t be the letters individually; the content should be the whole text, and now we\'re going to copy the same \u200d\u200d<span>again and again ( count of spans will define the quality of your gradient, more span, better result, but poor performance ). have a look at this:<span data-i=""6"" style=""color: rgb(81, 165, 39); overflow: hidden; height: 11.2px;"">Lorem ipsum dolor sit amet, tincidunt ut laoreet dolore magna aliquam erat volutpat.</span>\n<span data-i=""7"" style=""color: rgb(89, 174, 48); overflow: hidden; height: 12.8px;"">Lorem ipsum dolor sit amet, tincidunt ut laoreet dolore magna aliquam erat volutpat.</span>\n<span data-i=""8"" style=""color: rgb(97, 183, 58); overflow: hidden; height: 14.4px;"">Lorem ipsum dolor sit amet, tincidunt ut laoreet dolore magna aliquam erat volutpat.</span>\n<span data-i=""9"" style=""color: rgb(105, 192, 68); overflow: hidden; height: 16px;"">Lorem ipsum dolor sit amet, tincidunt ut laoreet dolore magna aliquam erat volutpat.</span>\n<span data-i=""10"" style=""color: rgb(113, 201, 78); overflow: hidden; height: 17.6px;"">Lorem ipsum dolor sit amet, tincidunt ut laoreet dolore magna aliquam erat volutpat.</span>\n<span data-i=""11"" style=""color: rgb(121, 210, 88); overflow: hidden; height: 19.2px;"">Lorem ipsum dolor sit amet, tincidunt ut laoreet dolore magna aliquam erat volutpat.</span>Again, But!what if you want to make these gradient effects to move and create an animation out of it?well, there\'s another solution for it too. You should definitely checkanimation: trueor even.hoverable()method which will lead to a gradient to start based on cursor position! ( sounds cool xD )this is simply how we\'re creating gradients ( linear or radial ) on texts. If you liked the idea or want to know more about it, you should check the links provided.Maybe this is not the best option, maybe not the best performant way to do this, but it will open up some space to create exciting and delightful animations to inspire some other people for a better solution.It will allow you to use gradient style on texts, which is supported by even IE8!Here you can find a working live demoand the original repository ishere on GitHub as well, open sourceand ready to get some updates ( :D )This is my first time ( yeah, after 5 years, you\'ve heard it right ) to mention this repository anywhere on the Internet, and I\'m excited about that![Update - 2019 August:]Github removedgithub-pagesdemo of that repository because I\'m from Iran! Only the source code is availableheretho...ShareImprove this answerFolloweditedAug 5, 2019 at 17:49answeredDec 15, 2018 at 15:26mrReihamrReiha92866 silver badges2424 bronze badges\n\nAll solutions work by splitting letters and wrapping them in<span>. We don\'t have to split letters in two cases:If font is monospace.If vertical layout is used.div {\n  font-size: 80px;\n  font-weight: bolder;\n  color: transparent;\n  padding: 0;\n  margin: 0;\n  background: linear-gradient(90deg, rgb(34, 67, 143) 0% 50%, #409FBF 50%);\n  background-clip: text;\n  -webkit-background-clip: text;\n}\n\n.one {\n  font-family: \'Nova Mono\';\n  background-repeat: repeat-x;\n  background-size: 45px;\n}\n\n.two {\n  font-family: \'Gideon Roman\';\n  writing-mode: vertical-lr;\n  text-orientation: upright;\n  letter-spacing: -35px;\n  height: 500px;\n}<!-- get the fonts -->\n<link rel=""preconnect"" href=""https://fonts.googleapis.com"">\n<link rel=""preconnect"" href=""https://fonts.gstatic.com"" crossorigin>\n<link href=""https://fonts.googleapis.com/css2?family=Nova+Mono&display=swap"" rel=""stylesheet"">\n<link href=""https://fonts.googleapis.com/css2?family=Gideon+Roman&display=swap"" rel=""stylesheet"">\n\n\n<div id=\'one\' class=""one"">X-RAY Winter</div>\n<div class=""two"">Minty</div>Expected output, in case the fonts are not available:I know use of background-clip and gradient has been already demonstrated in other answers, just putting the cases where you don\'t have to split the letters.ShareImprove this answerFollowansweredJan 19, 2022 at 9:35the Huttthe Hutt18.2k22 gold badges1616 silver badges4848 bronze badges\n\nHere is a CSS only solution for afull line of text, not just a character element.div {\n    position: relative;\n    top: 2em;\n    height: 2em;\n    text-transform: full-width;\n}\n\ndiv:before,\ndiv:after {\n    content: attr(data-content);\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n}\n\ndiv:after {\n    color: red;\n    /* mask for a single character. By repeating this mask, all the string becomes masked */\n    -webkit-mask-image: linear-gradient(to right, transparent 0, transparent .5em, white .5em, white 1em);\n    -webkit-mask-repeat: repeat-x;  /* repeat the mask towards the right */\n    -webkit-mask-size: 1em;         /* relative width of a single character */ \n    \n    /* non-vendor mask settings */\n    mask-image: linear-gradient(to right, transparent 0, transparent .5em, white .5em, white 1em);\n    mask-repeat: repeat-x;\n    mask-size: 1em;\n}\n\n\n/* demo purposes */\ninput[name=""fontSize""]:first-of-type:checked ~ div {\n    font-size: 1em;\n}\n\ninput[name=""fontSize""]:first-of-type + input:checked ~ div {\n    font-size: 2em;\n}\n\ninput[name=""fontSize""]:first-of-type + input + input:checked ~ div {\n    font-size: 3em;\n}Font-size:\n  <input type=""radio"" name=""fontSize"" value=""1em"">\n  <input type=""radio"" name=""fontSize"" value=""2em"" checked>\n  <input type=""radio"" name=""fontSize"" value=""3em"">\n\n  <div data-content=""A CSS only solution...""></div>\n  <div data-content=""Try it on Firefox!""></div>The idea is to apply an horizontal CSS mask for each character, that hides the first half of it [0 - 0.5em] and shows the second half [0.5em - 1em].The width of the mask ismask-size: 1emto match the width of the very first character in the string.\nBy using themask-repeat: repeat-x, the same mask is applied to the second, third character and so on.I thought that using the fontmonospacewould solve the problem of using same-width letters, but I was wrong.\nInstead, I solved it by using thetext-transform: full-width, that unfortunatelly is only supported by Firefox, I believe.The use of relative unitemallows the design to scale up/down depending on thefont-size.Vanilla JavaScript solution for all browsersIf Firefox is not an option, then use this script for the rescue.It works by inserting a childspanfor each character. Inside each span, a non-repeated CSS mask is placed from [0% - 50%] and [50% - 100%] the width of the letter (which is the width of the span element).This way we don\'t have anymore the restriction of using same-width characters.const\n    dataElement = document.getElementById(""data""),\n    content = dataElement.textContent,\n    zoom = function (fontSize) {\n        dataElement.style[\'font-size\'] = fontSize + \'em\';           \n    };\n\nwhile (dataElement.firstChild) {\n    dataElement.firstChild.remove()\n}\nfor(var i = 0; i < content.length; ++i) {\n    const\n        spanElem = document.createElement(\'span\'),\n        ch = content[i];    \n    spanElem.setAttribute(\'data-ch\', ch);\n    spanElem.appendChild(document.createTextNode(ch === \' \' ? \'\\u00A0\' : ch));\n    data.appendChild(spanElem);\n}#data {\n    position: relative;\n    top: 2em;\n    height: 2em;\n    font-size: 2em;\n}\n\n#data span {\n    display: inline-block;\n    position: relative;\n    color: transparent;\n}\n\n#data span:before,\n#data span:after {\n    content: attr(data-ch);\n    display: inline-block;\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    text-align: center;\n    color: initial;\n}\n\n#data span:after {\n    color: red;\n    -webkit-mask-image: linear-gradient(to right, transparent 0, transparent 50%, white 50%, white 100%);\n    mask-image: linear-gradient(to right, transparent 0, transparent 50%, white 50%, white 100%);\n}Font-size:\n<input type=""range"" min=1 max=4 step=0.05 value=2 oninput=""zoom(this.value)"" onchange=""zoom(this.value)"">\n\n<div id=""data"">A Fallback Solution...For all browsers</div>ShareImprove this answerFolloweditedFeb 21, 2021 at 16:34answeredFeb 20, 2021 at 16:38Jose Rui SantosJose Rui Santos15.2k99 gold badges5959 silver badges7373 bronze badges'}"
9,"{'title': 'How do I include a JavaScript file in another JavaScript file?', 'question': 'How do I include a JavaScript file inside another JavaScript file, similar to@importin CSS?javascriptfileimportincludeShareImprove this questionFolloweditedJul 24, 2022 at 23:47Mateen Ulhaq26.6k2020 gold badges115115 silver badges147147 bronze badgesaskedJun 4, 2009 at 11:59Alec SmartAlec Smart95.3k3939 gold badges122122 silver badges186186 bronze badges', 'answers': 'The old versions of JavaScript had no import, include, or require, so many different approaches to this problem have been developed.But since 2015 (ES6), JavaScript has had theES6 modulesstandard to import modules in Node.js, which is also supported bymost modern browsers.For compatibility with older browsers, build tools likeWebpackandRollupand/or transpilation tools likeBabelcan be used.ES6 ModulesECMAScript (ES6) modules have beensupported in Node.jssince v8.5, with the--experimental-modulesflag, and since at least Node.js v13.8.0 without the flag. To enable ""ESM"" (vs. Node.js\'s previous CommonJS-style module system [""CJS""]) you either use""type"": ""module""inpackage.jsonor give the files the extension.mjs. (Similarly, modules written with Node.js\'s previous CJS module can be named.cjsif your default is ESM.)Usingpackage.json:{\n    ""type"": ""module""\n}Thenmodule.js:export function hello() {\n  return ""Hello"";\n}Thenmain.js:import { hello } from \'./module.js\';\nlet val = hello();  // val is ""Hello"";Using.mjs, you\'d havemodule.mjs:export function hello() {\n  return ""Hello"";\n}Thenmain.mjs:import { hello } from \'./module.mjs\';\nlet val = hello();  // val is ""Hello"";ECMAScript modules in browsersBrowsers have had support for loading ECMAScript modules directly (no tools like Webpack required)sinceSafari 10.1, Chrome 61, Firefox 60, and Edge 16. Check the current support atcaniuse. There is no need to use Node.js\'.mjsextension; browsers completely ignore file extensions on modules/scripts.<script type=""module"">\n  import { hello } from \'./hello.mjs\'; // Or the extension could be just `.js`\n  hello(\'world\');\n</script>// hello.mjs -- or the extension could be just `.js`\nexport function hello(text) {\n  const div = document.createElement(\'div\');\n  div.textContent = `Hello ${text}`;\n  document.body.appendChild(div);\n}Read more athttps://jakearchibald.com/2017/es-modules-in-browsers/Dynamic imports in browsersDynamic imports let the script load other scripts as needed:<script type=""module"">\n  import(\'hello.mjs\').then(module => {\n      module.hello(\'world\');\n    });\n</script>Read more athttps://developers.google.com/web/updates/2017/11/dynamic-importNode.js requireThe older CJS module style, still widely used in Node.js, is themodule.exports/requiresystem.// mymodule.js\nmodule.exports = {\n   hello: function() {\n      return ""Hello"";\n   }\n}// server.js\nconst myModule = require(\'./mymodule\');\nlet val = myModule.hello(); // val is ""Hello""There are other ways for JavaScript to include external JavaScript contents in browsers that do not require preprocessing.AJAX LoadingYou could load an additional script with an AJAX call and then useevalto run it. This is the most straightforward way, but it is limited to your domain because of the JavaScript sandbox security model. Usingevalalso opens the door to bugs, hacks and security issues.Fetch LoadingLike Dynamic Imports you can load one or many scripts with afetchcall using promises to control order of execution for script dependencies using theFetch Injectlibrary:fetchInject([\n  \'https://cdn.jsdelivr.net/momentjs/2.17.1/moment.min.js\'\n]).then(() => {\n  console.log(`Finish in less than ${moment().endOf(\'year\').fromNow(true)}`)\n})jQuery LoadingThejQuerylibrary provides loading functionalityin one line:$.getScript(""my_lovely_script.js"", function() {\n   alert(""Script loaded but not necessarily executed."");\n});Dynamic Script LoadingYou could add a script tag with the script URL into the HTML. To avoid the overhead of jQuery, this is an ideal solution.The script can even reside on a different server. Furthermore, the browser evaluates the code. The<script>tag can be injected into either the web page<head>, or inserted just before the closing</body>tag.Here is an example of how this could work:function dynamicallyLoadScript(url) {\n    var script = document.createElement(""script"");  // create a script DOM node\n    script.src = url;  // set its src to the provided URL\n   \n    document.head.appendChild(script);  // add it to the end of the head section of the page (could change \'head\' to \'body\' to add it to the end of the body section instead)\n}This function will add a new<script>tag to the end of the head section of the page, where thesrcattribute is set to the URL which is given to the function as the first parameter.Both of these solutions are discussed and illustrated inJavaScript Madness: Dynamic Script Loading.Detecting when the script has been executedNow, there is a big issue you must know about. Doing that implies thatyou remotely load the code. Modern web browsers will load the file and keep executing your current script because they load everything asynchronously to improve performance. (This applies to both the jQuery method and the manual dynamic script loading method.)It means that if you use these tricks directly,you won\'t be able to use your newly loaded code the next line after you asked it to be loaded, because it will be still loading.For example:my_lovely_script.jscontainsMySuperObject:var js = document.createElement(""script"");\n\njs.type = ""text/javascript"";\njs.src = jsFilePath;\n\ndocument.body.appendChild(js);\n\nvar s = new MySuperObject();\n\nError : MySuperObject is undefinedThen you reload the page hittingF5. And it works! Confusing...So what to do about it ?Well, you can use the hack the author suggests in the link I gave you. In summary, for people in a hurry, he uses an event to run a callback function when the script is loaded. So you can put all the code using the remote library in the callback function. For example:function loadScript(url, callback)\n{\n    // Adding the script tag to the head as suggested before\n    var head = document.head;\n    var script = document.createElement(\'script\');\n    script.type = \'text/javascript\';\n    script.src = url;\n\n    // Then bind the event to the callback function.\n    // There are several events for cross browser compatibility.\n    script.onreadystatechange = callback;\n    script.onload = callback;\n\n    // Fire the loading\n    head.appendChild(script);\n}Then you write the code you want to use AFTER the script is loaded in alambda function:var myPrettyCode = function() {\n   // Here, do whatever you want\n};Then you run all that:loadScript(""my_lovely_script.js"", myPrettyCode);Note that the script may execute after the DOM has loaded, or before, depending on the browser and whether you included the linescript.async = false;. There\'s agreat article on Javascript loading in generalwhich discusses this.Source Code Merge/PreprocessingAs mentioned at the top of this answer, many developers use build/transpilation tool(s) like Parcel, Webpack, or Babel in their projects, allowing them to use upcoming JavaScript syntax, provide backward compatibility for older browsers, combine files, minify, perform code splitting etc.ShareImprove this answerFolloweditedSep 19, 2022 at 9:18Keatinge4,33166 gold badges2727 silver badges4444 bronze badgesansweredJun 4, 2009 at 12:13Bite codeBite code591k116116 gold badges308308 silver badges334334 bronze badges\n\nIf anyone is looking for something more advanced, try outRequireJS. You\'ll get added benefits such as dependency management, better concurrency, and avoid duplication (that is, retrieving a script more than once).You can write your JavaScript files in ""modules"" and then reference them as dependencies in other scripts. Or you can use RequireJS as a simple ""go get this script"" solution.Example:Define dependencies as modules:some-dependency.jsdefine([\'lib/dependency1\', \'lib/dependency2\'], function (d1, d2) {\n\n     //Your actual script goes here.   \n     //The dependent scripts will be fetched if necessary.\n\n     return libraryObject;  //For example, jQuery object\n});implementation.jsis your ""main"" JavaScript file that depends onsome-dependency.jsrequire([\'some-dependency\'], function(dependency) {\n\n    //Your script goes here\n    //some-dependency.js is fetched.   \n    //Then your script is executed\n});Excerpt from theGitHubREADME:RequireJS loads plain JavaScript files as well as more defined\n  modules. It is optimized for in-browser use, including in a Web\n  Worker, but it can be used in other JavaScript environments, like\n  Rhino and Node. It implements the Asynchronous Module API.RequireJS uses plain script tags to load modules/files, so it should\n  allow for easy debugging. It can be used simply to load existing\n  JavaScript files, soyou can add it to your existing project without\n  having to re-write your JavaScript files....ShareImprove this answerFolloweditedSep 28, 2013 at 13:11Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJun 7, 2012 at 20:55John StricklerJohn Strickler25.4k44 gold badges5353 silver badges6969 bronze badges\n\nThere actuallyisa way to load a JavaScript filenotasynchronously, so you could use the functions included in your newly loaded file right after loading it, and I think it works in all browsers.You need to usejQuery.append()on the<head>element of your page, that is:$(""head"").append($(""<script></script>"").attr(""src"", url));\n\n/* Note that following line of code is incorrect because it doesn\'t escape the\n * HTML attribute src correctly and will fail if `url` contains special characters:\n * $(""head"").append(\'<script src=""\' + url + \'""></script>\');\n */However, this method also has a problem: if an error happens in the imported JavaScript file,Firebug(and also Firefox Error Console andChrome Developer Toolsas well) will report its place incorrectly, which is a big problem if you use Firebug to track JavaScript errors down a lot (I do). Firebug simply doesn\'t know about the newly loaded file for some reason, so if an error occurs in that file, it reports that it occurred in your mainHTMLfile, and you will have trouble finding out the real reason for the error.But if that is not a problem for you, then this method should work.I have actually written a jQuery plugin called$.import_js()which uses this method:(function($)\n{\n    /*\n     * $.import_js() helper (for JavaScript importing within JavaScript code).\n     */\n    var import_js_imported = [];\n    \n    $.extend(true,\n    {\n        import_js : function(script)\n        {\n            var found = false;\n            for (var i = 0; i < import_js_imported.length; i++)\n                if (import_js_imported[i] == script) {\n                    found = true;\n                    break;\n                }\n            \n            if (found == false) {\n                $(""head"").append($(\'<script></script\').attr(\'src\', script));\n                import_js_imported.push(script);\n            }\n        }\n    });\n    \n})(jQuery);So all you would need to do to import JavaScript is:$.import_js(\'/path_to_project/scripts/somefunctions.js\');I also made a simple test for this atExample.It includes amain.jsfile in the main HTML and then the script inmain.jsuses$.import_js()to import an additional file calledincluded.js, which defines this function:function hello()\n{\n    alert(""Hello world!"");\n}And right after includingincluded.js, thehello()function is called, and you get the alert.(This answer is in response to e-satis\' comment).ShareImprove this answerFolloweditedMay 12, 2021 at 12:57Flimm145k4848 gold badges265265 silver badges281281 bronze badgesansweredApr 28, 2011 at 15:25KiprasKipras2,69411 gold badge1616 silver badges1010 bronze badges\n\nAnother way, that in my opinion is much cleaner, is to make a synchronous Ajax request instead of using a<script>tag. Which is also howNode.jshandles includes.Here\'s an example using jQuery:function require(script) {\n    $.ajax({\n        url: script,\n        dataType: ""script"",\n        async: false,           // <-- This is the key\n        success: function () {\n            // all good...\n        },\n        error: function () {\n            throw new Error(""Could not load script "" + script);\n        }\n    });\n}You can then use it in your code as you\'d usually use an include:require(""/scripts/subscript.js"");And be able to call a function from the required script in the next line:subscript.doSomethingCool();ShareImprove this answerFolloweditedSep 28, 2013 at 12:55Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredSep 8, 2011 at 18:22ArielAriel4,50022 gold badges2323 silver badges2323 bronze badges\n\nIt is possible to dynamically generate a JavaScript tag and append it to HTML document from inside other JavaScript code. This will load targeted JavaScript file.function includeJs(jsFilePath) {\n    var js = document.createElement(""script"");\n\n    js.type = ""text/javascript"";\n    js.src = jsFilePath;\n\n    document.body.appendChild(js);\n}\n\nincludeJs(""/path/to/some/file.js"");ShareImprove this answerFolloweditedSep 28, 2013 at 12:44Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJun 4, 2009 at 12:02Svitlana MaksymchukSvitlana Maksymchuk4,40022 gold badges1717 silver badges1111 bronze badges\n\nThere is a good news for you. Very soon you will be able to load JavaScript code easily. It will become a standard way of importing modules of JavaScript code and will be part of core JavaScript itself.You simply have to writeimport cond from \'cond.js\';to load a macro namedcondfrom a filecond.js.So you don\'t have to rely upon any JavaScript framework nor do you have to explicitly makeAjaxcalls.Refer to:Static module resolutionModule loadersShareImprove this answerFolloweditedOct 19, 2014 at 18:05Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJul 3, 2012 at 13:32ImdadImdad6,00244 gold badges3535 silver badges5353 bronze badges\n\nStatementimportis in ECMAScript 6.Syntaximport name from ""module-name"";\nimport { member } from ""module-name"";\nimport { member as alias } from ""module-name"";\nimport { member1 , member2 } from ""module-name"";\nimport { member1 , member2 as alias2 , [...] } from ""module-name"";\nimport name , { member [ , [...] ] } from ""module-name"";\nimport ""module-name"" as name;ShareImprove this answerFolloweditedDec 11, 2016 at 9:47Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredApr 17, 2015 at 1:56draupniedraupnie1,12088 silver badges1111 bronze badges\n\nMaybe you can use this function that I found on this pageHow do I include a JavaScript file in a JavaScript file?:function include(filename)\n{\n    var head = document.getElementsByTagName(\'head\')[0];\n\n    var script = document.createElement(\'script\');\n    script.src = filename;\n    script.type = \'text/javascript\';\n\n    head.appendChild(script)\n}ShareImprove this answerFolloweditedNov 15, 2014 at 17:01Ajeet Lakhani3,82833 gold badges2323 silver badges3737 bronze badgesansweredJun 4, 2009 at 12:04Arnaud Gouder de BeauregardArnaud Gouder de Beauregard1,52911 gold badge1313 silver badges2222 bronze badges\n\nHere is asynchronousversionwithout jQuery:function myRequire( url ) {\n    var ajax = new XMLHttpRequest();\n    ajax.open( \'GET\', url, false ); // <-- the \'false\' makes it synchronous\n    ajax.onreadystatechange = function () {\n        var script = ajax.response || ajax.responseText;\n        if (ajax.readyState === 4) {\n            switch( ajax.status) {\n                case 200:\n                    eval.apply( window, [script] );\n                    console.log(""script loaded: "", url);\n                    break;\n                default:\n                    console.log(""ERROR: script not loaded: "", url);\n            }\n        }\n    };\n    ajax.send(null);\n}Note that to get this working cross-domain, the server will need to setallow-originheader in its response.ShareImprove this answerFolloweditedJun 18, 2015 at 14:44Flimm145k4848 gold badges265265 silver badges281281 bronze badgesansweredDec 11, 2013 at 11:54heinobheinob19.4k55 gold badges4242 silver badges6161 bronze badges\n\nI just wrote this JavaScript code (usingPrototypeforDOMmanipulation):var require = (function() {\n    var _required = {};\n    return (function(url, callback) {\n        if (typeof url == \'object\') {\n            // We\'ve (hopefully) got an array: time to chain!\n            if (url.length > 1) {\n                // Load the nth file as soon as everything up to the\n                // n-1th one is done.\n                require(url.slice(0, url.length - 1), function() {\n                    require(url[url.length - 1], callback);\n                });\n            } else if (url.length == 1) {\n                require(url[0], callback);\n            }\n            return;\n        }\n        if (typeof _required[url] == \'undefined\') {\n            // Haven\'t loaded this URL yet; gogogo!\n            _required[url] = [];\n\n            var script = new Element(\'script\', {\n                src: url,\n                type: \'text/javascript\'\n            });\n            script.observe(\'load\', function() {\n                console.log(""script "" + url + "" loaded."");\n                _required[url].each(function(cb) {\n                    cb.call(); // TODO: does this execute in the right context?\n                });\n                _required[url] = true;\n            });\n\n            $$(\'head\')[0].insert(script);\n        } else if (typeof _required[url] == \'boolean\') {\n            // We already loaded the thing, so go ahead.\n            if (callback) {\n                callback.call();\n            }\n            return;\n        }\n\n        if (callback) {\n            _required[url].push(callback);\n        }\n    });\n})();Usage:<script src=""prototype.js""></script>\n<script src=""require.js""></script>\n<script>\n    require([\'foo.js\',\'bar.js\'], function () {\n        /* Use foo.js and bar.js here */\n    });\n</script>Gist:http://gist.github.com/284442.ShareImprove this answerFolloweditedJun 25, 2017 at 21:04Talha Awan4,61144 gold badges2626 silver badges4040 bronze badgesansweredJan 23, 2010 at 5:20nornagonnornagon15.7k1818 gold badges7474 silver badges8585 bronze badges\n\nIf you want it in pure JavaScript, you can usedocument.write.document.write(\'<script src=""myscript.js"" type=""text/javascript""></script>\');If you use the jQuery library, you can use the$.getScriptmethod.$.getScript(""another_script.js"");ShareImprove this answerFolloweditedOct 3, 2020 at 20:47Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredNov 13, 2013 at 9:18Venu immadiVenu immadi1,6051212 silver badges2020 bronze badges\n\nHere\'s the generalized version of how Facebook does it for their ubiquitous Like button:<script>\r\n  var firstScript = document.getElementsByTagName(\'script\')[0],\r\n      js = document.createElement(\'script\');\r\n  js.src = \'https://cdnjs.cloudflare.com/ajax/libs/Snowstorm/20131208/snowstorm-min.js\';\r\n  js.onload = function () {\r\n    // do stuff with your dynamically loaded script\r\n    snowStorm.snowColor = \'#99ccff\';\r\n  };\r\n  firstScript.parentNode.insertBefore(js, firstScript);\r\n</script>If it works for Facebook, it will work for you.The reason why we look for the firstscriptelement instead ofheadorbodyis because some browsers don\'t create one if missing, but we\'re guaranteed to have ascriptelement - this one. Read more athttp://www.jspatterns.com/the-ridiculous-case-of-adding-a-script-element/.ShareImprove this answerFolloweditedJul 8, 2015 at 2:48answeredJul 8, 2015 at 2:41Dan DascalescuDan Dascalescu150k5959 gold badges327327 silver badges415415 bronze badges\n\nYou can also assemble your scripts usingPHP:Filemain.js.php:<?php\n    header(\'Content-type:text/javascript; charset=utf-8\');\n    include_once(""foo.js.php"");\n    include_once(""bar.js.php"");\n?>\n\n// Main JavaScript code goes hereShareImprove this answerFolloweditedSep 28, 2013 at 12:50Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredDec 27, 2010 at 21:03CalmariusCalmarius19.2k1919 gold badges116116 silver badges161161 bronze badges\n\nMost of solutions shown here imply dynamical loading. I was searching instead for a compiler which assemble all the depended files into a single output file. The same asLess/Sasspreprocessors deal with the CSS@importat-rule. Since I didn\'t find anything decent of this sort, I wrote a simple tool solving the issue.So here is the compiler,https://github.com/dsheiko/jsic, which replaces$import(""file-path"")with the requested file content securely. Here is the correspondingGruntplugin:https://github.com/dsheiko/grunt-jsic.On the jQuery master branch, they simply concatenate atomic source files into a single one starting withintro.jsand ending withouttro.js. That doesn\'t suits me as it provides no flexibility on the source code design. Check out how it works with jsic:src/main.jsvar foo = $import(""./Form/Input/Tel"");src/Form/Input/Tel.jsfunction() {\n    return {\n          prop: """",\n          method: function(){}\n    }\n}Now we can run the compiler:node jsic.js src/main.js build/mail.jsAnd get the combined filebuild/main.jsvar foo = function() {\n    return {\n          prop: """",\n          method: function(){}\n    }\n};ShareImprove this answerFolloweditedOct 19, 2014 at 18:13Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJul 13, 2013 at 21:44Dmitry SheikoDmitry Sheiko2,17011 gold badge2525 silver badges2828 bronze badges\n\nIf your intention to load the JavaScript file isusing the functions from the imported/included file, you can also define a global object and set the functions as object items. For instance:global.jsA = {};file1.jsA.func1 = function() {\n  console.log(""func1"");\n}file2.jsA.func2 = function() {\n  console.log(""func2"");\n}main.jsA.func1();\nA.func2();You just need to be careful when you are including scripts in an HTML file. The order should be as in below:<head>\n  <script type=""text/javascript"" src=""global.js""></script>\n  <script type=""text/javascript"" src=""file1.js""></script>\n  <script type=""text/javascript"" src=""file2.js""></script>\n  <script type=""text/javascript"" src=""main.js""></script>\n</head>ShareImprove this answerFolloweditedDec 11, 2016 at 9:42Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJul 24, 2015 at 6:53Adem İlhanAdem İlhan1,48033 gold badges1616 silver badges2626 bronze badges\n\nES6 ModulesYes, use type=""module"" in a script tag (support):<script type=""module"" src=""script.js""></script>And in ascript.jsfile include another file like this:import { hello } from \'./module.js\';\n...\n// alert(hello());In \'module.js\' you mustexport the function/classthat you will import:export function hello() {\n    return ""Hello World"";\n}A workingexample is here.ShareImprove this answerFolloweditedDec 31, 2022 at 18:16answeredJul 10, 2019 at 16:12Kamil KiełczewskiKamil Kiełczewski90.1k3232 gold badges383383 silver badges360360 bronze badges\n\nThis should do:xhr = new XMLHttpRequest();\nxhr.open(""GET"", ""/soap/ajax/11.0/connection.js"", false);\nxhr.send();\neval(xhr.responseText);ShareImprove this answerFolloweditedNov 2, 2014 at 13:50Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMar 24, 2013 at 19:32tggagnetggagne2,87411 gold badge2222 silver badges1515 bronze badges\n\nOr rather than including at run time, use a script to concatenate prior to upload.I useSprockets(I don\'t know if there are others). You build your JavaScript code in separate files and include comments that are processed by the Sprockets engine as includes. For development you can include files sequentially, then for production to merge them...See also:Introducing Sprockets: JavaScript dependency management and concatenationShareImprove this answerFolloweditedFeb 15, 2023 at 6:59Imdad6,00244 gold badges3535 silver badges5353 bronze badgesansweredJun 7, 2012 at 20:48JMawerJMawer25933 silver badges22 bronze badges\n\nI had a simple issue, but I was baffled by responses to this question.I had to use a variable (myVar1) defined in one JavaScript file (myvariables.js) in another JavaScript file (main.js).For this I did as below:Loaded the JavaScript code in the HTML file, in the correct order, myvariables.js first, then main.js:<html>\n    <body onload=""bodyReady();"" >\n\n        <script src=""myvariables.js"" > </script>\n        <script src=""main.js"" > </script>\n\n        <!-- Some other code -->\n    </body>\n</html>File: myvariables.jsvar myVar1 = ""I am variable from myvariables.js"";File: main.js// ...\nfunction bodyReady() {\n    // ...\n    alert (myVar1);    // This shows ""I am variable from myvariables.js"", which I needed\n    // ...\n}\n// ...As you saw, I had use a variable in one JavaScript file in another JavaScript file, but I didn\'t need to include one in another. I just needed to ensure that the first JavaScript file loaded before the second JavaScript file, and, the first JavaScript file\'s variables are accessible in the second JavaScript file, automatically.This saved my day. I hope this helps.ShareImprove this answerFolloweditedDec 11, 2016 at 9:45Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJul 22, 2015 at 2:15Manohar Reddy PoreddyManohar Reddy Poreddy26.8k1010 gold badges161161 silver badges144144 bronze badges\n\nIn a modern language with the check if script has already been loaded, it would be:function loadJs( url ){\n  return new Promise(( resolve, reject ) => {\n    if (document.querySelector( `head > script[ src = ""${url}"" ]`) !== null ){\n        console.warn( `script already loaded: ${url}` );\n        resolve();\n    }\n    const script = document.createElement( ""script"" );\n    script.src = url;\n    script.onload = resolve;\n    script.onerror = function( reason ){\n        // This can be useful for your error-handling code\n        reason.message = `error trying to load script ${url}`;\n        reject( reason );\n    };\n    document.head.appendChild( script );\n  });\n}Usage (async/await):try { await loadJs(""https://.../script.js""); }\ncatch(error) { console.log(error); }orawait loadJs( ""https://.../script.js"" ).catch( err => {} );Usage (Promise):loadJs( ""https://.../script.js"" ).then( res => {} ).catch( err => {} );ShareImprove this answerFolloweditedOct 3, 2020 at 19:47Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJul 20, 2017 at 15:15Dmitry SheikoDmitry Sheiko2,17011 gold badge2525 silver badges2828 bronze badges\n\nThe@importsyntax for achieving CSS-like JavaScript importing is possible using a tool such as Mixture via their special.mixfile type (seehere). I assume the application does this via one of above-mentioned methods.From the Mixture documentation on.mixfiles:Mix files are simply .js or .css files with .mix. in the file name. A\nmix file simply     extends the functionality of a normal style or\nscript file and allows you to import and combine.Here\'s an example.mixfile that combines multiple.jsfiles into one:// scripts-global.mix.js\n// Plugins - Global\n\n@import ""global-plugins/headroom.js"";\n@import ""global-plugins/retina-1.1.0.js"";\n@import ""global-plugins/isotope.js"";\n@import ""global-plugins/jquery.fitvids.js"";Mixture outputs this asscripts-global.jsand also as a minified version (scripts-global.min.js).Note: I\'m not in any way affiliated with Mixture, other than using it as a front-end development tool. I came across this question upon seeing a.mixJavaScript file in action (in one of the Mixture boilerplates) and being a bit confused by it (""you can do this?"" I thought to myself). Then I realized that it was an application-specific file type (somewhat disappointing, agreed). Nevertheless, figured the knowledge might be helpful for others.Note:Mixture was discontinued on 2016/07/26 (after being open sourced on 2015/04/12).ShareImprove this answerFolloweditedOct 5, 2020 at 17:34answeredMar 14, 2014 at 4:40Isaac GregsonIsaac Gregson2,03911 gold badge2222 silver badges3131 bronze badges\n\nIn case you are usingWeb Workersand want to include additional scripts in the scope of the worker, the other answers provided about adding scripts to theheadtag, etc. will not work for you.Fortunately,Web Workers have their ownimportScriptsfunctionwhich is a global function in the scope of the Web Worker, native to the browser itself as itis part of the specification.Alternatively,as the second highest voted answer to your question highlights,RequireJScan also handle including scripts inside a Web Worker (likely callingimportScriptsitself, but with a few other useful features).ShareImprove this answerFolloweditedMay 23, 2017 at 12:34CommunityBot111 silver badgeansweredJan 1, 2015 at 8:58TurnerjTurnerj4,26855 gold badges3636 silver badges5353 bronze badges\n\nAlthough these answers are great, there is a simple ""solution"" that has been around since script loading existed, and it will cover 99.999% of most people\'s use cases. Just include the script you need before the script that requires it. For most projects it does not take long to determine which scripts are needed and in what order.<!DOCTYPE HTML>\n<html>\n    <head>\n        <script src=""script1.js""></script>\n        <script src=""script2.js""></script>\n    </head>\n    <body></body>\n</html>If script2 requires script1, this really is the absolute easiest way to do something like this. I\'m very surprised no-one has brought this up, as it\'s the most obvious and simplest answer that will apply in nearly every single case.ShareImprove this answerFollowansweredApr 12, 2018 at 19:38KthProgKthProg2,09911 gold badge2626 silver badges3232 bronze badges\n\nvar js = document.createElement(""script"");\n\njs.type = ""text/javascript"";\njs.src = jsFilePath;\n\ndocument.body.appendChild(js);ShareImprove this answerFolloweditedAug 22, 2012 at 6:44Spudley168k3939 gold badges236236 silver badges308308 bronze badgesansweredAug 22, 2012 at 4:33Sam4CodeSam4Code54155 silver badges99 bronze badges\n\nMy usual method is:var require = function (src, cb) {\n    cb = cb || function () {};\n\n    var newScriptTag = document.createElement(\'script\'),\n        firstScriptTag = document.getElementsByTagName(\'script\')[0];\n    newScriptTag.src = src;\n    newScriptTag.async = true;\n    newScriptTag.onload = newScriptTag.onreadystatechange = function () {\n        (!this.readyState || this.readyState === \'loaded\' || this.readyState === \'complete\') && (cb());\n    };\n    firstScriptTag.parentNode.insertBefore(newScriptTag, firstScriptTag);\n}It works great and uses no page-reloads for me. I\'ve tried the AJAX method (one of the other answers) but it doesn\'t seem to work as nicely for me.Here\'s an explanation of how the code works for those that are curious: essentially, it creates a new script tag (after the first one) of the URL. It sets it to asynchronous mode so it doesn\'t block the rest of the code, but calls a callback when the readyState (the state of the content to be loaded) changes to \'loaded\'.ShareImprove this answerFolloweditedAug 26, 2017 at 17:02answeredMay 31, 2013 at 19:31Alexis PurslaneAlexis Purslane1,3801111 silver badges3333 bronze badges\n\nI wrote a simple module that automates the job of importing/including module scripts in JavaScript. For detailed explanation of the code, refer to the blog postJavaScript require / import / include modules.// ----- USAGE -----\n\nrequire(\'ivar.util.string\');\nrequire(\'ivar.net.*\');\nrequire(\'ivar/util/array.js\');\nrequire(\'http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js\');\n\nready(function(){\n    //Do something when required scripts are loaded\n});\n\n    //--------------------\n\nvar _rmod = _rmod || {}; //Require module namespace\n_rmod.LOADED = false;\n_rmod.on_ready_fn_stack = [];\n_rmod.libpath = \'\';\n_rmod.imported = {};\n_rmod.loading = {\n    scripts: {},\n    length: 0\n};\n\n_rmod.findScriptPath = function(script_name) {\n    var script_elems = document.getElementsByTagName(\'script\');\n    for (var i = 0; i < script_elems.length; i++) {\n        if (script_elems[i].src.endsWith(script_name)) {\n            var href = window.location.href;\n            href = href.substring(0, href.lastIndexOf(\'/\'));\n            var url = script_elems[i].src.substring(0, script_elems[i].length - script_name.length);\n            return url.substring(href.length+1, url.length);\n        }\n    }\n    return \'\';\n};\n\n_rmod.libpath = _rmod.findScriptPath(\'script.js\'); //Path of your main script used to mark\n                                                   //the root directory of your library, any library.\n\n\n_rmod.injectScript = function(script_name, uri, callback, prepare) {\n\n    if(!prepare)\n        prepare(script_name, uri);\n\n    var script_elem = document.createElement(\'script\');\n    script_elem.type = \'text/javascript\';\n    script_elem.title = script_name;\n    script_elem.src = uri;\n    script_elem.async = true;\n    script_elem.defer = false;\n\n    if(!callback)\n        script_elem.onload = function() {\n            callback(script_name, uri);\n        };\n    document.getElementsByTagName(\'head\')[0].appendChild(script_elem);\n};\n\n_rmod.requirePrepare = function(script_name, uri) {\n    _rmod.loading.scripts[script_name] = uri;\n    _rmod.loading.length++;\n};\n\n_rmod.requireCallback = function(script_name, uri) {\n    _rmod.loading.length--;\n    delete _rmod.loading.scripts[script_name];\n    _rmod.imported[script_name] = uri;\n\n    if(_rmod.loading.length == 0)\n        _rmod.onReady();\n};\n\n_rmod.onReady = function() {\n    if (!_rmod.LOADED) {\n        for (var i = 0; i < _rmod.on_ready_fn_stack.length; i++){\n            _rmod.on_ready_fn_stack[i]();\n        });\n        _rmod.LOADED = true;\n    }\n};\n\n_.rmod = namespaceToUri = function(script_name, url) {\n    var np = script_name.split(\'.\');\n    if (np.getLast() === \'*\') {\n        np.pop();\n        np.push(\'_all\');\n    }\n\n    if(!url)\n        url = \'\';\n\n    script_name = np.join(\'.\');\n    return  url + np.join(\'/\')+\'.js\';\n};\n\n//You can rename based on your liking. I chose require, but it\n//can be called include or anything else that is easy for you\n//to remember or write, except ""import"", because it is reserved\n//for future use.\nvar require = function(script_name) {\n    var uri = \'\';\n    if (script_name.indexOf(\'/\') > -1) {\n        uri = script_name;\n        var lastSlash = uri.lastIndexOf(\'/\');\n        script_name = uri.substring(lastSlash+1, uri.length);\n    } \n    else {\n        uri = _rmod.namespaceToUri(script_name, ivar._private.libpath);\n    }\n\n    if (!_rmod.loading.scripts.hasOwnProperty(script_name)\n     && !_rmod.imported.hasOwnProperty(script_name)) {\n        _rmod.injectScript(script_name, uri,\n            _rmod.requireCallback,\n                _rmod.requirePrepare);\n    }\n};\n\nvar ready = function(fn) {\n    _rmod.on_ready_fn_stack.push(fn);\n};ShareImprove this answerFolloweditedOct 19, 2014 at 18:26Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredApr 12, 2013 at 16:34stamatstamat1,9592222 silver badges2828 bronze badges\n\nThis script will add a JavaScript file to the top of any other<script>tag:(function () {\n    var li = document.createElement(\'script\'); \n    li.type = \'text/javascript\'; \n    li.src = ""http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js""; \n    li.async = true; \n    var s = document.getElementsByTagName(\'script\')[0]; \n    s.parentNode.insertBefore(li, s);\n})();ShareImprove this answerFolloweditedOct 3, 2020 at 20:47Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredOct 26, 2013 at 3:42Vicky GonsalvesVicky Gonsalves11.7k22 gold badges3737 silver badges5858 bronze badges\n\nKeep it nice, short, simple, and maintainable! :]// Third-party plugins / script (don\'t forget the full path is necessary)\nvar FULL_PATH = \'\', s =\n[\n    FULL_PATH + \'plugins/script.js\'      // Script example\n    FULL_PATH + \'plugins/jquery.1.2.js\', // jQuery Library\n    FULL_PATH + \'plugins/crypto-js/hmac-sha1.js\',      // CryptoJS\n    FULL_PATH + \'plugins/crypto-js/enc-base64-min.js\'  // CryptoJS\n];\n\nfunction load(url)\n{\n    var ajax = new XMLHttpRequest();\n    ajax.open(\'GET\', url, false);\n    ajax.onreadystatechange = function ()\n    {\n        var script = ajax.response || ajax.responseText;\n        if (ajax.readyState === 4)\n        {\n            switch(ajax.status)\n            {\n                case 200:\n                    eval.apply( window, [script] );\n                    console.log(""library loaded: "", url);\n                    break;\n                default:\n                    console.log(""ERROR: library not loaded: "", url);\n            }\n        }\n    };\n    ajax.send(null);\n}\n\n// Initialize a single load\nload(\'plugins/script.js\');\n\n// Initialize a full load of scripts\nif (s.length > 0)\n{\n    for (i = 0; i < s.length; i++)\n    {\n        load(s[i]);\n    }\n}This code is simply a short functional example thatcouldrequire additional feature functionality for full support on any (or given) platform.ShareImprove this answerFolloweditedOct 3, 2020 at 20:55Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredFeb 8, 2015 at 1:19tfonttfont11.1k77 gold badges5757 silver badges5252 bronze badges\n\nI came to this question because I was looking for a simple way to maintain a collection of useful JavaScript plugins. After seeing some of the solutions here, I came up with this:Set up a file called ""plugins.js"" (or extensions.js or whatever you want). Keep your plugin files together with that one master file.plugins.js will have an array calledpluginNames[]that we will iterate overeach(),\nthen append a<script>tag to the head for each plugin//set array to be updated when we add or remove plugin files\nvar pluginNames = [""lettering"", ""fittext"", ""butterjam"", etc.];\n\n//one script tag for each plugin\n$.each(pluginNames, function(){\n    $(\'head\').append(\'<script src=""js/plugins/\' + this + \'.js""></script>\');\n});Manually call just the one file in your head:<script src=""js/plugins/plugins.js""></script>BUT:Even though all of the plugins get dropped into the head tag the way they ought to, they don\'t always get run by the browser when you click into the page or refresh.I\'ve found it\'s more reliable to just write the script tags in a PHP include. You only have to write it once and that\'s just as much work as calling the plugin using JavaScript.ShareImprove this answerFolloweditedJan 10, 2020 at 5:03answeredDec 1, 2011 at 5:36rgb_lifergb_life35333 silver badges1010 bronze badges\n\nThere are several ways to implement modules in JavaScript. Here are the two most popular ones:ES6 ModulesBrowsers do not support this moduling system yet, so in order for you to use this syntax you must use a bundler likeWebpack. Using a bundler is better anyway because this can combine all of your different files into a single (or a couple of related) files. This will serve the files from the server to the client faster because each HTTP request has some associated overhead accompanied with it. Thus by reducing the overall HTTP request we improve the performance. Here is an example of ES6 modules:// main.js file\n\nexport function add (a, b) {\n  return a + b;\n}\n\nexport default function multiply (a, b) {\n  return a * b;\n}\n\n\n// test.js file\n\nimport {add}, multiply from \'./main\';   // For named exports between curly braces {export1, export2}\n                                        // For default exports without {}\n\nconsole.log(multiply(2, 2));  // logs 4\n\nconsole.log(add(1, 2));  // logs 3CommonJS(used in Node.js)This moduling system is used in Node.js. You basically add your exports to an object which is calledmodule.exports. You then can access this object via arequire(\'modulePath\'). Important here is to realize that these modules are being cached, so if yourequire()a certain module twice it will return the already created module.// main.js file\n\nfunction add (a, b) {\n  return a + b;\n}\n\nmodule.exports = add;  // Here we add our \'add\' function to the exports object\n\n\n// test.js file\n\nconst add = require(\'./main\');\n\nconsole.log(add(1,2));  // logs 3ShareImprove this answerFolloweditedOct 3, 2020 at 20:17Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredAug 10, 2018 at 17:11Willem van der VeenWillem van der Veen35.6k1717 gold badges202202 silver badges172172 bronze badges'}","{'title': 'How do I make a flat list out of a list of lists?', 'question': 'I have a list of lists like[\n    [1, 2, 3],\n    [4, 5, 6],\n    [7],\n    [8, 9]\n]How can I flatten it to get[1, 2, 3, 4, 5, 6, 7, 8, 9]?If your list of lists comes from a nested list comprehension, the problem can be solved more simply/directly by fixing the comprehension; please seeHow can I get a flat result from a list comprehension instead of a nested list?.The most popular solutions here generally only flatten one ""level"" of the nested list. SeeFlatten an irregular (arbitrarily nested) list of listsfor solutions that completely flatten a deeply nested structure (recursively, in general).pythonlistmultidimensional-arrayflattenShareImprove this questionFolloweditedApr 24, 2023 at 12:01buhtz11.8k1919 gold badges8383 silver badges173173 bronze badgesaskedJun 4, 2009 at 20:30EmmaEmma54.5k44 gold badges2020 silver badges1010 bronze badges', 'answers': 'A list of lists namedxsscan be flattened using a nestedlist comprehension:flat_list = [\n    x\n    for xs in xss\n    for x in xs\n]The above is equivalent to:flat_list = []\n\nfor xs in xss:\n    for x in xs:\n        flat_list.append(x)Here is the corresponding function:def flatten(xss):\n    return [x for xs in xss for x in xs]This is the fastest method.\nAs evidence, using thetimeitmodule in the standard library, we see:$ python -mtimeit -s\'xss=[[1,2,3],[4,5,6],[7],[8,9]]*99\' \'[x for xs in xss for x in xs]\'\n10000 loops, best of 3: 143 usec per loop\n\n$ python -mtimeit -s\'xss=[[1,2,3],[4,5,6],[7],[8,9]]*99\' \'sum(xss, [])\'\n1000 loops, best of 3: 969 usec per loop\n\n$ python -mtimeit -s\'xss=[[1,2,3],[4,5,6],[7],[8,9]]*99\' \'reduce(lambda xs, ys: xs + ys, xss)\'\n1000 loops, best of 3: 1.1 msec per loopExplanation: the methods based on+(including the implied use insum) are, of necessity,O(L**2)when there are L sublists -- as the intermediate result list keeps getting longer, at each step a new intermediate result list object gets allocated, and all the items in the previous intermediate result must be copied over (as well as a few new ones added at the end). So, for simplicity and without actual loss of generality, say you have L sublists of M items each: the first M items are copied back and forthL-1times, the second M itemsL-2times, and so on; total number of copies is M times the sum of x for x from 1 to L excluded, i.e.,M * (L**2)/2.The list comprehension just generates one list, once, and copies each item over (from its original place of residence to the result list) also exactly once.ShareImprove this answerFolloweditedMar 5 at 11:24Wolf9,95577 gold badges6464 silver badges110110 bronze badgesansweredJun 4, 2009 at 20:37Alex MartelliAlex Martelli873k174174 gold badges1.2k1.2k silver badges1.4k1.4k bronze badges\n\nYou can useitertools.chain():>>> import itertools\n>>> list2d = [[1,2,3], [4,5,6], [7], [8,9]]\n>>> merged = list(itertools.chain(*list2d))Or you can useitertools.chain.from_iterable()which doesn\'t require unpacking the list with the*operator:>>> import itertools\n>>> list2d = [[1,2,3], [4,5,6], [7], [8,9]]\n>>> merged = list(itertools.chain.from_iterable(list2d))This approach is arguably more readable than[item for sublist in l for item in sublist]and appears to be faster too:$ python3 -mtimeit -s\'l=[[1,2,3],[4,5,6], [7], [8,9]]*99;import itertools\' \'list(itertools.chain.from_iterable(l))\'\n20000 loops, best of 5: 10.8 usec per loop\n$ python3 -mtimeit -s\'l=[[1,2,3],[4,5,6], [7], [8,9]]*99\' \'[item for sublist in l for item in sublist]\'\n10000 loops, best of 5: 21.7 usec per loop\n$ python3 -mtimeit -s\'l=[[1,2,3],[4,5,6], [7], [8,9]]*99\' \'sum(l, [])\'\n1000 loops, best of 5: 258 usec per loop\n$ python3 -mtimeit -s\'l=[[1,2,3],[4,5,6], [7], [8,9]]*99;from functools import reduce\' \'reduce(lambda x,y: x+y,l)\'\n1000 loops, best of 5: 292 usec per loop\n$ python3 --version\nPython 3.7.5rc1ShareImprove this answerFolloweditedJun 23, 2022 at 9:40answeredJun 4, 2009 at 21:06Shawn ChinShawn Chin86.1k1919 gold badges165165 silver badges193193 bronze badges\n\nNote from the author: This is very inefficient. But fun, becausemonoidsare awesome.>>> xss = [[1, 2, 3], [4, 5, 6], [7], [8, 9]]\n>>> sum(xss, [])\n[1, 2, 3, 4, 5, 6, 7, 8, 9]sumsums the elements of the iterablexss, and uses the second argument as the initial value[]for the sum. (The default initial value is0, which is not a list.)Because you are summing nested lists, you actually get[1,3]+[2,4]as a result ofsum([[1,3],[2,4]],[]), which is equal to[1,3,2,4].Note that only works on lists of lists. For lists of lists of lists, you\'ll need another solution.ShareImprove this answerFolloweditedJun 5, 2022 at 7:10Mateen Ulhaq26.6k2020 gold badges115115 silver badges147147 bronze badgesansweredJun 4, 2009 at 20:35Kenan BanksKenan Banks210k3535 gold badges158158 silver badges175175 bronze badges\n\nI tested most suggested solutions withperfplot(a pet project of mine, essentially a wrapper aroundtimeit), and foundimport functools\nimport operator\nfunctools.reduce(operator.iconcat, a, [])to be the fastest solution, both when many small lists and few long lists are concatenated. (operator.iaddis equally fast.)A simpler and also acceptable variant isout = []\nfor sublist in a:\n    out.extend(sublist)If the number of sublists is large, this performs a little worse than the above suggestion.Code to reproduce the plot:import functools\nimport itertools\nimport operator\n\nimport numpy as np\nimport perfplot\n\n\ndef forfor(a):\n    return [item for sublist in a for item in sublist]\n\n\ndef sum_brackets(a):\n    return sum(a, [])\n\n\ndef functools_reduce(a):\n    return functools.reduce(operator.concat, a)\n\n\ndef functools_reduce_iconcat(a):\n    return functools.reduce(operator.iconcat, a, [])\n\n\ndef itertools_chain(a):\n    return list(itertools.chain.from_iterable(a))\n\n\ndef numpy_flat(a):\n    return list(np.array(a).flat)\n\n\ndef numpy_concatenate(a):\n    return list(np.concatenate(a))\n\n\ndef extend(a):\n    out = []\n    for sublist in a:\n        out.extend(sublist)\n    return out\n\n\nb = perfplot.bench(\n    setup=lambda n: [list(range(10))] * n,\n    # setup=lambda n: [list(range(n))] * 10,\n    kernels=[\n        forfor,\n        sum_brackets,\n        functools_reduce,\n        functools_reduce_iconcat,\n        itertools_chain,\n        numpy_flat,\n        numpy_concatenate,\n        extend,\n    ],\n    n_range=[2 ** k for k in range(16)],\n    xlabel=""num lists (of length 10)"",\n    # xlabel=""len lists (10 lists total)""\n)\nb.save(""out.png"")\nb.show()ShareImprove this answerFolloweditedOct 11, 2021 at 21:14answeredJul 26, 2017 at 9:38Nico SchlömerNico Schlömer57.5k3232 gold badges210210 silver badges273273 bronze badges\n\nUsingfunctools.reduce, which adds an accumulated listxsto the next listys:from functools import reduce\nxss = [[1,2,3], [4,5,6], [7], [8,9]]\nout = reduce(lambda xs, ys: xs + ys, xss)Output:[1, 2, 3, 4, 5, 6, 7, 8, 9]A faster way usingoperator.concat:from functools import reduce\nimport operator\nxss = [[1,2,3], [4,5,6], [7], [8,9]]\nout = reduce(operator.concat, xss)Output:[1, 2, 3, 4, 5, 6, 7, 8, 9]ShareImprove this answerFolloweditedJun 5, 2022 at 7:03Mateen Ulhaq26.6k2020 gold badges115115 silver badges147147 bronze badgesansweredJun 4, 2009 at 20:35Greg HewgillGreg Hewgill979k187187 gold badges1.2k1.2k silver badges1.3k1.3k bronze badges\n\nHere is a general approach that applies to objects (e.g.numbers,strings) innestedandmixedcontainers.  This can flatten both simple and complicated containers (see alsoDemo).Codefrom typing import Iterable \n#from collections import Iterable                            # < py38\n\n\ndef flatten(items):\n    """"""Yield items from any nested iterable; see Reference.""""""\n    for x in items:\n        if isinstance(x, Iterable) and not isinstance(x, (str, bytes)):\n            for sub_x in flatten(x):\n                yield sub_x\n        else:\n            yield xNotes:In Python 3,yield from flatten(x)can replacefor sub_x in flatten(x): yield sub_xIn Python 3.8,abstract base classesaremovedfromcollection.abcto thetypingmodule.Demosimple = [[1, 2, 3], [4, 5, 6], [7], [8, 9]]\nlist(flatten(simple))\n# [1, 2, 3, 4, 5, 6, 7, 8, 9]\n\ncomplicated = [[1, [2]], (3, 4, {5, 6}, 7), 8, ""9""]              # numbers, strs, nested & mixed\nlist(flatten(complicated))\n# [1, 2, 3, 4, 5, 6, 7, 8, \'9\']ReferenceThis solution is modified from a recipe inBeazley, D. and B. Jones.  Recipe 4.14, Python Cookbook 3rd Ed., O\'Reilly Media Inc. Sebastopol, CA: 2013.Found an earlierSO post, possibly the original demonstration.ShareImprove this answerFolloweditedMar 23 at 23:46answeredNov 29, 2016 at 4:14pylangpylang43.3k1414 gold badges133133 silver badges127127 bronze badges\n\nTo flatten a data-structure that is deeply nested, useiteration_utilities.deepflatten1:>>> from iteration_utilities import deepflatten\n\n>>> l = [[1, 2, 3], [4, 5, 6], [7], [8, 9]]\n>>> list(deepflatten(l, depth=1))\n[1, 2, 3, 4, 5, 6, 7, 8, 9]\n\n>>> l = [[1, 2, 3], [4, [5, 6]], 7, [8, 9]]\n>>> list(deepflatten(l))\n[1, 2, 3, 4, 5, 6, 7, 8, 9]It\'s a generator so you need to cast the result to alistor explicitly iterate over it.To flatten only one level and if each of the items is itself iterable you can also useiteration_utilities.flattenwhich itself is just a thin wrapper arounditertools.chain.from_iterable:>>> from iteration_utilities import flatten\n>>> l = [[1, 2, 3], [4, 5, 6], [7], [8, 9]]\n>>> list(flatten(l))\n[1, 2, 3, 4, 5, 6, 7, 8, 9]Just to add some timings (based onNico Schlömer\'s answerthat didn\'t include the function presented in this answer):It\'s a log-log plot to accommodate for the huge range of values spanned. For qualitative reasoning: Lower is better.The results show that if the iterable contains only a few inner iterables thensumwill be fastest, however for long iterables only theitertools.chain.from_iterable,iteration_utilities.deepflattenor the nested comprehension have reasonable performance withitertools.chain.from_iterablebeing the fastest (as already noticed by Nico Schlömer).from itertools import chain\nfrom functools import reduce\nfrom collections import Iterable  # or from collections.abc import Iterable\nimport operator\nfrom iteration_utilities import deepflatten\n\ndef nested_list_comprehension(lsts):\n    return [item for sublist in lsts for item in sublist]\n\ndef itertools_chain_from_iterable(lsts):\n    return list(chain.from_iterable(lsts))\n\ndef pythons_sum(lsts):\n    return sum(lsts, [])\n\ndef reduce_add(lsts):\n    return reduce(lambda x, y: x + y, lsts)\n\ndef pylangs_flatten(lsts):\n    return list(flatten(lsts))\n\ndef flatten(items):\n    """"""Yield items from any nested iterable; see REF.""""""\n    for x in items:\n        if isinstance(x, Iterable) and not isinstance(x, (str, bytes)):\n            yield from flatten(x)\n        else:\n            yield x\n\ndef reduce_concat(lsts):\n    return reduce(operator.concat, lsts)\n\ndef iteration_utilities_deepflatten(lsts):\n    return list(deepflatten(lsts, depth=1))\n\n\nfrom simple_benchmark import benchmark\n\nb = benchmark(\n    [nested_list_comprehension, itertools_chain_from_iterable, pythons_sum, reduce_add,\n     pylangs_flatten, reduce_concat, iteration_utilities_deepflatten],\n    arguments={2**i: [[0]*5]*(2**i) for i in range(1, 13)},\n    argument_name=\'number of inner lists\'\n)\n\nb.plot()1 Disclaimer: I\'m the author of that libraryShareImprove this answerFolloweditedJun 5, 2022 at 6:54Mateen Ulhaq26.6k2020 gold badges115115 silver badges147147 bronze badgesansweredNov 26, 2016 at 0:20MSeifertMSeifert150k3939 gold badges342342 silver badges364364 bronze badges\n\nThe following seems simplest to me:>>> import numpy as np\n>>> l = [[1, 2, 3], [4, 5, 6], [7], [8, 9]]\n>>> print(np.concatenate(l))\n[1 2 3 4 5 6 7 8 9]ShareImprove this answerFolloweditedDec 23, 2021 at 6:15Francisco11.3k66 gold badges3636 silver badges4646 bronze badgesansweredJul 5, 2017 at 5:14devil in the detaildevil in the detail3,10511 gold badge1818 silver badges1515 bronze badges\n\nConsider installing themore_itertoolspackage.> pip install more_itertoolsIt ships with an implementation forflatten(source, from theitertools recipes):import more_itertools\n\n\nlst = [[1, 2, 3], [4, 5, 6], [7], [8, 9]]\nlist(more_itertools.flatten(lst))\n# [1, 2, 3, 4, 5, 6, 7, 8, 9]Note: as mentioned in thedocs,flattenrequires a list of lists.  See below on flattening more irregular inputs.As of version 2.4, you can flatten more complicated, nested iterables withmore_itertools.collapse(source, contributed by  abarnet).lst = [[1, 2, 3], [4, 5, 6], [7], [8, 9]]\nlist(more_itertools.collapse(lst)) \n# [1, 2, 3, 4, 5, 6, 7, 8, 9]\n\nlst = [[1, 2, 3], [[4, 5, 6]], [[[7]]], 8, 9]              # complex nesting\nlist(more_itertools.collapse(lst))\n# [1, 2, 3, 4, 5, 6, 7, 8, 9]ShareImprove this answerFolloweditedSep 8, 2020 at 19:44answeredDec 2, 2016 at 18:35pylangpylang43.3k1414 gold badges133133 silver badges127127 bronze badges\n\nAccording your list[[1, 2, 3], [4, 5, 6], [7], [8, 9]]which is 1 list level, we can simply usesum(list,[])without using any librariessum([[1, 2, 3], [4, 5, 6], [7], [8, 9]],[])\n# [1, 2, 3, 4, 5, 6, 7, 8, 9]To extend the advantage of this method when there is a tuple or number existing inside. Simply adding a mapping function for each element bymapto the list#For only tuple\nsum(list(map(list,[[1, 2, 3], (4, 5, 6), (7,), [8, 9]])),[])\n# [1, 2, 3, 4, 5, 6, 7, 8, 9]\n\n#In general\n\ndef convert(x):\n    if type(x) is int or type(x) is float:\n           return [x]\n    else:\n           return list(x)\n\nsum(list(map(convert,[[1, 2, 3], (4, 5, 6), 7, [8, 9]])),[])\n# [1, 2, 3, 4, 5, 6, 7, 8, 9]Inhere, there is a clear explanation of the drawback in terms of memory for this approach. In short, it recursively creates list objects, which should be avoided :(ShareImprove this answerFolloweditedJun 22, 2022 at 6:18answeredDec 9, 2021 at 9:15dtlam26dtlam261,5301313 silver badges1919 bronze badges\n\nThe reason your function didn\'t work is because theextendextends an array in-place and doesn\'t return it. You can still return x from lambda, using something like this:reduce(lambda x,y: x.extend(y) or x, l)Note: extend is more efficient than + on lists.ShareImprove this answerFolloweditedNov 19, 2019 at 16:26Shan-mk3666 bronze badgesansweredJun 4, 2009 at 20:47Igor KrivokonIgor Krivokon10.2k11 gold badge3939 silver badges4141 bronze badges\n\nmatplotlib.cbook.flatten()will work for nested lists even if they nest more deeply than the example.import matplotlib\nl = [[1, 2, 3], [4, 5, 6], [7], [8, 9]]\nprint(list(matplotlib.cbook.flatten(l)))\nl2 = [[1, 2, 3], [4, 5, 6], [7], [8, [9, 10, [11, 12, [13]]]]]\nprint(list(matplotlib.cbook.flatten(l2)))Result:[1, 2, 3, 4, 5, 6, 7, 8, 9]\n[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13]This is 18x faster than underscore._.flatten:Average time over 1000 trials of matplotlib.cbook.flatten: 2.55e-05 sec\nAverage time over 1000 trials of underscore._.flatten: 4.63e-04 sec\n(time for underscore._)/(time for matplotlib.cbook) = 18.1233394636ShareImprove this answerFolloweditedDec 23, 2021 at 6:15Francisco11.3k66 gold badges3636 silver badges4646 bronze badgesansweredFeb 1, 2018 at 18:22EL_DONEL_DON1,47611 gold badge1919 silver badges3636 bronze badges\n\nOne can also use NumPy\'sflat:import numpy as np\nlist(np.array(l).flat)It only works when sublists have identical dimensions.ShareImprove this answerFolloweditedJul 31, 2021 at 18:20Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJul 17, 2016 at 12:57mdhmdh5,51355 gold badges2929 silver badges3333 bronze badges\n\nYou can use thelistextendmethod. It shows to be the fastest:flat_list = []\nfor sublist in l:\n    flat_list.extend(sublist)Performance:import functools\nimport itertools\nimport numpy\nimport operator\nimport perfplot\n\n\ndef functools_reduce_iconcat(a):\n    return functools.reduce(operator.iconcat, a, [])\n\n\ndef itertools_chain(a):\n    return list(itertools.chain.from_iterable(a))\n\n\ndef numpy_flat(a):\n    return list(numpy.array(a).flat)\n\n\ndef extend(a):\n    n = []\n\n    list(map(n.extend, a))\n\n    return n\n\n\nperfplot.show(\n    setup = lambda n: [list(range(10))] * n,\n    kernels = [\n        functools_reduce_iconcat, extend, itertools_chain, numpy_flat\n        ],\n    n_range = [2**k for k in range(16)],\n    xlabel = \'num lists\',\n    )Output:ShareImprove this answerFolloweditedMay 21, 2022 at 23:06Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJan 25, 2020 at 21:08kederrackederrac17.2k66 gold badges3535 silver badges5656 bronze badges\n\nThere are several answers with the same recursive appending scheme as below, but none makes use oftry, which makes the solution more robust andPythonic.def flatten(itr):\n    for x in itr:\n        try:\n            yield from flatten(x)\n        except TypeError:\n            yield xUsage: this is a generator, and you typically want to enclose it in an iterable builder likelist()ortuple()or use it in aforloop.Advantages of this solution are:works with any kind of iterable (even future ones!)works with any combination and deepness of nestingworks also if top level contains bare itemsno dependenciesfast and efficient (you can flatten the nested iterable partially, without wasting time on the remaining part you don\'t need)versatile (you can use it to build an iterable of your choice or in a loop)N.B.: Sincealliterables are flattened, strings are decomposed into sequences of single characters. If you don\'t like/want such behavior, you can use the following version which filters out from flattening iterables like strings and bytes:def flatten(itr):\n    if type(itr) in (str,bytes):\n        yield itr\n    else:\n        for x in itr:\n            try:\n                yield from flatten(x)\n            except TypeError:\n                yield xShareImprove this answerFolloweditedMay 21, 2022 at 23:08Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredAug 8, 2020 at 14:52mmjmmj5,69222 gold badges4646 silver badges5353 bronze badges\n\nNote: Below applies to Python 3.3+ because it usesyield_from.sixis also a third-party package, though it is stable.  Alternately, you could usesys.version.In the case ofobj = [[1, 2,], [3, 4], [5, 6]], all of the solutions here are good, including list comprehension anditertools.chain.from_iterable.However, consider this slightly more complex case:>>> obj = [[1, 2, 3], [4, 5], 6, \'abc\', [7], [8, [9, 10]]]There are several problems here:One element,6, is just a scalar; it\'s not iterable, so the above routes will fail here.One element,\'abc\',istechnically iterable (allstrs are).  However, reading between the lines a bit, you don\'t want to treat it as such--you want to treat it as a single element.The final element,[8, [9, 10]]is itself a nested iterable.  Basic list comprehension andchain.from_iterableonly extract ""1 level down.""You can remedy this as follows:>>> from collections import Iterable\n>>> from six import string_types\n\n>>> def flatten(obj):\n...     for i in obj:\n...         if isinstance(i, Iterable) and not isinstance(i, string_types):\n...             yield from flatten(i)\n...         else:\n...             yield i\n\n\n>>> list(flatten(obj))\n[1, 2, 3, 4, 5, 6, \'abc\', 7, 8, 9, 10]Here, you check that the sub-element (1) is iterable withIterable, an ABC fromitertools, but also want to ensure that (2) the element isnot""string-like.""ShareImprove this answerFolloweditedJun 19, 2018 at 19:38answeredFeb 1, 2018 at 18:33Brad SolomonBrad Solomon40.2k3737 gold badges159159 silver badges246246 bronze badges\n\nIf you are willing to give up a tiny amount of speed for a cleaner look, then you could usenumpy.concatenate().tolist()ornumpy.concatenate().ravel().tolist():import numpy\n\nl = [[1, 2, 3], [4, 5, 6], [7], [8, 9]] * 99\n\n%timeit numpy.concatenate(l).ravel().tolist()\n1000 loops, best of 3: 313 µs per loop\n\n%timeit numpy.concatenate(l).tolist()\n1000 loops, best of 3: 312 µs per loop\n\n%timeit [item for sublist in l for item in sublist]\n1000 loops, best of 3: 31.5 µs per loopYou can find out more here in the documentation,numpy.concatenateandnumpy.ravel.ShareImprove this answerFolloweditedJul 31, 2021 at 18:25Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredOct 27, 2016 at 3:24mkultramkultra32133 silver badges99 bronze badges\n\ndef flatten(alist):\n    if alist == []:\n        return []\n    elif type(alist) is not list:\n        return [alist]\n    else:\n        return flatten(alist[0]) + flatten(alist[1:])ShareImprove this answerFollowansweredAug 8, 2017 at 14:59englealuzeenglealuze1,53511 gold badge1212 silver badges2222 bronze badges\n\nI wanted a solution which can deal with multiple nesting ([[1], [[[2]], [3]]], [1, 2, 3]for example), but would also not be recursive (I had a big level of recursion and I got a recursion error.This is what I came up with:def _flatten(l) -> Iterator[Any]:\n    stack = l.copy()\n    while stack:\n        item = stack.pop()\n        if isinstance(item, list):\n            stack.extend(item)\n        else:\n            yield item\n\n\ndef flatten(l) -> Iterator[Any]:\n    return reversed(list(_flatten(l)))and tests:@pytest.mark.parametrize(\'input_list, expected_output\', [\n    ([1, 2, 3], [1, 2, 3]),\n    ([[1], 2, 3], [1, 2, 3]),\n    ([[1], [2], 3], [1, 2, 3]),\n    ([[1], [2], [3]], [1, 2, 3]),\n    ([[1], [[2]], [3]], [1, 2, 3]),\n    ([[1], [[[2]], [3]]], [1, 2, 3]),\n])\ndef test_flatten(input_list, expected_output):\n    assert list(flatten(input_list)) == expected_outputShareImprove this answerFollowansweredOct 7, 2021 at 17:38Alon GouldmanAlon Gouldman3,2733030 silver badges3030 bronze badges\n\nThis may not be the most efficient way, but I thought to put a one-liner (actually a two-liner). Both versions will work on arbitrary hierarchy nested lists, and exploits language features (Python\xa03.5) and recursion.def make_list_flat (l):\n    flist = []\n    flist.extend ([l]) if (type (l) is not list) else [flist.extend (make_list_flat (e)) for e in l]\n    return flist\n\na = [[1, 2], [[[[3, 4, 5], 6]]], 7, [8, [9, [10, 11], 12, [13, 14, [15, [[16, 17], 18]]]]]]\nflist = make_list_flat(a)\nprint (flist)The output is[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18]This works in a depth first manner. The recursion goes down until it finds a non-list element, then extends the local variableflistand then rolls back it to the parent. Wheneverflistis returned, it is extended to the parent\'sflistin the list comprehension. Therefore, at the root, a flat list is returned.The above one creates several local lists and returns them which are used to extend the parent\'s list. I think the way around for this may be creating a gloablflist, like below.a = [[1, 2], [[[[3, 4, 5], 6]]], 7, [8, [9, [10, 11], 12, [13, 14, [15, [[16, 17], 18]]]]]]\nflist = []\ndef make_list_flat (l):\n    flist.extend ([l]) if (type (l) is not list) else [make_list_flat (e) for e in l]\n\nmake_list_flat(a)\nprint (flist)The output is again[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18]Although I am not sure at this time about the efficiency.ShareImprove this answerFolloweditedMay 21, 2022 at 23:05Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMay 16, 2018 at 9:41phoxisphoxis61.3k1414 gold badges8282 silver badges118118 bronze badges\n\nIf you want to unnest everything and keep a distinct list of elements, you could use this as well.list_of_lists = [[1,2], [2,3], [3,4]]\nlist(set.union(*[set(s) for s in list_of_lists]))ShareImprove this answerFollowansweredJul 25, 2022 at 9:26Letsios MatthaiosLetsios Matthaios19611 silver badge77 bronze badges\n\nHere\'s an approach I didn\'t see in the other answers. It supports any level of nesting, works iteratively and without libraries:mylist = [[1,2,4,5],[[0,8,9],5,7],[3,11,[44,45,46],25]]\n\nfor i,_ in enumerate(mylist):          # indexes, including extended positions\n    while isinstance(mylist[i],list):  # drill down/extend current position\n        mylist[i:i+1] = mylist[i]      # as long as item is a list\n\nprint(mylist)\n[1, 2, 4, 5, 0, 8, 9, 5, 7, 3, 11, 44, 45, 46, 25]ShareImprove this answerFollowansweredMar 21, 2023 at 21:52Alain T.Alain T.41.7k44 gold badges3333 silver badges5555 bronze badges\n\nAnother unusual approach that works for hetero- and homogeneous lists of integers:from typing import List\n\n\ndef flatten(l: list) -> List[int]:\n    """"""Flatten an arbitrary deep nested list of lists of integers.\n\n    Examples:\n        >>> flatten([1, 2, [1, [10]]])\n        [1, 2, 1, 10]\n\n    Args:\n        l: Union[l, Union[int, List[int]]\n\n    Returns:\n        Flatted list of integer\n    """"""\n    return [int(i.strip(\'[ ]\')) for i in str(l).split(\',\')]ShareImprove this answerFolloweditedSep 13, 2018 at 11:34answeredJan 9, 2018 at 14:34tharndttharndt12733 silver badges1010 bronze badges\n\nA non-recursive function to flatten lists of lists of any depth:def flatten_list(list1):\n    out = []\n    inside = list1\n    while inside:\n        x = inside.pop(0)\n        if isinstance(x, list):\n            inside[0:0] = x\n        else:\n            out.append(x)\n    return out\n\nl = [[[1,2],3,[4,[[5,6],7],[8]]],[9,10,11]]\nflatten_list(l)\n# [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11]ShareImprove this answerFolloweditedDec 9, 2021 at 6:20answeredDec 9, 2021 at 6:10user7864386user7864386\n\nNot a one-liner, but seeing all the answers here, I guess this long list missed some pattern matching, so here it is :)The two methods are probably not efficient, but anyway, it\'s easy to read (to me at least; perhaps I\'m spoiled by functional programming):def flat(x):\n    match x:\n        case []:\n            return []\n        case [[*sublist], *r]:\n            return [*sublist, *flat(r)]The second version considers lists of lists of lists... whatever the nesting:def flat(x):\n    match x:\n        case []:\n            return []\n        case [[*sublist], *r]:\n            return [*flat(sublist), *flat(r)]\n        case [h, *r]:\n            return [h, *flat(r)]ShareImprove this answerFolloweditedMay 21, 2022 at 23:17Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMar 14, 2022 at 13:06Vincent AranegaVincent Aranega1,4961010 silver badges2121 bronze badges\n\nIf you have a numpy arraya:a = np.array([[1,2], [3,4]])\na.flatten(\'C\')produces:[1, 2, 3, 4]np.flattenalso accepts other parameters:C:FAKMore details about parameters are availablehere.ShareImprove this answerFolloweditedNov 23, 2022 at 8:00answeredOct 14, 2022 at 13:19Vasantha GaneshVasantha Ganesh4,90033 gold badges2727 silver badges3636 bronze badges\n\nI would suggest using generators with ayieldstatement andyield from.Here\'s an example:from collections.abc import Iterable\n\ndef flatten(items, ignore_types=(bytes, str)):\n    """"""\n       Flatten all of the nested lists to the one. Ignoring flatting of iterable types str and bytes by default.\n    """"""\n    for x in items:\n        if isinstance(x, Iterable) and not isinstance(x, ignore_types):\n            yield from flatten(x)\n        else:\n            yield x\n\nvalues = [7, [4, 3, 5, [7, 3], (3, 4), (\'A\', {\'B\', \'C\'})]]\n\nfor v in flatten(values):\n    print(v)ShareImprove this answerFolloweditedMay 2 at 23:57Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMay 15, 2022 at 17:07VovaVova3,42333 gold badges1717 silver badges2424 bronze badges\n\nIf I want to add something to the great previous answers, here is my recursiveflattenfunction which can flatten not only nested lists, but also any given container or any generally any object which can throw out items. This does also work for any depth of nesting and it is a lazy iterator which yields the items as requested:def flatten(iterable):\n    # These types won\'t considered a sequence or generally a container\n    exclude = str, bytes\n\n    for i in iterable:\n        try:\n            if isinstance(i, exclude):\n                raise TypeError\n            iter(i)\n        except TypeError:\n            yield i\n        else:\n            yield from flatten(i)This way, you can exclude types you don\'t want to be flattened, likestror what else.The idea is if an object can pass theiter()it\'s ready to yield items. So the iterable can have even generator expressions as an item.Someone could argue: Why did you write this that generic when the OP didn\'t ask for it? OK, you\'re right. I just felt like this might help someone (like it did for myself).Test cases:lst1 = [1, {3}, (1, 6), [[3, 8]], [[[5]]], 9, ((((2,),),),)]\nlst2 = [\'3\', B\'A\', [[[(i ** 2 for i in range(3))]]], range(3)]\n\nprint(list(flatten(lst1)))\nprint(list(flatten(lst2)))Output:[1, 3, 1, 6, 3, 8, 5, 9, 2]\n[\'3\', b\'A\', 0, 1, 4, 0, 1, 2]ShareImprove this answerFolloweditedMay 21, 2022 at 23:12Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJan 11, 2022 at 15:56S.BS.B15.9k1111 gold badges3131 silver badges6161 bronze badges\n\nThis usesparsel.utils.flattenwhich is great when it comes to flattening multiple levels of list nesting. I found it useful to avoid overhead ofNumPy.I\'ll use numbers here for the purpose of simplicity, but but I predominantly used it with strings, which worked pretty fast for my purposes (200 nested lists with each about 40 elements).nested_list = [[1, 2, [3, 4]], [5, [6, [7, 8]]]]\nflattened_list = parsel.utils.flatten(nested_list)\nprint(flattened_list)\n-> [1, 2, 3, 4, 5, 6, 7, 8]ShareImprove this answerFolloweditedMay 2 at 23:48Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredApr 21 at 11:19looploop3166 bronze badges\n\nI like to add a high performant generator solution which can fatten nested lists (or any kind of iterable) ofany depthnot (only two-dimensional-lists):from itertools import chain\n\ndef flatten_deep_generator(iterable):\n    iterator = iter(iterable)\n    try:\n        while 1: # StopIteration will break the loop\n            item = next(iterator)\n            # Check if item contains sub-items\n            if not hasattr(item,\'__trunc__\'):\n                iterator = chain(iter(item), iterator)\n            else:\n                yield item\n    except StopIteration:\n        passDepending on your needs a generators have huge advantages over lists. E.g. If you want addfilter()functions afterwards. The resulting list should be instanced only at the end after you have constructed the full generator incl. the filtering by this you avoid multiple iterations over the items.Remark: Compared to the other proposed generator solution this is an iterative and not a recursive solution which avoids RecursionErrors in case of deep nested iterables.ShareImprove this answerFolloweditedMay 2 at 23:51Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMar 11, 2023 at 21:48B.R.B.R.30422 silver badges99 bronze badges'}","{'title': 'How can I create a memory leak in Java?', 'question': 'I just had an interview where I was asked to create amemory leakwith Java.Needless to say, I felt pretty dumb, having no idea how to start creating one.What would an example be?javamemorymemory-leaksShareImprove this questionFolloweditedJan 25, 2023 at 13:09community wiki21 revs, 16 users 26%MatBanik', 'answers': 'Here\'s a good way to create a true memory leak (objects inaccessible by running code but still stored in memory) in pure Java:The application creates a long-running thread (or use a thread pool to leak even faster).The thread loads a class via an (optionally custom)ClassLoader.The class allocates a large chunk of memory (e.g.new byte[1000000]), stores a strong reference to it in a static field, and then stores a reference to itself in aThreadLocal.  Allocating the extra memory is optional (leaking the class instance is enough), but it will make the leak work that much faster.The application clears all references to the custom class or theClassLoaderit was loaded from.Repeat.Due to the wayThreadLocalis implemented in Oracle\'s JDK, this creates a memory leak:EachThreadhas a private fieldthreadLocals, which actually stores the thread-local values.Eachkeyin this map is a weak reference to aThreadLocalobject, so after thatThreadLocalobject is garbage-collected, its entry is removed from the map.But eachvalueis a strong reference, so when a value (directly or indirectly) points to theThreadLocalobject that is itskey, that object will neither be garbage-collected nor removed from the map as long as the thread lives.In this example, the chain of strong references looks like this:Threadobject →threadLocalsmap → instance of example class → example class → staticThreadLocalfield →ThreadLocalobject.(TheClassLoaderdoesn\'t really play a role in creating the leak, it just makes the leak worse because of this additional reference chain: example class →ClassLoader→ all the classes it has loaded. It was even worse in many JVM implementations, especially prior to Java 7, because classes andClassLoaders were allocated straight into permgen and were never garbage-collected at all.)A variation on this pattern is why application containers (like Tomcat) can leak memory like a sieve if you frequently redeploy applications which happen to useThreadLocals that in some way point back to themselves. This can happen for a number of subtle reasons and is often hard to debug and/or fix.Update: Since lots of people keep asking for it,here\'s some example code that shows this behavior in action.ShareImprove this answerFolloweditedNov 26, 2019 at 15:31community wiki12 revs, 5 users 51%Daniel Pryden\n\nStatic field holding an object reference [especially afinalfield]class MemorableClass {\n    static final ArrayList list = new ArrayList(100);\n}(Unclosed) open streams (file , network, etc.)try {\n    BufferedReader br = new BufferedReader(new FileReader(inputFile));\n    ...\n    ...\n} catch (Exception e) {\n    e.printStackTrace();\n}Unclosed connectionstry {\n    Connection conn = ConnectionFactory.getConnection();\n    ...\n    ...\n} catch (Exception e) {\n    e.printStackTrace();\n}Areas that are unreachable from JVM\'s garbage collector, such as memory allocated through native methods.In web applications, some objects are stored in application scope until the application is explicitly stopped or removed.getServletContext().setAttribute(""SOME_MAP"", map);Incorrect or inappropriate JVM options, such as thenoclassgcoption on IBM JDK that prevents unused class garbage collectionSeeIBM JDK settings.ShareImprove this answerFolloweditedDec 29, 2022 at 6:36community wiki13 revs, 12 users 57%Prashant Bhate\n\nA simple thing to do is to use a HashSet with an incorrect (or non-existent)hashCode()orequals(), and then keep adding ""duplicates"".  Instead of ignoring duplicates as it should, the set will only ever grow and you won\'t be able to remove them.If you want these bad keys/elements to hang around you can use a static field likeclass BadKey {\n   // no hashCode or equals();\n   public final String key;\n   public BadKey(String key) { this.key = key; }\n}\n\nMap map = System.getProperties();\nmap.put(new BadKey(""key""), ""value""); // Memory leak even if your threads die.ShareImprove this answerFolloweditedJun 24, 2011 at 21:50community wiki3 revs, 3 users 87%Peter Lawrey\n\nBelow there will be a non-obvious case where Java leaks, besides the standard case of forgotten listeners, static references, bogus/modifiable keys in hashmaps, or just threads stuck without any chance to end their life-cycle.File.deleteOnExit()- always leaks the string,if the string is a substring, the leak is even worse (the underlying char[] is also leaked)-in Java\xa07 substring also copies thechar[], so the later doesn\'t apply; @Daniel, no needs for votes, though.I\'ll concentrate on threads to show the danger of unmanaged threads mostly, don\'t wish to even touch swing.Runtime.addShutdownHookand not remove... and then even with removeShutdownHook due to a bug in ThreadGroup class regarding unstarted threads it may not get collected, effectively leak the ThreadGroup. JGroup has the leak in GossipRouter.Creating, but not starting, aThreadgoes into the same category as above.Creating a thread inherits theContextClassLoaderandAccessControlContext, plus theThreadGroupand anyInheritedThreadLocal, all those references are potential leaks, along with the entire classes loaded by the classloader and all static references, and ja-ja. The effect is especially visible with the entire j.u.c.Executor framework that features a super simpleThreadFactoryinterface, yet most developers have no clue of the lurking danger. Also a lot of libraries do start threads upon request (way too many industry popular libraries).ThreadLocalcaches; those are evil in many cases. I am sure everyone has seen quite a bit of simple caches based on ThreadLocal, well the bad news: if the thread keeps going more than expected the life the context ClassLoader, it is a pure nice little leak. Do not use ThreadLocal caches unless really needed.CallingThreadGroup.destroy()when the ThreadGroup has no threads itself, but it still keeps child ThreadGroups. A bad leak that will prevent the ThreadGroup to remove from its parent, but all the children become un-enumerateable.Using WeakHashMap and the value (in)directly references the key. This is a hard one to find without a heap dump. That applies to all extendedWeak/SoftReferencethat might keep a hard reference back to the guarded object.Usingjava.net.URLwith the HTTP(S) protocol and loading the resource from(!). This one is special, theKeepAliveCachecreates a new thread in the system ThreadGroup which leaks the current thread\'s context classloader. The thread is created upon the first request when no alive thread exists, so either you may get lucky or just leak.The leak is already fixed in Java\xa07 and the code that creates thread properly removes the context classloader.There are few more cases (like ImageFetcher,also fixed) of creating similar threads.UsingInflaterInputStreampassingnew java.util.zip.Inflater()in the constructor (PNGImageDecoderfor instance) and not callingend()of the inflater. Well, if you pass in the constructor with justnew, no chance... And yes, callingclose()on the stream does not close the inflater if it\'s manually passed as constructor parameter. This is not a true leak since it\'d be released by the finalizer... when it deems it necessary. Till that moment it eats native memory so badly it can cause Linux oom_killer to kill the process with impunity. The main issue is that finalization in Java is very unreliable and G1 made it worse till 7.0.2. Moral of the story: release native resources as soon as you can; the finalizer is just too poor.The same case withjava.util.zip.Deflater. This one is far worse since Deflater is memory hungry in Java, i.e. always uses 15\xa0bits (max) and 8\xa0memory levels (9 is max) allocating several hundreds KB of native memory. Fortunately,Deflateris not widely used and to my knowledge JDK contains no misuses. Always callend()if you manually create aDeflaterorInflater. The best part of the last two:you can\'t find them via normal profiling tools available.(I can add some more time wasters I have encountered upon request.)Good luck and stay safe; leaks are evil!ShareImprove this answerFolloweditedFeb 16, 2016 at 15:52community wiki7 revs, 3 users 78%bestsss\n\nMost examples here are ""too complex"". They are edge cases. With these examples, the programmer made a mistake (like don\'t redefining equals/hashcode), or has been bitten by a corner case of the JVM/JAVA (load of class with static...). I think that\'s not the type of example an interviewer want or even the most common case.But there are really simpler cases for memory leaks. The garbage collector only frees what is no longer referenced. We as Java developers don\'t care about memory. We allocate it when needed and let it be freed automatically. Fine.But any long-lived application tend to have shared state. It can be anything, statics, singletons... Often non-trivial applications tend to make complex objects graphs. Just forgetting to set a reference to null or more often forgetting to remove one object from a collection is enough to make a memory leak.Of course all sort of listeners (like UI listeners), caches, or any long-lived shared state tend to produce memory leak if not properly handled. What shall be understood is that this is not a Java corner case, or a problem with the garbage collector. It is a design problem. We design that we add a listener to a long-lived object, but we don\'t remove the listener when no longer needed. We cache objects, but we have no strategy to remove them from the cache.We maybe have a complex graph that store the previous state that is needed by a computation. But the previous state is itself linked to the state before and so on.Like we have to close SQL connections or files. We need to set proper references to null and remove elements from the collection. We shall have proper caching strategies (maximum memory size, number of elements, or timers). All objects that allow a listener to be notified must provide both a addListener and removeListener method. And when these notifiers are no longer used, they must clear their listener list.A memory leak is indeed truly possible and is perfectly predictable. No need for special language features or corner cases. Memory leaks are either an indicator that something is maybe missing or even of design problems.ShareImprove this answerFolloweditedFeb 13, 2018 at 7:27community wiki4 revs, 4 users 65%Nicolas Bousquet\n\nThe answer depends entirely on what the interviewer thought they were asking.Is it possible in practice to make Java leak? Of course it is, and there are plenty of examples in the other answers.But there are multiple meta-questions that may have been being asked?Is a theoretically ""perfect"" Java implementation vulnerable to leaks?Does the candidate understand the difference between theory and reality?Does the candidate understand how garbage collection works?Or how garbage collection is supposed to work in an ideal case?Do they know they can call other languages through native interfaces?Do they know to leak memory in those other languages?Does the candidate even know what memory management is, and what is going on behind the scene in Java?I\'m reading your meta-question as ""What\'s an answer I could have used in this interview situation"". And hence, I\'m going to focus on interview skills instead of Java. I believe you\'re more likely to repeat the situation of not knowing the answer to a question in an interview than you are to be in a place of needing to know how to make Java leak. So, hopefully, this will help.One of the most important skills you can develop for interviewing is learning to actively listen to the questions and working with the interviewer to extract their intent. Not only does this let you answer their question the way they want, but also shows that you have some vital communication skills. And when it comes down to a choice between many equally talented developers, I\'ll hire the one who listens, thinks, and understands before they respond every time.ShareImprove this answerFolloweditedAug 2, 2019 at 21:46community wiki4 revs, 2 users 89%PlayTank\n\nThe following is a pretty pointless example if you do not understandJDBC. Or at least how JDBC expects a developer to closeConnection,Statement, andResultSetinstances before discarding them or losing references to them, instead of relying on implementing thefinalizemethod.void doWork() {\n    try {\n        Connection conn = ConnectionFactory.getConnection();\n        PreparedStatement stmt = conn.preparedStatement(""some query"");\n        // executes a valid query\n        ResultSet rs = stmt.executeQuery();\n        while(rs.hasNext()) {\n            // ... process the result set\n        }\n    } catch(SQLException sqlEx) {\n        log(sqlEx);\n    }\n}The problem with the above is that theConnectionobject is not closed, and hence the physicalConnectionwill remain open until the garbage collector comes around and sees that it is unreachable. GC will invoke thefinalizemethod, but there are JDBC drivers that do not implement thefinalize,at least not in the same way thatConnection.closeis implemented. The resulting behavior is that while the JVM will reclaim memory due to unreachable objects being collected, resources (including memory) associated with theConnectionobject might not be reclaimed.As such, Connection\'s final method does not clean up everything. One might find that the physicalConnectionto the database server will last several garbage collection cycles until the database server eventually figures out that theConnectionis not alive (if it does) and should be closed.Even if the JDBC driver implementedfinalize, the compiler can throw exceptions during finalization. The resulting behavior is that any memory associated with the now ""dormant"" object will not be reclaimed by the compiler, asfinalizeis guaranteed to be invoked only once.The above scenario of encountering exceptions during object finalization is related to another scenario that could lead to a memory leak - object resurrection. Object resurrection is often done intentionally by creating a strong reference to the object from being finalized, from another object. When object resurrection is misused it will lead to a memory leak in combination with other sources of memory leaks.There are plenty more examples that you can conjure up - likeManaging aListinstance where you are only adding to the list and not deleting from it (although you should be getting rid of elements you no longer need), orOpeningSocketsorFiles,but not closing them when they are no longer needed (similar to the above example involving theConnectionclass).Not unloading Singletons when bringing down a Java EE application. The Classloader that loaded the singleton class will retain a reference to the class, and hence the singleton instance will never be collected by the JVM. When a new instance of the application is deployed, a new class loader is usually created, and the former class loader will continue to exist due to the singleton.ShareImprove this answerFolloweditedOct 10, 2022 at 10:02community wiki7 revs, 5 users 55%Vineet Reynolds\n\nProbably one of the simplest examples of a potential memory leak, and how to avoid it, is the implementation of ArrayList.remove(int):public E remove(int index) {\n    RangeCheck(index);\n\n    modCount++;\n    E oldValue = (E) elementData[index];\n\n    int numMoved = size - index - 1;\n    if (numMoved > 0)\n        System.arraycopy(elementData, index + 1, elementData, index,\n                numMoved);\n    elementData[--size] = null; // (!) Let gc do its work\n\n    return oldValue;\n}If you were implementing it yourself, would you have thought to clear the array element that is no longer used (elementData[--size] = null)? That reference might keep a huge object alive ...ShareImprove this answerFolloweditedNov 21, 2020 at 6:07community wiki4 revs, 4 users 84%meriton\n\nAny time you keep references around to objects that you no longer need you have a memory leak.  SeeHandling memory leaks in Java programsfor examples of how memory leaks manifest themselves in Java and what you can do about it.ShareImprove this answerFolloweditedSep 20, 2023 at 8:42community wiki2 revs, 2 users 86%Bill the Lizard\n\nYou are able to make memory leak withsun.misc.Unsafeclass. In fact this service class is used in different standard classes (for example injava.nioclasses).You can\'t create instances of this class directly, but you mayuse reflection to get an instance.Code doesn\'t compile in theEclipseIDE - compile it using commandjavac(during compilation you\'ll get warnings)import java.lang.reflect.Constructor;\nimport java.lang.reflect.Field;\nimport sun.misc.Unsafe;\n\npublic class TestUnsafe {\n\n    public static void main(String[] args) throws Exception{\n        Class unsafeClass = Class.forName(""sun.misc.Unsafe"");\n        Field f = unsafeClass.getDeclaredField(""theUnsafe"");\n        f.setAccessible(true);\n        Unsafe unsafe = (Unsafe) f.get(null);\n        System.out.print(""4..3..2..1..."");\n        try\n        {\n            for(;;)\n                unsafe.allocateMemory(1024*1024);\n        } catch(Error e) {\n            System.out.println(""Boom :)"");\n            e.printStackTrace();\n        }\n    }\n}ShareImprove this answerFolloweditedDec 29, 2022 at 6:37community wiki6 revs, 5 users 42%stemm\n\nI can copy my answer from here:Easiest way to cause memory leak in Java""A memory leak, in computer science (or leakage, in this context), occurs when a computer program consumes memory but is unable to release it back to the operating system."" (Wikipedia)The easy answer is: You can\'t. Java does automatic memory management and will free resources that are not needed for you. You can\'t stop this from happening. It willalwaysbe able to release the resources. In programs with manual memory management, this is different. You can get some memory in C using malloc(). To free the memory, you need the pointer that malloc returned and call free() on it. But if you don\'t have the pointer any more (overwritten, or lifetime exceeded), then you are unfortunately incapable of freeing this memory and thus you have a memory leak.All the other answers so far are in my definition not really memory leaks. They all aim at filling the memory with pointless stuff real fast. But at any time you could still dereference the objects you created and thus freeing the memory -->no leak.acconrad\'s answercomes pretty close though as I have to admit since his solution is effectively to just ""crash"" the garbage collector by forcing it in an endless loop).The long answer is: You can get a memory leak by writing a library for Java using the JNI, which can have manual memory management and thus have memory leaks. If you call this library, your Java process will leak memory. Or, you can have bugs in the JVM, so that the JVM looses memory. There are probably bugs in the JVM, there may even be some known ones since garbage collection is not that trivial, but then it\'s still a bug. By design this is not possible. You may be asking for some Java code that is effected by such a bug. Sorry I don\'t know one and it might well not be a bug any more in the next Java version anyway.ShareImprove this answerFolloweditedMay 12, 2021 at 21:06community wiki4 revs, 3 users 70%yankee\n\nHere\'s a simple/sinister one viahttp://wiki.eclipse.org/Performance_Bloopers#String.substring.28.29.public class StringLeaker\n{\n    private final String muchSmallerString;\n\n    public StringLeaker()\n    {\n        // Imagine the whole Declaration of Independence here\n        String veryLongString = ""We hold these truths to be self-evident..."";\n\n        // The substring here maintains a reference to the internal char[]\n        // representation of the original string.\n        this.muchSmallerString = veryLongString.substring(0, 1);\n    }\n}Because the substring refers to the internal representation of the original, much longer string, the original stays in memory. Thus, as long as you have a StringLeaker in play, you have the whole original string in memory, too, even though you might think you\'re just holding on to a single-character string.The way to avoid storing an unwanted reference to the original string is to do something like this:...\nthis.muchSmallerString = new String(veryLongString.substring(0, 1));\n...For added badness, you might also.intern()the substring:...\nthis.muchSmallerString = veryLongString.substring(0, 1).intern();\n...Doing so will keep both the original long string and the derived substring in memory even after the StringLeaker instance has been discarded.ShareImprove this answerFolloweditedJul 21, 2011 at 19:00community wiki2 revsJon Chambers\n\nA common example of this in GUI code is when creating a widget/component and adding a listener to some static/application scoped object and then not removing the listener when the widget is destroyed. Not only do you get a memory leak, but also a performance hit as when whatever you are listening to fires events, all your old listeners are called too.ShareImprove this answerFolloweditedFeb 16, 2016 at 15:40community wiki3 revs, 2 users 71%pauli\n\nTake any web application running in any servlet container (Tomcat,Jetty,GlassFish, whatever...). Redeploy the application 10 or 20 times in a row (it may be enough to simply touch theWARin the server\'s autodeploy directory.Unless anybody has actually tested this, chances are high that you\'ll get an OutOfMemoryError after a couple of redeployments, because the application did not take care to clean up after itself. You may even find a bug in your server with this test.The problem is, the lifetime of the container is longer than the lifetime of your application. You have to make sure that all references the container might have to objects or classes of your application can be garbage collected.If there is just one reference surviving the undeployment of your web application, the corresponding classloader and by consequence all classes of your web application cannot be garbage collected.Threads started by your application, ThreadLocal variables, logging appenders are some of the usual suspects to cause classloader leaks.ShareImprove this answerFolloweditedMay 12, 2021 at 21:09community wiki2 revs, 2 users 59%Harald Wellmann\n\nMaybe by using external native code through JNI?With pure Java, it is almost impossible.But that is about a ""standard"" type of memory leak, when you cannot access the memory anymore, but it is still owned by the application. You can instead keep references to unused objects, or open streams without closing them afterwards.ShareImprove this answerFolloweditedJun 24, 2011 at 21:48community wiki2 revs, 2 users 67%Rogach\n\nI have had a nice ""memory leak"" in relation to PermGen and XML parsing once.\nThe XML parser we used (I can\'t remember which one it was) did a String.intern() on tag names, to make comparison faster.\nOne of our customers had the great idea to store data values not in XML attributes or text, but as tagnames, so we had a document like:<data>\n   <1>bla</1>\n   <2>foo</>\n   ...\n</data>In fact, they did not use numbers but longer textual IDs (around 20 characters), which were unique and came in at a rate of 10-15 million a day. That makes 200\xa0MB of rubbish a day, which is never needed again, and never GCed (since it is in PermGen). We had permgen set to 512\xa0MB, so it took around two days for the out-of-memory exception (OOME) to arrive...ShareImprove this answerFolloweditedFeb 16, 2016 at 15:44community wiki2 revs, 2 users 85%Ron\n\nThe interviewer was probably looking for a circular reference like the code below (which incidentally only leak memory in very old JVMs that used reference counting, which isn\'t the case anymore).  But it\'s a pretty vague question, so it\'s a prime opportunity to show off your understanding of JVM memory management.class A {\n    B bRef;\n}\n\nclass B {\n    A aRef;\n}\n\npublic class Main {\n    public static void main(String args[]) {\n        A myA = new A();\n        B myB = new B();\n        myA.bRef = myB;\n        myB.aRef = myA;\n        myA=null;\n        myB=null;\n        /* at this point, there is no access to the myA and myB objects, */\n        /* even though both objects still have active references. */\n    } /* main */\n}Then you can explain that with reference counting, the above code would leak memory.  But most modern JVMs don\'t use reference counting any longer. Most use a sweep garbage collector, which will in fact collect this memory.Next, you might explain creating an Object that has an underlying native resource, like this:public class Main {\n    public static void main(String args[]) {\n        Socket s = new Socket(InetAddress.getByName(""google.com""),80);\n        s=null;\n        /* at this point, because you didn\'t close the socket properly, */\n        /* you have a leak of a native descriptor, which uses memory. */\n    }\n}Then you can explain this is technically a memory leak, but really the leak is caused by native code in the JVM allocating underlying native resources, which weren\'t freed by your Java code.At the end of the day, with a modern JVM, you need to write some Java code that allocates a native resource outside the normal scope of the JVM\'s awareness.ShareImprove this answerFolloweditedOct 10, 2022 at 9:58community wiki3 revs, 3 users 66%deltamind106\n\nWhat\'s a memory leak:It\'s caused by abugorbad design.It\'s a waste of memory.It gets worse over time.The garbage collector cannot clean it.Typical example:A cache of objects is a good starting point to mess things up.private static final Map<String, Info> myCache = new HashMap<>();\n\npublic void getInfo(String key)\n{\n    // uses cache\n    Info info = myCache.get(key);\n    if (info != null) return info;\n\n    // if it\'s not in cache, then fetch it from the database\n    info = Database.fetch(key);\n    if (info == null) return null;\n\n    // and store it in the cache\n    myCache.put(key, info);\n    return info;\n}Your cache grows and grows. And pretty soon the entire database gets sucked into memory. A better design uses an LRUMap (Only keeps recently used objects in cache).Sure, you can make things a lot more complicated:usingThreadLocalconstructions.adding morecomplex reference trees.or leaks caused by3rd party libraries.What often happens:If this Info object has references to other objects, which again have references to other objects. In a way you could also consider this to be some kind of memory leak, (caused by bad design).ShareImprove this answerFolloweditedOct 28, 2014 at 13:18community wiki3 revsbvdb\n\nI thought it was interesting that no one used the internal class examples.  If you have an internal class; it inherently maintains a reference to the containing class.  Of course it is not technically a memory leak because Java WILL eventually clean it up; but this can cause classes to hang around longer than anticipated.public class Example1 {\n  public Example2 getNewExample2() {\n    return this.new Example2();\n  }\n  public class Example2 {\n    public Example2() {}\n  }\n}Now if you call Example1 and get an Example2 discarding Example1, you will inherently still have a link to an Example1 object.public class Referencer {\n  public static Example2 GetAnExample2() {\n    Example1 ex = new Example1();\n    return ex.getNewExample2();\n  }\n\n  public static void main(String[] args) {\n    Example2 ex = Referencer.GetAnExample2();\n    // As long as ex is reachable; Example1 will always remain in memory.\n  }\n}I\'ve also heard a rumor that if you have a variable that exists for longer than a specific amount of time; Java assumes that it will always exist and will actually never try to clean it up if cannot be reached in code anymore.  But that is completely unverified.ShareImprove this answerFollowansweredJul 9, 2011 at 1:23community wikiSuroot\n\nI recently encountered a memory leak situation caused in a way by log4j.Log4j has this mechanism calledNested Diagnostic Context(NDC)which is an instrument to distinguish interleaved log output from different sources. The granularity at which NDC works is threads, so it distinguishes log outputs from different threads separately.In order to store thread specific tags, log4j\'s NDC class uses a Hashtable which is keyed by the Thread object itself (as opposed to say the thread id), and thus till the NDC tag stays in memory all the objects that hang off of the thread object also stay in memory. In our web application we use NDC to tag logoutputs with a request id to distinguish logs from a single request separately. The container that associates the NDC tag with a thread, also removes it while returning the response from a request. The problem occurred when during the course of processing a request, a child thread was spawned, something like the following code:pubclic class RequestProcessor {\n    private static final Logger logger = Logger.getLogger(RequestProcessor.class);\n    public void doSomething()  {\n        ....\n        final List<String> hugeList = new ArrayList<String>(10000);\n        new Thread() {\n           public void run() {\n               logger.info(""Child thread spawned"")\n               for(String s:hugeList) {\n                   ....\n               }\n           }\n        }.start();\n    }\n}So an NDC context was associated with inline thread that was spawned. The thread object that was the key for this NDC context, is the inline thread which has the hugeList object hanging off of it. Hence even after the thread finished doing what it was doing, the reference to the hugeList was kept alive by the NDC context Hastable, thus causing a memory leak.ShareImprove this answerFolloweditedMar 7, 2014 at 21:29community wiki2 revsPuneet\n\nCreate a static Map and keep adding hard references to it.  Those will never be garbage collected.public class Leaker {\n    private static final Map<String, Object> CACHE = new HashMap<String, Object>();\n\n    // Keep adding until failure.\n    public static void addToCache(String key, Object value) { Leaker.CACHE.put(key, value); }\n}ShareImprove this answerFolloweditedNov 21, 2020 at 6:09community wiki3 revs, 2 users 79%duffymo\n\nEveryone always forgets the native code route.  Here\'s a simple formula for a leak:Declare a native method.In the native method, callmalloc. Don\'t callfree.Call the native method.Remember, memory allocations in native code come from the JVM heap.ShareImprove this answerFolloweditedMay 12, 2021 at 21:17community wiki2 revs, 2 users 74%Paul Morie\n\nYou can create a moving memory leak by creating a new instance of a class in that class\'s finalize method. Bonus points if the finalizer creates multiple instances. Here\'s a simple program that leaks the entire heap in sometime between a few seconds and a few minutes depending on your heap size:class Leakee {\n    public void check() {\n        if (depth > 2) {\n            Leaker.done();\n        }\n    }\n    private int depth;\n    public Leakee(int d) {\n        depth = d;\n    }\n    protected void finalize() {\n        new Leakee(depth + 1).check();\n        new Leakee(depth + 1).check();\n    }\n}\n\npublic class Leaker {\n    private static boolean makeMore = true;\n    public static void done() {\n        makeMore = false;\n    }\n    public static void main(String[] args) throws InterruptedException {\n        // make a bunch of them until the garbage collector gets active\n        while (makeMore) {\n            new Leakee(0).check();\n        }\n        // sit back and watch the finalizers chew through memory\n        while (true) {\n            Thread.sleep(1000);\n            System.out.println(""memory="" +\n                    Runtime.getRuntime().freeMemory() + "" / "" +\n                    Runtime.getRuntime().totalMemory());\n        }\n    }\n}ShareImprove this answerFollowansweredJul 22, 2011 at 8:05community wikisethobrien\n\nI don\'t think anyone has said this yet: you can resurrect an object by overriding the finalize() method such that finalize() stores a reference of this somewhere. The garbage collector will only be called once on the object so after that the object will never destroyed.ShareImprove this answerFollowansweredJul 3, 2011 at 17:36community wikiBen\n\nI came across a more subtle kind of resource leak recently.\nWe open resources via class loader\'s getResourceAsStream and it happened that the input stream handles were not closed.Uhm, you might say, what an idiot.Well, what makes this interesting is: this way, you can leak heap memory of the underlying process, rather than from JVM\'s heap.All you need is a jar file with a file inside which will be referenced from Java code. The bigger the jar file, the quicker memory gets allocated.You can easily create such a jar with the following class:import java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.util.zip.ZipEntry;\nimport java.util.zip.ZipOutputStream;\n\npublic class BigJarCreator {\n    public static void main(String[] args) throws IOException {\n        ZipOutputStream zos = new ZipOutputStream(new FileOutputStream(new File(""big.jar"")));\n        zos.putNextEntry(new ZipEntry(""resource.txt""));\n        zos.write(""not too much in here"".getBytes());\n        zos.closeEntry();\n        zos.putNextEntry(new ZipEntry(""largeFile.out""));\n        for (int i=0 ; i<10000000 ; i++) {\n            zos.write((int) (Math.round(Math.random()*100)+20));\n        }\n        zos.closeEntry();\n        zos.close();\n    }\n}Just paste into a file named BigJarCreator.java, compile and run it from command line:javac BigJarCreator.java\njava -cp . BigJarCreatorEt voilà: you find a jar archive in your current working directory with two files inside.Let\'s create a second class:public class MemLeak {\n    public static void main(String[] args) throws InterruptedException {\n        int ITERATIONS=100000;\n        for (int i=0 ; i<ITERATIONS ; i++) {\n            MemLeak.class.getClassLoader().getResourceAsStream(""resource.txt"");\n        }\n        System.out.println(""finished creation of streams, now waiting to be killed"");\n\n        Thread.sleep(Long.MAX_VALUE);\n    }\n\n}This class basically does nothing, but create unreferenced InputStream objects. Those objects will be garbage collected immediately and thus, do not contribute to heap size.\nIt is important for our example to load an existing resource from a jar file, and size does matter here!If you\'re doubtful, try to compile and start the class above, but make sure to chose a decent heap size (2 MB):javac MemLeak.java\njava -Xmx2m -classpath .:big.jar MemLeakYou will not encounter an OOM error here, as no references are kept, the application will keep running no matter how large you chose ITERATIONS in the above example.\nThe memory consumption of your process (visible in top (RES/RSS) or process explorer) grows unless the application gets to the wait command. In the setup above, it will allocate around 150 MB in memory.If you want the application to play safe, close the input stream right where it\'s created:MemLeak.class.getClassLoader().getResourceAsStream(""resource.txt"").close();and your process will not exceed 35 MB, independent of the iteration count.Quite simple and surprising.ShareImprove this answerFollowansweredSep 12, 2012 at 20:07community wikiJay\n\nAnother way to create potentially huge memory leaks is to hold references toMap.Entry<K,V>of aTreeMap.It is hard to asses why this applies only toTreeMaps, but by looking at the implementation the reason might be that: aTreeMap.Entrystores references to its siblings, therefore if aTreeMapis ready to be collected, but some other class holds a reference to any of itsMap.Entry, then theentireMap will be retained into memory.Real-life scenario:Imagine having a db query that returns a bigTreeMapdata structure. People usually useTreeMaps as the element insertion order is retained.public static Map<String, Integer> pseudoQueryDatabase();If the query was called lots of times and, for each query (so, for eachMapreturned) you save anEntrysomewhere, the memory would constantly keep growing.Consider the following wrapper class:class EntryHolder {\n    Map.Entry<String, Integer> entry;\n\n    EntryHolder(Map.Entry<String, Integer> entry) {\n        this.entry = entry;\n    }\n}Application:public class LeakTest {\n\n    private final List<EntryHolder> holdersCache = new ArrayList<>();\n    private static final int MAP_SIZE = 100_000;\n\n    public void run() {\n        // create 500 entries each holding a reference to an Entry of a TreeMap\n        IntStream.range(0, 500).forEach(value -> {\n            // create map\n            final Map<String, Integer> map = pseudoQueryDatabase();\n\n            final int index = new Random().nextInt(MAP_SIZE);\n\n            // get random entry from map\n            for (Map.Entry<String, Integer> entry : map.entrySet()) {\n                if (entry.getValue().equals(index)) {\n                    holdersCache.add(new EntryHolder(entry));\n                    break;\n                }\n            }\n            // to observe behavior in visualvm\n            try {\n                Thread.sleep(500);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        });\n\n    }\n\n    public static Map<String, Integer> pseudoQueryDatabase() {\n        final Map<String, Integer> map = new TreeMap<>();\n        IntStream.range(0, MAP_SIZE).forEach(i -> map.put(String.valueOf(i), i));\n        return map;\n    }\n\n    public static void main(String[] args) throws Exception {\n        new LeakTest().run();\n    }\n}After eachpseudoQueryDatabase()call, themapinstances should be ready for collection, but it won\'t happen, as at least oneEntryis stored somewhere else.Depending on yourjvmsettings, the application may crash in the early stage due to aOutOfMemoryError.You can see from thisvisualvmgraph how the memory keeps growing.The same does not happen with a hashed data-structure (HashMap).This is the graph when using aHashMap.The solution?Just directly save the key / value (as you probably already do) rather than saving theMap.Entry.I have written a more extensive benchmarkhere.ShareImprove this answerFolloweditedJun 18, 2018 at 7:28community wiki6 revsMarko Pacak\n\nAs a lot of people have suggested,resource leaksare fairly easy to cause - like theJDBCexamples. Actualmemoryleaks are a bit harder - especially if you aren\'t relying on broken bits of the JVM to do it for you...The ideas of creating objects that have a very large footprint and then not being able to access them aren\'t real memory leaks either. If nothing can access it then it will be garbage collected, and if something can access it then it\'s not a leak...One way thatusedto work though - and I don\'t know if it still does - is to have a three-deep circular chain. As in Object A has a reference to Object B, Object B has a reference to Object C and Object C has a reference to Object A. The GC was clever enough to know that a two deep chain - as in A <--> B - can safely be collected if A and B aren\'t accessible by anything else, but couldn\'t handle the three-way chain...ShareImprove this answerFolloweditedMay 12, 2021 at 21:16community wiki2 revs, 2 users 67%Graham\n\nThere are many good examples of memory leaks in Java, and I will mention two of them in this answer.Example 1:Here is a good example of a memory leak from the bookEffective Java, Third Edition(item 7: Eliminate obsolete object references):// Can you spot the ""memory leak""?\npublic class Stack {\n    private static final int DEFAULT_INITIAL_CAPACITY = 16;\n    private Object[] elements;\n    private int size = 0;\n\n    public Stack() {\n        elements = new Object[DEFAULT_INITIAL_CAPACITY];\n    }\n\n    public void push(Object e) {\n        ensureCapacity();\n        elements[size++] = e;\n    }\n\n    public Object pop() {\n        if (size == 0) throw new EmptyStackException();\n        return elements[--size];\n    }\n\n    /*** Ensure space for at least one more element, roughly* doubling the capacity each time the array needs to grow.*/\n    private void ensureCapacity() {\n        if (elements.length == size) elements = Arrays.copyOf(elements, 2 * size + 1);\n    }\n}This is the paragraph of the book that describes why this implementation will cause a memory leak:If a stack grows and then shrinks, the objects that were popped off the\nstack will not be garbage collected, even if the program using  the\nstack  has  no  more  references  to  them.  This  is  because  the\nstack  maintains obsolete references to these objects. An obsolete\nreference is simply a reference that will never be dereferenced\nagain. In this case, any references outside of the “active portion” of\nthe element array are obsolete. The active portion consists of the\nelements whose index is less than sizeHere is the solution of the book to tackle this memory leak:The  fix  for  this  sort  of  problem  is  simple:  null  out\nreferences  once  they become obsolete. In the case of our Stack class,\nthe reference to an item becomes obsolete  as  soon  as  it’s  popped\noff  the  stack. The  corrected  version  of  the  pop method looks like this:public Object pop() {\n    if (size == 0) throw new EmptyStackException();\n    Object result = elements[--size];\n    elements[size] = null; // Eliminate obsolete reference\n    return result;\n}But how can we prevent a memory leak from happening? This is a good caveat from the book:Generally  speaking,  whenever  a  class  manages  its  own  memory,\nthe  programmer should be alert for memory leaks. Whenever an element\nis freed, any object references contained in the element should be\nnulled out.Example 2:Theobserver patternalso can cause a memory leak. You can read about this pattern in the following link:Observer pattern.This is one implementation of the Observer pattern:class EventSource {\n    public interface Observer {\n        void update(String event);\n    }\n\n    private final List<Observer> observers = new ArrayList<>();\n\n    private void notifyObservers(String event) {\n        observers.forEach(observer -> observer.update(event)); //alternative lambda expression: observers.forEach(Observer::update);\n    }\n\n    public void addObserver(Observer observer) {\n        observers.add(observer);\n    }\n\n    public void scanSystemIn() {\n        Scanner scanner = new Scanner(System.in);\n        while (scanner.hasNextLine()) {\n            String line = scanner.nextLine();\n            notifyObservers(line);\n        }\n    }\n}In this implementation,EventSource, which is Observable in the Observer design pattern, can hold links toObserverobjects, but this link is never removed from theobserversfield inEventSource. So they will never be collected by the garbage collector. One solution to tackle this problem is providing another method to the client for removing the aforementioned observers from theobserversfield when they don\'t need those observers anymore:public void removeObserver(Observer observer) {\n    observers.remove(observer);\n}ShareImprove this answerFolloweditedSep 14, 2022 at 14:05community wiki6 revs, 3 users 71%Tashkhisi\n\nThreads are not collected until they terminate. They serve asrootsof garbage collection. They are one of the few objects that won\'t be reclaimed simply by forgetting about them or clearing references to them.Consider: the basic pattern to terminate a worker thread is to set some condition variable seen by the thread. The thread can check the variable periodically and use that as a signal to terminate. If the variable is not declaredvolatile, then the change to the variable might not be seen by the thread, so it won\'t know to terminate. Or imagine if some threads want to update a shared object, but deadlock while trying to lock on it.If you only have a handful of threads these bugs will probably be obvious because your program will stop working properly. If you have a thread pool that creates more threads as needed, then the obsolete/stuck threads might not be noticed, and will accumulate indefinitely, causing a memory leak. Threads are likely to use other data in your application, so will also prevent anything they directly reference from ever being collected.As a toy example:static void leakMe(final Object object) {\n    new Thread() {\n        public void run() {\n            Object o = object;\n            for (;;) {\n                try {\n                    sleep(Long.MAX_VALUE);\n                } catch (InterruptedException e) {}\n            }\n        }\n    }.start();\n}CallSystem.gc()all you like, but the object passed toleakMewill never die.ShareImprove this answerFolloweditedMay 12, 2021 at 21:45community wiki4 revs, 3 users 73%Boann\n\nThe interviewer might have been looking for a circular reference solution:public static void main(String[] args) {\n        while (true) {\n            Element first = new Element();\n            first.next = new Element();\n            first.next.next = first;\n        }\n    }This is a classic problem with reference counting garbage collectors.  You would then politely explain that JVMs use a much more sophisticated algorithm that doesn\'t have this limitation.ShareImprove this answerFolloweditedMay 12, 2021 at 21:10community wiki2 revs, 2 users 89%Wesley Tarle'}","{'title': ""How do I calculate someone's age based on a DateTime type birthday?"", 'question': ""Given aDateTimerepresenting a person's birthday, how do I calculate their age in years?c#.netdatetimeShareImprove this questionFolloweditedJul 27, 2022 at 22:34community wiki34 revs, 30 users 30%Shaik Raffi"", 'answers': 'An easy to understand and simple solution.// Save today\'s date.\nvar today = DateTime.Today;\n\n// Calculate the age.\nvar age = today.Year - birthdate.Year;\n\n// Go back to the year in which the person was born in case of a leap year\nif (birthdate.Date > today.AddYears(-age)) age--;However, this assumes you are looking for thewesternidea of the age and not usingEast Asian reckoning.ShareImprove this answerFolloweditedSep 7, 2020 at 9:43community wiki29 revs, 18 users 16%Mike Polen\n\nThis is a strange way to do it, but if you format the date toyyyymmddand subtract the date of birth from the current date then drop the last 4 digits you\'ve got the age :)I don\'t know C#, but I believe this will work in any language.20080814 - 19800703 = 280111Drop the last 4 digits =28.C# Code:int now = int.Parse(DateTime.Now.ToString(""yyyyMMdd""));\nint dob = int.Parse(dateOfBirth.ToString(""yyyyMMdd""));\nint age = (now - dob) / 10000;Or alternatively without all the type conversion in the form of an extension method. Error checking omitted:public static Int32 GetAge(this DateTime dateOfBirth)\n{\n    var today = DateTime.Today;\n\n    var a = (today.Year * 100 + today.Month) * 100 + today.Day;\n    var b = (dateOfBirth.Year * 100 + dateOfBirth.Month) * 100 + dateOfBirth.Day;\n\n    return (a - b) / 10000;\n}ShareImprove this answerFolloweditedDec 24, 2019 at 8:46community wiki13 revs, 9 users 29%ScArcher2\n\nHere is a test snippet:DateTime bDay = new DateTime(2000, 2, 29);\nDateTime now = new DateTime(2009, 2, 28);\nMessageBox.Show(string.Format(""Test {0} {1} {2}"",\n                CalculateAgeWrong1(bDay, now),      // outputs 9\n                CalculateAgeWrong2(bDay, now),      // outputs 9\n                CalculateAgeCorrect(bDay, now),     // outputs 8\n                CalculateAgeCorrect2(bDay, now)));  // outputs 8Here you have the methods:public int CalculateAgeWrong1(DateTime birthDate, DateTime now)\n{\n    return new DateTime(now.Subtract(birthDate).Ticks).Year - 1;\n}\n\npublic int CalculateAgeWrong2(DateTime birthDate, DateTime now)\n{\n    int age = now.Year - birthDate.Year;\n\n    if (now < birthDate.AddYears(age))\n        age--;\n\n    return age;\n}\n\npublic int CalculateAgeCorrect(DateTime birthDate, DateTime now)\n{\n    int age = now.Year - birthDate.Year;\n\n    if (now.Month < birthDate.Month || (now.Month == birthDate.Month && now.Day < birthDate.Day))\n        age--;\n\n    return age;\n}\n\npublic int CalculateAgeCorrect2(DateTime birthDate, DateTime now)\n{\n    int age = now.Year - birthDate.Year;\n\n    // For leap years we need this\n    if (birthDate > now.AddYears(-age)) \n        age--;\n    // Don\'t use:\n    // if (birthDate.AddYears(age) > now) \n    //     age--;\n\n    return age;\n}ShareImprove this answerFolloweditedFeb 29, 2020 at 1:15community wiki7 revs, 6 users 58%RMA\n\nThe simple answer to this is to applyAddYearsas shown below because this is the only native method to add years to the 29th of Feb. of leap years and obtain the correct result of the 28th of Feb. for common years.Some feel that 1th of Mar. is the birthday of leaplings but neither .Net nor any official rule supports this, nor does common logic explain why some born in February should have 75% of their birthdays in another month.Further, an Age method lends itself to be added as an extension toDateTime. By this you can obtain the age in the simplest possible way:List itemint age = birthDate.Age();public static class DateTimeExtensions\n{\n    /// <summary>\n    /// Calculates the age in years of the current System.DateTime object today.\n    /// </summary>\n    /// <param name=""birthDate"">The date of birth</param>\n    /// <returns>Age in years today. 0 is returned for a future date of birth.</returns>\n    public static int Age(this DateTime birthDate)\n    {\n        return Age(birthDate, DateTime.Today);\n    }\n\n    /// <summary>\n    /// Calculates the age in years of the current System.DateTime object on a later date.\n    /// </summary>\n    /// <param name=""birthDate"">The date of birth</param>\n    /// <param name=""laterDate"">The date on which to calculate the age.</param>\n    /// <returns>Age in years on a later day. 0 is returned as minimum.</returns>\n    public static int Age(this DateTime birthDate, DateTime laterDate)\n    {\n        int age;\n        age = laterDate.Year - birthDate.Year;\n\n        if (age > 0)\n        {\n            age -= Convert.ToInt32(laterDate.Date < birthDate.Date.AddYears(age));\n        }\n        else\n        {\n            age = 0;\n        }\n\n        return age;\n    }\n}Now, run this test:class Program\n{\n    static void Main(string[] args)\n    {\n        RunTest();\n    }\n\n    private static void RunTest()\n    {\n        DateTime birthDate = new DateTime(2000, 2, 28);\n        DateTime laterDate = new DateTime(2011, 2, 27);\n        string iso = ""yyyy-MM-dd"";\n\n        for (int i = 0; i < 3; i++)\n        {\n            for (int j = 0; j < 3; j++)\n            {\n                Console.WriteLine(""Birth date: "" + birthDate.AddDays(i).ToString(iso) + ""  Later date: "" + laterDate.AddDays(j).ToString(iso) + ""  Age: "" + birthDate.AddDays(i).Age(laterDate.AddDays(j)).ToString());\n            }\n        }\n\n        Console.ReadKey();\n    }\n}The critical date example is this:Birth date: 2000-02-29  Later date: 2011-02-28  Age: 11Output:{\n    Birth date: 2000-02-28  Later date: 2011-02-27  Age: 10\n    Birth date: 2000-02-28  Later date: 2011-02-28  Age: 11\n    Birth date: 2000-02-28  Later date: 2011-03-01  Age: 11\n    Birth date: 2000-02-29  Later date: 2011-02-27  Age: 10\n    Birth date: 2000-02-29  Later date: 2011-02-28  Age: 11\n    Birth date: 2000-02-29  Later date: 2011-03-01  Age: 11\n    Birth date: 2000-03-01  Later date: 2011-02-27  Age: 10\n    Birth date: 2000-03-01  Later date: 2011-02-28  Age: 10\n    Birth date: 2000-03-01  Later date: 2011-03-01  Age: 11\n}And for the later date 2012-02-28:{\n    Birth date: 2000-02-28  Later date: 2012-02-28  Age: 12\n    Birth date: 2000-02-28  Later date: 2012-02-29  Age: 12\n    Birth date: 2000-02-28  Later date: 2012-03-01  Age: 12\n    Birth date: 2000-02-29  Later date: 2012-02-28  Age: 11\n    Birth date: 2000-02-29  Later date: 2012-02-29  Age: 12\n    Birth date: 2000-02-29  Later date: 2012-03-01  Age: 12\n    Birth date: 2000-03-01  Later date: 2012-02-28  Age: 11\n    Birth date: 2000-03-01  Later date: 2012-02-29  Age: 11\n    Birth date: 2000-03-01  Later date: 2012-03-01  Age: 12\n}ShareImprove this answerFolloweditedFeb 7, 2016 at 0:05community wiki6 revs, 6 users 86%camelCasus\n\nMy suggestionint age = (int) ((DateTime.Now - bday).TotalDays/365.242199);That seems to have the year changing on the right date. (I spot tested up to age 107.)ShareImprove this answerFolloweditedFeb 29, 2020 at 1:16community wiki4 revs, 4 users 50%James Curran\n\nAnother function, not by me but found on the web and refined it a bit:public static int GetAge(DateTime birthDate)\n{\n    DateTime n = DateTime.Now; // To avoid a race condition around midnight\n    int age = n.Year - birthDate.Year;\n\n    if (n.Month < birthDate.Month || (n.Month == birthDate.Month && n.Day < birthDate.Day))\n        age--;\n\n    return age;\n}Just two things that come into my mind: What about people from countries that do not use the Gregorian calendar? DateTime.Now is in the server-specific culture I think. I have absolutely zero knowledge about actually working with Asian calendars and I do not know if there is an easy way to convert dates between calendars, but just in case you\'re wondering about those Chinese guys from the year 4660 :-)ShareImprove this answerFolloweditedFeb 29, 2020 at 1:31community wiki6 revs, 4 users 74%Michael Stum\n\n2 Main problems to solve are:1. Calculate Exact age- in years, months, days, etc.2. Calculate Generally perceived age- people usually do not care how old they exactly are, they just care when their birthday in the current year is.Solution for1is obvious:DateTime birth = DateTime.Parse(""1.1.2000"");\nDateTime today = DateTime.Today;     //we usually don\'t care about birth time\nTimeSpan age = today - birth;        //.NET FCL should guarantee this as precise\ndouble ageInDays = age.TotalDays;    //total number of days ... also precise\ndouble daysInYear = 365.2425;        //statistical value for 400 years\ndouble ageInYears = ageInDays / daysInYear;  //can be shifted ... not so preciseSolution for2is the one which is not so precise in determing total age, but is perceived as precise by people. People also usually use it, when they calculate their age ""manually"":DateTime birth = DateTime.Parse(""1.1.2000"");\nDateTime today = DateTime.Today;\nint age = today.Year - birth.Year;    //people perceive their age in years\n\nif (today.Month < birth.Month ||\n   ((today.Month == birth.Month) && (today.Day < birth.Day)))\n{\n  age--;  //birthday in current year not yet reached, we are 1 year younger ;)\n          //+ no birthday for 29.2. guys ... sorry, just wrong date for birth\n}Notes to 2.:This is my preferred solutionWe cannot use DateTime.DayOfYear or TimeSpans, as they shift number of days in leap yearsI have put there little more lines for readabilityJust one more note ... I would create 2 static overloaded methods for it, one for universal usage, second for usage-friendliness:public static int GetAge(DateTime bithDay, DateTime today) \n{ \n  //chosen solution method body\n}\n\npublic static int GetAge(DateTime birthDay) \n{ \n  return GetAge(birthDay, DateTime.Now);\n}ShareImprove this answerFolloweditedFeb 7, 2016 at 0:06community wiki5 revs, 2 users 96%Thetam\n\nThe best way that I know of because of leap years and everything is:DateTime birthDate = new DateTime(2000,3,1);\nint age = (int)Math.Floor((DateTime.Now - birthDate).TotalDays / 365.25D);ShareImprove this answerFolloweditedFeb 29, 2020 at 1:31community wiki5 revs, 3 users 62%Nick Berardi\n\nHere\'s a one-liner:int age = new DateTime(DateTime.Now.Subtract(birthday).Ticks).Year-1;ShareImprove this answerFolloweditedFeb 29, 2020 at 1:15community wiki4 revs, 3 users 44%SillyMonkey\n\nThis is the version we use here. It works, and it\'s fairly simple. It\'s the same idea as Jeff\'s but I think it\'s a little clearer because it separates out the logic for subtracting one, so it\'s a little easier to understand.public static int GetAge(this DateTime dateOfBirth, DateTime dateAsAt)\n{\n    return dateAsAt.Year - dateOfBirth.Year - (dateOfBirth.DayOfYear < dateAsAt.DayOfYear ? 0 : 1);\n}You could expand the ternary operator to make it even clearer, if you think that sort of thing is unclear.Obviously this is done as an extension method onDateTime, but clearly you can grab that one line of code that does the work and put it anywhere. Here we have another overload of the Extension method that passes inDateTime.Now, just for completeness.ShareImprove this answerFolloweditedDec 24, 2019 at 8:53community wiki3 revs, 3 users 64%David Wengier\n\nThis gives ""more detail"" to this question. Maybe this is what you\'re looking forDateTime birth = new DateTime(1974, 8, 29);\nDateTime today = DateTime.Now;\nTimeSpan span = today - birth;\nDateTime age = DateTime.MinValue + span;\n\n// Make adjustment due to MinValue equalling 1/1/1\nint years = age.Year - 1;\nint months = age.Month - 1;\nint days = age.Day - 1;\n\n// Print out not only how many years old they are but give months and days as well\nConsole.Write(""{0} years, {1} months, {2} days"", years, months, days);ShareImprove this answerFolloweditedOct 15, 2013 at 12:16community wiki2 revs, 2 users 70%Jacqueline Loriault\n\nI use this:public static class DateTimeExtensions\n{\n    public static int Age(this DateTime birthDate)\n    {\n        return Age(birthDate, DateTime.Now);\n    }\n\n    public static int Age(this DateTime birthDate, DateTime offsetDate)\n    {\n        int result=0;\n        result = offsetDate.Year - birthDate.Year;\n\n        if (offsetDate.DayOfYear < birthDate.DayOfYear)\n        {\n              result--;\n        }\n\n        return result;\n    }\n}ShareImprove this answerFolloweditedJun 3, 2015 at 11:10community wiki4 revs, 4 users 78%Elmer\n\nHere\'s yet another answer:public static int AgeInYears(DateTime birthday, DateTime today)\n{\n    return ((today.Year - birthday.Year) * 372 + (today.Month - birthday.Month) * 31 + (today.Day - birthday.Day)) / 372;\n}This has been extensively unit-tested. It does look a bit ""magic"". The number 372 is the number of days there would be in a year if every month had 31 days.The explanation of why it works (lifted from here) is:Let\'s setYn = DateTime.Now.Year, Yb = birthday.Year, Mn = DateTime.Now.Month, Mb = birthday.Month, Dn = DateTime.Now.Day, Db = birthday.Dayage = Yn - Yb + (31*(Mn - Mb) + (Dn - Db)) / 372We know that what we need is eitherYn-Ybif the date has already been reached,Yn-Yb-1if it has not.a) IfMn<Mb, we have-341 <= 31*(Mn-Mb) <= -31 and -30 <= Dn-Db <= 30-371 <= 31*(Mn - Mb) + (Dn - Db) <= -1With integer division(31*(Mn - Mb) + (Dn - Db)) / 372 = -1b) IfMn=MbandDn<Db, we have31*(Mn - Mb) = 0 and -30 <= Dn-Db <= -1With integer division, again(31*(Mn - Mb) + (Dn - Db)) / 372 = -1c) IfMn>Mb, we have31 <= 31*(Mn-Mb) <= 341 and -30 <= Dn-Db <= 301 <= 31*(Mn - Mb) + (Dn - Db) <= 371With integer division(31*(Mn - Mb) + (Dn - Db)) / 372 = 0d) IfMn=MbandDn>Db, we have31*(Mn - Mb) = 0 and 1 <= Dn-Db <= 30With integer division, again(31*(Mn - Mb) + (Dn - Db)) / 372 = 0e) IfMn=MbandDn=Db, we have31*(Mn - Mb) + Dn-Db = 0and therefore(31*(Mn - Mb) + (Dn - Db)) / 372 = 0ShareImprove this answerFolloweditedJun 20, 2020 at 9:12community wiki3 revs, 3 users 83%Matthew Watson\n\nI have created a SQL Server User Defined Function to calculate someone\'s age, given their birthdate. This is useful when you need it as part of a query:using System;\nusing System.Data;\nusing System.Data.Sql;\nusing System.Data.SqlClient;\nusing System.Data.SqlTypes;\nusing Microsoft.SqlServer.Server;\n\npublic partial class UserDefinedFunctions\n{\n    [SqlFunction(DataAccess = DataAccessKind.Read)]\n    public static SqlInt32 CalculateAge(string strBirthDate)\n    {\n        DateTime dtBirthDate = new DateTime();\n        dtBirthDate = Convert.ToDateTime(strBirthDate);\n        DateTime dtToday = DateTime.Now;\n\n        // get the difference in years\n        int years = dtToday.Year - dtBirthDate.Year;\n\n        // subtract another year if we\'re before the\n        // birth day in the current year\n        if (dtToday.Month < dtBirthDate.Month || (dtToday.Month == dtBirthDate.Month && dtToday.Day < dtBirthDate.Day))\n            years=years-1;\n\n        int intCustomerAge = years;\n        return intCustomerAge;\n    }\n};ShareImprove this answerFolloweditedFeb 7, 2016 at 0:07community wiki3 revs, 3 users 95%user2601\n\nI\'ve spent some time working on this and came up with this to calculate someone\'s age in years, months and days. I\'ve tested against the Feb 29th problem and leap years and it seems to work, I\'d appreciate any feedback:public void LoopAge(DateTime myDOB, DateTime FutureDate)\n{\n    int years = 0;\n    int months = 0;\n    int days = 0;\n\n    DateTime tmpMyDOB = new DateTime(myDOB.Year, myDOB.Month, 1);\n\n    DateTime tmpFutureDate = new DateTime(FutureDate.Year, FutureDate.Month, 1);\n\n    while (tmpMyDOB.AddYears(years).AddMonths(months) < tmpFutureDate)\n    {\n        months++;\n\n        if (months > 12)\n        {\n            years++;\n            months = months - 12;\n        }\n    }\n\n    if (FutureDate.Day >= myDOB.Day)\n    {\n        days = days + FutureDate.Day - myDOB.Day;\n    }\n    else\n    {\n        months--;\n\n        if (months < 0)\n        {\n            years--;\n            months = months + 12;\n        }\n\n        days +=\n            DateTime.DaysInMonth(\n                FutureDate.AddMonths(-1).Year, FutureDate.AddMonths(-1).Month\n            ) + FutureDate.Day - myDOB.Day;\n\n    }\n\n    //add an extra day if the dob is a leap day\n    if (DateTime.IsLeapYear(myDOB.Year) && myDOB.Month == 2 && myDOB.Day == 29)\n    {\n        //but only if the future date is less than 1st March\n        if (FutureDate >= new DateTime(FutureDate.Year, 3, 1))\n            days++;\n    }\n\n}ShareImprove this answerFolloweditedFeb 7, 2016 at 0:07community wiki3 revs, 3 users 69%Jon\n\nDo we need to consider people who is smaller than 1 year? as Chinese culture, we describe small babies\' age as 2 months or 4 weeks.Below is my implementation, it is not as simple as what I imagined, especially to deal with date like 2/28.public static string HowOld(DateTime birthday, DateTime now)\n{\n    if (now < birthday)\n        throw new ArgumentOutOfRangeException(""birthday must be less than now."");\n\n    TimeSpan diff = now - birthday;\n    int diffDays = (int)diff.TotalDays;\n\n    if (diffDays > 7)//year, month and week\n    {\n        int age = now.Year - birthday.Year;\n\n        if (birthday > now.AddYears(-age))\n            age--;\n\n        if (age > 0)\n        {\n            return age + (age > 1 ? "" years"" : "" year"");\n        }\n        else\n        {// month and week\n            DateTime d = birthday;\n            int diffMonth = 1;\n\n            while (d.AddMonths(diffMonth) <= now)\n            {\n                diffMonth++;\n            }\n\n            age = diffMonth-1;\n\n            if (age == 1 && d.Day > now.Day)\n                age--;\n\n            if (age > 0)\n            {\n                return age + (age > 1 ? "" months"" : "" month"");\n            }\n            else\n            {\n                age = diffDays / 7;\n                return age + (age > 1 ? "" weeks"" : "" week"");\n            }\n        }\n    }\n    else if (diffDays > 0)\n    {\n        int age = diffDays;\n        return age + (age > 1 ? "" days"" : "" day"");\n    }\n    else\n    {\n        int age = diffDays;\n        return ""just born"";\n    }\n}This implementation has passed below test cases.[TestMethod]\npublic void TestAge()\n{\n    string age = HowOld(new DateTime(2011, 1, 1), new DateTime(2012, 11, 30));\n    Assert.AreEqual(""1 year"", age);\n\n    age = HowOld(new DateTime(2011, 11, 30), new DateTime(2012, 11, 30));\n    Assert.AreEqual(""1 year"", age);\n\n    age = HowOld(new DateTime(2001, 1, 1), new DateTime(2012, 11, 30));\n    Assert.AreEqual(""11 years"", age);\n\n    age = HowOld(new DateTime(2012, 1, 1), new DateTime(2012, 11, 30));\n    Assert.AreEqual(""10 months"", age);\n\n    age = HowOld(new DateTime(2011, 12, 1), new DateTime(2012, 11, 30));\n    Assert.AreEqual(""11 months"", age);\n\n    age = HowOld(new DateTime(2012, 10, 1), new DateTime(2012, 11, 30));\n    Assert.AreEqual(""1 month"", age);\n\n    age = HowOld(new DateTime(2008, 2, 28), new DateTime(2009, 2, 28));\n    Assert.AreEqual(""1 year"", age);\n\n    age = HowOld(new DateTime(2008, 3, 28), new DateTime(2009, 2, 28));\n    Assert.AreEqual(""11 months"", age);\n\n    age = HowOld(new DateTime(2008, 3, 28), new DateTime(2009, 3, 28));\n    Assert.AreEqual(""1 year"", age);\n\n    age = HowOld(new DateTime(2009, 1, 28), new DateTime(2009, 2, 28));\n    Assert.AreEqual(""1 month"", age);\n\n    age = HowOld(new DateTime(2009, 2, 1), new DateTime(2009, 3, 1));\n    Assert.AreEqual(""1 month"", age);\n\n    // NOTE.\n    // new DateTime(2008, 1, 31).AddMonths(1) == new DateTime(2009, 2, 28);\n    // new DateTime(2008, 1, 28).AddMonths(1) == new DateTime(2009, 2, 28);\n    age = HowOld(new DateTime(2009, 1, 31), new DateTime(2009, 2, 28));\n    Assert.AreEqual(""4 weeks"", age);\n\n    age = HowOld(new DateTime(2009, 2, 1), new DateTime(2009, 2, 28));\n    Assert.AreEqual(""3 weeks"", age);\n\n    age = HowOld(new DateTime(2009, 2, 1), new DateTime(2009, 3, 1));\n    Assert.AreEqual(""1 month"", age);\n\n    age = HowOld(new DateTime(2012, 11, 5), new DateTime(2012, 11, 30));\n    Assert.AreEqual(""3 weeks"", age);\n\n    age = HowOld(new DateTime(2012, 11, 1), new DateTime(2012, 11, 30));\n    Assert.AreEqual(""4 weeks"", age);\n\n    age = HowOld(new DateTime(2012, 11, 20), new DateTime(2012, 11, 30));\n    Assert.AreEqual(""1 week"", age);\n\n    age = HowOld(new DateTime(2012, 11, 25), new DateTime(2012, 11, 30));\n    Assert.AreEqual(""5 days"", age);\n\n    age = HowOld(new DateTime(2012, 11, 29), new DateTime(2012, 11, 30));\n    Assert.AreEqual(""1 day"", age);\n\n    age = HowOld(new DateTime(2012, 11, 30), new DateTime(2012, 11, 30));\n    Assert.AreEqual(""just born"", age);\n\n    age = HowOld(new DateTime(2000, 2, 29), new DateTime(2009, 2, 28));\n    Assert.AreEqual(""8 years"", age);\n\n    age = HowOld(new DateTime(2000, 2, 29), new DateTime(2009, 3, 1));\n    Assert.AreEqual(""9 years"", age);\n\n    Exception e = null;\n\n    try\n    {\n        age = HowOld(new DateTime(2012, 12, 1), new DateTime(2012, 11, 30));\n    }\n    catch (ArgumentOutOfRangeException ex)\n    {\n        e = ex;\n    }\n\n    Assert.IsTrue(e != null);\n}Hope it\'s helpful.ShareImprove this answerFolloweditedFeb 7, 2016 at 0:18community wiki2 revs, 2 users 73%rockXrock\n\nThe simplest way I\'ve ever found is this. It works correctly for the US and western europe locales. Can\'t speak to other locales, especially places like China. 4 extra compares, at most, following the initial computation of age.public int AgeInYears(DateTime birthDate, DateTime referenceDate)\n{\n  Debug.Assert(referenceDate >= birthDate, \n               ""birth date must be on or prior to the reference date"");\n\n  DateTime birth = birthDate.Date;\n  DateTime reference = referenceDate.Date;\n  int years = (reference.Year - birth.Year);\n\n  //\n  // an offset of -1 is applied if the birth date has \n  // not yet occurred in the current year.\n  //\n  if (reference.Month > birth.Month);\n  else if (reference.Month < birth.Month) \n    --years;\n  else // in birth month\n  {\n    if (reference.Day < birth.Day)\n      --years;\n  }\n\n  return years ;\n}I was looking over the answers to this and noticed that nobody has made reference to regulatory/legal implications of leap day births. For instance,per Wikipedia, if you\'re born on February 29th in various jurisdictions, you\'re non-leap year birthday varies:In the United Kingdom and Hong Kong: it\'s the ordinal day of the year, so the next day, March 1st is your birthday.In New Zealand: it\'s the previous day, February 28th for the purposes of driver licencing, and March 1st for other purposes.Taiwan: it\'s February 28th.And as near as I can tell, in the US, the statutes are silent on the matter, leaving it up to the common law and to how various regulatory bodies define things in their regulations.To that end, an improvement:public enum LeapDayRule\n{\n  OrdinalDay     = 1 ,\n  LastDayOfMonth = 2 ,\n}\n\nstatic int ComputeAgeInYears(DateTime birth, DateTime reference, LeapYearBirthdayRule ruleInEffect)\n{\n  bool isLeapYearBirthday = CultureInfo.CurrentCulture.Calendar.IsLeapDay(birth.Year, birth.Month, birth.Day);\n  DateTime cutoff;\n\n  if (isLeapYearBirthday && !DateTime.IsLeapYear(reference.Year))\n  {\n    switch (ruleInEffect)\n    {\n      case LeapDayRule.OrdinalDay:\n        cutoff = new DateTime(reference.Year, 1, 1)\n                             .AddDays(birth.DayOfYear - 1);\n        break;\n\n      case LeapDayRule.LastDayOfMonth:\n        cutoff = new DateTime(reference.Year, birth.Month, 1)\n                             .AddMonths(1)\n                             .AddDays(-1);\n        break;\n\n      default:\n        throw new InvalidOperationException();\n    }\n  }\n  else\n  {\n    cutoff = new DateTime(reference.Year, birth.Month, birth.Day);\n  }\n\n  int age = (reference.Year - birth.Year) + (reference >= cutoff ? 0 : -1);\n  return age < 0 ? 0 : age;\n}It should be noted that this code assumes:A western (European) reckoning of age, andA calendar, like the Gregorian calendar that inserts a single leap day at the end of a month.ShareImprove this answerFolloweditedJul 5, 2018 at 3:53community wiki8 revs, 5 users 66%Nicholas Carey\n\nKeeping it simple (and possibly stupid:)).DateTime birth = new DateTime(1975, 09, 27, 01, 00, 00, 00);\nTimeSpan ts = DateTime.Now - birth;\nConsole.WriteLine(""You are approximately "" + ts.TotalSeconds.ToString() + "" seconds old."");ShareImprove this answerFolloweditedDec 24, 2019 at 8:52community wiki2 revs, 2 users 71%user181261\n\nThis is not a direct answer, but more of a philosophical reasoning about the problem at hand from a quasi-scientific point of view.I would argue that the question does not specify the unit nor culture in which to measure age, most answers seem to assume an integer annual representation. The SI-unit for time issecond, ergo the correct generic answer should be (of course assuming normalizedDateTimeand taking no regard whatsoever to relativistic effects):var lifeInSeconds = (DateTime.Now.Ticks - then.Ticks)/TickFactor;In the Christian way of calculating age in years:var then = ... // Then, in this case the birthday\nvar now = DateTime.UtcNow;\nint age = now.Year - then.Year;\nif (now.AddYears(-age) < then) age--;In finance there is a similar problem when calculating something often referred to as theDay Count Fraction, which roughly is a number of years for a given period. And the age issue is really a time measuring issue.Example for the actual/actual (counting all days ""correctly"") convention:DateTime start, end = .... // Whatever, assume start is before end\n\ndouble startYearContribution = 1 - (double) start.DayOfYear / (double) (DateTime.IsLeapYear(start.Year) ? 366 : 365);\ndouble endYearContribution = (double)end.DayOfYear / (double)(DateTime.IsLeapYear(end.Year) ? 366 : 365);\ndouble middleContribution = (double) (end.Year - start.Year - 1);\n\ndouble DCF = startYearContribution + endYearContribution + middleContribution;Another quite common way to measure time generally is by ""serializing"" (the dude who named this date convention must seriously have been trippin\'):DateTime start, end = .... // Whatever, assume start is before end\nint days = (end - start).Days;I wonder how long we have to go before a relativistic age in seconds becomes more useful than the rough approximation of earth-around-sun-cycles during one\'s lifetime so far :) Or in other words, when a period must be given a location or a function representing motion for itself to be valid :)ShareImprove this answerFolloweditedOct 31, 2017 at 11:32community wiki2 revs, 2 users 97%flindeberg\n\nTimeSpan diff = DateTime.Now - birthdayDateTime;\nstring age = String.Format(""{0:%y} years, {0:%M} months, {0:%d}, days old"", diff);I\'m not sure how exactly you\'d like it returned to you, so I just made a readable string.ShareImprove this answerFolloweditedDec 24, 2019 at 8:52community wiki2 revs, 2 users 60%Dakotah Hicock\n\nHere is a solution.DateTime dateOfBirth = new DateTime(2000, 4, 18);\nDateTime currentDate = DateTime.Now;\n\nint ageInYears = 0;\nint ageInMonths = 0;\nint ageInDays = 0;\n\nageInDays = currentDate.Day - dateOfBirth.Day;\nageInMonths = currentDate.Month - dateOfBirth.Month;\nageInYears = currentDate.Year - dateOfBirth.Year;\n\nif (ageInDays < 0)\n{\n    ageInDays += DateTime.DaysInMonth(currentDate.Year, currentDate.Month);\n    ageInMonths = ageInMonths--;\n\n    if (ageInMonths < 0)\n    {\n        ageInMonths += 12;\n        ageInYears--;\n    }\n}\n\nif (ageInMonths < 0)\n{\n    ageInMonths += 12;\n    ageInYears--;\n}\n\nConsole.WriteLine(""{0}, {1}, {2}"", ageInYears, ageInMonths, ageInDays);ShareImprove this answerFolloweditedFeb 22, 2018 at 16:36community wiki2 revs, 2 users 71%Rajeshwaran S P\n\nThis is one of the most accurate answers that is able to resolve the birthday of 29th of Feb compared to any year of 28th Feb.public int GetAge(DateTime birthDate)\n{\n    int age = DateTime.Now.Year - birthDate.Year;\n\n    if (birthDate.DayOfYear > DateTime.Now.DayOfYear)\n        age--;\n\n    return age;\n}ShareImprove this answerFolloweditedFeb 29, 2020 at 1:06community wiki4 revs, 4 users 52%mjb\n\nI have a customized method to calculate age, plus a bonus validation message just in case it helps:public void GetAge(DateTime dob, DateTime now, out int years, out int months, out int days)\n{\n    years = 0;\n    months = 0;\n    days = 0;\n\n    DateTime tmpdob = new DateTime(dob.Year, dob.Month, 1);\n    DateTime tmpnow = new DateTime(now.Year, now.Month, 1);\n\n    while (tmpdob.AddYears(years).AddMonths(months) < tmpnow)\n    {\n        months++;\n        if (months > 12)\n        {\n            years++;\n            months = months - 12;\n        }\n    }\n\n    if (now.Day >= dob.Day)\n        days = days + now.Day - dob.Day;\n    else\n    {\n        months--;\n        if (months < 0)\n        {\n            years--;\n            months = months + 12;\n        }\n        days += DateTime.DaysInMonth(now.AddMonths(-1).Year, now.AddMonths(-1).Month) + now.Day - dob.Day;\n    }\n\n    if (DateTime.IsLeapYear(dob.Year) && dob.Month == 2 && dob.Day == 29 && now >= new DateTime(now.Year, 3, 1))\n        days++;\n\n}   \n\nprivate string ValidateDate(DateTime dob) //This method will validate the date\n{\n    int Years = 0; int Months = 0; int Days = 0;\n\n    GetAge(dob, DateTime.Now, out Years, out Months, out Days);\n\n    if (Years < 18)\n        message =  Years + "" is too young. Please try again on your 18th birthday."";\n    else if (Years >= 65)\n        message = Years + "" is too old. Date of Birth must not be 65 or older."";\n    else\n        return null; //Denotes validation passed\n}Method call here and pass out datetime value (MM/dd/yyyy if server set to USA locale). Replace this with anything a messagebox or any container to display:DateTime dob = DateTime.Parse(""03/10/1982"");  \n\nstring message = ValidateDate(dob);\n\nlbldatemessage.Visible = !StringIsNullOrWhitespace(message);\nlbldatemessage.Text = message ?? """"; //Ternary if message is null then default to empty stringRemember you can format the message any way you like.ShareImprove this answerFolloweditedJan 2, 2018 at 9:45community wiki7 revs, 3 users 49%Knickerless-Noggins\n\nHow about this solution?static string CalcAge(DateTime birthDay)\n{\n    DateTime currentDate = DateTime.Now;         \n    int approximateAge = currentDate.Year - birthDay.Year;\n    int daysToNextBirthDay = (birthDay.Month * 30 + birthDay.Day) - \n        (currentDate.Month * 30 + currentDate.Day) ;\n\n    if (approximateAge == 0 || approximateAge == 1)\n    {                \n        int month =  Math.Abs(daysToNextBirthDay / 30);\n        int days = Math.Abs(daysToNextBirthDay % 30);\n\n        if (month == 0)\n            return ""Your age is: "" + daysToNextBirthDay + "" days"";\n\n        return ""Your age is: "" + month + "" months and "" + days + "" days""; ;\n    }\n\n    if (daysToNextBirthDay > 0)\n        return ""Your age is: "" + --approximateAge + "" Years"";\n\n    return ""Your age is: "" + approximateAge + "" Years""; ;\n}ShareImprove this answerFolloweditedFeb 7, 2016 at 0:14community wiki4 revs, 4 users 66%Doron\n\nprivate int GetAge(int _year, int _month, int _day\n{\n    DateTime yourBirthDate= new DateTime(_year, _month, _day);\n\n    DateTime todaysDateTime = DateTime.Today;\n    int noOfYears = todaysDateTime.Year - yourBirthDate.Year;\n\n    if (DateTime.Now.Month < yourBirthDate.Month ||\n        (DateTime.Now.Month == yourBirthDate.Month && DateTime.Now.Day < yourBirthDate.Day))\n    {\n        noOfYears--;\n    }\n\n    return  noOfYears;\n}ShareImprove this answerFolloweditedFeb 7, 2016 at 0:13community wiki3 revs, 3 users 67%AEMLoviji\n\nThis classic question is deserving of aNoda Timesolution.static int GetAge(LocalDate dateOfBirth)\n{\n    Instant now = SystemClock.Instance.Now;\n\n    // The target time zone is important.\n    // It should align with the *current physical location* of the person\n    // you are talking about.  When the whereabouts of that person are unknown,\n    // then you use the time zone of the person who is *asking* for the age.\n    // The time zone of birth is irrelevant!\n\n    DateTimeZone zone = DateTimeZoneProviders.Tzdb[""America/New_York""];\n\n    LocalDate today = now.InZone(zone).Date;\n\n    Period period = Period.Between(dateOfBirth, today, PeriodUnits.Years);\n\n    return (int) period.Years;\n}Usage:LocalDate dateOfBirth = new LocalDate(1976, 8, 27);\nint age = GetAge(dateOfBirth);You might also be interested in the following improvements:Passing in the clock as anIClock, instead of usingSystemClock.Instance, would improve testability.The target time zone will likely change, so you\'d want aDateTimeZoneparameter as well.See also my blog post on this subject:Handling Birthdays, and Other AnniversariesShareImprove this answerFolloweditedJul 5, 2018 at 3:55community wiki3 revs, 2 users 97%Matt Johnson\n\nSQL version:declare @dd smalldatetime = \'1980-04-01\'\ndeclare @age int = YEAR(GETDATE())-YEAR(@dd)\nif (@dd> DATEADD(YYYY, -@age, GETDATE())) set @age = @age -1\n\nprint @ageShareImprove this answerFollowansweredJun 30, 2016 at 11:24community wikixenedia\n\nThe following approach (extract fromTime Period Library for .NETclassDateDiff) considers the calendar of the culture info:// ----------------------------------------------------------------------\nprivate static int YearDiff( DateTime date1, DateTime date2 )\n{\n  return YearDiff( date1, date2, DateTimeFormatInfo.CurrentInfo.Calendar );\n} // YearDiff\n\n// ----------------------------------------------------------------------\nprivate static int YearDiff( DateTime date1, DateTime date2, Calendar calendar )\n{\n  if ( date1.Equals( date2 ) )\n  {\n    return 0;\n  }\n\n  int year1 = calendar.GetYear( date1 );\n  int month1 = calendar.GetMonth( date1 );\n  int year2 = calendar.GetYear( date2 );\n  int month2 = calendar.GetMonth( date2 );\n\n  // find the the day to compare\n  int compareDay = date2.Day;\n  int compareDaysPerMonth = calendar.GetDaysInMonth( year1, month1 );\n  if ( compareDay > compareDaysPerMonth )\n  {\n    compareDay = compareDaysPerMonth;\n  }\n\n  // build the compare date\n  DateTime compareDate = new DateTime( year1, month2, compareDay,\n    date2.Hour, date2.Minute, date2.Second, date2.Millisecond );\n  if ( date2 > date1 )\n  {\n    if ( compareDate < date1 )\n    {\n      compareDate = compareDate.AddYears( 1 );\n    }\n  }\n  else\n  {\n    if ( compareDate > date1 )\n    {\n      compareDate = compareDate.AddYears( -1 );\n    }\n  }\n  return year2 - calendar.GetYear( compareDate );\n} // YearDiffUsage:// ----------------------------------------------------------------------\npublic void CalculateAgeSamples()\n{\n  PrintAge( new DateTime( 2000, 02, 29 ), new DateTime( 2009, 02, 28 ) );\n  // > Birthdate=29.02.2000, Age at 28.02.2009 is 8 years\n  PrintAge( new DateTime( 2000, 02, 29 ), new DateTime( 2012, 02, 28 ) );\n  // > Birthdate=29.02.2000, Age at 28.02.2012 is 11 years\n} // CalculateAgeSamples\n\n// ----------------------------------------------------------------------\npublic void PrintAge( DateTime birthDate, DateTime moment )\n{\n  Console.WriteLine( ""Birthdate={0:d}, Age at {1:d} is {2} years"", birthDate, moment, YearDiff( birthDate, moment ) );\n} // PrintAgeShareImprove this answerFolloweditedJul 5, 2018 at 3:54community wiki2 revs, 2 users 99%user687474\n\nThis is simple and appears to be accurate for my needs. I am making an assumption for the purpose of leap years that regardless of when the person chooses to celebrate the birthday they are not technically a year older until 365 days have passed since their last birthday (i.e 28th February does not make them a year older).DateTime now = DateTime.Today;\nDateTime birthday = new DateTime(1991, 02, 03);//3rd feb\n\nint age = now.Year - birthday.Year;\n\nif (now.Month < birthday.Month || (now.Month == birthday.Month && now.Day < birthday.Day))//not had bday this year yet\n  age--;\n\nreturn age;ShareImprove this answerFolloweditedJan 30, 2021 at 8:44community wiki3 revs, 3 users 89%musefan\n\nI used ScArcher2\'s solution for an accurate Year calculation of a persons age but I needed to take it further and calculate their Months and Days along with the Years.public static Dictionary<string,int> CurrentAgeInYearsMonthsDays(DateTime? ndtBirthDate, DateTime? ndtReferralDate)\n    {\n        //----------------------------------------------------------------------\n        // Can\'t determine age if we don\'t have a dates.\n        //----------------------------------------------------------------------\n        if (ndtBirthDate == null) return null;\n        if (ndtReferralDate == null) return null;\n\n        DateTime dtBirthDate = Convert.ToDateTime(ndtBirthDate);\n        DateTime dtReferralDate = Convert.ToDateTime(ndtReferralDate);\n\n        //----------------------------------------------------------------------\n        // Create our Variables\n        //----------------------------------------------------------------------\n        Dictionary<string, int> dYMD = new Dictionary<string,int>();\n        int iNowDate, iBirthDate, iYears, iMonths, iDays;\n        string sDif = """";\n\n        //----------------------------------------------------------------------\n        // Store off current date/time and DOB into local variables\n        //---------------------------------------------------------------------- \n        iNowDate = int.Parse(dtReferralDate.ToString(""yyyyMMdd""));\n        iBirthDate = int.Parse(dtBirthDate.ToString(""yyyyMMdd""));\n\n        //----------------------------------------------------------------------\n        // Calculate Years\n        //----------------------------------------------------------------------\n        sDif = (iNowDate - iBirthDate).ToString();\n        iYears = int.Parse(sDif.Substring(0, sDif.Length - 4));\n\n        //----------------------------------------------------------------------\n        // Store Years in Return Value\n        //----------------------------------------------------------------------\n        dYMD.Add(""Years"", iYears);\n\n        //----------------------------------------------------------------------\n        // Calculate Months\n        //----------------------------------------------------------------------\n        if (dtBirthDate.Month > dtReferralDate.Month)\n            iMonths = 12 - dtBirthDate.Month + dtReferralDate.Month - 1;\n        else\n            iMonths = dtBirthDate.Month - dtReferralDate.Month;\n\n        //----------------------------------------------------------------------\n        // Store Months in Return Value\n        //----------------------------------------------------------------------\n        dYMD.Add(""Months"", iMonths);\n\n        //----------------------------------------------------------------------\n        // Calculate Remaining Days\n        //----------------------------------------------------------------------\n        if (dtBirthDate.Day > dtReferralDate.Day)\n            //Logic: Figure out the days in month previous to the current month, or the admitted month.\n            //       Subtract the birthday from the total days which will give us how many days the person has lived since their birthdate day the previous month.\n            //       then take the referral date and simply add the number of days the person has lived this month.\n\n            //If referral date is january, we need to go back to the following year\'s December to get the days in that month.\n            if (dtReferralDate.Month == 1)\n                iDays = DateTime.DaysInMonth(dtReferralDate.Year - 1, 12) - dtBirthDate.Day + dtReferralDate.Day;       \n            else\n                iDays = DateTime.DaysInMonth(dtReferralDate.Year, dtReferralDate.Month - 1) - dtBirthDate.Day + dtReferralDate.Day;       \n        else\n            iDays = dtReferralDate.Day - dtBirthDate.Day;             \n\n        //----------------------------------------------------------------------\n        // Store Days in Return Value\n        //----------------------------------------------------------------------\n        dYMD.Add(""Days"", iDays);\n\n        return dYMD;\n}ShareImprove this answerFolloweditedOct 14, 2012 at 12:05community wiki3 revs, 2 users 99%Dylan Hayes'}","{'title': 'How do I get PHP errors to display?', 'question': 'I have checked my PHP ini file (php.ini) anddisplay_errorsis set and also error reporting isE_ALL. I have restarted my Apache webserver.I have even put these lines at the top of my script, and it doesn\'t even catch simple parse errors. For example, I declare variables with a""$""and I don\'t close statements"";"". But all my scripts show a blank page on these errors, but I want to actually see theerrorsin my browser output.error_reporting(E_ALL);\nini_set(\'display_errors\', 1);What is left to do?phperror-handlingsyntax-errorerror-reportingShareImprove this questionFolloweditedJan 16, 2020 at 8:18ezio4df3,82766 gold badges1818 silver badges3232 bronze badgesaskedJun 27, 2009 at 19:09AbsAbs57.3k103103 gold badges278278 silver badges412412 bronze badges', 'answers': 'Answer recommended byPHPCollectiveDEV environmentThis always works for me:ini_set(\'display_errors\', \'1\');\nini_set(\'display_startup_errors\', \'1\');\nerror_reporting(E_ALL);However, this doesn\'t make PHP to show parse errors occurred in the same file. Also, these settings can be overridden by PHP. In these cases the only way to show those errors is to modify your php.ini (or php-fpm.conf) with this line:display_errors = on(if you don\'t have access tophp.ini, then putting this line in.htaccessmight work too):php_flag display_errors 1PROD environmentNote that above recommendation is only suitable for the DEV environment. On a live site it must bedisplay_errors = off\nlog_errors = onAnd then you\'ll be able to see all errors in the error log. SeeWhere to find PHP error logAJAX callsIn case of AJAX call, on a DEV server, open DevTools (F12), then Network tab.\nThen initiate the request which result you want to see, and it will appear in the Network tab. Click on it and then the Response tab. There you will see the exact output.While on a live server just check the error log all the same.ShareImprove this answerFolloweditedSep 20, 2023 at 9:07Your Common Sense158k4242 gold badges220220 silver badges354354 bronze badgesansweredJan 29, 2014 at 11:25Fancy JohnFancy John38.9k44 gold badges2828 silver badges2727 bronze badges\n\nYou can\'t catch parse errors in the same file where error output is enabled at runtime, because it parses the file before actually executing anything (and since it encounters an error during this, it won\'t execute anything). You\'ll need to change the actual server configuration so that display_errors is on and the approriate error_reporting level is used. If you don\'t have access to php.ini, you may be able to use .htaccess or similar, depending on the server.This questionmay provide additional info.ShareImprove this answerFolloweditedFeb 3, 2023 at 18:59Your Common Sense158k4242 gold badges220220 silver badges354354 bronze badgesansweredJun 27, 2009 at 19:14Michael MadsenMichael Madsen54.7k88 gold badges7373 silver badges8383 bronze badges\n\nInside yourphp.ini:display_errors = onThen restart your web server.ShareImprove this answerFolloweditedJan 8, 2013 at 9:48j0k22.7k2828 gold badges8080 silver badges9090 bronze badgesansweredJan 8, 2013 at 9:27user1803477user18034771,65511 gold badge1010 silver badges44 bronze badges\n\nTo display all errors you need to:1. Have these lines in the PHP script you\'re calling from the browser (typicallyindex.php):error_reporting(E_ALL);\nini_set(\'display_errors\', \'1\');2.(a) Make sure that this script has no syntax errors—or—2.(b) Setdisplay_errors = Onin yourphp.iniOtherwise, it can\'t even run those 2 lines!You can check for syntax errors in your script by running (at the command line):php -l index.phpIf youincludethe script from another PHP script then itwilldisplay syntax errors in theincludedscript.  For example:index.phperror_reporting(E_ALL);\nini_set(\'display_errors\', \'1\');\n\n// Any syntax errors here will result in a blank screen in the browser\n\ninclude \'my_script.php\';my_script.phpadjfkj // This syntax error will be displayed in the browserShareImprove this answerFolloweditedOct 8, 2018 at 14:44user719662answeredJan 29, 2014 at 9:52andreandre1,87111 gold badge1616 silver badges88 bronze badges\n\nSome web hosting providers allow you to change PHP parameters in the.htaccessfile.You can add the following line:php_value display_errors 1I had the same issue as yours and this solution fixed it.ShareImprove this answerFolloweditedFeb 17, 2019 at 9:34Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMay 18, 2013 at 15:01KalhuaKalhua56944 silver badges22 bronze badges\n\nWarning:the below answer is factually incorrect. Nothing has been changed in error handling, uncaught exceptionsaredisplayed just like other errors. Suggested approach must be used with caution, because it outputs errors unconditionally, despite the display_error setting and may pose a threat by revealing the sensitive information to an outsider on a live site.You might find all of the settings for ""error reporting"" or ""display errors"" do not appear to work in PHP\xa07. That is because error handling has changed. Try this instead:try{\n     // Your code\n} \ncatch(Error $e) {\n    $trace = $e->getTrace();\n    echo $e->getMessage().\' in \'.$e->getFile().\' on line \'.$e->getLine().\' called from \'.$trace[0][\'file\'].\' on line \'.$trace[0][\'line\'];\n}Or, to catch exceptions and errors in one go (this is not backward compatible with PHP\xa05):try{\n     // Your code\n} \ncatch(Throwable $e) {\n    $trace = $e->getTrace();\n    echo $e->getMessage().\' in \'.$e->getFile().\' on line \'.$e->getLine().\' called from \'.$trace[0][\'file\'].\' on line \'.$trace[0][\'line\'];\n}ShareImprove this answerFolloweditedFeb 3, 2023 at 19:11Your Common Sense158k4242 gold badges220220 silver badges354354 bronze badgesansweredMar 28, 2016 at 19:26Frank ForteFrank Forte2,1132020 silver badges1919 bronze badges\n\nThis will work:<?php\n     error_reporting(E_ALL);\n     ini_set(\'display_errors\', 1);    \n?>ShareImprove this answerFolloweditedDec 27, 2016 at 15:20Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMay 5, 2014 at 13:23Mahendra JellaMahendra Jella5,58022 gold badges3434 silver badges3838 bronze badges\n\nUse:ini_set(\'display_errors\', 1);\nini_set(\'display_startup_errors\', 1);\nerror_reporting(E_ALL);This is the best way to write it, but a syntax error gives blank output, so use the console to check for syntax errors. The best way to debug PHP code is to use the console; run the following:php -l phpfilename.phpShareImprove this answerFolloweditedDec 27, 2016 at 15:27Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMay 4, 2016 at 19:14Abhijit JagtapAbhijit Jagtap2,75022 gold badges3131 silver badges4343 bronze badges\n\nSet this in yourindex.phpfile:ini_set(\'display_errors\', 1);\nini_set(\'display_startup_errors\', 1);\nerror_reporting(E_ALL);ShareImprove this answerFolloweditedFeb 17, 2019 at 9:14Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredSep 26, 2017 at 12:32Sumit GuptaSumit Gupta57744 silver badges1212 bronze badges\n\nCreate a file calledphp.iniin the folder where your PHP file resides.Inside php.ini add the following code (I am giving an simple error showing code):display_errors = on\n\ndisplay_startup_errors = onShareImprove this answerFolloweditedDec 27, 2016 at 15:21Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMar 31, 2015 at 18:38NavyaKumarNavyaKumar59755 silver badges33 bronze badges\n\nIn order to display a parse error, instead of settingdisplay_errorsin php.ini you can use a trick: use include.Here are three pieces of code:File: tst1.php<?php\nerror_reporting(E_ALL);\nini_set(\'display_errors\', \'On\');\n// Missing "" and ;\necho ""TestingWhen running this file directly, it will show nothing, givendisplay_errorsis set to 0 in php.ini.Now, try this:File: tst2.php<?php\nerror_reporting(E_ALL);\nini_set(\'display_errors\', \'On\');\ninclude (""tst3.php"");File: tst3.php<?php\n// Missing "" and ;\necho ""TestingNow run tst2.php which sets the error reporting, and then include tst3. You will see:Parse error: syntax error, unexpected end of file, expecting variable (T_VARIABLE) or ${ (T_DOLLAR_OPEN_CURLY_BRACES) or {$ (T_CURLY_OPEN) in tst3.php on line 4ShareImprove this answerFolloweditedFeb 4, 2023 at 8:32Your Common Sense158k4242 gold badges220220 silver badges354354 bronze badgesansweredMay 20, 2017 at 12:07PeterPeter1,3082020 silver badges3434 bronze badges\n\nI would usually go with the following code in my plain PHP projects.if(!defined(\'ENVIRONMENT\')){\n    define(\'ENVIRONMENT\', \'DEVELOPMENT\');\n}\n\n$base_url = null;\n\nif (defined(\'ENVIRONMENT\'))\n{\n    switch (ENVIRONMENT)\n    {\n        case \'DEVELOPMENT\':\n            $base_url = \'http://localhost/product/\';\n            ini_set(\'display_errors\', 1);\n            ini_set(\'display_startup_errors\', 1);\n            error_reporting(E_ALL);\n            break;\n\n        case \'PRODUCTION\':\n            $base_url = \'Production URL\'; /* https://google.com */\n            error_reporting(E_ALL);\n            ini_set(\'display_errors\', 0);\n            ini_set(\'display_startup_errors\', 0);\n            ini_set(\'log_errors\', 1); // Mechanism to log errors\n            break;\n\n        default:\n            exit(\'The application environment is not set correctly.\');\n    }\n}ShareImprove this answerFolloweditedFeb 3, 2023 at 19:25Your Common Sense158k4242 gold badges220220 silver badges354354 bronze badgesansweredFeb 1, 2017 at 7:16Channaveer HakariChannaveer Hakari2,86933 gold badges3636 silver badges4747 bronze badges\n\nIf, despite following all of the above answers (or you can\'t edit your php.ini file), you still can\'t get an error message, try making a new PHP file that enables error reporting and then include the problem file. eg:error_reporting(E_ALL);\nini_set(\'display_errors\', 1);\nrequire_once(\'problem_file.php\');Despite having everything set properly in myphp.inifile, this was the only way I could catch a namespace error. My exact scenario was://file1.php\nnamespace a\\b;\nclass x {\n    ...\n}\n\n//file2.php\nnamespace c\\d;\nuse c\\d\\x; //Dies because it\'s not sure which \'x\' class to use\nclass x {\n    ...\n}ShareImprove this answerFolloweditedJul 18, 2018 at 2:48answeredApr 24, 2015 at 2:55jxmallettjxmallett4,11511 gold badge2929 silver badges3636 bronze badges\n\nIf you somehow find yourself in a situation where you can\'t modifiy the setting viaphp.inior.htaccessyou\'re out of luck for displaying errors when your PHP scripts contain parse errors. You\'d then have to resolve tolinting the files on the command linelike this:find . -name \'*.php\' -type f -print0 | xargs -0 -n1 -P8 php -l | grep -v ""No syntax errors""If your host is so locked down that it does not allow changing the value viaphp.inior.htaccess, it may also disallow changing the value viaini_set. You can check that with the following PHP script:<?php\nif( !ini_set( \'display_errors\', 1 ) ) {\n  echo ""display_errors cannot be set."";\n} else {\n  echo ""changing display_errors via script is possible."";\n}ShareImprove this answerFollowansweredJan 11, 2016 at 12:11chiborgchiborg27.7k1414 gold badges100100 silver badges118118 bronze badges\n\nYou can do something like below:Set the below parameters in your main index file:ini_set(\'display_errors\', 1);\n    ini_set(\'display_startup_errors\', 1);Then based on your requirement you can choose which you want to show:Forallerrors, warnings and notices:error_reporting(E_ALL); OR error_reporting(-1);Forallerrors:error_reporting(E_ERROR);Forallwarnings:error_reporting(E_WARNING);Forallnotices:error_reporting(E_NOTICE);For more information, checkhere.ShareImprove this answerFolloweditedFeb 17, 2019 at 9:26Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredFeb 1, 2017 at 7:33Binit GhetiyaBinit Ghetiya1,96922 gold badges2121 silver badges3232 bronze badges\n\nYou can add your own custom error handler, which can provide extra debug information. Furthermore, you can set it up to send you the information via email.function ERR_HANDLER($errno, $errstr, $errfile, $errline){\n    $msg = ""<b>Something bad happened.</b> [$errno] $errstr <br><br>\n    <b>File:</b> $errfile <br>\n    <b>Line:</b> $errline <br>\n    <pre>"".json_encode(debug_backtrace(), JSON_PRETTY_PRINT).""</pre> <br>"";\n\n    echo $msg;\n\n    return false;\n}\n\nfunction EXC_HANDLER($exception){\n    ERR_HANDLER(0, $exception->getMessage(), $exception->getFile(), $exception->getLine());\n}\n\nfunction shutDownFunction() {\n    $error = error_get_last();\n    if ($error[""type""] == 1) {\n        ERR_HANDLER($error[""type""], $error[""message""], $error[""file""], $error[""line""]);\n    }\n}\n\nset_error_handler (""ERR_HANDLER"", E_ALL & ~E_NOTICE & ~E_STRICT & ~E_DEPRECATED);\nregister_shutdown_function(""shutdownFunction"");\nset_exception_handler(""EXC_HANDLER"");ShareImprove this answerFolloweditedFeb 17, 2019 at 9:17Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJun 4, 2017 at 14:41lintabálintabá77399 silver badges1919 bronze badges\n\nAccepted asnwer including extra options. In PHP files for in my DEVELOPMENT apache vhost (.htaccess if you can ensure it doesn\'t get into production):ini_set(\'display_errors\', \'1\');\nini_set(\'display_startup_errors\', \'1\');\nerror_reporting(E_ALL);However, this doesn\'t make PHP to show parse errors - the only way to show those errors is to modify your php.ini with this line:display_errors = on(if you don\'t have access tophp.ini, then putting this line in.htaccessmight work too):// I\'ve added some extra options that set E_ALL as per https://www.php.net/manual/en/errorfunc.configuration.php.\nphp_flag log_errors on\nphp_flag display_errors on\nphp_flag display_startup_errors on\nphp_value error_reporting 2147483647\nphp_value error_log /var/www/mywebsite.ext/logs/php.error.logShareImprove this answerFollowansweredJan 8, 2022 at 22:17webcoder.co.ukwebcoder.co.uk38133 silver badges55 bronze badges\n\nThis code on top should work:error_reporting(E_ALL);However, try to edit the code on the phone in the file:error_reporting =onShareImprove this answerFolloweditedFeb 17, 2019 at 9:21Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMay 9, 2017 at 3:28Joel WemboJoel Wembo84266 silver badges1010 bronze badges\n\nThe best/easy/fast solution that you can use if it\'s a quick debugging, is to surround your code with catching exceptions. That\'s what I\'m doing when I want to check something fast in production.try {\n    // Page code\n}\ncatch (Exception $e) {\n    echo \'Caught exception: \',  $e->getMessage(), ""\\n"";\n}ShareImprove this answerFolloweditedFeb 17, 2019 at 9:23Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMar 27, 2017 at 2:31XakiruXakiru2,76611 gold badge1616 silver badges1111 bronze badges\n\n<?php\n    // Turn off error reporting\n    error_reporting(0);\n\n    // Report runtime errors\n    error_reporting(E_ERROR | E_WARNING | E_PARSE);\n\n    // Report all errors\n    error_reporting(E_ALL);\n\n    // Same as error_reporting(E_ALL);\n    ini_set(""error_reporting"", E_ALL);\n\n    // Report all errors except E_NOTICE\n    error_reporting(E_ALL & ~E_NOTICE);\n    ?>While your site is live, thephp.inifile should have display_errors disabled for security reasons. However, for the development environment, display_errors can be enabled for troubleshooting.ShareImprove this answerFolloweditedMay 29, 2019 at 11:36Lahiru Mirihagoda1,12311 gold badge1717 silver badges3232 bronze badgesansweredMay 24, 2018 at 8:48pardeeppardeep35911 gold badge55 silver badges77 bronze badges\n\nJust write:error_reporting(-1);ShareImprove this answerFollowansweredJan 13, 2017 at 18:56jewelhuqjewelhuq1,2051515 silver badges1919 bronze badges\n\nIf you haveXdebuginstalled you can override every setting by setting:xdebug.force_display_errors = 1;\nxdebug.force_error_reporting = -1;force_display_errorsType: int, Default value: 0, Introduced in Xdebug >= 2.3 If this\n  setting is set to 1 then errors will always be displayed, no matter\n  what the setting of PHP\'s display_errors is.force_error_reportingType: int, Default value: 0, Introduced in Xdebug >= 2.3\n  This setting is a bitmask, like error_reporting. This bitmask will be logically ORed with the bitmask represented by error_reporting to dermine which errors should be displayed. This setting can only be made in php.ini and allows you to force certain errors from being shown no matter what an application does with ini_set().ShareImprove this answerFolloweditedFeb 17, 2019 at 9:13Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredOct 19, 2017 at 5:45Peter HaberkornPeter Haberkorn25911 silver badge99 bronze badges\n\nIf it is on the command line, you can runphpwith-ddisplay_errors=1to override the setting inphp.ini:php -ddisplay_errors=1 script.phpShareImprove this answerFolloweditedApr 22, 2020 at 14:44Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredOct 24, 2019 at 23:11gvlasovgvlasov19.6k2121 gold badges7878 silver badges116116 bronze badges\n\nIn UnixCLI, it\'s very practical to redirectonly errors to a file:./script 2> errors.logFrom your script, either usevar_dump()or equivalent as usual (both STDOUT and STDERR will receive the output), butto write only in the logfile:fwrite(STDERR, ""Debug infos\\n""); // Write in errors.log^Then from another shell, for live changes:tail -f errors.logor simplywatch cat errors.logShareImprove this answerFolloweditedDec 4, 2020 at 23:56answeredNov 26, 2019 at 2:28NVRMNVRM12.6k11 gold badge9494 silver badges9595 bronze badges\n\nReport all errors except E_NOTICEerror_reporting(E_ALL & ~E_NOTICE);Display all PHP errorserror_reporting(E_ALL);  or ini_set(\'error_reporting\', E_ALL);Turn off all error reportingerror_reporting(0);ShareImprove this answerFollowansweredDec 31, 2019 at 10:07Shaikh NadeemShaikh Nadeem8477 bronze badges\n\nIf you are on a SharedHosting plan (like on hostgator)... simply addingphp_flag display_errors 1into a.htaccessfile and uploading it to the remote folder may not yield the actual warnings/errors that were generated on the server.What you will also need to do is edit thephp.iniThis is how you do it via cPanel (tested on hostgator shared hosting\nplan)After logging into your cPanel, search forMultiPHP INI Editor.\nIt is usually found under the SOFTWARE section in your cPanel list of items.On theMultiPHP INI Editorpage  ...you can stay on thebasic modetab and just check  the button on the line that says display_errors.\nThen click theApplybutton to save.IMPORTANT:Just remember to turn it back off when you are done debugging; because this is not recommended for public servers.ShareImprove this answerFollowansweredMar 13, 2022 at 17:21Really Nice CodeReally Nice Code1,26411 gold badge1414 silver badges2222 bronze badges\n\nAs it is not clear what OS you are on these are my 2 Windows cents.\nIf you are using XAMPP you need to manually create thelogsfolder underC:\\xampp\\php. Not your fault, ApacheFriends ommitted this.To read and follow this file do.Get-Content c:\\xampp\\php\\logs\\php_error_log -WaitTo do this in VSCode create a task in.vscode\\tasks.json{ \n\u202f // See https://go.microsoft.com/fwlink/?LinkId=733558 \n\u202f // for the documentation about the tasks.json format \n\u202f ""version"": ""2.0.0"", \n\u202f ""tasks"": [ \n\u202f \u202f { \n\u202f \u202f \u202f ""label"": ""Monitor php errors"", \n\u202f \u202f \u202f ""type"": ""shell"", \n\u202f \u202f \u202f ""command"": ""Get-Content -Wait c:\\\\xampp\\\\php\\\\logs\\\\php_error_log"", \n\u202f \u202f \u202f ""runOptions"": { \n\u202f \u202f \u202f \u202f ""runOn"": ""folderOpen"" \n\u202f \u202f \u202f } \n\u202f \u202f } \n\u202f ]and have it run on folder load.ShareImprove this answerFollowansweredDec 3, 2022 at 14:40theking2theking22,51622 gold badges3333 silver badges4242 bronze badges'}","{'title': ""What is 'Context' on Android?"", 'question': 'In Android programming, what exactly is aContextclass and what is it used for?I read about it on thedeveloper site, but I am unable to understand it clearly.androidandroid-contextShareImprove this questionFolloweditedNov 4, 2018 at 11:11naXa stands with Ukraine37.1k2424 gold badges202202 silver badges271271 bronze badgesaskedAug 26, 2010 at 6:12BrigadierBrigadier23.4k44 gold badges1818 silver badges99 bronze badges', 'answers': 'Putting it simply:As the name suggests, it\'s the context of the current state of the application/object. It lets newly-created objects understand what has been going on. Typically you call it to get information regarding another part of your program (activity and package/application).You can get the context by invokinggetApplicationContext(),getContext(),getBaseContext()orthis(when in a class that extends fromContext, such as the Application, Activity, Service and IntentService classes).Typical uses of context:Creating new objects:\nCreating new views, adapters, listeners:TextView tv = new TextView(getContext());\n ListAdapter adapter = new SimpleCursorAdapter(getApplicationContext(), ...);Accessing standard common resources:\nServices like LAYOUT_INFLATER_SERVICE, SharedPreferences:context.getSystemService(LAYOUT_INFLATER_SERVICE)\n getApplicationContext().getSharedPreferences(*name*, *mode*);Accessing components implicitly:\nRegarding content providers, broadcasts, intentgetApplicationContext().getContentResolver().query(uri, ...);ShareImprove this answerFolloweditedMay 11, 2021 at 8:26Rahul3,33122 gold badges3434 silver badges4444 bronze badgesansweredAug 26, 2010 at 6:32Sameer SegalSameer Segal22k77 gold badges4444 silver badges5656 bronze badges\n\nDefinition of ContextContext represents environment dataIt provides access to things such as databasesSimpler terms (example 1)Consider Person-X is the CEO of a start-up software company.There is a lead architect present in the company, this lead architect\ndoes all the work in the company which involves such database, UI\netc.Now the CEO has hired a new Developer.It is the Architect who tells the responsibility of the newly hired\nperson based on the skills of the new person and whether he will\nwork on Database or UI etc.Simpler terms (example 2)It\'s like access to Android activity to the app\'s resources.It\'s similar to when you visit a hotel, you want breakfast, lunch &\ndinner in the suitable timings, right?There are many other things you like during the time of stay. How do you get these things?You ask the room service person to bring these things for you.Here the room service person is the context considering you are the\nsingle activity and the hotel to be your app, and finally the breakfast, lunch &\ndinner has to be the resource.Things that involve context are:Loading a resource.Launching a new activity.Creating views.obtaining system service.Context is the base class forActivity,Service,Application, etcAnother way to describe this: Consider context as remote of a TV & channels in the television are resources, services, using intents, etc - - - Here remote acts as an access to get access to all the different resources in the foreground.So, Remote has access to channels such as resources, services, using intents, etc ....Likewise ... Whoever has access to remote naturally has access to all the things such as resources, services, using intents, etcDifferent methods by which you can get contextgetApplicationContext()getContext()getBaseContext()orthis(when in the activity class)Example:TextView tv = new TextView(this);The keywordthisrefers to the context of the current activity.ShareImprove this answerFolloweditedOct 10, 2023 at 13:27oolyvi11711 gold badge22 silver badges1414 bronze badgesansweredAug 20, 2013 at 5:25DevrathDevrath42.7k5555 gold badges202202 silver badges307307 bronze badges\n\nA Context is a handle to the system; it provides services like resolving resources, obtaining access to databases and preferences, and so on. An Android app has activities. Context is like a handle to the environment your application is currently running in. The activity object inherits the Context object.For more information, look inIntroduction to Android development with Android Studio - Tutorial.ShareImprove this answerFolloweditedOct 29, 2018 at 1:27answeredAug 26, 2010 at 6:33angryITguyangryITguy9,48188 gold badges5656 silver badges8484 bronze badges\n\nContextis an ""interface"" to the global information about an application environment. In practice,Contextis actually anabstract class, whose implementation is provided by the Android system.It allows access to application-specific resources and classes, as well as up-calls for application-level operations, such as launching activities, broadcasting and receiving intents, etc.In the following picture, you can see a hierarchy of classes, whereContextis the root class of this hierarchy. In particular, it\'s worth emphasizing thatActivityis a descendant ofContext.ShareImprove this answerFolloweditedOct 26, 2018 at 16:10nbro15.8k3434 gold badges117117 silver badges208208 bronze badgesansweredDec 28, 2012 at 8:05Dmytro DanylykDmytro Danylyk19.8k1111 gold badges6363 silver badges6868 bronze badges\n\nWhat\'sContextexactly?Per the Android reference documentation, it\'s an entity that represents various environment data. It provides access to local files, databases, class loaders associated to the environment, services (including system-level services), and more. Throughout this book, and in your day-to-day coding with Android, you\'ll see the Context passed around frequently.From the ""Android in Practice"" book, p. 60.Several Android APIs require aContextas parameterIf you look through the various Android APIs, you’ll\nnotice that many of them take anandroid.content.Contextobject as a\nparameter. You’ll also see that an Activity or a Service is usually used as aContext. This works because both of these classes extend fromContext.ShareImprove this answerFolloweditedOct 26, 2018 at 15:51nbro15.8k3434 gold badges117117 silver badges208208 bronze badgesansweredApr 28, 2012 at 10:14s0ld13rs0ld13r78566 silver badges99 bronze badges\n\nSimple Example to understandcontextin android :Every boss has an assistant to look after, to do all less important and time-consuming tasks. If a file or a cup of coffee is needed, an assistant is on the run. Some bosses barely know what’s going on in the office, so they ask their assistants regarding this too. They do some work themselves but for most other things they need the help of their assistants.In this scenario,Boss–  is the Android applicationAssistant– is a contextFiles/Cup of coffee– are resourcesWe generally call context when we need to get information about different parts of our application like Activities, Applications, etc.Some operations(things where the assistant is needed) where context is involved:Loading common resourcesCreating dynamic viewsDisplaying Toast messagesLaunching Activities etc.Different ways of getting context:getContext()\n\ngetBaseContext()\n\ngetApplicationContext()\n\nthisShareImprove this answerFolloweditedJun 24, 2020 at 10:35Rahul3,33122 gold badges3434 silver badges4444 bronze badgesansweredMay 2, 2016 at 12:37Parsania HardikParsania Hardik4,60311 gold badge3434 silver badges3434 bronze badges\n\nAn AndroidContextis anInterface(in the general sense, not in the Java sense; in Java,Contextis actually an abstract class!) that allows access to application specific resources and class and information about application environment.If your android app was a web app, your context would be something similar toServletContext(I am not making an exact comparison here).Your activities and services also extendContext, so they inherit all those methods to access the environment information in which the app is running.ShareImprove this answerFolloweditedOct 26, 2018 at 12:47nbro15.8k3434 gold badges117117 silver badges208208 bronze badgesansweredAug 26, 2010 at 6:40naikusnaikus24.5k44 gold badges4444 silver badges4444 bronze badges\n\nContextrepresents a handle to get environment data .Contextclass itself is declared as abstract, whose implementation is provided by the android OS.Contextis like remote of a TV & channel\'s in the television are resources, services, etc.What can you do with it ?Loading resource.Launching a new activity.Creating views.Obtaining system service.Ways to get context :getApplicationContext()getContext()getBaseContext()ShareImprove this answerFolloweditedNov 27, 2018 at 5:10AskNilesh69.2k1616 gold badges129129 silver badges165165 bronze badgesansweredMay 2, 2017 at 10:27user4813855user4813855\n\nJust putting it out there for newbies;So First understand Word Context :In english-lib. it means:""The circumstances that form the setting for an event, statement, or\n  idea, and in terms of which it can be fully understood and assessed.""""The parts of something written or spoken that immediately precede and\n  follow a word or passage and clarify its meaning.""Now take the same understanding to programming world:context of current state of the application/object. It lets newly created objects understand what has been going on. Typically you call it to get information regarding another part of your program (activity, package/application)You can get the context by invokinggetApplicationContext(),getContext(), getBaseContext()orthis(when in the activity class).To Get Context Anywhere in application use following code:Create new classAppContextinside your android applicationpublic class AppContext extends Application {\n\n    private static Context context;\n\n    public void onCreate(){\n        super.onCreate();\n        AppContext.context = getApplicationContext();\n    }\n\n    public static Context getAppContext() {\n        return AppContext.context;\n    }\n}Now any time you want application context in non-activity class, call this method and you have application context.Hope this help ;)ShareImprove this answerFolloweditedJun 4, 2013 at 23:41answeredMay 9, 2013 at 3:23DixitDixit13k44 gold badges5050 silver badges4646 bronze badges\n\nContext is a reference to the current object as this. Also context allows access to information about the application environment.ShareImprove this answerFolloweditedApr 19, 2016 at 18:59Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJul 29, 2011 at 6:17devdasdevdas20122 silver badges33 bronze badges\n\nThink of it as the VM that has siloed the process the app or service is running in.  The siloed environment has access to a bunch of underlying system information and certain permitted resources.  You need that context to get at those services.ShareImprove this answerFolloweditedSep 6, 2012 at 20:26answeredSep 6, 2012 at 20:17ErolErol19111 silver badge55 bronze badges\n\nThe classandroid.content.Contextprovides the connection to the Android system and the resources of the project. It is the interface to global information about the application environment.The Context also provides access to Android Services, e.g. the Location Service.Activities and Services extend theContextclass.ShareImprove this answerFolloweditedSep 14, 2016 at 3:53Vasily Kabunov6,6691313 gold badges5252 silver badges5454 bronze badgesansweredNov 1, 2012 at 19:01Yashvir yadavYashvir yadav18111 silver badge22 bronze badges\n\nThe Context is anabstract class provided by Android, and as such,its job is to bridge your application code with the Android System. Through classes that inherit from Context (activities, services, and your application), your app gains the ability to access resources and functionalities reachable only by the Operating System.When context descendant objects get instantiated by the Operating System(through an OS controlled instantiation mechanism, like ""intents""), they become administered by the Operating System, and as such, they obtain lifecycle.For anything else,passing a context as a parameterin method calls, allows this method to use the context as a channel of communication with the OS, in order to reach the OS and ask it to perform some action or return some resource.Visualising the Context together with the ManifestTo visualize the Android Context and Manifest in action, an old calling centre switchboard is a great analogy.The base is the Android System, where all the wires connecting all the application components of every running app, emerge.Each ""switchboard application"" contains some plugholes, which represent the app\'s manifest component declarations. So through manifest declarations, the Android System learns about the existence of these plugholes so it can plug a new context wire by creating objects through intents.Each wire represents an Android Context connected to some launchable component of the app, or to the app itself. You can use an existing wire since it is connected with the Android System, in order to request all kinds of things that need to go through the Operating System, to be accomplished.You can assume that when an activity is destroyed, its wire gets unplugged. While when another activity (or another component) is constructed, a new wire emerges and connects to the correct manifest-declared plughole.I have written an entire article that explainshow the Context couples your app to the android system:ShareImprove this answerFolloweditedJul 14, 2021 at 11:49answeredJul 4, 2021 at 21:13ioannisaioannisa17311 silver badge66 bronze badges\n\nContextis an interface to global information about an application environment. It\'s an abstract class whose implementation is provided by theAndroidsystem.Contextallows access to application-specific resources and classes, as well as calls for application-level operations such aslaunching activities, broadcasting and receiving intents, etc.Here is Examplepublic class MyActivity extends Activity {\n\n      public void Testing() {\n\n      Context actContext = this; /*returns the Activity Context since   Activity extends Context.*/\n\n      Context appContext = getApplicationContext();    /*returns the context of the single, global Application object of the current process. */\n\n      Button BtnShowAct1 = (Button) findViewById(R.id.btnGoToAct1);\n      Context BtnContext = BtnShowAct1.getContext();   /*returns the context of the View. */For more details you can visithttp://developer.android.com/reference/android/content/Context.htmlShareImprove this answerFollowansweredApr 26, 2015 at 8:49IntelliJ AmiyaIntelliJ Amiya75.6k1515 gold badges168168 silver badges200200 bronze badges\n\nContext is Instances of the the class android.content.Context provide the connection to the Android system which executes the application. For example, you can check the size of the current device display via the Context.It also gives access to the resources of the project. It is the interface to global information about the application environment.The Context class also provides access to Android services, e.g., the alarm manager to trigger time based events.Activities and services extend the Context class. Therefore they can be directly used to access the Context.ShareImprove this answerFollowansweredFeb 6, 2014 at 7:32chandan kumarchandan kumar10111 silver badge33 bronze badges\n\nContext  is context of current state of the application/object.Its an entity that represents various environment data . Context helps the current activity to interact with out side android environment like  local files, databases, class loaders associated to the environment, services including system-level services, and more.A Context is a handle to the system . It provides services like resolving resources, obtaining access to databases and preferences, and so on. An android app has activities. It’s like a handle to the environment your application is currently running in. The activity object inherits the Context object.Different invoking methods by which you can get context\n1. getApplicationContext(),\n2.  getContext(),\n3. getBaseContext()\n4. or this (when in the activity class).ShareImprove this answerFollowansweredJan 4, 2014 at 18:40santoshpatmcasantoshpatmca1,74222 gold badges1414 silver badges99 bronze badges\n\nContext is basically for resource access and getting the environment details of the application(for application context) or activity (for activity context) or any other...In order to avoid memory leak you should use application context for every components that needs a context object.... for more clickhereShareImprove this answerFollowansweredNov 16, 2011 at 5:59Jaber ShabeekJaber Shabeek18633 silver badges1313 bronze badges\n\nPutting simple, AndroidsContextis a mess that you won\'t love until you stop worrying about.AndroidContexts are:God-objects.Thing that you want to pass around all your application when you are starting developing for Android, but will avoid doing it when you get a little bit closer to programming, testing and Android itself.Unclear dependency.Common source of memory leaks.PITA for testing.Actual context used by Android system to dispatch permissions, resources, preferences, services, broadcasts, styles, showing dialogs and inflating layout. And you need differentContextinstances for some separate things (obviously, you can\'t show a dialog from an application or service context; layouts inflated from application and activity contexts may differ).ShareImprove this answerFolloweditedApr 2, 2017 at 21:59answeredApr 2, 2017 at 21:45PavlusPavlus1,67111 gold badge1313 silver badges2424 bronze badges\n\nContext means Android get to know in which activity I should go for or act in.1 -Toast.makeText(context, ""Enter All Details"", Toast.LENGTH_SHORT).show();it used in this.Context context = ActivityName.this;2 -startActivity(new Intent(context,LoginActivity.class));in this context means from which activity you wanna go to other activity.\ncontext or ActivityName.this is faster then , getContext and getApplicatinContext.ShareImprove this answerFolloweditedMay 14, 2019 at 16:51RKRK1,29455 gold badges1414 silver badges1818 bronze badgesansweredJun 24, 2018 at 20:36DevenDeven72488 silver badges1010 bronze badges\n\nBoss Assistant AnalogyLet\'s have a small analogy before diving deep in the technicality of ContextEvery Boss has an assistant or someone( errand boy) who does less\n  important and more time-consuming things for him. For example, if they\n  need a file or coffee then an assistant will be on run. Boss will not\n  know what is going on in the background but the file or the task will\n  be deliveredSo HereBoss - Android ApplicationAssistant - ContextFile or       cup of coffee -   ResourceWhat official Android Developer site says aboutContextContext is your access pointfor application-related resourcesLet\'s see some of such resources or tasksLaunching an activity.Getting an absolute path to the application-specific cache directory on the filesystem.Determining whether the given permission is allowed for a particular process and user ID running in the system.Checking whether you have been granted a particular permission.And so on.So if an Android application wants to start an activity, it goes straight toContext(Access Point), and theContextclass gives him back the resources(Intent in this case).Like any other classContextclass has fields and methods.You can explore more aboutContextin official documentation, it covers pretty much everything, available methods, fields, and even how to use fields with methods.ShareImprove this answerFolloweditedJun 7, 2020 at 22:24Rahul3,33122 gold badges3434 silver badges4444 bronze badgesansweredSep 20, 2017 at 6:51Rohit SinghRohit Singh18k88 gold badges9595 silver badges9494 bronze badges\n\nAContextis what most of us would callApplication. It\'s made by the Android system and is able to do only what an application is able to.\nIn Tomcat, a Context is also what I would call an application.There is one Context that holds many Activities, each Activity may have many Views.Obviously, some will say that it doesn\'t fit because of this or that and they are probably right, but saying that a Context is your current application will help you to understand what you are putting in method parameters.ShareImprove this answerFolloweditedApr 19, 2015 at 15:11answeredOct 20, 2013 at 8:00Nicolas ZozolNicolas Zozol6,94844 gold badges5252 silver badges7474 bronze badges\n\nThe Context is the android specific api to each app-sSandboxthat provides access app private data like to resources, database, private filedirectories, preferences, settings ...Most of the privatedata are the same for all activities/services/broadcastlisteners of one application.Since Application, Activity, Service implement the Context interface they can be used where an api call needs a Context parameterShareImprove this answerFolloweditedApr 12, 2017 at 9:02answeredMar 27, 2017 at 16:33k3bk3b14.7k77 gold badges5454 silver badges8888 bronze badges\n\nInstances of the the class android.content.Context provide the connection to the Android system which executes the application. For example, you can check the size of the current device display via the Context.It also gives access to the resources of the project. It is the interface to global information about the application environment.The Context class also provides access to Android services, e.g., the alarm manager to trigger time based events.Activities and services extend the Context class. Therefore they can be directly used to access the Context.ShareImprove this answerFollowansweredFeb 2, 2014 at 11:33MubarakMubarak1,4491616 silver badges2222 bronze badges\n\nIf you want to connectContextwith other familiar classes in Android, keep in mind this structure:Context < ContextWrapper < ApplicationContext < ContextWrapper < ContextThemeWrapper < ActivityContext < ContextWrapper < ContextThemeWrapper < Activity <\n  ListActivityContext < ContextWrapper < ServiceContext < ContextWrapper < Service < IntentServiceSo, all of those classes are contexts in their own way. You can castServiceandListActivitytoContextif you wish. But if you look closely, some of the classes inherit theme as well. In activity or fragment, you would like theming to be applied to your views, but don\'t care about itServiceclass, for instance.I explain the difference in contextshere.ShareImprove this answerFollowansweredFeb 14, 2017 at 10:08lomzalomza9,5881515 gold badges7272 silver badges8686 bronze badges\n\nContextmeans component (or application) in various time-period. If I do eat so much food between 1 to 2 pm then my context of that time is used to access all methods (or resources) that I use during that time. Content is a component (application) for a particular time. TheContextof components of the application keeps changing based on the underlying lifecycle of the components or application.\nFor instance, inside the onCreate() of anActivity,getBaseContext()-- gives thecontextof theActivitythat is set (created) by the constructor of activity.getApplicationContext()-- gives theContextsetup (created) during the creation of application.Note:<application>holds all Android Components.<application>\n    <activity> .. </activity> \n\n    <service>  .. </service>\n\n    <receiver> .. </receiver>\n\n    <provider> .. </provider>\n</application>It means, when you callgetApplicationContext()from inside whatever component, you are calling the common context of the whole application.Contextkeeps being modified by the system based on the lifecycle of components.ShareImprove this answerFolloweditedJun 7, 2020 at 21:04Rahul3,33122 gold badges3434 silver badges4444 bronze badgesansweredOct 10, 2017 at 16:54Uddhav P. GautamUddhav P. Gautam7,58133 gold badges5050 silver badges6767 bronze badges\n\nWhat\'sContextexactly?Per the Android reference documentation, it\'s an entity that represents various environment data. It provides access to local files, databases, class loaders associated to the environment, services (including system-level services), and more. Throughout this book, and in your day-to-day coding with Android, you\'ll see the Context passed around frequently.From the ""Android in Practice"" book, p. 60.Several Android APIs require aContextas parameterIf you look through the various Android APIs, you’ll\nnotice that many of them take anandroid.content.Contextobject as a\nparameter. You’ll also see that an Activity or a Service is usually used as aContext. This works because both of these classes extend fromContext.ShareImprove this answerFollowansweredFeb 18, 2022 at 8:51Dr-VectorDr-Vector5122 bronze badges\n\nfor more details about context, readthisarticle. I will explain that briefly.If you wanna know what is context you must know what it does...for examplegetContext()is one of the methods that retrieve context. In getContext(), Context is tied to an Activity and its lifecycle. We can imagine Context as layer which stands behind Activity and it will live as long as Activity lives. The moment the Activity dies, Context will too. this method gives list of functionalities to activity, like:Load Resource Values,\nLayout Inflation,\nStart an Activity,\nShow a Dialog,\nStart a Service,\nBind to a Service,\nSend a Broadcast,\nRegister BroadcastReceiver.now imagine that :Context is a layer(interface) which stands behind its component\n(Activity, Application…) and component’s lifecycle, which provides\naccess to various functionalities which are supported by application\nenvironment and Android framework.ShareImprove this answerFolloweditedNov 15, 2020 at 10:02answeredNov 15, 2020 at 4:06Amir EhsaniAmir Ehsani14911 silver badge1010 bronze badges\n\nIf you look at the comment ofhttps://stackoverflow.com/a/16301475/1772898, you will find a comment byulf-edholmHmmm, to me it all sounds like what we old timers used to call global variables, which was much frowned on when object orientation entered the sceneHe is right. Context is an alternative to global variable.For simplicity we can say that:global variable ≈ contextThe benefit of context over global variable is, global variables make it impossible to create two independent instances of the same system in the same process, whereas, The context allows multiple instances of the system to coexist in a single process, each with its own context.Please check A Philosophy of Software Design by John Ousterhout, 7.5 Pass-through variables.global variables make it impossible to create two independent\ninstances of the same system in the same process, since accesses to\nthe global variables will conflict....The solution I use most often is to introduce a context object as in\nFigure 7.2(d). A context stores all of the application’s global state\n(anything that would otherwise be apass-through variable or global\nvariable). Most applications have multiple variables in their global\nstate, representing things such as configuration options, shared\nsubsystems, and performance counters. There is one context object per\ninstance of the system.The context allows multiple instances of the\nsystem to coexist in a single process, each with its own context.later in the comment section, you will find another comment bybjornwIf you just grep a codebase you\'ll see hundreds of different getContext, getBaseContext, getBlaBlaContext.He is also right.To reduce the number of methods that must be aware of the context, a reference to the context is referred in many major objects. That is why you see getContext, getBaseContext, getBlaBlaContext .. in so many places.Reference: A Philosophy of Software Design by John Ousterhout, 7.5 Pass-through variables.Unfortunately, the context will probably be needed in many places, so\nit can potentially become a pass-through variable.To reduce the\nnumber of methods that must be aware of it, a reference to the context\ncan be saved in most of the system’s major objects. In the example of\nFigure 7.2(d), the class containing m3 stores a reference to the\ncontext as an instance variable in its objects. When a new object is\ncreated, the creating method retrieves the context reference from its\nobject and passes it to the constructor for the new object. With this\napproach, the context is available everywhere, but it only appears as\nan explicit argument in constructors.ShareImprove this answerFolloweditedSep 15, 2022 at 7:38answeredSep 15, 2022 at 7:24Ahmad IsmailAhmad Ismail13.1k66 gold badges6060 silver badges109109 bronze badges\n\nThink of Context as a box with different resources: string, colors, and fonts. If you need a resource, you turn to this box. When you rotate the screen, this box changes because the orientation changes to landscape.ShareImprove this answerFollowansweredJan 28, 2020 at 11:31Leonid IvankinLeonid Ivankin66755 silver badges1111 bronze badges\n\nAnother analogy:Contextcan be thought of as an office keycard.\nYou must carry it around in order to gain access to certain restricted areas.\nIn Android this includes: system services, application\'s files, assets, themes, permissions, etc.In practice, aContextis represented by an application component (e.g.Activity,Service). And just like different keycards can unlock some of the doors but not others, some application components have limited usage as aContext(e.g. you can\'t use it to launch a dialog or inflate a layout).ShareImprove this answerFolloweditedJul 18, 2023 at 6:05answeredJul 17, 2023 at 12:23dev.bmaxdev.bmax10.1k33 gold badges3131 silver badges4242 bronze badges'}","{'title': 'I need an unordered list without any bullets', 'question': 'I have created an unordered list. I feel the bullets in the unordered list are bothersome, so I want to remove them.Is it possible to have a list without bullets?htmlcssShareImprove this questionFolloweditedApr 21, 2019 at 19:20Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesaskedJun 22, 2009 at 13:57praveenjayapalpraveenjayapal38.3k3131 gold badges7373 silver badges7474 bronze badges', 'answers': 'You can remove bullets by setting thelist-style-typetononeon the CSS for the parent element (typically a<ul>), for example:ul {\n  list-style-type: none;\n}You might also want to addpadding: 0andmargin: 0to that if you want to remove indentation as well.SeeListutorialfor a great walkthrough of list formatting techniques.ShareImprove this answerFolloweditedJun 15, 2019 at 6:10Vadim Ovchinnikov13.9k77 gold badges6464 silver badges9393 bronze badgesansweredJun 22, 2009 at 14:00Paul DixonPaul Dixon299k5454 gold badges313313 silver badges348348 bronze badges\n\nIf you\'re using Bootstrap, it has an ""unstyled"" class:Remove the default list-style and left padding on list items (immediate children only).Bootstrap 2:<ul class=""unstyled"">\n   <li>...</li>\n</ul>http://twitter.github.io/bootstrap/base-css.html#typographyBootstrap 3, 4, and 5:<ul class=""list-unstyled"">\n   <li>...</li>\n</ul>Bootstrap 3:http://getbootstrap.com/css/#type-listsBootstrap 4:https://getbootstrap.com/docs/4.3/content/typography/#unstyledBootstrap 5:https://getbootstrap.com/docs/5.0/content/typography/#unstyledShareImprove this answerFolloweditedApr 19, 2023 at 5:17Alan Reed48644 silver badges1313 bronze badgesansweredJul 11, 2013 at 15:05Scott StaffordScott Stafford44.5k2929 gold badges133133 silver badges183183 bronze badges\n\nYou need to uselist-style: none;<ul style=""list-style: none;"">\n    <li>...</li>\n</ul>ShareImprove this answerFolloweditedApr 15, 2020 at 20:58johannchopin14.7k1111 gold badges6060 silver badges110110 bronze badgesansweredJun 22, 2009 at 14:00karim79karim79342k6767 gold badges416416 silver badges406406 bronze badges\n\nSmall refinement to the previous answers: To make longer lines more readable if they spill over to additional screen lines:ul, li {list-style-type: none;}\n\nli {padding-left: 2em; text-indent: -2em;}ShareImprove this answerFolloweditedJun 8, 2021 at 8:24Jun Yu41511 gold badge88 silver badges2222 bronze badgesansweredDec 10, 2012 at 5:55charliehowardcharliehoward55744 silver badges22 bronze badges\n\nIf you\'re unable to make it work at the<ul>level, you might need to place thelist-style-type: none;at the<li>level:<ul>\n    <li style=""list-style-type: none;"">Item 1</li>\n    <li style=""list-style-type: none;"">Item 2</li>\n</ul>You can create a CSS class to avoid this repetition:<style>\nul.no-bullets li\n{\n    list-style-type: none;\n}\n</style>\n\n<ul class=""no-bullets"">\n    <li>Item 1</li>\n    <li>Item 2</li>\n</ul>When necessary, use!important:<style>\nul.no-bullets li\n{\n    list-style-type: none !important;\n}\n</style>ShareImprove this answerFolloweditedApr 21, 2019 at 19:27Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredOct 8, 2013 at 8:14Antonio OoiAntonio Ooi1,74911 gold badge2020 silver badges3434 bronze badges\n\nI usedlist-styleon both the ul and the li to remove the bullets. I wanted to replace the bullets with a custom character, in this case a \'dash\'. That gives a nicely indented effect that works fine when the text wraps.ul.dashed-list {\n    list-style: none outside none;\n}\n\nul.dashed-list li:before {\n    content: ""\\2014"";\n    float: left;\n    margin: 0 0 0 -27px;\n    padding: 0;\n}\n\nul.dashed-list li {\n    list-style-type: none;\n}<ul class=""dashed-list"">\n  <li>text</li>\n  <li>text</li>\n</ul>ShareImprove this answerFolloweditedSep 7, 2020 at 14:40JKD1,28711 gold badge66 silver badges3030 bronze badgesansweredSep 17, 2013 at 4:52Chris HalcrowChris Halcrow31.1k1818 gold badges186186 silver badges227227 bronze badges\n\nIf you wanted to accomplish this withpureHTML alone, this solution will work across all major browsers:Description ListsSimply using the following HTML:<dl>\n      <dt>List Item 1</dt>\n        <dd>Sub-Item 1.1</dd>\n      <dt>List Item 2</dt>\n        <dd>Sub-Item 2.1</dd>\n        <dd>Sub-Item 2.2</dd>\n        <dd>Sub-Item 2.3</dd>\n      <dt>List Item 3</dt>\n        <dd>Sub-Item 3.1</dd>\n    </dl>Example here:https://jsfiddle.net/zumcmvma/2/Reference here:https://www.w3schools.com/tags/tag_dl.aspShareImprove this answerFolloweditedFeb 14, 2021 at 8:47SK-the-Learner54355 silver badges1919 bronze badgesansweredMar 23, 2018 at 1:26ShaneBShaneB24322 silver badges44 bronze badges\n\nThis orders a list vertically without bullet points. In just one line!li {\n    display: block;\n}ShareImprove this answerFolloweditedJun 8, 2021 at 8:25Jun Yu41511 gold badge88 silver badges2222 bronze badgesansweredSep 3, 2016 at 10:59mattmatt33755 silver badges1414 bronze badges\n\nTo completely remove theuldefault style:list-style-type: none;\n\nmargin: 0;\nmargin-block-start: 0;\nmargin-block-end: 0;\nmargin-inline-start: 0;\nmargin-inline-end: 0;\npadding-inline-start: 0;ShareImprove this answerFolloweditedDec 4, 2023 at 2:52Samuel RIGAUD1,4881717 silver badges2525 bronze badgesansweredApr 23, 2019 at 14:55Masih JahangiriMasih Jahangiri10.5k33 gold badges5151 silver badges5353 bronze badges\n\nIf you are developing an existing theme, it\'s possible that the theme has a custom list style.So if you can\'t change the list style usinglist-style: none;in ul or li tags, first check with!important, because maybe some other line of style is overwriting your style. If!importantfixed it, you should find a more specific selector and clear out the!important.li {\n    list-style: none !important;\n}If it\'s not the case, then check theli:before. If it contains the content, then do:li:before {\n    display: none;\n}ShareImprove this answerFolloweditedJul 15, 2023 at 15:15answeredJan 27, 2020 at 11:47Ali_HrAli_Hr4,49733 gold badges2828 silver badges3434 bronze badges\n\nYou can hide them using::markerpseudo-element.Transparent::markerul li::marker {\n  color: transparent;\n}ul li::marker {\n  color: transparent;\n}\n\nul {\n  padding-inline-start: 10px; /* Just to reset the browser initial padding */\n}<ul>\n  <li> Bullets are bothersome </li>\n  <li> I want to remove them. </li>\n  <li> Hey! ::marker to the rescue </li>\n</ul>::markerempty contentul li::marker {\n  content: """";\n}ul li::marker {\n   content: """";\n}<ul>\n  <li> Bullets are bothersome </li>\n  <li> I want to remove them </li>\n  <li> Hey! ::marker to the rescue </li>\n</ul>It is better when you need to remove bullets from a specific list item.ul li:nth-child(n)::marker { /* Replace n with the list item\'s position*/\n   content: """";\n}ul li:not(:nth-child(2))::marker {\n   content: """";\n}<ul>\n  <li> Bullets are bothersome </li>\n  <li> But I can live with it using ::marker </li>\n  <li> Not again though </li>\n</ul>ShareImprove this answerFollowansweredFeb 13, 2021 at 10:48m4n0m4n031.6k2727 gold badges8080 silver badges9292 bronze badges\n\nInBOOTSTRAPYou can remove bullets by setting thelist-unstyledclass on the parent class of the li tag.<ul className=""list-unstyled"">\n    <li>One</li>\n    <li>Two</li>\n    <li>Three</li>\n</ul>ShareImprove this answerFollowansweredDec 5, 2022 at 15:05Kevin ThomasKevin Thomas13011 silver badge88 bronze badges\n\nul{list-style-type:none;}Just set the style of unordered list is none.ShareImprove this answerFollowansweredJul 29, 2020 at 17:55Abuhanzala RehanansariAbuhanzala Rehanansari9433 bronze badges\n\nI tried and observed:header ul {\n   margin: 0;\n   padding: 0;\n}ShareImprove this answerFolloweditedApr 21, 2019 at 19:33Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJul 24, 2018 at 6:26Dadhich SouravDadhich Sourav28966 silver badges2020 bronze badges\n\n<div class=""custom-control custom-checkbox left"">\n    <ul class=""list-unstyled"">\n        <li>\n         <label class=""btn btn-secondary text-left"" style=""width:100%;text-align:left;padding:2px;"">\n           <input type=""checkbox"" style=""zoom:1.7;vertical-align:bottom;"" asp-for=""@Model[i].IsChecked"" class=""custom-control-input"" /> @Model[i].Title\n         </label>\n        </li>\n     </ul>\n</div>ShareImprove this answerFollowansweredApr 26, 2018 at 4:16Oracular ManOracular Man1,0601111 silver badges1515 bronze badges\n\nIn case you want to keep things simple without resorting to CSS, I just put a&nbsp;in my code lines. I.e.,<table></table>.Yeah, it leaves a few spaces, but that\'s not a bad thing.ShareImprove this answerFolloweditedApr 21, 2019 at 19:25Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredMar 15, 2013 at 10:48PhilPhil99'}","{'title': 'How can I upload files asynchronously with jQuery?', 'question': 'I would like to upload a file asynchronously with jQuery.$(document).ready(function () {\r\n    $(""#uploadbutton"").click(function () {\r\n        var filename = $(""#file"").val();\r\n\r\n        $.ajax({\r\n            type: ""POST"",\r\n            url: ""addFile.do"",\r\n            enctype: \'multipart/form-data\',\r\n            data: {\r\n                file: filename\r\n            },\r\n            success: function () {\r\n                alert(""Data Uploaded: "");\r\n            }\r\n        });\r\n    });\r\n});<script src=""https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.0/jquery.min.js""></script>\r\n<span>File</span>\r\n<input type=""file"" id=""file"" name=""file"" size=""10""/>\r\n<input id=""uploadbutton"" type=""button"" value=""Upload""/>Instead of the file being uploaded, I am only getting the filename. What can I do to fix this problem?javascriptjqueryajaxasynchronousxmlhttprequestShareImprove this questionFolloweditedJun 3, 2021 at 7:58CommunityBot111 silver badgeaskedOct 3, 2008 at 10:22Sergio del AmoSergio del Amo77.7k6868 gold badges152152 silver badges180180 bronze badges', 'answers': 'WithHTML5you can make file uploads with Ajax and jQuery. Not only that, you can do file validations (name, size, and MIME type) or handle the progress event with the HTML5 progress tag (or a div). Recently I had to make a file uploader, but I didn\'t want to useFlashnor Iframes or plugins and after some research I came up with the solution.The HTML:<form enctype=""multipart/form-data"">\n    <input name=""file"" type=""file"" />\n    <input type=""button"" value=""Upload"" />\n</form>\n<progress></progress>First, you can do some validation if you want. For example, in the.on(\'change\')event of the file:$(\':file\').on(\'change\', function () {\n  var file = this.files[0];\n\n  if (file.size > 1024) {\n    alert(\'max upload size is 1k\');\n  }\n\n  // Also see .name, .type\n});Now the$.ajax()submit with the button\'s click:$(\':button\').on(\'click\', function () {\n  $.ajax({\n    // Your server script to process the upload\n    url: \'upload.php\',\n    type: \'POST\',\n\n    // Form data\n    data: new FormData($(\'form\')[0]),\n\n    // Tell jQuery not to process data or worry about content-type\n    // You *must* include these options!\n    cache: false,\n    contentType: false,\n    processData: false,\n\n    // Custom XMLHttpRequest\n    xhr: function () {\n      var myXhr = $.ajaxSettings.xhr();\n      if (myXhr.upload) {\n        // For handling the progress of the upload\n        myXhr.upload.addEventListener(\'progress\', function (e) {\n          if (e.lengthComputable) {\n            $(\'progress\').attr({\n              value: e.loaded,\n              max: e.total,\n            });\n          }\n        }, false);\n      }\n      return myXhr;\n    }\n  });\n});As you can see, with HTML5 (and some research) file uploading not only becomes possible but super easy. Try it withGoogle Chromeas some of the HTML5 components of the examples aren\'t available in every browser.ShareImprove this answerFolloweditedMar 19, 2019 at 19:38daaawx3,41322 gold badges1717 silver badges1616 bronze badgesansweredJan 6, 2012 at 13:34olanodolanod30.5k77 gold badges4747 silver badges7777 bronze badges\n\n2019 Update: Itstilldepends on the browsersyourdemographic uses.An important thing to understand with the ""new"" HTML5fileAPI is that itwasn\'t supported until IE\xa010. If the specific market you\'re aiming at has a higher-than-average propensity toward older versions of Windows, you might not have access to it.As of 2017, about 5% of browsers are one of IE 6, 7, 8 or 9. If you head into a big corporation (e.g., this is a B2B tool or something you\'re delivering for training) that number can skyrocket. In 2016, I dealt with a company using IE8 on over 60% of their machines.It\'s 2019 as of this edit, almost 11 years after my initial answer. IE9 and lower aregloballyaround the 1% mark but there are still clusters of higher usage.The important take-away from this —whatever the feature— is,check what browseryourusers use. If you don\'t, you\'ll learn a quick and painful lesson in why ""works for me"" isn\'t good enough in a deliverable to a client.caniuseis a useful tool but note where they get their demographics from. They may not align with yours. This is never truer than enterprise environments.My answer from 2008 follows.However, there are viable non-JS methods of file uploads. You can create an iframe on the page (that you hide with CSS) and then target your form to post to that iframe. The main page doesn\'t need to move.It\'s a ""real"" post so it\'s not wholly interactive. If you need status you need something server-side to process that. This varies massively depending on your server.ASP.NEThas nicer mechanisms. PHP plain fails, but you can usePerlor Apache modifications to get around it.If you need multiple file uploads, it\'s best to do each file one at a time (to overcome maximum file upload limits). Post the first form to the iframe, monitor its progress using the above and when it has finished, post the second form to the iframe, and so on.Or use a Java/Flash solution. They\'re a lot more flexible in what they can do with their posts...ShareImprove this answerFolloweditedAug 12, 2021 at 12:01Diptendu Das4,48077 gold badges2222 silver badges3939 bronze badgesansweredOct 3, 2008 at 10:41OliOli239k6565 gold badges225225 silver badges303303 bronze badges\n\nI recommend using theFine Uploaderplugin for this purpose. YourJavaScriptcode would be:$(document).ready(function() {\n  $(""#uploadbutton"").jsupload({\n    action: ""addFile.do"",\n    onComplete: function(response){\n      alert( ""server response: "" + response);\n    }\n  });\n});ShareImprove this answerFolloweditedSep 19, 2017 at 16:45Shiladitya12.2k1616 gold badges2727 silver badges4242 bronze badgesansweredNov 21, 2008 at 16:38pixxaarpixxaar\n\nNote: This answer is outdated, it is now possible to upload files using XHR.You cannot upload files usingXMLHttpRequest(Ajax). You can simulate the effect using an iframe or Flash. The excellentjQuery Form Pluginthat posts your files through an iframe to get the effect.ShareImprove this answerFolloweditedJun 15, 2018 at 8:10tiermix4266 bronze badgesansweredOct 3, 2008 at 10:36MattiasMattias5,18944 gold badges2323 silver badges1818 bronze badges\n\nWrapping up for future readers.Asynchronous File UploadWith HTML5You can upload fileswith jQueryusing the$.ajax()method ifFormDataand theFile APIare supported (both HTML5 features).You can also send fileswithout FormDatabut either way the File API must be present to process files in such a way that they can be sent withXMLHttpRequest(Ajax).$.ajax({\n  url: \'file/destination.html\', \n  type: \'POST\',\n  data: new FormData($(\'#formWithFiles\')[0]), // The form with the file inputs.\n  processData: false,\n  contentType: false                    // Using FormData, no need to process data.\n}).done(function(){\n  console.log(""Success: Files sent!"");\n}).fail(function(){\n  console.log(""An error occurred, the files couldn\'t be sent!"");\n});For a quick, pure JavaScript (no jQuery) example see ""Sending files using a FormData object"".FallbackWhen HTML5 isn\'t supported (noFile API) the only other pure JavaScript solution (noFlashor any other browser plugin) is thehidden iframetechnique, which allows to emulate an asynchronous request without using theXMLHttpRequestobject.It consists of setting an iframe as the target of the form with the file inputs. When the user submits a request is made and the files are uploaded but the response is displayed inside the iframe instead of re-rendering the main page. Hiding the iframe makes the whole process transparent to the user and emulates an asynchronous request.If done properly it should work virtually on any browser, but it has some caveats as how to obtain the response from the iframe.In this case you may prefer to use a wrapper plugin likeBifröstwhich uses theiframe techniquebut also provides ajQuery Ajax transportallowing tosend fileswith just the$.ajax()method like this:$.ajax({\n  url: \'file/destination.html\', \n  type: \'POST\',\n  // Set the transport to use (iframe means to use Bifröst)\n  // and the expected data type (json in this case).\n  dataType: \'iframe json\',                                \n  fileInputs: $(\'input[type=""file""]\'),  // The file inputs containing the files to send.\n  data: { msg: \'Some extra data you might need.\'}\n}).done(function(){\n  console.log(""Success: Files sent!"");\n}).fail(function(){\n  console.log(""An error occurred, the files couldn\'t be sent!"");\n});PluginsBifröstis just a small wrapper that adds fallback support to jQuery\'s ajax method, but many of the aforementioned plugins likejQuery Form PluginorjQuery File Uploadinclude the whole stack from HTML5 to different fallbacks and some useful features to ease out the process. Depending on your needs and requirements you might want to consider a bare implementation or either of this plugins.ShareImprove this answerFolloweditedJun 18, 2018 at 21:15DanimalReks32544 silver badges1212 bronze badgesansweredAug 25, 2014 at 14:174044041,37211 gold badge1010 silver badges66 bronze badges\n\nThisAJAX file upload jQuery pluginuploads the file somehwere, and passes the\nresponse to a callback, nothing else.It does not depend on specific HTML, just give it a<input type=""file"">It does not require your server to respond in any particular wayIt does not matter how many files you use, or where they are on the page-- Use as little as --$(\'#one-specific-file\').ajaxfileupload({\n  \'action\': \'/upload.php\'\n});-- or as much as --$(\'input[type=""file""]\').ajaxfileupload({\n  \'action\': \'/upload.php\',\n  \'params\': {\n    \'extra\': \'info\'\n  },\n  \'onComplete\': function(response) {\n    console.log(\'custom handler for file:\');\n    alert(JSON.stringify(response));\n  },\n  \'onStart\': function() {\n    if(weWantedTo) return false; // cancels upload\n  },\n  \'onCancel\': function() {\n    console.log(\'no file selected\');\n  }\n});ShareImprove this answerFollowansweredJul 29, 2011 at 0:34Jordan Warbelow-FeldsteinJordan Warbelow-Feldstein10.7k1212 gold badges5050 silver badges7979 bronze badges\n\nI have been using the below script to upload images which happens to work fine.HTML<input id=""file"" type=""file"" name=""file""/>\n<div id=""response""></div>JavaScriptjQuery(\'document\').ready(function(){\n    var input = document.getElementById(""file"");\n    var formdata = false;\n    if (window.FormData) {\n        formdata = new FormData();\n    }\n    input.addEventListener(""change"", function (evt) {\n        var i = 0, len = this.files.length, img, reader, file;\n\n        for ( ; i < len; i++ ) {\n            file = this.files[i];\n\n            if (!!file.type.match(/image.*/)) {\n                if ( window.FileReader ) {\n                    reader = new FileReader();\n                    reader.onloadend = function (e) {\n                        //showUploadedItem(e.target.result, file.fileName);\n                    };\n                    reader.readAsDataURL(file);\n                }\n\n                if (formdata) {\n                    formdata.append(""image"", file);\n                    formdata.append(""extra"",\'extra-data\');\n                }\n\n                if (formdata) {\n                    jQuery(\'div#response\').html(\'<br /><img src=""ajax-loader.gif""/>\');\n\n                    jQuery.ajax({\n                        url: ""upload.php"",\n                        type: ""POST"",\n                        data: formdata,\n                        processData: false,\n                        contentType: false,\n                        success: function (res) {\n                         jQuery(\'div#response\').html(""Successfully uploaded"");\n                        }\n                    });\n                }\n            }\n            else\n            {\n                alert(\'Not a vaild image!\');\n            }\n        }\n\n    }, false);\n});ExplanationI use responsedivto show the uploading animation and response after upload is done.Best part is you can send extra data such as ids & etc with the file when you use this script. I have mention itextra-dataas in the script.At the PHP level this will work as normal file upload. extra-data can be retrieved as$_POSTdata.Here you are not using a plugin and stuff. You can change the code as you want. You are not blindly coding here. This is the core functionality of any jQuery file upload. Actually Javascript.ShareImprove this answerFolloweditedFeb 9, 2014 at 10:39Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJan 25, 2013 at 11:03TechieTechie45k4444 gold badges161161 silver badges246246 bronze badges\n\nYou can do it in vanilla JavaScript pretty easily. Here\'s a snippet from my current project:var xhr = new XMLHttpRequest();\nxhr.upload.onprogress = function(e) {\n    var percent = (e.position/ e.totalSize);\n    // Render a pretty progress bar\n};\nxhr.onreadystatechange = function(e) {\n    if(this.readyState === 4) {\n        // Handle file upload complete\n    }\n};\nxhr.open(\'POST\', \'/upload\', true);\nxhr.setRequestHeader(\'X-FileName\',file.name); // Pass the filename along\nxhr.send(file);ShareImprove this answerFolloweditedFeb 9, 2014 at 10:40Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredFeb 17, 2013 at 9:34mpenmpen280k275275 gold badges880880 silver badges1.3k1.3k bronze badges\n\nYou can upload simply with jQuery.ajax().HTML:<form id=""upload-form"">\n    <div>\n        <label for=""file"">File:</label>\n        <input type=""file"" id=""file"" name=""file"" />\n        <progress class=""progress"" value=""0"" max=""100""></progress>\n    </div>\n    <hr />\n    <input type=""submit"" value=""Submit"" />\n</form>CSS.progress { display: none; }Javascript:$(document).ready(function(ev) {\n    $(""#upload-form"").on(\'submit\', (function(ev) {\n        ev.preventDefault();\n        $.ajax({\n            xhr: function() {\n                var progress = $(\'.progress\'),\n                    xhr = $.ajaxSettings.xhr();\n\n                progress.show();\n\n                xhr.upload.onprogress = function(ev) {\n                    if (ev.lengthComputable) {\n                        var percentComplete = parseInt((ev.loaded / ev.total) * 100);\n                        progress.val(percentComplete);\n                        if (percentComplete === 100) {\n                            progress.hide().val(0);\n                        }\n                    }\n                };\n\n                return xhr;\n            },\n            url: \'upload.php\',\n            type: \'POST\',\n            data: new FormData(this),\n            contentType: false,\n            cache: false,\n            processData: false,\n            success: function(data, status, xhr) {\n                // ...\n            },\n            error: function(xhr, status, error) {\n                // ...\n            }\n       });\n    }));\n});ShareImprove this answerFolloweditedOct 9, 2017 at 19:53answeredAug 8, 2014 at 2:59Zayn AliZayn Ali4,86511 gold badge3030 silver badges4141 bronze badges\n\nThe simplest and most robust way I have done this in the past, is to simply target a hidden iFrame tag with your form - then it will submit within the iframe without reloading the page.That is if you don\'t want to use a plugin, JavaScript or any other forms of ""magic"" other than HTML.  Of course you can combine this with JavaScript or what have you...<form target=""iframe"" action="""" method=""post"" enctype=""multipart/form-data"">\n    <input name=""file"" type=""file"" />\n    <input type=""button"" value=""Upload"" />\n</form>\n\n<iframe name=""iframe"" id=""iframe"" style=""display:none"" ></iframe>You can also read the contents of the iframeonLoadfor server errors or success responses and then output that to user.Chrome, iFrames, and onLoad-note- you only need to keep reading if you are interested in how to setup a UI blocker when doing uploading/downloadingCurrently Chrome doesn\'t trigger the onLoad event for the iframe when it\'s used to transfer files.  Firefox, IE, and Edge all fire the onload event for file transfers.The only solution that I found works for Chrome was to use a cookie.To do that basically when the upload/download is started:[Client Side] Start an interval to look for the existence of a cookie[Server Side] Do whatever you need to with the file data[Server Side] Set cookie for client side interval[Client Side] Interval sees the cookie and uses it like the onLoad event.  For example you can start a UI blocker and then onLoad ( or when cookie is made )  you remove the UI blocker.Using a cookie for this is ugly but it works.I made a jQuery plugin to handle this issue for Chrome when downloading, you can find herehttps://github.com/ArtisticPhoenix/jQuery-Plugins/blob/master/iDownloader.jsThe same basic principal applies to uploading, as well.To use the downloader  ( include the JS, obviously )$(\'body\').iDownloader({\n     ""onComplete"" : function(){\n          $(\'#uiBlocker\').css(\'display\', \'none\'); //hide ui blocker on complete\n     }\n });\n\n $(\'somebuttion\').click( function(){\n      $(\'#uiBlocker\').css(\'display\', \'block\'); //block the UI\n      $(\'body\').iDownloader(\'download\', \'htttp://example.com/location/of/download\');\n });And on the server side, just before transferring the file data, create the cookiesetcookie(\'iDownloader\', true, time() + 30, ""/"");The plugin will see the cookie, and then trigger theonCompletecallback.ShareImprove this answerFolloweditedJun 15, 2018 at 8:07tiermix4266 bronze badgesansweredJun 26, 2014 at 4:43ArtisticPhoenixArtisticPhoenix21.6k22 gold badges2525 silver badges3838 bronze badges\n\nI\'ve written this up in a Rails environment.  It\'s only about five lines of JavaScript, if you use the lightweight jQuery-form plugin.The challenge is in getting AJAX upload working as the standardremote_form_fordoesn\'t understand multi-part form submission. It\'s not going to send the file data Rails seeks back with the AJAX request.That\'s where the jQuery-form plugin comes into play.Here’s the Rails code for it:<% remote_form_for(:image_form, \n                   :url => { :controller => ""blogs"", :action => :create_asset }, \n                   :html => { :method => :post, \n                              :id => \'uploadForm\', :multipart => true }) \n                                                                        do |f| %>\n Upload a file: <%= f.file_field :uploaded_data %>\n<% end %>Here’s the associated JavaScript:$(\'#uploadForm input\').change(function(){\n $(this).parent().ajaxSubmit({\n  beforeSubmit: function(a,f,o) {\n   o.dataType = \'json\';\n  },\n  complete: function(XMLHttpRequest, textStatus) {\n   // XMLHttpRequest.responseText will contain the URL of the uploaded image.\n   // Put it in an image element you create, or do with it what you will.\n   // For example, if you have an image elemtn with id ""my_image"", then\n   //  $(\'#my_image\').attr(\'src\', XMLHttpRequest.responseText);\n   // Will set that image tag to display the uploaded image.\n  },\n });\n});And here’s the Rails controller action, pretty vanilla:@image = Image.new(params[:image_form])\n @image.save\n render :text => @image.public_filenameI’ve been using this for the past few weeks with Bloggity, and it’s worked like a champ.ShareImprove this answerFolloweditedOct 8, 2011 at 18:57random9,8901010 gold badges6868 silver badges8484 bronze badgesansweredAug 13, 2009 at 22:44wbhardingwbharding4,44322 gold badges3030 silver badges2626 bronze badges\n\nSimple Ajax Uploader is another option:https://github.com/LPology/Simple-Ajax-UploaderCross-browser -- works in IE7+, Firefox, Chrome, Safari, OperaSupports multiple, concurrent uploads -- even in non-HTML5 browsersNo flash or external CSS -- just one 5Kb Javascript fileOptional, built-in support for fully cross-browser progress bars (using PHP\'s APC extension)Flexible and highly customizable -- use any element as upload button, style your own progress indicatorsNo forms required, just provide an element that will serve as upload buttonMIT license -- free to use in commercial projectExample usage:var uploader = new ss.SimpleUpload({\n    button: $(\'#uploadBtn\'), // upload button\n    url: \'/uploadhandler\', // URL of server-side upload handler\n    name: \'userfile\', // parameter name of the uploaded file\n    onSubmit: function() {\n        this.setProgressBar( $(\'#progressBar\') ); // designate elem as our progress bar\n    },\n    onComplete: function(file, response) {\n        // do whatever after upload is finished\n    }\n});ShareImprove this answerFolloweditedJun 26, 2013 at 1:37answeredJun 26, 2013 at 1:12user1091949user10919491,93344 gold badges2121 silver badges2727 bronze badges\n\nA solution I found was to have the<form>target a hidden iFrame. The iFrame can then run JS to display to the user that it\'s complete (on page load).ShareImprove this answerFollowansweredOct 18, 2008 at 19:30Darryl HeinDarryl Hein144k9595 gold badges221221 silver badges263263 bronze badges\n\nHere\'s just another solution of how to upload file (without any plugin)Using simpleJavascriptsandAJAX(with progress-bar)HTML part<form id=""upload_form"" enctype=""multipart/form-data"" method=""post"">\n    <input type=""file"" name=""file1"" id=""file1""><br>\n    <input type=""button"" value=""Upload File"" onclick=""uploadFile()"">\n    <progress id=""progressBar"" value=""0"" max=""100"" style=""width:300px;""></progress>\n    <h3 id=""status""></h3>\n    <p id=""loaded_n_total""></p>\n</form>JS partfunction _(el){\n    return document.getElementById(el);\n}\nfunction uploadFile(){\n    var file = _(""file1"").files[0];\n    // alert(file.name+"" | ""+file.size+"" | ""+file.type);\n    var formdata = new FormData();\n    formdata.append(""file1"", file);\n    var ajax = new XMLHttpRequest();\n    ajax.upload.addEventListener(""progress"", progressHandler, false);\n    ajax.addEventListener(""load"", completeHandler, false);\n    ajax.addEventListener(""error"", errorHandler, false);\n    ajax.addEventListener(""abort"", abortHandler, false);\n    ajax.open(""POST"", ""file_upload_parser.php"");\n    ajax.send(formdata);\n}\nfunction progressHandler(event){\n    _(""loaded_n_total"").innerHTML = ""Uploaded ""+event.loaded+"" bytes of ""+event.total;\n    var percent = (event.loaded / event.total) * 100;\n    _(""progressBar"").value = Math.round(percent);\n    _(""status"").innerHTML = Math.round(percent)+""% uploaded... please wait"";\n}\nfunction completeHandler(event){\n    _(""status"").innerHTML = event.target.responseText;\n    _(""progressBar"").value = 0;\n}\nfunction errorHandler(event){\n    _(""status"").innerHTML = ""Upload Failed"";\n}\nfunction abortHandler(event){\n    _(""status"").innerHTML = ""Upload Aborted"";\n}PHP part<?php\n$fileName = $_FILES[""file1""][""name""]; // The file name\n$fileTmpLoc = $_FILES[""file1""][""tmp_name""]; // File in the PHP tmp folder\n$fileType = $_FILES[""file1""][""type""]; // The type of file it is\n$fileSize = $_FILES[""file1""][""size""]; // File size in bytes\n$fileErrorMsg = $_FILES[""file1""][""error""]; // 0 for false... and 1 for true\nif (!$fileTmpLoc) { // if file not chosen\n    echo ""ERROR: Please browse for a file before clicking the upload button."";\n    exit();\n}\nif(move_uploaded_file($fileTmpLoc, ""test_uploads/$fileName"")){ // assuming the directory name \'test_uploads\'\n    echo ""$fileName upload is complete"";\n} else {\n    echo ""move_uploaded_file function failed"";\n}\n?>Here\'s the EXAMPLE applicationShareImprove this answerFolloweditedJul 24, 2016 at 14:02answeredMar 30, 2016 at 16:48Siddhartha ChowdhurySiddhartha Chowdhury2,71411 gold badge3030 silver badges4949 bronze badges\n\njQueryUploadifyis another good plugin which I have used before to upload files. The JavaScript code is as simple as the following: code. However, the new version does not work in Internet\xa0Explorer.$(\'#file_upload\').uploadify({\n    \'swf\': \'/public/js/uploadify.swf\',\n    \'uploader\': \'/Upload.ashx?formGuid=\' + $(\'#formGuid\').val(),\n    \'cancelImg\': \'/public/images/uploadify-cancel.png\',\n    \'multi\': true,\n    \'onQueueComplete\': function (queueData) {\n        // ...\n    },\n    \'onUploadStart\': function (file) {\n        // ...\n    }\n});I have done a lot of searching and I have come to another solution for uploading files without any plugin and only with ajax. The solution is as below:$(document).ready(function () {\n    $(\'#btn_Upload\').live(\'click\', AjaxFileUpload);\n});\n\nfunction AjaxFileUpload() {\n    var fileInput = document.getElementById(""#Uploader"");\n    var file = fileInput.files[0];\n    var fd = new FormData();\n    fd.append(""files"", file);\n    var xhr = new XMLHttpRequest();\n    xhr.open(""POST"", \'Uploader.ashx\');\n    xhr.onreadystatechange = function () {\n        if (xhr.readyState == 4) {\n             alert(\'success\');\n        }\n        else if (uploadResult == \'success\')\n            alert(\'error\');\n    };\n    xhr.send(fd);\n}ShareImprove this answerFolloweditedApr 10, 2014 at 14:18ivan_pozdeev35.3k1919 gold badges111111 silver badges159159 bronze badgesansweredJun 16, 2013 at 9:49farnoush resafarnoush resa40355 silver badges77 bronze badges\n\nvar formData=new FormData();\nformData.append(""fieldname"",""value"");\nformData.append(""image"",$(\'[name=""filename""]\')[0].files[0]);\n\n$.ajax({\n    url:""page.php"",\n    data:formData,\n    type: \'POST\',\n    dataType:""JSON"",\n    cache: false,\n    contentType: false,\n    processData: false,\n    success:function(data){ }\n});You can use form data to post all your values including images.ShareImprove this answerFolloweditedDec 22, 2015 at 17:01falsarella12.4k1010 gold badges7272 silver badges118118 bronze badgesansweredJul 28, 2015 at 13:39Vivek AasaithambiVivek Aasaithambi9291111 silver badges2323 bronze badges\n\nA modern approachwithout Jqueryis to use theFileListobject you get back from<input type=""file"">when user selects a file(s) and then useFetchto post the FileList wrapped around aFormDataobject.// The input DOM element // <input type=""file"">\nconst inputElement = document.querySelector(\'input[type=file]\');\n\n// Listen for a file submit from user\ninputElement.addEventListener(\'change\', () => {\n    const data = new FormData();\n    data.append(\'file\', inputElement.files[0]);\n    data.append(\'imageName\', \'flower\');\n\n    // You can then post it to your server.\n    // Fetch can accept an object of type FormData on its  body\n    fetch(\'/uploadImage\', {\n        method: \'POST\',\n        body: data\n    });\n});ShareImprove this answerFolloweditedAug 23, 2019 at 13:13answeredAug 17, 2018 at 11:47AlisterAlister28k99 gold badges4242 silver badges3535 bronze badges\n\nTo upload file asynchronously with Jquery use below steps:step 1In your project open Nuget manager and add package (jquery fileupload(only you need to write it in search box it will come up and install it.))\nURL:https://github.com/blueimp/jQuery-File-Uploadstep 2Add below scripts in the HTML files, which are already added to the project by running above package:jquery.ui.widget.jsjquery.iframe-transport.jsjquery.fileupload.jsstep 3Write file upload control as per below code:<input id=""upload"" name=""upload"" type=""file"" />step 4write a js method as uploadFile as below:function uploadFile(element) {\n    \n            $(element).fileupload({\n    \n                dataType: \'json\',\n                url: \'../DocumentUpload/upload\',\n                autoUpload: true,\n                add: function (e, data) {           \n                  // write code for implementing, while selecting a file. \n                  // data represents the file data. \n                  //below code triggers the action in mvc controller\n                  data.formData =\n                                    {\n                                     files: data.files[0]\n                                    };\n                  data.submit();\n                },\n                done: function (e, data) {          \n                   // after file uploaded\n                },\n                progress: function (e, data) {\n                    \n                   // progress\n                },\n                fail: function (e, data) {\n                    \n                   //fail operation\n                },\n                stop: function () {\n                    \n                  code for cancel operation\n                }\n            });\n        \n        };step 5In ready function call element file upload to initiate the process as per below:$(document).ready(function()\n{\n    uploadFile($(\'#upload\'));\n\n});step 6Write MVC controller and Action as per below:public class DocumentUploadController : Controller\n    {       \n        \n        [System.Web.Mvc.HttpPost]\n        public JsonResult upload(ICollection<HttpPostedFileBase> files)\n        {\n            bool result = false;\n\n            if (files != null || files.Count > 0)\n            {\n                try\n                {\n                    foreach (HttpPostedFileBase file in files)\n                    {\n                        if (file.ContentLength == 0)\n                            throw new Exception(""Zero length file!"");                       \n                        else \n                            //code for saving a file\n\n                    }\n                }\n                catch (Exception)\n                {\n                    result = false;\n                }\n            }\n\n\n            return new JsonResult()\n                {\n                    Data=result\n                };\n\n\n        }\n\n    }ShareImprove this answerFolloweditedJun 20, 2020 at 9:12CommunityBot111 silver badgeansweredJun 23, 2014 at 8:18ashishashish24522 silver badges33 bronze badges\n\nThis is my solution.<form enctype=""multipart/form-data"">    \n\n    <div class=""form-group"">\n        <label class=""control-label col-md-2"" for=""apta_Description"">Description</label>\n        <div class=""col-md-10"">\n            <input class=""form-control text-box single-line"" id=""apta_Description"" name=""apta_Description"" type=""text"" value="""">\n        </div>\n    </div>\n\n    <input name=""file"" type=""file"" />\n    <input type=""button"" value=""Upload"" />\n</form>and the js<script>\n\n    $(\':button\').click(function () {\n        var formData = new FormData($(\'form\')[0]);\n        $.ajax({\n            url: \'@Url.Action(""Save"", ""Home"")\',  \n            type: \'POST\',                \n            success: completeHandler,\n            data: formData,\n            cache: false,\n            contentType: false,\n            processData: false\n        });\n    });    \n\n    function completeHandler() {\n        alert("":)"");\n    }    \n</script>Controller[HttpPost]\npublic ActionResult Save(string apta_Description, HttpPostedFileBase file)\n{\n    [...]\n}ShareImprove this answerFolloweditedNov 27, 2019 at 20:29answeredNov 3, 2015 at 20:47Erick Lanford XenesErick Lanford Xenes1,56222 gold badges2323 silver badges3636 bronze badges\n\nFor your case, you need to useAjaxto facilitate the file upload to the server:<from action="""" id=""formContent"" method=""post"" enctype=""multipart/form-data"">\n    <span>File</span>\n    <input type=""file"" id=""file"" name=""file"" size=""10""/>\n    <input id=""uploadbutton"" type=""button"" value=""Upload""/>\n</form>The data being submitted is a formdata. On your jQuery, use a form submit function instead of a button click to submit the form file as shown below.$(document).ready(function () {\n   $(""#formContent"").submit(function(e){\n\n     e.preventDefault();\n     var formdata = new FormData(this);\n\n $.ajax({\n     url: ""ajax_upload_image.php"",\n     type: ""POST"",\n     data: formdata,\n     mimeTypes:""multipart/form-data"",\n     contentType: false,\n     cache: false,\n     processData: false,\n     success: function(){\n\n     alert(""successfully submitted"");\n\n     });\n   });\n});ShareImprove this answerFolloweditedMay 22, 2023 at 8:51blackgreen♦41.1k2727 gold badges139139 silver badges144144 bronze badgesansweredJul 19, 2016 at 5:18Daniel NyamasyoDaniel Nyamasyo2,30211 gold badge2525 silver badges2727 bronze badges\n\nYou can use$(function() {\n    $(""#file_upload_1"").uploadify({\n        height        : 30,\n        swf           : \'/uploadify/uploadify.swf\',\n        uploader      : \'/uploadify/uploadify.php\',\n        width         : 120\n    });\n});DemoShareImprove this answerFollowansweredMay 12, 2014 at 10:10AmitAmit1,90911 gold badge2020 silver badges3636 bronze badges\n\nSample: If you use jQuery, you can do easy to an upload file. This is a small and strong jQuery plugin,http://jquery.malsup.com/form/.Examplevar $bar   = $(\'.ProgressBar\');\n$(\'.Form\').ajaxForm({\n  dataType: \'json\',\n\n  beforeSend: function(xhr) {\n    var percentVal = \'0%\';\n    $bar.width(percentVal);\n  },\n\n  uploadProgress: function(event, position, total, percentComplete) {\n    var percentVal = percentComplete + \'%\';\n    $bar.width(percentVal)\n  },\n\n  success: function(response) {\n    // Response\n  }\n});I hope it would be helpfulShareImprove this answerFolloweditedJun 20, 2020 at 9:12CommunityBot111 silver badgeansweredOct 14, 2016 at 7:17MEAbidMEAbid56077 silver badges1212 bronze badges\n\nConvert file to base64 using |HTML5\'sreadAsDataURL()orsome base64 encoder.Fiddle herevar reader = new FileReader();\n\n        reader.onload = function(readerEvt) {\n            var binaryString = readerEvt.target.result;\n            document.getElementById(""base64textarea"").value = btoa(binaryString);\n        };\n\n        reader.readAsBinaryString(file);Then to retrieve:window.open(""data:application/octet-stream;base64,"" + base64);ShareImprove this answerFollowansweredJun 23, 2014 at 18:50tnt-roxtnt-rox5,48822 gold badges3838 silver badges5252 bronze badges\n\nYou can pass additional parameters along with file name on making asynchronous upload using XMLHttpRequest (without flash and iframe dependency). Append the additional parameter value with FormData and send the upload request.var formData = new FormData();\nformData.append(\'parameter1\', \'value1\');\nformData.append(\'parameter2\', \'value2\'); \nformData.append(\'file\', $(\'input[type=file]\')[0].files[0]);\n\n$.ajax({\n    url: \'post back url\',\n    data: formData,\n// other attributes of AJAX\n});Also, Syncfusion JavaScript UI file upload provides solution for this scenario simply using event argument. you can find documentationhereand further details about this control here enter link descriptionhereShareImprove this answerFolloweditedNov 15, 2018 at 5:06answeredNov 14, 2018 at 12:42Karthik RavichandranKarthik Ravichandran1,25322 gold badges1616 silver badges2626 bronze badges\n\nLook forHandling the upload process for a file, asynchronouslyin here:https://developer.mozilla.org/en-US/docs/Using_files_from_web_applicationsSample from the link<?php\nif (isset($_FILES[\'myFile\'])) {\n    // Example:\n    move_uploaded_file($_FILES[\'myFile\'][\'tmp_name\'], ""uploads/"" . $_FILES[\'myFile\'][\'name\']);\n    exit;\n}\n?><!DOCTYPE html>\n<html>\n<head>\n    <title>dnd binary upload</title>\n    <meta http-equiv=""Content-Type"" content=""text/html; charset=UTF-8"">\n    <script type=""text/javascript"">\n        function sendFile(file) {\n            var uri = ""/index.php"";\n            var xhr = new XMLHttpRequest();\n            var fd = new FormData();\n\n            xhr.open(""POST"", uri, true);\n            xhr.onreadystatechange = function() {\n                if (xhr.readyState == 4 && xhr.status == 200) {\n                    // Handle response.\n                    alert(xhr.responseText); // handle response.\n                }\n            };\n            fd.append(\'myFile\', file);\n            // Initiate a multipart/form-data upload\n            xhr.send(fd);\n        }\n\n        window.onload = function() {\n            var dropzone = document.getElementById(""dropzone"");\n            dropzone.ondragover = dropzone.ondragenter = function(event) {\n                event.stopPropagation();\n                event.preventDefault();\n            }\n\n            dropzone.ondrop = function(event) {\n                event.stopPropagation();\n                event.preventDefault();\n\n                var filesArray = event.dataTransfer.files;\n                for (var i=0; i<filesArray.length; i++) {\n                    sendFile(filesArray[i]);\n                }\n            }\n        }\n    </script>\n</head>\n<body>\n    <div>\n        <div id=""dropzone"" style=""margin:30px; width:500px; height:300px; border:1px dotted grey;"">Drag & drop your file here...</div>\n    </div>\n</body>\n</html>ShareImprove this answerFolloweditedOct 31, 2017 at 22:19Mark Amery150k8787 gold badges415415 silver badges465465 bronze badgesansweredJul 8, 2015 at 17:59AllendeAllende1,47222 gold badges2323 silver badges4040 bronze badges\n\nYou can usenewerFetch APIby JavaScript. Like this:function uploadButtonCLicked(){\n    var input = document.querySelector(\'input[type=""file""]\')\n\n    fetch(\'/url\', {\n      method: \'POST\',\n      body: input.files[0]\n    }).then(res => res.json())   // you can do something with response\n      .catch(error => console.error(\'Error:\', error))\n      .then(response => console.log(\'Success:\', response));\n}Advantage:Fetch API isnatively supportedby all modern browsers, so you don\'t have to import anything. Also, note that fetch() returns aPromisewhich is then handled by using.then(..code to handle response..)asynchronously.ShareImprove this answerFolloweditedMay 22, 2018 at 16:05answeredMay 21, 2018 at 10:14BlackBeardBlackBeard10.5k77 gold badges5454 silver badges6363 bronze badges\n\nUsingHTML5andJavaScript, uploading async is quite easy, I create the uploading logic along with your html, this is not fully working as it needs the api, but demonstrate how it works, if you have the endpoint called/uploadfrom root of your website, this code should work for you:const asyncFileUpload = () => {\n  const fileInput = document.getElementById(""file"");\n  const file = fileInput.files[0];\n  const uri = ""/upload"";\n  const xhr = new XMLHttpRequest();\n  xhr.upload.onprogress = e => {\n    const percentage = e.loaded / e.total;\n    console.log(percentage);\n  };\n  xhr.onreadystatechange = e => {\n    if (xhr.readyState === 4 && xhr.status === 200) {\n      console.log(""file uploaded"");\n    }\n  };\n  xhr.open(""POST"", uri, true);\n  xhr.setRequestHeader(""X-FileName"", file.name);\n  xhr.send(file);\n}<form>\n  <span>File</span>\n  <input type=""file"" id=""file"" name=""file"" size=""10"" />\n  <input onclick=""asyncFileUpload()"" id=""upload"" type=""button"" value=""Upload"" />\n</form>Also some further information about XMLHttpReques:The XMLHttpRequest ObjectAll modern browsers support the XMLHttpRequest object.\nThe XMLHttpRequest object can be used to exchange data with a web\nserver behind the scenes. This means that it is possible to update\nparts of a web page, without reloading the whole page.Create an XMLHttpRequest ObjectAll modern browsers (Chrome, Firefox,\nIE7+, Edge, Safari, Opera) have a built-in XMLHttpRequest object.Syntax for creating an XMLHttpRequest object:variable = new XMLHttpRequest();Access Across DomainsFor security reasons, modern browsers do not\nallow access across domains.This means that both the web page and the XML file it tries to load,\nmust be located on the same server.The examples on W3Schools all open XML files located on the W3Schools\ndomain.If you want to use the example above on one of your own web pages, the\nXML files you load must be located on your own server.For more details, you can continue readinghere...ShareImprove this answerFolloweditedJun 20, 2020 at 9:12CommunityBot111 silver badgeansweredMar 12, 2018 at 12:32AlirezaAlireza103k2727 gold badges275275 silver badges173173 bronze badges\n\nFor PHP, look forhttps://developer.hyvor.com/php/image-upload-ajax-php-mysqlHTML<html>\n<head>\n    <title>Image Upload with AJAX, PHP and MYSQL</title>\n</head>\n<body>\n<form onsubmit=""submitForm(event);"">\n    <input type=""file"" name=""image"" id=""image-selecter"" accept=""image/*"">\n    <input type=""submit"" name=""submit"" value=""Upload Image"">\n</form>\n<div id=""uploading-text"" style=""display:none;"">Uploading...</div>\n<img id=""preview"">\n</body>\n</html>JAVASCRIPTvar previewImage = document.getElementById(""preview""),  \n    uploadingText = document.getElementById(""uploading-text"");\n\nfunction submitForm(event) {\n    // prevent default form submission\n    event.preventDefault();\n    uploadImage();\n}\n\nfunction uploadImage() {\n    var imageSelecter = document.getElementById(""image-selecter""),\n        file = imageSelecter.files[0];\n    if (!file) \n        return alert(""Please select a file"");\n    // clear the previous image\n    previewImage.removeAttribute(""src"");\n    // show uploading text\n    uploadingText.style.display = ""block"";\n    // create form data and append the file\n    var formData = new FormData();\n    formData.append(""image"", file);\n    // do the ajax part\n    var ajax = new XMLHttpRequest();\n    ajax.onreadystatechange = function() {\n        if (this.readyState === 4 && this.status === 200) {\n            var json = JSON.parse(this.responseText);\n            if (!json || json.status !== true) \n                return uploadError(json.error);\n\n            showImage(json.url);\n        }\n    }\n    ajax.open(""POST"", ""upload.php"", true);\n    ajax.send(formData); // send the form data\n}PHP<?php\n$host = \'localhost\';\n$user = \'user\';\n$password = \'password\';\n$database = \'database\';\n$mysqli = new mysqli($host, $user, $password, $database);\n\n\n try {\n    if (empty($_FILES[\'image\'])) {\n        throw new Exception(\'Image file is missing\');\n    }\n    $image = $_FILES[\'image\'];\n    // check INI error\n    if ($image[\'error\'] !== 0) {\n        if ($image[\'error\'] === 1) \n            throw new Exception(\'Max upload size exceeded\');\n\n        throw new Exception(\'Image uploading error: INI Error\');\n    }\n    // check if the file exists\n    if (!file_exists($image[\'tmp_name\']))\n        throw new Exception(\'Image file is missing in the server\');\n    $maxFileSize = 2 * 10e6; // in bytes\n    if ($image[\'size\'] > $maxFileSize)\n        throw new Exception(\'Max size limit exceeded\'); \n    // check if uploaded file is an image\n    $imageData = getimagesize($image[\'tmp_name\']);\n    if (!$imageData) \n        throw new Exception(\'Invalid image\');\n    $mimeType = $imageData[\'mime\'];\n    // validate mime type\n    $allowedMimeTypes = [\'image/jpeg\', \'image/png\', \'image/gif\'];\n    if (!in_array($mimeType, $allowedMimeTypes)) \n        throw new Exception(\'Only JPEG, PNG and GIFs are allowed\');\n\n    // nice! it\'s a valid image\n    // get file extension (ex: jpg, png) not (.jpg)\n    $fileExtention = strtolower(pathinfo($image[\'name\'] ,PATHINFO_EXTENSION));\n    // create random name for your image\n    $fileName = round(microtime(true)) . mt_rand() . \'.\' . $fileExtention; // anyfilename.jpg\n    // Create the path starting from DOCUMENT ROOT of your website\n    $path = \'/examples/image-upload/images/\' . $fileName;\n    // file path in the computer - where to save it \n    $destination = $_SERVER[\'DOCUMENT_ROOT\'] . $path;\n\n    if (!move_uploaded_file($image[\'tmp_name\'], $destination))\n        throw new Exception(\'Error in moving the uploaded file\');\n\n    // create the url\n    $protocol = stripos($_SERVER[\'SERVER_PROTOCOL\'],\'https\') === true ? \'https://\' : \'http://\';\n    $domain = $protocol . $_SERVER[\'SERVER_NAME\'];\n    $url = $domain . $path;\n    $stmt = $mysqli -> prepare(\'INSERT INTO image_uploads (url) VALUES (?)\');\n    if (\n        $stmt &&\n        $stmt -> bind_param(\'s\', $url) &&\n        $stmt -> execute()\n    ) {\n        exit(\n            json_encode(\n                array(\n                    \'status\' => true,\n                    \'url\' => $url\n                )\n            )\n        );\n    } else \n        throw new Exception(\'Error in saving into the database\');\n\n} catch (Exception $e) {\n    exit(json_encode(\n        array (\n            \'status\' => false,\n            \'error\' => $e -> getMessage()\n        )\n    ));\n}ShareImprove this answerFollowansweredOct 5, 2018 at 10:45Supun KavindaSupun Kavinda1,4551515 silver badges1414 bronze badges\n\nYou can do the Asynchronous Multiple File uploads using JavaScript or jQuery and that to without using any plugin. You can also show the real time progress of file upload in the progress control. I have come across 2 nice links -ASP.NET Web Forms based Mulitple File Upload Feature with Progress BarASP.NET MVC based Multiple File Upload made in jQueryThe server side language is C# but you can do some modification for making it work with other language like PHP.File Upload ASP.NET Core MVC:In the View create file upload control in html:<form method=""post"" asp-action=""Add"" enctype=""multipart/form-data"">\n    <input type=""file"" multiple name=""mediaUpload"" />\n    <button type=""submit"">Submit</button>\n</form>Now create action method in your controller:[HttpPost]\npublic async Task<IActionResult> Add(IFormFile[] mediaUpload)\n{\n    //looping through all the files\n    foreach (IFormFile file in mediaUpload)\n    {\n        //saving the files\n        string path = Path.Combine(hostingEnvironment.WebRootPath, ""some-folder-path""); \n        using (var stream = new FileStream(path, FileMode.Create))\n        {\n            await file.CopyToAsync(stream);\n        }\n    }\n}hostingEnvironment variable is of type IHostingEnvironment which can be injected to the controller using dependency injection, like:private IHostingEnvironment hostingEnvironment;\npublic MediaController(IHostingEnvironment environment)\n{\n    hostingEnvironment = environment;\n}ShareImprove this answerFolloweditedSep 8, 2018 at 13:01answeredAug 29, 2018 at 19:51Joe ClintonJoe Clinton14522 silver badges1212 bronze badges\n\nTryasync function saveFile() \r\n{\r\n    let formData = new FormData();           \r\n    formData.append(""file"", file.files[0]);\r\n    await fetch(\'addFile.do\', {method: ""POST"", body: formData});    \r\n    alert(""Data Uploaded: "");\r\n}<span>File</span>\r\n<input type=""file"" id=""file"" name=""file"" size=""10""/>\r\n<input type=""button"" value=""Upload"" onclick=""saveFile()""/>Thecontent-type=\'multipart/form-data\'is set by browser automatically, the file name is added automatically too tofilenameFormData parameter (and can be easy read by server). Here is more developed example with err handling and json addingasync function saveFile(inp) \r\n{\r\n    let user = { name:\'john\', age:34 };\r\n    let formData = new FormData();\r\n    let photo = inp.files[0];      \r\n         \r\n    formData.append(""photo"", photo);\r\n    formData.append(""user"", JSON.stringify(user));  \r\n    \r\n    try {\r\n       let r = await fetch(\'/upload/image\', {method: ""POST"", body: formData}); \r\n       console.log(\'HTTP response code:\',r.status); \r\n       alert(\'success\');\r\n    } catch(e) {\r\n       console.log(\'Huston we have problem...:\', e);\r\n    }\r\n    \r\n}<input type=""file"" onchange=""saveFile(this)"" >\r\n<br><br>\r\nBefore selecting the file Open chrome console > network tab to see the request details.\r\n<br><br>\r\n<small>Because in this example we send request to https://stacksnippets.net/upload/image the response code will be 404 ofcourse...</small>ShareImprove this answerFolloweditedDec 15, 2019 at 12:23answeredJul 5, 2019 at 10:31Kamil KiełczewskiKamil Kiełczewski90.1k3232 gold badges383383 silver badges360360 bronze badges'}","{'title': 'What is the difference between #include <filename> and #include ""filename""?', 'question': 'What is the difference between using angle brackets and quotes in anincludedirective?#include <filename>#include ""filename""c++cincludeheader-filesc-preprocessorShareImprove this questionFolloweditedJul 4, 2022 at 21:45Mateen Ulhaq26.6k2020 gold badges115115 silver badges147147 bronze badgesaskedAug 22, 2008 at 1:40quest49quest4950.6k55 gold badges2121 silver badges1414 bronze badges', 'answers': 'What differs is the locations in which the preprocessor searches for the file to be included.#include <filename>The preprocessor searches in an implementation-defined manner, normally in directories pre-designated by the compiler/IDE. This method is normally used to include header files for the C standard library and other header files associated with the target platform.#include ""filename""The preprocessor also searches in an implementation-defined manner, but one that is normally used to include programmer-defined header files and typically includes same directory as the file containing the directive (unless an absolute path is given).For GCC, a more complete description is available in the GCCdocumentation on search paths.ShareImprove this answerFolloweditedAug 11, 2022 at 13:53Eric Postpischil212k1313 gold badges177177 silver badges337337 bronze badgesansweredAug 22, 2008 at 1:40quest49quest4950.6k55 gold badges2121 silver badges1414 bronze badges\n\nThe only way to know is to read your implementation\'s documentation.Inthe C standard, section 6.10.2, paragraphs 2 to 4 state:A preprocessing directive of the form#include <h-char-sequence> new-linesearches a sequence of implementation-defined places for aheaderidentified uniquely by the specified sequence between the<and>delimiters, and causes the replacement of that directive by the entire contents of theheader. How the places are specified or the header identified is implementation-defined.A preprocessing directive of the form#include ""q-char-sequence"" new-linecauses the replacement of that directive by the entire contents of thesource fileidentified by the specified sequence between the""delimiters. The namedsource fileis searched for in an implementation-defined manner. If this search is not supported, or if the search fails, the directive is reprocessed as if it read#include <h-char-sequence> new-linewith the identical contained sequence (including>characters, if any) from the original\n  directive.A preprocessing directive of the form#include pp-tokens new-line(that does not match one of the two previous forms) is permitted. The preprocessing tokens afterincludein the directive are processed just as in normal text. (Each identifier currently defined as a macro name is replaced by its replacement list of preprocessing tokens.) The directive resulting after all replacements shall match one of the two previous forms. The method by which a sequence of preprocessing tokens between a<and a>preprocessing token pair or a pair of""characters is combined into a single header name preprocessing token is implementation-defined.Definitions:h-char: any member of the source character set except the new-line character and>q-char: any member of the source character set except the new-line character and""ShareImprove this answerFolloweditedJan 15, 2019 at 16:46Fritz1,3601616 silver badges3232 bronze badgesansweredSep 16, 2008 at 21:06piCookiepiCookie9,73022 gold badges2020 silver badges1919 bronze badges\n\nThe sequence of characters between < and > uniquely refer to a header, which isn\'t necessarily a file. Implementations are pretty much free to use the character sequence as they wish. (Mostly, however, just treat it as a file name and do a search in theinclude path, as the other posts state.)If the#include ""file""form is used, the implementation first looks for a file of the given name, if supported. If not (supported), or if the search fails, the implementation behaves as though the other (#include <file>) form was used.Also, a third form exists and is used when the#includedirective doesn\'t match either of the forms above. In this form, some basic preprocessing (such as macro expansion) is done on the ""operands"" of the#includedirective, and the result is expected to match one of the two other forms.ShareImprove this answerFolloweditedApr 22, 2013 at 16:06AKS4,64822 gold badges3030 silver badges4848 bronze badgesansweredSep 8, 2008 at 17:43aibaib46.6k1010 gold badges7373 silver badges7979 bronze badges\n\nSome good answers here make references to the C standard but forgot the POSIX standard, especially the specific behavior of thec99 (e.g. C compiler)command.According toThe Open Group Base Specifications Issue 7,-IdirectoryChange the algorithm for searching for headers whose names are not absolute pathnames to look in the directory named by thedirectorypathname before looking in the usual places. Thus, headers whose names are enclosed in double-quotes ( """" ) shall be searched for first in the directory of the file with the#includeline, then in directories named in-Ioptions, and last in the usual places. For headers whose names are enclosed in angle brackets ( ""<>"" ), the header shall be searched for only in directories named in-Ioptions and then in the usual places. Directories named in-Ioptions shall be searched in the order specified. Implementations shall support at least ten instances of this option in a singlec99command invocation.So, in a POSIX compliant environment, with a POSIX compliant C compiler,#include ""file.h""is likely going to search for./file.hfirst, where.is the directory where is the file with the#includestatement, while#include <file.h>, is likely going to search for/usr/include/file.hfirst, where/usr/includeis your system definedusual placesfor headers (it\'s seems not defined by POSIX).ShareImprove this answerFolloweditedMar 12, 2015 at 5:29rici239k2929 gold badges252252 silver badges352352 bronze badgesansweredJul 20, 2012 at 9:29Yann DroneaudYann Droneaud5,40511 gold badge2424 silver badges4040 bronze badges\n\nThe exact behavior of the preprocessor varies between compilers. The following answer applies for GCC and several other compilers.#include <file.h>tells the compiler to search for the header in its ""includes"" directory, e.g. for MinGW the compiler would search forfile.hin C:\\MinGW\\include\\ or wherever your compiler is installed.#include ""file""tells the compiler to search the current directory (i.e. the directory in which the source file resides) forfile.You can use the-Iflag for GCC to tell it that, when it encounters an include with angled brackets, it should also search for headers in the directory after-I. GCC will treat the directory after the flag as if it were theincludesdirectory.For instance, if you have a file calledmyheader.hin your own directory, you could say#include <myheader.h>if you called GCC with the flag-I .(indicating that it should search for includes in the current directory.)Without the-Iflag, you will have to use#include ""myheader.h""to include the file, or movemyheader.hto theincludedirectory of your compiler.ShareImprove this answerFolloweditedJul 10, 2021 at 2:29answeredMar 11, 2018 at 23:06adrianadrian1,44811 gold badge1717 silver badges2525 bronze badges\n\nGCC documentation saysthe following about the difference between the two:Both user and system header files are included using the preprocessing     directive‘#include’. It has two variants:#include <file>This variant is used for system header files. It searches for a file named file in a standard list of system directories. You can prepend directories to this list with the-Ioption (seeInvocation).#include ""file""This variant is used for header files of your own program. It searches for a file named file first in the directory containing the current file, then in the quote directories and then the same directories used for<file>. You can prepend directories to the list of quote directories with the-iquoteoption.\n    The argument of‘#include’, whether delimited with quote marks or angle brackets, behaves like a string constant in that comments are not recognized, and macro names are not expanded. Thus,#include <x/*y>specifies inclusion of a system header file namedx/*y.However, if backslashes occur within file, they are considered ordinary text characters, not escape characters. None of the character escape sequences appropriate to string constants in C are processed. Thus,#include ""x\\n\\\\y""specifies a filename containing three backslashes. (Some systems interpret ‘\\’ as a pathname separator. All of these also interpret‘/’the same way. It is most portable to use only‘/’.)It is an error if there is anything (other than comments) on the line after the file name.ShareImprove this answerFolloweditedNov 21, 2017 at 21:51Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJan 14, 2017 at 4:52Suraj JainSuraj Jain4,5162929 silver badges3939 bronze badges\n\nIt does:""mypath/myfile"" is short for ./mypath/myfilewith.being either the directory of the file where the#includeis contained in, and/or the current working directory of the compiler, and/or thedefault_include_pathsand<mypath/myfile> is short for <defaultincludepaths>/mypath/myfileIf./is in<default_include_paths>, then it doesn\'t make a difference.Ifmypath/myfileis in another include directory, the behavior is undefined.ShareImprove this answerFolloweditedSep 6, 2016 at 9:04answeredFeb 8, 2011 at 11:45Stefan SteigerStefan Steiger80.9k6868 gold badges393393 silver badges449449 bronze badges\n\nThe<file>include tells the preprocessor to search in-Idirectories and in predefined directoriesfirst, then in the .c file\'s directory. The""file""include tells the preprocessor to search the source file\'s directoryfirst, and then revert to-Iand predefined. All destinations are searched anyway, only the order of search is different.The 2011 standard mostly discusses the include files in ""16.2 Source file inclusion"".2 A preprocessing directive of the form# include <h-char-sequence> new-linesearches a sequence of implementation-defined places for a header identified uniquely by the\n  specified sequence between the < and > delimiters, and causes the\n  replacement of that directive by the entire contents of the header.\n  How the places are specified or the header identified is\n  implementation-defined.3 A preprocessing directive of the form# include ""q-char-sequence"" new-linecauses the replacement of that directive by the entire contents of the source file identified by the\n  specified sequence between the "" delimiters. The named source file is\n  searched for in an implementation-defined manner. If this search is\n  not supported, or if the search fails, the directive is reprocessed as\n  if it read# include <h-char-sequence> new-linewith the identical contained sequence (including > characters, if any) from the original directive.Note that""xxx""form degrades to<xxx>form if the file is not found. The rest is implementation-defined.ShareImprove this answerFolloweditedDec 28, 2014 at 18:25answeredSep 3, 2008 at 12:17user3458user3458\n\nBy the standard - yes, they are different:A preprocessing directive of the form#include <h-char-sequence> new-linesearches a sequence of implementation-defined places for a header identified uniquely by the specified sequence between the<and>delimiters, and causes the replacement of that directive by the entire contents of the header. How the places are specified or the header identified is implementation-defined.A preprocessing directive of the form#include ""q-char-sequence"" new-linecauses the replacement of that directive by the entire contents of the source file identified by the specified sequence between the""delimiters. The named source file is searched for in an implementation-defined manner. If this search is not supported, or if the search fails, the directive is reprocessed as if it read#include <h-char-sequence> new-linewith the identical contained sequence (including>characters, if any) from the original\n  directive.A preprocessing directive of the form#include pp-tokens new-line(that does not match one of the two previous forms) is permitted. The preprocessing tokens afterincludein the directive are processed just as in normal text. (Each identifier currently defined as a macro name is replaced by its replacement list of preprocessing tokens.) The directive resulting after all replacements shall match one of the two previous forms. The method by which a sequence of preprocessing tokens between a<and a>preprocessing token pair or a pair of""characters is combined into a single header name preprocessing token is implementation-defined.Definitions:h-char: any member of the source character set except the new-line character and>q-char: any member of the source character set except the new-line character and""Note that the standard does not tell any relation between the implementation-defined manners. The first form searches in one implementation-defined way, and the other in a (possibly other) implementation-defined way. The standard also specifies that certain include files shall be present (for example,<stdio.h>).Formally you\'d have to read the manual for your compiler, however normally (by tradition) the#include ""...""form searches the directory of the file in which the#includewas found first, and then the directories that the#include <...>form searches (the include path, eg system headers).ShareImprove this answerFolloweditedJul 28, 2016 at 7:25answeredAug 18, 2015 at 6:21skykingskyking14.1k22 gold badges3636 silver badges6060 bronze badges\n\nAt least for GCC version <= 3.0, the angle-bracket form does not generate a dependency between the included file and the including one.So if you want to generate dependency rules (using the GCC -M option for exemple), you must use the quoted form for the files that should be included in the dependency tree.(Seehttp://gcc.gnu.org/onlinedocs/cpp/Invocation.html)ShareImprove this answerFollowansweredOct 25, 2011 at 12:35Denis RosDenis Ros22922 silver badges22 bronze badges\n\nFor#include """"a compiler normally searches the folder of the file which contains that include and then the other folders. For#include <>the compiler does not search the current file\'s folder.ShareImprove this answerFolloweditedJul 25, 2015 at 15:29answeredFeb 8, 2011 at 11:45Maxim EgorushkinMaxim Egorushkin135k1717 gold badges190190 silver badges282282 bronze badges\n\nThanks for the great answers, esp. Adam Stelmaszczyk and piCookie, and aib.Like many programmers, I have used the informal convention of using the""myApp.hpp""form for application specific files, and the<libHeader.hpp>form for library and compiler system files, i.e. files specified in/Iand theINCLUDEenvironment variable, for years thinking that was the standard.However, the C standard states that the search order is implementation specific, which can make portability complicated.  To make matters worse, we use jam, which automagically figures out where the include files are.  You can use relative or absolute paths for your include files. i.e.#include ""../../MyProgDir/SourceDir1/someFile.hpp""Older versions of MSVS required double backslashes (\\\\), but now that\'s not required. I don\'t know when it changed. Just use forward slashes for compatibility with \'nix (Windows will accept that).If you arereallyworried about it, use""./myHeader.h""for an include file in the same directory as the source code (my current, very large project has some duplicate include file names scattered about--really a configuration management problem).Here\'s theMSDN explanationcopied here for your convenience).Quoted formThe preprocessor searches for include files in this order:In the same directory as the file that contains the #include statement.In the directories of the currently opened include files, in the reverse order in whichthey were opened. The search begins in the directory of the parent include file andcontinues upward through the directories of any grandparent include files.Along the path that\'s specified by each/Icompiler option.Along the paths that are specified by theINCLUDEenvironment variable.Angle-bracket formThe preprocessor searches for include files in this order:Along the path that\'s specified by each/Icompiler option.When compiling occurs on the command line, along the paths that are specified by theINCLUDEenvironment variable.ShareImprove this answerFolloweditedJun 20, 2020 at 9:12CommunityBot111 silver badgeansweredOct 14, 2014 at 23:51riderBillriderBill85899 silver badges1616 bronze badges\n\nAn #include with angle brackets will search an ""implementation-dependent list of places"" (which is a very complicated way of saying ""system headers"") for the file to be included.An #include with quotes will just search for a file (and, ""in an implementation-dependent manner"", bleh). Which means, in normal English, it will try to apply the path/filename that you toss at it and will not prepend a system path or tamper with it otherwise.Also, if #include """" fails, it is re-read as #include <> by the standard.Thegcc documentationhas a (compiler specific) description which although being specific to gcc and not the standard, is a lot easier to understand than the attorney-style talk of the ISO standards.ShareImprove this answerFollowansweredFeb 8, 2011 at 12:02DamonDamon69.3k2020 gold badges140140 silver badges187187 bronze badges\n\nMany of the answers here focus on the paths the compiler will search in order to find the file. While this is what most compilers do, a conforming compiler is allowed to be preprogrammed with the effects of the standard headers, and to treat, say,#include <list>as a switch, and it need not exist as a file at all.This is not purely hypothetical. There is at least one compiler that work that way. Using#include <xxx>only with standard headers is recommended.ShareImprove this answerFolloweditedMay 30, 2017 at 10:19answeredFeb 25, 2014 at 10:49sp2dannysp2danny7,60633 gold badges3232 silver badges5454 bronze badges\n\n#include <>is for predefined header filesIf the header file is predefined then you would simply write the header file name in angular brackets, and it would look like this (assuming we have a predefined header file name iostream):#include <iostream>#include "" ""is for header files the programmer definesIf you (the programmer) wrote your own header file then you would write the header file name in quotes. So, suppose you wrote a header file calledmyfile.h, then this is an example of how you would use the include directive to include that file:#include ""myfile.h""ShareImprove this answerFolloweditedMar 6, 2018 at 19:22Ronan Boiteau9,93877 gold badges3737 silver badges5858 bronze badgesansweredDec 17, 2012 at 7:54AndroidDevAndroidDev2,64766 gold badges3030 silver badges4141 bronze badges\n\n#include ""filename"" // User defined header\n#include <filename> // Standard library header.Example:The filename here isSeller.h:#ifndef SELLER_H     // Header guard\n#define SELLER_H     // Header guard\n\n#include <string>\n#include <iostream>\n#include <iomanip>\n\nclass Seller\n{\n    private:\n        char name[31];\n        double sales_total;\n\n    public:\n        Seller();\n        Seller(char[], double);\n        char*getName();\n\n#endifIn the class implementation (for example,Seller.cpp, and in other files that will use the fileSeller.h), the header defined by the user should now be included, as follows:#include ""Seller.h""ShareImprove this answerFolloweditedNov 21, 2017 at 21:47Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredSep 28, 2011 at 20:37BarbaraBarbara12711 silver badge33 bronze badges\n\n#include <abc.h>is used to include standard library files. So the compiler will check in the locations where standard library headers are residing.#include ""xyz.h""will tell the compiler to include user-defined header files. So the compiler will check for these header files in the current folder or-Idefined folders.ShareImprove this answerFolloweditedNov 21, 2017 at 21:53Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJan 23, 2017 at 13:36Christy WaldChristy Wald32933 silver badges1515 bronze badges\n\n""""will search./first. Then search the default include path.\nYou can use command like this to print the default include path:gcc -v -o a a.cHere are some examples to make thing more clear:\nthe code a.c works// a.c\n#include ""stdio.h""\nint main() {\n        int a = 3;\n        printf(""a = %d\\n"", a);\n        return 0;\n\n}the code of b.c works too// b.c\n#include <stdio.h>\nint main() {\n        int a = 3;\n        printf(""a = %d\\n"", a);\n        return 0;\n\n}but when I create a new file namedstdio.hin current directory// stdio.h\ninline int foo()\n{\n        return 10;\n}a.cwill generate compile error, butb.cstill worksand """", <> can be used together with the same file name. since the search path priority is different.\nsod.calso works// d.c\n#include <stdio.h>\n#include ""stdio.h""\nint main()\n{\n        int a = 0;\n\n        a = foo();\n\n        printf(""a=%d\\n"", a);\n\n        return 0;\n}ShareImprove this answerFolloweditedJul 20, 2021 at 21:48Kamil Jarosz2,19722 gold badges2020 silver badges3131 bronze badgesansweredFeb 27, 2021 at 16:59Paul YangPaul Yang34622 silver badges1010 bronze badges\n\n#include <file>Includes a file where the default include directory is.#include ""file""Includes a file in the current directory in which it was compiled. Double quotes can specify a full file path to a different location as well.ShareImprove this answerFolloweditedSep 20, 2021 at 16:13Jaguar Nation1321212 bronze badgesansweredMar 1, 2020 at 23:11IAmAUserIAmAUser13511 silver badge22 bronze badges\n\nIn C++, include a file in two ways:The first one is #include  which tells the preprocessor to look for the file in the predefined default location.\nThis location is often an INCLUDE environment variable that denotes the path to include files.And the second type is #include ""filename"" which tells the preprocessor to look for the file in the current directory first, then look for it in the predefined locations user have set up.ShareImprove this answerFolloweditedJul 10, 2016 at 0:44Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredFeb 17, 2016 at 9:07viratvirat9911 silver badge44 bronze badges\n\nThe#include <filename>is used when a system file is being referred to. That is a header file that can be found at system default locations like/usr/includeor/usr/local/include. For your own files that needs to be included in another program you have to use the#include ""filename""syntax.ShareImprove this answerFollowansweredAug 27, 2014 at 19:36srscisrsci23955 silver badges1010 bronze badges\n\nForm 1 - #include < xxx >First, looks for the presence of header file in the current directory from where directive is invoked. If not found, then it searches in the preconfigured list of standard system directories.Form 2 - #include ""xxx""This looks for the presence of header file in the current directory from where directive is invoked.The exact search directory list depends on the target system, how GCC is configured, and where it is installed.\nYou can find the search directory list of your GCC compiler by running it with -v option.You can add additional directories to the search path by using - Idir, which causes dir to be searched after the current directory (for the quote form of the directive) and ahead of the standard system directories.Basically, the form ""xxx"" is nothing but search in current directory; if not found falling back the formShareImprove this answerFolloweditedFeb 18, 2021 at 11:52answeredAug 17, 2018 at 9:59Darshan LDarshan L89799 silver badges3232 bronze badges\n\nThe simple general rule is to use angled brackets to include header files that come with the compiler. Use double quotes to include any other header files. Most compilers do it this way.1.9 — Header filesexplains in more detail about pre-processor directives. If you are a novice programmer, that page should help you understand all that. I learned it from here, and I have been following it at work.ShareImprove this answerFolloweditedJan 1, 2016 at 20:33Peter Mortensen31.3k2222 gold badges109109 silver badges132132 bronze badgesansweredJun 4, 2013 at 15:19Eakan GopalakrishnanEakan Gopalakrishnan8901414 silver badges3030 bronze badges\n\n#include <filename>is used when you want to use the header file of the C/C++ system or compiler libraries. These libraries can be stdio.h, string.h, math.h, etc.#include ""path-to-file/filename""is used when you want to use your own custom header file which is in your project folder or somewhere else.For more information about preprocessors and header. ReadC - Preprocessors.ShareImprove this answerFolloweditedJun 20, 2020 at 9:12CommunityBot111 silver badgeansweredApr 2, 2015 at 16:50Hafiz Shehbaz AliHafiz Shehbaz Ali2,6462727 silver badges2121 bronze badges\n\n#include <filename>The preprocessor searches in an implementation-dependent manner. It tells the compiler to search directory where system header files are held.This method usually use to find standard header files.#include ""filename""This tell compiler to search header files where program is running. If it was failed it behave like#include <filename>and search that header file at where system header files stored.This method usually used for identify user defined header files(header files which are created by user). There for don\'t use this if you want to call standard library because it takes more compiling time than#include <filename>.ShareImprove this answerFollowansweredDec 27, 2019 at 5:18KalanaKalana6,02577 gold badges3333 silver badges5353 bronze badges\n\nthe "" < filename > "" searches in standard C library locationswhereas ""filename"" searches in the current directory as well.Ideally, you would use <...> for standard C libraries and ""..."" for libraries that you write and are present in the current directory.ShareImprove this answerFollowansweredMar 28, 2018 at 11:35Jigar KarangiyaJigar Karangiya7711 silver badge55 bronze badges\n\nIn general the difference is where the preprocessor searches for the header file:#include is a preprocessor directive to include header file. Both #include are used to add or include header file in the program, but first is to include system header files and later one for user defined header files.#include <filename>is used to include the system library header file in the program, means the C/C++ preprocessor will search for the filename where the C library files are stored or predefined system header files are stored.#include ""filename""is used to include user defined header file in the program, means the C/C++ preprocessor will search for the filename in the current directory the program is in and then follows the search path used for the #include <filename>Check the gcc docsgcc include filesShareImprove this answerFolloweditedNov 24, 2020 at 8:16answeredNov 24, 2020 at 8:08Saptarshi dasSaptarshi das43944 silver badges77 bronze badges\n\nTo see the search order on your system using gcc, based on current configuration , you can execute the following command.  You can find more detail on this commandherecpp -v /dev/null -o /dev/nullApple LLVM version 10.0.0 (clang-1000.10.44.2)Target: x86_64-apple-darwin18.0.0Thread model: posix InstalledDir: Library/Developer/CommandLineTools/usr/bin""/Library/Developer/CommandLineTools/usr/bin/clang"" -cc1 -triple\n  x86_64-apple-macosx10.14.0 -Wdeprecated-objc-isa-usage\n  -Werror=deprecated-objc-isa-usage -E -disable-free -disable-llvm-verifier -discard-value-names -main-file-name null -mrelocation-model pic -pic-level 2 -mthread-model posix -mdisable-fp-elim -fno-strict-return -masm-verbose -munwind-tables -target-cpu penryn -dwarf-column-info -debugger-tuning=lldb -target-linker-version 409.12 -v -resource-dir /Library/Developer/CommandLineTools/usr/lib/clang/10.0.0 -isysroot\n  /Library/Developer/CommandLineTools/SDKs/MacOSX10.14.sdk\n  -I/usr/local/include -fdebug-compilation-dir /Users/hogstrom -ferror-limit 19 -fmessage-length 80 -stack-protector 1 -fblocks -fencode-extended-block-signature -fobjc-runtime=macosx-10.14.0 -fmax-type-align=16 -fdiagnostics-show-option -fcolor-diagnostics -traditional-cpp -o - -x c /dev/nullclang -cc1 version 10.0.0 (clang-1000.10.44.2) default target x86_64-apple-darwin18.0.0 ignoring\n  nonexistent directory ""/Library/Developer/CommandLineTools/SDKs/MacOSX10.14.sdk/usr/local/include""\n  ignoring nonexistent directory ""/Library/Developer/CommandLineTools/SDKs/MacOSX10.14.sdk/Library/Frameworks""#include ""..."" search starts here:#include <...> search starts here:/usr/local/include/Library/Developer/CommandLineTools/usr/lib/clang/10.0.0/include/Library/Developer/CommandLineTools/usr/include/Library/Developer/CommandLineTools/SDKs/MacOSX10.14.sdk/usr/include/Library/Developer/CommandLineTools/SDKs/MacOSX10.14.sdk/System/Library/Frameworks(framework directory)End of search list.ShareImprove this answerFollowansweredOct 3, 2018 at 18:51HogstromHogstrom3,74122 gold badges1010 silver badges2626 bronze badges\n\nThe implementation-defined warnings generated by the compiler can (and will) treat system libraries differently than program libraries.So#include <myFilename>-- which in effect declares that myFilename is in the system library location -- may well (and probably will) hide dead code and unused variable warnings etc, that would show up when you use:#include ""myFilename""ShareImprove this answerFollowansweredJul 9, 2021 at 4:14daviddavid2,58411 gold badge2424 silver badges3535 bronze badges\n\nThere exists two ways to write #include statement.These are:#include""filename""\n#include<filename>The meaning of each form is#include""mylib.h""This command would look for the filemylib.hin the current directory as well as the specified list of directories as mentioned n the include search path that might have been set up.#include<mylib.h>This command would look for the filemylib.hin the specified list of directories only.The include search path is nothing but a list of directories that would be searched for the file being included.Different C compilers let you set the search path in different manners.ShareImprove this answerFollowansweredAug 18, 2018 at 9:24LocalHostLocalHost91033 gold badges88 silver badges2626 bronze badges'}","{'title': 'Make a div fill the height of the remaining screen space', 'question': 'I am working on a web application where I want the content to fill the height of the entire screen.The page has a header, which contains a logo, and account information. This could be an arbitrary height. I want the content div to fill the rest of the page to the bottom.I have a headerdivand a contentdiv. At the moment I am using a table for the layout like so:CSS and HTML#page {\n  height: 100%;\n  width: 100%\n}\n\n#tdcontent {\n  height: 100%;\n}\n\n#content {\n  overflow: auto;  /* or overflow: hidden; */\n}<table id=""page"">\n  <tr>\n    <td id=""tdheader"">\n      <div id=""header"">...</div>\n    </td>\n  </tr>\n  <tr>\n    <td id=""tdcontent"">\n      <div id=""content"">...</div>\n    </td>\n  </tr>\n</table>The entire height of the page is filled, and no scrolling is required.For anything inside the content div, settingtop: 0;will put it right underneath the header. Sometimes the content will be a real table, with its height set to 100%. Puttingheaderinsidecontentwill not allow this to work.Is there a way to achieve the same effect without using thetable?Update:Elements inside the contentdivwill have heights set to percentages as well. So something at 100% inside thedivwill fill it to the bottom. As will two elements at 50%.Update 2:For instance, if the header takes up 20% of the screen\'s height, a table specified at 50% inside#contentwould take up 40% of the screen space. So far, wrapping the entire thing in a table is the only thing that works.htmlcsshtml-tableShareImprove this questionFolloweditedJun 27, 2023 at 2:02Rutik Patel17533 silver badges1515 bronze badgesaskedSep 18, 2008 at 5:06Vincent McNabbVincent McNabb34.2k77 gold badges3232 silver badges5353 bronze badges', 'answers': '2015 update: the flexbox approachThere are two other answers briefly mentioningflexbox; however, that was more than two years ago, and they don\'t provide any examples. The specification for flexbox has definitely settled now.Note: Though CSS Flexible Boxes Layout specification is at the Candidate Recommendation stage, not all browsers have implemented it. WebKit implementation must be prefixed with -webkit-; Internet Explorer implements an old version of the spec, prefixed with -ms-; Opera 12.10 implements the latest version of the spec, unprefixed. See the compatibility table on each property for an up-to-date compatibility status.(taken fromhttps://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Flexible_boxes)All major browsers and IE11+ support Flexbox. For IE 10 or older, you can use the FlexieJS shim.To check current support you can also see here:http://caniuse.com/#feat=flexboxWorking exampleWith flexbox you can easily switch between any of your rows or columns either having fixed dimensions, content-sized dimensions or remaining-space dimensions. In my example I have set the header to snap to its content (as per the OPs question), I\'ve added a footer to show how to add a fixed-height region and then set the content area to fill up the remaining space.html,\r\nbody {\r\n  height: 100%;\r\n  margin: 0;\r\n}\r\n\r\n.box {\r\n  display: flex;\r\n  flex-flow: column;\r\n  height: 100%;\r\n}\r\n\r\n.box .row {\r\n  border: 1px dotted grey;\r\n}\r\n\r\n.box .row.header {\r\n  flex: 0 1 auto;\r\n  /* The above is shorthand for:\r\n  flex-grow: 0,\r\n  flex-shrink: 1,\r\n  flex-basis: auto\r\n  */\r\n}\r\n\r\n.box .row.content {\r\n  flex: 1 1 auto;\r\n}\r\n\r\n.box .row.footer {\r\n  flex: 0 1 40px;\r\n}<!-- Obviously, you could use HTML5 tags like `header`, `footer` and `section` -->\r\n\r\n<div class=""box"">\r\n  <div class=""row header"">\r\n    <p><b>header</b>\r\n      <br />\r\n      <br />(sized to content)</p>\r\n  </div>\r\n  <div class=""row content"">\r\n    <p>\r\n      <b>content</b>\r\n      (fills remaining space)\r\n    </p>\r\n  </div>\r\n  <div class=""row footer"">\r\n    <p><b>footer</b> (fixed height)</p>\r\n  </div>\r\n</div>In the CSS above, theflexproperty shorthands theflex-grow,flex-shrink, andflex-basisproperties to establish the flexibility of the flex items. Mozilla has agood introduction to the flexible boxes model.ShareImprove this answerFolloweditedMay 31, 2020 at 20:38SwDevMan8149.6k2323 gold badges153153 silver badges188188 bronze badgesansweredJul 27, 2014 at 8:14PebblPebbl35.7k66 gold badges6464 silver badges6565 bronze badges\n\nThere really isn\'t a sound, cross-browser way to do this in CSS.  Assuming your layout has complexities, you need to use JavaScript to set the element\'s height.  The essence of what you need to do is:Element Height = Viewport height - element.offset.top - desired bottom marginOnce you can get this value and set the element\'s height, you need to attach event handlers to both the window onload and onresize so that you can fire your resize function.Also, assuming your content could be larger than the viewport, you will need to set overflow-y to scroll.ShareImprove this answerFolloweditedSep 3, 2013 at 17:52Igor33.7k1414 gold badges8080 silver badges114114 bronze badgesansweredSep 18, 2008 at 8:16NICCAINICCAI3,21822 gold badges1717 silver badges88 bronze badges\n\nThe original post is more than 3 years ago. I guess many people who come to this post like me are looking for an app-like layout solution, say a somehow fixed header, footer, and full height content taking up the rest screen. If so, this post may help, it works on IE7+, etc.http://blog.stevensanderson.com/2011/10/05/full-height-app-layouts-a-css-trick-to-make-it-easier/And here are some snippets from that post:@media screen { \r\n  \r\n  /* start of screen rules. */ \r\n  \r\n  /* Generic pane rules */\r\n  body { margin: 0 }\r\n  .row, .col { overflow: hidden; position: absolute; }\r\n  .row { left: 0; right: 0; }\r\n  .col { top: 0; bottom: 0; }\r\n  .scroll-x { overflow-x: auto; }\r\n  .scroll-y { overflow-y: auto; }\r\n\r\n  .header.row { height: 75px; top: 0; }\r\n  .body.row { top: 75px; bottom: 50px; }\r\n  .footer.row { height: 50px; bottom: 0; }\r\n  \r\n  /* end of screen rules. */ \r\n}<div class=""header row"" style=""background:yellow;"">\r\n    <h2>My header</h2>\r\n</div> \r\n<div class=""body row scroll-y"" style=""background:lightblue;"">\r\n    <p>The body</p>\r\n</div> \r\n<div class=""footer row"" style=""background:#e9e9e9;"">\r\n    My footer\r\n</div>ShareImprove this answerFolloweditedMar 11, 2018 at 8:16Cursor11111 gold badge11 silver badge1313 bronze badgesansweredOct 21, 2011 at 15:02h--nh--n6,01344 gold badges3333 silver badges3333 bronze badges\n\nInstead of using tables in the markup, you could use CSS tables.Markup<body>    \n    <div>hello </div>\n    <div>there</div>\n</body>(Relevant) CSSbody\n{\n    display:table;\n    width:100%;\n}\ndiv\n{\n    display:table-row;\n}\ndiv+ div\n{\n    height:100%;  \n}FIDDLE1andFIDDLE2Some advantages of this method are:1) Less markup2) Markup is more semantic than tables, because this is not tabular data.3) Browser support isvery good: IE8+, All modern browsers and mobile devices (caniuse)Just for completeness, here are the equivalent Html elements to css properties for theThe CSS table modeltable    { display: table }\ntr       { display: table-row }\nthead    { display: table-header-group }\ntbody    { display: table-row-group }\ntfoot    { display: table-footer-group }\ncol      { display: table-column }\ncolgroup { display: table-column-group }\ntd, th   { display: table-cell }\ncaption  { display: table-caption }ShareImprove this answerFolloweditedApr 13, 2016 at 14:09Ry-♦223k5555 gold badges482482 silver badges488488 bronze badgesansweredJun 6, 2013 at 11:20DanieldDanield124k3737 gold badges230230 silver badges260260 bronze badges\n\nCSS only Approach (If height is known/fixed)When you want the middle element to span across entire page vertically, you can usecalc()which is introduced in CSS3.Assuming we have afixed heightheaderandfooterelements and we want thesectiontag to take entire available vertical height...DemoAssumed markupand your CSS should behtml,\r\nbody {\r\n  height: 100%;\r\n}\r\n\r\nheader {\r\n  height: 100px;\r\n  background: grey;\r\n}\r\n\r\nsection {\r\n  height: calc(100% - (100px + 150px));\r\n  /* Adding 100px of header and 150px of footer */\r\n  background: tomato;\r\n}\r\n\r\nfooter {\r\n  height: 150px;\r\n  background-color: blue;\r\n}<header>100px</header>\r\n<section>Expand me for remaining space</section>\r\n<footer>150px</footer>So here, what am doing is, adding up the height of elements and than deducting from100%usingcalc()function.Just make sure that you useheight: 100%;for the parent elements.ShareImprove this answerFolloweditedFeb 5, 2020 at 20:11Aleksandr Belugin2,21711 gold badge1515 silver badges2020 bronze badgesansweredApr 27, 2014 at 12:05Mr. AlienMr. Alien156k3636 gold badges301301 silver badges285285 bronze badges\n\nA simple solution, using flexbox:html,\r\nbody {\r\n  height: 100%;\r\n}\r\n\r\nbody {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.content {\r\n  flex-grow: 1;\r\n}<body>\r\n  <div>header</div>\r\n  <div class=""content""></div>\r\n</body>Codepen sampleAn alternate solution, with a div centered within the content divShareImprove this answerFolloweditedApr 8, 2019 at 15:08Maharkus2,8982121 silver badges3535 bronze badgesansweredFeb 27, 2015 at 18:21zokzok7,4741313 gold badges4444 silver badges6868 bronze badges\n\nUsed:height: calc(100vh - 110px);code:.header { height: 60px; top: 0; background-color: green}\r\n.body {\r\n    height: calc(100vh - 110px); /*50+60*/\r\n    background-color: gray;\r\n}\r\n.footer { height: 50px; bottom: 0; }<div class=""header"">\r\n    <h2>My header</h2>\r\n</div> \r\n<div class=""body"">\r\n    <p>The body</p>\r\n</div> \r\n<div class=""footer"">\r\n    My footer\r\n</div>ShareImprove this answerFollowansweredMay 22, 2016 at 3:20nguyênnguyên5,27655 gold badges4444 silver badges4545 bronze badges\n\nHow about you simply usevhwhich stands forview heightinCSS...Look at thecode snippetI created for you below and run it:body {\r\n  padding: 0;\r\n  margin: 0;\r\n}\r\n\r\n.full-height {\r\n  width: 100px;\r\n  height: 100vh;\r\n  background: red;\r\n}<div class=""full-height"">\r\n</div>Also, look at the image below which I created for you:ShareImprove this answerFolloweditedJun 1, 2018 at 5:46answeredJun 17, 2017 at 18:19AlirezaAlireza103k2727 gold badges275275 silver badges173173 bronze badges\n\nNone of the solutions posted work when you need the bottom div to scroll when the content is too tall.  Here\'s a solution that works in that case:.table {\r\n  display: table;\r\n}\r\n\r\n.table-row {\r\n  display: table-row;\r\n}\r\n\r\n.table-cell {\r\n  display: table-cell;\r\n}\r\n\r\n.container {\r\n  width: 400px;\r\n  height: 300px;\r\n}\r\n\r\n.header {\r\n  background: cyan;\r\n}\r\n\r\n.body {\r\n  background: yellow;\r\n  height: 100%;\r\n}\r\n\r\n.body-content-outer-wrapper {\r\n  height: 100%;\r\n}\r\n\r\n.body-content-inner-wrapper {\r\n  height: 100%;\r\n  position: relative;\r\n  overflow: auto;\r\n}\r\n\r\n.body-content {\r\n  position: absolute;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n}<div class=""table container"">\r\n  <div class=""table-row header"">\r\n    <div>This is the header whose height is unknown</div>\r\n    <div>This is the header whose height is unknown</div>\r\n    <div>This is the header whose height is unknown</div>\r\n  </div>\r\n  <div class=""table-row body"">\r\n    <div class=""table-cell body-content-outer-wrapper"">\r\n      <div class=""body-content-inner-wrapper"">\r\n        <div class=""body-content"">\r\n          <div>This is the scrollable content whose height is unknown</div>\r\n          <div>This is the scrollable content whose height is unknown</div>\r\n          <div>This is the scrollable content whose height is unknown</div>\r\n          <div>This is the scrollable content whose height is unknown</div>\r\n          <div>This is the scrollable content whose height is unknown</div>\r\n          <div>This is the scrollable content whose height is unknown</div>\r\n          <div>This is the scrollable content whose height is unknown</div>\r\n          <div>This is the scrollable content whose height is unknown</div>\r\n          <div>This is the scrollable content whose height is unknown</div>\r\n          <div>This is the scrollable content whose height is unknown</div>\r\n          <div>This is the scrollable content whose height is unknown</div>\r\n          <div>This is the scrollable content whose height is unknown</div>\r\n          <div>This is the scrollable content whose height is unknown</div>\r\n          <div>This is the scrollable content whose height is unknown</div>\r\n          <div>This is the scrollable content whose height is unknown</div>\r\n          <div>This is the scrollable content whose height is unknown</div>\r\n          <div>This is the scrollable content whose height is unknown</div>\r\n          <div>This is the scrollable content whose height is unknown</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>Original source: Filling the Remaining Height of a Container While Handling Overflow in CSSJSFiddle live previewShareImprove this answerFolloweditedFeb 5, 2020 at 18:01Aleksandr Belugin2,21711 gold badge1515 silver badges2020 bronze badgesansweredFeb 20, 2015 at 17:12John KurlakJohn Kurlak6,65077 gold badges4444 silver badges5959 bronze badges\n\nCSS3 Simple Wayheight: calc(100% - 10px); // 10px is height of your first div...all major browsers these days support it, so go ahead if you don\'t have requirement to support vintage browsers.ShareImprove this answerFolloweditedMar 11, 2018 at 16:13answeredAug 24, 2015 at 12:57dev.meghrajdev.meghraj8,96055 gold badges3939 silver badges7676 bronze badges\n\nDisclaimer: The accepted answer gives the idea of the solution, but I\'m finding it a bit bloated with an unnecessary wrapper and css rules. Below is a solution with very few css rules.HTML 5<body>\n    <header>Header with an arbitrary height</header>\n    <main>\n        This container will grow so as to take the remaining height\n    </main>\n</body>CSSbody {\n  display: flex;\n  flex-direction: column;\n  min-height: 100vh;       /* body takes whole viewport\'s height */\n}\n\nmain {\n  flex: 1;                 /* this will make the container take the free space */\n}Solution above usesviewport unitsandflexbox, and is therefore IE10+, providing you use the old syntax for IE10.Codepen to play with:link to codepenOr this one, for those needing the main container to be scrollable in case of overflowing content:link to codepenShareImprove this answerFollowansweredJan 3, 2016 at 17:16MichelMichel27.8k66 gold badges6565 silver badges7070 bronze badges\n\nIt could be done purely byCSSusingvh:#page {\n    display:block; \n    width:100%; \n    height:95vh !important; \n    overflow:hidden;\n}\n\n#tdcontent {\n    float:left; \n    width:100%; \n    display:block;\n}\n\n#content {      \n    float:left; \n    width:100%; \n    height:100%; \n    display:block; \n    overflow:scroll;\n}and theHTML<div id=""page"">\n\n   <div id=""tdcontent""></div>\n   <div id=""content""></div>\n\n</div>I checked it, It works in all major browsers:Chrome,IE, andFireFoxShareImprove this answerFolloweditedJul 21, 2019 at 13:29Ajithraj52855 silver badges1515 bronze badgesansweredSep 14, 2014 at 21:09OrmozOrmoz2,9831010 gold badges3636 silver badges5050 bronze badges\n\nI\'ve been searching for an answer for this as well. If you are fortunate enough to be able to target IE8 and up, you can usedisplay:tableand related values to get the rendering rules of tables with block-level elements including div.If you are even luckier and your users are using top-tier browsers (for example, if this is an intranet app on computers you control, like my latest project is), you can use the newFlexible Box Layoutin CSS3!ShareImprove this answerFolloweditedDec 26, 2017 at 19:20TylerH21.1k7272 gold badges7878 silver badges105105 bronze badgesansweredApr 11, 2011 at 15:48ChristopherChristopher10.6k1313 gold badges7676 silver badges9797 bronze badges\n\nIn Bootstrap:CSS Styles:html, body {\n    height: 100%;\n}1) Just fill the height of the remaining screen space:<body class=""d-flex flex-column"">\n  <div class=""d-flex flex-column flex-grow-1"">\n\n    <header>Header</header>\n    <div>Content</div>\n    <footer class=""mt-auto"">Footer</footer>\n\n  </div>\n</body>2) fill the height of the remaining screen space and aligning content to the middle of the parent element:<body class=""d-flex flex-column"">\n  <div class=""d-flex flex-column flex-grow-1"">\n\n    <header>Header</header>\n    <div class=""d-flex flex-column flex-grow-1 justify-content-center"">Content</div>\n    <footer class=""mt-auto"">Footer</footer>\n\n  </div>\n</body>ShareImprove this answerFolloweditedMay 22, 2021 at 18:30answeredFeb 25, 2020 at 21:16gadolfgadolf1,0591111 silver badges1919 bronze badges\n\nIf you can deal with not supporting old browsers (that is, MSIE 9 or older), you can do this withFlexible Box Layout Modulewhich is already W3C CR. That module allows other nice tricks, too, such as re-ordering content.Unfortunately, MSIE 9 or lesser do not support this and you have to use vendor prefix for the CSS property for every browser other than Firefox. Hopefully other vendors drop the prefix soon, too.An another choice would beCSS Grid Layoutbut that has even less support from stable versions of browsers. In practice, only MSIE 10 supports this.Update year 2020: All modern browsers support bothdisplay: flexanddisplay: grid. The only one missing is support forsubgridwhich in only supported by Firefox. Note that MSIE does not support either by the spec but if you\'re willing to add MSIE specific CSS hacks, it can be made to behave. I would suggest simply ignoring MSIE because even Microsoft says it should not be used anymore. Microsoft Edge supports these features just fine (except for subgrid support since is shares the Blink rendering engine with Chrome).Example usingdisplay: grid:html, body\n{\n  min-height: 100vh;\n  padding: 0;\n  margin: 0;\n}\n\nbody\n{\n  display: grid;\n  grid:\n    ""myheader"" auto\n    ""mymain"" minmax(0,1fr)\n    ""myfooter"" auto /\n    minmax(10rem, 90rem);\n}\n\nheader\n{\n  grid-area: myheader;\n  background: yellow;\n}\n\nmain\n{\n  grid-area: mymain;\n  background: pink;\n  align-self: center\n    /* or stretch\n      + display: flex;\n      + flex-direction: column;\n      + justify-content: center; */\n}\n\nfooter\n{\n  grid-area: myfooter;\n  background: cyan;\n}<header>Header content</header>\n<main>Main content which should be centered and the content length may change.\n<details><summary>Collapsible content</summary>\n<p>Here\'s some text to cause more vertical space to be used.</p>\n<p>Here\'s some text to cause more vertical space to be used (2).</p>\n<p>Here\'s some text to cause more vertical space to be used (3).</p>\n<p>Here\'s some text to cause more vertical space to be used (4).</p>\n<p>Here\'s some text to cause more vertical space to be used (5).</p>\n</details>\n</main>\n<footer>Footer content</footer>Example usingdisplay: flex:html, body\n{\n  min-height: 100vh;\n  padding: 0;\n  margin: 0;\n}\n\nbody\n{\n  display: flex; \n}\n\nmain\n{\n  background: pink;\n  align-self: center;\n}<main>Main content which should be centered and the content length may change.\n<details><summary>Collapsible content</summary>\n<p>Here\'s some text to cause more vertical space to be used.</p>\n<p>Here\'s some text to cause more vertical space to be used (2).</p>\n<p>Here\'s some text to cause more vertical space to be used (3).</p>\n<p>Here\'s some text to cause more vertical space to be used (4).</p>\n<p>Here\'s some text to cause more vertical space to be used (5).</p>\n</details>\n</main>ShareImprove this answerFolloweditedNov 17, 2021 at 12:39answeredMay 3, 2013 at 10:55Mikko RantalainenMikko Rantalainen15.3k1111 gold badges7878 silver badges123123 bronze badges\n\nWhat worked for me (with a div within another div and I assume in all other circumstances) is to set the bottom padding to 100%. That is, add this to your css / stylesheet:padding-bottom: 100%;ShareImprove this answerFolloweditedOct 31, 2013 at 10:28Joran Den Houting3,16944 gold badges2222 silver badges5151 bronze badgesansweredOct 17, 2011 at 14:00Tonye - True Vine ProductionsTonye - True Vine Productions34133 silver badges22 bronze badges\n\nThere\'s a ton of answers now, but I found usingheight: 100vh;to work on the div element that needs to fill up the entire vertical space available.In this way, I do not need to play around with display or positioning. This came in handy when using Bootstrap to make a dashboard wherein I had a sidebar and a main. I wanted the main to stretch and fill the entire vertical space so that I could apply a background colour.div {\n    height: 100vh;\n}Supports IE9 and up:click to see the linkShareImprove this answerFolloweditedFeb 19, 2019 at 17:28answeredOct 30, 2015 at 15:39puiupuiu72699 silver badges1818 bronze badges\n\n<!DOCTYPE html PUBLIC ""-//W3C//DTD XHTML 1.0 Transitional//EN"" ""http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"">\n<html xmlns=""http://www.w3.org/1999/xhtml"">\n<head>\n<title>Test</title>\n<style type=""text/css"">\nbody\n,html\n{\n    height: 100%;\n    margin: 0;\n    padding: 0;\n    color: #FFF;\n}\n\n#header\n{\n    float: left;\n    width: 100%;\n    background: red;\n}\n\n#content\n{\n    height: 100%;\n    overflow: auto;\n    background: blue;\n}\n\n</style>\n</head>\n<body>\n\n    <div id=""content"">\n        <div id=""header"">\n                Header\n                <p>Header stuff</p>\n        </div>\n            Content\n            <p>Content stuff</p>\n    </div>\n\n</body>\n</html>In all sane browsers, you can put the ""header"" div before the content, as a sibling, and the same CSS will work.  However, IE7- does not interpret the height correctly if the float is 100% in that case, so the header needs to be IN the content, as above.  The overflow: auto will cause double scroll bars on IE (which always has the viewport scrollbar visible, but disabled), but without it, the content will clip if it overflows.ShareImprove this answerFollowansweredSep 18, 2008 at 6:01JerphJerph4,58244 gold badges4242 silver badges4141 bronze badges\n\nCSS Grid SolutionJust defining thebodywithdisplay:gridand thegrid-template-rowsusingautoand thefrvalue property.* {\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n\r\nhtml {\r\n  height: 100%;\r\n}\r\n\r\nbody {\r\n  min-height: 100%;\r\n  display: grid;\r\n  grid-template-rows: auto 1fr auto;\r\n}\r\n\r\nheader {\r\n  padding: 1em;\r\n  background: pink;\r\n}\r\n\r\nmain {\r\n  padding: 1em;\r\n  background: lightblue;\r\n}\r\n\r\nfooter {\r\n  padding: 2em;\r\n  background: lightgreen;\r\n}\r\n\r\nmain:hover {\r\n  height: 2000px;\r\n  /* demos expansion of center element */\r\n}<header>HEADER</header>\r\n<main>MAIN</main>\r\n<footer>FOOTER</footer>A Complete Guide to Grids @ CSS-Tricks.comShareImprove this answerFollowansweredJul 4, 2017 at 14:27Paulie_DPaulie_D113k1313 gold badges148148 silver badges173173 bronze badges\n\nThis is my own minimal version of Pebbl\'s solution. Took forever to find the trick to get it to work in IE11. (Also tested in Chrome, Firefox, Edge, and Safari.)html {\n  height: 100%;\n}\n\nbody {\n  height: 100%;\n  margin: 0;\n}\n\nsection {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\n\ndiv:first-child {\n  background: gold;\n}\n\ndiv:last-child {\n  background: plum;\n  flex-grow: 1;\n}<body>\n  <section>\n    <div>FIT</div>\n    <div>GROW</div>\n  </section>\n</body>ShareImprove this answerFolloweditedFeb 12, 2021 at 10:13demo6,1861919 gold badges8181 silver badges156156 bronze badgesansweredApr 14, 2020 at 21:12Michael SchadeMichael Schade41822 gold badges55 silver badges1515 bronze badges\n\nI wresteled with this for a while and ended up with the following:Since it is easy to make the content DIV the same height as the parent but apparently difficult to make it the parent height minus the header height I decided to make content div full height but position it absolutely in the top left corner and then define a padding for the top which has the height of the header. This way the content displays neatly under the header and fills the whole remaining space:body {\n    padding: 0;\n    margin: 0;\n    height: 100%;\n    overflow: hidden;\n}\n\n#header {\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 50px;\n}\n\n#content {\n    position: absolute;\n    top: 0;\n    left: 0;\n    padding-top: 50px;\n    height: 100%;\n}ShareImprove this answerFolloweditedOct 31, 2013 at 10:39Joran Den Houting3,16944 gold badges2222 silver badges5151 bronze badgesansweredJun 20, 2011 at 9:36B_GB_G14711 silver badge22 bronze badges\n\nWhy not just like this?html, body {\n    height: 100%;\n}\n\n#containerInput {\n    background-image: url(\'../img/edit_bg.jpg\');\n    height: 40%;\n}\n\n#containerControl {\n    background-image: url(\'../img/control_bg.jpg\');\n    height: 60%;\n}Giving you html and body (in that order) a height and then just give your elements a height?Works for meShareImprove this answerFolloweditedOct 22, 2013 at 0:05Josh Crozier239k5656 gold badges399399 silver badges311311 bronze badgesansweredFeb 20, 2012 at 9:21ThaomsThaoms12911 silver badge33 bronze badges\n\nTry this way:.container {\n    height: 100vh;\n    display: flex;\n    flex-direction: column;\n}\n\n.first-div {\n     height: 20vh; // this height can be any length\n}\n\n.second-div {\n     flex: 1; // fills up the remaining space on the screen\n}<div class=\'container\'>\n    <div class=\'first-div\'>\n        ...\n    </div>\n    <div class=\'second-div\'>\n        ...\n    </div>\n</div>ShareImprove this answerFolloweditedNov 29, 2023 at 23:33Jan Schultke36k88 gold badges8080 silver badges153153 bronze badgesansweredFeb 12, 2023 at 23:06Timileyin OluwayomiTimileyin Oluwayomi34722 silver badges88 bronze badges\n\nstyle=""height:100vh""solved the problem for me. In my case I applied this to the required divShareImprove this answerFollowansweredMar 23, 2018 at 10:43Zohab AliZohab Ali9,22455 gold badges6161 silver badges7070 bronze badges\n\nYou can actually usedisplay: tableto split the area into two elements (header and content), where the header can vary in height and the content fills the remaining space. This works with the whole page, as well as when the area is simply the content of another element positioned withpositionset torelative,absoluteorfixed. It will work as long as the parent element has a non-zero height.See this fiddleand also the code below:CSS:body, html {\n    height: 100%;\n    margin: 0;\n    padding: 0;\n}\n\np {\n    margin: 0;\n    padding: 0;\n}\n\n.additional-padding {\n    height: 50px;\n    background-color: #DE9;\n}\n\n.as-table {\n    display: table;\n    height: 100%;\n    width: 100%;\n}\n\n.as-table-row {\n    display: table-row;\n    height: 100%;\n}\n\n#content {\n    width: 100%;\n    height: 100%;\n    background-color: #33DD44;\n}HTML:<div class=""as-table"">\n    <div id=""header"">\n        <p>This header can vary in height, it also doesn\'t have to be displayed as table-row. It will simply take the necessary space and the rest below will be taken by the second div which is displayed as table-row. Now adding some copy to artificially expand the header.</p>\n        <div class=""additional-padding""></div>\n    </div>\n    <div class=""as-table-row"">\n        <div id=""content"">\n            <p>This is the actual content that takes the rest of the available space.</p>\n        </div>\n    </div>\n</div>ShareImprove this answerFolloweditedAug 1, 2013 at 14:47Hemerson Varela25.2k1818 gold badges7171 silver badges6969 bronze badgesansweredJul 5, 2013 at 21:17GregGreg8,22055 gold badges3939 silver badges5454 bronze badges\n\nVincent, I\'ll answer again using your new requirements.  Since you don\'t care about the content being hidden if it\'s too long,  you don\'t need to float the header.  Just put overflow hidden on the html and body tags, and set#contentheight to 100%. The content will always be longer than the viewport by the height of the header, but it\'ll be hidden and won\'t cause scrollbars.<!DOCTYPE html PUBLIC ""-//W3C//DTD XHTML 1.0 Transitional//EN""     ""http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"">\n<html xmlns=""http://www.w3.org/1999/xhtml"">\n  <head>\n    <title>Test</title>\n    <style type=""text/css"">\n    body, html {\n      height: 100%;\n      margin: 0;\n      padding: 0;\n      overflow: hidden;\n      color: #FFF;\n    }\n    p {\n      margin: 0;\n    }\n\n    #header {\n      background: red;\n    }\n\n    #content {\n      position: relative;\n      height: 100%;\n      background: blue;\n    }\n\n    #content #positioned {\n      position: absolute;\n      top: 0;\n      right: 0;\n    }\n  </style>\n</head>\n\n<body>\n  <div id=""header"">\n    Header\n    <p>Header stuff</p>\n  </div>\n\n  <div id=""content"">\n    Content\n    <p>Content stuff</p>\n    <div id=""positioned"">Positioned Content</div>\n  </div>\n\n</body>\n</html>ShareImprove this answerFolloweditedAug 20, 2014 at 23:11pascalhein5,78644 gold badges3232 silver badges4545 bronze badgesansweredSep 18, 2008 at 17:52JerphJerph4,58244 gold badges4242 silver badges4141 bronze badges\n\nFor mobile app i use only VH and VW<div class=""container"">\n    <div class=""title"">Title</div>\n    <div class=""content"">Content</div>\n    <div class=""footer"">Footer</div>\n</div>.container {\n    width: 100vw;\n    height: 100vh;\n    font-size: 5vh;\n}\n    \n.title {\n    height: 20vh;\n    background-color: red;\n}\n    \n.content {\n    height: 60vh;\n    background: blue;\n}\n    \n.footer {\n    height: 20vh;\n    background: green;\n}Demo -https://jsfiddle.net/u763ck92/ShareImprove this answerFolloweditedSep 29, 2021 at 6:32Saurin Dashadia1,1441111 silver badges2525 bronze badgesansweredFeb 1, 2017 at 15:59grinmaxgrinmax1,85511 gold badge1111 silver badges1313 bronze badges\n\nTry thisvar sizeFooter = function(){\n    $("".webfooter"")\n        .css(""padding-bottom"", ""0px"")\n        .css(""padding-bottom"", $(window).height() - $(""body"").height())\n}\n$(window).resize(sizeFooter);ShareImprove this answerFolloweditedOct 31, 2013 at 10:40Marc Audet46.6k1111 gold badges6666 silver badges8585 bronze badgesansweredApr 27, 2013 at 11:45ArunArun3,07733 gold badges3535 silver badges5858 bronze badges\n\nI had the same problem but I could not make work the solution with flexboxes above. So I created my own template, that includes:a header with a fixed size elementa footera side bar with a scrollbar that occupies the remaining heightcontentI used flexboxes but in a more simple way, using only propertiesdisplay: flexandflex-direction: row|column:I do use angular and I want my component sizes to be 100% of their parent element.The key is to set the size (in percents) for all parents inorder to limit their size. In the following example myapp height has 100% of the viewport.The main component has 90% of the viewport, because header and footer have 5%.I posted my template here:https://jsfiddle.net/abreneliere/mrjh6y2e/3body{\n        margin: 0;\n        color: white;\n        height: 100%;\n    }\n    div#myapp\n    {\n        display: flex;\n        flex-direction: column;\n        background-color: red; /* <-- painful color for your eyes ! */\n        height: 100%; /* <-- if you remove this line, myapp has no limited height */\n    }\n    div#main /* parent div for sidebar and content */\n    {\n        display: flex;\n        width: 100%;\n        height: 90%; \n    }\n    div#header {\n        background-color: #333;\n        height: 5%;\n    }\n    div#footer {\n        background-color: #222;\n        height: 5%;\n    }\n    div#sidebar {\n        background-color: #666;\n        width: 20%;\n        overflow-y: auto;\n     }\n    div#content {\n        background-color: #888;\n        width: 80%;\n        overflow-y: auto;\n    }\n    div.fized_size_element {\n        background-color: #AAA;\n        display: block;\n        width: 100px;\n        height: 50px;\n        margin: 5px;\n    }Html:<body>\n<div id=""myapp"">\n    <div id=""header"">\n        HEADER\n        <div class=""fized_size_element""></div>\n\n    </div>\n    <div id=""main"">\n        <div id=""sidebar"">\n            SIDEBAR\n            <div class=""fized_size_element""></div>\n            <div class=""fized_size_element""></div>\n            <div class=""fized_size_element""></div>\n            <div class=""fized_size_element""></div>\n            <div class=""fized_size_element""></div>\n            <div class=""fized_size_element""></div>\n            <div class=""fized_size_element""></div>\n            <div class=""fized_size_element""></div>\n        </div>\n        <div id=""content"">\n            CONTENT\n        </div>\n    </div>\n    <div id=""footer"">\n        FOOTER\n    </div>\n</div>\n</body>ShareImprove this answerFolloweditedAug 25, 2016 at 16:20answeredAug 25, 2016 at 16:13Anthony BrenelièreAnthony Brenelière62.6k1616 gold badges4747 silver badges5858 bronze badges\n\nSpinning off the idea of Mr. Alien...This seems a cleaner solution than the popular flex box one for CSS3 enabled browsers.Simply use min-height(instead of height) with calc() to the content block.The calc() starts with 100% and subtracts heights of headers and footers (need to include padding values)Using ""min-height"" instead of ""height"" is particularly useful so it can work with javascript rendered content and JS frameworks like Angular2. Otherwise, the calculation will not push the footer to the bottom of the page once the javascript rendered content is visible.Here is a simple example of a header and footer using 50px height and 20px padding for both.Html:<body>\n    <header></header>\n    <div class=""content""></div>\n    <footer></footer>\n</body>Css:.content {\n    min-height: calc(100% - (50px + 20px + 20px + 50px + 20px + 20px));\n}Of course, the math can be simplified but you get the idea...ShareImprove this answerFolloweditedDec 13, 2017 at 11:01Zub82833 gold badges1212 silver badges2323 bronze badgesansweredJul 1, 2016 at 20:53Pat MPat M6,02677 gold badges2525 silver badges3434 bronze badges'}"
